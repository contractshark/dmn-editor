{"version":3,"sources":["ripple.js","tabs.js","layout.js","mdlComponentHandler.js","rAF.js","button.js","checkbox.js","icon-toggle.js","menu.js","progress.js","radio.js","slider.js","snackbar.js","spinner.js","switch.js","textfield.js","tooltip.js","data-table.js","../node_modules/symbol-observable/es/ponyfill.js","../node_modules/symbol-observable/es/index.js","../node_modules/redux/es/redux.js","js/redux/googleaction.js","../node_modules/immutable/dist/immutable.es.js","js/redux/editoractions.js","js/redux/reducer.js","js/redux/store.js","../node_modules/load-google-api/lib/load-google-api.min.js","../node_modules/drive-apps-util/src/driveappsutil.js","js/api/googleservice.js","js/ui/userimage.js","js/ui/fileinfo.js","js/ui/splash.js","../node_modules/min-dash/dist/index.esm.js","../node_modules/diagram-js/lib/core/EventBus.js","../node_modules/moddle/dist/index.esm.js","../node_modules/saxen/dist/index.esm.js","../node_modules/moddle-xml/dist/index.esm.js","../node_modules/dmn-moddle/dist/index.esm.js","../node_modules/camunda-dmn-moddle/resources/camunda.json","../node_modules/min-dom/dist/index.esm.js","../../src/base/Manager.js","../node_modules/hat/index.js","../node_modules/dmn-js-shared/node_modules/ids/index.js","../../src/util/ModelUtil.js","../../src/base/EditingManager.js","../node_modules/inherits/inherits_browser.js","../node_modules/didi/dist/index.esm.js","../node_modules/diagram-js/lib/draw/BaseRenderer.js","../node_modules/tiny-svg/dist/index.esm.js","../node_modules/diagram-js/lib/util/RenderUtil.js","../node_modules/diagram-js/lib/util/Elements.js","../node_modules/diagram-js/lib/draw/DefaultRenderer.js","../node_modules/diagram-js/lib/draw/Styles.js","../node_modules/diagram-js/lib/draw/index.js","../node_modules/diagram-js/lib/util/Collections.js","../node_modules/diagram-js/lib/core/Canvas.js","../node_modules/diagram-js/lib/core/ElementRegistry.js","../node_modules/object-refs/lib/collection.js","../node_modules/object-refs/lib/refs.js","../node_modules/object-refs/index.js","../node_modules/diagram-js/lib/model/index.js","../node_modules/diagram-js/lib/core/ElementFactory.js","../node_modules/diagram-js/lib/util/GraphicsUtil.js","../node_modules/diagram-js/lib/util/SvgTransformUtil.js","../node_modules/diagram-js/node_modules/min-dom/dist/index.esm.js","../node_modules/diagram-js/lib/core/GraphicsFactory.js","../node_modules/diagram-js/lib/core/index.js","../node_modules/diagram-js/lib/Diagram.js","../node_modules/diagram-js/index.js","../../src/import/DrdTreeWalker.js","../../src/import/Importer.js","../../src/draw/DrdRenderer.js","../node_modules/diagram-js/lib/util/Text.js","../../src/draw/TextRenderer.js","../../src/draw/PathMap.js","../../src/draw/index.js","../../src/import/DrdImporter.js","../../src/import/index.js","../../src/core/index.js","../node_modules/diagram-js/lib/i18n/translate/translate.js","../node_modules/diagram-js/lib/i18n/translate/index.js","../node_modules/diagram-js/lib/util/Event.js","../node_modules/diagram-js/lib/util/Platform.js","../node_modules/diagram-js/lib/util/Mouse.js","../node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js","../node_modules/diagram-js/lib/features/interaction-events/index.js","../node_modules/diagram-js/lib/features/outline/Outline.js","../node_modules/diagram-js/lib/features/outline/index.js","../node_modules/diagram-js/lib/features/selection/Selection.js","../node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","../node_modules/diagram-js/lib/features/selection/SelectionBehavior.js","../node_modules/diagram-js/lib/features/selection/index.js","../node_modules/diagram-js/lib/util/IdGenerator.js","../node_modules/diagram-js/lib/features/overlays/Overlays.js","../node_modules/diagram-js/lib/features/overlays/index.js","../../../src/features/definition-properties/DefinitionPropertiesView.js","../../../src/features/definition-properties/PaletteAdapter.js","../../../src/features/definition-properties/viewer.js","../../../src/features/drill-down/DrillDown.js","../../../src/features/drill-down/index.js","../../src/util/PoweredByUtil.js","../src/Viewer.js","../node_modules/diagram-js/lib/util/PositionUtil.js","../node_modules/diagram-js/lib/util/Math.js","../node_modules/diagram-js/lib/navigation/zoomscroll/ZoomUtil.js","../node_modules/diagram-js/lib/navigation/zoomscroll/ZoomScroll.js","../node_modules/diagram-js/lib/navigation/zoomscroll/index.js","../node_modules/diagram-js/lib/util/Cursor.js","../node_modules/diagram-js/lib/util/ClickTrap.js","../node_modules/diagram-js/lib/navigation/movecanvas/MoveCanvas.js","../node_modules/diagram-js/lib/navigation/movecanvas/index.js","../node_modules/hammerjs/hammer.js","../node_modules/diagram-js/lib/features/touch/TouchInteractionEvents.js","../node_modules/diagram-js/lib/features/touch/TouchFix.js","../node_modules/diagram-js/lib/features/touch/index.js","../node_modules/diagram-js/lib/navigation/touch/index.js","../src/NavigatedViewer.js","../node_modules/diagram-js/lib/features/align-elements/AlignElements.js","../node_modules/diagram-js/lib/features/align-elements/index.js","../node_modules/diagram-js/lib/util/Geometry.js","../node_modules/path-intersection/intersect.js","../node_modules/diagram-js/lib/layout/LayoutUtil.js","../node_modules/diagram-js/lib/features/auto-place/AutoPlaceUtil.js","../node_modules/diagram-js/lib/features/auto-place/AutoPlace.js","../node_modules/diagram-js/lib/features/auto-place/AutoPlaceSelectionBehavior.js","../node_modules/diagram-js/lib/features/auto-place/index.js","../../../src/features/modeling/ElementFactory.js","../../../src/features/auto-place/DmnAutoPlaceUtil.js","../../../src/features/auto-place/DmnAutoPlace.js","../../../src/features/auto-place/index.js","../node_modules/diagram-js/lib/features/dragging/Dragging.js","../node_modules/diagram-js/lib/features/dragging/HoverFix.js","../node_modules/diagram-js/lib/features/dragging/index.js","../node_modules/diagram-js/lib/features/auto-scroll/AutoScroll.js","../node_modules/diagram-js/lib/features/auto-scroll/index.js","../node_modules/diagram-js/lib/features/rules/Rules.js","../node_modules/diagram-js/lib/features/rules/index.js","../node_modules/diagram-js/lib/util/LineIntersection.js","../node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js","../node_modules/css.escape/css.escape.js","../node_modules/diagram-js/lib/util/EscapeUtil.js","../node_modules/diagram-js/lib/features/bendpoints/Bendpoints.js","../node_modules/diagram-js/lib/features/bendpoints/BendpointMove.js","../node_modules/diagram-js/lib/features/bendpoints/BendpointMovePreview.js","../node_modules/diagram-js/lib/features/bendpoints/ConnectionSegmentMove.js","../node_modules/diagram-js/lib/features/snapping/SnapUtil.js","../node_modules/diagram-js/lib/features/bendpoints/BendpointSnapping.js","../node_modules/diagram-js/lib/features/bendpoints/index.js","../node_modules/diagram-js/lib/features/context-pad/ContextPad.js","../node_modules/diagram-js/lib/features/context-pad/index.js","../node_modules/diagram-js/lib/features/connect/Connect.js","../node_modules/diagram-js/lib/features/connect/ConnectPreview.js","../node_modules/diagram-js/lib/features/connect/index.js","../node_modules/diagram-js/lib/features/preview-support/PreviewSupport.js","../node_modules/diagram-js/lib/features/preview-support/index.js","../node_modules/diagram-js/lib/features/create/Create.js","../node_modules/diagram-js/lib/features/create/CreatePreview.js","../node_modules/diagram-js/lib/features/create/index.js","../node_modules/diagram-js/lib/features/popup-menu/PopupMenu.js","../node_modules/diagram-js/lib/features/popup-menu/index.js","../node_modules/diagram-js/lib/features/replace/Replace.js","../node_modules/diagram-js/lib/features/replace/index.js","../../../src/features/replace/DrdReplace.js","../../../src/features/replace/index.js","../../../src/features/replace/ReplaceOptions.js","../../../src/features/popup-menu/ReplaceMenuProvider.js","../../../src/features/popup-menu/index.js","../../../src/features/context-pad/ContextPadProvider.js","../../../src/features/context-pad/index.js","../node_modules/diagram-js/lib/features/connection-preview/ConnectionPreview.js","../node_modules/diagram-js/lib/features/connection-preview/index.js","../../../src/features/definition-properties/DefinitionPropertiesEdit.js","../../../src/features/definition-properties/modeler.js","../node_modules/diagram-js/lib/features/distribute-elements/DistributeElements.js","../node_modules/diagram-js/lib/features/distribute-elements/index.js","../../../src/features/distribute-elements/DrdDistributeElements.js","../../../src/features/distribute-elements/index.js","../node_modules/diagram-js/lib/features/editor-actions/EditorActions.js","../node_modules/diagram-js/lib/features/editor-actions/index.js","../../../src/features/editor-actions/DrdEditorActions.js","../../../src/features/editor-actions/index.js","../../src/util/DiUtil.js","../../../src/features/generate-di/DiGenerator.js","../../../src/features/generate-di/index.js","../node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js","../node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js","../node_modules/diagram-js/lib/features/grid-snapping/GridSnapping.js","../node_modules/diagram-js/lib/command/CommandInterceptor.js","../node_modules/diagram-js/lib/features/grid-snapping/behavior/ResizeBehavior.js","../node_modules/diagram-js/lib/features/grid-snapping/behavior/SpaceToolBehavior.js","../node_modules/diagram-js/lib/features/grid-snapping/behavior/index.js","../node_modules/diagram-js/lib/features/grid-snapping/index.js","../node_modules/diagram-js/lib/features/keyboard/Keyboard.js","../node_modules/diagram-js/lib/features/keyboard/KeyboardBindings.js","../node_modules/diagram-js/lib/features/keyboard/index.js","../../../src/features/keyboard/DrdKeyboardBindings.js","../../../src/features/keyboard/index.js","../node_modules/diagram-js/lib/navigation/keyboard-move/KeyboardMove.js","../node_modules/diagram-js/lib/navigation/keyboard-move/index.js","../node_modules/diagram-js/lib/features/keyboard-move-selection/KeyboardMoveSelection.js","../node_modules/diagram-js/lib/features/keyboard-move-selection/index.js","../node_modules/diagram-js/lib/command/CommandStack.js","../node_modules/diagram-js/lib/command/index.js","../node_modules/diagram-js/lib/features/change-support/ChangeSupport.js","../node_modules/diagram-js/lib/features/change-support/index.js","../node_modules/diagram-js-direct-editing/lib/TextBox.js","../node_modules/diagram-js-direct-editing/lib/DirectEditing.js","../node_modules/diagram-js-direct-editing/index.js","../../../src/features/label-editing/LabelUtil.js","../../../src/features/label-editing/LabelEditingProvider.js","../../../src/features/label-editing/index.js","../../../../src/features/modeling/behavior/CreateConnectionBehavior.js","../../../../src/features/modeling/behavior/LayoutConnectionBehavior.js","../../../../src/features/modeling/behavior/ReplaceConnectionBehavior.js","../../../../src/features/modeling/behavior/ReplaceElementBehavior.js","../../../../src/features/modeling/behavior/IdChangeBehavior.js","../../../../src/features/modeling/behavior/index.js","../node_modules/diagram-js/lib/features/rules/RuleProvider.js","../../../src/features/rules/DrdRules.js","../../../src/features/rules/index.js","../../../src/features/modeling/DrdFactory.js","../../../src/features/modeling/DrdUpdater.js","../node_modules/diagram-js/lib/features/modeling/cmd/AlignElementsHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/AppendShapeHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/CreateConnectionHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/CreateElementsHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/CreateShapeHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/CreateLabelHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/DeleteConnectionHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/DeleteElementsHandler.js","../node_modules/diagram-js/lib/util/Removal.js","../node_modules/diagram-js/lib/features/modeling/cmd/DeleteShapeHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/DistributeElementsHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/LayoutConnectionHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/MoveConnectionHandler.js","../node_modules/diagram-js/lib/util/AttachUtil.js","../node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js","../node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveClosure.js","../node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveHelper.js","../node_modules/diagram-js/lib/features/modeling/cmd/MoveElementsHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/MoveShapeHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/ReconnectConnectionHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/ReplaceShapeHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/ResizeShapeHandler.js","../node_modules/diagram-js/lib/features/space-tool/SpaceUtil.js","../node_modules/diagram-js/lib/features/modeling/cmd/SpaceToolHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/UpdateWaypointsHandler.js","../node_modules/diagram-js/lib/features/modeling/Modeling.js","../../../../src/features/modeling/cmd/IdClaimHandler.js","../../../../src/features/label-editing/cmd/UpdateLabelHandler.js","../../../../src/features/modeling/cmd/UpdatePropertiesHandler.js","../../../src/features/modeling/Modeling.js","../node_modules/diagram-js/lib/layout/BaseLayouter.js","../../../src/features/modeling/DrdLayouter.js","../node_modules/diagram-js/lib/layout/CroppingConnectionDocking.js","../../../src/features/modeling/index.js","../node_modules/diagram-js/lib/features/move/Move.js","../node_modules/diagram-js/lib/features/move/MovePreview.js","../node_modules/diagram-js/lib/features/move/index.js","../node_modules/diagram-js/lib/features/palette/Palette.js","../node_modules/diagram-js/lib/features/palette/index.js","../node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","../node_modules/diagram-js/lib/features/tool-manager/index.js","../node_modules/diagram-js/lib/features/lasso-tool/LassoTool.js","../node_modules/diagram-js/lib/features/lasso-tool/index.js","../../../src/features/palette/PaletteProvider.js","../../../src/features/palette/index.js","../node_modules/diagram-js/lib/features/resize/ResizeUtil.js","../node_modules/diagram-js/lib/features/resize/Resize.js","../node_modules/diagram-js/lib/features/resize/ResizePreview.js","../node_modules/diagram-js/lib/features/resize/ResizeHandles.js","../node_modules/diagram-js/lib/features/resize/index.js","../../../src/features/snapping/DrdBendpointSnapping.js","../../../src/features/snapping/DrdConnectSnapping.js","../node_modules/diagram-js/lib/features/snapping/SnapContext.js","../node_modules/diagram-js/lib/features/snapping/CreateMoveSnapping.js","../node_modules/diagram-js/lib/features/snapping/ResizeSnapping.js","../node_modules/diagram-js/lib/features/snapping/Snapping.js","../node_modules/diagram-js/lib/features/snapping/index.js","../../../src/features/snapping/index.js","../src/Modeler.js","../../src/model/index.js","../../src/core/ElementFactory.js","../../src/core/ElementRegistry.js","../../src/render/ChangeSupport.js","../../src/render/Components.js","../node_modules/inferno/dist/index.esm.js","../node_modules/inferno/index.esm.js","../../../src/render/components/TableComponent.js","../../src/render/Renderer.js","../../src/render/index.js","../../src/core/Sheet.js","../src/Table.js","../src/index.js","../../src/import/Util.js","../../src/import/TableTreeWalker.js","../../../src/components/utils/classNames.js","../../../src/components/utils/inject.js","../../../src/components/utils/compose.js","../../../src/components/utils/mixin.js","../../../src/components/utils/index.js","../../../src/components/mixins/SelectionAware.js","../../../src/components/mixins/index.js","../../src/components/BaseCell.js","../../src/components/Cell.js","../../src/components/DiContainer.js","../../src/components/HeaderCell.js","../../src/components/index.js","../../../src/components/mixins/ComponentWithSlots.js","../../../../src/features/annotations/components/AnnotationHeader.js","../../../../src/features/annotations/components/AnnotationCell.js","../../../src/features/annotations/AnnotationsProvider.js","../../../src/features/annotations/index.js","../../src/import/TableImporter.js","../../../../src/features/decision-table-head/components/DecisionTableHead.js","../../../src/features/decision-table-head/DecisionTableHeadProvider.js","../../../src/features/decision-table-head/index.js","../../../../src/features/decision-table-properties/components/DecisionTablePropertiesComponent.js","../../../src/features/decision-table-properties/DecisionTableProperties.js","../../../src/features/decision-table-properties/index.js","../../../../src/features/decision-rule-indices/components/DecisionRuleIndexCellComponent.js","../../../src/features/decision-rule-indices/DecisionRuleIndices.js","../../../src/features/decision-rule-indices/index.js","../../../src/features/expression-languages/ExpressionLanguages.js","../../../src/features/expression-languages/index.js","../../../../src/features/decision-rules/components/DecisionRulesBodyComponent.js","../../../../src/features/decision-rules/components/DecisionRulesRowComponent.js","../../../../src/features/decision-rules/components/DecisionRulesCellComponent.js","../../../src/features/decision-rules/DecisionRules.js","../../../src/features/decision-rules/index.js","../../../src/features/hit-policy/HitPolicies.js","../../../../src/features/hit-policy/components/HitPolicy.js","../../../src/features/hit-policy/HitPolicyProvider.js","../../../src/features/hit-policy/index.js","../../../../src/features/view-drd/components/ViewDrdComponent.js","../../../src/features/view-drd/ViewDrd.js","../../../src/features/view-drd/index.js","../../src/components/Logo.js","../../../../src/features/powered-by/components/PoweredByLogoComponent.js","../../../../src/features/powered-by/components/PoweredByOverlayComponent.js","../../../src/features/powered-by/PoweredBy.js","../../../src/features/powered-by/index.js","../../../../src/features/add-rule/components/AddRuleFootComponent.js","../../../src/features/add-rule/AddRule.js","../../../src/features/selection/Selection.js","../../../src/features/selection/SelectionBehavior.js","../../../src/features/selection/index.js","../../../src/features/interaction-events/InteractionEvents.js","../../../src/features/interaction-events/index.js","../node_modules/selection-ranges/dist/index.esm.js","../../../src/features/cell-selection/CellSelectionUtil.js","../../../src/features/cell-selection/CellSelection.js","../../../src/features/cell-selection/index.js","../node_modules/diagram-js/lib/features/clipboard/Clipboard.js","../node_modules/diagram-js/lib/features/clipboard/index.js","../../../src/features/rules/DecisionTableModelingRules.js","../../../../src/features/copy-cut-paste/cmd/CutHandler.js","../../../src/features/copy-cut-paste/DescriptorUtil.js","../../../../src/features/copy-cut-paste/cmd/PasteHandler.js","../../../src/features/copy-cut-paste/CopyCutPaste.js","../../../src/features/copy-cut-paste/index.js","../../../src/features/editor-actions/DecisionTableEditorActions.js","../../../src/features/editor-actions/EditorActions.js","../../../src/features/add-rule/index.js","../node_modules/escape-html/index.js","../node_modules/selection-update/index.js","../../src/components/ContentEditable.js","../../src/components/EditableComponent.js","../../../../../src/features/annotations/editor/components/AnnotationCell.js","../../../../src/features/annotations/editor/AnnotationsEditingProvider.js","../../../src/features/debounce-input/debounceInput.js","../../../src/features/debounce-input/index.js","../../../../src/features/annotations/editor/index.js","../../../../src/features/context-menu/components/ContextMenuComponent.js","../../../src/features/context-menu/ContextMenu.js","../../../src/features/context-menu/index.js","../../../src/features/keyboard/KeyboardUtil.js","../../../../src/features/copy-cut-paste/key-bindings/CopyCutPasteKeyBindings.js","../../../../src/features/copy-cut-paste/key-bindings/index.js","../../../../src/features/create-inputs/components/CreateInputHeaderCell.js","../../../../src/features/create-inputs/components/CreateInputCell.js","../../../src/features/create-inputs/CreateInputsProvider.js","../../../src/features/create-inputs/index.js","../../../src/features/context-menu/ContextMenuCloseBehavior.js","../../../../../src/features/decision-table-head/editor/components/OutputCell.js","../../src/components/Input.js","../../../../../src/features/decision-table-head/editor/components/OutputEditor.js","../../../../../src/features/decision-table-head/editor/components/OutputCellContextMenu.js","../../../../src/features/decision-table-head/editor/OutputEditingProvider.js","../../../../../src/features/decision-table-head/editor/components/InputCell.js","../../src/components/InputSelect.js","../../../../../src/features/decision-table-head/editor/components/InputEditor.js","../../../../../src/features/decision-table-head/editor/components/InputCellContextMenu.js","../../../../src/features/decision-table-head/editor/InputEditingProvider.js","../../../../src/features/type-ref/components/TypeRefCellContextMenu.js","../../../src/features/type-ref/TypeRefEditingProvider.js","../../../src/features/type-ref/index.js","../../../../src/features/allowed-values/behavior/AllowedValuesUpdateBehavior.js","../../src/components/List.js","../../src/components/ValidatedInput.js","../../../src/features/allowed-values/Utils.js","../../../../src/features/allowed-values/components/AllowedValuesEditing.js","../../../src/features/allowed-values/AllowedValuesEditingProvider.js","../../../src/features/allowed-values/index.js","../../../../src/features/add-input-output/components/AddInput.js","../../../../src/features/add-input-output/components/AddOutput.js","../../../src/features/add-input-output/AddInputOutputProvider.js","../../../src/features/add-input-output/index.js","../../../src/features/keyboard/Keyboard.js","../../../../src/features/decision-table-head/editor/index.js","../../../src/features/drag-and-drop/DragAndDrop.js","../../../src/features/drag-and-drop/index.js","../../../../src/features/description/components/DescriptionEditor.js","../../../src/features/description/Description.js","../../../src/features/description/index.js","../../../src/features/expression-language/ExpressionLanguage.js","../../../src/features/expression-language/index.js","../../../../src/features/decision-table-properties/components/DecisionTablePropertiesEditorComponent.js","../../../src/features/decision-table-properties/DecisionTablePropertiesEditor.js","../../../src/features/decision-table-properties/editor.js","../../../../../src/features/hit-policy/editor/components/EditableHitPolicy.js","../../../../src/features/hit-policy/editor/HitPolicyEditingProvider.js","../../../../src/features/hit-policy/editor/index.js","../../src/command/index.js","../../../src/features/modeling/DmnUpdater.js","../../../src/features/modeling/DmnFactory.js","../../../../src/features/modeling/cmd/AddRowHandler.js","../../../../src/features/modeling/cmd/RemoveRowHandler.js","../../../../src/features/modeling/cmd/MoveRowHandler.js","../../../../src/features/modeling/cmd/AddColHandler.js","../../../../src/features/modeling/cmd/RemoveColHandler.js","../../../../src/features/modeling/cmd/MoveColHandler.js","../../../../src/features/modeling/cmd/EditCellHandler.js","../../../../src/features/modeling/cmd/UpdateAllowedValuesHandler.js","../../../../src/features/modeling/behavior/IdClaimBehavior.js","../../../../src/features/modeling/behavior/IdUnclaimBehavior.js","../../../../src/features/decision-rules/components/DecisionRulesCellEditorComponent.js","../../../src/features/decision-rules/DecisionRulesEditor.js","../../../src/features/decision-rules/editor.js","../../../../src/features/simple-mode/components/SimpleModeButtonComponent.js","../../../src/features/simple-mode/SimpleMode.js","../../../src/features/simple-mode/index.js","../../../src/features/simple-boolean-edit/Utils.js","../../../../src/features/simple-boolean-edit/components/BooleanEdit.js","../../../src/features/simple-boolean-edit/SimpleBooleanEdit.js","../../../src/features/simple-boolean-edit/index.js","../../../src/features/simple-date-edit/Utils.js","../../../../src/features/simple-date-edit/components/InputDateEdit.js","../../../../src/features/simple-date-edit/components/OutputDateEdit.js","../../../src/features/simple-date-edit/SimpleDateEdit.js","../../../src/features/simple-date-edit/index.js","../../../src/features/simple-number-edit/Utils.js","../../../../src/features/simple-number-edit/components/InputNumberEdit.js","../../../../src/features/simple-number-edit/components/OutputNumberEdit.js","../../../src/features/simple-number-edit/SimpleNumberEdit.js","../../../src/features/simple-number-edit/index.js","../../../src/features/simple-string-edit/Utils.js","../../../../src/features/simple-string-edit/components/SimpleStringEditContextMenuComponent.js","../../../src/features/simple-string-edit/SimpleStringEdit.js","../../../src/features/simple-string-edit/index.js","../../../../src/features/column-resize/components/ResizeColumn.js","../../../src/features/column-resize/ColumnResizeProvider.js","../../../src/features/column-resize/index.js","../src/Editor.js","../../../../src/base/viewer/core/ChangeSupport.js","../../../../src/base/viewer/core/Components.js","../../../../../src/base/viewer/core/components/ViewerComponent.js","../../../../src/base/viewer/core/Renderer.js","../../../../src/base/viewer/core/index.js","../../../src/base/viewer/Viewer.js","../../../../src/features/decision-properties/components/DecisionPropertiesComponent.js","../../../src/features/decision-properties/DecisionProperties.js","../../../src/features/decision-properties/index.js","../../../../src/features/literal-expression-properties/components/LiteralExpressionPropertiesComponent.js","../../../src/features/literal-expression-properties/LiteralExpressionProperties.js","../../../src/features/literal-expression-properties/index.js","../../../../src/features/textarea/components/TextareaComponent.js","../../../src/features/textarea/Textarea.js","../../../src/features/textarea/index.js","../../../../src/features/decision-properties/components/DecisionPropertiesEditorComponent.js","../../../src/features/decision-properties/DecisionPropertiesEditor.js","../../../src/features/decision-properties/editor.js","../../../../src/features/literal-expression-properties/components/LiteralExpressionPropertiesEditorComponent.js","../../../src/features/literal-expression-properties/LiteralExpressionPropertiesEditor.js","../../../src/features/literal-expression-properties/editor.js","../../../../src/features/textarea/components/TextareaEditorComponent.js","../../../src/features/textarea/TextareaEditor.js","../../../src/features/textarea/editor.js","js/api/service.js","js/ui/dmn.js","js/ui/notification.js","js/index.js"],"names":["MaterialTab","tab","ctx","element_","classList","contains","CssClasses_","MDL_JS_RIPPLE_EFFECT","rippleContainer","document","createElement","add","MDL_RIPPLE_CONTAINER","ripple","MDL_RIPPLE","appendChild","addEventListener","e","getAttribute","charAt","preventDefault","href","split","panel","querySelector","resetTabState_","resetPanelState_","ACTIVE_CLASS","MaterialLayoutTab","tabs","panels","layout","selectTab","content_","IS_ACTIVE","tabBar_","JS_RIPPLE_EFFECT","RIPPLE_CONTAINER","RIPPLE","TAB_MANUAL_SWITCH","show","componentHandler","upgradeDom","optJsClass","optCssClass","upgradeElement","element","upgradeElements","elements","upgradeAllRegistered","registerUpgradedCallback","jsClass","callback","register","config","downgradeElements","nodes","findRegisteredClass_","name","optReplace","i","registeredComponents_","length","className","getUpgradedListOfElement_","dataUpgraded","isElementUpgraded_","upgradedList","indexOf","createEvent_","eventType","bubbles","cancelable","window","CustomEvent","ev","createEvent","initEvent","upgradeDomInternal","cssClass","registeredClass","querySelectorAll","n","upgradeElementInternal","Element","Error","upgradingEv","dispatchEvent","defaultPrevented","classesToUpgrade","push","forEach","component","setAttribute","join","instance","classConstructor","componentConfigProperty_","createdComponents_","j","m","callbacks","widget","upgradedEv","deconstructComponentInternal","componentIndex","splice","upgrades","componentPlace","classAsString","upgradeElementsInternal","Array","isArray","prototype","slice","call","HTMLElement","children","upgradeAllRegisteredInternal","registerUpgradedCallbackInternal","regClass","registerInternal","widgetMissing","newConfig","constructor","item","hasOwnProperty","downgradeNodesInternal","downgradeNode","node","filter","NodeList","Node","ComponentConfigPublic","ComponentConfig","Component","documentElement","Date","now","getTime","vendors","requestAnimationFrame","vp","cancelAnimationFrame","test","navigator","userAgent","lastTime","nextTime","Math","max","setTimeout","clearTimeout","MaterialButton","this","init","Constant_","RIPPLE_EFFECT","blurHandler_","event","blur","disable","disabled","enable","rippleElement_","boundRippleBlurHandler","bind","boundButtonBlurHandler","MaterialCheckbox","TINY_TIMEOUT","INPUT","BOX_OUTLINE","FOCUS_HELPER","TICK_OUTLINE","RIPPLE_IGNORE_EVENTS","RIPPLE_CENTER","IS_FOCUSED","IS_DISABLED","IS_CHECKED","IS_UPGRADED","onChange_","updateClasses_","onFocus_","onBlur_","remove","onMouseUp_","blur_","checkDisabled","checkToggleState","inputElement_","checked","check","uncheck","boxOutline","tickContainer","tickOutline","rippleContainerElement_","boundRippleMouseUp","boundInputOnChange","boundInputOnFocus","boundInputOnBlur","boundElementMouseUp","MaterialIconToggle","boundElementOnMouseUp","MaterialMenu","TRANSITION_DURATION_SECONDS","TRANSITION_DURATION_FRACTION","CLOSE_TIMEOUT","Keycodes_","ENTER","ESCAPE","SPACE","UP_ARROW","DOWN_ARROW","CONTAINER","OUTLINE","ITEM","ITEM_RIPPLE_CONTAINER","IS_VISIBLE","IS_ANIMATING","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","UNALIGNED","container","parentElement","insertBefore","removeChild","container_","outline","outline_","forElId","forEl","getElementById","forElement_","handleForClick_","handleForKeyboardEvent_","items","boundItemKeydown_","handleItemKeyboardEvent_","boundItemClick_","handleItemClick_","tabIndex","evt","rect","getBoundingClientRect","forRect","style","right","top","offsetTop","offsetHeight","left","offsetLeft","bottom","toggle","keyCode","focus","currentIndex","target","MouseEvent","click","hide","hasAttribute","stopPropagation","closing_","applyClip_","height","width","clip","removeAnimationEndListener_","addAnimationEndListener_","transitionDuration","itemDelay","transitionDelay","parentNode","removeEventListener","removeProperty","MaterialProgress","INDETERMINATE_CLASS","setProgress","p","progressbar_","setBuffer","bufferbar_","auxbar_","el","MaterialRadio","JS_RADIO","RADIO_BTN","RADIO_OUTER_CIRCLE","RADIO_INNER_CIRCLE","radios","getElementsByClassName","btnElement_","onMouseup_","boundChangeHandler_","boundFocusHandler_","boundBlurHandler_","boundMouseUpHandler_","outerCircle","innerCircle","MaterialSlider","isIE_","msPointerEnabled","IE_CONTAINER","SLIDER_CONTAINER","BACKGROUND_FLEX","BACKGROUND_LOWER","BACKGROUND_UPPER","IS_LOWEST_VALUE","onInput_","updateValueStyles_","onContainerMouseDown_","newEvent","buttons","clientX","clientY","y","fraction","value","min","backgroundLower_","flex","webkitFlex","backgroundUpper_","change","containerIE","backgroundFlex","boundInputHandler","boundChangeHandler","boundMouseUpHandler","boundContainerMouseDownHandler","MaterialSnackbar","textElement_","cssClasses_","MESSAGE","actionElement_","ACTION","active","actionHandler_","undefined","message_","actionText_","queuedNotifications_","setActionHidden_","ANIMATION_LENGTH","SNACKBAR","ACTIVE","displaySnackbar_","textContent","cleanup_","timeout_","showSnackbar","data","checkQueue_","shift","Boolean","removeAttribute","MaterialSpinner","MDL_SPINNER_LAYER_COUNT","MDL_SPINNER_LAYER","MDL_SPINNER_CIRCLE_CLIPPER","MDL_SPINNER_CIRCLE","MDL_SPINNER_GAP_PATCH","MDL_SPINNER_LEFT","MDL_SPINNER_RIGHT","createLayer","index","layer","leftClipper","gapPatch","rightClipper","circleOwners","circle","stop","start","MaterialSwitch","TRACK","THUMB","on","off","track","thumb","focusHelper","boundFocusHandler","boundBlurHandler","MaterialTabs","TAB_CLASS","PANEL_CLASS","UPGRADED_CLASS","MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS","initTabs_","tabs_","panels_","k","MaterialTextfield","maxRows","NO_MAX_ROWS","MAX_ROWS_ATTRIBUTE","LABEL","IS_DIRTY","IS_INVALID","HAS_PLACEHOLDER","onKeyDown_","currentRowCount","onReset_","checkValidity","checkDirty","checkFocus","input_","validity","valid","label_","parseInt","isNaN","boundUpdateClassesHandler","boundResetHandler","boundKeyDownHandler","invalid","MaterialTooltip","BOTTOM","LEFT","RIGHT","TOP","handleMouseEnter_","props","marginLeft","offsetWidth","marginTop","hideTooltip_","boundMouseEnterHandler","boundMouseLeaveAndScrollHandler","MaterialLayout","MAX_WIDTH","TAB_SCROLL_PIXELS","RESIZE_TIMEOUT","MENU_ICON","CHEVRON_LEFT","CHEVRON_RIGHT","Mode_","STANDARD","SEAMED","WATERFALL","SCROLL","HEADER","DRAWER","CONTENT","DRAWER_BTN","ICON","HEADER_SEAMED","HEADER_WATERFALL","HEADER_SCROLL","FIXED_HEADER","OBFUSCATOR","TAB_BAR","TAB_CONTAINER","TAB","TAB_BAR_BUTTON","TAB_BAR_LEFT_BUTTON","TAB_BAR_RIGHT_BUTTON","PANEL","HAS_DRAWER","HAS_TABS","HAS_SCROLLING_HEADER","CASTING_SHADOW","IS_COMPACT","IS_SMALL_SCREEN","IS_DRAWER_OPEN","ON_LARGE_SCREEN","ON_SMALL_SCREEN","contentScrollHandler_","header_","headerVisible","scrollTop","keyboardEventHandler_","drawer_","toggleDrawer","screenSizeHandler_","screenSizeMediaQuery_","matches","obfuscator_","drawerToggleHandler_","type","headerTransitionEndHandler_","headerClickHandler_","tabBar","drawerButton","focusedElement","directChildren","childNodes","numChildren","c","child","persisted","overflowY","mode","drawerButtonIcon","innerHTML","firstChild","obfuscator","matchMedia","addListener","tabContainer","leftButton","leftButtonIcon","scrollLeft","rightButton","rightButtonIcon","tabUpdateHandler","scrollWidth","windowResizeHandler","resizeTimeoutId_","MaterialDataTable","DATA_TABLE","SELECTABLE","SELECT_ELEMENT","IS_SELECTED","selectRow_","checkbox","row","opt_rows","createCheckbox_","label","labelClasses","firstHeader","bodyRows","footRows","rows","concat","th","headerCheckbox","firstCell","td","nodeName","toUpperCase","rowCheckbox","MaterialRipple","INITIAL_SCALE","INITIAL_SIZE","INITIAL_OPACITY","FINAL_OPACITY","FINAL_SCALE","RIPPLE_EFFECT_IGNORE_EVENTS","downHandler_","boundHeight","boundWidth","rippleSize_","sqrt","ignoringMouseDown_","frameCount","getFrameCount","setFrameCount","x","bound","currentTarget","round","touches","setRippleXY","setRippleStyles","animFrameHandler","upHandler_","detail","recentering","frameCount_","x_","y_","boundDownHandler","boundUpHandler","fC","getRippleElement","newX","newY","transformString","scale","offset","webkitTransform","msTransform","transform","symbolObservablePonyfill","root","result","Symbol","observable","self","global","module","Function","randomString","random","toString","substring","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","Object","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","arguments","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","dispatch","action","listeners","replaceReducer","nextReducer","$$observable","_ref","outerSubscribe","observer","TypeError","observeState","next","unsubscribe","warning","message","console","error","getUndefinedStateErrorMessage","key","actionType","String","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","keys","argumentName","match","unexpectedKeys","assertReducerShape","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","state","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","apply","bindActionCreators","actionCreators","boundActionCreators","_defineProperty","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","compose","_len","funcs","arg","reduce","a","b","applyMiddleware","middlewares","store","_dispatch","middlewareAPI","chain","map","middleware","isCrushed","GOOGLE_INIT","GOOGLE_INIT_SUCCESS","GOOGLE_INIT_ERROR","GOOGLE_LOGIN","GOOGLE_LOGIN_SUCCESS","GOOGLE_LOGIN_ERROR","GOOGLE_LOADDOCUMENT","GOOGLE_LOADNEWDOCUMENT","GOOGLE_LOADDOCUMENT_SUCCESS","GOOGLE_LOADDOCUMENT_ERROR","GOOGLE_FILEINFO","GOOGLE_FILEINFO_SUCCESS","GOOGLE_FILEINFO_ERROR","GOOGLE_SAVEDOCUMENT","GOOGLE_SAVEDOCUMENT_SUCCESS","GOOGLE_SAVEDOCUMENT_ERROR","createGoogleInitAction","options","createGoogleInitSuccessAction","createGoogleInitErrorAction","createGoogleLoginAction","createGoogleLoginSuccessAction","user","createGoogleLoginErrorAction","createGoogleLoadDocumentAction","id","createGoogleLoadNewDocumentAction","createGoogleLoadDocumentSuccessAction","text","createGoogleLoadDocumentErrorAction","createGoogleFileInfoAction","createGoogleFileInfoSuccessAction","fileinfo","createGoogleFileInfoErrorAction","createGoogleSaveDocumentAction","createGoogleSaveDocumentSuccessAction","createGoogleSaveDocumentErrorAction","Immutable","DELETE","SHIFT","SIZE","MASK","NOT_SET","MakeRef","SetRef","ref","OwnerID","ensureSize","iter","size","__iterate","returnTrue","wrapIndex","uint32Index","NaN","wholeSlice","begin","end","isNeg","resolveBegin","resolveIndex","resolveEnd","defaultIndex","Infinity","IS_COLLECTION_SYMBOL","isCollection","maybeCollection","IS_KEYED_SYMBOL","isKeyed","maybeKeyed","IS_INDEXED_SYMBOL","isIndexed","maybeIndexed","isAssociative","maybeAssociative","Collection","Seq","KeyedCollection","KeyedSeq","__proto__","create","IndexedCollection","IndexedSeq","SetCollection","SetSeq","Keyed","Indexed","Set","IS_SEQ_SYMBOL","isSeq","maybeSeq","IS_RECORD_SYMBOL","isRecord","maybeRecord","isImmutable","maybeImmutable","IS_ORDERED_SYMBOL","isOrdered","maybeOrdered","ITERATE_KEYS","ITERATE_VALUES","ITERATE_ENTRIES","REAL_ITERATOR_SYMBOL","iterator","FAUX_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","iteratorValue","v","iteratorResult","done","iteratorDone","hasIterator","maybeIterable","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","KEYS","VALUES","ENTRIES","inspect","toSource","isArrayLike","Number","isInteger","Collection$$1","emptySequence","toSeq","seqFromValue","__toString","cacheResult","_cache","__iterateUncached","entrySeq","toArray","fn","reverse","cache","entry","__iterator","__iteratorUncached","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","toIndexedSeq","indexedSeqFromValue","of","toSetSeq","ArraySeq","array","_array","get","notSetValue","has","ii","ObjectSeq","_object","_keys","EMPTY_SEQ","CollectionSeq","collection","_collection","iterations","step","seq","maybeIndexedSeqFromValue","IS_MAP_SYMBOL","isMap","maybeMap","isOrderedMap","maybeOrderedMap","isValueObject","maybeValue","equals","hashCode","is","valueA","valueB","valueOf","imul","d","smi","i32","defaultValueOf","hash","o","hashNumber","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashJSObj","string","hashed","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","charCodeAt","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","getIENodeHash","objHashUID","set","isExtensible","nodeType","uniqueID","WeakMap","ToKeyedSequence","KeyedSeq$$1","indexed","useKeys","_iter","_useKeys","valueSeq","this$1","reversedSequence","reverseFactory","mapper","context","mappedSequence","mapFactory","ToIndexedSequence","IndexedSeq$$1","includes","ToSetSequence","SetSeq$$1","FromEntriesSequence","entries","validateEntry","indexedCollection","flipFactory","flipSequence","makeSequence","flip","cacheResultThrough","filterFactory","predicate","filterSequence","countByFactory","grouper","groups","Map","asMutable","update","asImmutable","groupByFactory","isKeyedIter","OrderedMap","coerce","collectionClass","arr","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","resolvedSize","sliceSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","values","isKeyedCollection","iters","singleton","concatSeq","flatten","sum","flattenFactory","depth","flatSequence","stopped","flatDeep","currentDepth","stack","pop","flatMapFactory","interposeFactory","separator","interposedSequence","sortFactory","comparator","defaultComparator","sort","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipAll","zipSequence","sizes","iterators","isDone","steps","every","s","some","arrCopy","len","newArr","invariant","condition","assertNotInfinite","coerceKeyPath","keyPath","isPlainObj","isDataStructure","quoteString","JSON","stringify","_ignoreError","shallowCopy","from","to","collectionCopy","updateIn","updater","updatedValue","updateInDeeply","inImmutable","existing","wasNotSet","existingValue","newValue","nextExisting","nextUpdated","emptyMap","setIn","setIn$1","removeIn","deleteIn","update$1","updateIn$1","merge","mergeIntoKeyedWith","mergeWith","merger","collections","collection$1","__ownerID","withMutations","mergeIntoCollection","oldVal","merge$1","sources","mergeWithSources","mergeWith$1","mergeDeep","mergeDeepWithSources","mergeDeepWith","deepMergerWith","merged","mergeItem","hasVal","nextVal","deepMerger","oldValue","mergeDeep$1","mergeDeepWith$1","mergeIn","mergeDeepIn","mutable","wasAltered","__ensureOwner","__altered","KeyedCollection$$1","keyValues","_root","updateMap","deleteAll","clear","__hash","sortBy","MapIterator","iterate","ownerID","makeMap","MapPrototype","removeAll","ArrayMapNode","keyHash","didChangeSize","didAlter","idx","removed","exists","MAX_ARRAY_MAP_SIZE","createNodes","isEditable","newEntries","BitmapIndexedNode","bitmap","bit","popCount","keyHashFrag","newNode","updateNode","MAX_BITMAP_INDEXED_SIZE","expandNodes","isLeafNode","newBitmap","newNodes","setAt","spliceOut","spliceIn","HashArrayMapNode","count","newCount","MIN_HASH_ARRAY_MAP_SIZE","packNodes","HashCollisionNode","mergeIntoNode","ValueNode","keyMatch","maxIndex","EMPTY_MAP","Iterator$$1","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","subNode","__prev","prev","hash$$1","newRoot","newSize","idx1","idx2","excluding","packedII","packedNodes","including","expandedNodes","val","canEdit","newArray","newLen","after","IS_LIST_SYMBOL","isList","maybeList","List","IndexedCollection$$1","empty","emptyList","makeList","VNode","list","setSize","listNodeFor","_origin","updateList","insert","_capacity","_level","_tail","oldSize","setListBounds","unshift","arguments$1","seqs","argument","iterateList","DONE","ListPrototype","removeBefore","level","originIndex","removingFirst","newChild","oldChild","editable","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","tailPos","getTailOffset","tail","iterateNodeOrLeaf","iterateLeaf","iterateNode","origin","capacity","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","newTailOffset","oldTailOffset","oldTail","beginIndex","EMPTY_ORDERED_MAP","Map$$1","emptyOrderedMap","_map","_list","updateOrderedMap","newMap","newList","makeOrderedMap","omap","toMap","IS_STACK_SYMBOL","isStack","maybeStack","Stack","emptyStack","pushAll","head","_head","peek","makeStack","EMPTY_STACK","StackPrototype","unshiftAll","IS_SET_SYMBOL","isSet","maybeSet","isOrderedSet","maybeOrderedSet","deepEqual","notAssociative","flipped","_","allEqual","bSize","mixin","ctor","methods","keyCopier","toJS","result$1","SetCollection$$1","emptySet","fromKeys","keySeq","intersect","sets","SetPrototype","union","updateSet","removes","adds","mapped","toRemove","subtract","OrderedSet","__make","__empty","EMPTY_SET","makeSet","EMPTY_RANGE","Range","abs","_start","_end","_step","ceil","searchValue","possibleIndex","floor","offsetValue","lastIndexOf","other","getIn","searchKeyPath","getIn$1","hasIn","hasIn$1","toObject","isIterable","useTuples","toOrderedMap","toOrderedSet","toSet","toStack","toList","__toStringMapper","returnValue","find","findEntry","sideEffect","joined","isFirst","initialReduction","reduceRight","not","butLast","isEmpty","countBy","entriesSequence","entryMapper","filterNot","found","findKey","findLast","findLastEntry","findLastKey","first","flatMap","searchKey","groupBy","isSubset","isSuperset","keyOf","keyMapper","last","lastKeyOf","maxBy","neg","defaultNegComparator","minBy","rest","skip","amount","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","hashCollection","CollectionPrototype","toJSON","mapEntries","mapKeys","KeyedCollectionPrototype","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zip","defaultZipper","zipWith","IndexedCollectionPrototype","reduction","useFirst","ordered","keyed","h","murmurHashOfSize","hashMerge","Set$$1","emptyOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","Record","defaultValues","hasInitialized","RecordType","indices","RecordTypePrototype","_indices","_name","_defaultValues","propName","warn","recordName","setProp","_values","l","RecordPrototype","displayName","str","recordSeq","newValues","makeRecord","getDescriptiveName","likeRecord","record","EMPTY_REPEAT","Repeat","times","_value","fromJS","converter","fromJSWith","defaultConverter","parentValue","converted","version","Iterable","ZOOM_TO_FIT","ZOOM_IN","ZOOM_OUT","createZoomToFitAction","createZoomInAction","createZoomOutAction","initialState","status","googleDocument","isLoaded","DMNEditorApp","newState","debug","DriveAppsUtil","logtoconsole","loadGoogleApi","LoadGoogleApi","log","Promise","resolve","reject","loadGoogleAPI","then","login","auth","gapi","auth2","getAuthInstance","currentUser","isSignedIn","signIn","logout","disconnect","getDocumentContent","client","request","response","body","getDocumentMeta","parse","updateDocumentMeta","metadata","updateDocument","content","contentlength","headers","location","mimeType","createDocument","driveAppsUtil","initGoogle","loadGoogleDocument","isNew","saveDocument","showUserImage","src","getBasicProfile","getImageUrl","setDocumentInfo","title","initFileInfo","changeFileName","hideSplash","display","nativeToString","nativeHasOwnProperty","isUndefined","isDefined","isNil","isObject","isNumber","isFunction","tag","isString","ensureArray","matcher","toMatcher","convertKey","toNum","identity","without","extractor","grouped","toExtractor","discriminator","group","uniqueBy","unionBy","sorted","disc","matchPattern","pattern","debounce","timeout","timer","lastArgs","lastThis","lastNow","fire","scheduledDiff","schedule","args","throttle","interval","throttling","_extends","assign","others","pick","properties","prop","omit","_len2","_key2","sourceVal","targetVal","FN_REF","DEFAULT_PRIORITY","EventBus","_listeners","_destroy","InternalEvent","invokeFunction","events","priority","that","actualCallback","_addListener","once","wrappedCallback","_removeListener","firstListener","originalType","_invokeListeners","handleError","cancelBubble","_invokeListener","newListener","previousListener","_getListeners","_setListeners","nextListener","listenerCallback","Base","Factory","model","$model","createType","descriptor","isMany","default","defineModel","defineDescriptor","ns","ModdleElement","attrs","define","hasType","$instanceOf","BUILTINS","Integer","Real","TYPE_CONVERTERS","parseFloat","coerceType","isBuiltIn","isSimple","parseName","defaultPrefix","parts","localName","prefix","DescriptorBuilder","nameNs","allTypes","allTypesByName","propertiesByName","Registry","packages","packageMap","typeMap","registerPackage","ensureAvailable","pkg","identifierKey","Properties","property","isReference","Moddle","factory","registry","typeCache","build","addProperty","validate","addNamedProperty","replaceProperty","oldProperty","newProperty","replace","oldNameNs","rename","isId","setIdProperty","isBody","setBodyProperty","redefineProperty","targetPropertyName","nsPrefix","attrName","redefinedProperty","redefines","propsByName","assertNotDefined","removeNamedProperty","bodyProperty","idProperty","propertyName","definedProperty","definedBy","hasProperty","addTrait","t","inherited","typesByName","types","typeName","replaces","getPackage","uriOrPrefix","getPackages","pkgMap","registerType","uri","superClass","extends","meta","propertyNs","extendsName","extended","traits","definePackage","mapTypes","nsName","trait","traverseTrait","cls","traverseSuper","parentNs","getEffectiveDescriptor","builder","$pkg","getPropertyDescriptor","$attrs","Type","getType","createAny","nsUri","$type","isGeneric","getElementDescriptor","$descriptor","getTypeDescriptor","fromCharCode","ENTITY_PATTERN","ENTITY_MAPPING","replaceEntities","z","decodeEntities","XSI_URI","XSI_PREFIX","XSI_TYPE","NON_WHITESPACE_OUTSIDE_ROOT_NODE","msg","missingNamespaceForPrefix","getter","getFn","cloneNsMatrix","nsMatrix","clone","uriPrefix","buildNsMatrix","nsUriToPrefix","noopGetContext","throwFunc","err","Parser","proxy","onText","onOpenTag","onCloseTag","onCDATA","onWarning","onComment","onQuestion","onAttention","onError","getContext","maybeNS","isNamespace","returnError","parseStop","handleWarning","cb","nsMap","_nsUriToPrefix","xml","nsMatrixStack","_nsMatrix","q","w","xmlns","elementName","_elementName","elementProxy","cachedAttrs","nodeStack","anonymousNsCount","tagStart","tagEnd","attrsString","attrsStart","getAttrs","nsUriPrefix","hasNewMatrix","newalias","alias","skipAttr","defaultAlias","attrList","seenAttrs","parseAttr","substr","getParseContext","splitsRe","line","column","startOfLine","endOfLine","exec","trim","hasLowerCaseAlias","tagAlias","DEFAULT_NS_MAP","serializeFormat","serialize","serializeAsType","serializeAsProperty","capitalize","aliasToName","aliasNs","prefixedToName","typePrefix","normalizeXsiTypeName","getModdleDescriptor","defer","Context","elementsById","references","warnings","addReference","reference","addElement","addWarning","BaseHandler","NoopHandler","BodyHandler","ReferenceHandler","ValueHandler","propertyDesc","BaseElementHandler","ElementHandler","RootElementHandler","GenericElementHandler","Reader","lax","createStack","handleEnd","handleText","handleNode","createReference","parser","handleChild","attributes","propNameNs","getPropertyForNode","elementTypeName","elementType","isAttr","effectiveType","isVirtual","isAttribute","valueHandler","referenceHandler","handler","childHandler","newElement","$parent","originalName","$children","$body","fromXML","rootHandler","PREAMBLE_START_PATTERN","ENCODING_PATTERN","UTF_8_PATTERN","handleCData","uriMap","decodeStr","selfClosing","decodedAttrs","handleOpen","handleQuestion","question","encoding","handleClose","resolveReferences","r","XML_PREAMBLE","ESCAPE_ATTR_CHARS","ESCAPE_CHARS","Namespaces","parent","prefixMap","used","wellknown","custom","byUri","isWellknown","mapPrefix","uriByPrefix","logUsed","getUsed","allNs","isUsed","lower","toLowerCase","nameToAlias","inherits","superCtor","super_","getNsAttrs","namespaces","getElementNs","getPropertyNs","getSerializableProperties","ESCAPE_ATTR_MAP","ESCAPE_MAP","escape","charPattern","replaceMap","escapeAttr","escapeBody","filterAttributes","filterContained","ReferenceSerializer","tagName","BodySerializer","ValueSerializer","ElementSerializer","propertyDescriptor","TypeSerializer","SavingWriter","write","FormatingWriter","out","format","indent","append","appendNewLine","appendIndent","unindent","Writer","preamble","toXML","tree","writer","internalWriter","formatingWriter","serializeTo","serializeValue","search","elementDescriptor","otherAttrs","parseGeneric","parseNsAttributes","nsPropertyTagName","nsTagName","addTagName","parseAttributes","parseContainments","parseGenericAttributes","logNamespaceUsed","isLocalNs","nsAttributeName","effectiveNs","getNamespaces","parseNsAttribute","logNamespace","actualNs","genericAttrs","nonNsAttr","attr","addAttribute","asType","asProperty","serializer","local","parentNamespaces","newPrefix","wellknownUri","serializeAttributes","firstBody","typeNs","simple","DmnModdle","xmlStr","reader","associations","enumerations","literalValues","DcPackage","name$1","prefix$1","uri$1","types$1","isAbstract","associations$1","enumerations$1","DiPackage","name$2","prefix$2","uri$2","types$2","enumerations$2","associations$2","xml$1","DmnPackage","name$3","prefix$3","uri$3","types$3","associations$3","enumerations$3","DmnDiPackage","name$4","uri$4","prefix$4","xml$2","types$4","BioDiPackage","dc","di","dmn","dmndi","biodi","additionalPackages","indexof","re","classes","ClassList","removeMatching","force","vendor","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","selector","closest","checkYoSelf","unbind","bind_1","capture","unbind_1","componentEvent","forceCaptureEvents","bind$1","srcElement","delegateTarget","unbind$1","delegateEvents","domify","bugTestDiv","innerHTMLBug","getElementsByTagName","legend","tr","col","_default","html","doc","createTextNode","lastChild","wrap","suffix","fragment","createDocumentFragment","option","optgroup","thead","tbody","colgroup","caption","tfoot","polyline","ellipse","polygon","path","g","proto$1","vendor$1","matchesSelector$1","match$1","query","all","DEFAULT_CONTAINER_OPTIONS","position","Manager","_emit","views","_views","activeView","_activeView","_eventBus","_viewsChanged","_viewers","_init","open","noop","_moddle","definitions","parseWarnings","_setDefinitions","checkDMNCompatibilityError","checkValidationError","warmings","view","_getInitialView","allWarnings","_definitions","getActiveView","_getViewer","jquery","domQuery","_container","viewerId","safeExecute","_options","_createModdle","containerOptions","ensureUnit","attachTo","_switchView","_updateViews","viewProviders","_getViewProviders","displayableElements","drgElement","newViews","provider","opens","newActiveView","viewsEqual","activeViewChanged","viewNameChanged","viewsChanged","newView","activeViewer","complete","newViewer","detach","viewer","_createViewer","Viewer","providerOptions","common","additionalModules","_parent","moddle","camunda","CamundaModdle","moddleExtensions","olderDMNVersion","method","bo","getBusinessObject","isInput","isOutput","isRule","businessObject","getName","isAny","EditingManager","_collectIds","ids","claim","Ids","CLASS_PATTERN","isClass","annotate","$inject","CONSTRUCTOR_ARGS","FN_ARGS","FN_ARG","Module","providers","_typeof","_toConsumableArray","arr2","Injector","modules","strict","currentlyResolving","_providers","instances","_instances","injector","pivot","hasProp","fnDef","locals","dependencies","dep","instantiate","_fnDef","invoke","func","_fnDef2","createPrivateInjectorFactory","privateChildInjector","factoryMap","arrayUnwrap","__exports__","clonedModule","privateInjector","__modules__","getFromPrivateInjector","createChild","forceNewInstances","fromParentModule","cacheIdx","privateChildInjectorFactory","matchedScopes","privateInjectorsCache","privateChildInjectors","privateChildFactories","$scope","scope","DEFAULT_RENDER_PRIORITY","BaseRenderer","eventBus","renderPriority","visuals","gfx","canRender","drawShape","drawConnection","getShapePath","getConnectionPath","ensureImported","ownerDocument","importNode","appendTo","LENGTH_ATTR","CSS_PROPERTIES","getAttributeNS","hyphenated","setAttributeNS","setAttributes","names","defined","cloneNode","baseVal","svg","SVG_START","unwrap","parsed","parseDocument","DOMParser","async","parseFromString","createElementNS","useCapture","extend","createPoint","point","createSVGPoint","createMatrix","f","matrix","createSVGMatrix","createTransform","createSVGTransformFromMatrix","createSVGTransform","TEXT_ENTITIES","ATTR_ENTITIES","ENTITY_REPLACEMENT","replaceFn","entity","output","attrMap","attrNode","hasAttributes","hasChildNodes","nodeValue","isFragment","nextSibling","innerSVG","select","selectAll","prependTo","prepend","replacement","replaceChild","wrapMatrix","transformList","SVGMatrix","setTransforms","transforms","appendItem","consolidate","componentsToPath","toSVGPoints","points","createLine","updateLine","getParents","getParent","unique","canAdd","eachElement","selfAndChildren","maxDepth","processedChildren","selfAndDirectChildren","allowDuplicates","selfAndAllChildren","getClosure","isTopLevel","closure","allShapes","copyObject","allConnections","enclosedElements","enclosedConnections","topLevel","handleConnection","handleElement","waypoints","incoming","outgoing","getBBox","stopRecursion","minX","minY","maxX","maxY","bbox","getEnclosedElements","filteredElements","isFrameElement","isFrame","src1","src2","DefaultRenderer","styles","CONNECTION_STYLE","strokeWidth","stroke","SHAPE_STYLE","fill","FRAME_STYLE","strokeDasharray","connection","shape","shapePath","connectionPath","original","Styles","defaultTraits","strokeOpacity","pointerEvents","additionalAttrs","computeStyle","defaultStyles","__init__","defaultRenderer","currentIdx","number","resolution","ensurePx","createContainer","overflow","createGroup","childIndex","BASE_LAYER","REQUIRED_MODEL_ATTRS","Canvas","graphicsFactory","elementRegistry","_elementRegistry","_graphicsFactory","setCTM","mstr","_svg","viewport","_viewport","_layers","deferUpdate","_viewboxChanged","_cachedViewbox","_clear","emit","_rootElement","getAll","setRootElement","_removeElement","getDefaultLayer","getLayer","_createLayer","getContainer","_updateMarker","marker","_elements","secondaryGfx","addMarker","removeMarker","hasMarker","getGraphics","toggleMarker","getRootElement","override","_ensureValid","currentRoot","requiredAttrs","_setParent","parentIndex","_addElement","addShape","addConnection","removeShape","removeConnection","secondary","_changeViewbox","changeFn","viewbox","box","innerBox","outerBox","getSize","translate","inner","outer","scroll","delta","getCTM","dx","dy","multiply","zoom","newScale","center","_fitViewport","_setZoom","vbox","newViewbox","originalPoint","currentMatrix","scaleMatrix","newMatrix","currentScale","matrixTransform","inverse","clientWidth","clientHeight","getAbsoluteBBox","resized","ELEMENT_ID","ElementRegistry","_validateId","updateId","newId","filtered","parentRefs","Refs","labelRefs","attacherRefs","outgoingRefs","incomingRefs","labels","newLabel","Shape","Root","Label","Connection","ElementFactory","_uid","createRoot","createLabel","createShape","createConnection","getVisual","getChildren","angle","setTranslate","rotate","setRotate","setScale","checkYourSelf","currentElem","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","delegate","GraphicsFactory","siblingNode","_getChildrenContainer","childrenGfx","visual","_createContainer","outerGfx","updateContainments","parents","hidden","__depends__","DrawModule","canvas","elementFactory","bootstrap","bootstrapModules","components","hasModule","visit","addModule","createInjector","CoreModule","Diagram","destroy","diRefs","DRDTreeWalker","deferred","visitIfDi","logError","handleDiagramElement","diagramElement","registerDi","dmnElement","dmnElementRef","handleDefinitions","diagram","dmnDI","diagrams","handleDiagram","diagramElements","handleRequirements","requirements","requirement","handleArtifacts","handleAssociation","importDRD","drd","importer","render","visitor","DrdTreeWalker","DrdRenderer","pathMap","textRenderer","markers","initMarkers","createMarker","strokeLinecap","svgCreate","viewBox","refX","refY","markerWidth","markerHeight","orient","defs","associationStart","associationEnd","informationRequirementEnd","knowledgeRequirementEnd","authorityRequirementEnd","cx","cy","drawRect","rx","ry","renderLabel","createText","renderEmbeddedLabel","align","padding","drawPath","handlers","pathData","knowledgeSource","getScaledPath","xScaleFactor","yScaleFactor","containerWidth","containerHeight","mx","my","businessKnowledge","textElement","getSemantic","semantic","drawLine","strokeLinejoin","associationDirection","markerEnd","markerStart","DEFAULT_BOX_PADDING","DEFAULT_LABEL_SIZE","parseAlign","horizontal","vertical","parsePadding","getTextBBox","fakeText","textBBox","emptyLine","layoutNext","lines","maxWidth","originalLine","fitLine","fit","shortenLine","remainder","semanticShorten","maxLength","part","shortenedParts","shortenedLine","getHelperSvg","helperSvg","Text","_config","getLineHeight","lineHeight","fontSize","layoutText","getDimensions","dimensions","fitBox","layouted","helperText","totalHeight","maxLineWidth","tspan","TextRenderer","DEFAULT_FONT_SIZE","LINE_HEIGHT_RATIO","MIN_TEXT_ANNOTATION_HEIGHT","defaultStyle","fontFamily","fontWeight","externalStyle","textUtil","TextUtil","getExternalLabelBounds","bounds","layoutedDimensions","getTextAnnotationBounds","getDefaultStyle","getExternalStyle","PathMap","widthElements","heightElements","getRawPath","pathId","param","rawPath","abspos","coordinates","heightRatio","widthRatio","heightIndex","widthIndex","tokenRegex","objNotationRegex","replacer","res","quote","quotedName","isFunc","drdRenderer","DrdImporter","_canvas","_elementFactory","elementData","collectWaypoints","edge","waypoint","getIdFromHref","elementDefinition","_getSource","_getTarget","elementReference","sourceRef","requiredDecision","requiredInput","requiredKnowledge","requiredAuthority","_getShape","targetRef","drdImporter","ImportModule","template","replacements","__stopPropagation","getOriginal","originalEvent","srcEvent","immediate","toPoint","pointers","isMac","platform","isPrimaryButton","button","hasPrimaryModifier","metaKey","ctrlKey","hasSecondaryModifier","shiftKey","allowAll","LOW_PRIORITY","InteractionEvents","isIgnored","localEventName","ignoredFilters","mouseHandler","bindings","contextmenu","dblclick","mousedown","mousemove","mouseover","mouseout","mouseup","ELEMENT_SELECTOR","registerEvent","localEvent","ignoredFilter","$delegate","domDelegate","unregisterEvent","unregisterEvents","registerEvents","createDefaultHit","updateDefaultHit","STROKE_HIT_STYLE","createHitStyle","CLICK_STROKE_HIT_STYLE","HIT_TYPES","ALL_HIT_STYLE","classNames","applyStyle","hit","appendHit","removeHits","hits","svgRemove","boxType","createWaypointsHit","createBoxHit","triggerMouseEvent","eventName","targetElement","interactionEvents","Outline","OUTLINE_STYLE","createOutline","updateShapeOutline","updateConnectionOutline","Selection","_selectedElements","deselect","selectedElements","oldSelection","newSelection","isSelected","MARKER_HOVER","MARKER_SELECTED","SelectionVisuals","selection","_multiSelectionBox","SelectionBehavior","canExecute","autoSelect","hints","isShown","hover","previousSelection","selectedShape","isMultiSelect","InteractionEventsModule","OutlineModule","selectionVisuals","selectionBehavior","IdGenerator","_counter","_prefix","Overlays","_ids","_overlayDefaults","defaults","_overlays","_overlayContainers","_overlayRoot","setPosition","setVisible","visible","setTransform","_getOverlayContainer","overlays","overlay","_addOverlay","htmlContainer","_updateOverlayContainer","_updateOverlay","_createOverlayContainer","_updateRoot","raw","overlayContainer","_updateOverlayVisibilty","minZoom","maxZoom","_updateOverlayScale","shouldScale","minScale","maxScale","_updateOverlaysVisibilty","updateViewbox","DefinitionPropertiesView","HTML_MARKUP","nameElement","idElement","PaletteAdapter","twoColumn","definitionPropertiesView","definitionPropertiesPaletteAdapter","DrillDown","PROVIDERS","decisionLogic","_injector","enabled","addOverlay","overlayId","bindEventListener","overlaysRoot","drillDown","getView","OverlaysModule","BPMNIO_LOGO_SVG","BPMNIO_IMG","css","LINK_STYLES","lightbox","LIGHTBOX_STYLES","BACKDROP_STYLES","NOTICE_STYLES","LIGHTBOX_MARKUP","addProjectLogo","linkMarkup","linkElement","openPoweredBy","saveSVG","contentNode","defsNode","contents","outerHTML","getModules","_modules","additionalOptions","baseModules","diagramOptions","TranslateModule","SelectionModule","DefinitionPropertiesModule","DrillDownModule","log10","getStepSize","range","minLinearRange","maxLinearRange","absoluteLinearRange","cap","sign","RANGE","NUM_STEPS","DELTA_THRESHOLD","DEFAULT_SCALE","ZoomScroll","_enabled","_handleWheel","_totalDelta","_scale","reset","stepSize","_zoom","isZoom","isHorizontalScroll","factor","deltaMode","elementRect","pow","deltaY","deltaX","stepZoom","direction","currentLinearZoomLevel","newLinearZoomLevel","newLogZoomLevel","newEnabled","handleWheel","oldEnabled","zoomScroll","CURSOR_CLS_PATTERN","unset","TRAP_PRIORITY","install","trap","THRESHOLD","MoveCanvas","handleMove","dragging","lastPosition","handleStart","altKey","moveCanvas","exportName","VENDOR_PREFIXES","TEST_ELEMENT","TYPE_FUNCTION","setTimeoutContext","bindFn","invokeArrayArg","each","deprecate","deprecationMessage","nextKey","dest","inherit","base","baseP","childP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","splitStr","removeEventListeners","hasParent","inStr","inArray","findByKey","uniqueArray","results","prefixed","camelProp","_uniqueId","getWindowForElement","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","inputHandler","input","pointersLen","changedPointersLen","changedPointers","isFinal","session","computeInputData","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","getCenter","timeStamp","deltaTime","getAngle","distance","getDistance","computeDeltaXY","offsetDelta","prevDelta","prevInput","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","rotation","getRotation","maxPointers","computeIntervalInputData","velocity","velocityX","velocityY","lastInterval","getScale","recognize","p1","p2","atan2","PI","evEl","evTarget","evWin","MOUSE_INPUT_MAP","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","changed","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","TouchMouseInput","mouse","primaryTouch","lastTouches","setLastTouch","eventData","lastTouch","lts","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","recordTouches","isSyntheticEvent","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","touchMap","cssSupports","CSS","supports","TouchAction","compute","actions","touchAction","cleanTouchActions","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","Recognizer","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","preset","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","process","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","STATE_FAILED","taps","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","createInputInstance","oldCssProps","toggleCssProps","curRecognizer","triggerDomEvent","gestureEvent","gesture","Tap","Pan","Swipe","Pinch","Rotate","Press","amd","exports","MIN_ZOOM","MAX_ZOOM","mouseEvents","service","stopEvent","stopImmediatePropagation","createTouchRecognizer","allowMouse","stopMouse","tap","pan","press","pinch","doubleTap","TouchInteractionEvents","move","contextPad","palette","getGfx","initEvents","startGrab","startGrabCanvas","lx","ly","startZoom","mid","ratio","newZoom","elementFromPoint","hoverGfx","padRecognizer","pad","trigger","TouchFix","addBBoxMarker","markerStyle","class","rect1","rect2","touchInteractionEvents","touchFix","TouchModule","NavigatedViewer","_navigationModules","sortTopOrMiddle","sortLeftOrCenter","ALIGNMENT_SORTING","middle","AlignElements","modeling","_modeling","_getOrientationDetails","axis","dimension","_isType","_alignmentPosition","sortedElements","orientation","centeredElements","firstElement","lastElement","alignment","centers","hasSharedCenters","getMiddleOrTop","host","labelTarget","sortFn","alignElements","pointDistance","pointsOnLine","accuracy","dist","ALIGNED_THRESHOLD","pointsAligned","pointsAlignedHorizontally","pointsAlignedVertically","firstPoint","pointInRect","tolerance","getMidPoint","roundBounds","roundPoint","asTRBL","asBounds","trbl","getMid","getOrientation","rectOrientation","referenceOrientation","getElementLineIntersection","elementPath","linePath","cropStart","intersections","getIntersections","t2","segment2","filterRedundantWaypoints","previousPoint","nextPoint","PLACEMENT_DETECTION_PAD","DEFAULT_DISTANCE","DEFAULT_MAX_DISTANCE","findFreePosition","getNextPosition","connectedAtPosition","getConnectedAtPosition","generateGetNextPosition","nextPositionDirection","previousPosition","nextPosition","nextPositionDirectionForAxis","margin","minDistance","getAutoPlaceClosure","getConnectedDistance","defaultDistance","getWeight","getDefaultWeight","maxDistance","noneFilter","sourcesDistances","weight","targetsDistances","distances","accumulator","currentValue","distancesGrouped","allConnected","getConnected","attachers","shapes","attacher","getTargets","getSources","AutoPlace","getNewShapePosition","newShape","appendShape","sourceMid","AutoPlaceSelectionBehavior","autoPlace","autoPlaceSelectionBehavior","BUSINESS_KNOWLEDGE_MODEL_SIZE","DECISION_SIZE","INPUT_DATA_SIZE","KNOWLEDGE_SOURCE_SIZE","drdFactory","_drdFactory","BaseElementFactory","baseCreate","createDrdElement","createDiEdge","createDiShape","_getDefaultSize","DRG_ELEMENT_MARGIN","DRG_ELEMENT_ROW_SIZE","getTextAnnotationPosition","getDRGElementPosition","sourceTrbl","verticalDistance","generateGetNextDRGElementPosition","getHorizontalDistance","connectedAtPositionLeft","connectedAtPositionRight","connectedAtPreviousPosition","AutoPlaceModule","dmnAutoPlace","DmnAutoPlace","DRAG_ACTIVE_CLS","isTouchEvent","TouchEvent","getLength","Dragging","defaultOptions","trapClick","toLocalPoint","globalPosition","clientRect","dragContext","payload","activate","displacement","globalStart","globalCurrent","globalDelta","localStart","localCurrent","localDelta","cancel","keepSelection","cursor","previousContext","cleanup","checkCancel","trapClickAndEnd","untrap","trapTouch","restore","wasActive","endDrag","restoreSelection","existingSelection","relativeTo","manual","autoActivate","setOptions","HIGH_PRIORITY","HoverFix","ensureHover","_findTargetGfx","setDragHover","unsetHover","ensureOut","hoverFix","AutoScroll","_opts","scrollThresholdIn","scrollThresholdOut","scrollRepeatTimeout","scrollStep","_toBorderPoint","startScroll","stopScroll","between","opts","diff","_scrolling","DraggingModule","autoScroll","Rules","_commandStack","allowed","commandStack","rules","circlePath","segments","INTERSECTION_THRESHOLD","getBendpointIntersection","bendpoint","getPathIntersection","getApproxIntersection","BENDPOINT_CLS","SEGMENT_DRAGGER_CLS","toCanvasCoordinates","getConnectionIntersection","localPosition","intersection","addBendpoint","parentGfx","groupGfx","createParallelDragger","segmentStart","segmentEnd","draggerGfx","hitWidth","calculateHitWidth","addSegmentDragger","calculateSegmentMoveRegion","segmentLength","segmentLengthXAxis","segmentLengthYAxis","HTML_ESCAPE_MAP","escapeHTML","Bendpoints","bendpointMove","connectionSegmentMove","activateBendpointMove","isIntersectionMiddle","treshold","p0","aligned","xDelta","yDelta","calculateIntersectionThreshold","relevantSegment","bindInteractionEvents","getBendpointsContainer","getSegmentDragger","createBendpoints","createSegmentDraggers","segmentDraggerGfx","addHandles","updateHandles","clearSegmentDraggers","clearBendpoints","bendpointsGfx","updateFloatingBendpointPosition","floating","updateSegmentDraggerPosition","draggerVisual","relativePosition","getDraggerVisual","primary","bendpointContainer","RECONNECT_START","RECONNECT_END","UPDATE_WAYPOINTS","BendpointMove","bendpointIndex","command","connectionGfx","newWaypoints","docking","cropWaypoints","updateWaypoints","isReverse","reconnect","connectionDocking","getCroppedWaypoints","MARKER_OK","MARKER_NOT_OK","MARKER_CONNECT_HOVER","MARKER_CONNECT_UPDATING","MARKER_ELEMENT_HIDDEN","BendpointMovePreview","connectionPreview","drawPreviewHints","connectionStart","connectionEnd","noCropping","noLayout","drawPreview","cleanUp","axisAdd","axisSet","axisFenced","maxValue","minValue","flipAxis","getDocking","referenceElement","moveAxis","referenceMid","inverseAxis","ConnectionSegmentMove","cropConnection","oldWaypoints","croppedWaypoints","redrawConnection","dragPosition","segmentStartIndex","segmentEndIndex","originalWaypoints","sourceToSegmentOrientation","targetToSegmentOrientation","newSegmentStart","newSegmentEnd","waypointCount","segmentOffset","updateDragger","draggerPosition","newSegmentStartIndex","segmentMove","snapTo","snapValue","topLeft","topRight","bottomLeft","bottomRight","defaultValue","isSnapped","snapped","setSnapped","previousValue","TOLERANCE","BendpointSnapping","rem","sx","sy","snapPoints","getConnectionSegmentSnaps","referenceWaypoints","getBendpointSnaps","hoverMid","RulesModule","bendpoints","bendpointMovePreview","bendpointSnapping","entrySelector","ContextPad","_overlaysConfig","_current","addClasses","close","isOpen","current","registerProvider","getEntries","_getProviders","entriesOrUpdater","getContextPadEntries","_updateAndOpen","getPad","grouping","control","imageUrl","overlaysConfig","_overlayId","Connect","canConnect","connect","ConnectPreview","startPosition","connectPreview","MARKER_TYPES","NODES_CAN_HAVE_MARKER","PreviewSupport","_styles","_clonedMarkers","clonedMarker","getMarker","markerType","referenceToId","idToReference","canHaveMarker","addDragger","dragger","_cloneMarkers","addFrame","frame","_cloneMarker","markerId","clonedMarkerId","previewSupport","MARKER_ATTACH","MARKER_NEW_PARENT","PREFIX","Create","setMarker","ensureConstraints","canCreate","isLabel","isConnection","attach","isSingleShape","connectionTarget","targetParent","targetAttach","createElements","createConstraints","CreatePreview","defaultLayer","dragGroup","createDragGroup","PreviewSupportModule","createPreview","DATA_REF","CLOSE_EVENTS","PopupMenu","providerId","_getEntries","headerEntries","_getHeaderEntries","hasEntries","hasHeaderEntries","_createEntries","_attachContainer","_bindAutoClose","_unbindAutoClose","entryId","_getEntry","getPopupMenuEntries","getPopupMenuHeaderEntries","getHeaderEntries","visibility","_updateScale","_assureIsInbounds","scaleConfig","containerX","containerY","scrollHeight","overAxis","cursorPosition","entriesContainer","entryContainer","_createEntry","entryClasses","popupMenu","Replace","replaceElement","oldElement","newElementData","centerX","centerY","replaceShape","DrdReplace","oldBusinessObject","newBusinessObject","table","typeRef","inputExpression","expression","variable","DiagramReplace","DiagramSelection","drdReplace","DECISION","actionName","ReplaceMenuProvider","_popupMenu","_drdReplace","_rules","_translate","replaceOptions","notEmpty","notTable","notExp","menuEntries","definition","_createMenuEntry","menuEntry","DiagramTranslate","DiagramPopupMenu","replaceMenuProvider","ContextPadProvider","_contextPad","_connect","_create","_autoPlace","startConnect","appendAction","appendStart","dragstart","getReplaceMenuPosition","Y_OFFSET","diagramContainer","diagramRect","padRect","pos","deleteAllowed","removeElement","removeElements","DiagramContextPad","DiagramConnect","DiagramCreate","contextPadProvider","MARKER_CONNECTION_PREVIEW","ConnectionPreview","_connectionDocking","_layouter","cacheReturnValues","returnValues","firstArgument","ensureConnectionAttrs","connectionPreviewGfx","getConnection","noNoop","createConnectionPreviewGfx","layoutConnection","drawNoopPreview","createNoopConnection","sourcePath","targetPath","DefinitionIdEdit","DEBOUNCE_DELAY","_setup","newProperties","updateProperties","getSelection","removeAllRanges","definitionPropertiesEdit","DefinitionPropertiesEdit","AXIS_DIMENSIONS","DistributeElements","_filters","registerFilter","elementsSize","avgDimension","numOfShapes","filterFn","distributableElements","_setOrientation","_filterElements","_createGroups","distributeElements","_axis","_dimension","filters","rangeGroups","elementRange","_findRange","previous","_hasIntersection","rangeA","rangeB","DrdDistributeElements","cannotDistribute","DistributeElementsModule","drdDistributeElements","NOT_REGISTERED_ERROR","IS_REGISTERED_ERROR","EditorActions","_actions","_registerDefaultActions","editorActions","copyPaste","keyboardMove","keyboardMoveSelection","undo","redo","copy","paste","removableElements","moveSelection","accelerated","_registerAction","isRegistered","unregister","getActions","DrdEditorActions","lassoTool","directEditing","rootElement","currentSelection","EditorActionsModule","containsDi","hasDi","DiGenerator","drdUpdater","createDi","updateDiParent","diGenerator","hasModifier","isCmd","isKey","isShift","SPACING","quantize","quantum","LOWER_PRIORITY","GridSnapping","setActive","gridSnappingContext","snapOffset","getSnapOffset","snapConstraints","getSnapConstraints","snapEvent","resizeConstraints","isHorizontal","minResizeConstraints","maxResizeConstraints","isWest","isNorth","snapLocation","snappedValue","getGridSpacing","isActive","toggleActive","CommandInterceptor","unwrapEvent","hook","handlerFn","fullEvent","hooks","ResizeBehavior","gridSnapping","_gridSnapping","preExecute","autoResize","newBounds","snapComplex","snapSimple","directions","snapHorizontally","snapVertically","west","east","snappedNewBounds","north","south","SpaceToolBehavior","initialized","gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior","GridSnappingBehaviorModule","KEYDOWN_EVENT","KEYUP_EVENT","Keyboard","_keydownHandler","_keyupHandler","_fire","bindTo","contentEditable","_keyHandler","keyEvent","_node","getBinding","removeListener","KEYCODE_C","KEYCODE_V","KEYCODE_Y","KEYCODE_Z","KEYS_COPY","KEYS_PASTE","KEYS_REDO","KEYS_UNDO","KeyboardBindings","keyboard","registerBindings","keyboardBindings","DrdKeyboardBindings","KeyboardModule","DEFAULT_CONFIG","moveSpeed","moveSpeedAccelerated","KeyboardMove","arrowsListener","speed","actualSpeed","HIGHER_PRIORITY","UP","DOWN","KEY_TO_DIRECTION","ArrowLeft","Left","ArrowUp","Up","ArrowRight","Right","ArrowDown","Down","DIRECTIONS_DELTA","up","down","KeyboardMoveSelection","moveElements","CommandStack","_handlerMap","_stackIdx","_currentExecution","dirty","execute","_pushAction","_internalExecute","_popAction","_getHandler","_getUndoAction","_internalUndo","_getRedoAction","_setHandler","registerHandler","handlerCls","canUndo","canRedo","_atomicDo","revert","_markDirty","_revertedAction","qualifier","_createId","execution","atomic","_executedAction","postExecute","baseAction","stackIdx","ChangeSupport","changeSupport","isTextNode","TEXT_NODE","nodeList","TextBox","keyHandler","resizeHandler","handlePaste","parentStyle","maxHeight","minWidth","minHeight","backgroundColor","border","boxSizing","wordWrap","textAlign","contentStyle","centerVertically","innerText","resizable","setSelection","clipboardData","getData","insertText","hasResized","execCommand","_insertTextIE","startContainer","endContainer","startOffset","endOffset","commonAncestorContainer","childNodesArray","containerTextContent","textNode","startContainerChildIndex","endContainerChildIndex","childNode","resizeHandle","startX","startY","startWidth","startHeight","onMouseDown","onMouseMove","newWidth","newHeight","onMouseUp","borderTop","borderRight","borderBottom","borderLeft","getValue","getRangeAt","createRange","selectNodeContents","setStart","setEnd","addRange","DirectEditing","_textbox","_handleKey","_handleResize","_active","containerBounds","previousBounds","$textbox","newText","charCode","getLabelAttr","getLabel","setLabel","isExternal","LabelEditingProvider","_textRenderer","isEmptyText","editingBBox","getEditingBBox","defaultFontSize","defaultLineHeight","paddingTop","paddingBottom","paddingLeft","paddingRight","activeContextText","updateLabel","DiagramCommand","DiagramChangeSupport","DiagramDirectEditing","labelEditingProvider","CreateConnectionBehavior","connectionBo","getRequirementType","LayoutConnectionBehavior","layouter","updateInformationRequirements","informationRequirements","incomingInformationRequirementsByOrientation","getInformationRequirementsByOrientation","connectionStartEnd","getConnectionsStartEnd","sortInformationRequirements","informationRequirement","newSource","newTarget","getConnectionHints","postExecuted","incomingOrientation","isSameOrientation","incomingInformationRequirements","targetTrbl","orientationA","orientationB","ReplaceConnectionBehavior","ReplaceElementBehaviour","oldShape","unclaimId","ID","IdChangeBehavior","executed","updateIds","oldProperties","shouldSkipUpdate","getDefinitions","updateElementReferences","artifact","updateAssociationReferences","isIdChange","oldId","authorityRequirement","knowledgeRequirement","createConnectionBehavior","idChangeBehavior","layoutConnectionBehavior","replaceConnectionBehavior","replaceElementBehavior","ReplaceElementBehavior","RuleProvider","addRule","DrdRules","canMove","DiagramRulesModule","drdRules","DrdFactory","_model","_needsId","_ensureId","nextPrefixed","createDiBounds","createDiWaypoints","createDiWaypoint","createExtensionElements","DrdUpdater","_definitionPropertiesView","_drdRules","updateParent","reverseUpdateParent","oldParent","newParent","updateBounds","updateConnectionWaypoints","cropped","reverted","targetBo","updateSemanticParent","newTargetBo","oldTargetBo","oldTarget","parentBo","containment","parentDi","AppendShapeHandler","existsConnection","CreateConnectionHandler","CreateElementsHandler","createShapeHints","CreateShapeHandler","positionOrBounds","CreateLabelHandler","originalExecute","ensureValidDimensions","originalRevert","DeleteConnectionHandler","DeleteElementsHandler","saveClear","removeFn","DeleteShapeHandler","nested","oldParentIndex","OFF_AXIS","updateRange","lastIdx","rangeDiff","firstGroup","spaceInBetween","lastGroupIdx","lastGroup","groupsSize","refElem","refCenter","centerElement","groupIdx","prevGroup","LayoutConnectionHandler","MoveConnectionHandler","newParentIndex","getNewAttachPoint","oldBounds","oldCenter","newCenter","oldDelta","newDelta","getNewAttachShapeDelta","shapeCenter","shapeDelta","oldCenterDelta","stickyPositionDelta","getStickyPositionDelta","newCenterDelta","newShapeCenter","oldShapeCenter","oldTRBL","newTRBL","isMoved","oldOrientation","newOrientation","isHorizontallyMoved","isVerticallyMoved","getResizedSourceAnchor","safeGetWaypoints","waypointsInsideNewBounds","getWaypointsInsideBounds","oldAnchor","getResizedTargetAnchor","getMovedSourceAnchor","moveDelta","getMovedTargetAnchor","isInsideBounds","MoveClosure","addAll","newClosure","MoveHelper","moveRecursive","moveClosure","newHost","primaryShape","keepParent","moveShape","recurse","sourceMoved","targetMoved","moveConnection","MoveElementsHandler","_helper","MoveShapeHandler","moveChildren","getNewParent","ReconnectConnectionHandler","dockingOrPoints","oldSource","layoutConnectionHints","ReplaceShapeHandler","newData","canReconnect","updateAttachment","reconnectEnd","reconnectStart","dockingPoint","ResizeShapeHandler","minBounds","getWaypointsUpdatingConnections","movingShapes","resizingShapes","waypointsUpdatingConnections","resizeBounds","SpaceToolHandler","copyWaypoint","copyWaypoints","getAxisFromDirection","shouldMoveWaypoint","relevantAxis","getBounds","moveShapes","resizeShapes","resizeShape","attachSupport","connections","affectedShapes","layoutHints","labelBehavior","ToggleShapeCollapseHandler","getElementsVisibilityRecursive","setHiddenRecursive","newHidden","collapsed","restoreVisibilityRecursive","lastState","oldChildrenVisibility","UpdateAttachmentHandler","removeAttacher","addAttacher","oldHost","attacherIdx","UpdateWaypointsHandler","Modeling","registerHandlers","getHandlers","DistributeElementsHandler","AlignElementsHandler","connectionParent","createSpace","toggleCollapse","IdClaimHandler","claiming","unclaim","UpdateLabelHandler","setText","oldLabel","NAME","UpdatePropertiesHandler","getProperties","propertyNames","setProperties","BaseModeling","claimId","moddleElement","BaseLayouter","ADDITIONAL_WAYPOINT_DISTANCE","DrdLayouter","getConnectionDocking","additionalWaypoint","dockingToPoint","actual","CroppingConnectionDocking","sourceDocking","getDockingPoint","targetDocking","dockStart","dockingIdx","_getIntersection","takeFirst","_getShapePath","_getConnectionPath","_getGfx","ModelingBehavior","DefinitionPropertiesViewer","MEDIUM_PRIORITY","MoveEvents","referencePoint","removeNested","validatedShapes","isAttach","MARKER_DRAGGING","MovePreview","getAllDraggedElements","dragShapes","allDraggedElements","visuallyDraggedShapes","removeEdges","differentParents","haveDifferentParents","makeDraggable","Move","movePreview","TOGGLE_SELECTOR","ENTRY_SELECTOR","PALETTE_OPEN_CLS","PALETTE_TWO_COLUMN_CLS","Palette","tool","updateToolHighlight","_update","_diagramInitialized","_rebuild","addPaletteEntries","getPaletteEntries","parentContainer","_getParentContainer","_layoutChanged","_toggleState","_needsCollapse","_entries","availableHeight","isActiveTool","_activeTool","toolsContainer","_toolsContainer","toolClasses","ToolManager","_dragging","_tools","registerTool","tools","bindEvents","eventsToRegister","reactivate","toolManager","LASSO_TOOL_CURSOR","LassoTool","_selection","SVGElement","activateLasso","toBBox","activateSelection","ToolManagerModule","PaletteProvider","_palette","_lassoTool","createAction","createListener","DiagramPalette","DiagramLasso","paletteProvider","DEFAULT_CHILD_BOX_PADDING","substractTRBL","trblA","trblB","resizeTRBL","resize","reattachPoint","applyConstraints","currentBounds","currentTrbl","getMinResizeBounds","minDimensions","childrenBounds","currentBox","minBox","childrenBox","combinedBox","asPadding","mayBePadding","addPadding","isBBoxChild","computeChildrenBBox","shapeOrChildren","DEFAULT_MIN_WIDTH","Resize","computeMinResizeBox","canResize","boundsChanged","getReferencePoint","getCursor","contextOrDirection","childrenBoxPadding","MARKER_RESIZING","MARKER_RESIZE_NOT_OK","ResizePreview","updateFrame","removeFrame","HANDLE_OFFSET","HANDLE_SIZE","HANDLE_HIT_SIZE","CLS_RESIZER","ResizeHandles","_resize","removeResizers","addResizer","getHandleOffset","startResize","_createResizer","resizersParent","_getResizersParent","createResizer","resizer","resizePreview","resizeHandles","DrdBendpointSnapping","snapToSource","getConnectionEnd","getConnectionStart","snapToTarget","DrdConnectSnapping","SnapContext","_targets","_snapOrigins","_snapLocations","_defaultSnaps","SnapPoints","defaultSnaps","_snapValues","getSnapOrigin","setSnapOrigin","initialValue","addDefaultSnap","snapValues","getSnapLocations","setSnapLocations","snapLocations","pointsForTarget","targetId","initDefaults","snap","snappingValues","CreateMoveSnapping","snapping","initSnap","snapContext","addSnapTargetPoints","isHidden","shapeMid","shapeTopLeft","shapeBottomRight","snapTargets","getSnapTargets","snapTarget","ResizeSnapping","isVertical","snapOrigin","isAttached","SNAP_TOLERANCE","SNAP_LINE_HIDE_DELAY","Snapping","_asyncHide","snapCurrent","locationSnapping","originValue","showSnapLine","axisSnapping","_createLine","_createSnapLines","_snapLines","getSnapLine","snapLine","createMoveSnapping","resizeSnapping","SnappingModule","connectSnapping","Modeler","_modelingModules","AlignElementsModule","AutoScrollModule","BendpointsModule","ContextPadModule","ConnectPreviewModule","GenerateDiModule","GridSnappingModule","KeyboardMoveModule","KeyboardMoveSelectionModule","LabelEditingModule","ModelingModule","MoveModule","PaletteModule","ResizeModule","cols","Row","cells","Col","Cell","TYPES","cell","elementsChanged","oldRootId","newRootId","invoked","elementsLength","listenersLength","Components","existingListener","NO_OP","ERROR_MSG","isBrowser","isStringOrNumber","isNullOrUndef","isNull","isInvalid","isTrue","throwError","combineFrom","second","key$1","keyPrefix","getVNode","childFlags","flags","dom","parentVNode","createVNode","childFlag","vNode","normalizeChildren","createComponentVNode","defaultProps","defaultHooks","prop$1","optsVNode","createTextVNode","normalizeProps","directClone","vNodeToClone","newVNode","propsToClone","createVoidVNode","_normalizeVNodes","currentKey","newKey","oldKey","isPrefixedKey","getFlagsForElementVnode","newChildren","newChildFlags","isFrozen","isNullDom","isNullKey","isPrefixed","$","afterMount","afterRender","afterUpdate","beforeRender","beforeUnmount","roots","linkEvent","xlinkNS","xmlNS","svgNS","EMPTY_OBJ","LIFECYCLE","parentDom","insertOrAppend","nextNode","documentCreateElement","isSVG","newDom","lastDom","callAll","arrayFn","attachedEventCounts","attachedEvents","handleEvent","nextEvent","eventsLeft","eventsObject","$EV","attachEventToDocument","normalizeEventName","dispatchEvents","isClick","currentEvent","immediatePropagationStopped","docEvent","isSameInnerHTML","tempdom","isSamePropsInnerHTML","dangerouslySetInnerHTML","__html","triggerEventListener","methodName","nativeListenerName","createWrappedFunction","applyValue","fnMethod","$V","newProps","isCheckedType","onTextInputChange","applyValueInput","wrappedOnChange","emptywrapper","inputEvents","nextPropsOrEmpty","onchange","onclick","oninput","multiple","hasValue","updateChildOptionGroup","updateChildOption","selected","wrapped","onSelectChange","applyValueSelect","selectEvents","mounting","multiplePropInBoolean","onTextareaInputChange","applyValueTextArea","wrappedOnChange$1","textAreaEvents","onChange","domValue","processElement","isControlled","addFormElementEventHandlers","isControlledFormElement","unmount","unmountAllChildren","ref$1","componentWillUnmount","$UN","$LI","onComponentWillUnmount","children$1","removeAllChildren","createLinkEvent","nextValue","patchEvent","lastValue","nameLowerCase","domEvent","getNumberStyleValue","patchStyle","lastAttrValue","nextAttrValue","domStyle","cssText","patchProp","hasControlledValue","lastVNode","lastHtml","nextHtml","mountProps","isFormElement","createClassComponentInstance","$BS","componentWillMount","$BR","$PSS","pending","$PS","childContext","handleComponentInput","getChildContext","$CX","componentVNode","mount","lifecycle","mountElement","mountComponent","mountText","childrenIsSVG","mountArrayChildren","mountRef","mountClassComponentCallbacks","$UPD","mountFunctionalComponentCallbacks","createClassMountCallback","hasAfterMount","hasDidMount","componentDidMount","createOnMountCallback","onComponentDidMount","onComponentWillMount","hydrateComponent","hydrateVNode","input$1","hydrateElement","hydrateText","hydrate","replaceWithNewNode","lastNode","patch","nextVNode","nextFlags","patchElement","patchComponent","patchText","patchPortal","lastContainer","nextContainer","nextChildren","patchChildren","nextTag","lastProps","nextProps","lastPropsOrEmpty","lastChildren","nextRef","lastClassName","nextClassName","lastChildFlags","nextChildFlags","parentDOM","lastLength","nextLength","patchKeyedChildren","patchNonKeyedChildren","updateClassComponent","fromSetState","renderOutput","componentWillReceiveProps","hasSCU","shouldComponentUpdate","componentWillUpdate","didUpdate","componentDidUpdate","nextType","lastKey","shouldUpdate","nextHooks","nextHooksDefined","lastInput","onComponentShouldUpdate","onComponentWillUpdate","nextInput","onComponentDidUpdate","nextText","lastChildrenLength","nextChildrenLength","commonLength","nextChild","aLength","bLength","aEnd","nextPos","bEnd","aStart","bStart","aNode","bNode","aLeft","bLeft","canRemoveWholeContent","moved","patched","keyIndex","lis_algorithm","u","arrI","documentBody","rootLen","rootInput","createRenderer","createPortal","resolvedPromise","fallbackMethod","nextTick","queueStateChanges","stateKey","queue","$QU","promiseCallback","applyState","pendingState","forceUpdate","setState","nextContext","JSX","freeze","TableComponent","_sheet","_changeSupport","_components","onElementsChanged","getRoot","offElementsChanged","beforeTableComponents","getComponents","afterTableComponents","Head","getComponent","Body","Foot","Renderer","renderer","Sheet","setRoot","oldRoot","addAtIndex","removeAtIndex","renderModule","sheet","Table","core","elementToString","TableTreeWalker","handleClauses","clauses","handleEntry","handleDecision","decision","rule","inputEntry","outputEntry","importDecision","decisionTable","hasModeling","clause","parentShape","canAddMissingEntries","newSet","inject","injectType","annotation","setupFn","fns","mixinDef","mixinFn","componentFn","__init","SelectionAware","getSelectionClasses","selectedSecondary","focussed","selectionChanged","elementId","updateSelectionSubscription","oldProps","BaseCell","coords","baseProps","HeaderCell","getRenderProps","DiContainer","ComponentWithSlots","slotFill","slotProps","DefaultFill","Fill","slotFills","fills","AnnotationHeader","MIN_WIDTH","cellType","AnnotationCell","description","AnnotationsProvider","onGetComponent","annotationsProvider","TableImporter","createCol","addCol","createCell","createRow","addRow","tableImporter","importModule","DecisionTableHead","inputs","outputs","inputsLength","DefaultInputHeaderCell","outputsLength","DefaultOutputHeaderCell","inputValues","actualClassName","outputValues","DecisionTableHeadProvider","decisionTableHeadProvider","DecisionTablePropertiesComponent","HitPolicy","NullComponent","DecisionTableProperties","decisionTableProperties","DecisionRulesIndexCellComponent","rowIndex","innerComponents","InnerComponent","DecisionRuleIndices","DecisionRuleIndexCellComponent","decisionRuleIndices","ExpressionLanguages","EXPRESSION_LANGUAGE_OPTIONS","editor","legacyDefaults","_getLegacyDefaults","componentName","defaultFromConfig","_getLanguageByValue","expressionLanguageValue","langauge","inputCellValue","outputCellValue","inputCell","outputCell","language","expressionLanguages","DecisionRulesBodyComponent","RowComponent","rowType","DecisionRulesRowComponent","colIndex","DecisionRulesCellComponent","ExpressionLanguagesModule","decisionRules","DecisionRules","HIT_POLICIES","hitPolicy","aggregation","explanation","hitPolicyEntry","isEqualHitPolicy","HitPolicyProvider","hitPolicyProvider","ViewDrdComponent","onClick","ViewDrd","canViewDrd","viewDrd","Logo","PoweredByLogoComponent","PoweredByOverlayComponent","onShow","PoweredBy","poweredBy","_decision","extraModules","staticModules","PoweredByModule","_getModules","annotationsModule","coreModule","decisionTableHeadModule","decisionTablePropertiesModule","decisionRuleIndicesModule","decisoinRulesModule","hitPolicyModule","viewDrdModule","AddRuleFootComponent","placeholder","handleClick","AddRule","_renderer","EVENTS","findClosestCell","_addEventListeners","_removeEventListeners","_handleEvent","domClosest","componentXor","xor","globals","componentProps","ret","domIterator","peeked","closingTag","_revisit","_selects","_rejects","higher","traverse","dir","expr","compile","closing","revisit","selects","rejects","opening","atOpening","atClosing","exprs","peak","use","applyRange","getWindowSelection","rangeCount","focusNode","isText","setRange","getRange","selectionStart","isClosing","isBeforeEnd","referenceNode","isBeforeStart","isBr","isDiv","isParagraph","annotateRange","setStartAfter","setStartBefore","setEndAfter","setEndBefore","previousSibling","SELECTABLE_SELECTOR","getElementId","getElementCoords","coordsAttr","getNodeByCoords","elementCoords","cssEscape","getNodeById","isUnselectableNode","findSelectableAncestor","getFocusableNode","ensureFocus","focusEl","activeElement","VALID_DIRECTIONS","above","below","CellSelection","lastSelection","realSelect","selectableNode","unfocus","actualElement","oldElementId","isCellSelected","getCellSelection","selectCell","selectionEl","nextCoords","getNextCoords","nextElId","cellSelection","Clipboard","_data","clipboard","DecisionTableModelingRules","canPasteRows","canPasteCols","cellDescriptor","targetCol","decisionTableModelingRules","CutHandler","_clipboard","oldData","removeRow","removeCol","createHooks","copyTableProperties","copyBusinessObjectProperties","reviveHooks","reviveBusinessObject","reviveTableElement","createDescriptor","createDescriptors0","createDescriptor0","currentCache","descriptorCache","currentDescriptors","existingDescriptor","element0","evaluateHooks","newDesc","cells0","bo0","createBoDescriptor","boCache","existingBoDesc","value0","reviveDescriptor","reviveCache","reviveDescriptors0","reviveDescriptor0","descriptors","existingElement","evaluateReviveHooks","revive","createCache","elementAttrs","Constructor","getConstructor","createBo","boDescriptor","existingBo","newBoAttrs","val0","_keepIds","assigned","newBo","_dmnFactory","newBoAttr","PasteHandler","dmnFactory","keepIds","oldElements","CutPaste","_paste","before","ClipboardModule","copyCutPaste","CopyCutPaste","DecisionTableEditorActions","addRuleAbove","hasSelection","addRuleBelow","removeRule","addInput","addInputLeft","addInputRight","removeInput","addOutput","addOutputLeft","addOutputRight","removeOutput","addClause","addClauseLeft","addClauseRight","removeClause","selectCellAbove","selectCellBelow","cut","pasteBefore","pasteAfter","moveRow","moveCol","decisionTableEditorActions","ContentEditable","propsFocus","onFocus","propsBlur","onBlur","ctrlForNewline","singleLine","insertLineBreak","onInput","propsInput","onInputIEPolyfill","isIE","oldText","newRange","selectionUpdate","escapeHtml","getClassName","onKeypress","onPaste","onKeydown","brTag","cloneRange","br","deleteContents","insertNode","ua","EditableComponent","changing","debounceInput","inputChanged","getDisplayValue","EditableAnnotationCell","editAnnotation","setAnnotationValue","AnnotationEditor","getEditor","AnnotationsEditingProvider","DEFAULT_DEBOUNCE_TIME","shouldDebounce","debounceTime","DebounceInput","ContextMenuComponent","autoFocus","autoClose","triggerClose","ContextMenu","checkClose","updatePosition","onClose","focusTarget","onFocusChanged","onGlobalKey","onGlobalMouseDown","scrollX","clampNumber","scrollY","setNode","SELECTABLE_ELEMENTS","contextMenu","modifiers","CopyPasteKeyBindings","_getSelectedCell","_editorActions","pasted","_cellSelection","_keyboard","_registerBindings","_clearClipboard","focusableNode","CellSelectionModule","copyCutPasteKeyBindings","CopyCutPasteKeyBindings","CreateInputsHeaderCell","CreateInputsCell","CreateInputsProvider","createInputsProvider","_contextMenu","contextMenuType","additionalCellEntries","isCell","cellEntriesGroup","pageX","pageY","canPaste","canRemove","ContextMenuCloseBehavior","COMMANDS","TableContextMenu","ModelingRules","decisionTableContextMenu","contextMenuCloseBehavior","OutputCell","onContextmenu","onKeyDown","onKeyUp","OutputEditor","noopTranslate","setName","handleChange","changes","OutputCellContextMenu","unsaved","persistChanges","OutputEditingProvider","getOffset","domMatches","InputCell","InputSelect","setOptionsVisible","optionsVisible","focusInput","code","keycode","_portalEl","onGlobalClick","onKeyboard","removePortalEl","addPortalEl","inputNode","optionsBounds","getOptionsBounds","containerTop","containerLeft","inputTop","inputLeft","nextIdx","nextOption","activeOption","onOptionClick","noInput","renderOptions","onInputClick","InputEditor","defaultExpressionLanguage","setExpressionLanguage","expressionLanguage","handleValue","isMultiLine","handleLanguageChange","handleLabelChange","handleInputVariableChange","inputVariable","InputCellContextMenu","inputExpressionProperties","hasKeys","_expressionLanguages","defaultLanguage","getDefault","InputCellProvider","TypeRefCellContextMenu","getElement","typeRefOptions","onTypeChange","TypeRef","typeRefEditingProvider","TypeRefEditingProvider","AllowedValuesUpdateBehavior","actualProperties","editAllowedValues","RADIO","REMOVE_BTN_CLS","removeItem","toggleItem","newItems","isChecked","labelComponent","groupedItems","asPairs","toPairs","pair","groupTitle","groupItems","getToggleClickHandler","isRemovable","getRemoveClickHandler","entrys","ValidatedInput","validationWarning","parentClasses","inputClasses","parseString","isEmptyString","openString","getValuesArray","AllowedValuesEditing","getAllowedValuesTarget","setPredefinedValues","inputValue","isEnter","parsedString","onListChange","isCheckable","removePredefinedValues","handleRemovePredifinedValuesClick","InputOutputValues","allowedValuesUpdateBehavior","allowedValuesEditingProvider","AllowedValuesEditingProvider","AddInput","AddOutput","AddInputOutputProvider","addInputOutputProvider","_registerDefaultBindings","selectedCell","isDecisionNameCell","listenerFn","AddInputOutput","TypeRefEditing","inputEditingProvider","InputEditingProvider","outputEditingProvider","TARGET_SELECTOR","DragAndDrop","targetEl","cellEl","hoverEl","_dragContext","dataTransfer","dropEffect","draggedElement","handleDragEnd","_unbindListeners","handleDragOver","handleDrop","effectAllowed","setData","_bindListeners","dragAndDrop","removeHighlight","removeFadeOut","_dragImage","_dragAndDrop","startDrag","dropIndex","getTargetColIndex","newPosition","getVerticalPosition","getHorizontalPosition","highlightRow","highlightCol","verticalPosition","rowId","dataset","targetRow","getTargetRow","horizontalPosition","colId","getTargetCol","_cleanup","setDragImage","fadeOutRow","fadeOutCol","dragOverCell","domQueryAll","isNode","dragOverElement","draggedRow","getRowBelow","getRowAbove","draggedCol","getColRight","getColLeft","firstOutput","firstOutputIndex","lastInputIndex","dmnDragAndDrop","DmnDragAndDrop","DescriptionEditor","_element","changeDescription","Editor","OFFSET_X","Description","getPosition","getDescription","existingDescription","removeDescription","addDescription","ContextMenuModule","InteractionModule","ExpressionLanguage","openMenu","clickEvent","editExpressionLanguage","editDecisionTableName","setupChangeListeners","resetScroll","setDecisionTableName","DecisionTableName","DecisionTablePropertiesEditor","EditableHitPolicy","editHitPolicy","HitPolicyEditingProvider","DmnUpdater","ifDmn","updateRoot","oldTable","oldRules","oldIdx","newTable","newIdx","wireCell","collectionIdx","cel","rowIdx","unwireCell","colIdx","oldRow","cellBo","oldRowBo","inputEntries","outputEntries","rowBo","DmnFactory","tType","AddRowHandler","RemoveRowHandler","oldIndex","MoveRowHandler","AddColHandler","RemoveColHandler","MoveColHandler","EditCellHandler","_getHandlers","changedAttrs","UpdateAllowedValuesHandler","allowedValues","oldAllowedValues","EditPropertiesHandler","propertyValue","isContainer","IdClaimBehavior","IdUnclaimBehavior","idClaimBehavior","idUnclaimBehavior","Behavior","dmnUpdater","DecisionRulesEditorCellComponent","isFocussed","changeCellValue","editCell","isUnaryTest","TableCellEditor","getDefaultExpressionLanguage","isDefaultExpressionLanguage","expressionLanguageLabel","getExpressionLanguageLabel","isScript","RulesEditor","DecisionRulesCellEditorComponent","decisionRulesEditor","DecisionRulesEditor","OFFSET","SimpleModeButtonComponent","isVisible","isDisabled","simpleMode","canSimpleEdit","getExpressionLanguage","cellBounds","nodeBounds","nodePosition","SimpleMode","TRUE","FALSE","NONE","BooleanEdit","SimpleBooleanEdit","getTypeRef","simpleBooleanEdit","ISO_DATE_REGEX","BETWEEN_DATE_REGEX","BEFORE_AFTER_DATE_REGEX","EXACT_DATE_REGEX","EXACT","BEFORE","AFTER","BETWEEN","validateISOString","getDateString","dates","getSampleDate","date","setUTCHours","toISOString","InputDateEdit","debouncedEditCell","onSetStartDateTodayClick","onSetEndDateTodayClick","onStartDateInput","onEndDateInput","OutputDateEdit","SimpleDateEdit","isDate","simpleDateEdit","COMPARISON_REGULAR_EXPRESSION","RANGE_REGULAR_EXPRESSION","operators","less","lessEquals","greater","greaterEquals","getOperatorName","comparisonMatches","rangeMatches","operator","isComparison","getComparisonString","comparisonOperator","comparisonValue","getRangeString","rangeStartValue","rangeEndValue","rangeStartType","rangeEndType","rangeStartChar","rangeEndChar","COMPARISON","InputNumberEdit","onComparisonOperatorChange","onComparisonValueChange","onRangeStartTypeChange","onRangeStartValueChange","onRangeEndTypeChange","onRangeEndValueChange","comparisonOperatorOptions","rangeTypeOptions","typeOptions","renderComparison","renderRange","OutputNumberEdit","SimpleNumberEdit","simpleNumberEdit","getInputOrOutputValues","inputOrOutput","inputOrOutputValues","DISJUNCTION","NEGATION","INPUT_VALUES_LABEL","OUTPUT_VALUES_LABEL","INPUT_ENTRY_VALUES_LABEL","SimpleStringEditContextMenuComponent","filteredValues","isInputClause","unaryTestsType","isOutputValueInputChecked","addUnaryTestsListItem","onOutputValueInputClick","onUnaryTestsListChanged","onUnaryTestsTypeChange","getValues","parsedInput","isNegation","showRadio","selectNode","marginRight","SimpleStringEdit","simpleStringEdit","ResizeColumn","onEnd","saveWidth","annotationsWidth","isLastInputOrOutput","handleMouseDown","initialWidth","currentUpdate","initialX","handleMouseMove","currentWidth","getResizedWidth","currentX","handleMouseUp","ColumnResizeProvider","columnResizeProvider","addRuleModule","annotationsEditorModule","cellSelectionModule","contextMenuModule","copyCutPasteModule","copyCutPasteKeybindingsModule","createInputsModule","decisionTableEditorActionsModule","decisionTableHeadEditorModule","columnResizeModule","dragAndDropModule","descriptionModule","expressionLanguageModule","expressionLanguagesModule","keyboardModule","tablePropertiesEditorModule","editorActionsModule","hitPolicyEditorModule","interactionEventsModule","modelingModule","decisionRulesEditorModule","selectionModule","simpleModeModule","simpleBooleanEditModule","simpleDateEditModule","simpleNumberEditModule","simpleStringEditModule","ViewerComponent","_viewer","getDecision","DecisionPropertiesComponent","DecisionProperties","decisionProperties","LiteralExpressionPropertiesComponent","literalExpression","literalExpressionProperties","LiteralExpressionProperties","TextareaComponent","Textarea","textarea","VERY_HIGH_PRIORITY","BaseViewer","DecisionPropertiesModule","LiteralExpressionPropertiesModule","TextareaModule","ViewDrdModule","DecisionPropertiesEditorComponent","editDecisionName","setDecisionName","DecisionName","DecisionPropertiesEditor","TYPE_REF_OPTIONS","setVariableName","setVariableType","editVariableName","editVariableType","languageOptions","LiteralExpressionPropertiesEditor","LiteralExpressionPropertiesEditorComponent","TextareaEditorComponent","editLiteralExpressionText","getLiteralExpression","TextareaEditor","DecisionPropertiesEditorModule","LiteralExpressionPropertiesEditorModule","DrdModeler","DecisionTableEditor","LiteralExpressionEditor","definitionsView","zoomIn","zoomOut","zoomToFit","dmnEditor","DMNModeler","initEditorAction","editorSave","showDocument","importXML","editorZoomIn","editorZoomOut","editorZoomToFit","saveXML","showErrorMessage","showInfoMessage","processFlowListener","searchString","startsWith","stateURL","decodeURI","history","pushState","notificationListener"],"mappings":"AqVKuDuI,ALFTA,AtCmD7C,AExBA,ADCA,A+ETA,AvEnBwCA,akCEcA,ALFTA,AtCmD7C,AE1Cc,ADmBd,A+E/BM,AvEGkCA,OkCEcA,ALFTA,A7BALA,ETmDxC,AE1CuBoiB,ADmBvB,A+E/BesgG,EhFsDf,AE1C+BxmG,ADmB/B,A+E/B2Bm9I,GhFsD3B,AE1C6C,ADmB7C,A+E7BGA,I9EU0C,GF0C7C,ACvBA,A+E7BGA,CrCGmDr5J,ALFTA,ApCSA,AOTLA,CTmDxC,ACvBA,A+E7Ba28E,C9EUgC,GDmB7C,EAAA,C0C1BsD38E,ALFTA,A7BALA,EuEArCq5J,C/E4BH,CCnB6C,A8EThC38E,G/E4Bb,ICnBwC8lE,CF0CxC,C2CjDsDxiJ,ALFTA,ApCSA,A8ER1Cq5J,AvEDqCr5J,CkCEcA,ALFTA,A7BALA,CuEC3B68E,C/E2Bb,CCnB6C,GF0C7C,ACvBA,C0C1BsD78E,ALFTA,A7BALA,EPSK,EyCPSA,ALFTA,ApCSA,A8EP1Cq5J,AvEFqCr5J,CR4BxC,CCnB6C,A8EPhC0pF,E9EOgC,CDmB7C,CCnB6C,EyCPS1pF,ALFTA,A7BALA,CPSK,A8EHvC,E9EGuC,CF0C7C,CE1C6C,EAAA,ADmB7C,ECnB6C,C8EH9B2iH,ChF6Cf,CgF7CqB02C,CrCJiCr5J,ALFTA,ApCSLwiJ,AOTAxiJ,EkCEcA,ALFTA,ApCSA,A8ECxCq5J,AvEbN,EPY8C,EyCPSr5J,ALFTA,A7BH9C,CTsDC,AE1C6C,CyCPSA,ALFTA,A7BH9C,CuEaMq5J,EAAU3vE,KrCRuC1pF,ALFTA,AtCmD7C,AStDD,CPY8C,EF0C7C,CExCQ,A8EGAq5J,EAAU18E,KrCfnB,ALC8C38E,ApCWrC,AOXgCA,EkCDzC,EAAA,AqCe8Bq5J,EhFqC7B,AgFrCuC38E,G1CdM18E,AtCmD7C,ASnDwCA,E6BAKA,ApCWnB,AOXcA,CkCDzC,ELC8CA,A7BALA,CPWd,A8EMpB,GhFkCN,ACvBA,CCjB0B,EoCXmBA,AtCmD7C,AExC0B,AOXcA,E6BAKA,A7BALA,CuEiBzB6iH,EAAQw2C,C/EWvB,CDuBA,CCvBA,A+EVQA,EhFiCR,AExC0B,CDiB1B,GAAA,C+EVQA,E9EPYjjH,A8EOFymC,E9EPQ,EoCXmB78E,ArC4B7C,AQ5BwCA,EPWd,G8EQ1B,GrCjBsDA,ALFTA,AtCmD7C,AExC0B,AOXcA,GPWd,CDiB1B,A+ETA,C9ER0B,EAAA,CFwC1B,C2CjDsDA,AzCS5B,CFwC1B,C2CjDsDA,AzCS5B,ADiB1B,G0C1BsDA,CzCSlCo2C,ADiBpB,EqC5B6Cp2C,ApCWnB,AOXcA,EuEmBxC,C9ER0B,CyCT4BA,GAAAA,ALFTA,AtCmD7C,ASnDwCA,EkCEcA,CqCiBtD,G9ER0B,EFwC1B,CsCnD6CA,ApCatC+b,AObiC/b,GTmDxC,C2CjDsDA,AzCW/C+b,CDeP,C0C1BsD/b,AzCsB5C+b,CyCtB4C/b,AqCiBtD,CAAA,C1CnB6CA,A7BALA,CTmDxC,EsCnD6CA,ArC4B7C,AQ5BwCA,CPerCwiJ,EyCbmDxiJ,AzCa/C5C,A8EIP,GrCjBsD4C,CqCiBtD,ChFgCA,ECvBA,CCbe,GoCf8BA,A7BALA,CkCEcA,AqCiBtD,ErCjBsDA,ALFTA,A7BALA,ER4BxC,C0C1BsDA,AzCa9B8rB,GAIf,CFgCT,ACvBA,EqC5B6C9rB,A7BALA,CkCEcA,A1C0BtD,A+ETA,ChFgCA,C2CjDsDA,ALFTA,A0CmB7C,AvEnBwCA,ETmDxC,AEhC2B,GDS3B,EqC5B6CA,ApCiBxC+b,AOjBmC/b,CuEmBxC,C9EFc8rB,CoCjB+B9rB,A7BALA,CTmDxC,AElCiBpB,ADWjB,EDuBA,CgFhCA,ChFgCA,CElCc,ADWd,A+ETA,EhFgCA,C2CjDsDoB,A1C0BtD,GDuBA,AElCc8rB,EFkCd,AElCgB,A8EEhB,C9EFsB5P,EyCfgClc,CzCetC,ADWhB,CqC5B6CA,A7BALA,CR4BxC,CDuBA,CgFhCA,C/ESA,ECX+Bo2C,CFkC/B,ACvBA,CqC5B6Cp2C,A7BALA,E6BAKA,AtCmD7C,ASnDwCA,CPoB1B,EDQd,E0C1BsDA,E3CiDtD,CE/Bc,GDQd,C0C1BsDA,AzCsB5C+b,EoCxBmC/b,AtCmD7C,ACvBA,AQ5BwCA,CPyBrC+B,ADGH,IAAA,CCHQma,CyCvB8Clc,CLFTA,A7BALA,CP2BxC,ADCA,EAAA,CqC5B6CA,A7BALA,CR4BxC,EAAA,C0C1BsDA,AzCyBtD,GyCzBsDA,ALFTA,ArC4B7C,AQ5BwCA,ITmDxC,EAAA,ACvBA,EAAA,EqC5B6CA,A7BALA,CTmDxC,CExBA,EyCzBsDA,E1C0BtD,C0C1BsDA,A3CiDtD,CCvBA,CDuBA,CExBA,ADCA,M0C1BsDA,ALFTA,AtCmD7C,ASnDwCA,CR4BxC,E0C1BsDA,CLFTA,A7BALA,CR4BxC,EqC5B6CA,ApC2B7C,ADCA,AQ5BwCA,CP2BxC,EyCzBsDA,A1C0BtD,EAAA,C0C1BsDA,EzCyBtD,ADCA,CqC5B6CA,A7BALA,E6BAKA,A7BALA,CP2BxC,CoC3B6CA,A7BALA,ETmDxC,ACvBA,CqC5B6CA,A7BALA,ERHlC,CDsDN,CExBA,CoC3B6CA,A7BALA,ETmDxC,E2CjDsDA,A3CiDtD,EAAA,ACtDeoiJ,CC8Bf,CD9BsB/kJ,GAIdglJ,C0CC8CriJ,CLFTA,AtCmD7C,ASnDwCA,CkCEcA,ELFTA,A7BALA,ERChCqiJ,EAFMhlJ,EqCC+B2C,AtCmD7C,ACpDwBX,AQCgBW,GTmDxC,CsCnD6CA,A7BALA,EkCEcA,I3CiDtD,EClDyB3C,E0CC6B2C,ALFTA,A7BALA,CRKlC,ED8CN,C2CjDsDA,M1CGvCqiJ,C0CHuCriJ,C1CG5B6/C,EAAMxiD,GAEzBilJ,I0CL+CtiJ,A1CK/CsiJ,EAAaziG,EAAKgc,GD4CzB,EAAA,GAAA,AC1CK,GAACymF,C0CPgDtiJ,ALFTA,A7BALA,CRSnC,CAKF68D,E0CZmD78D,E1CYnD68D,C0CZmD78D,C1CajD3C,CqCfwC2C,A7BALA,CTmDxC,ACpCemxB,CqCf8BnxB,A7BALA,CTmDxC,CsCnD6CA,A7BALA,GkCEcA,ALFTA,A7BALA,EkCEcA,A1CYnD68D,E0CZmD78D,ALFTA,A7BALA,CTmDxC,E2CjDsDA,A3CiDtD,CsCnD6CA,A7BALA,E6BAKA,AtCmD7C,ASnDwCA,CRiBjCuiJ,C0Cf+CviJ,ALFTA,A7BALA,CRiB1B,CqCjB+BA,AtCmD7C,ASnDwCA,E6BAKA,ArCiB/B,AQjB0BA,ETmDxC,EAAA,EAAA,CsCnD6CA,ArCiB/B,AQjB0BA,CTmDxC,C2CjDsDA,A1CehCsiJ,EqCjBuBtiJ,A7BALA,CkCEcA,ALFTA,ArCiB/B,AQjB0BA,CRiBN,GqCjBWA,A7BALA,EkCEcA,ALFTA,AtCmD7C,ASnDwCA,E6BAKA,A7BALA,EkCEcA,CLFTA,A7BALA,CRiBY,CqCjBPA,AtCmD7C,ASnDwCA,GRiBY,CDkCpD,CAAA,E2CjDsDA,A1CeF,EDkCpD,AClCoD,EqCjBPA,AtCmD7C,ASnDwCA,E6BAKA,A7BALA,ITmDxC,EClCoD,OqCjBPA,ArCiBCo2C,AQjBNp2C,CTmDxC,CsCnD6CA,ArCiBO,AQjBZA,E6BAKA,AtCmD7C,ASnDwCA,ERiBY,MAAA,EDkCpD,CClCoD,EDkCpD,AClCoD,C0CfEA,ALFTA,A7BALA,CRiBY,CqCjBPA,AtCmD7C,ASnDwCA,CRiBY,CDkCpD,CClCoD,CDkCpD,EAAA,C2CjDsDA,A1CeRo2C,E0CfQp2C,A3CiDtD,AClCoD,CqCjBPA,A7BALA,CkCEcA,C3CiDtD,AClCoD,E0CfEA,ALFTA,A7BALA,E6BAKA,A7BALA,EkCEcA,E3CiDtD,E2CjDsDA,A1CeF,E0CfEA,C1CiB9C,C0CjB8CA,ALFTA,A7BALA,EkCEcA,CLFTA,AtCmD7C,AChCQ,AQnBgCA,CkCEcA,E3CiDtD,CChCci8B,CDgCd,EsCnD6Cj8B,AtCmD7C,ASnDwCA,CkCEcA,C3CiDtD,AChCqBo2C,EDgCrB,AChC2B,C0CjB2Bp2C,A1CkB3C7E,C0ClB2C6E,G1CkB3C7E,C0ClB2C6E,A3CiDtD,CC/BkBsiJ,C0ClBoCtiJ,C1CkBzBi8B,C0ClByBj8B,CLFTA,A7BALA,CRqB7B0L,C0CnB2C1L,ALFTA,AtCmD7C,ASnDwCA,CRqBrBo2C,C0CnBmCp2C,ALFTA,A7BALA,CRqBhBi8B,GqCrBqBj8B,ArCuBxC3C,AQvBmC2C,ERuBzB7E,EqCvB8B6E,A7BALA,CRuBjB0L,E0CrB+B1L,EAAAA,E1CyBrD68D,EqC3B4C78D,ArC2BnCs9D,AQ3B8Bt9D,E6BAKA,A7BALA,E6BAKA,A7BALA,E6BAKA,A7BALA,CTmDxC,ACxBiBuiJ,E0CzBqCviJ,ALFTA,A7BALA,EkCEcA,A1C0BtD,E0C1BsDA,C3CiDtD,EsCnD6CA,A7BALA,ER4BxC,CqC5B6CA,A7BALA,E6BAKA,A7BALA,E6BAKA,A7BALA,IkCEcA,EAAAA,E3CiDtD,EsCnD6CA,AtCmD7C,ACvBA,AQ5BwCA,G6BAKA,A7BALA,GkCEcA,ALFTA,A7BALA,CTmDxC,CsCnD6CA,ArC4B7C,AQ5BwCA,EkCEcA,ALFTA,A7BALA,EkCEcA,CLFTA,A7BALA,E6BAKA,A7BALA,MR4BxC,C0C1BsDA,A1C0BtD,EqC5B6CA,A7BALA,CkCEcA,CLFTA,A7BALA,E6BAKA,A7BALA,CR4BxC,EqC5B6CA,A7BALA,CkCEcA,C3CiDtD,ACvBA,IDuBA,CsCnD6CA,A7BALA,CTmDxC,EsCnD6CA,ArC4B7C,AQ5BwCA,CTmDxC,K2CjDsDA,C1C0BtD,C0C1BsDA,C3CiDtD,ACvBA,C0C1BsDA,CLFTA,A7BALA,E6BAKA,A7BALA,CkCEcA,GLFTA,ArC4B7C,AQ5BwCA,CkCEcA,A3CiDtD,GAAA,M2CjDsDA,C3CiDtD,ACvBA,C0C1BsDA,EAAAA,EAAAA,GAAAA,ALFTA,A7BALA,E6BAKA,A7BALA,E6BAKA,A7BALA,GkCEcA,ALFTA,AtCmD7C,ASnDwCA,E6BAKA,AtCmD7C,ASnDwCA,CkCEcA,C3CiDtD,C2CjDsDA,EAAAA,ILFTA,AtCmD7C,ASnDwCA,E6BAKA,A7BALA,G6BAKA,A7BALA,CkCEcA,GAAAA,GAAAA,ALFTA,C7BALA,CkCEcA,ALFTA,EKESA,ClCFdA,EkCEcA,AlCFdA,EkCEcA,ALFTA,ItCmD7C,ASnDwCA,ETmDxC,ESnDwCA,CkCEcA,EAAAA,C3CiDtD,C2CjDsDA,ELFTA,CKESA,G3CiDtD,EAAA,CsCnD6CA,CKESA,AlCFdA,GkCEcA,I3CiDtD,EAAA,EAAA,EAAA,C2CjDsDA,ALFTA,EKESA,A3CiDtD,I2CjDsDA,GLFTA,AtCmD7C,GsCnD6CA,EtCmD7C,EAAA,GsCnD6CA,EAAAA,EtCmD7C,E2CjDsDA,EAAAA,EAAAA,GAAAA,ALFTA,EKESA,I3CiDtD,CsCnD6CA,CtCmD7C,EAAA,C2CjDsDA,A3CiDtD,E2CjDsDA,ElCFdA,CkCEcA,C3CiDtD,EAAA,GsCnD6CA,A7BALA,CkCEcA,ClCFdA,CkCEcA,ELFTA,GAAAA,CtCmD7C,C2CjDsDA,C3CiDtD,ASnDwCA,EAAAA,GAAAA,C6BAKA,EAAAA,GAAAA,C7BALA,EkCEcA,A3CiDtD,ASnDwCA,ETmDxC,GsCnD6CA,EKESA,AlCFdA,E6BAKA,EAAAA,CtCmD7C,IAAA,CsCnD6CA,CtCmD7C,GsCnD6CA,AtCmD7C,C2CjDsDA,AlCFdA,CTmDxC,EAAA,ISnDwCA,EkCEcA,GAAAA,A3CiDtD,EsCnD6CA,AtCmD7C,GAAA,E2CjDsDA,EAAAA,ClCFdA,ETmDxC,EAAA,IAAA,CSnDwCA,CkCEcA,A3CiDtD,ESnDwCA,ETmDxC,G2CjDsDA,C3CiDtD,CSnDwCA,EAAAA,MTmDxC,IAAA,C2CjDsDA,AlCFdA,KkCEcA,A3CiDtD,ESnDwCA,CkCEcA,C3CiDtD,Q2CjDsDA,EAAAA,A3CiDtD,EsCnD6CA,CKESA,AlCFdA,KAAAA,C6BAKA,EKESA,ALFTA,A7BALA,IkCEcA,EAAAA,GLFTA,A7BALA,E6BAKA,A7BALA,CkCEcA,CLFTA,A7BALA,GkCEcA,ALFTA,A7BALA,G6BAKA,A7BALA,YkCEcA,OLFTA,A7BALA,ETmDxC,CsCnD6CA,A7BALA,O6BAKA,A7BALA,CTmDxC,CsCnD6CA,A7BALA,CTmDxC,GAAA,EsCnD6CA,A7BALA,CTmDxC,GsCnD6CA,A7BALA,ITmDxC,MsCnD6CA,A7BALA,MTmDxC,OAAA,IAAA,K2CjDsDA,OAAAA,EAAAA,SAAAA,A3CiDtD,E2CjDsDA,EAAAA,GAAAA,A3CiDtD,G2CjDsDA,ILFTA,A7BALA,E6BAKA,A7BALA,CTmDxC,SsCnD6CA,AtCmD7C,ASnDwCA,GkCEcA,E3CiDtD,C2CjDsDA,CLFTA,A7BALA,CTmDxC,K2CjDsDA,CLFTA,A7BALA,CkCEcA,A3CiDtD,EsCnD6CA,A7BALA,E6BAKA,A7BALA,EkCEcA,A3CiDtD,I2CjDsDA,C3CiDtD,GsCnD6CA,AtCmD7C,ASnDwCA,C6BAKA,A7BALA,KkCEcA,G3CiDtD,EAAA,EsCnD6CA,A7BALA,C6BAKA,AtCmD7C,ASnDwCA,GTmDxC,GsCnD6CA,A7BALA,E6BAKA,A7BALA,CTmDxC,QAAA,CsCnD6CA,A7BALA,E6BAKA,AtCmD7C,ASnDwCA,CTmDxC,IAAA,IAAA,EAAA,EAAA,CsCnD6CA,A7BALA,CTmDxC,IsCnD6CA,AtCmD7C,ASnDwCA,G6BAKA,A7BALA,E6BAKA,A7BALA,CTmDxC,C2CjDsDA,ALFTA,A7BALA,CTmDxC,C2CjDsDA,CLFTA,A7BALA,MTmDxC,EAAA,C2CjDsDA,ALFTA,A7BALA,CTmDxC,CsCnD6CA,A7BALA,E6BAKA,A7BALA,GkCEcA,ALFTA,A7BALA,CTmDxC,IAAA,E2CjDsDA,ALFTA,AtCmD7C,ASnDwCA,E6BAKA,A7BALA,CkCEcA,A3CiDtD,E2CjDsDA,A3CiDtD,GAAA,CsCnD6CA,A7BALA,MkCEcA,A3CiDtD,C2CjDsDA,E3CJvD,OsCE8CA,A7BALA,ETFhCmiJ,C2CI8CniJ,CAAAA,E3CH9C,GsCCqCA,A7BALA,CkCEcA,CLFTA,A7BALA,CkCEcA,A3CH9C,CACLvF,CsCA0CuF,A7BALA,O6BAKA,A7BALA,CkCEcA,A3CFzC,CsCAgCA,A7BALA,CkCEcA,C3CDnD0O,MAAO,EsCDmC1O,A7BALA,E6BAKA,AtCK9C,ASLyCA,GkCEcA,CLFTA,A7BALA,E6BAKA,A7BALA,EkCEcA,CLFTA,AtCKrC5H,ASLYsrJ,EkCEkC1jJ,A3CG1CmwB,E2CH0CnwB,A3CGrCzF,ASLGmpJ,EkCEkC1jJ,AlCFdA,CTQrCvF,E2CNmDuF,ALFTA,EAAAA,AtCQ1CvF,EsCR0CuF,AtCUxCmwB,EsCVwCnwB,AtCQ1CvF,ASRqCuF,GkCEcA,ALFTA,A7BALA,EkCEcA,EAAAA,E3COnD0O,C2CPmD1O,ALFTA,CtCUxCmwB,CSVmCnwB,CTSrC0O,EsCT0C1O,C7BALA,CkCEcA,ALFTA,EKESA,A3CUjD0O,ISZmC1O,C6BAKA,C7BALA,CkCEcA,A3CUjD0O,EAAMnU,ESZ6ByF,CTa9BmwB,EAEA,ASf8BnwB,CTgBnCvF,CShBmCuF,I6BAKA,C7BALA,C6BAKA,CKESA,AlCFdA,C6BAKA,AtCgBhC,CsChBgCA,C7BALA,CTgB3B,IsChBgCA,CKESA,AlCFdA,C6BAKA,CKESA,A3CczC,EAAOvF,C2CdkCuF,AlCFdA,ETgB3B,CAAiBzF,I2CdwByF,A3CejD0O,CsCjBwC1O,CKESA,CLFTA,E7BALA,CTiB9B,EAAA,GACA0O,C2ChB4C1O,AlCFdA,CTiB9B,C2Cf4CA,AlCFdA,CTiB9B,CSjB8BA,C6BAKA,CKESA,A3CiB9CzF,ASnBgCyF,C6BAKA,CKESA,C3CiBpC,E2CjBEkpJ,G3CuBrB,C2CvBqBA,EAAkClpJ,ALFTA,A7BALA,EAAAA,E6BAKA,A7BALA,CAAAA,C6BAKA,AtCyBrCzC,ASzBgCyC,ETyB3BmwB,C2CvByCnwB,ALFTA,CtCyB3Bs1B,ASzBsBt1B,C6BAKA,CKI5C,CLJmB2oJ,AtC0BZx4H,IsC1BYw4H,EAAyB3oJ,CtC0BrCmwB,C2CtBP,C3CsBW11B,C2CtBC2X,GAAO,ELJyBpS,A7BE1B,EkCEC,CLFnB,AtCwBoBzC,C2CtBD,ElCFD,ETwBO+3B,G2CtBN,A3CyBN,CsC3Bb,CKEmB,CLFPljB,EAAO+e,C7BEV,CkCAU,CLFS,CtC2BN0tD,E2CxBpB,CLH0B,A7BEnB,CkCCP,A3CwBwC,ASxBtChiB,C6BHwB,CKG1B,CLH0B,CtC6BxB1sC,G2C1BF,CLH0B,AtC6BxBA,C2C1BF,AlCAY,CT0BJgyH,CsC7BkB,CKG1B,CLH0B,CtC2Bc,ASxBvB/vI,C6BFjB,CtC0BwC,C2CxBxC,ALFA,EAAA,C7BEuByqD,EkCAjBzqD,ELFN,EAAA,AtC0BwC,C2CtBnCkO,ELJL,G7BHqCtgB,CkCOxB,A3CsBqBo2C,AS7BGp2C,CkCQnC/F,ALLF,CtC0BwC,ES7BH+F,E6BG/BoS,AtC0BkC,C2CrBhC,CLLK+e,EKQb,EAAKy3H,A3CkBmC,CsC3Bd,A7BQnB,ETmBiC,EAAA,EAAA,ASnBjC,CkCCQ,C3CkByB,C2ClBpBA,CLDZ,AtCmBgC,IAANxyG,EAAM,C2ClBZr0C,AlCArB,ETkBiC,EsClBxC,CKAe,CLAVi1D,CKAU,AlCAR,IkCCP,C3CiBwC,ASlB5B5kD,CkCCP+2I,E3CsCA5rJ,CsCvCU04C,E7BAGn3C,EkCCJ,CLDM,CKCDqqJ,A3CqBrB/yG,EAAKh5C,K2CrBuB2E,ElCZW/B,CTiC1B,CSjC0BA,CkCYvB,ALPN68D,EKOM,AlCZuB78D,E6BK7B68D,EKDS,ALCI1rC,CtC4BD7xB,C2C/B+BU,ALG3C68D,EtC6BFhnD,ASlC+B7V,ITkC/B6V,C2ChC6C7V,C3CgCzC,C2ChCyCA,ALAzB,CtCgCNV,ASlCiBU,CkCEcA,EAAAA,A3CkCtC,GsC7Bb,EAAKg3D,MKL8Ch3D,A3CkC/C6V,E2ClC+C7V,C3CkC1BV,C2ClC0BU,ALKlC68D,CKLkC78D,A3CkCrBzE,C2ClCqByE,ALKzB8sB,IKLyB9sB,ALKrB,EtC6BS,EACrCmwB,EAAM/3B,EAAI+3B,E2CtBJ,A3CsBS7wB,EsCnCS,CtCoCN,CsCtCsBU,EKelC,KLfkCA,EAAAA,CtCsC/B6V,CsCtC+B7V,EKgBrCs/I,ALhBqCt/I,AtCsCD,K2CtBpCs/I,E3CsB2BhgJ,GAE9B0d,CsCxCwChd,EAAAA,CKgB5B,CACZ/F,ALjBwC+F,CAAAA,CAAAA,AtCwCjC6f,I2CvBD,ALjBkC7f,CtCwC5BV,GAAMlC,E2CtC+B4C,CAAAA,ELY5C,EKZ4CA,C3CsCvB,GsC1BrB,KKOA,C3CmB8Bqf,GACnB/f,E2CpBX,ALPA,AtC2BgB+f,IsC3BhB,CtC8BD8Q,CsC9BC,CtC8BK/3B,EAAI+3B,E2CtBXmvH,ALPL,AtC6BqBjgI,K2CtBhBigI,ELPL,CtCmCK/hJ,CsCnCL,CtCmCU4yB,CsCnCV,CtCmCe,E2C5BD,CACZl2B,E3C4BL,I2C5BW,GLRR,AtCoCH,EsCpCG,CKbmD+F,CAAAA,IAAAA,ALerC,OtCkCjB,KsCpCG,EAAA,CtCoCH,CsCpCG,KKYmB,MAAA,C3CwBtB,CsCpCG,AtCoCH,EsCpCG,KtCoCH,G2CvBoB,CLPD,AtC8BnB,I2CvByBg3D,I3CuBzB,M2CvBqC,E3CuBrC,G2CvB0C7lC,ALbvC,EAAA,EAAA,IKa+C0rC,SAAS/vC,IAAI,ALb5D,YAAA,CKeSxd,CLfT,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","file":"js.4d7e1c0d.js","sourceRoot":"../src","sourcesContent":["/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Ripple MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialRipple = function MaterialRipple(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialRipple'] = MaterialRipple;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialRipple.prototype.Constant_ = {\n    INITIAL_SCALE: 'scale(0.0001, 0.0001)',\n    INITIAL_SIZE: '1px',\n    INITIAL_OPACITY: '0.4',\n    FINAL_OPACITY: '0',\n    FINAL_SCALE: ''\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialRipple.prototype.CssClasses_ = {\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE_EFFECT_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE: 'mdl-ripple',\n    IS_ANIMATING: 'is-animating',\n    IS_VISIBLE: 'is-visible'\n};\n/**\n   * Handle mouse / finger down on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRipple.prototype.downHandler_ = function (event) {\n    if (!this.rippleElement_.style.width && !this.rippleElement_.style.height) {\n        var rect = this.element_.getBoundingClientRect();\n        this.boundHeight = rect.height;\n        this.boundWidth = rect.width;\n        this.rippleSize_ = Math.sqrt(rect.width * rect.width + rect.height * rect.height) * 2 + 2;\n        this.rippleElement_.style.width = this.rippleSize_ + 'px';\n        this.rippleElement_.style.height = this.rippleSize_ + 'px';\n    }\n    this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE);\n    if (event.type === 'mousedown' && this.ignoringMouseDown_) {\n        this.ignoringMouseDown_ = false;\n    } else {\n        if (event.type === 'touchstart') {\n            this.ignoringMouseDown_ = true;\n        }\n        var frameCount = this.getFrameCount();\n        if (frameCount > 0) {\n            return;\n        }\n        this.setFrameCount(1);\n        var bound = event.currentTarget.getBoundingClientRect();\n        var x;\n        var y;\n        // Check if we are handling a keyboard click.\n        if (event.clientX === 0 && event.clientY === 0) {\n            x = Math.round(bound.width / 2);\n            y = Math.round(bound.height / 2);\n        } else {\n            var clientX = event.clientX !== undefined ? event.clientX : event.touches[0].clientX;\n            var clientY = event.clientY !== undefined ? event.clientY : event.touches[0].clientY;\n            x = Math.round(clientX - bound.left);\n            y = Math.round(clientY - bound.top);\n        }\n        this.setRippleXY(x, y);\n        this.setRippleStyles(true);\n        window.requestAnimationFrame(this.animFrameHandler.bind(this));\n    }\n};\n/**\n   * Handle mouse / finger up on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRipple.prototype.upHandler_ = function (event) {\n    // Don't fire for the artificial \"mouseup\" generated by a double-click.\n    if (event && event.detail !== 2) {\n        // Allow a repaint to occur before removing this class, so the animation\n        // shows for tap events, which seem to trigger a mouseup too soon after\n        // mousedown.\n        window.setTimeout(function () {\n            this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE);\n        }.bind(this), 0);\n    }\n};\n/**\n   * Initialize element.\n   */\nMaterialRipple.prototype.init = function () {\n    if (this.element_) {\n        var recentering = this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);\n        if (!this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)) {\n            this.rippleElement_ = this.element_.querySelector('.' + this.CssClasses_.RIPPLE);\n            this.frameCount_ = 0;\n            this.rippleSize_ = 0;\n            this.x_ = 0;\n            this.y_ = 0;\n            // Touch start produces a compat mouse down event, which would cause a\n            // second ripples. To avoid that, we use this property to ignore the first\n            // mouse down after a touch start.\n            this.ignoringMouseDown_ = false;\n            this.boundDownHandler = this.downHandler_.bind(this);\n            this.element_.addEventListener('mousedown', this.boundDownHandler);\n            this.element_.addEventListener('touchstart', this.boundDownHandler);\n            this.boundUpHandler = this.upHandler_.bind(this);\n            this.element_.addEventListener('mouseup', this.boundUpHandler);\n            this.element_.addEventListener('mouseleave', this.boundUpHandler);\n            this.element_.addEventListener('touchend', this.boundUpHandler);\n            this.element_.addEventListener('blur', this.boundUpHandler);\n            /**\n         * Getter for frameCount_.\n         * @return {number} the frame count.\n         */\n            this.getFrameCount = function () {\n                return this.frameCount_;\n            };\n            /**\n         * Setter for frameCount_.\n         * @param {number} fC the frame count.\n         */\n            this.setFrameCount = function (fC) {\n                this.frameCount_ = fC;\n            };\n            /**\n         * Getter for rippleElement_.\n         * @return {Element} the ripple element.\n         */\n            this.getRippleElement = function () {\n                return this.rippleElement_;\n            };\n            /**\n         * Sets the ripple X and Y coordinates.\n         * @param  {number} newX the new X coordinate\n         * @param  {number} newY the new Y coordinate\n         */\n            this.setRippleXY = function (newX, newY) {\n                this.x_ = newX;\n                this.y_ = newY;\n            };\n            /**\n         * Sets the ripple styles.\n         * @param  {boolean} start whether or not this is the start frame.\n         */\n            this.setRippleStyles = function (start) {\n                if (this.rippleElement_ !== null) {\n                    var transformString;\n                    var scale;\n                    var size;\n                    var offset = 'translate(' + this.x_ + 'px, ' + this.y_ + 'px)';\n                    if (start) {\n                        scale = this.Constant_.INITIAL_SCALE;\n                        size = this.Constant_.INITIAL_SIZE;\n                    } else {\n                        scale = this.Constant_.FINAL_SCALE;\n                        size = this.rippleSize_ + 'px';\n                        if (recentering) {\n                            offset = 'translate(' + this.boundWidth / 2 + 'px, ' + this.boundHeight / 2 + 'px)';\n                        }\n                    }\n                    transformString = 'translate(-50%, -50%) ' + offset + scale;\n                    this.rippleElement_.style.webkitTransform = transformString;\n                    this.rippleElement_.style.msTransform = transformString;\n                    this.rippleElement_.style.transform = transformString;\n                    if (start) {\n                        this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING);\n                    } else {\n                        this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING);\n                    }\n                }\n            };\n            /**\n         * Handles an animation frame.\n         */\n            this.animFrameHandler = function () {\n                if (this.frameCount_-- > 0) {\n                    window.requestAnimationFrame(this.animFrameHandler.bind(this));\n                } else {\n                    this.setRippleStyles(false);\n                }\n            };\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialRipple,\n    classAsString: 'MaterialRipple',\n    cssClass: 'mdl-js-ripple-effect',\n    widget: false\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Tabs MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {Element} element The element that will be upgraded.\n   */\nvar MaterialTabs = function MaterialTabs(element) {\n    // Stores the HTML element.\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialTabs'] = MaterialTabs;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTabs.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTabs.prototype.CssClasses_ = {\n    TAB_CLASS: 'mdl-tabs__tab',\n    PANEL_CLASS: 'mdl-tabs__panel',\n    ACTIVE_CLASS: 'is-active',\n    UPGRADED_CLASS: 'is-upgraded',\n    MDL_JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    MDL_RIPPLE_CONTAINER: 'mdl-tabs__ripple-container',\n    MDL_RIPPLE: 'mdl-ripple',\n    MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events'\n};\n/**\n   * Handle clicks to a tabs component\n   *\n   * @private\n   */\nMaterialTabs.prototype.initTabs_ = function () {\n    if (this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)) {\n        this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS);\n    }\n    // Select element tabs, document panels\n    this.tabs_ = this.element_.querySelectorAll('.' + this.CssClasses_.TAB_CLASS);\n    this.panels_ = this.element_.querySelectorAll('.' + this.CssClasses_.PANEL_CLASS);\n    // Create new tabs for each tab element\n    for (var i = 0; i < this.tabs_.length; i++) {\n        new MaterialTab(this.tabs_[i], this);\n    }\n    this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS);\n};\n/**\n   * Reset tab state, dropping active classes\n   *\n   * @private\n   */\nMaterialTabs.prototype.resetTabState_ = function () {\n    for (var k = 0; k < this.tabs_.length; k++) {\n        this.tabs_[k].classList.remove(this.CssClasses_.ACTIVE_CLASS);\n    }\n};\n/**\n   * Reset panel state, droping active classes\n   *\n   * @private\n   */\nMaterialTabs.prototype.resetPanelState_ = function () {\n    for (var j = 0; j < this.panels_.length; j++) {\n        this.panels_[j].classList.remove(this.CssClasses_.ACTIVE_CLASS);\n    }\n};\n/**\n   * Initialize element.\n   */\nMaterialTabs.prototype.init = function () {\n    if (this.element_) {\n        this.initTabs_();\n    }\n};\n/**\n   * Constructor for an individual tab.\n   *\n   * @constructor\n   * @param {Element} tab The HTML element for the tab.\n   * @param {MaterialTabs} ctx The MaterialTabs object that owns the tab.\n   */\nfunction MaterialTab(tab, ctx) {\n    if (tab) {\n        if (ctx.element_.classList.contains(ctx.CssClasses_.MDL_JS_RIPPLE_EFFECT)) {\n            var rippleContainer = document.createElement('span');\n            rippleContainer.classList.add(ctx.CssClasses_.MDL_RIPPLE_CONTAINER);\n            rippleContainer.classList.add(ctx.CssClasses_.MDL_JS_RIPPLE_EFFECT);\n            var ripple = document.createElement('span');\n            ripple.classList.add(ctx.CssClasses_.MDL_RIPPLE);\n            rippleContainer.appendChild(ripple);\n            tab.appendChild(rippleContainer);\n        }\n        tab.addEventListener('click', function (e) {\n            if (tab.getAttribute('href').charAt(0) === '#') {\n                e.preventDefault();\n                var href = tab.href.split('#')[1];\n                var panel = ctx.element_.querySelector('#' + href);\n                ctx.resetTabState_();\n                ctx.resetPanelState_();\n                tab.classList.add(ctx.CssClasses_.ACTIVE_CLASS);\n                panel.classList.add(ctx.CssClasses_.ACTIVE_CLASS);\n            }\n        });\n    }\n}\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialTabs,\n    classAsString: 'MaterialTabs',\n    cssClass: 'mdl-js-tabs'\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Layout MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialLayout = function MaterialLayout(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialLayout'] = MaterialLayout;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialLayout.prototype.Constant_ = {\n    MAX_WIDTH: '(max-width: 1024px)',\n    TAB_SCROLL_PIXELS: 100,\n    RESIZE_TIMEOUT: 100,\n    MENU_ICON: '&#xE5D2;',\n    CHEVRON_LEFT: 'chevron_left',\n    CHEVRON_RIGHT: 'chevron_right'\n};\n/**\n   * Keycodes, for code readability.\n   *\n   * @enum {number}\n   * @private\n   */\nMaterialLayout.prototype.Keycodes_ = {\n    ENTER: 13,\n    ESCAPE: 27,\n    SPACE: 32\n};\n/**\n   * Modes.\n   *\n   * @enum {number}\n   * @private\n   */\nMaterialLayout.prototype.Mode_ = {\n    STANDARD: 0,\n    SEAMED: 1,\n    WATERFALL: 2,\n    SCROLL: 3\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialLayout.prototype.CssClasses_ = {\n    CONTAINER: 'mdl-layout__container',\n    HEADER: 'mdl-layout__header',\n    DRAWER: 'mdl-layout__drawer',\n    CONTENT: 'mdl-layout__content',\n    DRAWER_BTN: 'mdl-layout__drawer-button',\n    ICON: 'material-icons',\n    JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_CONTAINER: 'mdl-layout__tab-ripple-container',\n    RIPPLE: 'mdl-ripple',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    HEADER_SEAMED: 'mdl-layout__header--seamed',\n    HEADER_WATERFALL: 'mdl-layout__header--waterfall',\n    HEADER_SCROLL: 'mdl-layout__header--scroll',\n    FIXED_HEADER: 'mdl-layout--fixed-header',\n    OBFUSCATOR: 'mdl-layout__obfuscator',\n    TAB_BAR: 'mdl-layout__tab-bar',\n    TAB_CONTAINER: 'mdl-layout__tab-bar-container',\n    TAB: 'mdl-layout__tab',\n    TAB_BAR_BUTTON: 'mdl-layout__tab-bar-button',\n    TAB_BAR_LEFT_BUTTON: 'mdl-layout__tab-bar-left-button',\n    TAB_BAR_RIGHT_BUTTON: 'mdl-layout__tab-bar-right-button',\n    TAB_MANUAL_SWITCH: 'mdl-layout__tab-manual-switch',\n    PANEL: 'mdl-layout__tab-panel',\n    HAS_DRAWER: 'has-drawer',\n    HAS_TABS: 'has-tabs',\n    HAS_SCROLLING_HEADER: 'has-scrolling-header',\n    CASTING_SHADOW: 'is-casting-shadow',\n    IS_COMPACT: 'is-compact',\n    IS_SMALL_SCREEN: 'is-small-screen',\n    IS_DRAWER_OPEN: 'is-visible',\n    IS_ACTIVE: 'is-active',\n    IS_UPGRADED: 'is-upgraded',\n    IS_ANIMATING: 'is-animating',\n    ON_LARGE_SCREEN: 'mdl-layout--large-screen-only',\n    ON_SMALL_SCREEN: 'mdl-layout--small-screen-only'\n};\n/**\n   * Handles scrolling on the content.\n   *\n   * @private\n   */\nMaterialLayout.prototype.contentScrollHandler_ = function () {\n    if (this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)) {\n        return;\n    }\n    var headerVisible = !this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN) || this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);\n    if (this.content_.scrollTop > 0 && !this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n        this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);\n        this.header_.classList.add(this.CssClasses_.IS_COMPACT);\n        if (headerVisible) {\n            this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n        }\n    } else if (this.content_.scrollTop <= 0 && this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n        this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n        this.header_.classList.remove(this.CssClasses_.IS_COMPACT);\n        if (headerVisible) {\n            this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n        }\n    }\n};\n/**\n   * Handles a keyboard event on the drawer.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialLayout.prototype.keyboardEventHandler_ = function (evt) {\n    // Only react when the drawer is open.\n    if (evt.keyCode === this.Keycodes_.ESCAPE && this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)) {\n        this.toggleDrawer();\n    }\n};\n/**\n   * Handles changes in screen size.\n   *\n   * @private\n   */\nMaterialLayout.prototype.screenSizeHandler_ = function () {\n    if (this.screenSizeMediaQuery_.matches) {\n        this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN);\n        // Collapse drawer (if any) when moving to a large screen size.\n        if (this.drawer_) {\n            this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);\n            this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);\n        }\n    }\n};\n/**\n   * Handles events of drawer button.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialLayout.prototype.drawerToggleHandler_ = function (evt) {\n    if (evt && evt.type === 'keydown') {\n        if (evt.keyCode === this.Keycodes_.SPACE || evt.keyCode === this.Keycodes_.ENTER) {\n            // prevent scrolling in drawer nav\n            evt.preventDefault();\n        } else {\n            // prevent other keys\n            return;\n        }\n    }\n    this.toggleDrawer();\n};\n/**\n   * Handles (un)setting the `is-animating` class\n   *\n   * @private\n   */\nMaterialLayout.prototype.headerTransitionEndHandler_ = function () {\n    this.header_.classList.remove(this.CssClasses_.IS_ANIMATING);\n};\n/**\n   * Handles expanding the header on click\n   *\n   * @private\n   */\nMaterialLayout.prototype.headerClickHandler_ = function () {\n    if (this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n        this.header_.classList.remove(this.CssClasses_.IS_COMPACT);\n        this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n    }\n};\n/**\n   * Reset tab state, dropping active classes\n   *\n   * @private\n   */\nMaterialLayout.prototype.resetTabState_ = function (tabBar) {\n    for (var k = 0; k < tabBar.length; k++) {\n        tabBar[k].classList.remove(this.CssClasses_.IS_ACTIVE);\n    }\n};\n/**\n   * Reset panel state, droping active classes\n   *\n   * @private\n   */\nMaterialLayout.prototype.resetPanelState_ = function (panels) {\n    for (var j = 0; j < panels.length; j++) {\n        panels[j].classList.remove(this.CssClasses_.IS_ACTIVE);\n    }\n};\n/**\n  * Toggle drawer state\n  *\n  * @public\n  */\nMaterialLayout.prototype.toggleDrawer = function () {\n    var drawerButton = this.element_.querySelector('.' + this.CssClasses_.DRAWER_BTN);\n    this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);\n    this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);\n    // Set accessibility properties.\n    if (this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)) {\n        this.drawer_.setAttribute('aria-hidden', 'false');\n        drawerButton.setAttribute('aria-expanded', 'true');\n    } else {\n        this.drawer_.setAttribute('aria-hidden', 'true');\n        drawerButton.setAttribute('aria-expanded', 'false');\n    }\n};\nMaterialLayout.prototype['toggleDrawer'] = MaterialLayout.prototype.toggleDrawer;\n/**\n   * Initialize element.\n   */\nMaterialLayout.prototype.init = function () {\n    if (this.element_) {\n        var container = document.createElement('div');\n        container.classList.add(this.CssClasses_.CONTAINER);\n        var focusedElement = this.element_.querySelector(':focus');\n        this.element_.parentElement.insertBefore(container, this.element_);\n        this.element_.parentElement.removeChild(this.element_);\n        container.appendChild(this.element_);\n        if (focusedElement) {\n            focusedElement.focus();\n        }\n        var directChildren = this.element_.childNodes;\n        var numChildren = directChildren.length;\n        for (var c = 0; c < numChildren; c++) {\n            var child = directChildren[c];\n            if (child.classList && child.classList.contains(this.CssClasses_.HEADER)) {\n                this.header_ = child;\n            }\n            if (child.classList && child.classList.contains(this.CssClasses_.DRAWER)) {\n                this.drawer_ = child;\n            }\n            if (child.classList && child.classList.contains(this.CssClasses_.CONTENT)) {\n                this.content_ = child;\n            }\n        }\n        window.addEventListener('pageshow', function (e) {\n            if (e.persisted) {\n                // when page is loaded from back/forward cache\n                // trigger repaint to let layout scroll in safari\n                this.element_.style.overflowY = 'hidden';\n                requestAnimationFrame(function () {\n                    this.element_.style.overflowY = '';\n                }.bind(this));\n            }\n        }.bind(this), false);\n        if (this.header_) {\n            this.tabBar_ = this.header_.querySelector('.' + this.CssClasses_.TAB_BAR);\n        }\n        var mode = this.Mode_.STANDARD;\n        if (this.header_) {\n            if (this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)) {\n                mode = this.Mode_.SEAMED;\n            } else if (this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)) {\n                mode = this.Mode_.WATERFALL;\n                this.header_.addEventListener('transitionend', this.headerTransitionEndHandler_.bind(this));\n                this.header_.addEventListener('click', this.headerClickHandler_.bind(this));\n            } else if (this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)) {\n                mode = this.Mode_.SCROLL;\n                container.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER);\n            }\n            if (mode === this.Mode_.STANDARD) {\n                this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);\n                if (this.tabBar_) {\n                    this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW);\n                }\n            } else if (mode === this.Mode_.SEAMED || mode === this.Mode_.SCROLL) {\n                this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n                if (this.tabBar_) {\n                    this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n                }\n            } else if (mode === this.Mode_.WATERFALL) {\n                // Add and remove shadows depending on scroll position.\n                // Also add/remove auxiliary class for styling of the compact version of\n                // the header.\n                this.content_.addEventListener('scroll', this.contentScrollHandler_.bind(this));\n                this.contentScrollHandler_();\n            }\n        }\n        // Add drawer toggling button to our layout, if we have an openable drawer.\n        if (this.drawer_) {\n            var drawerButton = this.element_.querySelector('.' + this.CssClasses_.DRAWER_BTN);\n            if (!drawerButton) {\n                drawerButton = document.createElement('div');\n                drawerButton.setAttribute('aria-expanded', 'false');\n                drawerButton.setAttribute('role', 'button');\n                drawerButton.setAttribute('tabindex', '0');\n                drawerButton.classList.add(this.CssClasses_.DRAWER_BTN);\n                var drawerButtonIcon = document.createElement('i');\n                drawerButtonIcon.classList.add(this.CssClasses_.ICON);\n                drawerButtonIcon.innerHTML = this.Constant_.MENU_ICON;\n                drawerButton.appendChild(drawerButtonIcon);\n            }\n            if (this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)) {\n                //If drawer has ON_LARGE_SCREEN class then add it to the drawer toggle button as well.\n                drawerButton.classList.add(this.CssClasses_.ON_LARGE_SCREEN);\n            } else if (this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)) {\n                //If drawer has ON_SMALL_SCREEN class then add it to the drawer toggle button as well.\n                drawerButton.classList.add(this.CssClasses_.ON_SMALL_SCREEN);\n            }\n            drawerButton.addEventListener('click', this.drawerToggleHandler_.bind(this));\n            drawerButton.addEventListener('keydown', this.drawerToggleHandler_.bind(this));\n            // Add a class if the layout has a drawer, for altering the left padding.\n            // Adds the HAS_DRAWER to the elements since this.header_ may or may\n            // not be present.\n            this.element_.classList.add(this.CssClasses_.HAS_DRAWER);\n            // If we have a fixed header, add the button to the header rather than\n            // the layout.\n            if (this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)) {\n                this.header_.insertBefore(drawerButton, this.header_.firstChild);\n            } else {\n                this.element_.insertBefore(drawerButton, this.content_);\n            }\n            var obfuscator = document.createElement('div');\n            obfuscator.classList.add(this.CssClasses_.OBFUSCATOR);\n            this.element_.appendChild(obfuscator);\n            obfuscator.addEventListener('click', this.drawerToggleHandler_.bind(this));\n            this.obfuscator_ = obfuscator;\n            this.drawer_.addEventListener('keydown', this.keyboardEventHandler_.bind(this));\n            this.drawer_.setAttribute('aria-hidden', 'true');\n        }\n        // Keep an eye on screen size, and add/remove auxiliary class for styling\n        // of small screens.\n        this.screenSizeMediaQuery_ = window.matchMedia(this.Constant_.MAX_WIDTH);\n        this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this));\n        this.screenSizeHandler_();\n        // Initialize tabs, if any.\n        if (this.header_ && this.tabBar_) {\n            this.element_.classList.add(this.CssClasses_.HAS_TABS);\n            var tabContainer = document.createElement('div');\n            tabContainer.classList.add(this.CssClasses_.TAB_CONTAINER);\n            this.header_.insertBefore(tabContainer, this.tabBar_);\n            this.header_.removeChild(this.tabBar_);\n            var leftButton = document.createElement('div');\n            leftButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);\n            leftButton.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);\n            var leftButtonIcon = document.createElement('i');\n            leftButtonIcon.classList.add(this.CssClasses_.ICON);\n            leftButtonIcon.textContent = this.Constant_.CHEVRON_LEFT;\n            leftButton.appendChild(leftButtonIcon);\n            leftButton.addEventListener('click', function () {\n                this.tabBar_.scrollLeft -= this.Constant_.TAB_SCROLL_PIXELS;\n            }.bind(this));\n            var rightButton = document.createElement('div');\n            rightButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);\n            rightButton.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);\n            var rightButtonIcon = document.createElement('i');\n            rightButtonIcon.classList.add(this.CssClasses_.ICON);\n            rightButtonIcon.textContent = this.Constant_.CHEVRON_RIGHT;\n            rightButton.appendChild(rightButtonIcon);\n            rightButton.addEventListener('click', function () {\n                this.tabBar_.scrollLeft += this.Constant_.TAB_SCROLL_PIXELS;\n            }.bind(this));\n            tabContainer.appendChild(leftButton);\n            tabContainer.appendChild(this.tabBar_);\n            tabContainer.appendChild(rightButton);\n            // Add and remove tab buttons depending on scroll position and total\n            // window size.\n            var tabUpdateHandler = function () {\n                if (this.tabBar_.scrollLeft > 0) {\n                    leftButton.classList.add(this.CssClasses_.IS_ACTIVE);\n                } else {\n                    leftButton.classList.remove(this.CssClasses_.IS_ACTIVE);\n                }\n                if (this.tabBar_.scrollLeft < this.tabBar_.scrollWidth - this.tabBar_.offsetWidth) {\n                    rightButton.classList.add(this.CssClasses_.IS_ACTIVE);\n                } else {\n                    rightButton.classList.remove(this.CssClasses_.IS_ACTIVE);\n                }\n            }.bind(this);\n            this.tabBar_.addEventListener('scroll', tabUpdateHandler);\n            tabUpdateHandler();\n            // Update tabs when the window resizes.\n            var windowResizeHandler = function () {\n                // Use timeouts to make sure it doesn't happen too often.\n                if (this.resizeTimeoutId_) {\n                    clearTimeout(this.resizeTimeoutId_);\n                }\n                this.resizeTimeoutId_ = setTimeout(function () {\n                    tabUpdateHandler();\n                    this.resizeTimeoutId_ = null;\n                }.bind(this), this.Constant_.RESIZE_TIMEOUT);\n            }.bind(this);\n            window.addEventListener('resize', windowResizeHandler);\n            if (this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)) {\n                this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            }\n            // Select element tabs, document panels\n            var tabs = this.tabBar_.querySelectorAll('.' + this.CssClasses_.TAB);\n            var panels = this.content_.querySelectorAll('.' + this.CssClasses_.PANEL);\n            // Create new tabs for each tab element\n            for (var i = 0; i < tabs.length; i++) {\n                new MaterialLayoutTab(tabs[i], tabs, panels, this);\n            }\n        }\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n/**\n   * Constructor for an individual tab.\n   *\n   * @constructor\n   * @param {HTMLElement} tab The HTML element for the tab.\n   * @param {!Array<HTMLElement>} tabs Array with HTML elements for all tabs.\n   * @param {!Array<HTMLElement>} panels Array with HTML elements for all panels.\n   * @param {MaterialLayout} layout The MaterialLayout object that owns the tab.\n   */\nfunction MaterialLayoutTab(tab, tabs, panels, layout) {\n    /**\n     * Auxiliary method to programmatically select a tab in the UI.\n     */\n    function selectTab() {\n        var href = tab.href.split('#')[1];\n        var panel = layout.content_.querySelector('#' + href);\n        layout.resetTabState_(tabs);\n        layout.resetPanelState_(panels);\n        tab.classList.add(layout.CssClasses_.IS_ACTIVE);\n        panel.classList.add(layout.CssClasses_.IS_ACTIVE);\n    }\n    if (layout.tabBar_.classList.contains(layout.CssClasses_.JS_RIPPLE_EFFECT)) {\n        var rippleContainer = document.createElement('span');\n        rippleContainer.classList.add(layout.CssClasses_.RIPPLE_CONTAINER);\n        rippleContainer.classList.add(layout.CssClasses_.JS_RIPPLE_EFFECT);\n        var ripple = document.createElement('span');\n        ripple.classList.add(layout.CssClasses_.RIPPLE);\n        rippleContainer.appendChild(ripple);\n        tab.appendChild(rippleContainer);\n    }\n    if (!layout.tabBar_.classList.contains(layout.CssClasses_.TAB_MANUAL_SWITCH)) {\n        tab.addEventListener('click', function (e) {\n            if (tab.getAttribute('href').charAt(0) === '#') {\n                e.preventDefault();\n                selectTab();\n            }\n        });\n    }\n    tab.show = selectTab;\n}\nwindow['MaterialLayoutTab'] = MaterialLayoutTab;\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialLayout,\n    classAsString: 'MaterialLayout',\n    cssClass: 'mdl-js-layout'\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A component handler interface using the revealing module design pattern.\n * More details on this design pattern here:\n * https://github.com/jasonmayes/mdl-component-design-pattern\n *\n * @author Jason Mayes.\n */\n/* exported componentHandler */\n\n// Pre-defining the componentHandler interface, for closure documentation and\n// static verification.\nvar componentHandler = {\n  /**\n   * Searches existing DOM for elements of our component type and upgrades them\n   * if they have not already been upgraded.\n   *\n   * @param {string=} optJsClass the programatic name of the element class we\n   * need to create a new instance of.\n   * @param {string=} optCssClass the name of the CSS class elements of this\n   * type will have.\n   */\n  upgradeDom: function(optJsClass, optCssClass) {},\n  /**\n   * Upgrades a specific element rather than all in the DOM.\n   *\n   * @param {!Element} element The element we wish to upgrade.\n   * @param {string=} optJsClass Optional name of the class we want to upgrade\n   * the element to.\n   */\n  upgradeElement: function(element, optJsClass) {},\n  /**\n   * Upgrades a specific list of elements rather than all in the DOM.\n   *\n   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n   * The elements we wish to upgrade.\n   */\n  upgradeElements: function(elements) {},\n  /**\n   * Upgrades all registered components found in the current DOM. This is\n   * automatically called on window load.\n   */\n  upgradeAllRegistered: function() {},\n  /**\n   * Allows user to be alerted to any upgrades that are performed for a given\n   * component type\n   *\n   * @param {string} jsClass The class name of the MDL component we wish\n   * to hook into for any upgrades performed.\n   * @param {function(!HTMLElement)} callback The function to call upon an\n   * upgrade. This function should expect 1 parameter - the HTMLElement which\n   * got upgraded.\n   */\n  registerUpgradedCallback: function(jsClass, callback) {},\n  /**\n   * Registers a class for future use and attempts to upgrade existing DOM.\n   *\n   * @param {componentHandler.ComponentConfigPublic} config the registration configuration\n   */\n  register: function(config) {},\n  /**\n   * Downgrade either a given node, an array of nodes, or a NodeList.\n   *\n   * @param {!Node|!Array<!Node>|!NodeList} nodes\n   */\n  downgradeElements: function(nodes) {}\n};\n\ncomponentHandler = (function() {\n  'use strict';\n\n  /** @type {!Array<componentHandler.ComponentConfig>} */\n  var registeredComponents_ = [];\n\n  /** @type {!Array<componentHandler.Component>} */\n  var createdComponents_ = [];\n\n  var componentConfigProperty_ = 'mdlComponentConfigInternal_';\n\n  /**\n   * Searches registered components for a class we are interested in using.\n   * Optionally replaces a match with passed object if specified.\n   *\n   * @param {string} name The name of a class we want to use.\n   * @param {componentHandler.ComponentConfig=} optReplace Optional object to replace match with.\n   * @return {!Object|boolean}\n   * @private\n   */\n  function findRegisteredClass_(name, optReplace) {\n    for (var i = 0; i < registeredComponents_.length; i++) {\n      if (registeredComponents_[i].className === name) {\n        if (typeof optReplace !== 'undefined') {\n          registeredComponents_[i] = optReplace;\n        }\n        return registeredComponents_[i];\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Returns an array of the classNames of the upgraded classes on the element.\n   *\n   * @param {!Element} element The element to fetch data from.\n   * @return {!Array<string>}\n   * @private\n   */\n  function getUpgradedListOfElement_(element) {\n    var dataUpgraded = element.getAttribute('data-upgraded');\n    // Use `['']` as default value to conform the `,name,name...` style.\n    return dataUpgraded === null ? [''] : dataUpgraded.split(',');\n  }\n\n  /**\n   * Returns true if the given element has already been upgraded for the given\n   * class.\n   *\n   * @param {!Element} element The element we want to check.\n   * @param {string} jsClass The class to check for.\n   * @returns {boolean}\n   * @private\n   */\n  function isElementUpgraded_(element, jsClass) {\n    var upgradedList = getUpgradedListOfElement_(element);\n    return upgradedList.indexOf(jsClass) !== -1;\n  }\n\n  /**\n   * Create an event object.\n   *\n   * @param {string} eventType The type name of the event.\n   * @param {boolean} bubbles Whether the event should bubble up the DOM.\n   * @param {boolean} cancelable Whether the event can be canceled.\n   * @returns {!Event}\n   */\n  function createEvent_(eventType, bubbles, cancelable) {\n    if ('CustomEvent' in window && typeof window.CustomEvent === 'function') {\n      return new CustomEvent(eventType, {\n        bubbles: bubbles,\n        cancelable: cancelable\n      });\n    } else {\n      var ev = document.createEvent('Events');\n      ev.initEvent(eventType, bubbles, cancelable);\n      return ev;\n    }\n  }\n\n  /**\n   * Searches existing DOM for elements of our component type and upgrades them\n   * if they have not already been upgraded.\n   *\n   * @param {string=} optJsClass the programatic name of the element class we\n   * need to create a new instance of.\n   * @param {string=} optCssClass the name of the CSS class elements of this\n   * type will have.\n   */\n  function upgradeDomInternal(optJsClass, optCssClass) {\n    if (typeof optJsClass === 'undefined' &&\n        typeof optCssClass === 'undefined') {\n      for (var i = 0; i < registeredComponents_.length; i++) {\n        upgradeDomInternal(registeredComponents_[i].className,\n            registeredComponents_[i].cssClass);\n      }\n    } else {\n      var jsClass = /** @type {string} */ (optJsClass);\n      if (typeof optCssClass === 'undefined') {\n        var registeredClass = findRegisteredClass_(jsClass);\n        if (registeredClass) {\n          optCssClass = registeredClass.cssClass;\n        }\n      }\n\n      var elements = document.querySelectorAll('.' + optCssClass);\n      for (var n = 0; n < elements.length; n++) {\n        upgradeElementInternal(elements[n], jsClass);\n      }\n    }\n  }\n\n  /**\n   * Upgrades a specific element rather than all in the DOM.\n   *\n   * @param {!Element} element The element we wish to upgrade.\n   * @param {string=} optJsClass Optional name of the class we want to upgrade\n   * the element to.\n   */\n  function upgradeElementInternal(element, optJsClass) {\n    // Verify argument type.\n    if (!(typeof element === 'object' && element instanceof Element)) {\n      throw new Error('Invalid argument provided to upgrade MDL element.');\n    }\n    // Allow upgrade to be canceled by canceling emitted event.\n    var upgradingEv = createEvent_('mdl-componentupgrading', true, true);\n    element.dispatchEvent(upgradingEv);\n    if (upgradingEv.defaultPrevented) {\n      return;\n    }\n\n    var upgradedList = getUpgradedListOfElement_(element);\n    var classesToUpgrade = [];\n    // If jsClass is not provided scan the registered components to find the\n    // ones matching the element's CSS classList.\n    if (!optJsClass) {\n      var classList = element.classList;\n      registeredComponents_.forEach(function(component) {\n        // Match CSS & Not to be upgraded & Not upgraded.\n        if (classList.contains(component.cssClass) &&\n            classesToUpgrade.indexOf(component) === -1 &&\n            !isElementUpgraded_(element, component.className)) {\n          classesToUpgrade.push(component);\n        }\n      });\n    } else if (!isElementUpgraded_(element, optJsClass)) {\n      classesToUpgrade.push(findRegisteredClass_(optJsClass));\n    }\n\n    // Upgrade the element for each classes.\n    for (var i = 0, n = classesToUpgrade.length, registeredClass; i < n; i++) {\n      registeredClass = classesToUpgrade[i];\n      if (registeredClass) {\n        // Mark element as upgraded.\n        upgradedList.push(registeredClass.className);\n        element.setAttribute('data-upgraded', upgradedList.join(','));\n        var instance = new registeredClass.classConstructor(element);\n        instance[componentConfigProperty_] = registeredClass;\n        createdComponents_.push(instance);\n        // Call any callbacks the user has registered with this component type.\n        for (var j = 0, m = registeredClass.callbacks.length; j < m; j++) {\n          registeredClass.callbacks[j](element);\n        }\n\n        if (registeredClass.widget) {\n          // Assign per element instance for control over API\n          element[registeredClass.className] = instance;\n        }\n      } else {\n        throw new Error(\n          'Unable to find a registered component for the given class.');\n      }\n\n      var upgradedEv = createEvent_('mdl-componentupgraded', true, false);\n      element.dispatchEvent(upgradedEv);\n    }\n  }\n\n  /**\n   * Upgrades a specific list of elements rather than all in the DOM.\n   *\n   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n   * The elements we wish to upgrade.\n   */\n  function upgradeElementsInternal(elements) {\n    if (!Array.isArray(elements)) {\n      if (elements instanceof Element) {\n        elements = [elements];\n      } else {\n        elements = Array.prototype.slice.call(elements);\n      }\n    }\n    for (var i = 0, n = elements.length, element; i < n; i++) {\n      element = elements[i];\n      if (element instanceof HTMLElement) {\n        upgradeElementInternal(element);\n        if (element.children.length > 0) {\n          upgradeElementsInternal(element.children);\n        }\n      }\n    }\n  }\n\n  /**\n   * Registers a class for future use and attempts to upgrade existing DOM.\n   *\n   * @param {componentHandler.ComponentConfigPublic} config\n   */\n  function registerInternal(config) {\n    // In order to support both Closure-compiled and uncompiled code accessing\n    // this method, we need to allow for both the dot and array syntax for\n    // property access. You'll therefore see the `foo.bar || foo['bar']`\n    // pattern repeated across this method.\n    var widgetMissing = (typeof config.widget === 'undefined' &&\n        typeof config['widget'] === 'undefined');\n    var widget = true;\n\n    if (!widgetMissing) {\n      widget = config.widget || config['widget'];\n    }\n\n    var newConfig = /** @type {componentHandler.ComponentConfig} */ ({\n      classConstructor: config.constructor || config['constructor'],\n      className: config.classAsString || config['classAsString'],\n      cssClass: config.cssClass || config['cssClass'],\n      widget: widget,\n      callbacks: []\n    });\n\n    registeredComponents_.forEach(function(item) {\n      if (item.cssClass === newConfig.cssClass) {\n        throw new Error('The provided cssClass has already been registered: ' + item.cssClass);\n      }\n      if (item.className === newConfig.className) {\n        throw new Error('The provided className has already been registered');\n      }\n    });\n\n    if (config.constructor.prototype\n        .hasOwnProperty(componentConfigProperty_)) {\n      throw new Error(\n          'MDL component classes must not have ' + componentConfigProperty_ +\n          ' defined as a property.');\n    }\n\n    var found = findRegisteredClass_(config.classAsString, newConfig);\n\n    if (!found) {\n      registeredComponents_.push(newConfig);\n    }\n  }\n\n  /**\n   * Allows user to be alerted to any upgrades that are performed for a given\n   * component type\n   *\n   * @param {string} jsClass The class name of the MDL component we wish\n   * to hook into for any upgrades performed.\n   * @param {function(!HTMLElement)} callback The function to call upon an\n   * upgrade. This function should expect 1 parameter - the HTMLElement which\n   * got upgraded.\n   */\n  function registerUpgradedCallbackInternal(jsClass, callback) {\n    var regClass = findRegisteredClass_(jsClass);\n    if (regClass) {\n      regClass.callbacks.push(callback);\n    }\n  }\n\n  /**\n   * Upgrades all registered components found in the current DOM. This is\n   * automatically called on window load.\n   */\n  function upgradeAllRegisteredInternal() {\n    for (var n = 0; n < registeredComponents_.length; n++) {\n      upgradeDomInternal(registeredComponents_[n].className);\n    }\n  }\n\n  /**\n   * Check the component for the downgrade method.\n   * Execute if found.\n   * Remove component from createdComponents list.\n   *\n   * @param {?componentHandler.Component} component\n   */\n  function deconstructComponentInternal(component) {\n    if (component) {\n      var componentIndex = createdComponents_.indexOf(component);\n      createdComponents_.splice(componentIndex, 1);\n\n      var upgrades = component.element_.getAttribute('data-upgraded').split(',');\n      var componentPlace = upgrades.indexOf(component[componentConfigProperty_].classAsString);\n      upgrades.splice(componentPlace, 1);\n      component.element_.setAttribute('data-upgraded', upgrades.join(','));\n\n      var ev = createEvent_('mdl-componentdowngraded', true, false);\n      component.element_.dispatchEvent(ev);\n    }\n  }\n\n  /**\n   * Downgrade either a given node, an array of nodes, or a NodeList.\n   *\n   * @param {!Node|!Array<!Node>|!NodeList} nodes\n   */\n  function downgradeNodesInternal(nodes) {\n    /**\n     * Auxiliary function to downgrade a single node.\n     * @param  {!Node} node the node to be downgraded\n     */\n    var downgradeNode = function(node) {\n      createdComponents_.filter(function(item) {\n        return item.element_ === node;\n      }).forEach(deconstructComponentInternal);\n    };\n    if (nodes instanceof Array || nodes instanceof NodeList) {\n      for (var n = 0; n < nodes.length; n++) {\n        downgradeNode(nodes[n]);\n      }\n    } else if (nodes instanceof Node) {\n      downgradeNode(nodes);\n    } else {\n      throw new Error('Invalid argument provided to downgrade MDL nodes.');\n    }\n  }\n\n  // Now return the functions that should be made public with their publicly\n  // facing names...\n  return {\n    upgradeDom: upgradeDomInternal,\n    upgradeElement: upgradeElementInternal,\n    upgradeElements: upgradeElementsInternal,\n    upgradeAllRegistered: upgradeAllRegisteredInternal,\n    registerUpgradedCallback: registerUpgradedCallbackInternal,\n    register: registerInternal,\n    downgradeElements: downgradeNodesInternal\n  };\n})();\n\n/**\n * Describes the type of a registered component type managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   constructor: Function,\n *   classAsString: string,\n *   cssClass: string,\n *   widget: (string|boolean|undefined)\n * }}\n */\ncomponentHandler.ComponentConfigPublic;  // jshint ignore:line\n\n/**\n * Describes the type of a registered component type managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   constructor: !Function,\n *   className: string,\n *   cssClass: string,\n *   widget: (string|boolean),\n *   callbacks: !Array<function(!HTMLElement)>\n * }}\n */\ncomponentHandler.ComponentConfig;  // jshint ignore:line\n\n/**\n * Created component (i.e., upgraded element) type as managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   element_: !HTMLElement,\n *   className: string,\n *   classAsString: string,\n *   cssClass: string,\n *   widget: string\n * }}\n */\ncomponentHandler.Component;  // jshint ignore:line\n\n// Export all symbols, for the benefit of Closure compiler.\n// No effect on uncompiled code.\ncomponentHandler['upgradeDom'] = componentHandler.upgradeDom;\ncomponentHandler['upgradeElement'] = componentHandler.upgradeElement;\ncomponentHandler['upgradeElements'] = componentHandler.upgradeElements;\ncomponentHandler['upgradeAllRegistered'] =\n    componentHandler.upgradeAllRegistered;\ncomponentHandler['registerUpgradedCallback'] =\n    componentHandler.registerUpgradedCallback;\ncomponentHandler['register'] = componentHandler.register;\ncomponentHandler['downgradeElements'] = componentHandler.downgradeElements;\nwindow.componentHandler = componentHandler;\nwindow['componentHandler'] = componentHandler;\n\nwindow.addEventListener('load', function() {\n  'use strict';\n\n  /**\n   * Performs a \"Cutting the mustard\" test. If the browser supports the features\n   * tested, adds a mdl-js class to the <html> element. It then upgrades all MDL\n   * components requiring JavaScript.\n   */\n  if ('classList' in document.createElement('div') &&\n      'querySelector' in document &&\n      'addEventListener' in window && Array.prototype.forEach) {\n    document.documentElement.classList.add('mdl-js');\n    componentHandler.upgradeAllRegistered();\n  } else {\n    /**\n     * Dummy function to avoid JS errors.\n     */\n    componentHandler.upgradeElement = function() {};\n    /**\n     * Dummy function to avoid JS errors.\n     */\n    componentHandler.register = function() {};\n  }\n});\n","// Source: https://github.com/darius/requestAnimationFrame/blob/master/requestAnimationFrame.js\n// Adapted from https://gist.github.com/paulirish/1579671 which derived from\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n// requestAnimationFrame polyfill by Erik Mller.\n// Fixes from Paul Irish, Tino Zijdel, Andrew Mao, Klemen Slavi, Darius Bacon\n// MIT license\nif (!Date.now) {\n    /**\n     * Date.now polyfill.\n     * @return {number} the current Date\n     */\n    Date.now = function () {\n        return new Date().getTime();\n    };\n    Date['now'] = Date.now;\n}\nvar vendors = [\n    'webkit',\n    'moz'\n];\nfor (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n    var vp = vendors[i];\n    window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n    window['requestAnimationFrame'] = window.requestAnimationFrame;\n    window['cancelAnimationFrame'] = window.cancelAnimationFrame;\n}\nif (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n    var lastTime = 0;\n    /**\n     * requestAnimationFrame polyfill.\n     * @param  {!Function} callback the callback function.\n     */\n    window.requestAnimationFrame = function (callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function () {\n            callback(lastTime = nextTime);\n        }, nextTime - now);\n    };\n    window.cancelAnimationFrame = clearTimeout;\n    window['requestAnimationFrame'] = window.requestAnimationFrame;\n    window['cancelAnimationFrame'] = window.cancelAnimationFrame;\n}","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Button MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialButton = function MaterialButton(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialButton'] = MaterialButton;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialButton.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialButton.prototype.CssClasses_ = {\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_CONTAINER: 'mdl-button__ripple-container',\n    RIPPLE: 'mdl-ripple'\n};\n/**\n   * Handle blur of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialButton.prototype.blurHandler_ = function (event) {\n    if (event) {\n        this.element_.blur();\n    }\n};\n// Public methods.\n/**\n   * Disable button.\n   *\n   * @public\n   */\nMaterialButton.prototype.disable = function () {\n    this.element_.disabled = true;\n};\nMaterialButton.prototype['disable'] = MaterialButton.prototype.disable;\n/**\n   * Enable button.\n   *\n   * @public\n   */\nMaterialButton.prototype.enable = function () {\n    this.element_.disabled = false;\n};\nMaterialButton.prototype['enable'] = MaterialButton.prototype.enable;\n/**\n   * Initialize element.\n   */\nMaterialButton.prototype.init = function () {\n    if (this.element_) {\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            var rippleContainer = document.createElement('span');\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleElement_ = document.createElement('span');\n            this.rippleElement_.classList.add(this.CssClasses_.RIPPLE);\n            rippleContainer.appendChild(this.rippleElement_);\n            this.boundRippleBlurHandler = this.blurHandler_.bind(this);\n            this.rippleElement_.addEventListener('mouseup', this.boundRippleBlurHandler);\n            this.element_.appendChild(rippleContainer);\n        }\n        this.boundButtonBlurHandler = this.blurHandler_.bind(this);\n        this.element_.addEventListener('mouseup', this.boundButtonBlurHandler);\n        this.element_.addEventListener('mouseleave', this.boundButtonBlurHandler);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialButton,\n    classAsString: 'MaterialButton',\n    cssClass: 'mdl-js-button',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Checkbox MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialCheckbox = function MaterialCheckbox(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialCheckbox'] = MaterialCheckbox;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialCheckbox.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialCheckbox.prototype.CssClasses_ = {\n    INPUT: 'mdl-checkbox__input',\n    BOX_OUTLINE: 'mdl-checkbox__box-outline',\n    FOCUS_HELPER: 'mdl-checkbox__focus-helper',\n    TICK_OUTLINE: 'mdl-checkbox__tick-outline',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-checkbox__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked',\n    IS_UPGRADED: 'is-upgraded'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onChange_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onMouseUp_ = function (event) {\n    this.blur_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialCheckbox.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialCheckbox.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.inputElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the inputs toggle state and update display.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.checkToggleState = function () {\n    if (this.inputElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialCheckbox.prototype['checkToggleState'] = MaterialCheckbox.prototype.checkToggleState;\n/**\n   * Check the inputs disabled state and update display.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.checkDisabled = function () {\n    if (this.inputElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialCheckbox.prototype['checkDisabled'] = MaterialCheckbox.prototype.checkDisabled;\n/**\n   * Disable checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.disable = function () {\n    this.inputElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['disable'] = MaterialCheckbox.prototype.disable;\n/**\n   * Enable checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.enable = function () {\n    this.inputElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['enable'] = MaterialCheckbox.prototype.enable;\n/**\n   * Check checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.check = function () {\n    this.inputElement_.checked = true;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['check'] = MaterialCheckbox.prototype.check;\n/**\n   * Uncheck checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.uncheck = function () {\n    this.inputElement_.checked = false;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['uncheck'] = MaterialCheckbox.prototype.uncheck;\n/**\n   * Initialize element.\n   */\nMaterialCheckbox.prototype.init = function () {\n    if (this.element_) {\n        this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        var boxOutline = document.createElement('span');\n        boxOutline.classList.add(this.CssClasses_.BOX_OUTLINE);\n        var tickContainer = document.createElement('span');\n        tickContainer.classList.add(this.CssClasses_.FOCUS_HELPER);\n        var tickOutline = document.createElement('span');\n        tickOutline.classList.add(this.CssClasses_.TICK_OUTLINE);\n        boxOutline.appendChild(tickOutline);\n        this.element_.appendChild(tickContainer);\n        this.element_.appendChild(boxOutline);\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            this.rippleContainerElement_ = document.createElement('span');\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            this.boundRippleMouseUp = this.onMouseUp_.bind(this);\n            this.rippleContainerElement_.addEventListener('mouseup', this.boundRippleMouseUp);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            this.rippleContainerElement_.appendChild(ripple);\n            this.element_.appendChild(this.rippleContainerElement_);\n        }\n        this.boundInputOnChange = this.onChange_.bind(this);\n        this.boundInputOnFocus = this.onFocus_.bind(this);\n        this.boundInputOnBlur = this.onBlur_.bind(this);\n        this.boundElementMouseUp = this.onMouseUp_.bind(this);\n        this.inputElement_.addEventListener('change', this.boundInputOnChange);\n        this.inputElement_.addEventListener('focus', this.boundInputOnFocus);\n        this.inputElement_.addEventListener('blur', this.boundInputOnBlur);\n        this.element_.addEventListener('mouseup', this.boundElementMouseUp);\n        this.updateClasses_();\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialCheckbox,\n    classAsString: 'MaterialCheckbox',\n    cssClass: 'mdl-js-checkbox',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for icon toggle MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialIconToggle = function MaterialIconToggle(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialIconToggle'] = MaterialIconToggle;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialIconToggle.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialIconToggle.prototype.CssClasses_ = {\n    INPUT: 'mdl-icon-toggle__input',\n    JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-icon-toggle__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onChange_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onMouseUp_ = function (event) {\n    this.blur_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialIconToggle.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialIconToggle.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.inputElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the inputs toggle state and update display.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.checkToggleState = function () {\n    if (this.inputElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialIconToggle.prototype['checkToggleState'] = MaterialIconToggle.prototype.checkToggleState;\n/**\n   * Check the inputs disabled state and update display.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.checkDisabled = function () {\n    if (this.inputElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialIconToggle.prototype['checkDisabled'] = MaterialIconToggle.prototype.checkDisabled;\n/**\n   * Disable icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.disable = function () {\n    this.inputElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['disable'] = MaterialIconToggle.prototype.disable;\n/**\n   * Enable icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.enable = function () {\n    this.inputElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['enable'] = MaterialIconToggle.prototype.enable;\n/**\n   * Check icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.check = function () {\n    this.inputElement_.checked = true;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['check'] = MaterialIconToggle.prototype.check;\n/**\n   * Uncheck icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.uncheck = function () {\n    this.inputElement_.checked = false;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['uncheck'] = MaterialIconToggle.prototype.uncheck;\n/**\n   * Initialize element.\n   */\nMaterialIconToggle.prototype.init = function () {\n    if (this.element_) {\n        this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        if (this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            this.rippleContainerElement_ = document.createElement('span');\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            this.boundRippleMouseUp = this.onMouseUp_.bind(this);\n            this.rippleContainerElement_.addEventListener('mouseup', this.boundRippleMouseUp);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            this.rippleContainerElement_.appendChild(ripple);\n            this.element_.appendChild(this.rippleContainerElement_);\n        }\n        this.boundInputOnChange = this.onChange_.bind(this);\n        this.boundInputOnFocus = this.onFocus_.bind(this);\n        this.boundInputOnBlur = this.onBlur_.bind(this);\n        this.boundElementOnMouseUp = this.onMouseUp_.bind(this);\n        this.inputElement_.addEventListener('change', this.boundInputOnChange);\n        this.inputElement_.addEventListener('focus', this.boundInputOnFocus);\n        this.inputElement_.addEventListener('blur', this.boundInputOnBlur);\n        this.element_.addEventListener('mouseup', this.boundElementOnMouseUp);\n        this.updateClasses_();\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialIconToggle,\n    classAsString: 'MaterialIconToggle',\n    cssClass: 'mdl-js-icon-toggle',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for dropdown MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialMenu = function MaterialMenu(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialMenu'] = MaterialMenu;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialMenu.prototype.Constant_ = {\n    // Total duration of the menu animation.\n    TRANSITION_DURATION_SECONDS: 0.3,\n    // The fraction of the total duration we want to use for menu item animations.\n    TRANSITION_DURATION_FRACTION: 0.8,\n    // How long the menu stays open after choosing an option (so the user can see\n    // the ripple).\n    CLOSE_TIMEOUT: 150\n};\n/**\n   * Keycodes, for code readability.\n   *\n   * @enum {number}\n   * @private\n   */\nMaterialMenu.prototype.Keycodes_ = {\n    ENTER: 13,\n    ESCAPE: 27,\n    SPACE: 32,\n    UP_ARROW: 38,\n    DOWN_ARROW: 40\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialMenu.prototype.CssClasses_ = {\n    CONTAINER: 'mdl-menu__container',\n    OUTLINE: 'mdl-menu__outline',\n    ITEM: 'mdl-menu__item',\n    ITEM_RIPPLE_CONTAINER: 'mdl-menu__item-ripple-container',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE: 'mdl-ripple',\n    // Statuses\n    IS_UPGRADED: 'is-upgraded',\n    IS_VISIBLE: 'is-visible',\n    IS_ANIMATING: 'is-animating',\n    // Alignment options\n    BOTTOM_LEFT: 'mdl-menu--bottom-left',\n    // This is the default.\n    BOTTOM_RIGHT: 'mdl-menu--bottom-right',\n    TOP_LEFT: 'mdl-menu--top-left',\n    TOP_RIGHT: 'mdl-menu--top-right',\n    UNALIGNED: 'mdl-menu--unaligned'\n};\n/**\n   * Initialize element.\n   */\nMaterialMenu.prototype.init = function () {\n    if (this.element_) {\n        // Create container for the menu.\n        var container = document.createElement('div');\n        container.classList.add(this.CssClasses_.CONTAINER);\n        this.element_.parentElement.insertBefore(container, this.element_);\n        this.element_.parentElement.removeChild(this.element_);\n        container.appendChild(this.element_);\n        this.container_ = container;\n        // Create outline for the menu (shadow and background).\n        var outline = document.createElement('div');\n        outline.classList.add(this.CssClasses_.OUTLINE);\n        this.outline_ = outline;\n        container.insertBefore(outline, this.element_);\n        // Find the \"for\" element and bind events to it.\n        var forElId = this.element_.getAttribute('for') || this.element_.getAttribute('data-mdl-for');\n        var forEl = null;\n        if (forElId) {\n            forEl = document.getElementById(forElId);\n            if (forEl) {\n                this.forElement_ = forEl;\n                forEl.addEventListener('click', this.handleForClick_.bind(this));\n                forEl.addEventListener('keydown', this.handleForKeyboardEvent_.bind(this));\n            }\n        }\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n        this.boundItemKeydown_ = this.handleItemKeyboardEvent_.bind(this);\n        this.boundItemClick_ = this.handleItemClick_.bind(this);\n        for (var i = 0; i < items.length; i++) {\n            // Add a listener to each menu item.\n            items[i].addEventListener('click', this.boundItemClick_);\n            // Add a tab index to each menu item.\n            items[i].tabIndex = '-1';\n            // Add a keyboard listener to each menu item.\n            items[i].addEventListener('keydown', this.boundItemKeydown_);\n        }\n        // Add ripple classes to each item, if the user has enabled ripples.\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            for (i = 0; i < items.length; i++) {\n                var item = items[i];\n                var rippleContainer = document.createElement('span');\n                rippleContainer.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);\n                var ripple = document.createElement('span');\n                ripple.classList.add(this.CssClasses_.RIPPLE);\n                rippleContainer.appendChild(ripple);\n                item.appendChild(rippleContainer);\n                item.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            }\n        }\n        // Copy alignment classes to the container, so the outline can use them.\n        if (this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)) {\n            this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n            this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n            this.outline_.classList.add(this.CssClasses_.TOP_LEFT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n            this.outline_.classList.add(this.CssClasses_.TOP_RIGHT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n            this.outline_.classList.add(this.CssClasses_.UNALIGNED);\n        }\n        container.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n/**\n   * Handles a click on the \"for\" element, by positioning the menu and then\n   * toggling it.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleForClick_ = function (evt) {\n    if (this.element_ && this.forElement_) {\n        var rect = this.forElement_.getBoundingClientRect();\n        var forRect = this.forElement_.parentElement.getBoundingClientRect();\n        if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n        } else if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n            // Position below the \"for\" element, aligned to its right.\n            this.container_.style.right = forRect.right - rect.right + 'px';\n            this.container_.style.top = this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';\n        } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n            // Position above the \"for\" element, aligned to its left.\n            this.container_.style.left = this.forElement_.offsetLeft + 'px';\n            this.container_.style.bottom = forRect.bottom - rect.top + 'px';\n        } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n            // Position above the \"for\" element, aligned to its right.\n            this.container_.style.right = forRect.right - rect.right + 'px';\n            this.container_.style.bottom = forRect.bottom - rect.top + 'px';\n        } else {\n            // Default: position below the \"for\" element, aligned to its left.\n            this.container_.style.left = this.forElement_.offsetLeft + 'px';\n            this.container_.style.top = this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';\n        }\n    }\n    this.toggle(evt);\n};\n/**\n   * Handles a keyboard event on the \"for\" element.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleForKeyboardEvent_ = function (evt) {\n    if (this.element_ && this.container_ && this.forElement_) {\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM + ':not([disabled])');\n        if (items && items.length > 0 && this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n            if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n                evt.preventDefault();\n                items[items.length - 1].focus();\n            } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n                evt.preventDefault();\n                items[0].focus();\n            }\n        }\n    }\n};\n/**\n   * Handles a keyboard event on an item.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleItemKeyboardEvent_ = function (evt) {\n    if (this.element_ && this.container_) {\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM + ':not([disabled])');\n        if (items && items.length > 0 && this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n            var currentIndex = Array.prototype.slice.call(items).indexOf(evt.target);\n            if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n                evt.preventDefault();\n                if (currentIndex > 0) {\n                    items[currentIndex - 1].focus();\n                } else {\n                    items[items.length - 1].focus();\n                }\n            } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n                evt.preventDefault();\n                if (items.length > currentIndex + 1) {\n                    items[currentIndex + 1].focus();\n                } else {\n                    items[0].focus();\n                }\n            } else if (evt.keyCode === this.Keycodes_.SPACE || evt.keyCode === this.Keycodes_.ENTER) {\n                evt.preventDefault();\n                // Send mousedown and mouseup to trigger ripple.\n                var e = new MouseEvent('mousedown');\n                evt.target.dispatchEvent(e);\n                e = new MouseEvent('mouseup');\n                evt.target.dispatchEvent(e);\n                // Send click.\n                evt.target.click();\n            } else if (evt.keyCode === this.Keycodes_.ESCAPE) {\n                evt.preventDefault();\n                this.hide();\n            }\n        }\n    }\n};\n/**\n   * Handles a click event on an item.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleItemClick_ = function (evt) {\n    if (evt.target.hasAttribute('disabled')) {\n        evt.stopPropagation();\n    } else {\n        // Wait some time before closing menu, so the user can see the ripple.\n        this.closing_ = true;\n        window.setTimeout(function (evt) {\n            this.hide();\n            this.closing_ = false;\n        }.bind(this), this.Constant_.CLOSE_TIMEOUT);\n    }\n};\n/**\n   * Calculates the initial clip (for opening the menu) or final clip (for closing\n   * it), and applies it. This allows us to animate from or to the correct point,\n   * that is, the point it's aligned to in the \"for\" element.\n   *\n   * @param {number} height Height of the clip rectangle\n   * @param {number} width Width of the clip rectangle\n   * @private\n   */\nMaterialMenu.prototype.applyClip_ = function (height, width) {\n    if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n        // Do not clip.\n        this.element_.style.clip = '';\n    } else if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n        // Clip to the top right corner of the menu.\n        this.element_.style.clip = 'rect(0 ' + width + 'px ' + '0 ' + width + 'px)';\n    } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n        // Clip to the bottom left corner of the menu.\n        this.element_.style.clip = 'rect(' + height + 'px 0 ' + height + 'px 0)';\n    } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n        // Clip to the bottom right corner of the menu.\n        this.element_.style.clip = 'rect(' + height + 'px ' + width + 'px ' + height + 'px ' + width + 'px)';\n    } else {\n        // Default: do not clip (same as clipping to the top left corner).\n        this.element_.style.clip = '';\n    }\n};\n/**\n   * Cleanup function to remove animation listeners.\n   *\n   * @param {Event} evt\n   * @private\n   */\nMaterialMenu.prototype.removeAnimationEndListener_ = function (evt) {\n    evt.target.classList.remove(MaterialMenu.prototype.CssClasses_.IS_ANIMATING);\n};\n/**\n   * Adds an event listener to clean up after the animation ends.\n   *\n   * @private\n   */\nMaterialMenu.prototype.addAnimationEndListener_ = function () {\n    this.element_.addEventListener('transitionend', this.removeAnimationEndListener_);\n    this.element_.addEventListener('webkitTransitionEnd', this.removeAnimationEndListener_);\n};\n/**\n   * Displays the menu.\n   *\n   * @public\n   */\nMaterialMenu.prototype.show = function (evt) {\n    if (this.element_ && this.container_ && this.outline_) {\n        // Measure the inner element.\n        var height = this.element_.getBoundingClientRect().height;\n        var width = this.element_.getBoundingClientRect().width;\n        // Apply the inner element's size to the container and outline.\n        this.container_.style.width = width + 'px';\n        this.container_.style.height = height + 'px';\n        this.outline_.style.width = width + 'px';\n        this.outline_.style.height = height + 'px';\n        var transitionDuration = this.Constant_.TRANSITION_DURATION_SECONDS * this.Constant_.TRANSITION_DURATION_FRACTION;\n        // Calculate transition delays for individual menu items, so that they fade\n        // in one at a time.\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n        for (var i = 0; i < items.length; i++) {\n            var itemDelay = null;\n            if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT) || this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n                itemDelay = (height - items[i].offsetTop - items[i].offsetHeight) / height * transitionDuration + 's';\n            } else {\n                itemDelay = items[i].offsetTop / height * transitionDuration + 's';\n            }\n            items[i].style.transitionDelay = itemDelay;\n        }\n        // Apply the initial clip to the text before we start animating.\n        this.applyClip_(height, width);\n        // Wait for the next frame, turn on animation, and apply the final clip.\n        // Also make it visible. This triggers the transitions.\n        window.requestAnimationFrame(function () {\n            this.element_.classList.add(this.CssClasses_.IS_ANIMATING);\n            this.element_.style.clip = 'rect(0 ' + width + 'px ' + height + 'px 0)';\n            this.container_.classList.add(this.CssClasses_.IS_VISIBLE);\n        }.bind(this));\n        // Clean up after the animation is complete.\n        this.addAnimationEndListener_();\n        // Add a click listener to the document, to close the menu.\n        var callback = function (e) {\n            // Check to see if the document is processing the same event that\n            // displayed the menu in the first place. If so, do nothing.\n            // Also check to see if the menu is in the process of closing itself, and\n            // do nothing in that case.\n            // Also check if the clicked element is a menu item\n            // if so, do nothing.\n            if (e !== evt && !this.closing_ && e.target.parentNode !== this.element_) {\n                document.removeEventListener('click', callback);\n                this.hide();\n            }\n        }.bind(this);\n        document.addEventListener('click', callback);\n    }\n};\nMaterialMenu.prototype['show'] = MaterialMenu.prototype.show;\n/**\n   * Hides the menu.\n   *\n   * @public\n   */\nMaterialMenu.prototype.hide = function () {\n    if (this.element_ && this.container_ && this.outline_) {\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n        // Remove all transition delays; menu items fade out concurrently.\n        for (var i = 0; i < items.length; i++) {\n            items[i].style.removeProperty('transition-delay');\n        }\n        // Measure the inner element.\n        var rect = this.element_.getBoundingClientRect();\n        var height = rect.height;\n        var width = rect.width;\n        // Turn on animation, and apply the final clip. Also make invisible.\n        // This triggers the transitions.\n        this.element_.classList.add(this.CssClasses_.IS_ANIMATING);\n        this.applyClip_(height, width);\n        this.container_.classList.remove(this.CssClasses_.IS_VISIBLE);\n        // Clean up after the animation is complete.\n        this.addAnimationEndListener_();\n    }\n};\nMaterialMenu.prototype['hide'] = MaterialMenu.prototype.hide;\n/**\n   * Displays or hides the menu, depending on current state.\n   *\n   * @public\n   */\nMaterialMenu.prototype.toggle = function (evt) {\n    if (this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n        this.hide();\n    } else {\n        this.show(evt);\n    }\n};\nMaterialMenu.prototype['toggle'] = MaterialMenu.prototype.toggle;\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialMenu,\n    classAsString: 'MaterialMenu',\n    cssClass: 'mdl-js-menu',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Progress MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialProgress = function MaterialProgress(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialProgress'] = MaterialProgress;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialProgress.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialProgress.prototype.CssClasses_ = { INDETERMINATE_CLASS: 'mdl-progress__indeterminate' };\n/**\n   * Set the current progress of the progressbar.\n   *\n   * @param {number} p Percentage of the progress (0-100)\n   * @public\n   */\nMaterialProgress.prototype.setProgress = function (p) {\n    if (this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)) {\n        return;\n    }\n    this.progressbar_.style.width = p + '%';\n};\nMaterialProgress.prototype['setProgress'] = MaterialProgress.prototype.setProgress;\n/**\n   * Set the current progress of the buffer.\n   *\n   * @param {number} p Percentage of the buffer (0-100)\n   * @public\n   */\nMaterialProgress.prototype.setBuffer = function (p) {\n    this.bufferbar_.style.width = p + '%';\n    this.auxbar_.style.width = 100 - p + '%';\n};\nMaterialProgress.prototype['setBuffer'] = MaterialProgress.prototype.setBuffer;\n/**\n   * Initialize element.\n   */\nMaterialProgress.prototype.init = function () {\n    if (this.element_) {\n        var el = document.createElement('div');\n        el.className = 'progressbar bar bar1';\n        this.element_.appendChild(el);\n        this.progressbar_ = el;\n        el = document.createElement('div');\n        el.className = 'bufferbar bar bar2';\n        this.element_.appendChild(el);\n        this.bufferbar_ = el;\n        el = document.createElement('div');\n        el.className = 'auxbar bar bar3';\n        this.element_.appendChild(el);\n        this.auxbar_ = el;\n        this.progressbar_.style.width = '0%';\n        this.bufferbar_.style.width = '100%';\n        this.auxbar_.style.width = '0%';\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialProgress,\n    classAsString: 'MaterialProgress',\n    cssClass: 'mdl-js-progress',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Radio MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialRadio = function MaterialRadio(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialRadio'] = MaterialRadio;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialRadio.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialRadio.prototype.CssClasses_ = {\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked',\n    IS_UPGRADED: 'is-upgraded',\n    JS_RADIO: 'mdl-js-radio',\n    RADIO_BTN: 'mdl-radio__button',\n    RADIO_OUTER_CIRCLE: 'mdl-radio__outer-circle',\n    RADIO_INNER_CIRCLE: 'mdl-radio__inner-circle',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-radio__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onChange_ = function (event) {\n    // Since other radio buttons don't get change events, we need to look for\n    // them to update their classes.\n    var radios = document.getElementsByClassName(this.CssClasses_.JS_RADIO);\n    for (var i = 0; i < radios.length; i++) {\n        var button = radios[i].querySelector('.' + this.CssClasses_.RADIO_BTN);\n        // Different name == different group, so no point updating those.\n        if (button.getAttribute('name') === this.btnElement_.getAttribute('name')) {\n            if (typeof radios[i]['MaterialRadio'] !== 'undefined') {\n                radios[i]['MaterialRadio'].updateClasses_();\n            }\n        }\n    }\n};\n/**\n   * Handle focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onMouseup_ = function (event) {\n    this.blur_();\n};\n/**\n   * Update classes.\n   *\n   * @private\n   */\nMaterialRadio.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialRadio.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.btnElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the components disabled state.\n   *\n   * @public\n   */\nMaterialRadio.prototype.checkDisabled = function () {\n    if (this.btnElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialRadio.prototype['checkDisabled'] = MaterialRadio.prototype.checkDisabled;\n/**\n   * Check the components toggled state.\n   *\n   * @public\n   */\nMaterialRadio.prototype.checkToggleState = function () {\n    if (this.btnElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialRadio.prototype['checkToggleState'] = MaterialRadio.prototype.checkToggleState;\n/**\n   * Disable radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.disable = function () {\n    this.btnElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialRadio.prototype['disable'] = MaterialRadio.prototype.disable;\n/**\n   * Enable radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.enable = function () {\n    this.btnElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialRadio.prototype['enable'] = MaterialRadio.prototype.enable;\n/**\n   * Check radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.check = function () {\n    this.btnElement_.checked = true;\n    this.onChange_(null);\n};\nMaterialRadio.prototype['check'] = MaterialRadio.prototype.check;\n/**\n   * Uncheck radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.uncheck = function () {\n    this.btnElement_.checked = false;\n    this.onChange_(null);\n};\nMaterialRadio.prototype['uncheck'] = MaterialRadio.prototype.uncheck;\n/**\n   * Initialize element.\n   */\nMaterialRadio.prototype.init = function () {\n    if (this.element_) {\n        this.btnElement_ = this.element_.querySelector('.' + this.CssClasses_.RADIO_BTN);\n        this.boundChangeHandler_ = this.onChange_.bind(this);\n        this.boundFocusHandler_ = this.onChange_.bind(this);\n        this.boundBlurHandler_ = this.onBlur_.bind(this);\n        this.boundMouseUpHandler_ = this.onMouseup_.bind(this);\n        var outerCircle = document.createElement('span');\n        outerCircle.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);\n        var innerCircle = document.createElement('span');\n        innerCircle.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE);\n        this.element_.appendChild(outerCircle);\n        this.element_.appendChild(innerCircle);\n        var rippleContainer;\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            rippleContainer = document.createElement('span');\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            rippleContainer.addEventListener('mouseup', this.boundMouseUpHandler_);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            rippleContainer.appendChild(ripple);\n            this.element_.appendChild(rippleContainer);\n        }\n        this.btnElement_.addEventListener('change', this.boundChangeHandler_);\n        this.btnElement_.addEventListener('focus', this.boundFocusHandler_);\n        this.btnElement_.addEventListener('blur', this.boundBlurHandler_);\n        this.element_.addEventListener('mouseup', this.boundMouseUpHandler_);\n        this.updateClasses_();\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialRadio,\n    classAsString: 'MaterialRadio',\n    cssClass: 'mdl-js-radio',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Slider MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialSlider = function MaterialSlider(element) {\n    this.element_ = element;\n    // Browser feature detection.\n    this.isIE_ = window.navigator.msPointerEnabled;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialSlider'] = MaterialSlider;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSlider.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSlider.prototype.CssClasses_ = {\n    IE_CONTAINER: 'mdl-slider__ie-container',\n    SLIDER_CONTAINER: 'mdl-slider__container',\n    BACKGROUND_FLEX: 'mdl-slider__background-flex',\n    BACKGROUND_LOWER: 'mdl-slider__background-lower',\n    BACKGROUND_UPPER: 'mdl-slider__background-upper',\n    IS_LOWEST_VALUE: 'is-lowest-value',\n    IS_UPGRADED: 'is-upgraded'\n};\n/**\n   * Handle input on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSlider.prototype.onInput_ = function (event) {\n    this.updateValueStyles_();\n};\n/**\n   * Handle change on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSlider.prototype.onChange_ = function (event) {\n    this.updateValueStyles_();\n};\n/**\n   * Handle mouseup on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSlider.prototype.onMouseUp_ = function (event) {\n    event.target.blur();\n};\n/**\n   * Handle mousedown on container element.\n   * This handler is purpose is to not require the use to click\n   * exactly on the 2px slider element, as FireFox seems to be very\n   * strict about this.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   * @suppress {missingProperties}\n   */\nMaterialSlider.prototype.onContainerMouseDown_ = function (event) {\n    // If this click is not on the parent element (but rather some child)\n    // ignore. It may still bubble up.\n    if (event.target !== this.element_.parentElement) {\n        return;\n    }\n    // Discard the original event and create a new event that\n    // is on the slider element.\n    event.preventDefault();\n    var newEvent = new MouseEvent('mousedown', {\n        target: event.target,\n        buttons: event.buttons,\n        clientX: event.clientX,\n        clientY: this.element_.getBoundingClientRect().y\n    });\n    this.element_.dispatchEvent(newEvent);\n};\n/**\n   * Handle updating of values.\n   *\n   * @private\n   */\nMaterialSlider.prototype.updateValueStyles_ = function () {\n    // Calculate and apply percentages to div structure behind slider.\n    var fraction = (this.element_.value - this.element_.min) / (this.element_.max - this.element_.min);\n    if (fraction === 0) {\n        this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE);\n    }\n    if (!this.isIE_) {\n        this.backgroundLower_.style.flex = fraction;\n        this.backgroundLower_.style.webkitFlex = fraction;\n        this.backgroundUpper_.style.flex = 1 - fraction;\n        this.backgroundUpper_.style.webkitFlex = 1 - fraction;\n    }\n};\n// Public methods.\n/**\n   * Disable slider.\n   *\n   * @public\n   */\nMaterialSlider.prototype.disable = function () {\n    this.element_.disabled = true;\n};\nMaterialSlider.prototype['disable'] = MaterialSlider.prototype.disable;\n/**\n   * Enable slider.\n   *\n   * @public\n   */\nMaterialSlider.prototype.enable = function () {\n    this.element_.disabled = false;\n};\nMaterialSlider.prototype['enable'] = MaterialSlider.prototype.enable;\n/**\n   * Update slider value.\n   *\n   * @param {number} value The value to which to set the control (optional).\n   * @public\n   */\nMaterialSlider.prototype.change = function (value) {\n    if (typeof value !== 'undefined') {\n        this.element_.value = value;\n    }\n    this.updateValueStyles_();\n};\nMaterialSlider.prototype['change'] = MaterialSlider.prototype.change;\n/**\n   * Initialize element.\n   */\nMaterialSlider.prototype.init = function () {\n    if (this.element_) {\n        if (this.isIE_) {\n            // Since we need to specify a very large height in IE due to\n            // implementation limitations, we add a parent here that trims it down to\n            // a reasonable size.\n            var containerIE = document.createElement('div');\n            containerIE.classList.add(this.CssClasses_.IE_CONTAINER);\n            this.element_.parentElement.insertBefore(containerIE, this.element_);\n            this.element_.parentElement.removeChild(this.element_);\n            containerIE.appendChild(this.element_);\n        } else {\n            // For non-IE browsers, we need a div structure that sits behind the\n            // slider and allows us to style the left and right sides of it with\n            // different colors.\n            var container = document.createElement('div');\n            container.classList.add(this.CssClasses_.SLIDER_CONTAINER);\n            this.element_.parentElement.insertBefore(container, this.element_);\n            this.element_.parentElement.removeChild(this.element_);\n            container.appendChild(this.element_);\n            var backgroundFlex = document.createElement('div');\n            backgroundFlex.classList.add(this.CssClasses_.BACKGROUND_FLEX);\n            container.appendChild(backgroundFlex);\n            this.backgroundLower_ = document.createElement('div');\n            this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER);\n            backgroundFlex.appendChild(this.backgroundLower_);\n            this.backgroundUpper_ = document.createElement('div');\n            this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER);\n            backgroundFlex.appendChild(this.backgroundUpper_);\n        }\n        this.boundInputHandler = this.onInput_.bind(this);\n        this.boundChangeHandler = this.onChange_.bind(this);\n        this.boundMouseUpHandler = this.onMouseUp_.bind(this);\n        this.boundContainerMouseDownHandler = this.onContainerMouseDown_.bind(this);\n        this.element_.addEventListener('input', this.boundInputHandler);\n        this.element_.addEventListener('change', this.boundChangeHandler);\n        this.element_.addEventListener('mouseup', this.boundMouseUpHandler);\n        this.element_.parentElement.addEventListener('mousedown', this.boundContainerMouseDownHandler);\n        this.updateValueStyles_();\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSlider,\n    classAsString: 'MaterialSlider',\n    cssClass: 'mdl-js-slider',\n    widget: true\n});","/**\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Snackbar MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialSnackbar = function MaterialSnackbar(element) {\n    this.element_ = element;\n    this.textElement_ = this.element_.querySelector('.' + this.cssClasses_.MESSAGE);\n    this.actionElement_ = this.element_.querySelector('.' + this.cssClasses_.ACTION);\n    if (!this.textElement_) {\n        throw new Error('There must be a message element for a snackbar.');\n    }\n    if (!this.actionElement_) {\n        throw new Error('There must be an action element for a snackbar.');\n    }\n    this.active = false;\n    this.actionHandler_ = undefined;\n    this.message_ = undefined;\n    this.actionText_ = undefined;\n    this.queuedNotifications_ = [];\n    this.setActionHidden_(true);\n};\nwindow['MaterialSnackbar'] = MaterialSnackbar;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSnackbar.prototype.Constant_ = {\n    // The duration of the snackbar show/hide animation, in ms.\n    ANIMATION_LENGTH: 250\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSnackbar.prototype.cssClasses_ = {\n    SNACKBAR: 'mdl-snackbar',\n    MESSAGE: 'mdl-snackbar__text',\n    ACTION: 'mdl-snackbar__action',\n    ACTIVE: 'mdl-snackbar--active'\n};\n/**\n   * Display the snackbar.\n   *\n   * @private\n   */\nMaterialSnackbar.prototype.displaySnackbar_ = function () {\n    this.element_.setAttribute('aria-hidden', 'true');\n    if (this.actionHandler_) {\n        this.actionElement_.textContent = this.actionText_;\n        this.actionElement_.addEventListener('click', this.actionHandler_);\n        this.setActionHidden_(false);\n    }\n    this.textElement_.textContent = this.message_;\n    this.element_.classList.add(this.cssClasses_.ACTIVE);\n    this.element_.setAttribute('aria-hidden', 'false');\n    setTimeout(this.cleanup_.bind(this), this.timeout_);\n};\n/**\n   * Show the snackbar.\n   *\n   * @param {Object} data The data for the notification.\n   * @public\n   */\nMaterialSnackbar.prototype.showSnackbar = function (data) {\n    if (data === undefined) {\n        throw new Error('Please provide a data object with at least a message to display.');\n    }\n    if (data['message'] === undefined) {\n        throw new Error('Please provide a message to be displayed.');\n    }\n    if (data['actionHandler'] && !data['actionText']) {\n        throw new Error('Please provide action text with the handler.');\n    }\n    if (this.active) {\n        this.queuedNotifications_.push(data);\n    } else {\n        this.active = true;\n        this.message_ = data['message'];\n        if (data['timeout']) {\n            this.timeout_ = data['timeout'];\n        } else {\n            this.timeout_ = 2750;\n        }\n        if (data['actionHandler']) {\n            this.actionHandler_ = data['actionHandler'];\n        }\n        if (data['actionText']) {\n            this.actionText_ = data['actionText'];\n        }\n        this.displaySnackbar_();\n    }\n};\nMaterialSnackbar.prototype['showSnackbar'] = MaterialSnackbar.prototype.showSnackbar;\n/**\n   * Check if the queue has items within it.\n   * If it does, display the next entry.\n   *\n   * @private\n   */\nMaterialSnackbar.prototype.checkQueue_ = function () {\n    if (this.queuedNotifications_.length > 0) {\n        this.showSnackbar(this.queuedNotifications_.shift());\n    }\n};\n/**\n   * Cleanup the snackbar event listeners and accessiblity attributes.\n   *\n   * @private\n   */\nMaterialSnackbar.prototype.cleanup_ = function () {\n    this.element_.classList.remove(this.cssClasses_.ACTIVE);\n    setTimeout(function () {\n        this.element_.setAttribute('aria-hidden', 'true');\n        this.textElement_.textContent = '';\n        if (!Boolean(this.actionElement_.getAttribute('aria-hidden'))) {\n            this.setActionHidden_(true);\n            this.actionElement_.textContent = '';\n            this.actionElement_.removeEventListener('click', this.actionHandler_);\n        }\n        this.actionHandler_ = undefined;\n        this.message_ = undefined;\n        this.actionText_ = undefined;\n        this.active = false;\n        this.checkQueue_();\n    }.bind(this), this.Constant_.ANIMATION_LENGTH);\n};\n/**\n   * Set the action handler hidden state.\n   *\n   * @param {boolean} value\n   * @private\n   */\nMaterialSnackbar.prototype.setActionHidden_ = function (value) {\n    if (value) {\n        this.actionElement_.setAttribute('aria-hidden', 'true');\n    } else {\n        this.actionElement_.removeAttribute('aria-hidden');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSnackbar,\n    classAsString: 'MaterialSnackbar',\n    cssClass: 'mdl-js-snackbar',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Spinner MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @param {HTMLElement} element The element that will be upgraded.\n   * @constructor\n   */\nvar MaterialSpinner = function MaterialSpinner(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialSpinner'] = MaterialSpinner;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSpinner.prototype.Constant_ = { MDL_SPINNER_LAYER_COUNT: 4 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSpinner.prototype.CssClasses_ = {\n    MDL_SPINNER_LAYER: 'mdl-spinner__layer',\n    MDL_SPINNER_CIRCLE_CLIPPER: 'mdl-spinner__circle-clipper',\n    MDL_SPINNER_CIRCLE: 'mdl-spinner__circle',\n    MDL_SPINNER_GAP_PATCH: 'mdl-spinner__gap-patch',\n    MDL_SPINNER_LEFT: 'mdl-spinner__left',\n    MDL_SPINNER_RIGHT: 'mdl-spinner__right'\n};\n/**\n   * Auxiliary method to create a spinner layer.\n   *\n   * @param {number} index Index of the layer to be created.\n   * @public\n   */\nMaterialSpinner.prototype.createLayer = function (index) {\n    var layer = document.createElement('div');\n    layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER);\n    layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER + '-' + index);\n    var leftClipper = document.createElement('div');\n    leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n    leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);\n    var gapPatch = document.createElement('div');\n    gapPatch.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);\n    var rightClipper = document.createElement('div');\n    rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n    rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);\n    var circleOwners = [\n        leftClipper,\n        gapPatch,\n        rightClipper\n    ];\n    for (var i = 0; i < circleOwners.length; i++) {\n        var circle = document.createElement('div');\n        circle.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE);\n        circleOwners[i].appendChild(circle);\n    }\n    layer.appendChild(leftClipper);\n    layer.appendChild(gapPatch);\n    layer.appendChild(rightClipper);\n    this.element_.appendChild(layer);\n};\nMaterialSpinner.prototype['createLayer'] = MaterialSpinner.prototype.createLayer;\n/**\n   * Stops the spinner animation.\n   * Public method for users who need to stop the spinner for any reason.\n   *\n   * @public\n   */\nMaterialSpinner.prototype.stop = function () {\n    this.element_.classList.remove('is-active');\n};\nMaterialSpinner.prototype['stop'] = MaterialSpinner.prototype.stop;\n/**\n   * Starts the spinner animation.\n   * Public method for users who need to manually start the spinner for any reason\n   * (instead of just adding the 'is-active' class to their markup).\n   *\n   * @public\n   */\nMaterialSpinner.prototype.start = function () {\n    this.element_.classList.add('is-active');\n};\nMaterialSpinner.prototype['start'] = MaterialSpinner.prototype.start;\n/**\n   * Initialize element.\n   */\nMaterialSpinner.prototype.init = function () {\n    if (this.element_) {\n        for (var i = 1; i <= this.Constant_.MDL_SPINNER_LAYER_COUNT; i++) {\n            this.createLayer(i);\n        }\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSpinner,\n    classAsString: 'MaterialSpinner',\n    cssClass: 'mdl-js-spinner',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Checkbox MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialSwitch = function MaterialSwitch(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialSwitch'] = MaterialSwitch;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSwitch.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSwitch.prototype.CssClasses_ = {\n    INPUT: 'mdl-switch__input',\n    TRACK: 'mdl-switch__track',\n    THUMB: 'mdl-switch__thumb',\n    FOCUS_HELPER: 'mdl-switch__focus-helper',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-switch__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onChange_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onMouseUp_ = function (event) {\n    this.blur_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialSwitch.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialSwitch.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.inputElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the components disabled state.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.checkDisabled = function () {\n    if (this.inputElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialSwitch.prototype['checkDisabled'] = MaterialSwitch.prototype.checkDisabled;\n/**\n   * Check the components toggled state.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.checkToggleState = function () {\n    if (this.inputElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialSwitch.prototype['checkToggleState'] = MaterialSwitch.prototype.checkToggleState;\n/**\n   * Disable switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.disable = function () {\n    this.inputElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['disable'] = MaterialSwitch.prototype.disable;\n/**\n   * Enable switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.enable = function () {\n    this.inputElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['enable'] = MaterialSwitch.prototype.enable;\n/**\n   * Activate switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.on = function () {\n    this.inputElement_.checked = true;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['on'] = MaterialSwitch.prototype.on;\n/**\n   * Deactivate switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.off = function () {\n    this.inputElement_.checked = false;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['off'] = MaterialSwitch.prototype.off;\n/**\n   * Initialize element.\n   */\nMaterialSwitch.prototype.init = function () {\n    if (this.element_) {\n        this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        var track = document.createElement('div');\n        track.classList.add(this.CssClasses_.TRACK);\n        var thumb = document.createElement('div');\n        thumb.classList.add(this.CssClasses_.THUMB);\n        var focusHelper = document.createElement('span');\n        focusHelper.classList.add(this.CssClasses_.FOCUS_HELPER);\n        thumb.appendChild(focusHelper);\n        this.element_.appendChild(track);\n        this.element_.appendChild(thumb);\n        this.boundMouseUpHandler = this.onMouseUp_.bind(this);\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            this.rippleContainerElement_ = document.createElement('span');\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            this.rippleContainerElement_.addEventListener('mouseup', this.boundMouseUpHandler);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            this.rippleContainerElement_.appendChild(ripple);\n            this.element_.appendChild(this.rippleContainerElement_);\n        }\n        this.boundChangeHandler = this.onChange_.bind(this);\n        this.boundFocusHandler = this.onFocus_.bind(this);\n        this.boundBlurHandler = this.onBlur_.bind(this);\n        this.inputElement_.addEventListener('change', this.boundChangeHandler);\n        this.inputElement_.addEventListener('focus', this.boundFocusHandler);\n        this.inputElement_.addEventListener('blur', this.boundBlurHandler);\n        this.element_.addEventListener('mouseup', this.boundMouseUpHandler);\n        this.updateClasses_();\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSwitch,\n    classAsString: 'MaterialSwitch',\n    cssClass: 'mdl-js-switch',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Textfield MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialTextfield = function MaterialTextfield(element) {\n    this.element_ = element;\n    this.maxRows = this.Constant_.NO_MAX_ROWS;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialTextfield'] = MaterialTextfield;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialTextfield.prototype.Constant_ = {\n    NO_MAX_ROWS: -1,\n    MAX_ROWS_ATTRIBUTE: 'maxrows'\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTextfield.prototype.CssClasses_ = {\n    LABEL: 'mdl-textfield__label',\n    INPUT: 'mdl-textfield__input',\n    IS_DIRTY: 'is-dirty',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_INVALID: 'is-invalid',\n    IS_UPGRADED: 'is-upgraded',\n    HAS_PLACEHOLDER: 'has-placeholder'\n};\n/**\n   * Handle input being entered.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onKeyDown_ = function (event) {\n    var currentRowCount = event.target.value.split('\\n').length;\n    if (event.keyCode === 13) {\n        if (currentRowCount >= this.maxRows) {\n            event.preventDefault();\n        }\n    }\n};\n/**\n   * Handle focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle reset event from out side.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onReset_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialTextfield.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkValidity();\n    this.checkDirty();\n    this.checkFocus();\n};\n// Public methods.\n/**\n   * Check the disabled state and update field accordingly.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.checkDisabled = function () {\n    if (this.input_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialTextfield.prototype['checkDisabled'] = MaterialTextfield.prototype.checkDisabled;\n/**\n  * Check the focus state and update field accordingly.\n  *\n  * @public\n  */\nMaterialTextfield.prototype.checkFocus = function () {\n    if (Boolean(this.element_.querySelector(':focus'))) {\n        this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n    }\n};\nMaterialTextfield.prototype['checkFocus'] = MaterialTextfield.prototype.checkFocus;\n/**\n   * Check the validity state and update field accordingly.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.checkValidity = function () {\n    if (this.input_.validity) {\n        if (this.input_.validity.valid) {\n            this.element_.classList.remove(this.CssClasses_.IS_INVALID);\n        } else {\n            this.element_.classList.add(this.CssClasses_.IS_INVALID);\n        }\n    }\n};\nMaterialTextfield.prototype['checkValidity'] = MaterialTextfield.prototype.checkValidity;\n/**\n   * Check the dirty state and update field accordingly.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.checkDirty = function () {\n    if (this.input_.value && this.input_.value.length > 0) {\n        this.element_.classList.add(this.CssClasses_.IS_DIRTY);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DIRTY);\n    }\n};\nMaterialTextfield.prototype['checkDirty'] = MaterialTextfield.prototype.checkDirty;\n/**\n   * Disable text field.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.disable = function () {\n    this.input_.disabled = true;\n    this.updateClasses_();\n};\nMaterialTextfield.prototype['disable'] = MaterialTextfield.prototype.disable;\n/**\n   * Enable text field.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.enable = function () {\n    this.input_.disabled = false;\n    this.updateClasses_();\n};\nMaterialTextfield.prototype['enable'] = MaterialTextfield.prototype.enable;\n/**\n   * Update text field value.\n   *\n   * @param {string} value The value to which to set the control (optional).\n   * @public\n   */\nMaterialTextfield.prototype.change = function (value) {\n    this.input_.value = value || '';\n    this.updateClasses_();\n};\nMaterialTextfield.prototype['change'] = MaterialTextfield.prototype.change;\n/**\n   * Initialize element.\n   */\nMaterialTextfield.prototype.init = function () {\n    if (this.element_) {\n        this.label_ = this.element_.querySelector('.' + this.CssClasses_.LABEL);\n        this.input_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        if (this.input_) {\n            if (this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)) {\n                this.maxRows = parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE), 10);\n                if (isNaN(this.maxRows)) {\n                    this.maxRows = this.Constant_.NO_MAX_ROWS;\n                }\n            }\n            if (this.input_.hasAttribute('placeholder')) {\n                this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER);\n            }\n            this.boundUpdateClassesHandler = this.updateClasses_.bind(this);\n            this.boundFocusHandler = this.onFocus_.bind(this);\n            this.boundBlurHandler = this.onBlur_.bind(this);\n            this.boundResetHandler = this.onReset_.bind(this);\n            this.input_.addEventListener('input', this.boundUpdateClassesHandler);\n            this.input_.addEventListener('focus', this.boundFocusHandler);\n            this.input_.addEventListener('blur', this.boundBlurHandler);\n            this.input_.addEventListener('reset', this.boundResetHandler);\n            if (this.maxRows !== this.Constant_.NO_MAX_ROWS) {\n                // TODO: This should handle pasting multi line text.\n                // Currently doesn't.\n                this.boundKeyDownHandler = this.onKeyDown_.bind(this);\n                this.input_.addEventListener('keydown', this.boundKeyDownHandler);\n            }\n            var invalid = this.element_.classList.contains(this.CssClasses_.IS_INVALID);\n            this.updateClasses_();\n            this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n            if (invalid) {\n                this.element_.classList.add(this.CssClasses_.IS_INVALID);\n            }\n            if (this.input_.hasAttribute('autofocus')) {\n                this.element_.focus();\n                this.checkFocus();\n            }\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialTextfield,\n    classAsString: 'MaterialTextfield',\n    cssClass: 'mdl-js-textfield',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Tooltip MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialTooltip = function MaterialTooltip(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialTooltip'] = MaterialTooltip;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialTooltip.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTooltip.prototype.CssClasses_ = {\n    IS_ACTIVE: 'is-active',\n    BOTTOM: 'mdl-tooltip--bottom',\n    LEFT: 'mdl-tooltip--left',\n    RIGHT: 'mdl-tooltip--right',\n    TOP: 'mdl-tooltip--top'\n};\n/**\n   * Handle mouseenter for tooltip.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTooltip.prototype.handleMouseEnter_ = function (event) {\n    var props = event.target.getBoundingClientRect();\n    var left = props.left + props.width / 2;\n    var top = props.top + props.height / 2;\n    var marginLeft = -1 * (this.element_.offsetWidth / 2);\n    var marginTop = -1 * (this.element_.offsetHeight / 2);\n    if (this.element_.classList.contains(this.CssClasses_.LEFT) || this.element_.classList.contains(this.CssClasses_.RIGHT)) {\n        left = props.width / 2;\n        if (top + marginTop < 0) {\n            this.element_.style.top = '0';\n            this.element_.style.marginTop = '0';\n        } else {\n            this.element_.style.top = top + 'px';\n            this.element_.style.marginTop = marginTop + 'px';\n        }\n    } else {\n        if (left + marginLeft < 0) {\n            this.element_.style.left = '0';\n            this.element_.style.marginLeft = '0';\n        } else {\n            this.element_.style.left = left + 'px';\n            this.element_.style.marginLeft = marginLeft + 'px';\n        }\n    }\n    if (this.element_.classList.contains(this.CssClasses_.TOP)) {\n        this.element_.style.top = props.top - this.element_.offsetHeight - 10 + 'px';\n    } else if (this.element_.classList.contains(this.CssClasses_.RIGHT)) {\n        this.element_.style.left = props.left + props.width + 10 + 'px';\n    } else if (this.element_.classList.contains(this.CssClasses_.LEFT)) {\n        this.element_.style.left = props.left - this.element_.offsetWidth - 10 + 'px';\n    } else {\n        this.element_.style.top = props.top + props.height + 10 + 'px';\n    }\n    this.element_.classList.add(this.CssClasses_.IS_ACTIVE);\n};\n/**\n   * Hide tooltip on mouseleave or scroll\n   *\n   * @private\n   */\nMaterialTooltip.prototype.hideTooltip_ = function () {\n    this.element_.classList.remove(this.CssClasses_.IS_ACTIVE);\n};\n/**\n   * Initialize element.\n   */\nMaterialTooltip.prototype.init = function () {\n    if (this.element_) {\n        var forElId = this.element_.getAttribute('for') || this.element_.getAttribute('data-mdl-for');\n        if (forElId) {\n            this.forElement_ = document.getElementById(forElId);\n        }\n        if (this.forElement_) {\n            // It's left here because it prevents accidental text selection on Android\n            if (!this.forElement_.hasAttribute('tabindex')) {\n                this.forElement_.setAttribute('tabindex', '0');\n            }\n            this.boundMouseEnterHandler = this.handleMouseEnter_.bind(this);\n            this.boundMouseLeaveAndScrollHandler = this.hideTooltip_.bind(this);\n            this.forElement_.addEventListener('mouseenter', this.boundMouseEnterHandler, false);\n            this.forElement_.addEventListener('touchend', this.boundMouseEnterHandler, false);\n            this.forElement_.addEventListener('mouseleave', this.boundMouseLeaveAndScrollHandler, false);\n            window.addEventListener('scroll', this.boundMouseLeaveAndScrollHandler, true);\n            window.addEventListener('touchstart', this.boundMouseLeaveAndScrollHandler);\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialTooltip,\n    classAsString: 'MaterialTooltip',\n    cssClass: 'mdl-tooltip'\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Data Table Card MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {Element} element The element that will be upgraded.\n   */\nvar MaterialDataTable = function MaterialDataTable(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialDataTable'] = MaterialDataTable;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialDataTable.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialDataTable.prototype.CssClasses_ = {\n    DATA_TABLE: 'mdl-data-table',\n    SELECTABLE: 'mdl-data-table--selectable',\n    SELECT_ELEMENT: 'mdl-data-table__select',\n    IS_SELECTED: 'is-selected',\n    IS_UPGRADED: 'is-upgraded'\n};\n/**\n   * Generates and returns a function that toggles the selection state of a\n   * single row (or multiple rows).\n   *\n   * @param {Element} checkbox Checkbox that toggles the selection state.\n   * @param {Element} row Row to toggle when checkbox changes.\n   * @param {(Array<Object>|NodeList)=} opt_rows Rows to toggle when checkbox changes.\n   * @private\n   */\nMaterialDataTable.prototype.selectRow_ = function (checkbox, row, opt_rows) {\n    if (row) {\n        return function () {\n            if (checkbox.checked) {\n                row.classList.add(this.CssClasses_.IS_SELECTED);\n            } else {\n                row.classList.remove(this.CssClasses_.IS_SELECTED);\n            }\n        }.bind(this);\n    }\n    if (opt_rows) {\n        return function () {\n            var i;\n            var el;\n            if (checkbox.checked) {\n                for (i = 0; i < opt_rows.length; i++) {\n                    el = opt_rows[i].querySelector('td').querySelector('.mdl-checkbox');\n                    el['MaterialCheckbox'].check();\n                    opt_rows[i].classList.add(this.CssClasses_.IS_SELECTED);\n                }\n            } else {\n                for (i = 0; i < opt_rows.length; i++) {\n                    el = opt_rows[i].querySelector('td').querySelector('.mdl-checkbox');\n                    el['MaterialCheckbox'].uncheck();\n                    opt_rows[i].classList.remove(this.CssClasses_.IS_SELECTED);\n                }\n            }\n        }.bind(this);\n    }\n};\n/**\n   * Creates a checkbox for a single or or multiple rows and hooks up the\n   * event handling.\n   *\n   * @param {Element} row Row to toggle when checkbox changes.\n   * @param {(Array<Object>|NodeList)=} opt_rows Rows to toggle when checkbox changes.\n   * @private\n   */\nMaterialDataTable.prototype.createCheckbox_ = function (row, opt_rows) {\n    var label = document.createElement('label');\n    var labelClasses = [\n        'mdl-checkbox',\n        'mdl-js-checkbox',\n        'mdl-js-ripple-effect',\n        this.CssClasses_.SELECT_ELEMENT\n    ];\n    label.className = labelClasses.join(' ');\n    var checkbox = document.createElement('input');\n    checkbox.type = 'checkbox';\n    checkbox.classList.add('mdl-checkbox__input');\n    if (row) {\n        checkbox.checked = row.classList.contains(this.CssClasses_.IS_SELECTED);\n        checkbox.addEventListener('change', this.selectRow_(checkbox, row));\n    } else if (opt_rows) {\n        checkbox.addEventListener('change', this.selectRow_(checkbox, null, opt_rows));\n    }\n    label.appendChild(checkbox);\n    componentHandler.upgradeElement(label, 'MaterialCheckbox');\n    return label;\n};\n/**\n   * Initialize element.\n   */\nMaterialDataTable.prototype.init = function () {\n    if (this.element_) {\n        var firstHeader = this.element_.querySelector('th');\n        var bodyRows = Array.prototype.slice.call(this.element_.querySelectorAll('tbody tr'));\n        var footRows = Array.prototype.slice.call(this.element_.querySelectorAll('tfoot tr'));\n        var rows = bodyRows.concat(footRows);\n        if (this.element_.classList.contains(this.CssClasses_.SELECTABLE)) {\n            var th = document.createElement('th');\n            var headerCheckbox = this.createCheckbox_(null, rows);\n            th.appendChild(headerCheckbox);\n            firstHeader.parentElement.insertBefore(th, firstHeader);\n            for (var i = 0; i < rows.length; i++) {\n                var firstCell = rows[i].querySelector('td');\n                if (firstCell) {\n                    var td = document.createElement('td');\n                    if (rows[i].parentNode.nodeName.toUpperCase() === 'TBODY') {\n                        var rowCheckbox = this.createCheckbox_(rows[i]);\n                        td.appendChild(rowCheckbox);\n                    }\n                    rows[i].insertBefore(td, firstCell);\n                }\n            }\n            this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialDataTable,\n    classAsString: 'MaterialDataTable',\n    cssClass: 'mdl-js-data-table'\n});","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","export const GOOGLE_INIT = 'GOOGLE_INIT';\nexport const GOOGLE_INIT_SUCCESS = 'GOOGLE_INIT_SUCCESS';\nexport const GOOGLE_INIT_ERROR = 'GOOGLE_INIT_ERROR';\n\nexport const GOOGLE_LOGIN = 'GOOGLE_LOGIN';\nexport const GOOGLE_LOGIN_SUCCESS = 'GOOGLE_LOGIN_SUCCESS';\nexport const GOOGLE_LOGIN_ERROR = 'GOOGLE_LOGIN_ERROR';\n\nexport const GOOGLE_LOADDOCUMENT = 'GOOGLE_LOADDOCUMENT';\nexport const GOOGLE_LOADNEWDOCUMENT = 'GOOGLE_LOADNEWDOCUMENT';\nexport const GOOGLE_LOADDOCUMENT_SUCCESS = 'GOOGLE_LOADDOCUMENT_SUCCESS';\nexport const GOOGLE_LOADDOCUMENT_ERROR = 'GOOGLE_LOADDOCUMENT_ERROR';\n\nexport const GOOGLE_FILEINFO = 'GOOGLE_FILEINFO';\nexport const GOOGLE_FILEINFO_SUCCESS = 'GOOGLE_FILEINFO_SUCCESS';\nexport const GOOGLE_FILEINFO_ERROR = 'GOOGLE_FILEINFO_ERROR';\n\nexport const GOOGLE_SAVEDOCUMENT = 'GOOGLE_SAVEDOCUMENT';\nexport const GOOGLE_SAVEDOCUMENT_SUCCESS = 'GOOGLE_SAVEDOCUMENT_SUCCESS';\nexport const GOOGLE_SAVEDOCUMENT_ERROR = 'GOOGLE_SAVEDOCUMENT_ERROR';\n\nexport function createGoogleInitAction(options) {\n    return { type: GOOGLE_INIT };\n}\n\nexport function createGoogleInitSuccessAction() {\n    return { type: GOOGLE_INIT_SUCCESS };\n}\n\nexport function createGoogleInitErrorAction(error) {\n    return { type: GOOGLE_INIT_ERROR,  error };\n}\n\nexport function createGoogleLoginAction() {\n    return { type: GOOGLE_LOGIN };\n}\n\nexport function createGoogleLoginSuccessAction(user) {\n    return { type: GOOGLE_LOGIN_SUCCESS, user };\n}\n\nexport function createGoogleLoginErrorAction(error) {\n    return { type: GOOGLE_LOGIN_ERROR,  error };\n}\n\nexport function createGoogleLoadDocumentAction(id) {\n    return { type: GOOGLE_LOADDOCUMENT, id};\n}\n\nexport function createGoogleLoadNewDocumentAction(id) {\n    return { type: GOOGLE_LOADNEWDOCUMENT, id};\n}\n\nexport function createGoogleLoadDocumentSuccessAction(text) {\n    return { type: GOOGLE_LOADDOCUMENT_SUCCESS, text };\n}\n\nexport function createGoogleLoadDocumentErrorAction(error) {\n    return { type: GOOGLE_LOADDOCUMENT_ERROR,  error };\n}\n\nexport function createGoogleFileInfoAction() {\n    return { type: GOOGLE_FILEINFO};\n}\n\nexport function createGoogleFileInfoSuccessAction(fileinfo) {\n    return { type: GOOGLE_FILEINFO_SUCCESS, fileinfo };\n}\n\nexport function createGoogleFileInfoErrorAction(error) {\n    return { type: GOOGLE_FILEINFO_ERROR,  error };\n}\n\nexport function createGoogleSaveDocumentAction() {\n    return { type: GOOGLE_SAVEDOCUMENT};\n}\n\nexport function createGoogleSaveDocumentSuccessAction(fileinfo) {\n    return { type: GOOGLE_SAVEDOCUMENT_SUCCESS, fileinfo };\n}\n\nexport function createGoogleSaveDocumentErrorAction(error) {\n    return { type: GOOGLE_SAVEDOCUMENT_ERROR,  error };\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Used for setting prototype methods that IE8 chokes on.\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nfunction MakeRef() {\n  return { value: false };\n}\n\nfunction SetRef(ref) {\n  if (ref) {\n    ref.value = true;\n  }\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^321.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (\n    ((begin === 0 && !isNeg(begin)) ||\n      (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size))\n  );\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : isNeg(index)\n      ? size === Infinity\n        ? size\n        : Math.max(0, size + index) | 0\n      : size === undefined || size === index\n        ? index\n        : Math.min(size, index) | 0;\n}\n\nfunction isNeg(value) {\n  // Account for -0 which is negative, but not less than 0.\n  return value < 0 || (value === 0 && 1 / value === -Infinity);\n}\n\n// Note: value is unchanged to not break immutable-devtools.\nvar IS_COLLECTION_SYMBOL = '@@__IMMUTABLE_ITERABLE__@@';\n\nfunction isCollection(maybeCollection) {\n  return Boolean(maybeCollection && maybeCollection[IS_COLLECTION_SYMBOL]);\n}\n\nvar IS_KEYED_SYMBOL = '@@__IMMUTABLE_KEYED__@@';\n\nfunction isKeyed(maybeKeyed) {\n  return Boolean(maybeKeyed && maybeKeyed[IS_KEYED_SYMBOL]);\n}\n\nvar IS_INDEXED_SYMBOL = '@@__IMMUTABLE_INDEXED__@@';\n\nfunction isIndexed(maybeIndexed) {\n  return Boolean(maybeIndexed && maybeIndexed[IS_INDEXED_SYMBOL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = /*@__PURE__*/(function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = /*@__PURE__*/(function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = /*@__PURE__*/(function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar IS_SEQ_SYMBOL = '@@__IMMUTABLE_SEQ__@@';\n\nfunction isSeq(maybeSeq) {\n  return Boolean(maybeSeq && maybeSeq[IS_SEQ_SYMBOL]);\n}\n\nvar IS_RECORD_SYMBOL = '@@__IMMUTABLE_RECORD__@@';\n\nfunction isRecord(maybeRecord) {\n  return Boolean(maybeRecord && maybeRecord[IS_RECORD_SYMBOL]);\n}\n\nfunction isImmutable(maybeImmutable) {\n  return isCollection(maybeImmutable) || isRecord(maybeImmutable);\n}\n\nvar IS_ORDERED_SYMBOL = '@@__IMMUTABLE_ORDERED__@@';\n\nfunction isOrdered(maybeOrdered) {\n  return Boolean(maybeOrdered && maybeOrdered[IS_ORDERED_SYMBOL]);\n}\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = Iterator.prototype.toSource = function() {\n  return this.toString();\n};\nIterator.prototype[ITERATOR_SYMBOL] = function() {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false,\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn =\n    iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isArrayLike(value) {\n  if (Array.isArray(value) || typeof value === 'string') {\n    return true;\n  }\n\n  return (\n    value &&\n    typeof value === 'object' &&\n    Number.isInteger(value.length) &&\n    value.length >= 0 &&\n    (value.length === 0\n      ? // Only {length: 0} is considered Array-like.\n        Object.keys(value).length === 1\n      : // An object is only Array-like if it has a property where the last value\n        // in the array-like may be found (which could be undefined).\n        value.hasOwnProperty(value.length - 1))\n  );\n}\n\nvar Seq = /*@__PURE__*/(function (Collection$$1) {\n  function Seq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isImmutable(value)\n        ? value.toSeq()\n        : seqFromValue(value);\n  }\n\n  if ( Collection$$1 ) Seq.__proto__ = Collection$$1;\n  Seq.prototype = Object.create( Collection$$1 && Collection$$1.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = /*@__PURE__*/(function (Seq) {\n  function KeyedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n        ? isKeyed(value)\n          ? value.toSeq()\n          : value.fromEntrySeq()\n        : isRecord(value)\n          ? value.toSeq()\n          : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = /*@__PURE__*/(function (Seq) {\n  function IndexedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value)\n        ? isKeyed(value)\n          ? value.entrySeq()\n          : value.toIndexedSeq()\n        : isRecord(value)\n          ? value.toSeq().entrySeq()\n          : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = /*@__PURE__*/(function (Seq) {\n  function SetSeq(value) {\n    return (isCollection(value) && !isAssociative(value)\n      ? value\n      : IndexedSeq(value)\n    ).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nSeq.prototype[IS_SEQ_SYMBOL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = /*@__PURE__*/(function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = /*@__PURE__*/(function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return hasOwnProperty.call(this._object, key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar CollectionSeq = /*@__PURE__*/(function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = Array.isArray(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n}\n\nvar IS_MAP_SYMBOL = '@@__IMMUTABLE_MAP__@@';\n\nfunction isMap(maybeMap) {\n  return Boolean(maybeMap && maybeMap[IS_MAP_SYMBOL]);\n}\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nfunction isValueObject(maybeValue) {\n  return Boolean(\n    maybeValue &&\n      typeof maybeValue.equals === 'function' &&\n      typeof maybeValue.hashCode === 'function'\n  );\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' &&\n    typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(\n    isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB)\n  );\n}\n\nvar imul =\n  typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2\n    ? Math.imul\n    : function imul(a, b) {\n        a |= 0; // int\n        b |= 0; // int\n        var c = a & 0xffff;\n        var d = b & 0xffff;\n        // Shift by 0 fixes the sign on the high part.\n        return (c * d + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0)) | 0; // int\n      };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return ((i32 >>> 1) & 0x40000000) | (i32 & 0xbfffffff);\n}\n\nvar defaultValueOf = Object.prototype.valueOf;\n\nfunction hash(o) {\n  switch (typeof o) {\n    case 'boolean':\n      // The hash values for built-in constants are a 1 value for each 5-byte\n      // shift region expect for the first, which encodes the value. This\n      // reduces the odds of a hash collision for these common values.\n      return o ? 0x42108421 : 0x42108420;\n    case 'number':\n      return hashNumber(o);\n    case 'string':\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN\n        ? cachedHashString(o)\n        : hashString(o);\n    case 'object':\n    case 'function':\n      if (o === null) {\n        return 0x42108422;\n      }\n      if (typeof o.hashCode === 'function') {\n        // Drop any high bits from accidentally long hash codes.\n        return smi(o.hashCode(o));\n      }\n      if (o.valueOf !== defaultValueOf && typeof o.valueOf === 'function') {\n        o = o.valueOf(o);\n      }\n      return hashJSObj(o);\n    case 'undefined':\n      return 0x42108423;\n    default:\n      if (typeof o.toString === 'function') {\n        return hashString(o.toString());\n      }\n      throw new Error('Value type ' + typeof o + ' cannot be hashed.');\n  }\n}\n\n// Compress arbitrarily large numbers into smi hashes.\nfunction hashNumber(n) {\n  if (n !== n || n === Infinity) {\n    return 0;\n  }\n  var hash = n | 0;\n  if (hash !== n) {\n    hash ^= n * 0xffffffff;\n  }\n  while (n > 0xffffffff) {\n    n /= 0xffffffff;\n    hash ^= n;\n  }\n  return smi(hash);\n}\n\nfunction cachedHashString(string) {\n  var hashed = stringHashCache[string];\n  if (hashed === undefined) {\n    hashed = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hashed;\n  }\n  return hashed;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hashed = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hashed = (31 * hashed + string.charCodeAt(ii)) | 0;\n  }\n  return smi(hashed);\n}\n\nfunction hashJSObj(obj) {\n  var hashed;\n  if (usingWeakMap) {\n    hashed = weakMap.get(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = obj[UID_HASH_KEY];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  if (!canDefineProperty) {\n    hashed = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hashed !== undefined) {\n      return hashed;\n    }\n\n    hashed = getIENodeHash(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = ++objHashUID;\n  if (objHashUID & 0x40000000) {\n    objHashUID = 0;\n  }\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hashed);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hashed,\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function() {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hashed;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hashed;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hashed;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function() {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = /*@__PURE__*/(function (KeyedSeq$$1) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq$$1 ) ToKeyedSequence.__proto__ = KeyedSeq$$1;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar ToIndexedSequence = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq$$1 ) ToIndexedSequence.__proto__ = IndexedSeq$$1;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1.size - ++i : i++, this$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = /*@__PURE__*/(function (SetSeq$$1) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq$$1 ) ToSetSequence.__proto__ = SetSeq$$1;\n  ToSetSequence.prototype = Object.create( SetSeq$$1 && SetSeq$$1.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = /*@__PURE__*/(function (KeyedSeq$$1) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq$$1 ) FromEntriesSequence.__proto__ = KeyedSeq$$1;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedCollection = isCollection(entry);\n        return fn(\n          indexedCollection ? entry.get(1) : entry[1],\n          indexedCollection ? entry.get(0) : entry[0],\n          this$1\n        );\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult = ToKeyedSequence.prototype.cacheResult = ToSetSequence.prototype.cacheResult = FromEntriesSequence.prototype.cacheResult = cacheResultThrough;\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function() {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function(type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function() {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1.size - ++i : i++, this$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    }, reverse);\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); }).asImmutable();\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size =\n    sliceSize === 0 ? sliceSize : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return (\n          fn(v, useKeys ? k : iterations - 1, this$1) !== false &&\n          iterations !== sliceSize\n        );\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function(type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    if (sliceSize === 0) {\n      return new Iterator(iteratorDone);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES || step.done) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(function (sum, seq) {\n    if (sum !== undefined) {\n      var size = seq.size;\n      if (size !== undefined) {\n        return sum + size;\n      }\n    }\n  }, 0);\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function(fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(function (v, k) {\n        if ((!depth || currentDepth < depth) && isCollection(v)) {\n          flatDeep(v, currentDepth + 1);\n        } else {\n          iterations++;\n          if (fn(v, useKeys ? k : iterations - 1, flatSequence) === false) {\n            stopped = true;\n          }\n        }\n        return !stopped;\n      }, reverse);\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1) !== false) &&\n        fn(v, iterations++, this$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .valueSeq()\n    .toArray();\n  entries.sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; }).forEach(\n    isKeyedCollection\n      ? function (v, i) {\n          entries[i].length = 2;\n        }\n      : function (v, i) {\n          entries[i] = v[1];\n        }\n  );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection)\n      ? IndexedSeq(entries)\n      : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return (maxCompare(comparator, a[1], b[1]) ? b : a); });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return (maxCompare(comparator, a, b) ? b : a); });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (\n    (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) ||\n    comp > 0\n  );\n}\n\nfunction zipWithFactory(keyIter, zipper, iters, zipAll) {\n  var zipSequence = makeSequence(keyIter);\n  var sizes = new ArraySeq(iters).map(function (i) { return i.size; });\n  zipSequence.size = zipAll ? sizes.max() : sizes.min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function(fn, reverse) {\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function(type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = zipAll ? steps.every(function (s) { return s.done; }) : steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(null, steps.map(function (s) { return s.value; }))\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection)\n      ? IndexedCollection\n      : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection)\n        ? IndexedSeq\n        : SetSeq\n    ).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\n// http://jsperf.com/copy-array-inline\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nfunction isPlainObj(value) {\n  return (\n    value &&\n    (typeof value.constructor !== 'function' ||\n      value.constructor.name === 'Object')\n  );\n}\n\n/**\n * Returns true if the value is a potentially-persistent data structure, either\n * provided by Immutable.js or a plain Array or Object.\n */\nfunction isDataStructure(value) {\n  return (\n    typeof value === 'object' &&\n    (isImmutable(value) || Array.isArray(value) || isPlainObj(value))\n  );\n}\n\n/**\n * Converts a value to a string, adding quotes if a string was provided.\n */\nfunction quoteString(value) {\n  try {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  } catch (_ignoreError) {\n    return JSON.stringify(value);\n  }\n}\n\nfunction has(collection, key) {\n  return isImmutable(collection)\n    ? collection.has(key)\n    : isDataStructure(collection) && hasOwnProperty.call(collection, key);\n}\n\nfunction get(collection, key, notSetValue) {\n  return isImmutable(collection)\n    ? collection.get(key, notSetValue)\n    : !has(collection, key)\n      ? notSetValue\n      : typeof collection.get === 'function'\n        ? collection.get(key)\n        : collection[key];\n}\n\nfunction shallowCopy(from) {\n  if (Array.isArray(from)) {\n    return arrCopy(from);\n  }\n  var to = {};\n  for (var key in from) {\n    if (hasOwnProperty.call(from, key)) {\n      to[key] = from[key];\n    }\n  }\n  return to;\n}\n\nfunction remove(collection, key) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.remove) {\n      throw new TypeError(\n        'Cannot update immutable value without .remove() method: ' + collection\n      );\n    }\n    return collection.remove(key);\n  }\n  if (!hasOwnProperty.call(collection, key)) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  if (Array.isArray(collectionCopy)) {\n    collectionCopy.splice(key, 1);\n  } else {\n    delete collectionCopy[key];\n  }\n  return collectionCopy;\n}\n\nfunction set(collection, key, value) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.set) {\n      throw new TypeError(\n        'Cannot update immutable value without .set() method: ' + collection\n      );\n    }\n    return collection.set(key, value);\n  }\n  if (hasOwnProperty.call(collection, key) && value === collection[key]) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  collectionCopy[key] = value;\n  return collectionCopy;\n}\n\nfunction updateIn(collection, keyPath, notSetValue, updater) {\n  if (!updater) {\n    updater = notSetValue;\n    notSetValue = undefined;\n  }\n  var updatedValue = updateInDeeply(\n    isImmutable(collection),\n    collection,\n    coerceKeyPath(keyPath),\n    0,\n    notSetValue,\n    updater\n  );\n  return updatedValue === NOT_SET ? notSetValue : updatedValue;\n}\n\nfunction updateInDeeply(\n  inImmutable,\n  existing,\n  keyPath,\n  i,\n  notSetValue,\n  updater\n) {\n  var wasNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = wasNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!wasNotSet && !isDataStructure(existing)) {\n    throw new TypeError(\n      'Cannot update within non-data-structure value in path [' +\n        keyPath.slice(0, i).map(quoteString) +\n        ']: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = wasNotSet ? NOT_SET : get(existing, key, NOT_SET);\n  var nextUpdated = updateInDeeply(\n    nextExisting === NOT_SET ? inImmutable : isImmutable(nextExisting),\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n      ? remove(existing, key)\n      : set(\n          wasNotSet ? (inImmutable ? emptyMap() : {}) : existing,\n          key,\n          nextUpdated\n        );\n}\n\nfunction setIn(collection, keyPath, value) {\n  return updateIn(collection, keyPath, NOT_SET, function () { return value; });\n}\n\nfunction setIn$1(keyPath, v) {\n  return setIn(this, keyPath, v);\n}\n\nfunction removeIn(collection, keyPath) {\n  return updateIn(collection, keyPath, function () { return NOT_SET; });\n}\n\nfunction deleteIn(keyPath) {\n  return removeIn(this, keyPath);\n}\n\nfunction update(collection, key, notSetValue, updater) {\n  return updateIn(collection, [key], notSetValue, updater);\n}\n\nfunction update$1(key, notSetValue, updater) {\n  return arguments.length === 1\n    ? key(this)\n    : update(this, key, notSetValue, updater);\n}\n\nfunction updateIn$1(keyPath, notSetValue, updater) {\n  return updateIn(this, keyPath, notSetValue, updater);\n}\n\nfunction merge() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeIntoKeyedWith(this, iters);\n}\n\nfunction mergeWith(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  if (typeof merger !== 'function') {\n    throw new TypeError('Invalid merger function: ' + merger);\n  }\n  return mergeIntoKeyedWith(this, iters, merger);\n}\n\nfunction mergeIntoKeyedWith(collection, collections, merger) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var collection$1 = KeyedCollection(collections[ii]);\n    if (collection$1.size !== 0) {\n      iters.push(collection$1);\n    }\n  }\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (\n    collection.toSeq().size === 0 &&\n    !collection.__ownerID &&\n    iters.length === 1\n  ) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoCollection = merger\n      ? function (value, key) {\n          update(\n            collection,\n            key,\n            NOT_SET,\n            function (oldVal) { return (oldVal === NOT_SET ? value : merger(oldVal, value, key)); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoCollection);\n    }\n  });\n}\n\nfunction merge$1(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeWithSources(collection, sources);\n}\n\nfunction mergeWith$1(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeWithSources(collection, sources, merger);\n}\n\nfunction mergeDeep(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(collection, sources);\n}\n\nfunction mergeDeepWith(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeDeepWithSources(collection, sources, merger);\n}\n\nfunction mergeDeepWithSources(collection, sources, merger) {\n  return mergeWithSources(collection, sources, deepMergerWith(merger));\n}\n\nfunction mergeWithSources(collection, sources, merger) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot merge into non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    return typeof merger === 'function' && collection.mergeWith\n      ? collection.mergeWith.apply(collection, [ merger ].concat( sources ))\n      : collection.merge\n        ? collection.merge.apply(collection, sources)\n        : collection.concat.apply(collection, sources);\n  }\n  var isArray = Array.isArray(collection);\n  var merged = collection;\n  var Collection$$1 = isArray ? IndexedCollection : KeyedCollection;\n  var mergeItem = isArray\n    ? function (value) {\n        // Copy on write\n        if (merged === collection) {\n          merged = shallowCopy(merged);\n        }\n        merged.push(value);\n      }\n    : function (value, key) {\n        var hasVal = hasOwnProperty.call(merged, key);\n        var nextVal =\n          hasVal && merger ? merger(merged[key], value, key) : value;\n        if (!hasVal || nextVal !== merged[key]) {\n          // Copy on write\n          if (merged === collection) {\n            merged = shallowCopy(merged);\n          }\n          merged[key] = nextVal;\n        }\n      };\n  for (var i = 0; i < sources.length; i++) {\n    Collection$$1(sources[i]).forEach(mergeItem);\n  }\n  return merged;\n}\n\nfunction deepMergerWith(merger) {\n  function deepMerger(oldValue, newValue, key) {\n    return isDataStructure(oldValue) && isDataStructure(newValue)\n      ? mergeWithSources(oldValue, [newValue], deepMerger)\n      : merger\n        ? merger(oldValue, newValue, key)\n        : newValue;\n  }\n  return deepMerger;\n}\n\nfunction mergeDeep$1() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeDeepWithSources(this, iters);\n}\n\nfunction mergeDeepWith$1(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(this, iters, merger);\n}\n\nfunction mergeIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn(this, keyPath, emptyMap(), function (m) { return mergeWithSources(m, iters); });\n}\n\nfunction mergeDeepIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn(this, keyPath, emptyMap(), function (m) { return mergeDeepWithSources(m, iters); }\n  );\n}\n\nfunction withMutations(fn) {\n  var mutable = this.asMutable();\n  fn(mutable);\n  return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n}\n\nfunction asMutable() {\n  return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n}\n\nfunction asImmutable() {\n  return this.__ensureOwner();\n}\n\nfunction wasAltered() {\n  return this.__altered;\n}\n\nvar Map = /*@__PURE__*/(function (KeyedCollection$$1) {\n  function Map(value) {\n    return value === null || value === undefined\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n        ? value\n        : emptyMap().withMutations(function (map) {\n            var iter = KeyedCollection$$1(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n  }\n\n  if ( KeyedCollection$$1 ) Map.__proto__ = KeyedCollection$$1;\n  Map.prototype = Object.create( KeyedCollection$$1 && KeyedCollection$$1.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  Map.prototype.map = function map (mapper, context) {\n    return this.withMutations(function (map) {\n      map.forEach(function (value, key) {\n        map.set(key, mapper.call(context, value, key, map));\n      });\n    });\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(function (entry) {\n        iterations++;\n        return fn(entry[1], entry[0], this$1);\n      }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nMap.isMap = isMap;\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SYMBOL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeAll = MapPrototype.deleteAll;\nMapPrototype.setIn = setIn$1;\nMapPrototype.removeIn = MapPrototype.deleteIn = deleteIn;\nMapPrototype.update = update$1;\nMapPrototype.updateIn = updateIn$1;\nMapPrototype.merge = MapPrototype.concat = merge;\nMapPrototype.mergeWith = mergeWith;\nMapPrototype.mergeDeep = mergeDeep$1;\nMapPrototype.mergeDeepWith = mergeDeepWith$1;\nMapPrototype.mergeIn = mergeIn;\nMapPrototype.mergeDeepIn = mergeDeepIn;\nMapPrototype.withMutations = withMutations;\nMapPrototype.wasAltered = wasAltered;\nMapPrototype.asImmutable = asImmutable;\nMapPrototype['@@transducer/init'] = MapPrototype.asMutable = asMutable;\nMapPrototype['@@transducer/step'] = function(result, arr) {\n  return result.set(arr[0], arr[1]);\n};\nMapPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & (bit - 1))].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & (bit - 1));\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists &&\n    !newNode &&\n    nodes.length === 2 &&\n    isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? (newNode ? bitmap : bitmap ^ bit) : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n      ? setAt(nodes, idx, newNode, isEditable)\n      : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setAt(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var entries = this.entries;\n  for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n    if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n      return false;\n    }\n  }\n};\n\nBitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var nodes = this.nodes;\n  for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n    var node = nodes[reverse ? maxIndex - ii : ii];\n    if (node && node.iterate(fn, reverse) === false) {\n      return false;\n    }\n  }\n};\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function(fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = /*@__PURE__*/(function (Iterator$$1) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator$$1 ) MapIterator.__proto__ = Iterator$$1;\n  MapIterator.prototype = Object.create( Iterator$$1 && Iterator$$1.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev,\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash$$1) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash$$1;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef();\n    var didAlter = MakeRef();\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? (v === NOT_SET ? -1 : 1) : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return (\n    node.constructor === ValueNode || node.constructor === HashCollisionNode\n  );\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes =\n    idx1 === idx2\n      ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n      : ((newNode = new ValueNode(ownerID, keyHash, entry)),\n        idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction popCount(x) {\n  x -= (x >> 1) & 0x55555555;\n  x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n  x = (x + (x >> 4)) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setAt(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar IS_LIST_SYMBOL = '@@__IMMUTABLE_LIST__@@';\n\nfunction isList(maybeList) {\n  return Boolean(maybeList && maybeList[IS_LIST_SYMBOL]);\n}\n\nvar List = /*@__PURE__*/(function (IndexedCollection$$1) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === null || value === undefined) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection$$1(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection$$1 ) List.__proto__ = IndexedCollection$$1;\n  List.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n        ? this.shift()\n        : index === this.size - 1\n          ? this.pop()\n          : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.concat = function concat (/*...collections*/) {\n    var arguments$1 = arguments;\n\n    var seqs = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var argument = arguments$1[i];\n      var seq = IndexedCollection$$1(\n        typeof argument !== 'string' && hasIterator(argument)\n          ? argument\n          : [argument]\n      );\n      if (seq.size !== 0) {\n        seqs.push(seq);\n      }\n    }\n    if (seqs.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && seqs.length === 1) {\n      return this.constructor(seqs[0]);\n    }\n    return this.withMutations(function (list) {\n      seqs.forEach(function (seq) { return seq.forEach(function (value) { return list.push(value); }); });\n    });\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  List.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    return this.withMutations(function (list) {\n      for (var i = 0; i < this$1.size; i++) {\n        list.set(i, mapper.call(context, list.get(i), i, list));\n      }\n    });\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nList.isList = isList;\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SYMBOL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.merge = ListPrototype.concat;\nListPrototype.setIn = setIn$1;\nListPrototype.deleteIn = ListPrototype.removeIn = deleteIn;\nListPrototype.update = update$1;\nListPrototype.updateIn = updateIn$1;\nListPrototype.mergeIn = mergeIn;\nListPrototype.mergeDeepIn = mergeDeepIn;\nListPrototype.withMutations = withMutations;\nListPrototype.wasAltered = wasAltered;\nListPrototype.asImmutable = asImmutable;\nListPrototype['@@transducer/init'] = ListPrototype.asMutable = asMutable;\nListPrototype['@@transducer/step'] = function(result, arr) {\n  return result.push(arr);\n};\nListPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : this.array.length === 0) {\n    return this;\n  }\n  var originIndex = (index >>> level) & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild =\n      oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = ((index - 1) >>> level) & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild =\n      oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : (left - offset) >> level;\n    var to = ((right - offset) >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef();\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = (index >>> level) & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  if (didAlter) {\n    SetRef(didAlter);\n  }\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << (list._level + SHIFT)) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[(rawIndex >>> level) & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity =\n    end === undefined\n      ? oldCapacity\n      : end < 0\n        ? oldCapacity + end\n        : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail =\n    newTailOffset < oldTailOffset\n      ? listNodeFor(list, newCapacity - 1)\n      : newTailOffset > oldTailOffset\n        ? new VNode([], owner)\n        : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = (oldTailOffset >>> level) & MASK;\n      node = node.array[idx] = editableVNode(node.array[idx], owner);\n    }\n    node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = (newOrigin >>> newLevel) & MASK;\n      if ((beginIndex !== newTailOffset >>> newLevel) & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : ((size - 1) >>> SHIFT) << SHIFT;\n}\n\nvar OrderedMap = /*@__PURE__*/(function (Map$$1) {\n  function OrderedMap(value) {\n    return value === null || value === undefined\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n        ? value\n        : emptyOrderedMap().withMutations(function (map) {\n            var iter = KeyedCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n  }\n\n  if ( Map$$1 ) OrderedMap.__proto__ = Map$$1;\n  OrderedMap.prototype = Object.create( Map$$1 && Map$$1.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SYMBOL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return (\n    EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()))\n  );\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList\n        .toKeyedSeq()\n        .map(function (entry) { return entry[0]; })\n        .flip()\n        .toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar IS_STACK_SYMBOL = '@@__IMMUTABLE_STACK__@@';\n\nfunction isStack(maybeStack) {\n  return Boolean(maybeStack && maybeStack[IS_STACK_SYMBOL]);\n}\n\nvar Stack = /*@__PURE__*/(function (IndexedCollection$$1) {\n  function Stack(value) {\n    return value === null || value === undefined\n      ? emptyStack()\n      : isStack(value)\n        ? value\n        : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection$$1 ) Stack.__proto__ = IndexedCollection$$1;\n  Stack.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head,\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection$$1(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head,\n      };\n    }, /* reverse */ true);\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection$$1.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nStack.isStack = isStack;\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SYMBOL] = true;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\nStackPrototype.withMutations = withMutations;\nStackPrototype.wasAltered = wasAltered;\nStackPrototype.asImmutable = asImmutable;\nStackPrototype['@@transducer/init'] = StackPrototype.asMutable = asMutable;\nStackPrototype['@@transducer/step'] = function(result, arr) {\n  return result.unshift(arr);\n};\nStackPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nvar IS_SET_SYMBOL = '@@__IMMUTABLE_SET__@@';\n\nfunction isSet(maybeSet) {\n  return Boolean(maybeSet && maybeSet[IS_SET_SYMBOL]);\n}\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return (\n      b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done\n    );\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped\n          ? !is(v, a.get(k, NOT_SET))\n          : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\n/**\n * Contributes additional methods to a constructor\n */\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nfunction toJS(value) {\n  if (!value || typeof value !== 'object') {\n    return value;\n  }\n  if (!isCollection(value)) {\n    if (!isDataStructure(value)) {\n      return value;\n    }\n    value = Seq(value);\n  }\n  if (isKeyed(value)) {\n    var result$1 = {};\n    value.__iterate(function (v, k) {\n      result$1[k] = toJS(v);\n    });\n    return result$1;\n  }\n  var result = [];\n  value.__iterate(function (v) {\n    result.push(toJS(v));\n  });\n  return result;\n}\n\nvar Set = /*@__PURE__*/(function (SetCollection$$1) {\n  function Set(value) {\n    return value === null || value === undefined\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n        ? value\n        : emptySet().withMutations(function (set) {\n            var iter = SetCollection$$1(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n  }\n\n  if ( SetCollection$$1 ) Set.__proto__ = SetCollection$$1;\n  Set.prototype = Object.create( SetCollection$$1 && SetCollection$$1.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, value));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var removes = [];\n    var adds = [];\n    this.forEach(function (value) {\n      var mapped = mapper.call(context, value, value, this$1);\n      if (mapped !== value) {\n        removes.push(value);\n        adds.push(mapped);\n      }\n    });\n    return this.withMutations(function (set) {\n      removes.forEach(function (value) { return set.remove(value); });\n      adds.forEach(function (value) { return set.add(value); });\n    });\n  };\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetCollection$$1(iters[ii]).forEach(function (value) { return set.add(value); });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._map.__iterate(function (k) { return fn(k, k, this$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return this.__empty();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nSet.isSet = isSet;\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SYMBOL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.merge = SetPrototype.concat = SetPrototype.union;\nSetPrototype.withMutations = withMutations;\nSetPrototype.asImmutable = asImmutable;\nSetPrototype['@@transducer/init'] = SetPrototype.asMutable = asMutable;\nSetPrototype['@@transducer/step'] = function(result, arr) {\n  return result.add(arr);\n};\nSetPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0\n      ? set.__empty()\n      : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Range.__proto__ = IndexedSeq$$1;\n  Range.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return (\n      'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]'\n    );\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return (\n      possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex)\n    );\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\nfunction getIn(collection, searchKeyPath, notSetValue) {\n  var keyPath = coerceKeyPath(searchKeyPath);\n  var i = 0;\n  while (i !== keyPath.length) {\n    collection = get(collection, keyPath[i++], NOT_SET);\n    if (collection === NOT_SET) {\n      return notSetValue;\n    }\n  }\n  return collection;\n}\n\nfunction getIn$1(searchKeyPath, notSetValue) {\n  return getIn(this, searchKeyPath, notSetValue);\n}\n\nfunction hasIn(collection, keyPath) {\n  return getIn(collection, keyPath, NOT_SET) !== NOT_SET;\n}\n\nfunction hasIn$1(searchKeyPath) {\n  return hasIn(this, searchKeyPath);\n}\n\nfunction toObject() {\n  assertNotInfinite(this.size);\n  var object = {};\n  this.__iterate(function (v, k) {\n    object[k] = v;\n  });\n  return object;\n}\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    var useTuples = isKeyed(this);\n    var i = 0;\n    this.__iterate(function (v, k) {\n      // Keyed collections produce an array of tuples.\n      array[i++] = useTuples ? [k, v] : v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return toJS(this);\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: toObject,\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this)\n        ? this.toKeyedSeq()\n        : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return (\n      head +\n      ' ' +\n      this.toSeq()\n        .map(this.__toStringMapper)\n        .join(', ') +\n      ' ' +\n      tail\n    );\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection\n      .toSeq()\n      .map(entryMapper)\n      .toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findKey(predicate, context);\n  },\n\n  first: function first(notSetValue) {\n    return this.find(returnTrue, null, notSetValue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: getIn$1,\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: hasIn$1,\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq()\n      .map(keyMapper)\n      .toIndexedSeq();\n  },\n\n  last: function last(notSetValue) {\n    return this.toSeq()\n      .reverse()\n      .first(notSetValue);\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  },\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_COLLECTION_SYMBOL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = CollectionPrototype.toSource = function() {\n  return this.toString();\n};\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1 = this;\n\n    return reify(\n      this,\n      this.toSeq()\n        .flip()\n        .map(function (k, v) { return mapper.call(context, k, v, this$1); })\n        .flip()\n    );\n  },\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SYMBOL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first(notSetValue) {\n    return this.get(0, notSetValue);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      (this.size === Infinity || (this.size !== undefined && index > this.size))\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return (\n      index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1)\n    );\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last(notSetValue) {\n    return this.get(-1, notSetValue);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipAll: function zipAll(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections, true));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  },\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SYMBOL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SYMBOL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  },\n});\n\nSetCollection.prototype.has = CollectionPrototype.includes;\nSetCollection.prototype.contains = SetCollection.prototype.includes;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollection.prototype);\nmixin(IndexedSeq, IndexedCollection.prototype);\nmixin(SetSeq, SetCollection.prototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(function (v, k, c) {\n    if (useFirst) {\n      useFirst = false;\n      reduction = v;\n    } else {\n      reduction = reducer.call(context, reduction, v, k, c);\n    }\n  }, reverse);\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction not(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function() {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n        ? function (v, k) {\n            h = (31 * h + hashMerge(hash(v), hash(k))) | 0;\n          }\n        : function (v, k) {\n            h = (h + hashMerge(hash(v), hash(k))) | 0;\n          }\n      : ordered\n        ? function (v) {\n            h = (31 * h + hash(v)) | 0;\n          }\n        : function (v) {\n            h = (h + hash(v)) | 0;\n          }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul((h << 15) | (h >>> -15), 0x1b873593);\n  h = imul((h << 13) | (h >>> -13), 5);\n  h = ((h + 0xe6546b64) | 0) ^ size;\n  h = imul(h ^ (h >>> 16), 0x85ebca6b);\n  h = imul(h ^ (h >>> 13), 0xc2b2ae35);\n  h = smi(h ^ (h >>> 16));\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return (a ^ (b + 0x9e3779b9 + (a << 6) + (a >> 2))) | 0; // int\n}\n\nvar OrderedSet = /*@__PURE__*/(function (Set$$1) {\n  function OrderedSet(value) {\n    return value === null || value === undefined\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n        ? value\n        : emptyOrderedSet().withMutations(function (set) {\n            var iter = SetCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n  }\n\n  if ( Set$$1 ) OrderedSet.__proto__ = Set$$1;\n  OrderedSet.prototype = Object.create( Set$$1 && Set$$1.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SYMBOL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return (\n    EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()))\n  );\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  var RecordType = function Record(values) {\n    var this$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      // Deprecated: left to attempt not to break any external code which\n      // relies on a ._name property existing on record instances.\n      // Use Record.getDescriptiveName() instead\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1._indices[k], v === this$1._defaultValues[k] ? undefined : v);\n      });\n    });\n  };\n\n  var RecordTypePrototype = (RecordType.prototype = Object.create(\n    RecordPrototype\n  ));\n  RecordTypePrototype.constructor = RecordType;\n\n  if (name) {\n    RecordType.displayName = name;\n  }\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return (\n    this === other ||\n    (other &&\n      this._keys === other._keys &&\n      recordSeq(this).equals(recordSeq(other)))\n  );\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS$1 () {\n  return toJS(this);\n};\n\nRecord.prototype.entries = function entries () {\n  return this.__iterator(ITERATE_ENTRIES);\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SYMBOL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.deleteIn = RecordPrototype.removeIn = deleteIn;\nRecordPrototype.getIn = getIn$1;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = merge;\nRecordPrototype.mergeWith = mergeWith;\nRecordPrototype.mergeIn = mergeIn;\nRecordPrototype.mergeDeep = mergeDeep$1;\nRecordPrototype.mergeDeepWith = mergeDeepWith$1;\nRecordPrototype.mergeDeepIn = mergeDeepIn;\nRecordPrototype.setIn = setIn$1;\nRecordPrototype.update = update$1;\nRecordPrototype.updateIn = updateIn$1;\nRecordPrototype.withMutations = withMutations;\nRecordPrototype.asMutable = asMutable;\nRecordPrototype.asImmutable = asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = RecordPrototype.entries;\nRecordPrototype.toJSON = RecordPrototype.toObject =\n  CollectionPrototype.toObject;\nRecordPrototype.inspect = RecordPrototype.toSource = function() {\n  return this.toString();\n};\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record.constructor.displayName || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      },\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Repeat.__proto__ = IndexedSeq$$1;\n  Repeat.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this._value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(\n      function () { return i === size\n          ? iteratorDone()\n          : iteratorValue(type, reverse ? size - ++i : i++, this$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  var toSeq = Array.isArray(value)\n    ? IndexedSeq\n    : isPlainObj(value)\n      ? KeyedSeq\n      : null;\n  if (toSeq) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      toSeq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }\n      ),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  return isKeyed(v) ? v.toMap() : v.toList();\n}\n\nvar version = \"4.0.0-rc.11\";\n\nvar Immutable = {\n  version: version,\n\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject,\n  isSeq: isSeq,\n  isList: isList,\n  isMap: isMap,\n  isOrderedMap: isOrderedMap,\n  isStack: isStack,\n  isSet: isSet,\n  isOrderedSet: isOrderedSet,\n  isRecord: isRecord,\n\n  get: get,\n  getIn: getIn,\n  has: has,\n  hasIn: hasIn,\n  merge: merge$1,\n  mergeDeep: mergeDeep,\n  mergeWith: mergeWith$1,\n  mergeDeepWith: mergeDeepWith,\n  remove: remove,\n  removeIn: removeIn,\n  set: set,\n  setIn: setIn,\n  update: update,\n  updateIn: updateIn,\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexport default Immutable;\nexport { version, Collection, Iterable, Seq, Map, OrderedMap, List, Stack, Set, OrderedSet, Record, Range, Repeat, is, fromJS, hash, isImmutable, isCollection, isKeyed, isIndexed, isAssociative, isOrdered, isValueObject, get, getIn, has, hasIn, merge$1 as merge, mergeDeep, mergeWith$1 as mergeWith, mergeDeepWith, remove, removeIn, set, setIn, update, updateIn };\n","export const ZOOM_TO_FIT = 'ZOOM_TO_FIT';\nexport const ZOOM_IN = 'ZOOM_IN';\nexport const ZOOM_OUT = 'ZOOM_OUT';\n\nexport function createZoomToFitAction() {\n    return { type: ZOOM_TO_FIT };\n}\n\nexport function createZoomInAction(error) {\n    return { type: ZOOM_IN };\n}\n\nexport function createZoomOutAction() {\n    return { type: ZOOM_OUT };\n}\n\n","import {\n    GOOGLE_INIT,\n    GOOGLE_INIT_SUCCESS,\n    GOOGLE_INIT_ERROR,\n    GOOGLE_LOGIN,\n    GOOGLE_LOGIN_SUCCESS,\n    GOOGLE_LOGIN_ERROR,\n    GOOGLE_LOADDOCUMENT,\n    GOOGLE_LOADNEWDOCUMENT,\n    GOOGLE_LOADDOCUMENT_SUCCESS,\n    GOOGLE_LOADDOCUMENT_ERROR,\n    GOOGLE_FILEINFO_SUCCESS,\n    GOOGLE_SAVEDOCUMENT_SUCCESS\n} from './googleaction';\n\nimport { Map, List } from 'immutable';\nimport { ZOOM_IN } from './editoractions';\n\n\nexport const initialState = Map({\n    status: \"uninitialized\",\n    googleDocument: Map({\n        id: \"\",\n        fileinfo: \"\",\n        text: \"\",\n        isLoaded: false\n    }),\n    actionType: ''\n});\n\n\n\nfunction DMNEditorApp(state = initialState, action) {\n    let newState = state;\n\n    switch (action.type) {\n        case GOOGLE_INIT:\n            newState = state.set('status', 'google-init-pending');\n            break;\n        case GOOGLE_INIT_SUCCESS:\n            newState = state.set('status', 'google-init').set('infomsg', \"Google API initialized\");\n            break;\n        case GOOGLE_INIT_ERROR:\n            newState = state.set('status', 'google-init-error').set('errormsg', action.error);\n            break;\n        case GOOGLE_LOGIN:\n            newState = state.set('status', 'google-login-pending');\n            break;\n        case GOOGLE_LOGIN_SUCCESS:\n            newState = state.set('status', 'google-login')\n                .set('user', action.user)\n                .set('infomsg', \"Google Login successful\");\n            break;\n        case GOOGLE_LOGIN_ERROR:\n            newState = state.set('status', 'google-login-error').set('errormsg', action.error);\n            break;\n        case GOOGLE_LOADNEWDOCUMENT:\n            newState = state.set('status', 'google-loaddocument-pending')\n                .set('googleDocument', state.get('googleDocument')\n                    .set('id', action.id)\n                    .set('isLoaded', false)\n                    .set('isnew', true)\n                );\n            break;\n        case GOOGLE_LOADDOCUMENT:\n            newState = state.set('status', 'google-loaddocument-pending')\n                .set('googleDocument', state.get('googleDocument')\n                    .set('id', action.id)\n                    .set('isLoaded', false)\n                );\n            break;\n        case GOOGLE_LOADDOCUMENT_SUCCESS:\n            newState = state.set('status', 'google-loaddocument')\n                .set('infomsg', \"DMN Document loaded\")\n                .set('googleDocument', state.get('googleDocument')\n                    .set('fileinfo', action.fileinfo)\n                    .set('text', action.text)\n                    .set('isLoaded', true)\n                );\n            break;\n        case GOOGLE_LOADDOCUMENT_ERROR:\n            newState = state.set('status', 'google-loaddocument-error').set('errormsg', action.error);\n            break;\n        case GOOGLE_FILEINFO_SUCCESS:\n            newState = state.set('status', 'google-fileinfo')\n                .set('infomsg', \"FileInfo loaded\")\n                .set('googleDocument', state.get('googleDocument')\n                    .set('fileinfo', action.fileinfo)\n                );\n            break;\n        case GOOGLE_SAVEDOCUMENT_SUCCESS:\n            newState = state.set('status', 'google-filesaved')\n                .set('infomsg', \"DMN Document saved\")\n                .set('googleDocument', state.get('googleDocument')\n                    .set('fileinfo', action.fileinfo)\n                );\n            break;\n        default:\n            break;\n    }\n    return newState.set('actionType', action.type);\n}\n\nexport { DMNEditorApp };","import { createStore } from 'redux';\nimport { DMNEditorApp, initialState } from './reducer'; \n \nexport const store = createStore(DMNEditorApp, initialState);\n","!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(\"load-google-api\",[],n):\"object\"==typeof exports?exports[\"load-google-api\"]=n():e[\"load-google-api\"]=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p=\"\",n(n.s=1)}([function(e,n,t){\"use strict\";function o(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(n,\"__esModule\",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=function(){function e(n){o(this,e),this._callbackName=\"__googleApiOnLoadCallback\",this._clientURL=\"https://apis.google.com/js/client.js?onload=\"+this._callbackName,this._apiKey=n.apiKey,this._clientId=n.clientId,this._scope=n.scope.join(\" \"),this.name=\"load-google-api\"}return i(e,[{key:\"loadGoogleAPI\",value:function(){var e=this;return new Promise(function(n,t){var o=document.createElement(\"script\");o.src=e._clientURL,window[e._callbackName]=function(){n()},document.body.appendChild(o)})}},{key:\"init\",value:function(){var e=this,n=new Promise(function(e,n){window.gapi.load(\"client:auth2\",e)}),t=new Promise(function(n,t){window.gapi.client.init({apiKey:e._apiKey,client_id:e._clientId,scope:e._scope}).then(n)});return Promise.all([n,t])}}]),e}();n.default=r,e.exports=n.default},function(e,n,t){e.exports=t(0)}])});","import LoadGoogleApi from \"load-google-api\";\n\nlet debug = false;\n\nexport default class DriveAppsUtil {\n\n    constructor(options,logtoconsole) {\n        if( logtoconsole != undefined ){\n            debug = true;\n        }\n        this.loadGoogleApi = new LoadGoogleApi(options);\n    }\n\n    init() {\n        if (debug) console.log(\"drive-apps-util_init\");\n        var loadGoogleApi = this.loadGoogleApi;\n        return new Promise((resolve, reject) => {\n            try{\n                loadGoogleApi.loadGoogleAPI().then(\n                    () => {\n                        loadGoogleApi.init().then(\n                            () => {\n                                resolve();\n                            },\n                            (error) => {\n                                reject(error);\n                            }\n                        )\n                    },\n                    (error) => {\n                        reject(error);\n                    }\n                );\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    login() {\n        if (debug) console.log(\"drive-apps-util_login\");\n        return new Promise(function (resolve, reject) {\n            try{\n                var auth = window.gapi.auth2.getAuthInstance();\n                if (auth.currentUser.get() == undefined || !auth.currentUser.get().isSignedIn()) {\n                    auth.signIn().then(\n                        (user) => {\n                            resolve(auth.currentUser);\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    )\n                }\n                else {\n                    resolve(auth.currentUser);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    logout() {\n        if (debug) console.log(\"drive-apps-util_logout\");\n        window.gapi.auth2.getAuthInstance().currentUser.get().disconnect();\n    }\n\n    getDocumentContent(id) {\n        if (debug) console.log(\"drive-apps-util_getDocumentContent\");\n        return new Promise((resolve, reject) => {\n            try{\n                gapi.client.request({ 'path': 'https://www.googleapis.com/drive/v3/files/' + id, 'params': { 'alt': 'media' } })\n                    .then(\n                        (response) => {\n                            resolve(response.body);\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    getDocumentMeta(id) {\n        if (debug) console.log(\"drive-apps-util_getDocumentMeta\");\n        return new Promise((resolve, reject) => {\n            try {\n                gapi.client.request({ 'path': 'https://www.googleapis.com/drive/v3/files/' + id, 'params': { 'supportsTeamDrives': true } })\n                    .then(\n                        (response) => {\n                            let fileinfo = JSON.parse(response.body);\n                            resolve(fileinfo);\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    updateDocumentMeta(id, metadata) {\n        if (debug) console.log(\"drive-apps-util_updateDocumentMeta\");\n        return new Promise((resolve, reject) => {\n            try {\n                gapi.client.request({\n                    'method': 'PATCH',\n                    'body': metadata,\n                    'path': 'https://www.googleapis.com/drive/v3/files/' + id,\n                    'params': { 'supportsTeamDrives': true }\n                }).then(\n                    (response) => {\n                        let fileinfo = JSON.parse(response.body);\n                        resolve(fileinfo);\n                    },\n                    (error) => {\n                        reject(error);\n                    }\n                );\n            } catch(e) {\n                reject(e);\n            }\n        });\n    }\n\n    updateDocument(id, metadata, content) {\n        if (debug) console.log(\"drive-apps-util_updateDocument\");\n        return new Promise((resolve, reject) => {\n            try {\n                let contentlength = 0;\n                if (metadata) {\n                    contentlength = JSON.stringify(metadata).length;\n                }\n                if (content) {\n                    gapi.client.request({\n                        'method': 'PATCH',\n                        'body': metadata,\n                        'path': 'https://www.googleapis.com/upload/drive/v3/files/' + id,\n                        'params': {\n                            'uploadType': 'resumable', 'supportsTeamDrives': true,\n                            'headers': {\n                                'Content-Type': 'application/json; charset=UTF-8',\n                                'Content-Length': contentlength\n                            }\n                        }\n                    }).then(\n                        (response) => {\n                            let contentlength = 0;\n                            if (content) {\n                                contentlength = content.length;\n                            }\n                            gapi.client.request({\n                                'method': 'PUT',\n                                'body': content,\n                                'path': response.headers.location,\n                                'headers': {\n                                    'Content-Type': metadata.mimeType,\n                                    'Content-Length': contentlength\n                                }\n                            }).then(\n                                (response) => {\n                                    let fileinfo = JSON.parse(response.body);\n                                    resolve(fileinfo);\n                                },\n                                (error) => {\n                                    reject(error);\n                                }\n                            );\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n                }\n                else {\n                    gapi.client.request({\n                        'method': 'PATCH',\n                        'body': metadata,\n                        'path': 'https://www.googleapis.com/drive/v3/files/' + id,\n                        'params': {\n                            'supportsTeamDrives': true\n                        }\n                    }).then(\n                        (response) => {\n                            let fileinfo = JSON.parse(response.body);\n                            resolve(fileinfo);\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    createDocument(metadata, content) {\n        if (debug) console.log(\"drive-apps-util_createDocument\");\n        return new Promise((resolve, reject) => {\n            try {\n                let contentlength = 0;\n                if (metadata) {\n                    contentlength = JSON.stringify(metadata).length;\n                }\n                if (content) {\n                    gapi.client.request({\n                        'method': 'POST',\n                        'body': metadata,\n                        'path': 'https://www.googleapis.com/upload/drive/v3/files',\n                        'params': {\n                            'uploadType': 'resumable', 'supportsTeamDrives': true,\n                            'headers': {\n                                'Content-Type': 'application/json; charset=UTF-8',\n                                'Content-Length': contentlength\n                            }\n                        }\n                    }).then(\n                        (response) => {\n                            let contentlength = 0;\n                            if (content) {\n                                contentlength = content.length;\n                            }\n                            gapi.client.request({\n                                'method': 'PUT',\n                                'body': content,\n                                'path': response.headers.location,\n                                'headers': {\n                                    'Content-Type': metadata.mimeType,\n                                    'Content-Length': contentlength\n                                }\n                            }).then(\n                                (response) => {\n                                    let fileinfo = JSON.parse(response.body);\n                                    resolve(fileinfo);\n                                },\n                                (error) => {\n                                    reject(error);\n                                }\n                            );\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n                }\n                else {\n                    gapi.client.request({\n                        'method': 'POST',\n                        'body': metadata,\n                        'path': 'https://www.googleapis.com/drive/v3/files',\n                        'params': {\n                            'supportsTeamDrives': true\n                        }\n                    }).then(\n                        (response) => {\n                            let fileinfo = JSON.parse(response.body);\n                            resolve(fileinfo);\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n}\n","import { store } from '../redux/store';\nimport {\n    createGoogleInitAction,\n    createGoogleInitSuccessAction,\n    createGoogleInitErrorAction,\n    createGoogleLoginAction,\n    createGoogleLoginSuccessAction,\n    createGoogleLoginErrorAction,\n    createGoogleLoadDocumentAction,\n    createGoogleLoadNewDocumentAction,\n    createGoogleLoadDocumentSuccessAction,\n    createGoogleLoadDocumentErrorAction,\n    createGoogleFileInfoAction,\n    createGoogleFileInfoSuccessAction,\n    createGoogleFileInfoErrorAction,\n    createGoogleSaveDocumentAction,\n    createGoogleSaveDocumentSuccessAction,\n    createGoogleSaveDocumentErrorAction\n} from '../redux/googleaction';\nimport DriveAppsUtil from 'drive-apps-util';\n\nlet driveAppsUtil;\n\nexport function initGoogle(options) {\n    store.dispatch(createGoogleInitAction(options));\n    driveAppsUtil = new DriveAppsUtil(options);\n    driveAppsUtil.init().then(() => {\n        store.dispatch(createGoogleInitSuccessAction());\n    }, (error) => {\n        store.dispatch(createGoogleInitErrorAction(error));\n    });\n}\n\nexport function login() {\n    if (driveAppsUtil != undefined) {\n        store.dispatch(createGoogleLoginAction());\n        driveAppsUtil.login().then((user) => {\n            store.dispatch(createGoogleLoginSuccessAction(user));\n        },\n            (error) => {\n                store.dispatch(createGoogleLoginErrorAction(error));\n            });\n    }\n}\n\nexport function loadGoogleDocument(id, isNew) {\n    if (driveAppsUtil != undefined) {\n        if (isNew) {\n            store.dispatch(createGoogleLoadNewDocumentAction(id));\n        }\n        else {\n            store.dispatch(createGoogleLoadDocumentAction(id));\n        }\n        driveAppsUtil.getDocumentContent(id).then((text) => {\n            store.dispatch(createGoogleLoadDocumentSuccessAction(text));\n            store.dispatch(createGoogleFileInfoAction());\n            driveAppsUtil.getDocumentMeta(id).then((fileinfo) => {\n                store.dispatch(createGoogleFileInfoSuccessAction(fileinfo));\n            },\n                (error) => {\n                    store.dispatch(createGoogleFileInfoErrorAction(error));\n                });\n        },\n            (error) => {\n                store.dispatch(createGoogleLoadDocumentErrorAction(error));\n            });\n    }\n}\n\n\nexport function saveDocument(content) {\n    let googleDocument = store.getState().get('googleDocument');\n    store.dispatch(createGoogleSaveDocumentAction());\n    let metadata = JSON.stringify({\n        name: googleDocument.get('fileinfo').name,\n        mimeType: \"application/dmn+xml\",\n    });\n\n    driveAppsUtil.updateDocument(googleDocument.get('id'), metadata, content).then((fileinfo) => {\n        store.dispatch(createGoogleSaveDocumentSuccessAction(fileinfo));\n    }, (error) => {\n        store.dispatch(createGoogleSaveDocumentErrorAction(error));\n    });\n}\n","export function showUserImage() {\n    document.getElementById('userimage').classList.remove(\"is-hidden\");\n    document.getElementById('userimage').classList.add(\"visible\");\n    document.getElementById('userimage').src = window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getImageUrl();\n  }\n  ","//import { changeFileName } from \"../api/service\";\n\nexport function setDocumentInfo(name) {\n    document.getElementById('docinfo').value = name;\n    document.getElementById('docinfodrawer').value = name;\n    document.title = name;\n}\n\nexport function initFileInfo() {\n    document.getElementById('docinfo').addEventListener('change', (e) => {\n        changeFileName(e.currentTarget.value);\n    });\n    document.getElementById('docinfodrawer').addEventListener('change', (e) => {\n        changeFileName(e.currentTarget.value);\n    });\n}","export function hideSplash() {\n    document.getElementById('splash').style.display = \"none\";\n}","/**\n * Flatten array, one level deep.\n *\n * @param {Array<?>} arr\n *\n * @return {Array<?>}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nvar nativeToString = Object.prototype.toString;\nvar nativeHasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\nfunction isNil(obj) {\n  return obj == null;\n}\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\nfunction isFunction(obj) {\n  var tag = nativeToString.call(obj);\n  return tag === '[object Function]' || tag === '[object AsyncFunction]' || tag === '[object GeneratorFunction]' || tag === '[object AsyncGeneratorFunction]' || tag === '[object Proxy]';\n}\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\n\nfunction ensureArray(obj) {\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\n\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function|Object} matcher\n *\n * @return {Object}\n */\n\nfunction find(collection, matcher) {\n  matcher = toMatcher(matcher);\n  var match;\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      match = val;\n      return false;\n    }\n  });\n  return match;\n}\n/**\n * Find element index in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Object}\n */\n\nfunction findIndex(collection, matcher) {\n  matcher = toMatcher(matcher);\n  var idx = isArray(collection) ? -1 : undefined;\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      idx = key;\n      return false;\n    }\n  });\n  return idx;\n}\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Array} result\n */\n\nfunction filter(collection, matcher) {\n  var result = [];\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      result.push(val);\n    }\n  });\n  return result;\n}\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @param  {Array|Object} collection\n * @param  {Function} iterator\n *\n * @return {Object} return result that stopped the iteration\n */\n\nfunction forEach(collection, iterator) {\n  var val, result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  var convertKey = isArray(collection) ? toNum : identity;\n\n  for (var key in collection) {\n    if (has(collection, key)) {\n      val = collection[key];\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n/**\n * Return collection without element.\n *\n * @param  {Array} arr\n * @param  {Function} matcher\n *\n * @return {Array}\n */\n\nfunction without(arr, matcher) {\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n  matcher = toMatcher(matcher);\n  return arr.filter(function (el, idx) {\n    return !matcher(el, idx);\n  });\n}\n/**\n * Reduce collection, returning a single result.\n *\n * @param  {Object|Array} collection\n * @param  {Function} iterator\n * @param  {Any} result\n *\n * @return {Any} result returned from last iterator\n */\n\nfunction reduce(collection, iterator, result) {\n  forEach(collection, function (value, idx) {\n    result = iterator(result, value, idx);\n  });\n  return result;\n}\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\n\nfunction every(collection, matcher) {\n  return !!reduce(collection, function (matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\n\nfunction some(collection, matcher) {\n  return !!find(collection, matcher);\n}\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\n\nfunction map(collection, fn) {\n  var result = [];\n  forEach(collection, function (val, key) {\n    result.push(fn(val, key));\n  });\n  return result;\n}\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\n\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\n\nfunction size(collection) {\n  return keys(collection).length;\n}\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\n\nfunction values(collection) {\n  return map(collection, function (val) {\n    return val;\n  });\n}\n/**\n * Group collection members by attribute.\n *\n * @param  {Object|Array} collection\n * @param  {Function} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\n\nfunction groupBy(collection, extractor) {\n  var grouped = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  extractor = toExtractor(extractor);\n  forEach(collection, function (val) {\n    var discriminator = extractor(val) || '_';\n    var group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n  return grouped;\n}\nfunction uniqueBy(extractor) {\n  extractor = toExtractor(extractor);\n  var grouped = {};\n\n  for (var _len = arguments.length, collections = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    collections[_key - 1] = arguments[_key];\n  }\n\n  forEach(collections, function (c) {\n    return groupBy(c, extractor, grouped);\n  });\n  var result = map(grouped, function (val, key) {\n    return val[0];\n  });\n  return result;\n}\nvar unionBy = uniqueBy;\n/**\n * Sort collection by criteria.\n *\n * @param  {Object|Array} collection\n * @param  {String|Function} extractor\n *\n * @return {Array}\n */\n\nfunction sortBy(collection, extractor) {\n  extractor = toExtractor(extractor);\n  var sorted = [];\n  forEach(collection, function (value, key) {\n    var disc = extractor(value, key);\n    var entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      var d = sorted[idx].d;\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    } // not inserted, append (!)\n\n\n    sorted.push(entry);\n  });\n  return map(sorted, function (e) {\n    return e.v;\n  });\n}\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * const matcher = matchPattern({ id: 1 });\n *\n * var element = find(elements, matcher);\n *\n * @param  {Object} pattern\n *\n * @return {Function} matcherFn\n */\n\nfunction matchPattern(pattern) {\n  return function (el) {\n    return every(pattern, function (val, key) {\n      return el[key] === val;\n    });\n  };\n}\n\nfunction toExtractor(extractor) {\n  return isFunction(extractor) ? extractor : function (e) {\n    return e[extractor];\n  };\n}\n\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : function (e) {\n    return e === matcher;\n  };\n}\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/**\n * Debounce fn, calling it only once if\n * the given time elapsed between calls.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {Function} debounced function\n */\nfunction debounce(fn, timeout) {\n  var timer;\n  var lastArgs;\n  var lastThis;\n  var lastNow;\n\n  function fire() {\n    var now = Date.now();\n    var scheduledDiff = lastNow + timeout - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  return function () {\n    lastNow = Date.now();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n    lastThis = this; // ensure an execution is scheduled\n\n    if (!timer) {\n      schedule(timeout);\n    }\n  };\n}\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\n\nfunction throttle(fn, interval) {\n  var throttling = false;\n  return function () {\n    if (throttling) {\n      return;\n    }\n\n    fn.apply(void 0, arguments);\n    throttling = true;\n    setTimeout(function () {\n      throttling = false;\n    }, interval);\n  };\n}\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\n\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\n\nfunction assign(target) {\n  for (var _len = arguments.length, others = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    others[_key - 1] = arguments[_key];\n  }\n\n  return _extends.apply(void 0, [target].concat(others));\n}\n/**\n * Pick given properties from the target object.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\n\nfunction pick(target, properties) {\n  var result = {};\n  var obj = Object(target);\n  forEach(properties, function (prop) {\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n  return result;\n}\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\n\nfunction omit(target, properties) {\n  var result = {};\n  var obj = Object(target);\n  forEach(obj, function (prop, key) {\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n  return result;\n}\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\n\nfunction merge(target) {\n  for (var _len2 = arguments.length, sources = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    sources[_key2 - 1] = arguments[_key2];\n  }\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function (source) {\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function (sourceVal, key) {\n      if (key === '__proto__') {\n        return;\n      }\n\n      var targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n        if (!isObject(targetVal)) {\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n    });\n  });\n  return target;\n}\n\nexport { flatten, find, findIndex, filter, forEach, without, reduce, every, some, map, keys, size, values, groupBy, uniqueBy, unionBy, sortBy, matchPattern, debounce, throttle, bind, isUndefined, isDefined, isNil, isArray, isObject, isNumber, isFunction, isString, ensureArray, has, assign, pick, omit, merge };\n","import {\n  isFunction,\n  isArray,\n  isNumber,\n  bind,\n  assign\n} from 'min-dash';\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n */\nexport default function EventBus() {\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @param {string|Array<string>} events\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback\n * @param {Object} [that] Pass context (`this`) to the callback\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = isArray(events) ? events : [ events ];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n\n/**\n * Register an event listener that is executed only once.\n *\n * @param {string} event the event name to register for\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback the callback to execute\n * @param {Object} [that] Pass context (`this`) to the callback\n */\nEventBus.prototype.once = function(event, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    var result = callback.apply(that, arguments);\n\n    self.off(event, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(event, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|Array<string>} events\n * @param {Function} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = isArray(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an EventBus event.\n *\n * @param {Object} data\n *\n * @return {Object} event, recognized by the eventBus\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires a named event.\n *\n * @example\n *\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n *\n * @param {string} [name] the optional event name\n * @param {Object} [event] the event object\n * @param {...Object} additional arguments to be passed to the callback functions\n *\n * @return {boolean} the events return value, if specified or false if the\n *                   default action was prevented by listeners\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (e) {\n    if (!this.handleError(e)) {\n      console.error('unhandled error in event listener');\n      console.error(e.stack);\n\n      throw e;\n    }\n  }\n\n  return returnValue;\n};\n\n/*\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {Object} listener { priority, callback }\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  assign(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {Array<Object>} args\n *\n * @return {Any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n","import { forEach, bind, pick, assign, isString, isObject } from 'min-dash';\n\n/**\n * Moddle base element.\n */\nfunction Base() { }\n\nBase.prototype.get = function(name) {\n  return this.$model.properties.get(this, name);\n};\n\nBase.prototype.set = function(name, value) {\n  this.$model.properties.set(this, name, value);\n};\n\n/**\n * A model element factory.\n *\n * @param {Moddle} model\n * @param {Properties} properties\n */\nfunction Factory(model, properties) {\n  this.model = model;\n  this.properties = properties;\n}\n\n\nFactory.prototype.createType = function(descriptor) {\n\n  var model = this.model;\n\n  var props = this.properties,\n      prototype = Object.create(Base.prototype);\n\n  // initialize default values\n  forEach(descriptor.properties, function(p) {\n    if (!p.isMany && p.default !== undefined) {\n      prototype[p.name] = p.default;\n    }\n  });\n\n  props.defineModel(prototype, model);\n  props.defineDescriptor(prototype, descriptor);\n\n  var name = descriptor.ns.name;\n\n  /**\n   * The new type constructor\n   */\n  function ModdleElement(attrs) {\n    props.define(this, '$type', { value: name, enumerable: true });\n    props.define(this, '$attrs', { value: {} });\n    props.define(this, '$parent', { writable: true });\n\n    forEach(attrs, bind(function(val, key) {\n      this.set(key, val);\n    }, this));\n  }\n\n  ModdleElement.prototype = prototype;\n\n  ModdleElement.hasType = prototype.$instanceOf = this.model.hasType;\n\n  // static links\n  props.defineModel(ModdleElement, model);\n  props.defineDescriptor(ModdleElement, descriptor);\n\n  return ModdleElement;\n};\n\n/**\n * Built-in moddle types\n */\nvar BUILTINS = {\n  String: true,\n  Boolean: true,\n  Integer: true,\n  Real: true,\n  Element: true\n};\n\n/**\n * Converters for built in types from string representations\n */\nvar TYPE_CONVERTERS = {\n  String: function(s) { return s; },\n  Boolean: function(s) { return s === 'true'; },\n  Integer: function(s) { return parseInt(s, 10); },\n  Real: function(s) { return parseFloat(s, 10); }\n};\n\n/**\n * Convert a type to its real representation\n */\nfunction coerceType(type, value) {\n\n  var converter = TYPE_CONVERTERS[type];\n\n  if (converter) {\n    return converter(value);\n  } else {\n    return value;\n  }\n}\n\n/**\n * Return whether the given type is built-in\n */\nfunction isBuiltIn(type) {\n  return !!BUILTINS[type];\n}\n\n/**\n * Return whether the given type is simple\n */\nfunction isSimple(type) {\n  return !!TYPE_CONVERTERS[type];\n}\n\n/**\n * Parses a namespaced attribute name of the form (ns:)localName to an object,\n * given a default prefix to assume in case no explicit namespace is given.\n *\n * @param {String} name\n * @param {String} [defaultPrefix] the default prefix to take, if none is present.\n *\n * @return {Object} the parsed name\n */\nfunction parseName(name, defaultPrefix) {\n  var parts = name.split(/:/),\n      localName, prefix;\n\n  // no prefix (i.e. only local name)\n  if (parts.length === 1) {\n    localName = name;\n    prefix = defaultPrefix;\n  } else\n  // prefix + local name\n  if (parts.length === 2) {\n    localName = parts[1];\n    prefix = parts[0];\n  } else {\n    throw new Error('expected <prefix:localName> or <localName>, got ' + name);\n  }\n\n  name = (prefix ? prefix + ':' : '') + localName;\n\n  return {\n    name: name,\n    prefix: prefix,\n    localName: localName\n  };\n}\n\n/**\n * A utility to build element descriptors.\n */\nfunction DescriptorBuilder(nameNs) {\n  this.ns = nameNs;\n  this.name = nameNs.name;\n  this.allTypes = [];\n  this.allTypesByName = {};\n  this.properties = [];\n  this.propertiesByName = {};\n}\n\n\nDescriptorBuilder.prototype.build = function() {\n  return pick(this, [\n    'ns',\n    'name',\n    'allTypes',\n    'allTypesByName',\n    'properties',\n    'propertiesByName',\n    'bodyProperty',\n    'idProperty'\n  ]);\n};\n\n/**\n * Add property at given index.\n *\n * @param {Object} p\n * @param {Number} [idx]\n * @param {Boolean} [validate=true]\n */\nDescriptorBuilder.prototype.addProperty = function(p, idx, validate) {\n\n  if (typeof idx === 'boolean') {\n    validate = idx;\n    idx = undefined;\n  }\n\n  this.addNamedProperty(p, validate !== false);\n\n  var properties = this.properties;\n\n  if (idx !== undefined) {\n    properties.splice(idx, 0, p);\n  } else {\n    properties.push(p);\n  }\n};\n\n\nDescriptorBuilder.prototype.replaceProperty = function(oldProperty, newProperty, replace) {\n  var oldNameNs = oldProperty.ns;\n\n  var props = this.properties,\n      propertiesByName = this.propertiesByName,\n      rename = oldProperty.name !== newProperty.name;\n\n  if (oldProperty.isId) {\n    if (!newProperty.isId) {\n      throw new Error(\n        'property <' + newProperty.ns.name + '> must be id property ' +\n        'to refine <' + oldProperty.ns.name + '>');\n    }\n\n    this.setIdProperty(newProperty, false);\n  }\n\n  if (oldProperty.isBody) {\n\n    if (!newProperty.isBody) {\n      throw new Error(\n        'property <' + newProperty.ns.name + '> must be body property ' +\n        'to refine <' + oldProperty.ns.name + '>');\n    }\n\n    // TODO: Check compatibility\n    this.setBodyProperty(newProperty, false);\n  }\n\n  // validate existence and get location of old property\n  var idx = props.indexOf(oldProperty);\n  if (idx === -1) {\n    throw new Error('property <' + oldNameNs.name + '> not found in property list');\n  }\n\n  // remove old property\n  props.splice(idx, 1);\n\n  // replacing the named property is intentional\n  //\n  //  * validate only if this is a \"rename\" operation\n  //  * add at specific index unless we \"replace\"\n  //\n  this.addProperty(newProperty, replace ? undefined : idx, rename);\n\n  // make new property available under old name\n  propertiesByName[oldNameNs.name] = propertiesByName[oldNameNs.localName] = newProperty;\n};\n\n\nDescriptorBuilder.prototype.redefineProperty = function(p, targetPropertyName, replace) {\n\n  var nsPrefix = p.ns.prefix;\n  var parts = targetPropertyName.split('#');\n\n  var name = parseName(parts[0], nsPrefix);\n  var attrName = parseName(parts[1], name.prefix).name;\n\n  var redefinedProperty = this.propertiesByName[attrName];\n  if (!redefinedProperty) {\n    throw new Error('refined property <' + attrName + '> not found');\n  } else {\n    this.replaceProperty(redefinedProperty, p, replace);\n  }\n\n  delete p.redefines;\n};\n\nDescriptorBuilder.prototype.addNamedProperty = function(p, validate) {\n  var ns = p.ns,\n      propsByName = this.propertiesByName;\n\n  if (validate) {\n    this.assertNotDefined(p, ns.name);\n    this.assertNotDefined(p, ns.localName);\n  }\n\n  propsByName[ns.name] = propsByName[ns.localName] = p;\n};\n\nDescriptorBuilder.prototype.removeNamedProperty = function(p) {\n  var ns = p.ns,\n      propsByName = this.propertiesByName;\n\n  delete propsByName[ns.name];\n  delete propsByName[ns.localName];\n};\n\nDescriptorBuilder.prototype.setBodyProperty = function(p, validate) {\n\n  if (validate && this.bodyProperty) {\n    throw new Error(\n      'body property defined multiple times ' +\n      '(<' + this.bodyProperty.ns.name + '>, <' + p.ns.name + '>)');\n  }\n\n  this.bodyProperty = p;\n};\n\nDescriptorBuilder.prototype.setIdProperty = function(p, validate) {\n\n  if (validate && this.idProperty) {\n    throw new Error(\n      'id property defined multiple times ' +\n      '(<' + this.idProperty.ns.name + '>, <' + p.ns.name + '>)');\n  }\n\n  this.idProperty = p;\n};\n\nDescriptorBuilder.prototype.assertNotDefined = function(p, name) {\n  var propertyName = p.name,\n      definedProperty = this.propertiesByName[propertyName];\n\n  if (definedProperty) {\n    throw new Error(\n      'property <' + propertyName + '> already defined; ' +\n      'override of <' + definedProperty.definedBy.ns.name + '#' + definedProperty.ns.name + '> by ' +\n      '<' + p.definedBy.ns.name + '#' + p.ns.name + '> not allowed without redefines');\n  }\n};\n\nDescriptorBuilder.prototype.hasProperty = function(name) {\n  return this.propertiesByName[name];\n};\n\nDescriptorBuilder.prototype.addTrait = function(t, inherited) {\n\n  var typesByName = this.allTypesByName,\n      types = this.allTypes;\n\n  var typeName = t.name;\n\n  if (typeName in typesByName) {\n    return;\n  }\n\n  forEach(t.properties, bind(function(p) {\n\n    // clone property to allow extensions\n    p = assign({}, p, {\n      name: p.ns.localName,\n      inherited: inherited\n    });\n\n    Object.defineProperty(p, 'definedBy', {\n      value: t\n    });\n\n    var replaces = p.replaces,\n        redefines = p.redefines;\n\n    // add replace/redefine support\n    if (replaces || redefines) {\n      this.redefineProperty(p, replaces || redefines, replaces);\n    } else {\n      if (p.isBody) {\n        this.setBodyProperty(p);\n      }\n      if (p.isId) {\n        this.setIdProperty(p);\n      }\n      this.addProperty(p);\n    }\n  }, this));\n\n  types.push(t);\n  typesByName[typeName] = t;\n};\n\n/**\n * A registry of Moddle packages.\n *\n * @param {Array<Package>} packages\n * @param {Properties} properties\n */\nfunction Registry(packages, properties) {\n  this.packageMap = {};\n  this.typeMap = {};\n\n  this.packages = [];\n\n  this.properties = properties;\n\n  forEach(packages, bind(this.registerPackage, this));\n}\n\n\nRegistry.prototype.getPackage = function(uriOrPrefix) {\n  return this.packageMap[uriOrPrefix];\n};\n\nRegistry.prototype.getPackages = function() {\n  return this.packages;\n};\n\n\nRegistry.prototype.registerPackage = function(pkg) {\n\n  // copy package\n  pkg = assign({}, pkg);\n\n  var pkgMap = this.packageMap;\n\n  ensureAvailable(pkgMap, pkg, 'prefix');\n  ensureAvailable(pkgMap, pkg, 'uri');\n\n  // register types\n  forEach(pkg.types, bind(function(descriptor) {\n    this.registerType(descriptor, pkg);\n  }, this));\n\n  pkgMap[pkg.uri] = pkgMap[pkg.prefix] = pkg;\n  this.packages.push(pkg);\n};\n\n\n/**\n * Register a type from a specific package with us\n */\nRegistry.prototype.registerType = function(type, pkg) {\n\n  type = assign({}, type, {\n    superClass: (type.superClass || []).slice(),\n    extends: (type.extends || []).slice(),\n    properties: (type.properties || []).slice(),\n    meta: assign((type.meta || {}))\n  });\n\n  var ns = parseName(type.name, pkg.prefix),\n      name = ns.name,\n      propertiesByName = {};\n\n  // parse properties\n  forEach(type.properties, bind(function(p) {\n\n    // namespace property names\n    var propertyNs = parseName(p.name, ns.prefix),\n        propertyName = propertyNs.name;\n\n    // namespace property types\n    if (!isBuiltIn(p.type)) {\n      p.type = parseName(p.type, propertyNs.prefix).name;\n    }\n\n    assign(p, {\n      ns: propertyNs,\n      name: propertyName\n    });\n\n    propertiesByName[propertyName] = p;\n  }, this));\n\n  // update ns + name\n  assign(type, {\n    ns: ns,\n    name: name,\n    propertiesByName: propertiesByName\n  });\n\n  forEach(type.extends, bind(function(extendsName) {\n    var extended = this.typeMap[extendsName];\n\n    extended.traits = extended.traits || [];\n    extended.traits.push(name);\n  }, this));\n\n  // link to package\n  this.definePackage(type, pkg);\n\n  // register\n  this.typeMap[name] = type;\n};\n\n\n/**\n * Traverse the type hierarchy from bottom to top,\n * calling iterator with (type, inherited) for all elements in\n * the inheritance chain.\n *\n * @param {Object} nsName\n * @param {Function} iterator\n * @param {Boolean} [trait=false]\n */\nRegistry.prototype.mapTypes = function(nsName, iterator, trait) {\n\n  var type = isBuiltIn(nsName.name) ? { name: nsName.name } : this.typeMap[nsName.name];\n\n  var self = this;\n\n  /**\n   * Traverse the selected trait.\n   *\n   * @param {String} cls\n   */\n  function traverseTrait(cls) {\n    return traverseSuper(cls, true);\n  }\n\n  /**\n   * Traverse the selected super type or trait\n   *\n   * @param {String} cls\n   * @param {Boolean} [trait=false]\n   */\n  function traverseSuper(cls, trait) {\n    var parentNs = parseName(cls, isBuiltIn(cls) ? '' : nsName.prefix);\n    self.mapTypes(parentNs, iterator, trait);\n  }\n\n  if (!type) {\n    throw new Error('unknown type <' + nsName.name + '>');\n  }\n\n  forEach(type.superClass, trait ? traverseTrait : traverseSuper);\n\n  // call iterator with (type, inherited=!trait)\n  iterator(type, !trait);\n\n  forEach(type.traits, traverseTrait);\n};\n\n\n/**\n * Returns the effective descriptor for a type.\n *\n * @param  {String} type the namespaced name (ns:localName) of the type\n *\n * @return {Descriptor} the resulting effective descriptor\n */\nRegistry.prototype.getEffectiveDescriptor = function(name) {\n\n  var nsName = parseName(name);\n\n  var builder = new DescriptorBuilder(nsName);\n\n  this.mapTypes(nsName, function(type, inherited) {\n    builder.addTrait(type, inherited);\n  });\n\n  var descriptor = builder.build();\n\n  // define package link\n  this.definePackage(descriptor, descriptor.allTypes[descriptor.allTypes.length - 1].$pkg);\n\n  return descriptor;\n};\n\n\nRegistry.prototype.definePackage = function(target, pkg) {\n  this.properties.define(target, '$pkg', { value: pkg });\n};\n\n\n\n///////// helpers ////////////////////////////\n\nfunction ensureAvailable(packageMap, pkg, identifierKey) {\n\n  var value = pkg[identifierKey];\n\n  if (value in packageMap) {\n    throw new Error('package with ' + identifierKey + ' <' + value + '> already defined');\n  }\n}\n\n/**\n * A utility that gets and sets properties of model elements.\n *\n * @param {Model} model\n */\nfunction Properties(model) {\n  this.model = model;\n}\n\n\n/**\n * Sets a named property on the target element.\n * If the value is undefined, the property gets deleted.\n *\n * @param {Object} target\n * @param {String} name\n * @param {Object} value\n */\nProperties.prototype.set = function(target, name, value) {\n\n  var property = this.model.getPropertyDescriptor(target, name);\n\n  var propertyName = property && property.name;\n\n  if (isUndefined(value)) {\n    // unset the property, if the specified value is undefined;\n    // delete from $attrs (for extensions) or the target itself\n    if (property) {\n      delete target[propertyName];\n    } else {\n      delete target.$attrs[name];\n    }\n  } else {\n    // set the property, defining well defined properties on the fly\n    // or simply updating them in target.$attrs (for extensions)\n    if (property) {\n      if (propertyName in target) {\n        target[propertyName] = value;\n      } else {\n        defineProperty(target, property, value);\n      }\n    } else {\n      target.$attrs[name] = value;\n    }\n  }\n};\n\n/**\n * Returns the named property of the given element\n *\n * @param  {Object} target\n * @param  {String} name\n *\n * @return {Object}\n */\nProperties.prototype.get = function(target, name) {\n\n  var property = this.model.getPropertyDescriptor(target, name);\n\n  if (!property) {\n    return target.$attrs[name];\n  }\n\n  var propertyName = property.name;\n\n  // check if access to collection property and lazily initialize it\n  if (!target[propertyName] && property.isMany) {\n    defineProperty(target, property, []);\n  }\n\n  return target[propertyName];\n};\n\n\n/**\n * Define a property on the target element\n *\n * @param  {Object} target\n * @param  {String} name\n * @param  {Object} options\n */\nProperties.prototype.define = function(target, name, options) {\n  Object.defineProperty(target, name, options);\n};\n\n\n/**\n * Define the descriptor for an element\n */\nProperties.prototype.defineDescriptor = function(target, descriptor) {\n  this.define(target, '$descriptor', { value: descriptor });\n};\n\n/**\n * Define the model for an element\n */\nProperties.prototype.defineModel = function(target, model) {\n  this.define(target, '$model', { value: model });\n};\n\n\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\nfunction defineProperty(target, property, value) {\n  Object.defineProperty(target, property.name, {\n    enumerable: !property.isReference,\n    writable: true,\n    value: value,\n    configurable: true\n  });\n}\n\n//// Moddle implementation /////////////////////////////////////////////////\n\n/**\n * @class Moddle\n *\n * A model that can be used to create elements of a specific type.\n *\n * @example\n *\n * var Moddle = require('moddle');\n *\n * var pkg = {\n *   name: 'mypackage',\n *   prefix: 'my',\n *   types: [\n *     { name: 'Root' }\n *   ]\n * };\n *\n * var moddle = new Moddle([pkg]);\n *\n * @param {Array<Package>} packages the packages to contain\n */\nfunction Moddle(packages) {\n\n  this.properties = new Properties(this);\n\n  this.factory = new Factory(this, this.properties);\n  this.registry = new Registry(packages, this.properties);\n\n  this.typeCache = {};\n}\n\n\n/**\n * Create an instance of the specified type.\n *\n * @method Moddle#create\n *\n * @example\n *\n * var foo = moddle.create('my:Foo');\n * var bar = moddle.create('my:Bar', { id: 'BAR_1' });\n *\n * @param  {String|Object} descriptor the type descriptor or name know to the model\n * @param  {Object} attrs   a number of attributes to initialize the model instance with\n * @return {Object}         model instance\n */\nModdle.prototype.create = function(descriptor, attrs) {\n  var Type = this.getType(descriptor);\n\n  if (!Type) {\n    throw new Error('unknown type <' + descriptor + '>');\n  }\n\n  return new Type(attrs);\n};\n\n\n/**\n * Returns the type representing a given descriptor\n *\n * @method Moddle#getType\n *\n * @example\n *\n * var Foo = moddle.getType('my:Foo');\n * var foo = new Foo({ 'id' : 'FOO_1' });\n *\n * @param  {String|Object} descriptor the type descriptor or name know to the model\n * @return {Object}         the type representing the descriptor\n */\nModdle.prototype.getType = function(descriptor) {\n\n  var cache = this.typeCache;\n\n  var name = isString(descriptor) ? descriptor : descriptor.ns.name;\n\n  var type = cache[name];\n\n  if (!type) {\n    descriptor = this.registry.getEffectiveDescriptor(name);\n    type = cache[name] = this.factory.createType(descriptor);\n  }\n\n  return type;\n};\n\n\n/**\n * Creates an any-element type to be used within model instances.\n *\n * This can be used to create custom elements that lie outside the meta-model.\n * The created element contains all the meta-data required to serialize it\n * as part of meta-model elements.\n *\n * @method Moddle#createAny\n *\n * @example\n *\n * var foo = moddle.createAny('vendor:Foo', 'http://vendor', {\n *   value: 'bar'\n * });\n *\n * var container = moddle.create('my:Container', 'http://my', {\n *   any: [ foo ]\n * });\n *\n * // go ahead and serialize the stuff\n *\n *\n * @param  {String} name  the name of the element\n * @param  {String} nsUri the namespace uri of the element\n * @param  {Object} [properties] a map of properties to initialize the instance with\n * @return {Object} the any type instance\n */\nModdle.prototype.createAny = function(name, nsUri, properties) {\n\n  var nameNs = parseName(name);\n\n  var element = {\n    $type: name,\n    $instanceOf: function(type) {\n      return type === this.$type;\n    }\n  };\n\n  var descriptor = {\n    name: name,\n    isGeneric: true,\n    ns: {\n      prefix: nameNs.prefix,\n      localName: nameNs.localName,\n      uri: nsUri\n    }\n  };\n\n  this.properties.defineDescriptor(element, descriptor);\n  this.properties.defineModel(element, this);\n  this.properties.define(element, '$parent', { enumerable: false, writable: true });\n\n  forEach(properties, function(a, key) {\n    if (isObject(a) && a.value !== undefined) {\n      element[a.name] = a.value;\n    } else {\n      element[key] = a;\n    }\n  });\n\n  return element;\n};\n\n/**\n * Returns a registered package by uri or prefix\n *\n * @return {Object} the package\n */\nModdle.prototype.getPackage = function(uriOrPrefix) {\n  return this.registry.getPackage(uriOrPrefix);\n};\n\n/**\n * Returns a snapshot of all known packages\n *\n * @return {Object} the package\n */\nModdle.prototype.getPackages = function() {\n  return this.registry.getPackages();\n};\n\n/**\n * Returns the descriptor for an element\n */\nModdle.prototype.getElementDescriptor = function(element) {\n  return element.$descriptor;\n};\n\n/**\n * Returns true if the given descriptor or instance\n * represents the given type.\n *\n * May be applied to this, if element is omitted.\n */\nModdle.prototype.hasType = function(element, type) {\n  if (type === undefined) {\n    type = element;\n    element = this;\n  }\n\n  var descriptor = element.$model.getElementDescriptor(element);\n\n  return (type in descriptor.allTypesByName);\n};\n\n/**\n * Returns the descriptor of an elements named property\n */\nModdle.prototype.getPropertyDescriptor = function(element, property) {\n  return this.getElementDescriptor(element).propertiesByName[property];\n};\n\n/**\n * Returns a mapped type's descriptor\n */\nModdle.prototype.getTypeDescriptor = function(type) {\n  return this.registry.typeMap[type];\n};\n\nexport { Moddle, coerceType, isBuiltIn as isBuiltInType, isSimple as isSimpleType, parseName as parseNameNS };\n","var fromCharCode = String.fromCharCode;\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar ENTITY_PATTERN = /&#(\\d+);|&#x([0-9a-f]+);|&(\\w+);/ig;\n\nvar ENTITY_MAPPING = {\n  'amp': '&',\n  'apos': '\\'',\n  'gt': '>',\n  'lt': '<',\n  'quot': '\"'\n};\n\n// map UPPERCASE variants of supported special chars\nObject.keys(ENTITY_MAPPING).forEach(function(k) {\n  ENTITY_MAPPING[k.toUpperCase()] = ENTITY_MAPPING[k];\n});\n\n\nfunction replaceEntities(_, d, x, z) {\n\n  // reserved names, i.e. &nbsp;\n  if (z) {\n    if (hasOwnProperty.call(ENTITY_MAPPING, z)) {\n      return ENTITY_MAPPING[z];\n    } else {\n      // fall back to original value\n      return '&' + z + ';';\n    }\n  }\n\n  // decimal encoded char\n  if (d) {\n    return fromCharCode(d);\n  }\n\n  // hex encoded char\n  return fromCharCode(parseInt(x, 16));\n}\n\n\n/**\n * A basic entity decoder that can decode a minimal\n * sub-set of reserved names (&amp;) as well as\n * hex (&#xaaf;) and decimal (&#1231;) encoded characters.\n *\n * @param {string} str\n *\n * @return {string} decoded string\n */\nfunction decodeEntities(s) {\n  if (s.length > 3 && s.indexOf('&') !== -1) {\n    return s.replace(ENTITY_PATTERN, replaceEntities);\n  }\n\n  return s;\n}\n\nvar XSI_URI = 'http://www.w3.org/2001/XMLSchema-instance';\nvar XSI_PREFIX = 'xsi';\nvar XSI_TYPE = 'xsi:type';\n\nvar NON_WHITESPACE_OUTSIDE_ROOT_NODE = 'non-whitespace outside of root node';\n\nfunction error(msg) {\n  return new Error(msg);\n}\n\nfunction missingNamespaceForPrefix(prefix) {\n  return 'missing namespace for prefix <' + prefix + '>';\n}\n\nfunction getter(getFn) {\n  return {\n    'get': getFn,\n    'enumerable': true\n  };\n}\n\nfunction cloneNsMatrix(nsMatrix) {\n  var clone = {}, key;\n  for (key in nsMatrix) {\n    clone[key] = nsMatrix[key];\n  }\n  return clone;\n}\n\nfunction uriPrefix(prefix) {\n  return prefix + '$uri';\n}\n\nfunction buildNsMatrix(nsUriToPrefix) {\n  var nsMatrix = {},\n      uri,\n      prefix;\n\n  for (uri in nsUriToPrefix) {\n    prefix = nsUriToPrefix[uri];\n    nsMatrix[prefix] = prefix;\n    nsMatrix[uriPrefix(prefix)] = uri;\n  }\n\n  return nsMatrix;\n}\n\nfunction noopGetContext() {\n  return { 'line': 0, 'column': 0 };\n}\n\nfunction throwFunc(err) {\n  throw err;\n}\n\n/**\n * Creates a new parser with the given options.\n *\n * @constructor\n *\n * @param  {!Object<string, ?>=} options\n */\nfunction Parser(options) {\n\n  if (!this) {\n    return new Parser(options);\n  }\n\n  var proxy = options && options['proxy'];\n\n  var onText,\n      onOpenTag,\n      onCloseTag,\n      onCDATA,\n      onError = throwFunc,\n      onWarning,\n      onComment,\n      onQuestion,\n      onAttention;\n\n  var getContext = noopGetContext;\n\n  /**\n   * Do we need to parse the current elements attributes for namespaces?\n   *\n   * @type {boolean}\n   */\n  var maybeNS = false;\n\n  /**\n   * Do we process namespaces at all?\n   *\n   * @type {boolean}\n   */\n  var isNamespace = false;\n\n  /**\n   * The caught error returned on parse end\n   *\n   * @type {Error}\n   */\n  var returnError = null;\n\n  /**\n   * Should we stop parsing?\n   *\n   * @type {boolean}\n   */\n  var parseStop = false;\n\n  /**\n   * A map of { uri: prefix } used by the parser.\n   *\n   * This map will ensure we can normalize prefixes during processing;\n   * for each uri, only one prefix will be exposed to the handlers.\n   *\n   * @type {!Object<string, string>}}\n   */\n  var nsUriToPrefix;\n\n  /**\n   * Handle parse error.\n   *\n   * @param  {string|Error} err\n   */\n  function handleError(err) {\n    if (!(err instanceof Error)) {\n      err = error(err);\n    }\n\n    returnError = err;\n\n    onError(err, getContext);\n  }\n\n  /**\n   * Handle parse error.\n   *\n   * @param  {string|Error} err\n   */\n  function handleWarning(err) {\n\n    if (!onWarning) {\n      return;\n    }\n\n    if (!(err instanceof Error)) {\n      err = error(err);\n    }\n\n    onWarning(err, getContext);\n  }\n\n  /**\n   * Register parse listener.\n   *\n   * @param  {string}   name\n   * @param  {Function} cb\n   *\n   * @return {Parser}\n   */\n  this['on'] = function(name, cb) {\n\n    if (typeof cb !== 'function') {\n      throw error('required args <name, cb>');\n    }\n\n    switch (name) {\n    case 'openTag': onOpenTag = cb; break;\n    case 'text': onText = cb; break;\n    case 'closeTag': onCloseTag = cb; break;\n    case 'error': onError = cb; break;\n    case 'warn': onWarning = cb; break;\n    case 'cdata': onCDATA = cb; break;\n    case 'attention': onAttention = cb; break; // <!XXXXX zzzz=\"eeee\">\n    case 'question': onQuestion = cb; break; // <? ....  ?>\n    case 'comment': onComment = cb; break;\n    default:\n      throw error('unsupported event: ' + name);\n    }\n\n    return this;\n  };\n\n  /**\n   * Set the namespace to prefix mapping.\n   *\n   * @example\n   *\n   * parser.ns({\n   *   'http://foo': 'foo',\n   *   'http://bar': 'bar'\n   * });\n   *\n   * @param  {!Object<string, string>} nsMap\n   *\n   * @return {Parser}\n   */\n  this['ns'] = function(nsMap) {\n\n    if (typeof nsMap === 'undefined') {\n      nsMap = {};\n    }\n\n    if (typeof nsMap !== 'object') {\n      throw error('required args <nsMap={}>');\n    }\n\n    var _nsUriToPrefix = {}, k;\n\n    for (k in nsMap) {\n      _nsUriToPrefix[k] = nsMap[k];\n    }\n\n    // FORCE default mapping for schema instance\n    _nsUriToPrefix[XSI_URI] = XSI_PREFIX;\n\n    isNamespace = true;\n    nsUriToPrefix = _nsUriToPrefix;\n\n    return this;\n  };\n\n  /**\n   * Parse xml string.\n   *\n   * @param  {string} xml\n   *\n   * @return {Error} returnError, if not thrown\n   */\n  this['parse'] = function(xml) {\n    if (typeof xml !== 'string') {\n      throw error('required args <xml=string>');\n    }\n\n    returnError = null;\n\n    parse(xml);\n\n    getContext = noopGetContext;\n    parseStop = false;\n\n    return returnError;\n  };\n\n  /**\n   * Stop parsing.\n   */\n  this['stop'] = function() {\n    parseStop = true;\n  };\n\n  /**\n   * Parse string, invoking configured listeners on element.\n   *\n   * @param  {string} xml\n   */\n  function parse(xml) {\n    var nsMatrixStack = isNamespace ? [] : null,\n        nsMatrix = isNamespace ? buildNsMatrix(nsUriToPrefix) : null,\n        _nsMatrix,\n        nodeStack = [],\n        anonymousNsCount = 0,\n        tagStart = false,\n        tagEnd = false,\n        i = 0, j = 0,\n        x, y, q, w,\n        xmlns,\n        elementName,\n        _elementName,\n        elementProxy\n        ;\n\n    var attrsString = '',\n        attrsStart = 0,\n        cachedAttrs // false = parsed with errors, null = needs parsing\n        ;\n\n    /**\n     * Parse attributes on demand and returns the parsed attributes.\n     *\n     * Return semantics: (1) `false` on attribute parse error,\n     * (2) object hash on extracted attrs.\n     *\n     * @return {boolean|Object}\n     */\n    function getAttrs() {\n      if (cachedAttrs !== null) {\n        return cachedAttrs;\n      }\n\n      var nsUri,\n          nsUriPrefix,\n          nsName,\n          defaultAlias = isNamespace && nsMatrix['xmlns'],\n          attrList = isNamespace && maybeNS ? [] : null,\n          i = attrsStart,\n          s = attrsString,\n          l = s.length,\n          hasNewMatrix,\n          newalias,\n          value,\n          alias,\n          name,\n          attrs = {},\n          seenAttrs = {},\n          skipAttr,\n          w,\n          j;\n\n      parseAttr:\n      for (; i < l; i++) {\n        skipAttr = false;\n        w = s.charCodeAt(i);\n\n        if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE={ \\f\\n\\r\\t\\v}\n          continue;\n        }\n\n        // wait for non whitespace character\n        if (w < 65 || w > 122 || (w > 90 && w < 97)) {\n          if (w !== 95 && w !== 58) { // char 95\"_\" 58\":\"\n            handleWarning('illegal first char attribute name');\n            skipAttr = true;\n          }\n        }\n\n        // parse attribute name\n        for (j = i + 1; j < l; j++) {\n          w = s.charCodeAt(j);\n\n          if (\n            w > 96 && w < 123 ||\n            w > 64 && w < 91 ||\n            w > 47 && w < 59 ||\n            w === 46 || // '.'\n            w === 45 || // '-'\n            w === 95 // '_'\n          ) {\n            continue;\n          }\n\n          // unexpected whitespace\n          if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE\n            handleWarning('missing attribute value');\n            i = j;\n\n            continue parseAttr;\n          }\n\n          // expected \"=\"\n          if (w === 61) { // \"=\" == 61\n            break;\n          }\n\n          handleWarning('illegal attribute name char');\n          skipAttr = true;\n        }\n\n        name = s.substring(i, j);\n\n        if (name === 'xmlns:xmlns') {\n          handleWarning('illegal declaration of xmlns');\n          skipAttr = true;\n        }\n\n        w = s.charCodeAt(j + 1);\n\n        if (w === 34) { // '\"'\n          j = s.indexOf('\"', i = j + 2);\n\n          if (j === -1) {\n            j = s.indexOf('\\'', i);\n\n            if (j !== -1) {\n              handleWarning('attribute value quote missmatch');\n              skipAttr = true;\n            }\n          }\n\n        } else if (w === 39) { // \"'\"\n          j = s.indexOf('\\'', i = j + 2);\n\n          if (j === -1) {\n            j = s.indexOf('\"', i);\n\n            if (j !== -1) {\n              handleWarning('attribute value quote missmatch');\n              skipAttr = true;\n            }\n          }\n\n        } else {\n          handleWarning('missing attribute value quotes');\n          skipAttr = true;\n\n          // skip to next space\n          for (j = j + 1; j < l; j++) {\n            w = s.charCodeAt(j + 1);\n\n            if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE\n              break;\n            }\n          }\n\n        }\n\n        if (j === -1) {\n          handleWarning('missing closing quotes');\n\n          j = l;\n          skipAttr = true;\n        }\n\n        if (!skipAttr) {\n          value = s.substring(i, j);\n        }\n\n        i = j;\n\n        // ensure SPACE follows attribute\n        // skip illegal content otherwise\n        // example a=\"b\"c\n        for (; j + 1 < l; j++) {\n          w = s.charCodeAt(j + 1);\n\n          if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE\n            break;\n          }\n\n          // FIRST ILLEGAL CHAR\n          if (i === j) {\n            handleWarning('illegal character after attribute end');\n            skipAttr = true;\n          }\n        }\n\n        // advance cursor to next attribute\n        i = j + 1;\n\n        if (skipAttr) {\n          continue parseAttr;\n        }\n\n        // check attribute re-declaration\n        if (name in seenAttrs) {\n          handleWarning('attribute <' + name + '> already defined');\n          continue;\n        }\n\n        seenAttrs[name] = true;\n\n        if (!isNamespace) {\n          attrs[name] = value;\n          continue;\n        }\n\n        // try to extract namespace information\n        if (maybeNS) {\n          newalias = (\n            name === 'xmlns'\n              ? 'xmlns'\n              : (name.charCodeAt(0) === 120 && name.substr(0, 6) === 'xmlns:')\n                ? name.substr(6)\n                : null\n          );\n\n          // handle xmlns(:alias) assignment\n          if (newalias !== null) {\n            nsUri = decodeEntities(value);\n            nsUriPrefix = uriPrefix(newalias);\n\n            alias = nsUriToPrefix[nsUri];\n\n            if (!alias) {\n              // no prefix defined or prefix collision\n              if (\n                (newalias === 'xmlns') ||\n                (nsUriPrefix in nsMatrix && nsMatrix[nsUriPrefix] !== nsUri)\n              ) {\n                // alocate free ns prefix\n                do {\n                  alias = 'ns' + (anonymousNsCount++);\n                } while (typeof nsMatrix[alias] !== 'undefined');\n              } else {\n                alias = newalias;\n              }\n\n              nsUriToPrefix[nsUri] = alias;\n            }\n\n            if (nsMatrix[newalias] !== alias) {\n              if (!hasNewMatrix) {\n                nsMatrix = cloneNsMatrix(nsMatrix);\n                hasNewMatrix = true;\n              }\n\n              nsMatrix[newalias] = alias;\n              if (newalias === 'xmlns') {\n                nsMatrix[uriPrefix(alias)] = nsUri;\n                defaultAlias = alias;\n              }\n\n              nsMatrix[nsUriPrefix] = nsUri;\n            }\n\n            // expose xmlns(:asd)=\"...\" in attributes\n            attrs[name] = value;\n            continue;\n          }\n\n          // collect attributes until all namespace\n          // declarations are processed\n          attrList.push(name, value);\n          continue;\n\n        } /** end if (maybeNs) */\n\n        // handle attributes on element without\n        // namespace declarations\n        w = name.indexOf(':');\n        if (w === -1) {\n          attrs[name] = value;\n          continue;\n        }\n\n        // normalize ns attribute name\n        if (!(nsName = nsMatrix[name.substring(0, w)])) {\n          handleWarning(missingNamespaceForPrefix(name.substring(0, w)));\n          continue;\n        }\n\n        name = defaultAlias === nsName\n          ? name.substr(w + 1)\n          : nsName + name.substr(w);\n        // end: normalize ns attribute name\n\n        // normalize xsi:type ns attribute value\n        if (name === XSI_TYPE) {\n          w = value.indexOf(':');\n\n          if (w !== -1) {\n            nsName = value.substring(0, w);\n            // handle default prefixes, i.e. xs:String gracefully\n            nsName = nsMatrix[nsName] || nsName;\n            value = nsName + value.substring(w);\n          } else {\n            value = defaultAlias + ':' + value;\n          }\n        }\n        // end: normalize xsi:type ns attribute value\n\n        attrs[name] = value;\n      }\n\n\n      // handle deferred, possibly namespaced attributes\n      if (maybeNS) {\n\n        // normalize captured attributes\n        for (i = 0, l = attrList.length; i < l; i++) {\n\n          name = attrList[i++];\n          value = attrList[i];\n\n          w = name.indexOf(':');\n\n          if (w !== -1) {\n            // normalize ns attribute name\n            if (!(nsName = nsMatrix[name.substring(0, w)])) {\n              handleWarning(missingNamespaceForPrefix(name.substring(0, w)));\n              continue;\n            }\n\n            name = defaultAlias === nsName\n              ? name.substr(w + 1)\n              : nsName + name.substr(w);\n            // end: normalize ns attribute name\n\n            // normalize xsi:type ns attribute value\n            if (name === XSI_TYPE) {\n              w = value.indexOf(':');\n\n              if (w !== -1) {\n                nsName = value.substring(0, w);\n                // handle default prefixes, i.e. xs:String gracefully\n                nsName = nsMatrix[nsName] || nsName;\n                value = nsName + value.substring(w);\n              } else {\n                value = defaultAlias + ':' + value;\n              }\n            }\n            // end: normalize xsi:type ns attribute value\n          }\n\n          attrs[name] = value;\n        }\n        // end: normalize captured attributes\n      }\n\n      return cachedAttrs = attrs;\n    }\n\n    /**\n     * Extract the parse context { line, column, part }\n     * from the current parser position.\n     *\n     * @return {Object} parse context\n     */\n    function getParseContext() {\n      var splitsRe = /(\\r\\n|\\r|\\n)/g;\n\n      var line = 0;\n      var column = 0;\n      var startOfLine = 0;\n      var endOfLine = j;\n      var match;\n      var data;\n\n      while (i >= startOfLine) {\n\n        match = splitsRe.exec(xml);\n\n        if (!match) {\n          break;\n        }\n\n        // end of line = (break idx + break chars)\n        endOfLine = match[0].length + match.index;\n\n        if (endOfLine > i) {\n          break;\n        }\n\n        // advance to next line\n        line += 1;\n\n        startOfLine = endOfLine;\n      }\n\n      // EOF errors\n      if (i == -1) {\n        column = endOfLine;\n        data = xml.substring(j);\n      } else\n      // start errors\n      if (j === 0) {\n        console.log(i - startOfLine);\n        data = xml.substring(j, i);\n      }\n      // other errors\n      else {\n        column = i - startOfLine;\n        data = (j == -1 ? xml.substring(i) : xml.substring(i, j + 1));\n      }\n\n      return {\n        'data': data,\n        'line': line,\n        'column': column\n      };\n    }\n\n    getContext = getParseContext;\n\n\n    if (proxy) {\n      elementProxy = Object.create({}, {\n        'name': getter(function() {\n          return elementName;\n        }),\n        'originalName': getter(function() {\n          return _elementName;\n        }),\n        'attrs': getter(getAttrs),\n        'ns': getter(function() {\n          return nsMatrix;\n        })\n      });\n    }\n\n    // actual parse logic\n    while (j !== -1) {\n\n      if (xml.charCodeAt(j) === 60) { // \"<\"\n        i = j;\n      } else {\n        i = xml.indexOf('<', j);\n      }\n\n      // parse end\n      if (i === -1) {\n        if (nodeStack.length) {\n          return handleError('unexpected end of file');\n        }\n\n        if (j === 0) {\n          return handleError('missing start tag');\n        }\n\n        if (j < xml.length) {\n          if (xml.substring(j).trim()) {\n            handleWarning(NON_WHITESPACE_OUTSIDE_ROOT_NODE);\n          }\n        }\n\n        return;\n      }\n\n      // parse text\n      if (j !== i) {\n\n        if (nodeStack.length) {\n          if (onText) {\n            onText(xml.substring(j, i), decodeEntities, getContext);\n\n            if (parseStop) {\n              return;\n            }\n          }\n        } else {\n          if (xml.substring(j, i).trim()) {\n            handleWarning(NON_WHITESPACE_OUTSIDE_ROOT_NODE);\n\n            if (parseStop) {\n              return;\n            }\n          }\n        }\n      }\n\n      w = xml.charCodeAt(i+1);\n\n      // parse comments + CDATA\n      if (w === 33) { // \"!\"\n        w = xml.charCodeAt(i+2);\n        if (w === 91 && xml.substr(i + 3, 6) === 'CDATA[') { // 91 == \"[\"\n          j = xml.indexOf(']]>', i);\n          if (j === -1) {\n            return handleError('unclosed cdata');\n          }\n\n          if (onCDATA) {\n            onCDATA(xml.substring(i + 9, j), getContext);\n            if (parseStop) {\n              return;\n            }\n          }\n\n          j += 3;\n          continue;\n        }\n\n\n        if (w === 45 && xml.charCodeAt(i + 3) === 45) { // 45 == \"-\"\n          j = xml.indexOf('-->', i);\n          if (j === -1) {\n            return handleError('unclosed comment');\n          }\n\n\n          if (onComment) {\n            onComment(xml.substring(i + 4, j), decodeEntities, getContext);\n            if (parseStop) {\n              return;\n            }\n          }\n\n          j += 3;\n          continue;\n        }\n\n        j = xml.indexOf('>', i + 1);\n        if (j === -1) {\n          return handleError('unclosed tag');\n        }\n\n        if (onAttention) {\n          onAttention(xml.substring(i, j + 1), decodeEntities, getContext);\n          if (parseStop) {\n            return;\n          }\n        }\n\n        j += 1;\n        continue;\n      }\n\n      if (w === 63) { // \"?\"\n        j = xml.indexOf('?>', i);\n        if (j === -1) {\n          return handleError('unclosed question');\n        }\n\n        if (onQuestion) {\n          onQuestion(xml.substring(i, j + 2), getContext);\n          if (parseStop) {\n            return;\n          }\n        }\n\n        j += 2;\n        continue;\n      }\n\n      j = xml.indexOf('>', i + 1);\n\n      if (j == -1) {\n        return handleError('unclosed tag');\n      }\n\n      // don't process attributes;\n      // there are none\n      cachedAttrs = {};\n\n      // if (xml.charCodeAt(i+1) === 47) { // </...\n      if (w === 47) { // </...\n        tagStart = false;\n        tagEnd = true;\n\n        if (!nodeStack.length) {\n          return handleError('missing open tag');\n        }\n\n        // verify open <-> close tag match\n        x = elementName = nodeStack.pop();\n        q = i + 2 + x.length;\n\n        if (xml.substring(i + 2, q) !== x) {\n          return handleError('closing tag mismatch');\n        }\n\n        // verify chars in close tag\n        for (; q < j; q++) {\n          w = xml.charCodeAt(q);\n\n          if (w === 32 || (w > 8 && w < 14)) { // \\f\\n\\r\\t\\v space\n            continue;\n          }\n\n          return handleError('close tag');\n        }\n\n      } else {\n        if (xml.charCodeAt(j - 1) === 47) { // .../>\n          x = elementName = xml.substring(i + 1, j - 1);\n\n          tagStart = true;\n          tagEnd = true;\n\n        } else {\n          x = elementName = xml.substring(i + 1, j);\n\n          tagStart = true;\n          tagEnd = false;\n        }\n\n        if (!(w > 96 && w < 123 || w > 64 && w < 91 || w === 95 || w === 58)) { // char 95\"_\" 58\":\"\n          return handleError('illegal first char nodeName');\n        }\n\n        for (q = 1, y = x.length; q < y; q++) {\n          w = x.charCodeAt(q);\n\n          if (w > 96 && w < 123 || w > 64 && w < 91 || w > 47 && w < 59 || w === 45 || w === 95 || w == 46) {\n            continue;\n          }\n\n          if (w === 32 || (w < 14 && w > 8)) { // \\f\\n\\r\\t\\v space\n            elementName = x.substring(0, q);\n            // maybe there are attributes\n            cachedAttrs = null;\n            break;\n          }\n\n          return handleError('invalid nodeName');\n        }\n\n        if (!tagEnd) {\n          nodeStack.push(elementName);\n        }\n      }\n\n      if (isNamespace) {\n\n        _nsMatrix = nsMatrix;\n\n        if (tagStart) {\n          // remember old namespace\n          // unless we're self-closing\n          if (!tagEnd) {\n            nsMatrixStack.push(_nsMatrix);\n          }\n\n          if (cachedAttrs === null) {\n            // quick check, whether there may be namespace\n            // declarations on the node; if that is the case\n            // we need to eagerly parse the node attributes\n            if ((maybeNS = x.indexOf('xmlns', q) !== -1)) {\n              attrsStart = q;\n              attrsString = x;\n\n              getAttrs();\n\n              maybeNS = false;\n            }\n          }\n        }\n\n        _elementName = elementName;\n\n        w = elementName.indexOf(':');\n        if (w !== -1) {\n          xmlns = nsMatrix[elementName.substring(0, w)];\n\n          // prefix given; namespace must exist\n          if (!xmlns) {\n            return handleError('missing namespace on <' + _elementName + '>');\n          }\n\n          elementName = elementName.substr(w + 1);\n        } else {\n          xmlns = nsMatrix['xmlns'];\n\n          // if no default namespace is defined,\n          // we'll import the element as anonymous.\n          //\n          // it is up to users to correct that to the document defined\n          // targetNamespace, or whatever their undersanding of the\n          // XML spec mandates.\n        }\n\n        // adjust namespace prefixs as configured\n        if (xmlns) {\n          elementName = xmlns + ':' + elementName;\n        }\n\n      }\n\n      if (tagStart) {\n        attrsStart = q;\n        attrsString = x;\n\n        if (onOpenTag) {\n          if (proxy) {\n            onOpenTag(elementProxy, decodeEntities, tagEnd, getContext);\n          } else {\n            onOpenTag(elementName, getAttrs, decodeEntities, tagEnd, getContext);\n          }\n\n          if (parseStop) {\n            return;\n          }\n        }\n\n      }\n\n      if (tagEnd) {\n\n        if (onCloseTag) {\n          onCloseTag(proxy ? elementProxy : elementName, decodeEntities, tagStart, getContext);\n\n          if (parseStop) {\n            return;\n          }\n        }\n\n        // restore old namespace\n        if (isNamespace) {\n          if (!tagStart) {\n            nsMatrix = nsMatrixStack.pop();\n          } else {\n            nsMatrix = _nsMatrix;\n          }\n        }\n      }\n\n      j += 1;\n    }\n  } /** end parse */\n\n}\n\nexport { Parser, decodeEntities as decode };\n","import { forEach, assign, find, filter, isString, map } from 'min-dash';\nimport { Parser } from 'saxen';\nimport { coerceType, parseNameNS, isSimpleType, Moddle } from 'moddle';\n\nfunction hasLowerCaseAlias(pkg) {\n  return pkg.xml && pkg.xml.tagAlias === 'lowerCase';\n}\n\nvar DEFAULT_NS_MAP = {\n  'xsi': 'http://www.w3.org/2001/XMLSchema-instance'\n};\n\nvar XSI_TYPE = 'xsi:type';\n\nfunction serializeFormat(element) {\n  return element.xml && element.xml.serialize;\n}\n\nfunction serializeAsType(element) {\n  return serializeFormat(element) === XSI_TYPE;\n}\n\nfunction serializeAsProperty(element) {\n  return serializeFormat(element) === 'property';\n}\n\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction aliasToName(aliasNs, pkg) {\n\n  if (!hasLowerCaseAlias(pkg)) {\n    return aliasNs.name;\n  }\n\n  return aliasNs.prefix + ':' + capitalize(aliasNs.localName);\n}\n\nfunction prefixedToName(nameNs, pkg) {\n\n  var name = nameNs.name,\n      localName = nameNs.localName;\n\n  var typePrefix = pkg.xml && pkg.xml.typePrefix;\n\n  if (typePrefix && localName.indexOf(typePrefix) === 0) {\n    return nameNs.prefix + ':' + localName.slice(typePrefix.length);\n  } else {\n    return name;\n  }\n}\n\nfunction normalizeXsiTypeName(name, model) {\n\n  var nameNs = parseNameNS(name);\n  var pkg = model.getPackage(nameNs.prefix);\n\n  return prefixedToName(nameNs, pkg);\n}\n\nfunction error(message) {\n  return new Error(message);\n}\n\n/**\n * Get the moddle descriptor for a given instance or type.\n *\n * @param  {ModdleElement|Function} element\n *\n * @return {Object} the moddle descriptor\n */\nfunction getModdleDescriptor(element) {\n  return element.$descriptor;\n}\n\nfunction defer(fn) {\n  setTimeout(fn, 0);\n}\n\n/**\n * A parse context.\n *\n * @class\n *\n * @param {Object} options\n * @param {ElementHandler} options.rootHandler the root handler for parsing a document\n * @param {boolean} [options.lax=false] whether or not to ignore invalid elements\n */\nfunction Context(options) {\n\n  /**\n   * @property {ElementHandler} rootHandler\n   */\n\n  /**\n   * @property {Boolean} lax\n   */\n\n  assign(this, options);\n\n  this.elementsById = {};\n  this.references = [];\n  this.warnings = [];\n\n  /**\n   * Add an unresolved reference.\n   *\n   * @param {Object} reference\n   */\n  this.addReference = function(reference) {\n    this.references.push(reference);\n  };\n\n  /**\n   * Add a processed element.\n   *\n   * @param {ModdleElement} element\n   */\n  this.addElement = function(element) {\n\n    if (!element) {\n      throw error('expected element');\n    }\n\n    var elementsById = this.elementsById;\n\n    var descriptor = getModdleDescriptor(element);\n\n    var idProperty = descriptor.idProperty,\n        id;\n\n    if (idProperty) {\n      id = element.get(idProperty.name);\n\n      if (id) {\n        // for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\n        if (!/^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i.test(id)) {\n          throw new Error('illegal ID <' + id + '>');\n        }\n\n        if (elementsById[id]) {\n          throw error('duplicate ID <' + id + '>');\n        }\n\n        elementsById[id] = element;\n      }\n    }\n  };\n\n  /**\n   * Add an import warning.\n   *\n   * @param {Object} warning\n   * @param {String} warning.message\n   * @param {Error} [warning.error]\n   */\n  this.addWarning = function(warning) {\n    this.warnings.push(warning);\n  };\n}\n\nfunction BaseHandler() {}\n\nBaseHandler.prototype.handleEnd = function() {};\nBaseHandler.prototype.handleText = function() {};\nBaseHandler.prototype.handleNode = function() {};\n\n\n/**\n * A simple pass through handler that does nothing except for\n * ignoring all input it receives.\n *\n * This is used to ignore unknown elements and\n * attributes.\n */\nfunction NoopHandler() { }\n\nNoopHandler.prototype = Object.create(BaseHandler.prototype);\n\nNoopHandler.prototype.handleNode = function() {\n  return this;\n};\n\nfunction BodyHandler() {}\n\nBodyHandler.prototype = Object.create(BaseHandler.prototype);\n\nBodyHandler.prototype.handleText = function(text) {\n  this.body = (this.body || '') + text;\n};\n\nfunction ReferenceHandler(property, context) {\n  this.property = property;\n  this.context = context;\n}\n\nReferenceHandler.prototype = Object.create(BodyHandler.prototype);\n\nReferenceHandler.prototype.handleNode = function(node) {\n\n  if (this.element) {\n    throw error('expected no sub nodes');\n  } else {\n    this.element = this.createReference(node);\n  }\n\n  return this;\n};\n\nReferenceHandler.prototype.handleEnd = function() {\n  this.element.id = this.body;\n};\n\nReferenceHandler.prototype.createReference = function(node) {\n  return {\n    property: this.property.ns.name,\n    id: ''\n  };\n};\n\nfunction ValueHandler(propertyDesc, element) {\n  this.element = element;\n  this.propertyDesc = propertyDesc;\n}\n\nValueHandler.prototype = Object.create(BodyHandler.prototype);\n\nValueHandler.prototype.handleEnd = function() {\n\n  var value = this.body || '',\n      element = this.element,\n      propertyDesc = this.propertyDesc;\n\n  value = coerceType(propertyDesc.type, value);\n\n  if (propertyDesc.isMany) {\n    element.get(propertyDesc.name).push(value);\n  } else {\n    element.set(propertyDesc.name, value);\n  }\n};\n\n\nfunction BaseElementHandler() {}\n\nBaseElementHandler.prototype = Object.create(BodyHandler.prototype);\n\nBaseElementHandler.prototype.handleNode = function(node) {\n  var parser = this,\n      element = this.element;\n\n  if (!element) {\n    element = this.element = this.createElement(node);\n\n    this.context.addElement(element);\n  } else {\n    parser = this.handleChild(node);\n  }\n\n  return parser;\n};\n\n/**\n * @class Reader.ElementHandler\n *\n */\nfunction ElementHandler(model, typeName, context) {\n  this.model = model;\n  this.type = model.getType(typeName);\n  this.context = context;\n}\n\nElementHandler.prototype = Object.create(BaseElementHandler.prototype);\n\nElementHandler.prototype.addReference = function(reference) {\n  this.context.addReference(reference);\n};\n\nElementHandler.prototype.handleText = function(text) {\n\n  var element = this.element,\n      descriptor = getModdleDescriptor(element),\n      bodyProperty = descriptor.bodyProperty;\n\n  if (!bodyProperty) {\n    throw error('unexpected body text <' + text + '>');\n  }\n\n  BodyHandler.prototype.handleText.call(this, text);\n};\n\nElementHandler.prototype.handleEnd = function() {\n\n  var value = this.body,\n      element = this.element,\n      descriptor = getModdleDescriptor(element),\n      bodyProperty = descriptor.bodyProperty;\n\n  if (bodyProperty && value !== undefined) {\n    value = coerceType(bodyProperty.type, value);\n    element.set(bodyProperty.name, value);\n  }\n};\n\n/**\n * Create an instance of the model from the given node.\n *\n * @param  {Element} node the xml node\n */\nElementHandler.prototype.createElement = function(node) {\n  var attributes = node.attributes,\n      Type = this.type,\n      descriptor = getModdleDescriptor(Type),\n      context = this.context,\n      instance = new Type({}),\n      model = this.model,\n      propNameNs;\n\n  forEach(attributes, function(value, name) {\n\n    var prop = descriptor.propertiesByName[name],\n        values;\n\n    if (prop && prop.isReference) {\n\n      if (!prop.isMany) {\n        context.addReference({\n          element: instance,\n          property: prop.ns.name,\n          id: value\n        });\n      } else {\n        // IDREFS: parse references as whitespace-separated list\n        values = value.split(' ');\n\n        forEach(values, function(v) {\n          context.addReference({\n            element: instance,\n            property: prop.ns.name,\n            id: v\n          });\n        });\n      }\n\n    } else {\n      if (prop) {\n        value = coerceType(prop.type, value);\n      } else\n      if (name !== 'xmlns') {\n        propNameNs = parseNameNS(name, descriptor.ns.prefix);\n\n        // check whether attribute is defined in a well-known namespace\n        // if that is the case we emit a warning to indicate potential misuse\n        if (model.getPackage(propNameNs.prefix)) {\n\n          context.addWarning({\n            message: 'unknown attribute <' + name + '>',\n            element: instance,\n            property: name,\n            value: value\n          });\n        }\n      }\n\n      instance.set(name, value);\n    }\n  });\n\n  return instance;\n};\n\nElementHandler.prototype.getPropertyForNode = function(node) {\n\n  var name = node.name;\n  var nameNs = parseNameNS(name);\n\n  var type = this.type,\n      model = this.model,\n      descriptor = getModdleDescriptor(type);\n\n  var propertyName = nameNs.name,\n      property = descriptor.propertiesByName[propertyName],\n      elementTypeName,\n      elementType;\n\n  // search for properties by name first\n\n  if (property && !property.isAttr) {\n\n    if (serializeAsType(property)) {\n      elementTypeName = node.attributes[XSI_TYPE];\n\n      // xsi type is optional, if it does not exists the\n      // default type is assumed\n      if (elementTypeName) {\n\n        // take possible type prefixes from XML\n        // into account, i.e.: xsi:type=\"t{ActualType}\"\n        elementTypeName = normalizeXsiTypeName(elementTypeName, model);\n\n        elementType = model.getType(elementTypeName);\n\n        return assign({}, property, {\n          effectiveType: getModdleDescriptor(elementType).name\n        });\n      }\n    }\n\n    // search for properties by name first\n    return property;\n  }\n\n  var pkg = model.getPackage(nameNs.prefix);\n\n  if (pkg) {\n    elementTypeName = aliasToName(nameNs, pkg);\n    elementType = model.getType(elementTypeName);\n\n    // search for collection members later\n    property = find(descriptor.properties, function(p) {\n      return !p.isVirtual && !p.isReference && !p.isAttribute && elementType.hasType(p.type);\n    });\n\n    if (property) {\n      return assign({}, property, {\n        effectiveType: getModdleDescriptor(elementType).name\n      });\n    }\n  } else {\n    // parse unknown element (maybe extension)\n    property = find(descriptor.properties, function(p) {\n      return !p.isReference && !p.isAttribute && p.type === 'Element';\n    });\n\n    if (property) {\n      return property;\n    }\n  }\n\n  throw error('unrecognized element <' + nameNs.name + '>');\n};\n\nElementHandler.prototype.toString = function() {\n  return 'ElementDescriptor[' + getModdleDescriptor(this.type).name + ']';\n};\n\nElementHandler.prototype.valueHandler = function(propertyDesc, element) {\n  return new ValueHandler(propertyDesc, element);\n};\n\nElementHandler.prototype.referenceHandler = function(propertyDesc) {\n  return new ReferenceHandler(propertyDesc, this.context);\n};\n\nElementHandler.prototype.handler = function(type) {\n  if (type === 'Element') {\n    return new GenericElementHandler(this.model, type, this.context);\n  } else {\n    return new ElementHandler(this.model, type, this.context);\n  }\n};\n\n/**\n * Handle the child element parsing\n *\n * @param  {Element} node the xml node\n */\nElementHandler.prototype.handleChild = function(node) {\n  var propertyDesc, type, element, childHandler;\n\n  propertyDesc = this.getPropertyForNode(node);\n  element = this.element;\n\n  type = propertyDesc.effectiveType || propertyDesc.type;\n\n  if (isSimpleType(type)) {\n    return this.valueHandler(propertyDesc, element);\n  }\n\n  if (propertyDesc.isReference) {\n    childHandler = this.referenceHandler(propertyDesc).handleNode(node);\n  } else {\n    childHandler = this.handler(type).handleNode(node);\n  }\n\n  var newElement = childHandler.element;\n\n  // child handles may decide to skip elements\n  // by not returning anything\n  if (newElement !== undefined) {\n\n    if (propertyDesc.isMany) {\n      element.get(propertyDesc.name).push(newElement);\n    } else {\n      element.set(propertyDesc.name, newElement);\n    }\n\n    if (propertyDesc.isReference) {\n      assign(newElement, {\n        element: element\n      });\n\n      this.context.addReference(newElement);\n    } else {\n      // establish child -> parent relationship\n      newElement.$parent = element;\n    }\n  }\n\n  return childHandler;\n};\n\n/**\n * An element handler that performs special validation\n * to ensure the node it gets initialized with matches\n * the handlers type (namespace wise).\n *\n * @param {Moddle} model\n * @param {String} typeName\n * @param {Context} context\n */\nfunction RootElementHandler(model, typeName, context) {\n  ElementHandler.call(this, model, typeName, context);\n}\n\nRootElementHandler.prototype = Object.create(ElementHandler.prototype);\n\nRootElementHandler.prototype.createElement = function(node) {\n\n  var name = node.name,\n      nameNs = parseNameNS(name),\n      model = this.model,\n      type = this.type,\n      pkg = model.getPackage(nameNs.prefix),\n      typeName = pkg && aliasToName(nameNs, pkg) || name;\n\n  // verify the correct namespace if we parse\n  // the first element in the handler tree\n  //\n  // this ensures we don't mistakenly import wrong namespace elements\n  if (!type.hasType(typeName)) {\n    throw error('unexpected element <' + node.originalName + '>');\n  }\n\n  return ElementHandler.prototype.createElement.call(this, node);\n};\n\n\nfunction GenericElementHandler(model, typeName, context) {\n  this.model = model;\n  this.context = context;\n}\n\nGenericElementHandler.prototype = Object.create(BaseElementHandler.prototype);\n\nGenericElementHandler.prototype.createElement = function(node) {\n\n  var name = node.name,\n      ns = parseNameNS(name),\n      prefix = ns.prefix,\n      uri = node.ns[prefix + '$uri'],\n      attributes = node.attributes;\n\n  return this.model.createAny(name, uri, attributes);\n};\n\nGenericElementHandler.prototype.handleChild = function(node) {\n\n  var handler = new GenericElementHandler(this.model, 'Element', this.context).handleNode(node),\n      element = this.element;\n\n  var newElement = handler.element,\n      children;\n\n  if (newElement !== undefined) {\n    children = element.$children = element.$children || [];\n    children.push(newElement);\n\n    // establish child -> parent relationship\n    newElement.$parent = element;\n  }\n\n  return handler;\n};\n\nGenericElementHandler.prototype.handleEnd = function() {\n  if (this.body) {\n    this.element.$body = this.body;\n  }\n};\n\n/**\n * A reader for a meta-model\n *\n * @param {Object} options\n * @param {Model} options.model used to read xml files\n * @param {Boolean} options.lax whether to make parse errors warnings\n */\nfunction Reader(options) {\n\n  if (options instanceof Moddle) {\n    options = {\n      model: options\n    };\n  }\n\n  assign(this, { lax: false }, options);\n}\n\n\n/**\n * Parse the given XML into a moddle document tree.\n *\n * @param {String} xml\n * @param {ElementHandler|Object} options or rootHandler\n * @param  {Function} done\n */\nReader.prototype.fromXML = function(xml, options, done) {\n\n  var rootHandler = options.rootHandler;\n\n  if (options instanceof ElementHandler) {\n    // root handler passed via (xml, { rootHandler: ElementHandler }, ...)\n    rootHandler = options;\n    options = {};\n  } else {\n    if (typeof options === 'string') {\n      // rootHandler passed via (xml, 'someString', ...)\n      rootHandler = this.handler(options);\n      options = {};\n    } else if (typeof rootHandler === 'string') {\n      // rootHandler passed via (xml, { rootHandler: 'someString' }, ...)\n      rootHandler = this.handler(rootHandler);\n    }\n  }\n\n  var model = this.model,\n      lax = this.lax;\n\n  var context = new Context(assign({}, options, { rootHandler: rootHandler })),\n      parser = new Parser({ proxy: true }),\n      stack = createStack();\n\n  rootHandler.context = context;\n\n  // push root handler\n  stack.push(rootHandler);\n\n\n  /**\n   * Handle error.\n   *\n   * @param  {Error} err\n   * @param  {Function} getContext\n   * @param  {boolean} lax\n   *\n   * @return {boolean} true if handled\n   */\n  function handleError(err, getContext, lax) {\n\n    var ctx = getContext();\n\n    var line = ctx.line,\n        column = ctx.column,\n        data = ctx.data;\n\n    // we receive the full context data here,\n    // for elements trim down the information\n    // to the tag name, only\n    if (data.charAt(0) === '<' && data.indexOf(' ') !== -1) {\n      data = data.slice(0, data.indexOf(' ')) + '>';\n    }\n\n    var message =\n      'unparsable content ' + (data ? data + ' ' : '') + 'detected\\n\\t' +\n        'line: ' + line + '\\n\\t' +\n        'column: ' + column + '\\n\\t' +\n        'nested error: ' + err.message;\n\n    if (lax) {\n      context.addWarning({\n        message: message,\n        error: err\n      });\n\n      return true;\n    } else {\n      throw error(message);\n    }\n  }\n\n  function handleWarning(err, getContext) {\n    // just like handling errors in <lax=true> mode\n    return handleError(err, getContext, true);\n  }\n\n  /**\n   * Resolve collected references on parse end.\n   */\n  function resolveReferences() {\n\n    var elementsById = context.elementsById;\n    var references = context.references;\n\n    var i, r;\n\n    for (i = 0; (r = references[i]); i++) {\n      var element = r.element;\n      var reference = elementsById[r.id];\n      var property = getModdleDescriptor(element).propertiesByName[r.property];\n\n      if (!reference) {\n        context.addWarning({\n          message: 'unresolved reference <' + r.id + '>',\n          element: r.element,\n          property: r.property,\n          value: r.id\n        });\n      }\n\n      if (property.isMany) {\n        var collection = element.get(property.name),\n            idx = collection.indexOf(r);\n\n        // we replace an existing place holder (idx != -1) or\n        // append to the collection instead\n        if (idx === -1) {\n          idx = collection.length;\n        }\n\n        if (!reference) {\n          // remove unresolvable reference\n          collection.splice(idx, 1);\n        } else {\n          // add or update reference in collection\n          collection[idx] = reference;\n        }\n      } else {\n        element.set(property.name, reference);\n      }\n    }\n  }\n\n  function handleClose() {\n    stack.pop().handleEnd();\n  }\n\n  var PREAMBLE_START_PATTERN = /^<\\?xml /i;\n\n  var ENCODING_PATTERN = / encoding=\"([^\"]+)\"/i;\n\n  var UTF_8_PATTERN = /^utf-8$/i;\n\n  function handleQuestion(question) {\n\n    if (!PREAMBLE_START_PATTERN.test(question)) {\n      return;\n    }\n\n    var match = ENCODING_PATTERN.exec(question);\n    var encoding = match && match[1];\n\n    if (!encoding || UTF_8_PATTERN.test(encoding)) {\n      return;\n    }\n\n    context.addWarning({\n      message:\n        'unsupported document encoding <' + encoding + '>, ' +\n        'falling back to UTF-8'\n    });\n  }\n\n  function handleOpen(node, getContext) {\n    var handler = stack.peek();\n\n    try {\n      stack.push(handler.handleNode(node));\n    } catch (err) {\n\n      if (handleError(err, getContext, lax)) {\n        stack.push(new NoopHandler());\n      }\n    }\n  }\n\n  function handleCData(text, getContext) {\n\n    try {\n      stack.peek().handleText(text);\n    } catch (err) {\n      handleWarning(err, getContext);\n    }\n  }\n\n  function handleText(text, getContext) {\n    // strip whitespace only nodes, i.e. before\n    // <!CDATA[ ... ]> sections and in between tags\n    text = text.trim();\n\n    if (!text) {\n      return;\n    }\n\n    handleCData(text, getContext);\n  }\n\n  var uriMap = model.getPackages().reduce(function(uriMap, p) {\n    uriMap[p.uri] = p.prefix;\n\n    return uriMap;\n  }, {});\n\n  parser\n    .ns(uriMap)\n    .on('openTag', function(obj, decodeStr, selfClosing, getContext) {\n\n      // gracefully handle unparsable attributes (attrs=false)\n      var attrs = obj.attrs || {};\n\n      var decodedAttrs = Object.keys(attrs).reduce(function(d, key) {\n        var value = decodeStr(attrs[key]);\n\n        d[key] = value;\n\n        return d;\n      }, {});\n\n      var node = {\n        name: obj.name,\n        originalName: obj.originalName,\n        attributes: decodedAttrs,\n        ns: obj.ns\n      };\n\n      handleOpen(node, getContext);\n    })\n    .on('question', handleQuestion)\n    .on('closeTag', handleClose)\n    .on('cdata', handleCData)\n    .on('text', function(text, decodeEntities, getContext) {\n      handleText(decodeEntities(text), getContext);\n    })\n    .on('error', handleError)\n    .on('warn', handleWarning);\n\n  // deferred parse XML to make loading really ascnchronous\n  // this ensures the execution environment (node or browser)\n  // is kept responsive and that certain optimization strategies\n  // can kick in\n  defer(function() {\n    var err;\n\n    try {\n      parser.parse(xml);\n\n      resolveReferences();\n    } catch (e) {\n      err = e;\n    }\n\n    var element = rootHandler.element;\n\n    // handle the situation that we could not extract\n    // the desired root element from the document\n    if (!err && !element) {\n      err = error('failed to parse document as <' + rootHandler.type.$descriptor.name + '>');\n    }\n\n    done(err, err ? undefined : element, context);\n  });\n};\n\nReader.prototype.handler = function(name) {\n  return new RootElementHandler(this.model, name);\n};\n\n\n// helpers //////////////////////////\n\nfunction createStack() {\n  var stack = [];\n\n  Object.defineProperty(stack, 'peek', {\n    value: function() {\n      return this[this.length - 1];\n    }\n  });\n\n  return stack;\n}\n\nvar XML_PREAMBLE = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\n\nvar ESCAPE_ATTR_CHARS = /<|>|'|\"|&|\\n\\r|\\n/g;\nvar ESCAPE_CHARS = /<|>|&/g;\n\n\nfunction Namespaces(parent) {\n\n  var prefixMap = {};\n  var uriMap = {};\n  var used = {};\n\n  var wellknown = [];\n  var custom = [];\n\n  // API\n\n  this.byUri = function(uri) {\n    return uriMap[uri] || (\n      parent && parent.byUri(uri)\n    );\n  };\n\n  this.add = function(ns, isWellknown) {\n\n    uriMap[ns.uri] = ns;\n\n    if (isWellknown) {\n      wellknown.push(ns);\n    } else {\n      custom.push(ns);\n    }\n\n    this.mapPrefix(ns.prefix, ns.uri);\n  };\n\n  this.uriByPrefix = function(prefix) {\n    return prefixMap[prefix || 'xmlns'];\n  };\n\n  this.mapPrefix = function(prefix, uri) {\n    prefixMap[prefix || 'xmlns'] = uri;\n  };\n\n  this.logUsed = function(ns) {\n    var uri = ns.uri;\n\n    used[uri] = this.byUri(uri);\n  };\n\n  this.getUsed = function(ns) {\n\n    function isUsed(ns) {\n      return used[ns.uri];\n    }\n\n    var allNs = [].concat(wellknown, custom);\n\n    return allNs.filter(isUsed);\n  };\n\n}\n\nfunction lower(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1);\n}\n\nfunction nameToAlias(name, pkg) {\n  if (hasLowerCaseAlias(pkg)) {\n    return lower(name);\n  } else {\n    return name;\n  }\n}\n\nfunction inherits(ctor, superCtor) {\n  ctor.super_ = superCtor;\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nfunction nsName(ns) {\n  if (isString(ns)) {\n    return ns;\n  } else {\n    return (ns.prefix ? ns.prefix + ':' : '') + ns.localName;\n  }\n}\n\nfunction getNsAttrs(namespaces) {\n\n  return map(namespaces.getUsed(), function(ns) {\n    var name = 'xmlns' + (ns.prefix ? ':' + ns.prefix : '');\n    return { name: name, value: ns.uri };\n  });\n\n}\n\nfunction getElementNs(ns, descriptor) {\n  if (descriptor.isGeneric) {\n    return assign({ localName: descriptor.ns.localName }, ns);\n  } else {\n    return assign({ localName: nameToAlias(descriptor.ns.localName, descriptor.$pkg) }, ns);\n  }\n}\n\nfunction getPropertyNs(ns, descriptor) {\n  return assign({ localName: descriptor.ns.localName }, ns);\n}\n\nfunction getSerializableProperties(element) {\n  var descriptor = element.$descriptor;\n\n  return filter(descriptor.properties, function(p) {\n    var name = p.name;\n\n    if (p.isVirtual) {\n      return false;\n    }\n\n    // do not serialize defaults\n    if (!element.hasOwnProperty(name)) {\n      return false;\n    }\n\n    var value = element[name];\n\n    // do not serialize default equals\n    if (value === p.default) {\n      return false;\n    }\n\n    // do not serialize null properties\n    if (value === null) {\n      return false;\n    }\n\n    return p.isMany ? value.length : true;\n  });\n}\n\nvar ESCAPE_ATTR_MAP = {\n  '\\n': '#10',\n  '\\n\\r': '#10',\n  '\"': '#34',\n  '\\'': '#39',\n  '<': '#60',\n  '>': '#62',\n  '&': '#38'\n};\n\nvar ESCAPE_MAP = {\n  '<': 'lt',\n  '>': 'gt',\n  '&': 'amp'\n};\n\nfunction escape(str, charPattern, replaceMap) {\n\n  // ensure we are handling strings here\n  str = isString(str) ? str : '' + str;\n\n  return str.replace(charPattern, function(s) {\n    return '&' + replaceMap[s] + ';';\n  });\n}\n\n/**\n * Escape a string attribute to not contain any bad values (line breaks, '\"', ...)\n *\n * @param {String} str the string to escape\n * @return {String} the escaped string\n */\nfunction escapeAttr(str) {\n  return escape(str, ESCAPE_ATTR_CHARS, ESCAPE_ATTR_MAP);\n}\n\nfunction escapeBody(str) {\n  return escape(str, ESCAPE_CHARS, ESCAPE_MAP);\n}\n\nfunction filterAttributes(props) {\n  return filter(props, function(p) { return p.isAttr; });\n}\n\nfunction filterContained(props) {\n  return filter(props, function(p) { return !p.isAttr; });\n}\n\n\nfunction ReferenceSerializer(tagName) {\n  this.tagName = tagName;\n}\n\nReferenceSerializer.prototype.build = function(element) {\n  this.element = element;\n  return this;\n};\n\nReferenceSerializer.prototype.serializeTo = function(writer) {\n  writer\n    .appendIndent()\n    .append('<' + this.tagName + '>' + this.element.id + '</' + this.tagName + '>')\n    .appendNewLine();\n};\n\nfunction BodySerializer() {}\n\nBodySerializer.prototype.serializeValue =\nBodySerializer.prototype.serializeTo = function(writer) {\n  writer.append(\n    this.escape\n      ? escapeBody(this.value)\n      : this.value\n  );\n};\n\nBodySerializer.prototype.build = function(prop, value) {\n  this.value = value;\n\n  if (prop.type === 'String' && value.search(ESCAPE_CHARS) !== -1) {\n    this.escape = true;\n  }\n\n  return this;\n};\n\nfunction ValueSerializer(tagName) {\n  this.tagName = tagName;\n}\n\ninherits(ValueSerializer, BodySerializer);\n\nValueSerializer.prototype.serializeTo = function(writer) {\n\n  writer\n    .appendIndent()\n    .append('<' + this.tagName + '>');\n\n  this.serializeValue(writer);\n\n  writer\n    .append('</' + this.tagName + '>')\n    .appendNewLine();\n};\n\nfunction ElementSerializer(parent, propertyDescriptor) {\n  this.body = [];\n  this.attrs = [];\n\n  this.parent = parent;\n  this.propertyDescriptor = propertyDescriptor;\n}\n\nElementSerializer.prototype.build = function(element) {\n  this.element = element;\n\n  var elementDescriptor = element.$descriptor,\n      propertyDescriptor = this.propertyDescriptor;\n\n  var otherAttrs,\n      properties;\n\n  var isGeneric = elementDescriptor.isGeneric;\n\n  if (isGeneric) {\n    otherAttrs = this.parseGeneric(element);\n  } else {\n    otherAttrs = this.parseNsAttributes(element);\n  }\n\n  if (propertyDescriptor) {\n    this.ns = this.nsPropertyTagName(propertyDescriptor);\n  } else {\n    this.ns = this.nsTagName(elementDescriptor);\n  }\n\n  // compute tag name\n  this.tagName = this.addTagName(this.ns);\n\n  if (!isGeneric) {\n    properties = getSerializableProperties(element);\n\n    this.parseAttributes(filterAttributes(properties));\n    this.parseContainments(filterContained(properties));\n  }\n\n  this.parseGenericAttributes(element, otherAttrs);\n\n  return this;\n};\n\nElementSerializer.prototype.nsTagName = function(descriptor) {\n  var effectiveNs = this.logNamespaceUsed(descriptor.ns);\n  return getElementNs(effectiveNs, descriptor);\n};\n\nElementSerializer.prototype.nsPropertyTagName = function(descriptor) {\n  var effectiveNs = this.logNamespaceUsed(descriptor.ns);\n  return getPropertyNs(effectiveNs, descriptor);\n};\n\nElementSerializer.prototype.isLocalNs = function(ns) {\n  return ns.uri === this.ns.uri;\n};\n\n/**\n * Get the actual ns attribute name for the given element.\n *\n * @param {Object} element\n * @param {Boolean} [element.inherited=false]\n *\n * @return {Object} nsName\n */\nElementSerializer.prototype.nsAttributeName = function(element) {\n\n  var ns;\n\n  if (isString(element)) {\n    ns = parseNameNS(element);\n  } else {\n    ns = element.ns;\n  }\n\n  // return just local name for inherited attributes\n  if (element.inherited) {\n    return { localName: ns.localName };\n  }\n\n  // parse + log effective ns\n  var effectiveNs = this.logNamespaceUsed(ns);\n\n  // LOG ACTUAL namespace use\n  this.getNamespaces().logUsed(effectiveNs);\n\n  // strip prefix if same namespace like parent\n  if (this.isLocalNs(effectiveNs)) {\n    return { localName: ns.localName };\n  } else {\n    return assign({ localName: ns.localName }, effectiveNs);\n  }\n};\n\nElementSerializer.prototype.parseGeneric = function(element) {\n\n  var self = this,\n      body = this.body;\n\n  var attributes = [];\n\n  forEach(element, function(val, key) {\n\n    var nonNsAttr;\n\n    if (key === '$body') {\n      body.push(new BodySerializer().build({ type: 'String' }, val));\n    } else\n    if (key === '$children') {\n      forEach(val, function(child) {\n        body.push(new ElementSerializer(self).build(child));\n      });\n    } else\n    if (key.indexOf('$') !== 0) {\n      nonNsAttr = self.parseNsAttribute(element, key, val);\n\n      if (nonNsAttr) {\n        attributes.push({ name: key, value: val });\n      }\n    }\n  });\n\n  return attributes;\n};\n\nElementSerializer.prototype.parseNsAttribute = function(element, name, value) {\n  var model = element.$model;\n\n  var nameNs = parseNameNS(name);\n\n  var ns;\n\n  // parse xmlns:foo=\"http://foo.bar\"\n  if (nameNs.prefix === 'xmlns') {\n    ns = { prefix: nameNs.localName, uri: value };\n  }\n\n  // parse xmlns=\"http://foo.bar\"\n  if (!nameNs.prefix && nameNs.localName === 'xmlns') {\n    ns = { uri: value };\n  }\n\n  if (!ns) {\n    return {\n      name: name,\n      value: value\n    };\n  }\n\n  if (model && model.getPackage(value)) {\n    // register well known namespace\n    this.logNamespace(ns, true, true);\n  } else {\n    // log custom namespace directly as used\n    var actualNs = this.logNamespaceUsed(ns, true);\n\n    this.getNamespaces().logUsed(actualNs);\n  }\n};\n\n\n/**\n * Parse namespaces and return a list of left over generic attributes\n *\n * @param  {Object} element\n * @return {Array<Object>}\n */\nElementSerializer.prototype.parseNsAttributes = function(element, attrs) {\n  var self = this;\n\n  var genericAttrs = element.$attrs;\n\n  var attributes = [];\n\n  // parse namespace attributes first\n  // and log them. push non namespace attributes to a list\n  // and process them later\n  forEach(genericAttrs, function(value, name) {\n\n    var nonNsAttr = self.parseNsAttribute(element, name, value);\n\n    if (nonNsAttr) {\n      attributes.push(nonNsAttr);\n    }\n  });\n\n  return attributes;\n};\n\nElementSerializer.prototype.parseGenericAttributes = function(element, attributes) {\n\n  var self = this;\n\n  forEach(attributes, function(attr) {\n\n    // do not serialize xsi:type attribute\n    // it is set manually based on the actual implementation type\n    if (attr.name === XSI_TYPE) {\n      return;\n    }\n\n    try {\n      self.addAttribute(self.nsAttributeName(attr.name), attr.value);\n    } catch (e) {\n      console.warn(\n        'missing namespace information for ',\n        attr.name, '=', attr.value, 'on', element,\n        e);\n    }\n  });\n};\n\nElementSerializer.prototype.parseContainments = function(properties) {\n\n  var self = this,\n      body = this.body,\n      element = this.element;\n\n  forEach(properties, function(p) {\n    var value = element.get(p.name),\n        isReference = p.isReference,\n        isMany = p.isMany;\n\n    if (!isMany) {\n      value = [ value ];\n    }\n\n    if (p.isBody) {\n      body.push(new BodySerializer().build(p, value[0]));\n    } else\n    if (isSimpleType(p.type)) {\n      forEach(value, function(v) {\n        body.push(new ValueSerializer(self.addTagName(self.nsPropertyTagName(p))).build(p, v));\n      });\n    } else\n    if (isReference) {\n      forEach(value, function(v) {\n        body.push(new ReferenceSerializer(self.addTagName(self.nsPropertyTagName(p))).build(v));\n      });\n    } else {\n      // allow serialization via type\n      // rather than element name\n      var asType = serializeAsType(p),\n          asProperty = serializeAsProperty(p);\n\n      forEach(value, function(v) {\n        var serializer;\n\n        if (asType) {\n          serializer = new TypeSerializer(self, p);\n        } else\n        if (asProperty) {\n          serializer = new ElementSerializer(self, p);\n        } else {\n          serializer = new ElementSerializer(self);\n        }\n\n        body.push(serializer.build(v));\n      });\n    }\n  });\n};\n\nElementSerializer.prototype.getNamespaces = function(local) {\n\n  var namespaces = this.namespaces,\n      parent = this.parent,\n      parentNamespaces;\n\n  if (!namespaces) {\n    parentNamespaces = parent && parent.getNamespaces();\n\n    if (local || !parentNamespaces) {\n      this.namespaces = namespaces = new Namespaces(parentNamespaces);\n    } else {\n      namespaces = parentNamespaces;\n    }\n  }\n\n  return namespaces;\n};\n\nElementSerializer.prototype.logNamespace = function(ns, wellknown, local) {\n  var namespaces = this.getNamespaces(local);\n\n  var nsUri = ns.uri,\n      nsPrefix = ns.prefix;\n\n  var existing = namespaces.byUri(nsUri);\n\n  if (!existing) {\n    namespaces.add(ns, wellknown);\n  }\n\n  namespaces.mapPrefix(nsPrefix, nsUri);\n\n  return ns;\n};\n\nElementSerializer.prototype.logNamespaceUsed = function(ns, local) {\n  var element = this.element,\n      model = element.$model,\n      namespaces = this.getNamespaces(local);\n\n  // ns may be\n  //\n  //   * prefix only\n  //   * prefix:uri\n  //   * localName only\n\n  var prefix = ns.prefix,\n      uri = ns.uri,\n      newPrefix, idx,\n      wellknownUri;\n\n  // handle anonymous namespaces (elementForm=unqualified), cf. #23\n  if (!prefix && !uri) {\n    return { localName: ns.localName };\n  }\n\n  wellknownUri = DEFAULT_NS_MAP[prefix] || model && (model.getPackage(prefix) || {}).uri;\n\n  uri = uri || wellknownUri || namespaces.uriByPrefix(prefix);\n\n  if (!uri) {\n    throw new Error('no namespace uri given for prefix <' + prefix + '>');\n  }\n\n  ns = namespaces.byUri(uri);\n\n  if (!ns) {\n    newPrefix = prefix;\n    idx = 1;\n\n    // find a prefix that is not mapped yet\n    while (namespaces.uriByPrefix(newPrefix)) {\n      newPrefix = prefix + '_' + idx++;\n    }\n\n    ns = this.logNamespace({ prefix: newPrefix, uri: uri }, wellknownUri === uri);\n  }\n\n  if (prefix) {\n    namespaces.mapPrefix(prefix, uri);\n  }\n\n  return ns;\n};\n\nElementSerializer.prototype.parseAttributes = function(properties) {\n  var self = this,\n      element = this.element;\n\n  forEach(properties, function(p) {\n\n    var value = element.get(p.name);\n\n    if (p.isReference) {\n\n      if (!p.isMany) {\n        value = value.id;\n      }\n      else {\n        var values = [];\n        forEach(value, function(v) {\n          values.push(v.id);\n        });\n        // IDREFS is a whitespace-separated list of references.\n        value = values.join(' ');\n      }\n\n    }\n\n    self.addAttribute(self.nsAttributeName(p), value);\n  });\n};\n\nElementSerializer.prototype.addTagName = function(nsTagName) {\n  var actualNs = this.logNamespaceUsed(nsTagName);\n\n  this.getNamespaces().logUsed(actualNs);\n\n  return nsName(nsTagName);\n};\n\nElementSerializer.prototype.addAttribute = function(name, value) {\n  var attrs = this.attrs;\n\n  if (isString(value)) {\n    value = escapeAttr(value);\n  }\n\n  attrs.push({ name: name, value: value });\n};\n\nElementSerializer.prototype.serializeAttributes = function(writer) {\n  var attrs = this.attrs,\n      namespaces = this.namespaces;\n\n  if (namespaces) {\n    attrs = getNsAttrs(namespaces).concat(attrs);\n  }\n\n  forEach(attrs, function(a) {\n    writer\n      .append(' ')\n      .append(nsName(a.name)).append('=\"').append(a.value).append('\"');\n  });\n};\n\nElementSerializer.prototype.serializeTo = function(writer) {\n  var firstBody = this.body[0],\n      indent = firstBody && firstBody.constructor !== BodySerializer;\n\n  writer\n    .appendIndent()\n    .append('<' + this.tagName);\n\n  this.serializeAttributes(writer);\n\n  writer.append(firstBody ? '>' : ' />');\n\n  if (firstBody) {\n\n    if (indent) {\n      writer\n        .appendNewLine()\n        .indent();\n    }\n\n    forEach(this.body, function(b) {\n      b.serializeTo(writer);\n    });\n\n    if (indent) {\n      writer\n        .unindent()\n        .appendIndent();\n    }\n\n    writer.append('</' + this.tagName + '>');\n  }\n\n  writer.appendNewLine();\n};\n\n/**\n * A serializer for types that handles serialization of data types\n */\nfunction TypeSerializer(parent, propertyDescriptor) {\n  ElementSerializer.call(this, parent, propertyDescriptor);\n}\n\ninherits(TypeSerializer, ElementSerializer);\n\nTypeSerializer.prototype.parseNsAttributes = function(element) {\n\n  // extracted attributes\n  var attributes = ElementSerializer.prototype.parseNsAttributes.call(this, element);\n\n  var descriptor = element.$descriptor;\n\n  // only serialize xsi:type if necessary\n  if (descriptor.name === this.propertyDescriptor.type) {\n    return attributes;\n  }\n\n  var typeNs = this.typeNs = this.nsTagName(descriptor);\n  this.getNamespaces().logUsed(this.typeNs);\n\n  // add xsi:type attribute to represent the elements\n  // actual type\n\n  var pkg = element.$model.getPackage(typeNs.uri),\n      typePrefix = (pkg.xml && pkg.xml.typePrefix) || '';\n\n  this.addAttribute(\n    this.nsAttributeName(XSI_TYPE),\n    (typeNs.prefix ? typeNs.prefix + ':' : '') + typePrefix + descriptor.ns.localName\n  );\n\n  return attributes;\n};\n\nTypeSerializer.prototype.isLocalNs = function(ns) {\n  return ns.uri === (this.typeNs || this.ns).uri;\n};\n\nfunction SavingWriter() {\n  this.value = '';\n\n  this.write = function(str) {\n    this.value += str;\n  };\n}\n\nfunction FormatingWriter(out, format) {\n\n  var indent = [''];\n\n  this.append = function(str) {\n    out.write(str);\n\n    return this;\n  };\n\n  this.appendNewLine = function() {\n    if (format) {\n      out.write('\\n');\n    }\n\n    return this;\n  };\n\n  this.appendIndent = function() {\n    if (format) {\n      out.write(indent.join('  '));\n    }\n\n    return this;\n  };\n\n  this.indent = function() {\n    indent.push('');\n    return this;\n  };\n\n  this.unindent = function() {\n    indent.pop();\n    return this;\n  };\n}\n\n/**\n * A writer for meta-model backed document trees\n *\n * @param {Object} options output options to pass into the writer\n */\nfunction Writer(options) {\n\n  options = assign({ format: false, preamble: true }, options || {});\n\n  function toXML(tree, writer) {\n    var internalWriter = writer || new SavingWriter();\n    var formatingWriter = new FormatingWriter(internalWriter, options.format);\n\n    if (options.preamble) {\n      formatingWriter.append(XML_PREAMBLE);\n    }\n\n    new ElementSerializer().build(tree).serializeTo(formatingWriter);\n\n    if (!writer) {\n      return internalWriter.value;\n    }\n  }\n\n  return {\n    toXML: toXML\n  };\n}\n\nexport { Reader, Writer };\n","import { isString, isFunction, assign } from 'min-dash';\nimport { Moddle } from 'moddle';\nimport { Reader, Writer } from 'moddle-xml';\n\n/**\n * A sub class of {@link Moddle} with support for import and export of DMN xml files.\n *\n * @class DmnModdle\n * @extends Moddle\n *\n * @param {Object|Array} packages to use for instantiating the model\n * @param {Object} [options] additional options to pass over\n */\nfunction DmnModdle(packages, options) {\n  Moddle.call(this, packages, options);\n}\n\nDmnModdle.prototype = Object.create(Moddle.prototype);\n\n\n/**\n * Instantiates a DMN model tree from a given xml string.\n *\n * @param {String}   xmlStr\n * @param {String}   [typeName='dmn:Definitions'] name of the root element\n * @param {Object}   [options]  options to pass to the underlying reader\n * @param {Function} done       callback that is invoked with (err, result, parseContext)\n *                              once the import completes\n */\nDmnModdle.prototype.fromXML = function(xmlStr, typeName, options, done) {\n\n  if (!isString(typeName)) {\n    done = options;\n    options = typeName;\n    typeName = 'dmn:Definitions';\n  }\n\n  if (isFunction(options)) {\n    done = options;\n    options = {};\n  }\n\n  var reader = new Reader(assign({ model: this, lax: true }, options));\n  var rootHandler = reader.handler(typeName);\n\n  reader.fromXML(xmlStr, rootHandler, done);\n};\n\n\n/**\n * Serializes a DMN object tree to XML.\n *\n * @param {String}   element    the root element, typically an instance of `Definitions`\n * @param {Object}   [options]  to pass to the underlying writer\n * @param {Function} done       callback invoked with (err, xmlStr) once the import completes\n */\nDmnModdle.prototype.toXML = function(element, options, done) {\n\n  if (isFunction(options)) {\n    done = options;\n    options = {};\n  }\n\n  var writer = new Writer(options);\n\n  var result;\n  var err;\n\n  try {\n    result = writer.toXML(element);\n  } catch (e) {\n    err = e;\n  }\n\n  return done(err, result);\n};\n\nvar name = \"DC\";\nvar prefix = \"dc\";\nvar uri = \"http://www.omg.org/spec/DMN/20180521/DC/\";\nvar types = [\n\t{\n\t\tname: \"Dimension\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"height\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Bounds\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"height\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"x\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"y\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Point\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"x\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"y\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Color\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"red\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"green\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"blue\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations = [\n];\nvar enumerations = [\n\t{\n\t\tname: \"AlignmentKind\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"center\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"end\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar DcPackage = {\n\tname: name,\n\tprefix: prefix,\n\turi: uri,\n\ttypes: types,\n\tassociations: associations,\n\tenumerations: enumerations\n};\n\nvar name$1 = \"DI\";\nvar prefix$1 = \"di\";\nvar uri$1 = \"http://www.omg.org/spec/DMN/20180521/DI/\";\nvar types$1 = [\n\t{\n\t\tname: \"DiagramElement\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"style\",\n\t\t\t\tisReference: true,\n\t\t\t\ttype: \"Style\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\tisReference: true,\n\t\t\t\tisVirtual: true,\n\t\t\t\ttype: \"Style\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Diagram\",\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"documentation\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"resolution\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Shape\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"bounds\",\n\t\t\t\ttype: \"dc:Bounds\"\n\t\t\t}\n\t\t],\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Edge\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"waypoint\",\n\t\t\t\ttype: \"dc:Point\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Style\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations$1 = [\n];\nvar enumerations$1 = [\n];\nvar xml = {\n\ttagAlias: \"lowerCase\"\n};\nvar DiPackage = {\n\tname: name$1,\n\tprefix: prefix$1,\n\turi: uri$1,\n\ttypes: types$1,\n\tassociations: associations$1,\n\tenumerations: enumerations$1,\n\txml: xml\n};\n\nvar name$2 = \"DMN\";\nvar prefix$2 = \"dmn\";\nvar uri$2 = \"https://www.omg.org/spec/DMN/20191111/MODEL/\";\nvar types$2 = [\n\t{\n\t\tname: \"AuthorityRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredAuthority\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredInput\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ItemDefinition\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"allowedValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"itemComponent\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionItem\",\n\t\t\t\ttype: \"FunctionItem\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"isCollection\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Definitions\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"import\",\n\t\t\t\ttype: \"Import\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"itemDefinition\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"drgElement\",\n\t\t\t\ttype: \"DRGElement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"artifact\",\n\t\t\t\ttype: \"Artifact\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"elementCollection\",\n\t\t\t\ttype: \"ElementCollection\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"businessContextElement\",\n\t\t\t\ttype: \"BusinessContextElement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"namespace\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"exporter\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"exporterVersion\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"dmnDI\",\n\t\t\t\ttype: \"dmndi:DMNDI\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"KnowledgeSource\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"type\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"owner\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"locationURI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionRule\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"inputEntry\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputEntry\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"annotationEntry\",\n\t\t\t\ttype: \"RuleAnnotation\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Expression\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InformationItem\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Decision\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"question\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"allowedAnswers\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"informationRequirement\",\n\t\t\t\ttype: \"InformationRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"knowledgeRequirement\",\n\t\t\t\ttype: \"KnowledgeRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"supportedObjective\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"impactedPerformanceIndicator\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionMaker\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionOwner\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"usingProcess\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"usingTask\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionLogic\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Invocation\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"calledFunction\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"binding\",\n\t\t\t\ttype: \"Binding\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OrganisationalUnit\",\n\t\tsuperClass: [\n\t\t\t\"BusinessContextElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"decisionMade\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionOwned\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Import\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"importType\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"locationURI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"namespace\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InformationRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredInput\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ElementCollection\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"drgElement\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DRGElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t]\n\t},\n\t{\n\t\tname: \"InputData\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNElement\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"description\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"extensionElements\",\n\t\t\t\ttype: \"ExtensionElements\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"extensionAttribute\",\n\t\t\t\ttype: \"ExtensionAttribute\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"label\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InputClause\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"inputExpression\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionTable\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"input\",\n\t\t\t\ttype: \"InputClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"output\",\n\t\t\t\ttype: \"OutputClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"annotation\",\n\t\t\t\ttype: \"RuleAnnotationClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"rule\",\n\t\t\t\ttype: \"DecisionRule\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"hitPolicy\",\n\t\t\t\ttype: \"HitPolicy\",\n\t\t\t\tisAttr: true,\n\t\t\t\t\"default\": \"UNIQUE\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"aggregation\",\n\t\t\t\ttype: \"BuiltinAggregator\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"preferredOrientation\",\n\t\t\t\ttype: \"DecisionTableOrientation\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputLabel\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"LiteralExpression\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"importedValues\",\n\t\t\t\ttype: \"ImportedValues\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Binding\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"parameter\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"bindingFormula\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"KnowledgeRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredKnowledge\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BusinessKnowledgeModel\",\n\t\tsuperClass: [\n\t\t\t\"Invocable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"encapsulatedLogic\",\n\t\t\t\ttype: \"FunctionDefinition\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"knowledgeRequirement\",\n\t\t\t\ttype: \"KnowledgeRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BusinessContextElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"URI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"PerformanceIndicator\",\n\t\tsuperClass: [\n\t\t\t\"BusinessContextElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"impactingDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionDefinition\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"formalParameter\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"body\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"kind\",\n\t\t\t\ttype: \"FunctionKind\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Context\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"contextEntry\",\n\t\t\t\ttype: \"ContextEntry\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ContextEntry\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"value\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"List\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"elements\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Relation\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"column\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"row\",\n\t\t\t\ttype: \"List\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OutputClause\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"outputValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"defaultOutputEntry\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"UnaryTests\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"NamedElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ImportedValues\",\n\t\tsuperClass: [\n\t\t\t\"Import\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"importedElement\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionService\",\n\t\tsuperClass: [\n\t\t\t\"Invocable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"outputDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"encapsulatedDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputData\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ExtensionElements\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"values\",\n\t\t\t\ttype: \"Element\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ExtensionAttribute\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"value\",\n\t\t\t\ttype: \"Element\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"valueRef\",\n\t\t\t\ttype: \"Element\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Element\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"extensionAttribute\",\n\t\t\t\ttype: \"ExtensionAttribute\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"elements\",\n\t\t\t\ttype: \"ExtensionElements\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Artifact\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t]\n\t},\n\t{\n\t\tname: \"Association\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"sourceRef\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"targetRef\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"associationDirection\",\n\t\t\t\ttype: \"AssociationDirection\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"TextAnnotation\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"textFormat\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\",\n\t\t\t\t\"default\": \"text/plain\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"RuleAnnotationClause\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"RuleAnnotation\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Invocable\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Group\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionItem\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"parameters\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputTypeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNElementReference\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tisAttr: true,\n\t\t\t\tname: \"href\",\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar enumerations$2 = [\n\t{\n\t\tname: \"HitPolicy\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"UNIQUE\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"FIRST\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"PRIORITY\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"ANY\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"COLLECT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"RULE ORDER\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"OUTPUT ORDER\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BuiltinAggregator\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"SUM\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"COUNT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"MIN\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"MAX\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionTableOrientation\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"Rule-as-Row\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Rule-as-Column\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"CrossTable\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"AssociationDirection\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"None\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"One\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Both\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionKind\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"FEEL\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Java\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"PMML\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations$2 = [\n];\nvar xml$1 = {\n\ttagAlias: \"lowerCase\"\n};\nvar DmnPackage = {\n\tname: name$2,\n\tprefix: prefix$2,\n\turi: uri$2,\n\ttypes: types$2,\n\tenumerations: enumerations$2,\n\tassociations: associations$2,\n\txml: xml$1\n};\n\nvar name$3 = \"DMNDI\";\nvar prefix$3 = \"dmndi\";\nvar uri$3 = \"https://www.omg.org/spec/DMN/20191111/DMNDI/\";\nvar types$3 = [\n\t{\n\t\tname: \"DMNDI\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"diagrams\",\n\t\t\t\ttype: \"DMNDiagram\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"styles\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNStyle\",\n\t\tsuperClass: [\n\t\t\t\"di:Style\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"fillColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"strokeColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontSize\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontFamily\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontItalic\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontBold\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontUnderline\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontStrikeThrough\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"labelHorizontalAlignment\",\n\t\t\t\ttype: \"dc:AlignmentKind\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"labelVerticalAlignment\",\n\t\t\t\ttype: \"dc:AlignmentKind\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDiagram\",\n\t\tsuperClass: [\n\t\t\t\"di:Diagram\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"dmnElementRef\",\n\t\t\t\ttype: \"dmn:DMNElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"size\",\n\t\t\t\ttype: \"Size\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"localStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true,\n\t\t\t\tredefines: \"di:DiagramElement#sharedStyle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"diagramElements\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDiagramElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"di:DiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"dmnElementRef\",\n\t\t\t\ttype: \"dmn:DMNElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true,\n\t\t\t\tredefines: \"di:DiagramElement#sharedStyle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"localStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"label\",\n\t\t\t\ttype: \"DMNLabel\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNLabel\",\n\t\tsuperClass: [\n\t\t\t\"di:Shape\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"Text\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNShape\",\n\t\tsuperClass: [\n\t\t\t\"di:Shape\",\n\t\t\t\"DMNDiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"isListedInputData\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionServiceDividerLine\",\n\t\t\t\ttype: \"DMNDecisionServiceDividerLine\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"isCollapsed\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNEdge\",\n\t\tsuperClass: [\n\t\t\t\"di:Edge\",\n\t\t\t\"DMNDiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"sourceElement\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"targetElement\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDecisionServiceDividerLine\",\n\t\tsuperClass: [\n\t\t\t\"di:Edge\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Text\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\tisBody: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Size\",\n\t\tsuperClass: [\n\t\t\t\"dc:Dimension\"\n\t\t]\n\t}\n];\nvar associations$3 = [\n];\nvar enumerations$3 = [\n];\nvar DmnDiPackage = {\n\tname: name$3,\n\tprefix: prefix$3,\n\turi: uri$3,\n\ttypes: types$3,\n\tassociations: associations$3,\n\tenumerations: enumerations$3\n};\n\nvar name$4 = \"bpmn.io DI for DMN\";\nvar uri$4 = \"http://bpmn.io/schema/dmn/biodi/2.0\";\nvar prefix$4 = \"biodi\";\nvar xml$2 = {\n\ttagAlias: \"lowerCase\"\n};\nvar types$4 = [\n\t{\n\t\tname: \"DecisionTable\",\n\t\tisAbstract: true,\n\t\t\"extends\": [\n\t\t\t\"dmn:DecisionTable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"annotationsWidth\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Integer\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OutputClause\",\n\t\tisAbstract: true,\n\t\t\"extends\": [\n\t\t\t\"dmn:OutputClause\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Integer\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InputClause\",\n\t\tisAbstract: true,\n\t\t\"extends\": [\n\t\t\t\"dmn:InputClause\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Integer\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar BioDiPackage = {\n\tname: name$4,\n\turi: uri$4,\n\tprefix: prefix$4,\n\txml: xml$2,\n\ttypes: types$4\n};\n\nvar packages = {\n  dc: DcPackage,\n  di: DiPackage,\n  dmn: DmnPackage,\n  dmndi: DmnDiPackage,\n  biodi: BioDiPackage\n};\n\nfunction simple(additionalPackages, options) {\n  var pks = assign({}, packages, additionalPackages);\n\n  return new DmnModdle(pks, options);\n}\n\nexport default simple;\n","module.exports={name:\"Camunda\",uri:\"http://camunda.org/schema/1.0/dmn\",prefix:\"camunda\",xml:{tagAlias:\"lowerCase\"},associations:[],types:[{name:\"Decision\",isAbstract:!0,extends:[\"dmn:Decision\"],properties:[{name:\"versionTag\",isAttr:!0,type:\"String\"},{name:\"historyTimeToLive\",isAttr:!0,type:\"String\"}]},{name:\"InputClause\",extends:[\"dmn:InputClause\"],properties:[{name:\"inputVariable\",isAttr:!0,type:\"String\"}]}],emumerations:[]};","/**\n * Set attribute `name` to `val`, or get attr `name`.\n *\n * @param {Element} el\n * @param {String} name\n * @param {String} [val]\n * @api public\n */\nfunction attr(el, name, val) {\n  // get\n  if (arguments.length == 2) {\n    return el.getAttribute(name);\n  }\n\n  // remove\n  if (val === null) {\n    return el.removeAttribute(name);\n  }\n\n  // set\n  el.setAttribute(name, val);\n\n  return el;\n}\n\nvar indexOf = [].indexOf;\n\nvar indexof = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n\n/**\n * Taken from https://github.com/component/classes\n *\n * Without the component bits.\n */\n\n/**\n * Whitespace regexp.\n */\n\nvar re = /\\s+/;\n\n/**\n * toString reference.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nfunction classes(el) {\n  return new ClassList(el);\n}\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n  this.el = el;\n  this.list = el.classList;\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function (name) {\n  // classList\n  if (this.list) {\n    this.list.add(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = indexof(arr, name);\n  if (!~i) arr.push(name);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function (name) {\n  if ('[object RegExp]' == toString.call(name)) {\n    return this.removeMatching(name);\n  }\n\n  // classList\n  if (this.list) {\n    this.list.remove(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = indexof(arr, name);\n  if (~i) arr.splice(i, 1);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove all classes matching `re`.\n *\n * @param {RegExp} re\n * @return {ClassList}\n * @api private\n */\n\nClassList.prototype.removeMatching = function (re) {\n  var arr = this.array();\n  for (var i = 0; i < arr.length; i++) {\n    if (re.test(arr[i])) {\n      this.remove(arr[i]);\n    }\n  }\n  return this;\n};\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function (name, force) {\n  // classList\n  if (this.list) {\n    if ('undefined' !== typeof force) {\n      if (force !== this.list.toggle(name, force)) {\n        this.list.toggle(name); // toggle again to correct\n      }\n    } else {\n      this.list.toggle(name);\n    }\n    return this;\n  }\n\n  // fallback\n  if ('undefined' !== typeof force) {\n    if (!force) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  } else {\n    if (this.has(name)) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function () {\n  var className = this.el.getAttribute('class') || '';\n  var str = className.replace(/^\\s+|\\s+$/g, '');\n  var arr = str.split(re);\n  if ('' === arr[0]) arr.shift();\n  return arr;\n};\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has = ClassList.prototype.contains = function (name) {\n  return this.list ? this.list.contains(name) : !!~indexof(this.array(), name);\n};\n\n/**\n * Remove all children from the given element.\n */\nfunction clear(el) {\n\n  var c;\n\n  while (el.childNodes.length) {\n    c = el.childNodes[0];\n    el.removeChild(c);\n  }\n\n  return el;\n}\n\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nvar matchesSelector = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}\n\nvar closest = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode;\r\n\r\n  while (parent && parent !== document) {\r\n    if (matchesSelector(parent, selector)) return parent;\r\n    parent = parent.parentNode;\r\n  }\r\n};\n\nvar bind = window.addEventListener ? 'addEventListener' : 'attachEvent',\n    unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent',\n    prefix = bind !== 'addEventListener' ? 'on' : '';\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar bind_1 = function(el, type, fn, capture){\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar unbind_1 = function(el, type, fn, capture){\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};\n\nvar componentEvent = {\n\tbind: bind_1,\n\tunbind: unbind_1\n};\n\n/**\n * Module dependencies.\n */\n\n\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = ['focus', 'blur'];\n\nvar bind$1 = function(el, selector, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  return componentEvent.bind(el, type, function(e){\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true, el);\n    if (e.delegateTarget) fn.call(el, e);\n  }, capture);\n};\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\n\nvar unbind$1 = function(el, type, fn, capture){\n  if (forceCaptureEvents.indexOf(type) !== -1) capture = true;\n\n  componentEvent.unbind(el, type, fn, capture);\n};\n\nvar delegateEvents = {\n\tbind: bind$1,\n\tunbind: unbind$1\n};\n\n/**\n * Expose `parse`.\n */\n\nvar domify = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = map[tag] || map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n\nvar proto$1 = typeof Element !== 'undefined' ? Element.prototype : {};\nvar vendor$1 = proto$1.matches\n  || proto$1.matchesSelector\n  || proto$1.webkitMatchesSelector\n  || proto$1.mozMatchesSelector\n  || proto$1.msMatchesSelector\n  || proto$1.oMatchesSelector;\n\nvar matchesSelector$1 = match$1;\n\n/**\n * Match `el` to `selector`.\n *\n * @param {Element} el\n * @param {String} selector\n * @return {Boolean}\n * @api public\n */\n\nfunction match$1(el, selector) {\n  if (!el || el.nodeType !== 1) return false;\n  if (vendor$1) return vendor$1.call(el, selector);\n  var nodes = el.parentNode.querySelectorAll(selector);\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i] == el) return true;\n  }\n  return false;\n}\n\nfunction query(selector, el) {\n  el = el || document;\n\n  return el.querySelector(selector);\n}\n\nfunction all(selector, el) {\n  el = el || document;\n\n  return el.querySelectorAll(selector);\n}\n\nfunction remove(el) {\n  el.parentNode && el.parentNode.removeChild(el);\n}\n\nexport { attr, classes, clear, closest, delegateEvents as delegate, domify, componentEvent as event, matchesSelector$1 as matches, query, all as queryAll, remove };\n","import EventBus from 'diagram-js/lib/core/EventBus';\n\nimport DmnModdle from 'dmn-moddle';\n\nimport CamundaModdle from 'camunda-dmn-moddle/resources/camunda.json';\n\nimport {\n  domify,\n  query as domQuery,\n  remove as domRemove\n} from 'min-dom';\n\nimport {\n  assign,\n  debounce,\n  every,\n  find,\n  isDefined,\n  isFunction,\n  isNumber\n} from 'min-dash';\n\n\nconst DEFAULT_CONTAINER_OPTIONS = {\n  width: '100%',\n  height: '100%',\n  position: 'relative'\n};\n\n/**\n * The base class for DMN viewers and editors.\n *\n * @abstract\n */\nexport default class Manager {\n\n  /**\n   * Create a new instance with the given options.\n   *\n   * @param  {Object} options\n   *\n   * @return {Manager}\n   */\n  constructor(options={}) {\n    this._eventBus = new EventBus();\n\n    this._viewsChanged = debounce(this._viewsChanged, 0);\n\n    this._views = [];\n    this._viewers = {};\n\n    this._init(options);\n  }\n\n  /**\n   * Parse and render a DMN diagram.\n   *\n   * Once finished the viewer reports back the result to the\n   * provided callback function with (err, warnings).\n   *\n   * ## Life-Cycle Events\n   *\n   * During import the viewer will fire life-cycle events:\n   *\n   *   * import.parse.start (about to read model from xml)\n   *   * import.parse.complete (model read; may have worked or not)\n   *   * import.render.start (graphical import start)\n   *   * import.render.complete (graphical import finished)\n   *   * import.done (everything done)\n   *\n   * You can use these events to hook into the life-cycle.\n   *\n   * @param {string} xml the DMN xml\n   * @param {Object} [options]\n   * @param {boolean} [options.open=true]\n   * @param {Function} [done] invoked with (err, warnings=[])\n   */\n  importXML(xml, options, done) {\n\n    if (typeof options !== 'object') {\n      done = options;\n      options = { open: true };\n    }\n\n    if (typeof done !== 'function') {\n      done = noop;\n    }\n\n    // hook in pre-parse listeners +\n    // allow xml manipulation\n    xml = this._emit('import.parse.start', { xml: xml }) || xml;\n\n    this._moddle.fromXML(xml, 'dmn:Definitions', (err, definitions, context) => {\n\n      // hook in post parse listeners +\n      // allow definitions manipulation\n      definitions = this._emit('import.parse.complete', {\n        error: err,\n        definitions: definitions,\n        context: context\n      }) || definitions;\n\n      var parseWarnings = context.warnings;\n\n      this._setDefinitions(definitions);\n\n      if (err) {\n        err = checkDMNCompatibilityError(err, xml) || checkValidationError(err) || err;\n      }\n\n      if (err || !options.open) {\n        this._emit('import.done', { error: err, warmings: parseWarnings });\n\n        return done(err, parseWarnings);\n      }\n\n      var view = this._activeView || this._getInitialView(this._views);\n\n      if (!view) {\n        return done(new Error('no displayable contents'));\n      }\n\n      this.open(view, (err, warnings) => {\n\n        var allWarnings = [].concat(parseWarnings, warnings || []);\n\n        this._emit('import.done', { error: err, warnings: allWarnings });\n\n        done(err, allWarnings);\n      });\n    });\n  }\n\n  getDefinitions() {\n    return this._definitions;\n  }\n\n  /**\n   * Return active view.\n   *\n   * @return {View}\n   */\n  getActiveView() {\n    return this._activeView;\n  }\n\n  /**\n   * Get the currently active viewer instance.\n   *\n   * @return {View}\n   */\n  getActiveViewer() {\n    var activeView = this.getActiveView();\n\n    return activeView && this._getViewer(activeView);\n  }\n\n  getView(element) {\n    return this._views.filter(function(v) {\n      return v.element === element;\n    })[0];\n  }\n\n  getViews() {\n    return this._views;\n  }\n\n  /**\n   * Export the currently displayed DMN diagram as\n   * a DMN XML document.\n   *\n   * ## Life-Cycle Events\n   *\n   * During XML saving the viewer will fire life-cycle events:\n   *\n   *   * saveXML.start (before serialization)\n   *   * saveXML.serialized (after xml generation)\n   *   * saveXML.done (everything done)\n   *\n   * You can use these events to hook into the life-cycle.\n   *\n   * @param {Object} [options] export options\n   * @param {boolean} [options.format=false] output formated XML\n   * @param {boolean} [options.preamble=true] output preamble\n   * @param {Function} done invoked with (err, xml)\n   */\n  saveXML(options, done) {\n\n    if (typeof options === 'function') {\n      done = options;\n      options = {};\n    }\n\n    var definitions = this._definitions;\n\n    if (!definitions) {\n      return done(new Error('no definitions loaded'));\n    }\n\n    // allow to fiddle around with definitions\n    definitions = this._emit('saveXML.start', {\n      definitions: definitions\n    }) || definitions;\n\n    this._moddle.toXML(definitions, options, (err, xml) => {\n\n      try {\n        xml = this._emit('saveXML.serialized', {\n          error: err,\n          xml: xml\n        }) || xml;\n\n        this._emit('saveXML.done', {\n          error: err,\n          xml: xml\n        });\n      } catch (e) {\n        console.error('error in saveXML life-cycle listener', e);\n      }\n\n      done(err, xml);\n    });\n  }\n\n  /**\n   * Register an event listener\n   *\n   * Remove a previously added listener via {@link #off(event, callback)}.\n   *\n   * @param {string} event\n   * @param {number} [priority]\n   * @param {Function} callback\n   * @param {Object} [that]\n   */\n  on(...args) {\n    this._eventBus.on(...args);\n  }\n\n  /**\n   * De-register an event listener\n   *\n   * @param {string} event\n   * @param {Function} callback\n   */\n  off(...args) {\n    this._eventBus.off(...args);\n  }\n\n  /**\n   * Register a listener to be invoked once only.\n   *\n   * @param {string} event\n   * @param {number} [priority]\n   * @param {Function} callback\n   * @param {Object} [that]\n   */\n  once(...args) {\n    this._eventBus.once(...args);\n  }\n\n  attachTo(parentNode) {\n\n    // unwrap jQuery if provided\n    if (parentNode.get && parentNode.constructor.prototype.jquery) {\n      parentNode = parentNode.get(0);\n    }\n\n    if (typeof parentNode === 'string') {\n      parentNode = domQuery(parentNode);\n    }\n\n    parentNode.appendChild(this._container);\n\n    this._emit('attach', {});\n  }\n\n  detach() {\n    this._emit('detach', {});\n\n    domRemove(this._container);\n  }\n\n  destroy() {\n    Object.keys(this._viewers).forEach((viewerId) => {\n      var viewer = this._viewers[viewerId];\n\n      safeExecute(viewer, 'destroy');\n    });\n\n    domRemove(this._container);\n  }\n\n  _init(options) {\n    this._options = options;\n\n    this._moddle = this._createModdle(options);\n\n    this._viewers = {};\n    this._views = [];\n\n    const container = domify('<div class=\"dmn-js-parent\"></div>');\n\n    const containerOptions = assign({}, DEFAULT_CONTAINER_OPTIONS, options);\n\n    assign(container.style, {\n      width: ensureUnit(containerOptions.width),\n      height: ensureUnit(containerOptions.height),\n      position: containerOptions.position\n    });\n\n    this._container = container;\n\n    if (options.container) {\n      this.attachTo(options.container);\n    }\n  }\n\n  /**\n   * Open diagram element.\n   *\n   * @param  {ModdleElement}   element\n   * @param  {Function} [done]\n   */\n  open(view, done=noop) {\n    this._switchView(view, done);\n  }\n\n  _setDefinitions(definitions) {\n    this._definitions = definitions;\n\n    this._updateViews();\n  }\n\n  _viewsChanged = () => {\n    this._emit('views.changed', {\n      views: this._views,\n      activeView: this._activeView\n    });\n  }\n\n  /**\n   * Recompute changed views after elements in\n   * the DMN diagram have changed.\n   */\n  _updateViews() {\n\n    var definitions = this._definitions;\n\n    if (!definitions) {\n      this._views = [];\n      this._switchView(null);\n\n      return;\n    }\n\n    var viewProviders = this._getViewProviders();\n\n    var displayableElements = [ definitions, ...(definitions.drgElement || []) ];\n\n    // compute list of available views\n    var views = this._views,\n        newViews = [];\n\n    for (var element of displayableElements) {\n      var provider = find(viewProviders, function(provider) {\n        if (typeof provider.opens === 'string') {\n          return provider.opens === element.$type;\n        } else {\n          return provider.opens(element);\n        }\n      });\n\n      if (!provider) {\n        continue;\n      }\n\n      var view = {\n        element,\n        id: element.id,\n        name: element.name,\n        type: provider.id\n      };\n\n      newViews.push(view);\n    }\n\n    var activeView = this._activeView,\n        newActiveView;\n\n    if (activeView) {\n\n      // check the new active view\n      newActiveView = find(newViews, function(view) {\n        return viewsEqual(activeView, view);\n      }) || this._getInitialView(newViews);\n\n      if (!newActiveView) {\n        return this._switchView(null);\n      }\n    }\n\n    // Views have changed if\n    // active view has changed OR\n    // number of views has changed OR\n    // not all views equal\n    var activeViewChanged = !viewsEqual(activeView, newActiveView)\n      || viewNameChanged(activeView, newActiveView);\n\n    var viewsChanged = views.length !== newViews.length\n        || !every(newViews, function(newView) {\n          return find(views, function(view) {\n            return viewsEqual(view, newView) && !viewNameChanged(view, newView);\n          });\n        });\n\n    this._activeView = newActiveView;\n    this._views = newViews;\n\n    if (activeViewChanged || viewsChanged) {\n      this._viewsChanged();\n    }\n  }\n\n  _getInitialView(views) {\n    return views[0];\n  }\n\n  /**\n   * Switch to another view.\n   *\n   * @param  {View} newView\n   * @param  {Function} [done]\n   */\n  _switchView(newView, done=noop) {\n\n    var complete = (err, warnings) => {\n      this._viewsChanged();\n\n      done(err, warnings);\n    };\n\n    var activeView = this.getActiveView(),\n        activeViewer;\n\n    var newViewer = newView && this._getViewer(newView),\n        element = newView && newView.element;\n\n    if (activeView) {\n      activeViewer = this._getViewer(activeView);\n\n      if (activeViewer !== newViewer) {\n        safeExecute(activeViewer, 'clear');\n\n        activeViewer.detach();\n      }\n    }\n\n    this._activeView = newView;\n\n    if (newViewer) {\n\n      if (activeViewer !== newViewer) {\n        newViewer.attachTo(this._container);\n      }\n\n      this._emit('import.render.start', {\n        view: newView,\n        element: element\n      });\n\n      return newViewer.open(element, (err, warnings) => {\n\n        this._emit('import.render.complete', {\n          view: newView,\n          error: err,\n          warnings: warnings\n        });\n\n        complete(err, warnings);\n      });\n    }\n\n    // no active view\n    complete();\n  }\n\n  _getViewer(view) {\n\n    var type = view.type;\n\n    var viewer = this._viewers[type];\n\n    if (!viewer) {\n      viewer = this._viewers[type] = this._createViewer(view.type);\n\n      this._emit('viewer.created', {\n        type: type,\n        viewer: viewer\n      });\n    }\n\n    return viewer;\n  }\n\n  _createViewer(id) {\n\n    var provider = find(this._getViewProviders(), function(provider) {\n      return provider.id === id;\n    });\n\n    if (!provider) {\n      throw new Error('no provider for view type <' + id + '>');\n    }\n\n    var Viewer = provider.constructor;\n\n    var providerOptions = this._options[id] || {};\n    var commonOptions = this._options.common || {};\n\n    return new Viewer({\n      ...commonOptions,\n      ...providerOptions,\n      additionalModules: [\n        ...(providerOptions.additionalModules || []), {\n          _parent: [ 'value', this ],\n          moddle: [ 'value', this._moddle ]\n        }\n      ]\n    });\n  }\n\n  /**\n   * Emit an event.\n   */\n  _emit(...args) {\n    return this._eventBus.fire(...args);\n  }\n\n  _createModdle(options) {\n    return new DmnModdle(assign({\n      camunda: CamundaModdle\n    }, options.moddleExtensions));\n  }\n\n  /**\n   * Return the list of available view providers.\n   *\n   * @abstract\n   *\n   * @return {Array<ViewProvider>}\n   */\n  _getViewProviders() {\n    return [];\n  }\n\n}\n\n\n// helpers //////////////////////\n\nfunction noop() {}\n\n/**\n * Ensure the passed argument is a proper unit (defaulting to px)\n */\nfunction ensureUnit(val) {\n  return val + (isNumber(val) ? 'px' : '');\n}\n\nfunction checkDMNCompatibilityError(err, xml) {\n\n  // check if we can indicate opening of old DMN 1.1 or DMN 1.2 diagrams\n\n  if (err.message !== 'failed to parse document as <dmn:Definitions>') {\n    return null;\n  }\n\n  var olderDMNVersion = (\n    (xml.indexOf('\"http://www.omg.org/spec/DMN/20151101/dmn.xsd\"') !== -1 && '1.1') ||\n    (xml.indexOf('\"http://www.omg.org/spec/DMN/20180521/MODEL/\"') !== -1 && '1.2')\n  );\n\n  if (!olderDMNVersion) {\n    return null;\n  }\n\n  err = new Error(\n    'unsupported DMN ' + olderDMNVersion + ' file detected; ' +\n    'only DMN 1.3 files can be opened'\n  );\n\n  console.error(\n    'Cannot open what looks like a DMN ' + olderDMNVersion + ' diagram. ' +\n    'Please refer to https://bpmn.io/l/dmn-compatibility.html ' +\n    'to learn how to make the toolkit compatible with older DMN files',\n    err\n  );\n\n  return err;\n}\n\nfunction checkValidationError(err) {\n\n  // check if we can help the user by indicating wrong DMN 1.3 xml\n  // (in case he or the exporting tool did not get that right)\n\n  var pattern = /unparsable content <([^>]+)> detected([\\s\\S]*)$/,\n      match = pattern.exec(err.message);\n\n  if (!match) {\n    return null;\n  }\n\n  err.message =\n    'unparsable content <' + match[ 1 ] + '> detected; ' +\n    'this may indicate an invalid DMN 1.3 diagram file' + match[ 2 ];\n\n  return err;\n}\n\nfunction viewsEqual(a, b) {\n  if (!isDefined(a)) {\n    if (!isDefined(b)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  if (!isDefined(b)) {\n    return false;\n  }\n\n  // compare by element OR element ID equality\n  return a.element === b.element || a.id === b.id;\n}\n\nfunction viewNameChanged(a, b) {\n  return !a || !b || a.name !== b.name;\n}\n\nfunction safeExecute(viewer, method) {\n  if (isFunction(viewer[ method ])) {\n    viewer[ method ]();\n  }\n}\n","var hat = module.exports = function (bits, base) {\n    if (!base) base = 16;\n    if (bits === undefined) bits = 128;\n    if (bits <= 0) return '0';\n    \n    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n    for (var i = 2; digits === Infinity; i *= 2) {\n        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n    }\n    \n    var rem = digits - Math.floor(digits);\n    \n    var res = '';\n    \n    for (var i = 0; i < Math.floor(digits); i++) {\n        var x = Math.floor(Math.random() * base).toString(base);\n        res = x + res;\n    }\n    \n    if (rem) {\n        var b = Math.pow(base, rem);\n        var x = Math.floor(Math.random() * b).toString(base);\n        res = x + res;\n    }\n    \n    var parsed = parseInt(res, base);\n    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n        return hat(bits, base)\n    }\n    else return res;\n};\n\nhat.rack = function (bits, base, expandBy) {\n    var fn = function (data) {\n        var iters = 0;\n        do {\n            if (iters ++ > 10) {\n                if (expandBy) bits += expandBy;\n                else throw new Error('too many ID collisions, use more bits')\n            }\n            \n            var id = hat(bits, base);\n        } while (Object.hasOwnProperty.call(hats, id));\n        \n        hats[id] = data;\n        return id;\n    };\n    var hats = fn.hats = {};\n    \n    fn.get = function (id) {\n        return fn.hats[id];\n    };\n    \n    fn.set = function (id, value) {\n        fn.hats[id] = value;\n        return fn;\n    };\n    \n    fn.bits = bits || 128;\n    fn.base = base || 16;\n    return fn;\n};\n","'use strict';\n\nvar hat = require('hat');\n\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} seed\n */\nfunction Ids(seed) {\n\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n\n  seed = seed || [ 128, 36, 1 ];\n  this._seed = seed.length ? hat.rack(seed[0], seed[1], seed[2]) : seed;\n}\n\nmodule.exports = Ids;\n\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.next = function(element) {\n  return this._seed(element || true);\n};\n\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.nextPrefixed = function(prefix, element) {\n  var id;\n\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id));\n\n  // claim {prefix}{random}\n  this.claim(id, element);\n\n  // return\n  return id;\n};\n\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\nIds.prototype.claim = function(id, element) {\n  this._seed.set(id, element || true);\n};\n\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\nIds.prototype.assigned = function(id) {\n  return this._seed.get(id) || false;\n};\n\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\nIds.prototype.unclaim = function(id) {\n  delete this._seed.hats[id];\n};\n\n\n/**\n * Clear all claimed ids.\n */\nIds.prototype.clear = function() {\n\n  var hats = this._seed.hats,\n      id;\n\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};","import { some } from 'min-dash';\n\n/**\n * Is an element of the given DMN type?\n *\n * @param  {tjs.model.Base|ModdleElement} element\n * @param  {string} type\n *\n * @return {boolean}\n */\nexport function is(element, type) {\n  var bo = getBusinessObject(element);\n\n  return bo && (typeof bo.$instanceOf === 'function') && bo.$instanceOf(type);\n}\n\n\nexport function isInput(element) {\n  return is(element, 'dmn:InputClause');\n}\n\n\nexport function isOutput(element) {\n  return is(element, 'dmn:OutputClause');\n}\n\n\nexport function isRule(element) {\n  return is(element, 'dmn:DecisionRule');\n}\n\n\n/**\n * Return the business object for a given element.\n *\n * @param  {tjs.model.Base|ModdleElement} element\n *\n * @return {ModdleElement}\n */\nexport function getBusinessObject(element) {\n  return (element && element.businessObject) || element;\n}\n\n\nexport function getName(element) {\n  return getBusinessObject(element).name;\n}\n\n\n/**\n * Return true if element has any of the given types.\n *\n * @param {djs.model.Base} element\n * @param {Array<string>} types\n *\n * @return {boolean}\n */\nexport function isAny(element, types) {\n  return some(types, function(t) {\n    return is(element, t);\n  });\n}\n","import Manager from './Manager';\n\nimport Ids from 'ids';\n\nimport { isAny } from '../util/ModelUtil';\n\n\nexport default class EditingManager extends Manager {\n\n  _init(options) {\n\n    super._init(options);\n\n    // hook ID collection into the modeler\n    this.on('import.parse.complete', (event) => {\n      if (!event.error) {\n        this._collectIds(event.definitions, event.context);\n      }\n    });\n\n    this.on('destroy', () => {\n      this._moddle.ids.clear();\n    });\n\n    this.on('viewer.created', ({ viewer }) => {\n\n      viewer.on('elements.changed', ({ elements }) => {\n\n        var viewsChanged = elements.some(function(e) {\n          return isAny(e, [ 'dmn:Decision', 'dmn:Definitions' ]);\n        });\n\n        if (viewsChanged) {\n          this._updateViews();\n        }\n      });\n    });\n  }\n\n  /**\n   * Collect ids processed during parsing of the\n   * definitions object.\n   *\n   * @param {ModdleElement} definitions\n   * @param {Context} context\n   */\n  _collectIds(definitions, context) {\n\n    var moddle = definitions.$model,\n        ids = moddle.ids,\n        id;\n\n    // remove references from previous import\n    ids.clear();\n\n    for (id in context.elementsById) {\n      ids.claim(id, context.elementsById[id]);\n    }\n  }\n\n  _createModdle(options) {\n    var moddle = super._createModdle(options);\n\n    // attach ids to moddle to be able to track\n    // and validated ids in the DMN XML document\n    // tree\n    moddle.ids = new Ids([ 32, 36, 1 ]);\n\n    return moddle;\n  }\n\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var CLASS_PATTERN = /^class /;\n\nfunction isClass(fn) {\n  return CLASS_PATTERN.test(fn.toString());\n}\n\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nfunction annotate() {\n  var args = Array.prototype.slice.call(arguments);\n\n  if (args.length === 1 && isArray(args[0])) {\n    args = args[0];\n  }\n\n  var fn = args.pop();\n\n  fn.$inject = args;\n\n  return fn;\n}\n\n// Current limitations:\n// - can't put into \"function arg\" comments\n// function /* (no parenthesis like this) */ (){}\n// function abc( /* xx (no parenthesis like this) */ a, b) {}\n//\n// Just put the comment before function or inside:\n// /* (((this is fine))) */ function(a, b) {}\n// function abc(a) { /* (((this is fine))) */}\n//\n// - can't reliably auto-annotate constructor; we'll match the\n// first constructor(...) pattern found which may be the one\n// of a nested class, too.\n\nvar CONSTRUCTOR_ARGS = /constructor\\s*[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARGS = /^function\\s*[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARG = /\\/\\*([^*]*)\\*\\//m;\n\nfunction parse(fn) {\n\n  if (typeof fn !== 'function') {\n    throw new Error('Cannot annotate \"' + fn + '\". Expected a function!');\n  }\n\n  var match = fn.toString().match(isClass(fn) ? CONSTRUCTOR_ARGS : FN_ARGS);\n\n  // may parse class without constructor\n  if (!match) {\n    return [];\n  }\n\n  return match[1] && match[1].split(',').map(function (arg) {\n    match = arg.match(FN_ARG);\n    return match ? match[1].trim() : arg.trim();\n  }) || [];\n}\n\nfunction Module() {\n  var providers = [];\n\n  this.factory = function (name, factory) {\n    providers.push([name, 'factory', factory]);\n    return this;\n  };\n\n  this.value = function (name, value) {\n    providers.push([name, 'value', value]);\n    return this;\n  };\n\n  this.type = function (name, type) {\n    providers.push([name, 'type', type]);\n    return this;\n  };\n\n  this.forEach = function (iterator) {\n    providers.forEach(iterator);\n  };\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction Injector(modules, parent) {\n  parent = parent || {\n    get: function get(name, strict) {\n      currentlyResolving.push(name);\n\n      if (strict === false) {\n        return null;\n      } else {\n        throw error('No provider for \"' + name + '\"!');\n      }\n    }\n  };\n\n  var currentlyResolving = [];\n  var providers = this._providers = Object.create(parent._providers || null);\n  var instances = this._instances = Object.create(null);\n\n  var self = instances.injector = this;\n\n  var error = function error(msg) {\n    var stack = currentlyResolving.join(' -> ');\n    currentlyResolving.length = 0;\n    return new Error(stack ? msg + ' (Resolving: ' + stack + ')' : msg);\n  };\n\n  /**\n   * Return a named service.\n   *\n   * @param {String} name\n   * @param {Boolean} [strict=true] if false, resolve missing services to null\n   *\n   * @return {Object}\n   */\n  var get = function get(name, strict) {\n    if (!providers[name] && name.indexOf('.') !== -1) {\n      var parts = name.split('.');\n      var pivot = get(parts.shift());\n\n      while (parts.length) {\n        pivot = pivot[parts.shift()];\n      }\n\n      return pivot;\n    }\n\n    if (hasProp(instances, name)) {\n      return instances[name];\n    }\n\n    if (hasProp(providers, name)) {\n      if (currentlyResolving.indexOf(name) !== -1) {\n        currentlyResolving.push(name);\n        throw error('Cannot resolve circular dependency!');\n      }\n\n      currentlyResolving.push(name);\n      instances[name] = providers[name][0](providers[name][1]);\n      currentlyResolving.pop();\n\n      return instances[name];\n    }\n\n    return parent.get(name, strict);\n  };\n\n  var fnDef = function fnDef(fn) {\n    var locals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (typeof fn !== 'function') {\n      if (isArray(fn)) {\n        fn = annotate(fn.slice());\n      } else {\n        throw new Error('Cannot invoke \"' + fn + '\". Expected a function!');\n      }\n    }\n\n    var inject = fn.$inject || parse(fn);\n    var dependencies = inject.map(function (dep) {\n      if (hasProp(locals, dep)) {\n        return locals[dep];\n      } else {\n        return get(dep);\n      }\n    });\n\n    return {\n      fn: fn,\n      dependencies: dependencies\n    };\n  };\n\n  var instantiate = function instantiate(Type) {\n    var _fnDef = fnDef(Type),\n        dependencies = _fnDef.dependencies,\n        fn = _fnDef.fn;\n\n    return new (Function.prototype.bind.apply(fn, [null].concat(_toConsumableArray(dependencies))))();\n  };\n\n  var invoke = function invoke(func, context, locals) {\n    var _fnDef2 = fnDef(func, locals),\n        dependencies = _fnDef2.dependencies,\n        fn = _fnDef2.fn;\n\n    return fn.call.apply(fn, [context].concat(_toConsumableArray(dependencies)));\n  };\n\n  var createPrivateInjectorFactory = function createPrivateInjectorFactory(privateChildInjector) {\n    return annotate(function (key) {\n      return privateChildInjector.get(key);\n    });\n  };\n\n  var createChild = function createChild(modules, forceNewInstances) {\n    if (forceNewInstances && forceNewInstances.length) {\n      var fromParentModule = Object.create(null);\n      var matchedScopes = Object.create(null);\n\n      var privateInjectorsCache = [];\n      var privateChildInjectors = [];\n      var privateChildFactories = [];\n\n      var provider;\n      var cacheIdx;\n      var privateChildInjector;\n      var privateChildInjectorFactory;\n      for (var name in providers) {\n        provider = providers[name];\n\n        if (forceNewInstances.indexOf(name) !== -1) {\n          if (provider[2] === 'private') {\n            cacheIdx = privateInjectorsCache.indexOf(provider[3]);\n            if (cacheIdx === -1) {\n              privateChildInjector = provider[3].createChild([], forceNewInstances);\n              privateChildInjectorFactory = createPrivateInjectorFactory(privateChildInjector);\n              privateInjectorsCache.push(provider[3]);\n              privateChildInjectors.push(privateChildInjector);\n              privateChildFactories.push(privateChildInjectorFactory);\n              fromParentModule[name] = [privateChildInjectorFactory, name, 'private', privateChildInjector];\n            } else {\n              fromParentModule[name] = [privateChildFactories[cacheIdx], name, 'private', privateChildInjectors[cacheIdx]];\n            }\n          } else {\n            fromParentModule[name] = [provider[2], provider[1]];\n          }\n          matchedScopes[name] = true;\n        }\n\n        if ((provider[2] === 'factory' || provider[2] === 'type') && provider[1].$scope) {\n          /* jshint -W083 */\n          forceNewInstances.forEach(function (scope) {\n            if (provider[1].$scope.indexOf(scope) !== -1) {\n              fromParentModule[name] = [provider[2], provider[1]];\n              matchedScopes[scope] = true;\n            }\n          });\n        }\n      }\n\n      forceNewInstances.forEach(function (scope) {\n        if (!matchedScopes[scope]) {\n          throw new Error('No provider for \"' + scope + '\". Cannot use provider from the parent!');\n        }\n      });\n\n      modules.unshift(fromParentModule);\n    }\n\n    return new Injector(modules, self);\n  };\n\n  var factoryMap = {\n    factory: invoke,\n    type: instantiate,\n    value: function value(_value) {\n      return _value;\n    }\n  };\n\n  modules.forEach(function (module) {\n\n    function arrayUnwrap(type, value) {\n      if (type !== 'value' && isArray(value)) {\n        value = annotate(value.slice());\n      }\n\n      return value;\n    }\n\n    // TODO(vojta): handle wrong inputs (modules)\n    if (module instanceof Module) {\n      module.forEach(function (provider) {\n        var name = provider[0];\n        var type = provider[1];\n        var value = provider[2];\n\n        providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n      });\n    } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object') {\n      if (module.__exports__) {\n        var clonedModule = Object.keys(module).reduce(function (m, key) {\n          if (key.substring(0, 2) !== '__') {\n            m[key] = module[key];\n          }\n          return m;\n        }, Object.create(null));\n\n        var privateInjector = new Injector((module.__modules__ || []).concat([clonedModule]), self);\n        var getFromPrivateInjector = annotate(function (key) {\n          return privateInjector.get(key);\n        });\n        module.__exports__.forEach(function (key) {\n          providers[key] = [getFromPrivateInjector, key, 'private', privateInjector];\n        });\n      } else {\n        Object.keys(module).forEach(function (name) {\n          if (module[name][2] === 'private') {\n            providers[name] = module[name];\n            return;\n          }\n\n          var type = module[name][0];\n          var value = module[name][1];\n\n          providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n        });\n      }\n    }\n  });\n\n  // public API\n  this.get = get;\n  this.invoke = invoke;\n  this.instantiate = instantiate;\n  this.createChild = createChild;\n}\n\n// helpers /////////////////\n\nfunction hasProp(obj, prop) {\n  return Object.hasOwnProperty.call(obj, prop);\n}\n\nexport { annotate, Module, Injector };\n","var DEFAULT_RENDER_PRIORITY = 1000;\n\n/**\n * The base implementation of shape and connection renderers.\n *\n * @param {EventBus} eventBus\n * @param {number} [renderPriority=1000]\n */\nexport default function BaseRenderer(eventBus, renderPriority) {\n  var self = this;\n\n  renderPriority = renderPriority || DEFAULT_RENDER_PRIORITY;\n\n  eventBus.on([ 'render.shape', 'render.connection' ], renderPriority, function(evt, context) {\n    var type = evt.type,\n        element = context.element,\n        visuals = context.gfx;\n\n    if (self.canRender(element)) {\n      if (type === 'render.shape') {\n        return self.drawShape(visuals, element);\n      } else {\n        return self.drawConnection(visuals, element);\n      }\n    }\n  });\n\n  eventBus.on([ 'render.getShapePath', 'render.getConnectionPath'], renderPriority, function(evt, element) {\n    if (self.canRender(element)) {\n      if (evt.type === 'render.getShapePath') {\n        return self.getShapePath(element);\n      } else {\n        return self.getConnectionPath(element);\n      }\n    }\n  });\n}\n\n/**\n * Should check whether *this* renderer can render\n * the element/connection.\n *\n * @param {element} element\n *\n * @returns {boolean}\n */\nBaseRenderer.prototype.canRender = function() {};\n\n/**\n * Provides the shape's snap svg element to be drawn on the `canvas`.\n *\n * @param {djs.Graphics} visuals\n * @param {Shape} shape\n *\n * @returns {Snap.svg} [returns a Snap.svg paper element ]\n */\nBaseRenderer.prototype.drawShape = function() {};\n\n/**\n * Provides the shape's snap svg element to be drawn on the `canvas`.\n *\n * @param {djs.Graphics} visuals\n * @param {Connection} connection\n *\n * @returns {Snap.svg} [returns a Snap.svg paper element ]\n */\nBaseRenderer.prototype.drawConnection = function() {};\n\n/**\n * Gets the SVG path of a shape that represents it's visual bounds.\n *\n * @param {Shape} shape\n *\n * @return {string} svg path\n */\nBaseRenderer.prototype.getShapePath = function() {};\n\n/**\n * Gets the SVG path of a connection that represents it's visual bounds.\n *\n * @param {Connection} connection\n *\n * @return {string} svg path\n */\nBaseRenderer.prototype.getConnectionPath = function() {};\n","function ensureImported(element, target) {\n\n  if (element.ownerDocument !== target.ownerDocument) {\n    try {\n      // may fail on webkit\n      return target.ownerDocument.importNode(element, true);\n    } catch (e) {\n      // ignore\n    }\n  }\n\n  return element;\n}\n\n/**\n * appendTo utility\n */\n\n/**\n * Append a node to a target element and return the appended node.\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the appended node\n */\nfunction appendTo(element, target) {\n  return target.appendChild(ensureImported(element, target));\n}\n\n/**\n * append utility\n */\n\n/**\n * Append a node to an element\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the element\n */\nfunction append(target, node) {\n  appendTo(node, target);\n  return target;\n}\n\n/**\n * attribute accessor utility\n */\n\nvar LENGTH_ATTR = 2;\n\nvar CSS_PROPERTIES = {\n  'alignment-baseline': 1,\n  'baseline-shift': 1,\n  'clip': 1,\n  'clip-path': 1,\n  'clip-rule': 1,\n  'color': 1,\n  'color-interpolation': 1,\n  'color-interpolation-filters': 1,\n  'color-profile': 1,\n  'color-rendering': 1,\n  'cursor': 1,\n  'direction': 1,\n  'display': 1,\n  'dominant-baseline': 1,\n  'enable-background': 1,\n  'fill': 1,\n  'fill-opacity': 1,\n  'fill-rule': 1,\n  'filter': 1,\n  'flood-color': 1,\n  'flood-opacity': 1,\n  'font': 1,\n  'font-family': 1,\n  'font-size': LENGTH_ATTR,\n  'font-size-adjust': 1,\n  'font-stretch': 1,\n  'font-style': 1,\n  'font-variant': 1,\n  'font-weight': 1,\n  'glyph-orientation-horizontal': 1,\n  'glyph-orientation-vertical': 1,\n  'image-rendering': 1,\n  'kerning': 1,\n  'letter-spacing': 1,\n  'lighting-color': 1,\n  'marker': 1,\n  'marker-end': 1,\n  'marker-mid': 1,\n  'marker-start': 1,\n  'mask': 1,\n  'opacity': 1,\n  'overflow': 1,\n  'pointer-events': 1,\n  'shape-rendering': 1,\n  'stop-color': 1,\n  'stop-opacity': 1,\n  'stroke': 1,\n  'stroke-dasharray': 1,\n  'stroke-dashoffset': 1,\n  'stroke-linecap': 1,\n  'stroke-linejoin': 1,\n  'stroke-miterlimit': 1,\n  'stroke-opacity': 1,\n  'stroke-width': LENGTH_ATTR,\n  'text-anchor': 1,\n  'text-decoration': 1,\n  'text-rendering': 1,\n  'unicode-bidi': 1,\n  'visibility': 1,\n  'word-spacing': 1,\n  'writing-mode': 1\n};\n\n\nfunction getAttribute(node, name) {\n  if (CSS_PROPERTIES[name]) {\n    return node.style[name];\n  } else {\n    return node.getAttributeNS(null, name);\n  }\n}\n\nfunction setAttribute(node, name, value) {\n  var hyphenated = name.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\n  var type = CSS_PROPERTIES[hyphenated];\n\n  if (type) {\n    // append pixel unit, unless present\n    if (type === LENGTH_ATTR && typeof value === 'number') {\n      value = String(value) + 'px';\n    }\n\n    node.style[hyphenated] = value;\n  } else {\n    node.setAttributeNS(null, name, value);\n  }\n}\n\nfunction setAttributes(node, attrs) {\n\n  var names = Object.keys(attrs), i, name;\n\n  for (i = 0, name; (name = names[i]); i++) {\n    setAttribute(node, name, attrs[name]);\n  }\n}\n\n/**\n * Gets or sets raw attributes on a node.\n *\n * @param  {SVGElement} node\n * @param  {Object} [attrs]\n * @param  {String} [name]\n * @param  {String} [value]\n *\n * @return {String}\n */\nfunction attr(node, name, value) {\n  if (typeof name === 'string') {\n    if (value !== undefined) {\n      setAttribute(node, name, value);\n    } else {\n      return getAttribute(node, name);\n    }\n  } else {\n    setAttributes(node, name);\n  }\n\n  return node;\n}\n\n/**\r\n * Clear utility\r\n */\r\nfunction index(arr, obj) {\r\n  if (arr.indexOf) {\r\n    return arr.indexOf(obj);\r\n  }\r\n\r\n\r\n  for (var i = 0; i < arr.length; ++i) {\r\n    if (arr[i] === obj) {\r\n      return i;\r\n    }\r\n  }\r\n\r\n  return -1;\r\n}\r\n\r\nvar re = /\\s+/;\r\n\r\nvar toString = Object.prototype.toString;\r\n\r\nfunction defined(o) {\r\n  return typeof o !== 'undefined';\r\n}\r\n\r\n/**\r\n * Wrap `el` in a `ClassList`.\r\n *\r\n * @param {Element} el\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nfunction classes(el) {\r\n  return new ClassList(el);\r\n}\r\n\r\nfunction ClassList(el) {\r\n  if (!el || !el.nodeType) {\r\n    throw new Error('A DOM element reference is required');\r\n  }\r\n  this.el = el;\r\n  this.list = el.classList;\r\n}\r\n\r\n/**\r\n * Add class `name` if not already present.\r\n *\r\n * @param {String} name\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.add = function(name) {\r\n\r\n  // classList\r\n  if (this.list) {\r\n    this.list.add(name);\r\n    return this;\r\n  }\r\n\r\n  // fallback\r\n  var arr = this.array();\r\n  var i = index(arr, name);\r\n  if (!~i) {\r\n    arr.push(name);\r\n  }\r\n\r\n  if (defined(this.el.className.baseVal)) {\r\n    this.el.className.baseVal = arr.join(' ');\r\n  } else {\r\n    this.el.className = arr.join(' ');\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove class `name` when present, or\r\n * pass a regular expression to remove\r\n * any which match.\r\n *\r\n * @param {String|RegExp} name\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.remove = function(name) {\r\n  if ('[object RegExp]' === toString.call(name)) {\r\n    return this.removeMatching(name);\r\n  }\r\n\r\n  // classList\r\n  if (this.list) {\r\n    this.list.remove(name);\r\n    return this;\r\n  }\r\n\r\n  // fallback\r\n  var arr = this.array();\r\n  var i = index(arr, name);\r\n  if (~i) {\r\n    arr.splice(i, 1);\r\n  }\r\n  this.el.className.baseVal = arr.join(' ');\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove all classes matching `re`.\r\n *\r\n * @param {RegExp} re\r\n * @return {ClassList}\r\n * @api private\r\n */\r\n\r\nClassList.prototype.removeMatching = function(re) {\r\n  var arr = this.array();\r\n  for (var i = 0; i < arr.length; i++) {\r\n    if (re.test(arr[i])) {\r\n      this.remove(arr[i]);\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Toggle class `name`, can force state via `force`.\r\n *\r\n * For browsers that support classList, but do not support `force` yet,\r\n * the mistake will be detected and corrected.\r\n *\r\n * @param {String} name\r\n * @param {Boolean} force\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.toggle = function(name, force) {\r\n  // classList\r\n  if (this.list) {\r\n    if (defined(force)) {\r\n      if (force !== this.list.toggle(name, force)) {\r\n        this.list.toggle(name); // toggle again to correct\r\n      }\r\n    } else {\r\n      this.list.toggle(name);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  // fallback\r\n  if (defined(force)) {\r\n    if (!force) {\r\n      this.remove(name);\r\n    } else {\r\n      this.add(name);\r\n    }\r\n  } else {\r\n    if (this.has(name)) {\r\n      this.remove(name);\r\n    } else {\r\n      this.add(name);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return an array of classes.\r\n *\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.array = function() {\r\n  var className = this.el.getAttribute('class') || '';\r\n  var str = className.replace(/^\\s+|\\s+$/g, '');\r\n  var arr = str.split(re);\r\n  if ('' === arr[0]) {\r\n    arr.shift();\r\n  }\r\n  return arr;\r\n};\r\n\r\n/**\r\n * Check if class `name` is present.\r\n *\r\n * @param {String} name\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.has =\r\nClassList.prototype.contains = function(name) {\r\n  return (\r\n    this.list ?\r\n      this.list.contains(name) :\r\n      !! ~index(this.array(), name)\r\n  );\r\n};\n\nfunction remove(element) {\n  var parent = element.parentNode;\n\n  if (parent) {\n    parent.removeChild(element);\n  }\n\n  return element;\n}\n\n/**\n * Clear utility\n */\n\n/**\n * Removes all children from the given element\n *\n * @param  {DOMElement} element\n * @return {DOMElement} the element (for chaining)\n */\nfunction clear(element) {\n  var child;\n\n  while ((child = element.firstChild)) {\n    remove(child);\n  }\n\n  return element;\n}\n\nfunction clone(element) {\n  return element.cloneNode(true);\n}\n\nvar ns = {\n  svg: 'http://www.w3.org/2000/svg'\n};\n\n/**\n * DOM parsing utility\n */\n\nvar SVG_START = '<svg xmlns=\"' + ns.svg + '\"';\n\nfunction parse(svg) {\n\n  var unwrap = false;\n\n  // ensure we import a valid svg document\n  if (svg.substring(0, 4) === '<svg') {\n    if (svg.indexOf(ns.svg) === -1) {\n      svg = SVG_START + svg.substring(4);\n    }\n  } else {\n    // namespace svg\n    svg = SVG_START + '>' + svg + '</svg>';\n    unwrap = true;\n  }\n\n  var parsed = parseDocument(svg);\n\n  if (!unwrap) {\n    return parsed;\n  }\n\n  var fragment = document.createDocumentFragment();\n\n  var parent = parsed.firstChild;\n\n  while (parent.firstChild) {\n    fragment.appendChild(parent.firstChild);\n  }\n\n  return fragment;\n}\n\nfunction parseDocument(svg) {\n\n  var parser;\n\n  // parse\n  parser = new DOMParser();\n  parser.async = false;\n\n  return parser.parseFromString(svg, 'text/xml');\n}\n\n/**\n * Create utility for SVG elements\n */\n\n\n/**\n * Create a specific type from name or SVG markup.\n *\n * @param {String} name the name or markup of the element\n * @param {Object} [attrs] attributes to set on the element\n *\n * @returns {SVGElement}\n */\nfunction create(name, attrs) {\n  var element;\n\n  if (name.charAt(0) === '<') {\n    element = parse(name).firstChild;\n    element = document.importNode(element, true);\n  } else {\n    element = document.createElementNS(ns.svg, name);\n  }\n\n  if (attrs) {\n    attr(element, attrs);\n  }\n\n  return element;\n}\n\n/**\n * Events handling utility\n */\n\nfunction on(node, event, listener, useCapture) {\n  node.addEventListener(event, listener, useCapture);\n}\n\nfunction off(node, event, listener, useCapture) {\n  node.removeEventListener(event, listener, useCapture);\n}\n\n/**\n * Geometry helpers\n */\n\n// fake node used to instantiate svg geometry elements\nvar node = create('svg');\n\nfunction extend(object, props) {\n  var i, k, keys = Object.keys(props);\n\n  for (i = 0; (k = keys[i]); i++) {\n    object[k] = props[k];\n  }\n\n  return object;\n}\n\n\nfunction createPoint(x, y) {\n  var point = node.createSVGPoint();\n\n  switch (arguments.length) {\n  case 0:\n    return point;\n  case 2:\n    x = {\n      x: x,\n      y: y\n    };\n    break;\n  }\n\n  return extend(point, x);\n}\n\n/**\n * Create matrix via args.\n *\n * @example\n *\n * createMatrix({ a: 1, b: 1 });\n * createMatrix();\n * createMatrix(1, 2, 0, 0, 30, 20);\n *\n * @return {SVGMatrix}\n */\nfunction createMatrix(a, b, c, d, e, f) {\n  var matrix = node.createSVGMatrix();\n\n  switch (arguments.length) {\n  case 0:\n    return matrix;\n  case 1:\n    return extend(matrix, a);\n  case 6:\n    return extend(matrix, {\n      a: a,\n      b: b,\n      c: c,\n      d: d,\n      e: e,\n      f: f\n    });\n  }\n}\n\nfunction createTransform(matrix) {\n  if (matrix) {\n    return node.createSVGTransformFromMatrix(matrix);\n  } else {\n    return node.createSVGTransform();\n  }\n}\n\n/**\n * Serialization util\n */\n\nvar TEXT_ENTITIES = /([&<>]{1})/g;\nvar ATTR_ENTITIES = /([\\n\\r\"]{1})/g;\n\nvar ENTITY_REPLACEMENT = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '\\''\n};\n\nfunction escape(str, pattern) {\n\n  function replaceFn(match, entity) {\n    return ENTITY_REPLACEMENT[entity] || entity;\n  }\n\n  return str.replace(pattern, replaceFn);\n}\n\nfunction serialize(node, output) {\n\n  var i, len, attrMap, attrNode, childNodes;\n\n  switch (node.nodeType) {\n  // TEXT\n  case 3:\n    // replace special XML characters\n    output.push(escape(node.textContent, TEXT_ENTITIES));\n    break;\n\n  // ELEMENT\n  case 1:\n    output.push('<', node.tagName);\n\n    if (node.hasAttributes()) {\n      attrMap = node.attributes;\n      for (i = 0, len = attrMap.length; i < len; ++i) {\n        attrNode = attrMap.item(i);\n        output.push(' ', attrNode.name, '=\"', escape(attrNode.value, ATTR_ENTITIES), '\"');\n      }\n    }\n\n    if (node.hasChildNodes()) {\n      output.push('>');\n      childNodes = node.childNodes;\n      for (i = 0, len = childNodes.length; i < len; ++i) {\n        serialize(childNodes.item(i), output);\n      }\n      output.push('</', node.tagName, '>');\n    } else {\n      output.push('/>');\n    }\n    break;\n\n  // COMMENT\n  case 8:\n    output.push('<!--', escape(node.nodeValue, TEXT_ENTITIES), '-->');\n    break;\n\n  // CDATA\n  case 4:\n    output.push('<![CDATA[', node.nodeValue, ']]>');\n    break;\n\n  default:\n    throw new Error('unable to handle node ' + node.nodeType);\n  }\n\n  return output;\n}\n\n/**\n * innerHTML like functionality for SVG elements.\n * based on innerSVG (https://code.google.com/p/innersvg)\n */\n\n\nfunction set(element, svg) {\n\n  var parsed = parse(svg);\n\n  // clear element contents\n  clear(element);\n\n  if (!svg) {\n    return;\n  }\n\n  if (!isFragment(parsed)) {\n    // extract <svg> from parsed document\n    parsed = parsed.documentElement;\n  }\n\n  var nodes = slice(parsed.childNodes);\n\n  // import + append each node\n  for (var i = 0; i < nodes.length; i++) {\n    appendTo(nodes[i], element);\n  }\n\n}\n\nfunction get(element) {\n  var child = element.firstChild,\n      output = [];\n\n  while (child) {\n    serialize(child, output);\n    child = child.nextSibling;\n  }\n\n  return output.join('');\n}\n\nfunction isFragment(node) {\n  return node.nodeName === '#document-fragment';\n}\n\nfunction innerSVG(element, svg) {\n\n  if (svg !== undefined) {\n\n    try {\n      set(element, svg);\n    } catch (e) {\n      throw new Error('error parsing SVG: ' + e.message);\n    }\n\n    return element;\n  } else {\n    return get(element);\n  }\n}\n\n\nfunction slice(arr) {\n  return Array.prototype.slice.call(arr);\n}\n\n/**\n * Selection utilities\n */\n\nfunction select(node, selector) {\n  return node.querySelector(selector);\n}\n\nfunction selectAll(node, selector) {\n  var nodes = node.querySelectorAll(selector);\n\n  return [].map.call(nodes, function(element) {\n    return element;\n  });\n}\n\n/**\n * prependTo utility\n */\n\n/**\n * Prepend a node to a target element and return the prepended node.\n *\n * @param  {SVGElement} node\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the prepended node\n */\nfunction prependTo(node, target) {\n  return target.insertBefore(ensureImported(node, target), target.firstChild || null);\n}\n\n/**\n * prepend utility\n */\n\n/**\n * Prepend a node to a target element\n *\n * @param  {SVGElement} target\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the target element\n */\nfunction prepend(target, node) {\n  prependTo(node, target);\n  return target;\n}\n\n/**\n * Replace utility\n */\n\nfunction replace(element, replacement) {\n  element.parentNode.replaceChild(ensureImported(replacement, element), element);\n  return replacement;\n}\n\n/**\n * transform accessor utility\n */\n\nfunction wrapMatrix(transformList, transform) {\n  if (transform instanceof SVGMatrix) {\n    return transformList.createSVGTransformFromMatrix(transform);\n  }\n\n  return transform;\n}\n\n\nfunction setTransforms(transformList, transforms) {\n  var i, t;\n\n  transformList.clear();\n\n  for (i = 0; (t = transforms[i]); i++) {\n    transformList.appendItem(wrapMatrix(transformList, t));\n  }\n}\n\n/**\n * Get or set the transforms on the given node.\n *\n * @param {SVGElement} node\n * @param  {SVGTransform|SVGMatrix|Array<SVGTransform|SVGMatrix>} [transforms]\n *\n * @return {SVGTransform} the consolidated transform\n */\nfunction transform(node, transforms) {\n  var transformList = node.transform.baseVal;\n\n  if (transforms) {\n\n    if (!Array.isArray(transforms)) {\n      transforms = [ transforms ];\n    }\n\n    setTransforms(transformList, transforms);\n  }\n\n  return transformList.consolidate();\n}\n\nexport { append, appendTo, attr, classes, clear, clone, create, innerSVG, prepend, prependTo, remove, replace, transform, on, off, createPoint, createMatrix, createTransform, select, selectAll };\n","import {\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\n\nexport function componentsToPath(elements) {\n  return elements.join(',').replace(/,?([A-z]),?/g, '$1');\n}\n\nexport function toSVGPoints(points) {\n  var result = '';\n\n  for (var i = 0, p; (p = points[i]); i++) {\n    result += p.x + ',' + p.y + ' ';\n  }\n\n  return result;\n}\n\nexport function createLine(points, attrs) {\n\n  var line = svgCreate('polyline');\n  svgAttr(line, { points: toSVGPoints(points) });\n\n  if (attrs) {\n    svgAttr(line, attrs);\n  }\n\n  return line;\n}\n\nexport function updateLine(gfx, points) {\n  svgAttr(gfx, { points: toSVGPoints(points) });\n\n  return gfx;\n}\n","import {\n  assign,\n  filter,\n  find,\n  isArray,\n  isNumber,\n  isObject,\n  isUndefined,\n  groupBy,\n  forEach\n} from 'min-dash';\n\n\n/**\n * Get parent elements.\n *\n * @param {Array<djs.model.base>} elements\n *\n * @returns {Array<djs.model.Base>}\n */\nexport function getParents(elements) {\n\n  // find elements that are not children of any other elements\n  return filter(elements, function(element) {\n    return !find(elements, function(e) {\n      return e !== element && getParent(element, e);\n    });\n  });\n}\n\n\nfunction getParent(element, parent) {\n  if (!parent) {\n    return;\n  }\n\n  if (element === parent) {\n    return parent;\n  }\n\n  if (!element.parent) {\n    return;\n  }\n\n  return getParent(element.parent, parent);\n}\n\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Array<Object>} elements\n * @param {Object} e\n * @param {boolean} unique\n */\nexport function add(elements, e, unique) {\n  var canAdd = !unique || elements.indexOf(e) === -1;\n\n  if (canAdd) {\n    elements.push(e);\n  }\n\n  return canAdd;\n}\n\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param  {Object|Array<Object>} elements\n * @param  {Function} fn iterator function called with (element, index, recursionDepth)\n * @param  {number} [depth] maximum recursion depth\n */\nexport function eachElement(elements, fn, depth) {\n\n  depth = depth || 0;\n\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  forEach(elements, function(s, i) {\n    var filter = fn(s, i, depth);\n\n    if (isArray(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n\n/**\n * Collects self + child elements up to a given depth from a list of elements.\n *\n * @param  {djs.model.Base|Array<djs.model.Base>} elements the elements to select the children from\n * @param  {boolean} unique whether to return a unique result set (no duplicates)\n * @param  {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Array<djs.model.Base>} found elements\n */\nexport function selfAndChildren(elements, unique, maxDepth) {\n  var result = [],\n      processedChildren = [];\n\n  eachElement(elements, function(element, i, depth) {\n    add(result, element, unique);\n\n    var children = element.children;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n\n      // children exist && children not yet processed\n      if (children && add(processedChildren, children, unique)) {\n        return children;\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return self + direct children for a number of elements\n *\n * @param  {Array<djs.model.Base>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<djs.model.Base>} the collected elements\n */\nexport function selfAndDirectChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, 1);\n}\n\n\n/**\n * Return self + ALL children for a number of elements\n *\n * @param  {Array<djs.model.Base>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<djs.model.Base>} the collected elements\n */\nexport function selfAndAllChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, -1);\n}\n\n\n/**\n * Gets the the closure for all selected elements,\n * their enclosed children and connections.\n *\n * @param {Array<djs.model.Base>} elements\n * @param {boolean} [isTopLevel=true]\n * @param {Object} [existingClosure]\n *\n * @return {Object} newClosure\n */\nexport function getClosure(elements, isTopLevel, closure) {\n\n  if (isUndefined(isTopLevel)) {\n    isTopLevel = true;\n  }\n\n  if (isObject(isTopLevel)) {\n    closure = isTopLevel;\n    isTopLevel = true;\n  }\n\n\n  closure = closure || {};\n\n  var allShapes = copyObject(closure.allShapes),\n      allConnections = copyObject(closure.allConnections),\n      enclosedElements = copyObject(closure.enclosedElements),\n      enclosedConnections = copyObject(closure.enclosedConnections);\n\n  var topLevel = copyObject(\n    closure.topLevel,\n    isTopLevel && groupBy(elements, function(e) { return e.id; })\n  );\n\n\n  function handleConnection(c) {\n    if (topLevel[c.source.id] && topLevel[c.target.id]) {\n      topLevel[c.id] = [ c ];\n    }\n\n    // not enclosed as a child, but maybe logically\n    // (connecting two moved elements?)\n    if (allShapes[c.source.id] && allShapes[c.target.id]) {\n      enclosedConnections[c.id] = enclosedElements[c.id] = c;\n    }\n\n    allConnections[c.id] = c;\n  }\n\n  function handleElement(element) {\n\n    enclosedElements[element.id] = element;\n\n    if (element.waypoints) {\n\n      // remember connection\n      enclosedConnections[element.id] = allConnections[element.id] = element;\n    } else {\n\n      // remember shape\n      allShapes[element.id] = element;\n\n      // remember all connections\n      forEach(element.incoming, handleConnection);\n\n      forEach(element.outgoing, handleConnection);\n\n      // recurse into children\n      return element.children;\n    }\n  }\n\n  eachElement(elements, handleElement);\n\n  return {\n    allShapes: allShapes,\n    allConnections: allConnections,\n    topLevel: topLevel,\n    enclosedConnections: enclosedConnections,\n    enclosedElements: enclosedElements\n  };\n}\n\n/**\n * Returns the surrounding bbox for all elements in\n * the array or the element primitive.\n *\n * @param {Array<djs.model.Shape>|djs.model.Shape} elements\n * @param {boolean} stopRecursion\n */\nexport function getBBox(elements, stopRecursion) {\n\n  stopRecursion = !!stopRecursion;\n  if (!isArray(elements)) {\n    elements = [elements];\n  }\n\n  var minX,\n      minY,\n      maxX,\n      maxY;\n\n  forEach(elements, function(element) {\n\n    // If element is a connection the bbox must be computed first\n    var bbox = element;\n    if (element.waypoints && !stopRecursion) {\n      bbox = getBBox(element.waypoints, true);\n    }\n\n    var x = bbox.x,\n        y = bbox.y,\n        height = bbox.height || 0,\n        width = bbox.width || 0;\n\n    if (x < minX || minX === undefined) {\n      minX = x;\n    }\n    if (y < minY || minY === undefined) {\n      minY = y;\n    }\n\n    if ((x + width) > maxX || maxX === undefined) {\n      maxX = x + width;\n    }\n    if ((y + height) > maxY || maxY === undefined) {\n      maxY = y + height;\n    }\n  });\n\n  return {\n    x: minX,\n    y: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n}\n\n\n/**\n * Returns all elements that are enclosed from the bounding box.\n *\n *   * If bbox.(width|height) is not specified the method returns\n *     all elements with element.x/y > bbox.x/y\n *   * If only bbox.x or bbox.y is specified, method return all elements with\n *     e.x > bbox.x or e.y > bbox.y\n *\n * @param {Array<djs.model.Shape>} elements List of Elements to search through\n * @param {djs.model.Shape} bbox the enclosing bbox.\n *\n * @return {Array<djs.model.Shape>} enclosed elements\n */\nexport function getEnclosedElements(elements, bbox) {\n\n  var filteredElements = {};\n\n  forEach(elements, function(element) {\n\n    var e = element;\n\n    if (e.waypoints) {\n      e = getBBox(e);\n    }\n\n    if (!isNumber(bbox.y) && (e.x > bbox.x)) {\n      filteredElements[element.id] = element;\n    }\n    if (!isNumber(bbox.x) && (e.y > bbox.y)) {\n      filteredElements[element.id] = element;\n    }\n    if (e.x > bbox.x && e.y > bbox.y) {\n      if (isNumber(bbox.width) && isNumber(bbox.height) &&\n          e.width + e.x < bbox.width + bbox.x &&\n          e.height + e.y < bbox.height + bbox.y) {\n\n        filteredElements[element.id] = element;\n      } else if (!isNumber(bbox.width) || !isNumber(bbox.height)) {\n        filteredElements[element.id] = element;\n      }\n    }\n  });\n\n  return filteredElements;\n}\n\n\nexport function getType(element) {\n\n  if ('waypoints' in element) {\n    return 'connection';\n  }\n\n  if ('x' in element) {\n    return 'shape';\n  }\n\n  return 'root';\n}\n\nexport function isFrameElement(element) {\n\n  return !!(element && element.isFrame);\n}\n\n// helpers ///////////////////////////////\n\nfunction copyObject(src1, src2) {\n  return assign({}, src1 || {}, src2 || {});\n}","import inherits from 'inherits';\n\nimport BaseRenderer from './BaseRenderer';\n\nimport {\n  componentsToPath,\n  createLine\n} from '../util/RenderUtil';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  isFrameElement\n} from '../util/Elements';\n\n// apply default renderer with lowest possible priority\n// so that it only kicks in if noone else could render\nvar DEFAULT_RENDER_PRIORITY = 1;\n\n/**\n * The default renderer used for shapes and connections.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n */\nexport default function DefaultRenderer(eventBus, styles) {\n\n  //\n  BaseRenderer.call(this, eventBus, DEFAULT_RENDER_PRIORITY);\n\n  this.CONNECTION_STYLE = styles.style([ 'no-fill' ], { strokeWidth: 5, stroke: 'fuchsia' });\n  this.SHAPE_STYLE = styles.style({ fill: 'white', stroke: 'fuchsia', strokeWidth: 2 });\n  this.FRAME_STYLE = styles.style([ 'no-fill' ], { stroke: 'fuchsia', strokeDasharray: 4, strokeWidth: 2 });\n}\n\ninherits(DefaultRenderer, BaseRenderer);\n\n\nDefaultRenderer.prototype.canRender = function() {\n  return true;\n};\n\nDefaultRenderer.prototype.drawShape = function drawShape(visuals, element) {\n  var rect = svgCreate('rect');\n\n  svgAttr(rect, {\n    x: 0,\n    y: 0,\n    width: element.width || 0,\n    height: element.height || 0\n  });\n\n  if (isFrameElement(element)) {\n    svgAttr(rect, this.FRAME_STYLE);\n  } else {\n    svgAttr(rect, this.SHAPE_STYLE);\n  }\n\n  svgAppend(visuals, rect);\n\n  return rect;\n};\n\nDefaultRenderer.prototype.drawConnection = function drawConnection(visuals, connection) {\n\n  var line = createLine(connection.waypoints, this.CONNECTION_STYLE);\n  svgAppend(visuals, line);\n\n  return line;\n};\n\nDefaultRenderer.prototype.getShapePath = function getShapePath(shape) {\n\n  var x = shape.x,\n      y = shape.y,\n      width = shape.width,\n      height = shape.height;\n\n  var shapePath = [\n    ['M', x, y],\n    ['l', width, 0],\n    ['l', 0, height],\n    ['l', -width, 0],\n    ['z']\n  ];\n\n  return componentsToPath(shapePath);\n};\n\nDefaultRenderer.prototype.getConnectionPath = function getConnectionPath(connection) {\n  var waypoints = connection.waypoints;\n\n  var idx, point, connectionPath = [];\n\n  for (idx = 0; (point = waypoints[idx]); idx++) {\n\n    // take invisible docking into account\n    // when creating the path\n    point = point.original || point;\n\n    connectionPath.push([ idx === 0 ? 'M' : 'L', point.x, point.y ]);\n  }\n\n  return componentsToPath(connectionPath);\n};\n\n\nDefaultRenderer.$inject = [ 'eventBus', 'styles' ];\n","import {\n  isArray,\n  assign,\n  reduce\n} from 'min-dash';\n\n\n/**\n * A component that manages shape styles\n */\nexport default function Styles() {\n\n  var defaultTraits = {\n\n    'no-fill': {\n      fill: 'none'\n    },\n    'no-border': {\n      strokeOpacity: 0.0\n    },\n    'no-events': {\n      pointerEvents: 'none'\n    }\n  };\n\n  var self = this;\n\n  /**\n   * Builds a style definition from a className, a list of traits and an object of additional attributes.\n   *\n   * @param  {string} className\n   * @param  {Array<string>} traits\n   * @param  {Object} additionalAttrs\n   *\n   * @return {Object} the style defintion\n   */\n  this.cls = function(className, traits, additionalAttrs) {\n    var attrs = this.style(traits, additionalAttrs);\n\n    return assign(attrs, { 'class': className });\n  };\n\n  /**\n   * Builds a style definition from a list of traits and an object of additional attributes.\n   *\n   * @param  {Array<string>} traits\n   * @param  {Object} additionalAttrs\n   *\n   * @return {Object} the style defintion\n   */\n  this.style = function(traits, additionalAttrs) {\n\n    if (!isArray(traits) && !additionalAttrs) {\n      additionalAttrs = traits;\n      traits = [];\n    }\n\n    var attrs = reduce(traits, function(attrs, t) {\n      return assign(attrs, defaultTraits[t] || {});\n    }, {});\n\n    return additionalAttrs ? assign(attrs, additionalAttrs) : attrs;\n  };\n\n  this.computeStyle = function(custom, traits, defaultStyles) {\n    if (!isArray(traits)) {\n      defaultStyles = traits;\n      traits = [];\n    }\n\n    return self.style(traits || [], assign({}, defaultStyles, custom || {}));\n  };\n}\n","import DefaultRenderer from './DefaultRenderer';\nimport Styles from './Styles';\n\nexport default {\n  __init__: [ 'defaultRenderer' ],\n  defaultRenderer: [ 'type', DefaultRenderer ],\n  styles: [ 'type', Styles ]\n};\n","/**\n * Failsafe remove an element from a collection\n *\n * @param  {Array<Object>} [collection]\n * @param  {Object} [element]\n *\n * @return {number} the previous index of the element\n */\nexport function remove(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  var idx = collection.indexOf(element);\n\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  }\n\n  return idx;\n}\n\n/**\n * Fail save add an element to the given connection, ensuring\n * it does not yet exist.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n * @param {number} idx\n */\nexport function add(collection, element, idx) {\n\n  if (!collection || !element) {\n    return;\n  }\n\n  if (typeof idx !== 'number') {\n    idx = -1;\n  }\n\n  var currentIdx = collection.indexOf(element);\n\n  if (currentIdx !== -1) {\n\n    if (currentIdx === idx) {\n\n      // nothing to do, position has not changed\n      return;\n    } else {\n\n      if (idx !== -1) {\n\n        // remove from current position\n        collection.splice(currentIdx, 1);\n      } else {\n\n        // already exists in collection\n        return;\n      }\n    }\n  }\n\n  if (idx !== -1) {\n\n    // insert at specified position\n    collection.splice(idx, 0, element);\n  } else {\n\n    // push to end\n    collection.push(element);\n  }\n}\n\n\n/**\n * Fail save get the index of an element in a collection.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n *\n * @return {number} the index or -1 if collection or element do\n *                  not exist or the element is not contained.\n */\nexport function indexOf(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  return collection.indexOf(element);\n}\n","import {\n  isNumber,\n  assign,\n  forEach,\n  every,\n  debounce,\n  bind,\n  reduce\n} from 'min-dash';\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../util/Collections';\n\nimport {\n  getType\n} from '../util/Elements';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  transform as svgTransform\n} from 'tiny-svg';\n\nimport { createMatrix as createMatrix } from 'tiny-svg';\n\n\nfunction round(number, resolution) {\n  return Math.round(number * resolution) / resolution;\n}\n\nfunction ensurePx(number) {\n  return isNumber(number) ? number + 'px' : number;\n}\n\n/**\n * Creates a HTML container element for a SVG element with\n * the given configuration\n *\n * @param  {Object} options\n * @return {HTMLElement} the container element\n */\nfunction createContainer(options) {\n\n  options = assign({}, { width: '100%', height: '100%' }, options);\n\n  var container = options.container || document.body;\n\n  // create a <div> around the svg element with the respective size\n  // this way we can always get the correct container size\n  // (this is impossible for <svg> elements at the moment)\n  var parent = document.createElement('div');\n  parent.setAttribute('class', 'djs-container');\n\n  assign(parent.style, {\n    position: 'relative',\n    overflow: 'hidden',\n    width: ensurePx(options.width),\n    height: ensurePx(options.height)\n  });\n\n  container.appendChild(parent);\n\n  return parent;\n}\n\nfunction createGroup(parent, cls, childIndex) {\n  var group = svgCreate('g');\n  svgClasses(group).add(cls);\n\n  var index = childIndex !== undefined ? childIndex : parent.childNodes.length - 1;\n\n  // must ensure second argument is node or _null_\n  // cf. https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\n  parent.insertBefore(group, parent.childNodes[index] || null);\n\n  return group;\n}\n\nvar BASE_LAYER = 'base';\n\n\nvar REQUIRED_MODEL_ATTRS = {\n  shape: [ 'x', 'y', 'width', 'height' ],\n  connection: [ 'waypoints' ]\n};\n\n/**\n * The main drawing canvas.\n *\n * @class\n * @constructor\n *\n * @emits Canvas#canvas.init\n *\n * @param {Object} config\n * @param {EventBus} eventBus\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Canvas(config, eventBus, graphicsFactory, elementRegistry) {\n\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n  this._graphicsFactory = graphicsFactory;\n\n  this._init(config || {});\n}\n\nCanvas.$inject = [\n  'config.canvas',\n  'eventBus',\n  'graphicsFactory',\n  'elementRegistry'\n];\n\n\nCanvas.prototype._init = function(config) {\n\n  var eventBus = this._eventBus;\n\n  // Creates a <svg> element that is wrapped into a <div>.\n  // This way we are always able to correctly figure out the size of the svg element\n  // by querying the parent node.\n  //\n  // (It is not possible to get the size of a svg element cross browser @ 2014-04-01)\n  //\n  // <div class=\"djs-container\" style=\"width: {desired-width}, height: {desired-height}\">\n  //   <svg width=\"100%\" height=\"100%\">\n  //    ...\n  //   </svg>\n  // </div>\n\n  // html container\n  var container = this._container = createContainer(config);\n\n  var svg = this._svg = svgCreate('svg');\n  svgAttr(svg, { width: '100%', height: '100%' });\n\n  svgAppend(container, svg);\n\n  var viewport = this._viewport = createGroup(svg, 'viewport');\n\n  this._layers = {};\n\n  // debounce canvas.viewbox.changed events\n  // for smoother diagram interaction\n  if (config.deferUpdate !== false) {\n    this._viewboxChanged = debounce(bind(this._viewboxChanged, this), 300);\n  }\n\n  eventBus.on('diagram.init', function() {\n\n    /**\n     * An event indicating that the canvas is ready to be drawn on.\n     *\n     * @memberOf Canvas\n     *\n     * @event canvas.init\n     *\n     * @type {Object}\n     * @property {SVGElement} svg the created svg element\n     * @property {SVGElement} viewport the direct parent of diagram elements and shapes\n     */\n    eventBus.fire('canvas.init', {\n      svg: svg,\n      viewport: viewport\n    });\n\n  }, this);\n\n  // reset viewbox on shape changes to\n  // recompute the viewbox\n  eventBus.on([\n    'shape.added',\n    'connection.added',\n    'shape.removed',\n    'connection.removed',\n    'elements.changed'\n  ], function() {\n    delete this._cachedViewbox;\n  }, this);\n\n  eventBus.on('diagram.destroy', 500, this._destroy, this);\n  eventBus.on('diagram.clear', 500, this._clear, this);\n};\n\nCanvas.prototype._destroy = function(emit) {\n  this._eventBus.fire('canvas.destroy', {\n    svg: this._svg,\n    viewport: this._viewport\n  });\n\n  var parent = this._container.parentNode;\n\n  if (parent) {\n    parent.removeChild(this._container);\n  }\n\n  delete this._svg;\n  delete this._container;\n  delete this._layers;\n  delete this._rootElement;\n  delete this._viewport;\n};\n\nCanvas.prototype._clear = function() {\n\n  var self = this;\n\n  var allElements = this._elementRegistry.getAll();\n\n  // remove all elements\n  allElements.forEach(function(element) {\n    var type = getType(element);\n\n    if (type === 'root') {\n      self.setRootElement(null, true);\n    } else {\n      self._removeElement(element, type);\n    }\n  });\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n};\n\n/**\n * Returns the default layer on which\n * all elements are drawn.\n *\n * @returns {SVGElement}\n */\nCanvas.prototype.getDefaultLayer = function() {\n  return this.getLayer(BASE_LAYER, 0);\n};\n\n/**\n * Returns a layer that is used to draw elements\n * or annotations on it.\n *\n * Non-existing layers retrieved through this method\n * will be created. During creation, the optional index\n * may be used to create layers below or above existing layers.\n * A layer with a certain index is always created above all\n * existing layers with the same index.\n *\n * @param {string} name\n * @param {number} index\n *\n * @returns {SVGElement}\n */\nCanvas.prototype.getLayer = function(name, index) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  var layer = this._layers[name];\n\n  if (!layer) {\n    layer = this._layers[name] = this._createLayer(name, index);\n  }\n\n  // throw an error if layer creation / retrival is\n  // requested on different index\n  if (typeof index !== 'undefined' && layer.index !== index) {\n    throw new Error('layer <' + name + '> already created at index <' + index + '>');\n  }\n\n  return layer.group;\n};\n\n/**\n * Creates a given layer and returns it.\n *\n * @param {string} name\n * @param {number} [index=0]\n *\n * @return {Object} layer descriptor with { index, group: SVGGroup }\n */\nCanvas.prototype._createLayer = function(name, index) {\n\n  if (!index) {\n    index = 0;\n  }\n\n  var childIndex = reduce(this._layers, function(childIndex, layer) {\n    if (index >= layer.index) {\n      childIndex++;\n    }\n\n    return childIndex;\n  }, 0);\n\n  return {\n    group: createGroup(this._viewport, 'layer-' + name, childIndex),\n    index: index\n  };\n\n};\n\n/**\n * Returns the html element that encloses the\n * drawing canvas.\n *\n * @return {DOMNode}\n */\nCanvas.prototype.getContainer = function() {\n  return this._container;\n};\n\n\n// markers //////////////////////\n\nCanvas.prototype._updateMarker = function(element, marker, add) {\n  var container;\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  // we need to access all\n  container = this._elementRegistry._elements[element.id];\n\n  if (!container) {\n    return;\n  }\n\n  forEach([ container.gfx, container.secondaryGfx ], function(gfx) {\n    if (gfx) {\n\n      // invoke either addClass or removeClass based on mode\n      if (add) {\n        svgClasses(gfx).add(marker);\n      } else {\n        svgClasses(gfx).remove(marker);\n      }\n    }\n  });\n\n  /**\n   * An event indicating that a marker has been updated for an element\n   *\n   * @event element.marker.update\n   * @type {Object}\n   * @property {djs.model.Element} element the shape\n   * @property {Object} gfx the graphical representation of the shape\n   * @property {string} marker\n   * @property {boolean} add true if the marker was added, false if it got removed\n   */\n  this._eventBus.fire('element.marker.update', { element: element, gfx: container.gfx, marker: marker, add: !!add });\n};\n\n\n/**\n * Adds a marker to an element (basically a css class).\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @example\n * canvas.addMarker('foo', 'some-marker');\n *\n * var fooGfx = canvas.getGraphics('foo');\n *\n * fooGfx; // <g class=\"... some-marker\"> ... </g>\n *\n * @param {string|djs.model.Base} element\n * @param {string} marker\n */\nCanvas.prototype.addMarker = function(element, marker) {\n  this._updateMarker(element, marker, true);\n};\n\n\n/**\n * Remove a marker from an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param  {string|djs.model.Base} element\n * @param  {string} marker\n */\nCanvas.prototype.removeMarker = function(element, marker) {\n  this._updateMarker(element, marker, false);\n};\n\n/**\n * Check the existence of a marker on element.\n *\n * @param  {string|djs.model.Base} element\n * @param  {string} marker\n */\nCanvas.prototype.hasMarker = function(element, marker) {\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  var gfx = this.getGraphics(element);\n\n  return svgClasses(gfx).has(marker);\n};\n\n/**\n * Toggles a marker on an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param  {string|djs.model.Base} element\n * @param  {string} marker\n */\nCanvas.prototype.toggleMarker = function(element, marker) {\n  if (this.hasMarker(element, marker)) {\n    this.removeMarker(element, marker);\n  } else {\n    this.addMarker(element, marker);\n  }\n};\n\nCanvas.prototype.getRootElement = function() {\n  if (!this._rootElement) {\n    this.setRootElement({ id: '__implicitroot', children: [] });\n  }\n\n  return this._rootElement;\n};\n\n\n\n// root element handling //////////////////////\n\n/**\n * Sets a given element as the new root element for the canvas\n * and returns the new root element.\n *\n * @param {Object|djs.model.Root} element\n * @param {boolean} [override] whether to override the current root element, if any\n *\n * @return {Object|djs.model.Root} new root element\n */\nCanvas.prototype.setRootElement = function(element, override) {\n\n  if (element) {\n    this._ensureValid('root', element);\n  }\n\n  var currentRoot = this._rootElement,\n      elementRegistry = this._elementRegistry,\n      eventBus = this._eventBus;\n\n  if (currentRoot) {\n    if (!override) {\n      throw new Error('rootElement already set, need to specify override');\n    }\n\n    // simulate element remove event sequence\n    eventBus.fire('root.remove', { element: currentRoot });\n    eventBus.fire('root.removed', { element: currentRoot });\n\n    elementRegistry.remove(currentRoot);\n  }\n\n  if (element) {\n    var gfx = this.getDefaultLayer();\n\n    // resemble element add event sequence\n    eventBus.fire('root.add', { element: element });\n\n    elementRegistry.add(element, gfx, this._svg);\n\n    eventBus.fire('root.added', { element: element, gfx: gfx });\n  }\n\n  this._rootElement = element;\n\n  return element;\n};\n\n\n\n// add functionality //////////////////////\n\nCanvas.prototype._ensureValid = function(type, element) {\n  if (!element.id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elementRegistry.get(element.id)) {\n    throw new Error('element with id ' + element.id + ' already exists');\n  }\n\n  var requiredAttrs = REQUIRED_MODEL_ATTRS[type];\n\n  var valid = every(requiredAttrs, function(attr) {\n    return typeof element[attr] !== 'undefined';\n  });\n\n  if (!valid) {\n    throw new Error(\n      'must supply { ' + requiredAttrs.join(', ') + ' } with ' + type);\n  }\n};\n\nCanvas.prototype._setParent = function(element, parent, parentIndex) {\n  collectionAdd(parent.children, element, parentIndex);\n  element.parent = parent;\n};\n\n/**\n * Adds an element to the canvas.\n *\n * This wires the parent <-> child relationship between the element and\n * a explicitly specified parent or an implicit root element.\n *\n * During add it emits the events\n *\n *  * <{type}.add> (element, parent)\n *  * <{type}.added> (element, gfx)\n *\n * Extensions may hook into these events to perform their magic.\n *\n * @param {string} type\n * @param {Object|djs.model.Base} element\n * @param {Object|djs.model.Base} [parent]\n * @param {number} [parentIndex]\n *\n * @return {Object|djs.model.Base} the added element\n */\nCanvas.prototype._addElement = function(type, element, parent, parentIndex) {\n\n  parent = parent || this.getRootElement();\n\n  var eventBus = this._eventBus,\n      graphicsFactory = this._graphicsFactory;\n\n  this._ensureValid(type, element);\n\n  eventBus.fire(type + '.add', { element: element, parent: parent });\n\n  this._setParent(element, parent, parentIndex);\n\n  // create graphics\n  var gfx = graphicsFactory.create(type, element, parentIndex);\n\n  this._elementRegistry.add(element, gfx);\n\n  // update its visual\n  graphicsFactory.update(type, element, gfx);\n\n  eventBus.fire(type + '.added', { element: element, gfx: gfx });\n\n  return element;\n};\n\n/**\n * Adds a shape to the canvas\n *\n * @param {Object|djs.model.Shape} shape to add to the diagram\n * @param {djs.model.Base} [parent]\n * @param {number} [parentIndex]\n *\n * @return {djs.model.Shape} the added shape\n */\nCanvas.prototype.addShape = function(shape, parent, parentIndex) {\n  return this._addElement('shape', shape, parent, parentIndex);\n};\n\n/**\n * Adds a connection to the canvas\n *\n * @param {Object|djs.model.Connection} connection to add to the diagram\n * @param {djs.model.Base} [parent]\n * @param {number} [parentIndex]\n *\n * @return {djs.model.Connection} the added connection\n */\nCanvas.prototype.addConnection = function(connection, parent, parentIndex) {\n  return this._addElement('connection', connection, parent, parentIndex);\n};\n\n\n/**\n * Internal remove element\n */\nCanvas.prototype._removeElement = function(element, type) {\n\n  var elementRegistry = this._elementRegistry,\n      graphicsFactory = this._graphicsFactory,\n      eventBus = this._eventBus;\n\n  element = elementRegistry.get(element.id || element);\n\n  if (!element) {\n\n    // element was removed already\n    return;\n  }\n\n  eventBus.fire(type + '.remove', { element: element });\n\n  graphicsFactory.remove(element);\n\n  // unset parent <-> child relationship\n  collectionRemove(element.parent && element.parent.children, element);\n  element.parent = null;\n\n  eventBus.fire(type + '.removed', { element: element });\n\n  elementRegistry.remove(element);\n\n  return element;\n};\n\n\n/**\n * Removes a shape from the canvas\n *\n * @param {string|djs.model.Shape} shape or shape id to be removed\n *\n * @return {djs.model.Shape} the removed shape\n */\nCanvas.prototype.removeShape = function(shape) {\n\n  /**\n   * An event indicating that a shape is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event shape.remove\n   * @type {Object}\n   * @property {djs.model.Shape} element the shape descriptor\n   * @property {Object} gfx the graphical representation of the shape\n   */\n\n  /**\n   * An event indicating that a shape has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event shape.removed\n   * @type {Object}\n   * @property {djs.model.Shape} element the shape descriptor\n   * @property {Object} gfx the graphical representation of the shape\n   */\n  return this._removeElement(shape, 'shape');\n};\n\n\n/**\n * Removes a connection from the canvas\n *\n * @param {string|djs.model.Connection} connection or connection id to be removed\n *\n * @return {djs.model.Connection} the removed connection\n */\nCanvas.prototype.removeConnection = function(connection) {\n\n  /**\n   * An event indicating that a connection is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event connection.remove\n   * @type {Object}\n   * @property {djs.model.Connection} element the connection descriptor\n   * @property {Object} gfx the graphical representation of the connection\n   */\n\n  /**\n   * An event indicating that a connection has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event connection.removed\n   * @type {Object}\n   * @property {djs.model.Connection} element the connection descriptor\n   * @property {Object} gfx the graphical representation of the connection\n   */\n  return this._removeElement(connection, 'connection');\n};\n\n\n/**\n * Return the graphical object underlaying a certain diagram element\n *\n * @param {string|djs.model.Base} element descriptor of the element\n * @param {boolean} [secondary=false] whether to return the secondary connected element\n *\n * @return {SVGElement}\n */\nCanvas.prototype.getGraphics = function(element, secondary) {\n  return this._elementRegistry.getGraphics(element, secondary);\n};\n\n\n/**\n * Perform a viewbox update via a given change function.\n *\n * @param {Function} changeFn\n */\nCanvas.prototype._changeViewbox = function(changeFn) {\n\n  // notify others of the upcoming viewbox change\n  this._eventBus.fire('canvas.viewbox.changing');\n\n  // perform actual change\n  changeFn.apply(this);\n\n  // reset the cached viewbox so that\n  // a new get operation on viewbox or zoom\n  // triggers a viewbox re-computation\n  this._cachedViewbox = null;\n\n  // notify others of the change; this step\n  // may or may not be debounced\n  this._viewboxChanged();\n};\n\nCanvas.prototype._viewboxChanged = function() {\n  this._eventBus.fire('canvas.viewbox.changed', { viewbox: this.viewbox() });\n};\n\n\n/**\n * Gets or sets the view box of the canvas, i.e. the\n * area that is currently displayed.\n *\n * The getter may return a cached viewbox (if it is currently\n * changing). To force a recomputation, pass `false` as the first argument.\n *\n * @example\n *\n * canvas.viewbox({ x: 100, y: 100, width: 500, height: 500 })\n *\n * // sets the visible area of the diagram to (100|100) -> (600|100)\n * // and and scales it according to the diagram width\n *\n * var viewbox = canvas.viewbox(); // pass `false` to force recomputing the box.\n *\n * console.log(viewbox);\n * // {\n * //   inner: Dimensions,\n * //   outer: Dimensions,\n * //   scale,\n * //   x, y,\n * //   width, height\n * // }\n *\n * // if the current diagram is zoomed and scrolled, you may reset it to the\n * // default zoom via this method, too:\n *\n * var zoomedAndScrolledViewbox = canvas.viewbox();\n *\n * canvas.viewbox({\n *   x: 0,\n *   y: 0,\n *   width: zoomedAndScrolledViewbox.outer.width,\n *   height: zoomedAndScrolledViewbox.outer.height\n * });\n *\n * @param  {Object} [box] the new view box to set\n * @param  {number} box.x the top left X coordinate of the canvas visible in view box\n * @param  {number} box.y the top left Y coordinate of the canvas visible in view box\n * @param  {number} box.width the visible width\n * @param  {number} box.height\n *\n * @return {Object} the current view box\n */\nCanvas.prototype.viewbox = function(box) {\n\n  if (box === undefined && this._cachedViewbox) {\n    return this._cachedViewbox;\n  }\n\n  var viewport = this._viewport,\n      innerBox,\n      outerBox = this.getSize(),\n      matrix,\n      transform,\n      scale,\n      x, y;\n\n  if (!box) {\n\n    // compute the inner box based on the\n    // diagrams default layer. This allows us to exclude\n    // external components, such as overlays\n    innerBox = this.getDefaultLayer().getBBox();\n\n    transform = svgTransform(viewport);\n    matrix = transform ? transform.matrix : createMatrix();\n    scale = round(matrix.a, 1000);\n\n    x = round(-matrix.e || 0, 1000);\n    y = round(-matrix.f || 0, 1000);\n\n    box = this._cachedViewbox = {\n      x: x ? x / scale : 0,\n      y: y ? y / scale : 0,\n      width: outerBox.width / scale,\n      height: outerBox.height / scale,\n      scale: scale,\n      inner: {\n        width: innerBox.width,\n        height: innerBox.height,\n        x: innerBox.x,\n        y: innerBox.y\n      },\n      outer: outerBox\n    };\n\n    return box;\n  } else {\n\n    this._changeViewbox(function() {\n      scale = Math.min(outerBox.width / box.width, outerBox.height / box.height);\n\n      var matrix = this._svg.createSVGMatrix()\n        .scale(scale)\n        .translate(-box.x, -box.y);\n\n      svgTransform(viewport, matrix);\n    });\n  }\n\n  return box;\n};\n\n\n/**\n * Gets or sets the scroll of the canvas.\n *\n * @param {Object} [delta] the new scroll to apply.\n *\n * @param {number} [delta.dx]\n * @param {number} [delta.dy]\n */\nCanvas.prototype.scroll = function(delta) {\n\n  var node = this._viewport;\n  var matrix = node.getCTM();\n\n  if (delta) {\n    this._changeViewbox(function() {\n      delta = assign({ dx: 0, dy: 0 }, delta || {});\n\n      matrix = this._svg.createSVGMatrix().translate(delta.dx, delta.dy).multiply(matrix);\n\n      setCTM(node, matrix);\n    });\n  }\n\n  return { x: matrix.e, y: matrix.f };\n};\n\n\n/**\n * Gets or sets the current zoom of the canvas, optionally zooming\n * to the specified position.\n *\n * The getter may return a cached zoom level. Call it with `false` as\n * the first argument to force recomputation of the current level.\n *\n * @param {string|number} [newScale] the new zoom level, either a number, i.e. 0.9,\n *                                   or `fit-viewport` to adjust the size to fit the current viewport\n * @param {string|Point} [center] the reference point { x: .., y: ..} to zoom to, 'auto' to zoom into mid or null\n *\n * @return {number} the current scale\n */\nCanvas.prototype.zoom = function(newScale, center) {\n\n  if (!newScale) {\n    return this.viewbox(newScale).scale;\n  }\n\n  if (newScale === 'fit-viewport') {\n    return this._fitViewport(center);\n  }\n\n  var outer,\n      matrix;\n\n  this._changeViewbox(function() {\n\n    if (typeof center !== 'object') {\n      outer = this.viewbox().outer;\n\n      center = {\n        x: outer.width / 2,\n        y: outer.height / 2\n      };\n    }\n\n    matrix = this._setZoom(newScale, center);\n  });\n\n  return round(matrix.a, 1000);\n};\n\nfunction setCTM(node, m) {\n  var mstr = 'matrix(' + m.a + ',' + m.b + ',' + m.c + ',' + m.d + ',' + m.e + ',' + m.f + ')';\n  node.setAttribute('transform', mstr);\n}\n\nCanvas.prototype._fitViewport = function(center) {\n\n  var vbox = this.viewbox(),\n      outer = vbox.outer,\n      inner = vbox.inner,\n      newScale,\n      newViewbox;\n\n  // display the complete diagram without zooming in.\n  // instead of relying on internal zoom, we perform a\n  // hard reset on the canvas viewbox to realize this\n  //\n  // if diagram does not need to be zoomed in, we focus it around\n  // the diagram origin instead\n\n  if (inner.x >= 0 &&\n      inner.y >= 0 &&\n      inner.x + inner.width <= outer.width &&\n      inner.y + inner.height <= outer.height &&\n      !center) {\n\n    newViewbox = {\n      x: 0,\n      y: 0,\n      width: Math.max(inner.width + inner.x, outer.width),\n      height: Math.max(inner.height + inner.y, outer.height)\n    };\n  } else {\n\n    newScale = Math.min(1, outer.width / inner.width, outer.height / inner.height);\n    newViewbox = {\n      x: inner.x + (center ? inner.width / 2 - outer.width / newScale / 2 : 0),\n      y: inner.y + (center ? inner.height / 2 - outer.height / newScale / 2 : 0),\n      width: outer.width / newScale,\n      height: outer.height / newScale\n    };\n  }\n\n  this.viewbox(newViewbox);\n\n  return this.viewbox(false).scale;\n};\n\n\nCanvas.prototype._setZoom = function(scale, center) {\n\n  var svg = this._svg,\n      viewport = this._viewport;\n\n  var matrix = svg.createSVGMatrix();\n  var point = svg.createSVGPoint();\n\n  var centerPoint,\n      originalPoint,\n      currentMatrix,\n      scaleMatrix,\n      newMatrix;\n\n  currentMatrix = viewport.getCTM();\n\n  var currentScale = currentMatrix.a;\n\n  if (center) {\n    centerPoint = assign(point, center);\n\n    // revert applied viewport transformations\n    originalPoint = centerPoint.matrixTransform(currentMatrix.inverse());\n\n    // create scale matrix\n    scaleMatrix = matrix\n      .translate(originalPoint.x, originalPoint.y)\n      .scale(1 / currentScale * scale)\n      .translate(-originalPoint.x, -originalPoint.y);\n\n    newMatrix = currentMatrix.multiply(scaleMatrix);\n  } else {\n    newMatrix = matrix.scale(scale);\n  }\n\n  setCTM(this._viewport, newMatrix);\n\n  return newMatrix;\n};\n\n\n/**\n * Returns the size of the canvas\n *\n * @return {Dimensions}\n */\nCanvas.prototype.getSize = function() {\n  return {\n    width: this._container.clientWidth,\n    height: this._container.clientHeight\n  };\n};\n\n\n/**\n * Return the absolute bounding box for the given element\n *\n * The absolute bounding box may be used to display overlays in the\n * callers (browser) coordinate system rather than the zoomed in/out\n * canvas coordinates.\n *\n * @param  {ElementDescriptor} element\n * @return {Bounds} the absolute bounding box\n */\nCanvas.prototype.getAbsoluteBBox = function(element) {\n  var vbox = this.viewbox();\n  var bbox;\n\n  // connection\n  // use svg bbox\n  if (element.waypoints) {\n    var gfx = this.getGraphics(element);\n\n    bbox = gfx.getBBox();\n  }\n\n  // shapes\n  // use data\n  else {\n    bbox = element;\n  }\n\n  var x = bbox.x * vbox.scale - vbox.x * vbox.scale;\n  var y = bbox.y * vbox.scale - vbox.y * vbox.scale;\n\n  var width = bbox.width * vbox.scale;\n  var height = bbox.height * vbox.scale;\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n};\n\n/**\n * Fires an event in order other modules can react to the\n * canvas resizing\n */\nCanvas.prototype.resized = function() {\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n\n  this._eventBus.fire('canvas.resized');\n};\n","var ELEMENT_ID = 'data-element-id';\n\nimport { attr as svgAttr } from 'tiny-svg';\n\n\n/**\n * @class\n *\n * A registry that keeps track of all shapes in the diagram.\n */\nexport default function ElementRegistry(eventBus) {\n  this._elements = {};\n\n  this._eventBus = eventBus;\n}\n\nElementRegistry.$inject = [ 'eventBus' ];\n\n/**\n * Register a pair of (element, gfx, (secondaryGfx)).\n *\n * @param {djs.model.Base} element\n * @param {SVGElement} gfx\n * @param {SVGElement} [secondaryGfx] optional other element to register, too\n */\nElementRegistry.prototype.add = function(element, gfx, secondaryGfx) {\n\n  var id = element.id;\n\n  this._validateId(id);\n\n  // associate dom node with element\n  svgAttr(gfx, ELEMENT_ID, id);\n\n  if (secondaryGfx) {\n    svgAttr(secondaryGfx, ELEMENT_ID, id);\n  }\n\n  this._elements[id] = { element: element, gfx: gfx, secondaryGfx: secondaryGfx };\n};\n\n/**\n * Removes an element from the registry.\n *\n * @param {djs.model.Base} element\n */\nElementRegistry.prototype.remove = function(element) {\n  var elements = this._elements,\n      id = element.id || element,\n      container = id && elements[id];\n\n  if (container) {\n\n    // unset element id on gfx\n    svgAttr(container.gfx, ELEMENT_ID, '');\n\n    if (container.secondaryGfx) {\n      svgAttr(container.secondaryGfx, ELEMENT_ID, '');\n    }\n\n    delete elements[id];\n  }\n};\n\n/**\n * Update the id of an element\n *\n * @param {djs.model.Base} element\n * @param {string} newId\n */\nElementRegistry.prototype.updateId = function(element, newId) {\n\n  this._validateId(newId);\n\n  if (typeof element === 'string') {\n    element = this.get(element);\n  }\n\n  this._eventBus.fire('element.updateId', {\n    element: element,\n    newId: newId\n  });\n\n  var gfx = this.getGraphics(element),\n      secondaryGfx = this.getGraphics(element, true);\n\n  this.remove(element);\n\n  element.id = newId;\n\n  this.add(element, gfx, secondaryGfx);\n};\n\n/**\n * Return the model element for a given id or graphics.\n *\n * @example\n *\n * elementRegistry.get('SomeElementId_1');\n * elementRegistry.get(gfx);\n *\n *\n * @param {string|SVGElement} filter for selecting the element\n *\n * @return {djs.model.Base}\n */\nElementRegistry.prototype.get = function(filter) {\n  var id;\n\n  if (typeof filter === 'string') {\n    id = filter;\n  } else {\n    id = filter && svgAttr(filter, ELEMENT_ID);\n  }\n\n  var container = this._elements[id];\n  return container && container.element;\n};\n\n/**\n * Return all elements that match a given filter function.\n *\n * @param {Function} fn\n *\n * @return {Array<djs.model.Base>}\n */\nElementRegistry.prototype.filter = function(fn) {\n\n  var filtered = [];\n\n  this.forEach(function(element, gfx) {\n    if (fn(element, gfx)) {\n      filtered.push(element);\n    }\n  });\n\n  return filtered;\n};\n\n/**\n * Return the first element that satisfies the provided testing function.\n *\n * @param {Function} fn\n *\n * @return {djs.model.Base}\n */\nElementRegistry.prototype.find = function(fn) {\n  var map = this._elements,\n      keys = Object.keys(map);\n\n  for (var i = 0; i < keys.length; i++) {\n    var id = keys[i],\n        container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    if (fn(element, gfx)) {\n      return element;\n    }\n  }\n};\n\n/**\n * Return all rendered model elements.\n *\n * @return {Array<djs.model.Base>}\n */\nElementRegistry.prototype.getAll = function() {\n  return this.filter(function(e) { return e; });\n};\n\n/**\n * Iterate over all diagram elements.\n *\n * @param {Function} fn\n */\nElementRegistry.prototype.forEach = function(fn) {\n\n  var map = this._elements;\n\n  Object.keys(map).forEach(function(id) {\n    var container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    return fn(element, gfx);\n  });\n};\n\n/**\n * Return the graphical representation of an element or its id.\n *\n * @example\n * elementRegistry.getGraphics('SomeElementId_1');\n * elementRegistry.getGraphics(rootElement); // <g ...>\n *\n * elementRegistry.getGraphics(rootElement, true); // <svg ...>\n *\n *\n * @param {string|djs.model.Base} filter\n * @param {boolean} [secondary=false] whether to return the secondary connected element\n *\n * @return {SVGElement}\n */\nElementRegistry.prototype.getGraphics = function(filter, secondary) {\n  var id = filter.id || filter;\n\n  var container = this._elements[id];\n  return container && (secondary ? container.secondaryGfx : container.gfx);\n};\n\n/**\n * Validate the suitability of the given id and signals a problem\n * with an exception.\n *\n * @param {string} id\n *\n * @throws {Error} if id is empty or already assigned\n */\nElementRegistry.prototype._validateId = function(id) {\n  if (!id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elements[id]) {\n    throw new Error('element with id ' + id + ' already added');\n  }\n};\n","'use strict';\n\n/**\n * An empty collection stub. Use {@link RefsCollection.extend} to extend a\n * collection with ref semantics.\n *\n * @class RefsCollection\n */\n\n/**\n * Extends a collection with {@link Refs} aware methods\n *\n * @memberof RefsCollection\n * @static\n *\n * @param  {Array<Object>} collection\n * @param  {Refs} refs instance\n * @param  {Object} property represented by the collection\n * @param  {Object} target object the collection is attached to\n *\n * @return {RefsCollection<Object>} the extended array\n */\nfunction extend(collection, refs, property, target) {\n\n  var inverseProperty = property.inverse;\n\n  /**\n   * Removes the given element from the array and returns it.\n   *\n   * @method RefsCollection#remove\n   *\n   * @param {Object} element the element to remove\n   */\n  Object.defineProperty(collection, 'remove', {\n    value: function(element) {\n      var idx = this.indexOf(element);\n      if (idx !== -1) {\n        this.splice(idx, 1);\n\n        // unset inverse\n        refs.unset(element, inverseProperty, target);\n      }\n\n      return element;\n    }\n  });\n\n  /**\n   * Returns true if the collection contains the given element\n   *\n   * @method RefsCollection#contains\n   *\n   * @param {Object} element the element to check for\n   */\n  Object.defineProperty(collection, 'contains', {\n    value: function(element) {\n      return this.indexOf(element) !== -1;\n    }\n  });\n\n  /**\n   * Adds an element to the array, unless it exists already (set semantics).\n   *\n   * @method RefsCollection#add\n   *\n   * @param {Object} element the element to add\n   * @param {Number} optional index to add element to\n   *                 (possibly moving other elements around)\n   */\n  Object.defineProperty(collection, 'add', {\n    value: function(element, idx) {\n\n      var currentIdx = this.indexOf(element);\n\n      if (typeof idx === 'undefined') {\n\n        if (currentIdx !== -1) {\n          // element already in collection (!)\n          return;\n        }\n\n        // add to end of array, as no idx is specified\n        idx = this.length;\n      }\n\n      // handle already in collection\n      if (currentIdx !== -1) {\n\n        // remove element from currentIdx\n        this.splice(currentIdx, 1);\n      }\n\n      // add element at idx\n      this.splice(idx, 0, element);\n\n      if (currentIdx === -1) {\n        // set inverse, unless element was\n        // in collection already\n        refs.set(element, inverseProperty, target);\n      }\n    }\n  });\n\n  // a simple marker, identifying this element\n  // as being a refs collection\n  Object.defineProperty(collection, '__refs_collection', {\n    value: true\n  });\n\n  return collection;\n}\n\n\nfunction isExtended(collection) {\n  return collection.__refs_collection === true;\n}\n\nmodule.exports.extend = extend;\n\nmodule.exports.isExtended = isExtended;","'use strict';\n\nvar Collection = require('./collection');\n\nfunction hasOwnProperty(e, property) {\n  return Object.prototype.hasOwnProperty.call(e, property.name || property);\n}\n\nfunction defineCollectionProperty(ref, property, target) {\n\n  var collection = Collection.extend(target[property.name] || [], ref, property, target);\n\n  Object.defineProperty(target, property.name, {\n    enumerable: property.enumerable,\n    value: collection\n  });\n\n  if (collection.length) {\n\n    collection.forEach(function(o) {\n      ref.set(o, property.inverse, target);\n    });\n  }\n}\n\n\nfunction defineProperty(ref, property, target) {\n\n  var inverseProperty = property.inverse;\n\n  var _value = target[property.name];\n\n  Object.defineProperty(target, property.name, {\n    configurable: property.configurable,\n    enumerable: property.enumerable,\n\n    get: function() {\n      return _value;\n    },\n\n    set: function(value) {\n\n      // return if we already performed all changes\n      if (value === _value) {\n        return;\n      }\n\n      var old = _value;\n\n      // temporary set null\n      _value = null;\n\n      if (old) {\n        ref.unset(old, inverseProperty, target);\n      }\n\n      // set new value\n      _value = value;\n\n      // set inverse value\n      ref.set(_value, inverseProperty, target);\n    }\n  });\n\n}\n\n/**\n * Creates a new references object defining two inversly related\n * attribute descriptors a and b.\n *\n * <p>\n *   When bound to an object using {@link Refs#bind} the references\n *   get activated and ensure that add and remove operations are applied\n *   reversely, too.\n * </p>\n *\n * <p>\n *   For attributes represented as collections {@link Refs} provides the\n *   {@link RefsCollection#add}, {@link RefsCollection#remove} and {@link RefsCollection#contains} extensions\n *   that must be used to properly hook into the inverse change mechanism.\n * </p>\n *\n * @class Refs\n *\n * @classdesc A bi-directional reference between two attributes.\n *\n * @param {Refs.AttributeDescriptor} a property descriptor\n * @param {Refs.AttributeDescriptor} b property descriptor\n *\n * @example\n *\n * var refs = Refs({ name: 'wheels', collection: true, enumerable: true }, { name: 'car' });\n *\n * var car = { name: 'toyota' };\n * var wheels = [{ pos: 'front-left' }, { pos: 'front-right' }];\n *\n * refs.bind(car, 'wheels');\n *\n * car.wheels // []\n * car.wheels.add(wheels[0]);\n * car.wheels.add(wheels[1]);\n *\n * car.wheels // [{ pos: 'front-left' }, { pos: 'front-right' }]\n *\n * wheels[0].car // { name: 'toyota' };\n * car.wheels.remove(wheels[0]);\n *\n * wheels[0].car // undefined\n */\nfunction Refs(a, b) {\n\n  if (!(this instanceof Refs)) {\n    return new Refs(a, b);\n  }\n\n  // link\n  a.inverse = b;\n  b.inverse = a;\n\n  this.props = {};\n  this.props[a.name] = a;\n  this.props[b.name] = b;\n}\n\n/**\n * Binds one side of a bi-directional reference to a\n * target object.\n *\n * @memberOf Refs\n *\n * @param  {Object} target\n * @param  {String} property\n */\nRefs.prototype.bind = function(target, property) {\n  if (typeof property === 'string') {\n    if (!this.props[property]) {\n      throw new Error('no property <' + property + '> in ref');\n    }\n    property = this.props[property];\n  }\n\n  if (property.collection) {\n    defineCollectionProperty(this, property, target);\n  } else {\n    defineProperty(this, property, target);\n  }\n};\n\nRefs.prototype.ensureRefsCollection = function(target, property) {\n\n  var collection = target[property.name];\n\n  if (!Collection.isExtended(collection)) {\n    defineCollectionProperty(this, property, target);\n  }\n\n  return collection;\n};\n\nRefs.prototype.ensureBound = function(target, property) {\n  if (!hasOwnProperty(target, property)) {\n    this.bind(target, property);\n  }\n};\n\nRefs.prototype.unset = function(target, property, value) {\n\n  if (target) {\n    this.ensureBound(target, property);\n\n    if (property.collection) {\n      this.ensureRefsCollection(target, property).remove(value);\n    } else {\n      target[property.name] = undefined;\n    }\n  }\n};\n\nRefs.prototype.set = function(target, property, value) {\n\n  if (target) {\n    this.ensureBound(target, property);\n\n    if (property.collection) {\n      this.ensureRefsCollection(target, property).add(value);\n    } else {\n      target[property.name] = value;\n    }\n  }\n};\n\nmodule.exports = Refs;\n\n\n/**\n * An attribute descriptor to be used specify an attribute in a {@link Refs} instance\n *\n * @typedef {Object} Refs.AttributeDescriptor\n * @property {String} name\n * @property {boolean} [collection=false]\n * @property {boolean} [enumerable=false]\n */","module.exports = require('./lib/refs');\n\nmodule.exports.Collection = require('./lib/collection');","import { assign } from 'min-dash';\nimport inherits from 'inherits';\n\nimport Refs from 'object-refs';\n\nvar parentRefs = new Refs({ name: 'children', enumerable: true, collection: true }, { name: 'parent' }),\n    labelRefs = new Refs({ name: 'labels', enumerable: true, collection: true }, { name: 'labelTarget' }),\n    attacherRefs = new Refs({ name: 'attachers', collection: true }, { name: 'host' }),\n    outgoingRefs = new Refs({ name: 'outgoing', collection: true }, { name: 'source' }),\n    incomingRefs = new Refs({ name: 'incoming', collection: true }, { name: 'target' });\n\n/**\n * @namespace djs.model\n */\n\n/**\n * @memberOf djs.model\n */\n\n/**\n * The basic graphical representation\n *\n * @class\n *\n * @abstract\n */\nexport function Base() {\n\n  /**\n   * The object that backs up the shape\n   *\n   * @name Base#businessObject\n   * @type Object\n   */\n  Object.defineProperty(this, 'businessObject', {\n    writable: true\n  });\n\n\n  /**\n   * Single label support, will mapped to multi label array\n   *\n   * @name Base#label\n   * @type Object\n   */\n  Object.defineProperty(this, 'label', {\n    get: function() {\n      return this.labels[0];\n    },\n    set: function(newLabel) {\n\n      var label = this.label,\n          labels = this.labels;\n\n      if (!newLabel && label) {\n        labels.remove(label);\n      } else {\n        labels.add(newLabel, 0);\n      }\n    }\n  });\n\n  /**\n   * The parent shape\n   *\n   * @name Base#parent\n   * @type Shape\n   */\n  parentRefs.bind(this, 'parent');\n\n  /**\n   * The list of labels\n   *\n   * @name Base#labels\n   * @type Label\n   */\n  labelRefs.bind(this, 'labels');\n\n  /**\n   * The list of outgoing connections\n   *\n   * @name Base#outgoing\n   * @type Array<Connection>\n   */\n  outgoingRefs.bind(this, 'outgoing');\n\n  /**\n   * The list of incoming connections\n   *\n   * @name Base#incoming\n   * @type Array<Connection>\n   */\n  incomingRefs.bind(this, 'incoming');\n}\n\n\n/**\n * A graphical object\n *\n * @class\n * @constructor\n *\n * @extends Base\n */\nexport function Shape() {\n  Base.call(this);\n\n  /**\n   * Indicates frame shapes\n   *\n   * @name Shape#isFrame\n   * @type boolean\n   */\n\n  /**\n   * The list of children\n   *\n   * @name Shape#children\n   * @type Array<Base>\n   */\n  parentRefs.bind(this, 'children');\n\n  /**\n   * @name Shape#host\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'host');\n\n  /**\n   * @name Shape#attachers\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'attachers');\n}\n\ninherits(Shape, Base);\n\n\n/**\n * A root graphical object\n *\n * @class\n * @constructor\n *\n * @extends Shape\n */\nexport function Root() {\n  Shape.call(this);\n}\n\ninherits(Root, Shape);\n\n\n/**\n * A label for an element\n *\n * @class\n * @constructor\n *\n * @extends Shape\n */\nexport function Label() {\n  Shape.call(this);\n\n  /**\n   * The labeled element\n   *\n   * @name Label#labelTarget\n   * @type Base\n   */\n  labelRefs.bind(this, 'labelTarget');\n}\n\ninherits(Label, Shape);\n\n\n/**\n * A connection between two elements\n *\n * @class\n * @constructor\n *\n * @extends Base\n */\nexport function Connection() {\n  Base.call(this);\n\n  /**\n   * The element this connection originates from\n   *\n   * @name Connection#source\n   * @type Base\n   */\n  outgoingRefs.bind(this, 'source');\n\n  /**\n   * The element this connection points to\n   *\n   * @name Connection#target\n   * @type Base\n   */\n  incomingRefs.bind(this, 'target');\n}\n\ninherits(Connection, Base);\n\n\nvar types = {\n  connection: Connection,\n  shape: Shape,\n  label: Label,\n  root: Root\n};\n\n/**\n * Creates a new model element of the specified type\n *\n * @method create\n *\n * @example\n *\n * var shape1 = Model.create('shape', { x: 10, y: 10, width: 100, height: 100 });\n * var shape2 = Model.create('shape', { x: 210, y: 210, width: 100, height: 100 });\n *\n * var connection = Model.create('connection', { waypoints: [ { x: 110, y: 55 }, {x: 210, y: 55 } ] });\n *\n * @param  {string} type lower-cased model name\n * @param  {Object} attrs attributes to initialize the new model instance with\n *\n * @return {Base} the new model instance\n */\nexport function create(type, attrs) {\n  var Type = types[type];\n  if (!Type) {\n    throw new Error('unknown type: <' + type + '>');\n  }\n  return assign(new Type(), attrs);\n}","import {\n  create\n} from '../model';\n\nimport { assign } from 'min-dash';\n\n/**\n * A factory for diagram-js shapes\n */\nexport default function ElementFactory() {\n  this._uid = 12;\n}\n\n\nElementFactory.prototype.createRoot = function(attrs) {\n  return this.create('root', attrs);\n};\n\nElementFactory.prototype.createLabel = function(attrs) {\n  return this.create('label', attrs);\n};\n\nElementFactory.prototype.createShape = function(attrs) {\n  return this.create('shape', attrs);\n};\n\nElementFactory.prototype.createConnection = function(attrs) {\n  return this.create('connection', attrs);\n};\n\n/**\n * Create a model element with the given type and\n * a number of pre-set attributes.\n *\n * @param  {string} type\n * @param  {Object} attrs\n * @return {djs.model.Base} the newly created model instance\n */\nElementFactory.prototype.create = function(type, attrs) {\n\n  attrs = assign({}, attrs || {});\n\n  if (!attrs.id) {\n    attrs.id = type + '_' + (this._uid++);\n  }\n\n  return create(type, attrs);\n};","/**\n * SVGs for elements are generated by the {@link GraphicsFactory}.\n *\n * This utility gives quick access to the important semantic\n * parts of an element.\n */\n\n/**\n * Returns the visual part of a diagram element\n *\n * @param {Snap<SVGElement>} gfx\n *\n * @return {Snap<SVGElement>}\n */\nexport function getVisual(gfx) {\n  return gfx.childNodes[0];\n}\n\n/**\n * Returns the children for a given diagram element.\n *\n * @param {Snap<SVGElement>} gfx\n * @return {Snap<SVGElement>}\n */\nexport function getChildren(gfx) {\n  return gfx.parentNode.childNodes[1];\n}","import {\r\n  transform as svgTransform,\r\n  createTransform\r\n} from 'tiny-svg';\r\n\r\n\r\n/**\r\n * @param {<SVGElement>} element\r\n * @param {number} x\r\n * @param {number} y\r\n * @param {number} angle\r\n * @param {number} amount\r\n */\r\nexport function transform(gfx, x, y, angle, amount) {\r\n  var translate = createTransform();\r\n  translate.setTranslate(x, y);\r\n\r\n  var rotate = createTransform();\r\n  rotate.setRotate(angle || 0, 0, 0);\r\n\r\n  var scale = createTransform();\r\n  scale.setScale(amount || 1, amount || 1);\r\n\r\n  svgTransform(gfx, [ translate, rotate, scale ]);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} element\r\n * @param {number} x\r\n * @param {number} y\r\n */\r\nexport function translate(gfx, x, y) {\r\n  var translate = createTransform();\r\n  translate.setTranslate(x, y);\r\n\r\n  svgTransform(gfx, translate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} element\r\n * @param {number} angle\r\n */\r\nexport function rotate(gfx, angle) {\r\n  var rotate = createTransform();\r\n  rotate.setRotate(angle, 0, 0);\r\n\r\n  svgTransform(gfx, rotate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} element\r\n * @param {number} amount\r\n */\r\nexport function scale(gfx, amount) {\r\n  var scale = createTransform();\r\n  scale.setScale(amount, amount);\r\n\r\n  svgTransform(gfx, scale);\r\n}","/**\n * Set attribute `name` to `val`, or get attr `name`.\n *\n * @param {Element} el\n * @param {String} name\n * @param {String} [val]\n * @api public\n */\nfunction attr(el, name, val) {\n  // get\n  if (arguments.length == 2) {\n    return el.getAttribute(name);\n  }\n\n  // remove\n  if (val === null) {\n    return el.removeAttribute(name);\n  }\n\n  // set\n  el.setAttribute(name, val);\n\n  return el;\n}\n\nvar indexOf = [].indexOf;\n\nvar indexof = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n\n/**\n * Taken from https://github.com/component/classes\n *\n * Without the component bits.\n */\n\n/**\n * Whitespace regexp.\n */\n\nvar re = /\\s+/;\n\n/**\n * toString reference.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nfunction classes(el) {\n  return new ClassList(el);\n}\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n  this.el = el;\n  this.list = el.classList;\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function (name) {\n  // classList\n  if (this.list) {\n    this.list.add(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = indexof(arr, name);\n  if (!~i) arr.push(name);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function (name) {\n  if ('[object RegExp]' == toString.call(name)) {\n    return this.removeMatching(name);\n  }\n\n  // classList\n  if (this.list) {\n    this.list.remove(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = indexof(arr, name);\n  if (~i) arr.splice(i, 1);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove all classes matching `re`.\n *\n * @param {RegExp} re\n * @return {ClassList}\n * @api private\n */\n\nClassList.prototype.removeMatching = function (re) {\n  var arr = this.array();\n  for (var i = 0; i < arr.length; i++) {\n    if (re.test(arr[i])) {\n      this.remove(arr[i]);\n    }\n  }\n  return this;\n};\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function (name, force) {\n  // classList\n  if (this.list) {\n    if ('undefined' !== typeof force) {\n      if (force !== this.list.toggle(name, force)) {\n        this.list.toggle(name); // toggle again to correct\n      }\n    } else {\n      this.list.toggle(name);\n    }\n    return this;\n  }\n\n  // fallback\n  if ('undefined' !== typeof force) {\n    if (!force) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  } else {\n    if (this.has(name)) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function () {\n  var className = this.el.getAttribute('class') || '';\n  var str = className.replace(/^\\s+|\\s+$/g, '');\n  var arr = str.split(re);\n  if ('' === arr[0]) arr.shift();\n  return arr;\n};\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has = ClassList.prototype.contains = function (name) {\n  return this.list ? this.list.contains(name) : !!~indexof(this.array(), name);\n};\n\n/**\n * Remove all children from the given element.\n */\nfunction clear(el) {\n\n  var c;\n\n  while (el.childNodes.length) {\n    c = el.childNodes[0];\n    el.removeChild(c);\n  }\n\n  return el;\n}\n\nvar proto = typeof Element !== 'undefined' ? Element.prototype : {};\nvar vendor = proto.matches\n  || proto.matchesSelector\n  || proto.webkitMatchesSelector\n  || proto.mozMatchesSelector\n  || proto.msMatchesSelector\n  || proto.oMatchesSelector;\n\nvar matchesSelector = match;\n\n/**\n * Match `el` to `selector`.\n *\n * @param {Element} el\n * @param {String} selector\n * @return {Boolean}\n * @api public\n */\n\nfunction match(el, selector) {\n  if (!el || el.nodeType !== 1) return false;\n  if (vendor) return vendor.call(el, selector);\n  var nodes = el.parentNode.querySelectorAll(selector);\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i] == el) return true;\n  }\n  return false;\n}\n\n/**\n * Closest\n *\n * @param {Element} el\n * @param {String} selector\n * @param {Boolean} checkYourSelf (optional)\n */\nfunction closest (element, selector, checkYourSelf) {\n  var currentElem = checkYourSelf ? element : element.parentNode;\n\n  while (currentElem && currentElem.nodeType !== document.DOCUMENT_NODE && currentElem.nodeType !== document.DOCUMENT_FRAGMENT_NODE) {\n\n    if (matchesSelector(currentElem, selector)) {\n      return currentElem;\n    }\n\n    currentElem = currentElem.parentNode;\n  }\n\n  return matchesSelector(currentElem, selector) ? currentElem : null;\n}\n\nvar bind = window.addEventListener ? 'addEventListener' : 'attachEvent',\n    unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent',\n    prefix = bind !== 'addEventListener' ? 'on' : '';\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar bind_1 = function(el, type, fn, capture){\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar unbind_1 = function(el, type, fn, capture){\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};\n\nvar componentEvent = {\n\tbind: bind_1,\n\tunbind: unbind_1\n};\n\n/**\n * Module dependencies.\n */\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = ['focus', 'blur'];\n\nfunction bind$1(el, selector, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return componentEvent.bind(el, type, function (e) {\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true, el);\n    if (e.delegateTarget) {\n      fn.call(el, e);\n    }\n  }, capture);\n}\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\nfunction unbind$1(el, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return componentEvent.unbind(el, type, fn, capture);\n}\n\nvar delegate = {\n  bind: bind$1,\n  unbind: unbind$1\n};\n\n/**\n * Expose `parse`.\n */\n\nvar domify = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = map[tag] || map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n\nfunction query(selector, el) {\n  el = el || document;\n\n  return el.querySelector(selector);\n}\n\nfunction all(selector, el) {\n  el = el || document;\n\n  return el.querySelectorAll(selector);\n}\n\nfunction remove(el) {\n  el.parentNode && el.parentNode.removeChild(el);\n}\n\nexport { attr, classes, clear, closest, delegate, domify, componentEvent as event, matchesSelector as matches, query, all as queryAll, remove };\n","import {\n  forEach,\n  reduce\n} from 'min-dash';\n\nimport {\n  getChildren,\n  getVisual\n} from '../util/GraphicsUtil';\n\nimport { translate } from '../util/SvgTransformUtil';\n\nimport { clear as domClear } from 'min-dom';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  isFrameElement\n} from '../util/Elements';\n\n/**\n * A factory that creates graphical elements\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n */\nexport default function GraphicsFactory(eventBus, elementRegistry) {\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n}\n\nGraphicsFactory.$inject = [ 'eventBus' , 'elementRegistry' ];\n\n\nGraphicsFactory.prototype._getChildrenContainer = function(element) {\n\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  var childrenGfx;\n\n  // root element\n  if (!element.parent) {\n    childrenGfx = gfx;\n  } else {\n    childrenGfx = getChildren(gfx);\n    if (!childrenGfx) {\n      childrenGfx = svgCreate('g');\n      svgClasses(childrenGfx).add('djs-children');\n\n      svgAppend(gfx.parentNode, childrenGfx);\n    }\n  }\n\n  return childrenGfx;\n};\n\n/**\n * Clears the graphical representation of the element and returns the\n * cleared visual (the <g class=\"djs-visual\" /> element).\n */\nGraphicsFactory.prototype._clear = function(gfx) {\n  var visual = getVisual(gfx);\n\n  domClear(visual);\n\n  return visual;\n};\n\n/**\n * Creates a gfx container for shapes and connections\n *\n * The layout is as follows:\n *\n * <g class=\"djs-group\">\n *\n *   <!-- the gfx -->\n *   <g class=\"djs-element djs-(shape|connection|frame)\">\n *     <g class=\"djs-visual\">\n *       <!-- the renderer draws in here -->\n *     </g>\n *\n *     <!-- extensions (overlays, click box, ...) goes here\n *   </g>\n *\n *   <!-- the gfx child nodes -->\n *   <g class=\"djs-children\"></g>\n * </g>\n *\n * @param {string} type the type of the element, i.e. shape | connection\n * @param {SVGElement} [childrenGfx]\n * @param {number} [parentIndex] position to create container in parent\n * @param {boolean} [isFrame] is frame element\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype._createContainer = function(\n    type, childrenGfx, parentIndex, isFrame\n) {\n  var outerGfx = svgCreate('g');\n  svgClasses(outerGfx).add('djs-group');\n\n  // insert node at position\n  if (typeof parentIndex !== 'undefined') {\n    prependTo(outerGfx, childrenGfx, childrenGfx.childNodes[parentIndex]);\n  } else {\n    svgAppend(childrenGfx, outerGfx);\n  }\n\n  var gfx = svgCreate('g');\n  svgClasses(gfx).add('djs-element');\n  svgClasses(gfx).add('djs-' + type);\n\n  if (isFrame) {\n    svgClasses(gfx).add('djs-frame');\n  }\n\n  svgAppend(outerGfx, gfx);\n\n  // create visual\n  var visual = svgCreate('g');\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(gfx, visual);\n\n  return gfx;\n};\n\nGraphicsFactory.prototype.create = function(type, element, parentIndex) {\n  var childrenGfx = this._getChildrenContainer(element.parent);\n  return this._createContainer(type, childrenGfx, parentIndex, isFrameElement(element));\n};\n\nGraphicsFactory.prototype.updateContainments = function(elements) {\n\n  var self = this,\n      elementRegistry = this._elementRegistry,\n      parents;\n\n  parents = reduce(elements, function(map, e) {\n\n    if (e.parent) {\n      map[e.parent.id] = e.parent;\n    }\n\n    return map;\n  }, {});\n\n  // update all parents of changed and reorganized their children\n  // in the correct order (as indicated in our model)\n  forEach(parents, function(parent) {\n\n    var children = parent.children;\n\n    if (!children) {\n      return;\n    }\n\n    var childrenGfx = self._getChildrenContainer(parent);\n\n    forEach(children.slice().reverse(), function(child) {\n      var childGfx = elementRegistry.getGraphics(child);\n\n      prependTo(childGfx.parentNode, childrenGfx);\n    });\n  });\n};\n\nGraphicsFactory.prototype.drawShape = function(visual, element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.shape', { gfx: visual, element: element });\n};\n\nGraphicsFactory.prototype.getShapePath = function(element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getShapePath', element);\n};\n\nGraphicsFactory.prototype.drawConnection = function(visual, element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.connection', { gfx: visual, element: element });\n};\n\nGraphicsFactory.prototype.getConnectionPath = function(waypoints) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getConnectionPath', waypoints);\n};\n\nGraphicsFactory.prototype.update = function(type, element, gfx) {\n\n  // do NOT update root element\n  if (!element.parent) {\n    return;\n  }\n\n  var visual = this._clear(gfx);\n\n  // redraw\n  if (type === 'shape') {\n    this.drawShape(visual, element);\n\n    // update positioning\n    translate(gfx, element.x, element.y);\n  } else\n  if (type === 'connection') {\n    this.drawConnection(visual, element);\n  } else {\n    throw new Error('unknown type: ' + type);\n  }\n\n  if (element.hidden) {\n    svgAttr(gfx, 'display', 'none');\n  } else {\n    svgAttr(gfx, 'display', 'block');\n  }\n};\n\nGraphicsFactory.prototype.remove = function(element) {\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  // remove\n  svgRemove(gfx.parentNode);\n};\n\n\n// helpers //////////\n\nfunction prependTo(newNode, parentNode, siblingNode) {\n  var node = siblingNode || parentNode.firstChild;\n\n  // do not prepend node to itself to prevent IE from crashing\n  // https://github.com/bpmn-io/bpmn-js/issues/746\n  if (newNode === node) {\n    return;\n  }\n\n  parentNode.insertBefore(newNode, node);\n}\n","import DrawModule from '../draw';\n\nimport Canvas from './Canvas';\nimport ElementRegistry from './ElementRegistry';\nimport ElementFactory from './ElementFactory';\nimport EventBus from './EventBus';\nimport GraphicsFactory from './GraphicsFactory';\n\nexport default {\n  __depends__: [ DrawModule ],\n  __init__: [ 'canvas' ],\n  canvas: [ 'type', Canvas ],\n  elementRegistry: [ 'type', ElementRegistry ],\n  elementFactory: [ 'type', ElementFactory ],\n  eventBus: [ 'type', EventBus ],\n  graphicsFactory: [ 'type', GraphicsFactory ]\n};","import { Injector } from 'didi';\n\nimport CoreModule from './core';\n\n\n/**\n * Bootstrap an injector from a list of modules, instantiating a number of default components\n *\n * @ignore\n * @param {Array<didi.Module>} bootstrapModules\n *\n * @return {didi.Injector} a injector to use to access the components\n */\nfunction bootstrap(bootstrapModules) {\n\n  var modules = [],\n      components = [];\n\n  function hasModule(m) {\n    return modules.indexOf(m) >= 0;\n  }\n\n  function addModule(m) {\n    modules.push(m);\n  }\n\n  function visit(m) {\n    if (hasModule(m)) {\n      return;\n    }\n\n    (m.__depends__ || []).forEach(visit);\n\n    if (hasModule(m)) {\n      return;\n    }\n\n    addModule(m);\n\n    (m.__init__ || []).forEach(function(c) {\n      components.push(c);\n    });\n  }\n\n  bootstrapModules.forEach(visit);\n\n  var injector = new Injector(modules);\n\n  components.forEach(function(c) {\n\n    try {\n\n      // eagerly resolve component (fn or string)\n      injector[typeof c === 'string' ? 'get' : 'invoke'](c);\n    } catch (e) {\n      console.error('Failed to instantiate component');\n      console.error(e.stack);\n\n      throw e;\n    }\n  });\n\n  return injector;\n}\n\n/**\n * Creates an injector from passed options.\n *\n * @ignore\n * @param  {Object} options\n * @return {didi.Injector}\n */\nfunction createInjector(options) {\n\n  options = options || {};\n\n  var configModule = {\n    'config': ['value', options]\n  };\n\n  var modules = [ configModule, CoreModule ].concat(options.modules || []);\n\n  return bootstrap(modules);\n}\n\n\n/**\n * The main diagram-js entry point that bootstraps the diagram with the given\n * configuration.\n *\n * To register extensions with the diagram, pass them as Array<didi.Module> to the constructor.\n *\n * @class djs.Diagram\n * @memberOf djs\n * @constructor\n *\n * @example\n *\n * <caption>Creating a plug-in that logs whenever a shape is added to the canvas.</caption>\n *\n * // plug-in implemenentation\n * function MyLoggingPlugin(eventBus) {\n *   eventBus.on('shape.added', function(event) {\n *     console.log('shape ', event.shape, ' was added to the diagram');\n *   });\n * }\n *\n * // export as module\n * export default {\n *   __init__: [ 'myLoggingPlugin' ],\n *     myLoggingPlugin: [ 'type', MyLoggingPlugin ]\n * };\n *\n *\n * // instantiate the diagram with the new plug-in\n *\n * import MyLoggingModule from 'path-to-my-logging-plugin';\n *\n * var diagram = new Diagram({\n *   modules: [\n *     MyLoggingModule\n *   ]\n * });\n *\n * diagram.invoke([ 'canvas', function(canvas) {\n *   // add shape to drawing canvas\n *   canvas.addShape({ x: 10, y: 10 });\n * });\n *\n * // 'shape ... was added to the diagram' logged to console\n *\n * @param {Object} options\n * @param {Array<didi.Module>} [options.modules] external modules to instantiate with the diagram\n * @param {didi.Injector} [injector] an (optional) injector to bootstrap the diagram with\n */\nexport default function Diagram(options, injector) {\n\n  // create injector unless explicitly specified\n  this.injector = injector = injector || createInjector(options);\n\n  // API\n\n  /**\n   * Resolves a diagram service\n   *\n   * @method Diagram#get\n   *\n   * @param {string} name the name of the diagram service to be retrieved\n   * @param {boolean} [strict=true] if false, resolve missing services to null\n   */\n  this.get = injector.get;\n\n  /**\n   * Executes a function into which diagram services are injected\n   *\n   * @method Diagram#invoke\n   *\n   * @param {Function|Object[]} fn the function to resolve\n   * @param {Object} locals a number of locals to use to resolve certain dependencies\n   */\n  this.invoke = injector.invoke;\n\n  // init\n\n  // indicate via event\n\n\n  /**\n   * An event indicating that all plug-ins are loaded.\n   *\n   * Use this event to fire other events to interested plug-ins\n   *\n   * @memberOf Diagram\n   *\n   * @event diagram.init\n   *\n   * @example\n   *\n   * eventBus.on('diagram.init', function() {\n   *   eventBus.fire('my-custom-event', { foo: 'BAR' });\n   * });\n   *\n   * @type {Object}\n   */\n  this.get('eventBus').fire('diagram.init');\n}\n\n\n/**\n * Destroys the diagram\n *\n * @method  Diagram#destroy\n */\nDiagram.prototype.destroy = function() {\n  this.get('eventBus').fire('diagram.destroy');\n};\n\n/**\n * Clear the diagram, removing all contents.\n */\nDiagram.prototype.clear = function() {\n  this.get('eventBus').fire('diagram.clear');\n};\n","export { default } from './lib/Diagram';","import {\n  forEach\n} from 'min-dash';\n\nimport Refs from 'object-refs';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nvar diRefs = new Refs(\n  { name: 'dmnElementRef', enumerable: true },\n  { name: 'di', configurable: true }\n);\n\nexport default function DRDTreeWalker(handler, options) {\n\n  // list of elements to handle deferred to ensure\n  // prerequisites are drawn\n  var deferred = [];\n\n  function visit(element) {\n\n    var gfx = element.gfx;\n\n    // avoid multiple rendering of elements\n    if (gfx) {\n      throw new Error('already rendered ' + element.id);\n    }\n\n    // call handler\n    return handler.element(element);\n  }\n\n  function visitRoot(element) {\n    return handler.root(element);\n  }\n\n  function visitIfDi(element) {\n\n    try {\n      var gfx = element.di && visit(element);\n\n      return gfx;\n    } catch (e) {\n      logError(e.message, { element: element, error: e });\n    }\n  }\n\n\n  // Semantic handling //////////////////////\n\n  /**\n   * Handle definitions and return the rendered diagram (if any)\n   *\n   * @param {ModdleElement} definitions to walk and import\n   * @param {ModdleElement} [diagram] specific diagram to import and display\n   *\n   * @throws {Error} if no diagram to display could be found\n   */\n  function handleDefinitions(definitions, diagram) {\n\n    // make sure we walk the correct dmnElement\n    var dmnDI = definitions.dmnDI;\n\n    if (!dmnDI) {\n      throw new Error('no dmndi:DMNDI');\n    }\n\n    var diagrams = dmnDI.diagrams || [];\n\n    if (diagram && diagrams.indexOf(diagram) === -1) {\n      throw new Error('diagram not part of dmndi:DMNDI');\n    }\n\n    if (!diagram && diagrams && diagrams.length) {\n      diagram = diagrams[0];\n    }\n\n    // no diagram -> nothing to import\n    if (!diagram) {\n      throw new Error('no diagram to display');\n    }\n\n    // assign current diagram to definitions so that it can accessed later\n    definitions.di = diagram;\n\n    // load DI from selected diagram only\n    handleDiagram(diagram);\n\n    visitRoot(definitions);\n\n    handleDrgElements(definitions.get('drgElement'));\n    handleArtifacts(definitions.get('artifact'));\n\n    handleDeferred();\n  }\n\n  function handleDrgElements(elements) {\n    forEach(elements, function(element) {\n      visitIfDi(element);\n\n      handleRequirements(element);\n    });\n  }\n\n  function handleArtifacts(elements) {\n    forEach(elements, function(element) {\n      if (is(element, 'dmn:Association')) {\n        handleAssociation(element);\n      } else {\n        visitIfDi(element);\n      }\n    });\n  }\n\n  /**\n   * Defer association visit until all shapes are visited.\n   *\n   * @param {ModdleElement} element\n   */\n  function handleAssociation(element) {\n    defer(function() {\n      visitIfDi(element);\n    });\n  }\n\n  /**\n   * Defer requirements visiting until all shapes are visited.\n   *\n   * @param {ModdleElement} element\n   */\n  function handleRequirements(element) {\n    forEach([\n      'informationRequirement',\n      'knowledgeRequirement',\n      'authorityRequirement'\n    ], function(requirements) {\n      forEach(element[requirements], function(requirement) {\n        defer(function() {\n          visitIfDi(requirement);\n        });\n      });\n    });\n  }\n\n  // DI handling //////////////////////\n  function handleDiagram(diagram) {\n    forEach(diagram.diagramElements, handleDiagramElement);\n  }\n\n  function handleDiagramElement(diagramElement) {\n    registerDi(diagramElement);\n  }\n\n  function registerDi(di) {\n    var dmnElement = di.dmnElementRef;\n\n    if (dmnElement) {\n      if (dmnElement.di) {\n        logError('multiple DI elements defined for element', { element: dmnElement });\n      } else {\n        diRefs.bind(dmnElement, 'di');\n        dmnElement.di = di;\n      }\n    } else {\n      logError('no DMN element referenced in element', { element: di });\n    }\n  }\n\n  function defer(fn) {\n    deferred.push(fn);\n  }\n\n  function handleDeferred() {\n    forEach(deferred, function(d) {\n      d();\n    });\n  }\n\n  function logError(message, context) {\n    handler.error(message, context);\n  }\n\n  // API //////////////////////\n\n  return {\n    handleDefinitions: handleDefinitions\n  };\n}\n","import DrdTreeWalker from './DrdTreeWalker';\n\n\n/**\n * Import the definitions into a diagram.\n *\n * Errors and warnings are reported through the specified callback.\n *\n * @param  {Drd} drd\n * @param  {ModdleElement} definitions\n * @param  {Function} done\n *         the callback, invoked with (err, [ warning ]) once the import is done\n */\nexport function importDRD(drd, definitions, done) {\n\n  var importer = drd.get('drdImporter'),\n      eventBus = drd.get('eventBus');\n\n  var error,\n      warnings = [];\n\n  function render(definitions) {\n\n    var visitor = {\n      root: function(element) {\n        return importer.root(element);\n      },\n\n      element: function(element, di) {\n        return importer.add(element, di);\n      },\n\n      error: function(message, context) {\n        warnings.push({ message: message, context: context });\n      }\n    };\n\n    var walker = new DrdTreeWalker(visitor);\n\n    // import\n    walker.handleDefinitions(definitions);\n  }\n\n  eventBus.fire('import.start', { definitions: definitions });\n\n  try {\n    render(definitions);\n  } catch (e) {\n    error = e;\n  }\n\n  eventBus.fire('import.done', { error: error, warnings: warnings });\n\n  done(error, warnings);\n}","import inherits from 'inherits';\n\nimport {\n  isArray,\n  isObject,\n  assign\n} from 'min-dash';\n\nimport {\n  attr as domAttr,\n  query as domQuery\n} from 'min-dom';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport BaseRenderer from 'diagram-js/lib/draw/BaseRenderer';\n\nimport {\n  createLine\n} from 'diagram-js/lib/util/RenderUtil';\n\nimport {\n  is,\n  getName\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default function DrdRenderer(eventBus, pathMap, styles, textRenderer) {\n\n  BaseRenderer.call(this, eventBus);\n\n  var markers = {};\n\n  function addMarker(id, element) {\n    markers[id] = element;\n  }\n\n  function marker(id) {\n    var marker = markers[id];\n\n    return 'url(#' + marker.id + ')';\n  }\n\n  function initMarkers(svg) {\n\n    function createMarker(id, options) {\n      var attrs = assign({\n        strokeWidth: 1,\n        strokeLinecap: 'round',\n        strokeDasharray: 'none'\n      }, options.attrs);\n\n      var ref = options.ref || { x: 0, y: 0 };\n\n      var scale = options.scale || 1;\n\n      // fix for safari / chrome / firefox bug not correctly\n      // resetting stroke dash array\n      if (attrs.strokeDasharray === 'none') {\n        attrs.strokeDasharray = [10000, 1];\n      }\n\n      var marker = svgCreate('marker');\n\n      svgAttr(options.element, attrs);\n\n      svgAppend(marker, options.element);\n\n      svgAttr(marker, {\n        id: id,\n        viewBox: '0 0 20 20',\n        refX: ref.x,\n        refY: ref.y,\n        markerWidth: 20 * scale,\n        markerHeight: 20 * scale,\n        orient: 'auto'\n      });\n\n      var defs = domQuery('defs', svg);\n\n      if (!defs) {\n        defs = svgCreate('defs');\n\n        svgAppend(svg, defs);\n      }\n\n      svgAppend(defs, marker);\n\n      return addMarker(id, marker);\n    }\n\n    var associationStart = svgCreate('path');\n    svgAttr(associationStart, { d: 'M 11 5 L 1 10 L 11 15' });\n\n    createMarker('association-start', {\n      element: associationStart,\n      attrs: {\n        fill: 'none',\n        stroke: 'black',\n        strokeWidth: 1.5\n      },\n      ref: { x: 1, y: 10 },\n      scale: 0.5\n    });\n\n    var associationEnd = svgCreate('path');\n    svgAttr(associationEnd, { d: 'M 1 5 L 11 10 L 1 15' });\n\n    createMarker('association-end', {\n      element: associationEnd,\n      attrs: {\n        fill: 'none',\n        stroke: 'black',\n        strokeWidth: 1.5\n      },\n      ref: { x: 12, y: 10 },\n      scale: 0.5\n    });\n\n    var informationRequirementEnd = svgCreate('path');\n    svgAttr(informationRequirementEnd, { d: 'M 1 5 L 11 10 L 1 15 Z' });\n\n    createMarker('information-requirement-end', {\n      element: informationRequirementEnd,\n      ref: { x: 11, y: 10 },\n      scale: 1\n    });\n\n    var knowledgeRequirementEnd = svgCreate('path');\n    svgAttr(knowledgeRequirementEnd, { d: 'M 1 3 L 11 10 L 1 17' });\n\n    createMarker('knowledge-requirement-end', {\n      element: knowledgeRequirementEnd,\n      attrs: {\n        fill: 'none',\n        stroke: 'black',\n        strokeWidth: 2\n      },\n      ref: { x: 11, y: 10 },\n      scale: 0.8\n    });\n\n    var authorityRequirementEnd = svgCreate('circle');\n    svgAttr(authorityRequirementEnd, { cx: 3, cy: 3, r: 3 });\n\n    createMarker('authority-requirement-end', {\n      element: authorityRequirementEnd,\n      ref: { x: 3, y: 3 },\n      scale: 0.9\n    });\n  }\n\n  function computeStyle(custom, traits, defaultStyles) {\n    if (!isArray(traits)) {\n      defaultStyles = traits;\n      traits = [];\n    }\n\n    return styles.style(traits || [], assign(defaultStyles, custom || {}));\n  }\n\n\n  function drawRect(p, width, height, r, offset, attrs) {\n\n    if (isObject(offset)) {\n      attrs = offset;\n      offset = 0;\n    }\n\n    offset = offset || 0;\n\n    attrs = computeStyle(attrs, {\n      stroke: 'black',\n      strokeWidth: 2,\n      fill: 'white'\n    });\n\n    var rect = svgCreate('rect');\n    svgAttr(rect, {\n      x: offset,\n      y: offset,\n      width: width - offset * 2,\n      height: height - offset * 2,\n      rx: r,\n      ry: r\n    });\n    svgAttr(rect, attrs);\n\n    svgAppend(p, rect);\n\n    return rect;\n  }\n\n  function renderLabel(p, label, options) {\n    var text = textRenderer.createText(label || '', options);\n\n    domAttr(text, 'class', 'djs-label');\n\n    svgAppend(p, text);\n\n    return text;\n  }\n\n  function renderEmbeddedLabel(p, element, align) {\n    var name = getName(element);\n    return renderLabel(p, name, { box: element, align: align, padding: 5 });\n  }\n\n  function drawPath(p, d, attrs) {\n\n    attrs = computeStyle(attrs, [ 'no-fill' ], {\n      strokeWidth: 2,\n      stroke: 'black'\n    });\n\n    var path = svgCreate('path');\n    svgAttr(path, { d: d });\n    svgAttr(path, attrs);\n\n    svgAppend(p, path);\n\n    return path;\n  }\n\n\n  var handlers = {\n    'dmn:Decision': function(p, element, attrs) {\n      var rect = drawRect(p, element.width, element.height, 0, attrs);\n\n      renderEmbeddedLabel(p, element, 'center-middle');\n\n      return rect;\n    },\n    'dmn:KnowledgeSource': function(p, element, attrs) {\n\n      var pathData = pathMap.getScaledPath('KNOWLEDGE_SOURCE', {\n        xScaleFactor: 1.021,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: element.height,\n        position: {\n          mx: 0.0,\n          my: 0.075\n        }\n      });\n\n      var knowledgeSource = drawPath(p, pathData, {\n        strokeWidth: 2,\n        fill: 'white',\n        stroke: 'black'\n      });\n\n      renderEmbeddedLabel(p, element, 'center-middle');\n\n      return knowledgeSource;\n    },\n    'dmn:BusinessKnowledgeModel': function(p, element, attrs) {\n\n      var pathData = pathMap.getScaledPath('BUSINESS_KNOWLEDGE_MODEL', {\n        xScaleFactor: 1,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: element.height,\n        position: {\n          mx: 0.0,\n          my: 0.3\n        }\n      });\n\n      var businessKnowledge = drawPath(p, pathData, {\n        strokeWidth: 2,\n        fill: 'white',\n        stroke: 'black'\n      });\n\n      renderEmbeddedLabel(p, element, 'center-middle');\n\n      return businessKnowledge;\n    },\n    'dmn:InputData': function(p, element, attrs) {\n\n      var rect = drawRect(p, element.width, element.height, 22, attrs);\n\n      renderEmbeddedLabel(p, element, 'center-middle');\n\n      return rect;\n    },\n    'dmn:TextAnnotation': function(p, element, attrs) {\n      var style = {\n        'fill': 'none',\n        'stroke': 'none'\n      };\n\n      var textElement = drawRect(p, element.width, element.height, 0, 0, style);\n\n      var textPathData = pathMap.getScaledPath('TEXT_ANNOTATION', {\n        xScaleFactor: 1,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: element.height,\n        position: {\n          mx: 0.0,\n          my: 0.0\n        }\n      });\n\n      drawPath(p, textPathData);\n\n      var text = getSemantic(element).text || '';\n\n      renderLabel(p, text, {\n        box: element,\n        align: 'left-top',\n        padding: 5\n      });\n\n      return textElement;\n    },\n    'dmn:Association': function(p, element, attrs) {\n      var semantic = getSemantic(element);\n\n      attrs = assign({\n        strokeDasharray: '0.5, 5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        fill: 'none'\n      }, attrs || {});\n\n      if (semantic.associationDirection === 'One' ||\n          semantic.associationDirection === 'Both') {\n        attrs.markerEnd = marker('association-end');\n      }\n\n      if (semantic.associationDirection === 'Both') {\n        attrs.markerStart = marker('association-start');\n      }\n\n      return drawLine(p, element.waypoints, attrs);\n    },\n    'dmn:InformationRequirement': function(p, element, attrs) {\n\n      attrs = assign({\n        strokeWidth: 1,\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        markerEnd: marker('information-requirement-end')\n      }, attrs || {});\n\n      return drawLine(p, element.waypoints, attrs);\n    },\n    'dmn:KnowledgeRequirement': function(p, element, attrs) {\n\n      attrs = assign({\n        strokeWidth: 1,\n        strokeDasharray: 5,\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        markerEnd: marker('knowledge-requirement-end')\n      }, attrs || {});\n\n      return drawLine(p, element.waypoints, attrs);\n    },\n    'dmn:AuthorityRequirement': function(p, element, attrs) {\n\n      attrs = assign({\n        strokeWidth: 1.5,\n        strokeDasharray: 5,\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        markerEnd: marker('authority-requirement-end')\n      }, attrs || {});\n\n      return drawLine(p, element.waypoints, attrs);\n    }\n  };\n\n\n  // draw shape and connection //////////////////\n\n  function drawShape(parent, element) {\n    var h = handlers[element.type];\n\n    if (!h) {\n      return BaseRenderer.prototype.drawShape.apply(this, [ parent, element ]);\n    } else {\n      return h(parent, element);\n    }\n  }\n\n  function drawConnection(parent, element) {\n    var type = element.type;\n    var h = handlers[type];\n\n    if (!h) {\n      return BaseRenderer.prototype.drawConnection.apply(this, [ parent, element ]);\n    } else {\n      return h(parent, element);\n    }\n  }\n\n  function drawLine(p, waypoints, attrs) {\n    attrs = computeStyle(attrs, [ 'no-fill' ], {\n      stroke: 'black',\n      strokeWidth: 2,\n      fill: 'none'\n    });\n\n    var line = createLine(waypoints, attrs);\n\n    svgAppend(p, line);\n\n    return line;\n  }\n\n  this.canRender = function(element) {\n    return is(element, 'dmn:DMNElement') ||\n           is(element, 'dmn:InformationRequirement') ||\n           is(element, 'dmn:KnowledgeRequirement') ||\n           is(element, 'dmn:AuthorityRequirement');\n  };\n\n  this.drawShape = drawShape;\n  this.drawConnection = drawConnection;\n\n\n  // hook onto canvas init event to initialize\n  // connection start/end markers on svg\n  eventBus.on('canvas.init', function(event) {\n    initMarkers(event.svg);\n  });\n\n}\n\ninherits(DrdRenderer, BaseRenderer);\n\nDrdRenderer.$inject = [\n  'eventBus',\n  'pathMap',\n  'styles',\n  'textRenderer'\n];\n\n\n// helper functions //////////////////////\n\nfunction getSemantic(element) {\n  return element.businessObject;\n}\n","import {\n  isObject,\n  assign,\n  forEach,\n  reduce\n} from 'min-dash';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nvar DEFAULT_BOX_PADDING = 0;\n\nvar DEFAULT_LABEL_SIZE = {\n  width: 150,\n  height: 50\n};\n\n\nfunction parseAlign(align) {\n\n  var parts = align.split('-');\n\n  return {\n    horizontal: parts[0] || 'center',\n    vertical: parts[1] || 'top'\n  };\n}\n\nfunction parsePadding(padding) {\n\n  if (isObject(padding)) {\n    return assign({ top: 0, left: 0, right: 0, bottom: 0 }, padding);\n  } else {\n    return {\n      top: padding,\n      left: padding,\n      right: padding,\n      bottom: padding\n    };\n  }\n}\n\nfunction getTextBBox(text, fakeText) {\n\n  fakeText.textContent = text;\n\n  var textBBox;\n\n  try {\n    var bbox,\n        emptyLine = text === '';\n\n    // add dummy text, when line is empty to\n    // determine correct height\n    fakeText.textContent = emptyLine ? 'dummy' : text;\n\n    textBBox = fakeText.getBBox();\n\n    // take text rendering related horizontal\n    // padding into account\n    bbox = {\n      width: textBBox.width + textBBox.x * 2,\n      height: textBBox.height\n    };\n\n    if (emptyLine) {\n\n      // correct width\n      bbox.width = 0;\n    }\n\n    return bbox;\n  } catch (e) {\n    return { width: 0, height: 0 };\n  }\n}\n\n\n/**\n * Layout the next line and return the layouted element.\n *\n * Alters the lines passed.\n *\n * @param  {Array<string>} lines\n * @return {Object} the line descriptor, an object { width, height, text }\n */\nfunction layoutNext(lines, maxWidth, fakeText) {\n\n  var originalLine = lines.shift(),\n      fitLine = originalLine;\n\n  var textBBox;\n\n  for (;;) {\n    textBBox = getTextBBox(fitLine, fakeText);\n\n    textBBox.width = fitLine ? textBBox.width : 0;\n\n    // try to fit\n    if (fitLine === ' ' || fitLine === '' || textBBox.width < Math.round(maxWidth) || fitLine.length < 2) {\n      return fit(lines, fitLine, originalLine, textBBox);\n    }\n\n    fitLine = shortenLine(fitLine, textBBox.width, maxWidth);\n  }\n}\n\nfunction fit(lines, fitLine, originalLine, textBBox) {\n  if (fitLine.length < originalLine.length) {\n    var remainder = originalLine.slice(fitLine.length).trim();\n\n    lines.unshift(remainder);\n  }\n\n  return {\n    width: textBBox.width,\n    height: textBBox.height,\n    text: fitLine\n  };\n}\n\n\n/**\n * Shortens a line based on spacing and hyphens.\n * Returns the shortened result on success.\n *\n * @param  {string} line\n * @param  {number} maxLength the maximum characters of the string\n * @return {string} the shortened string\n */\nfunction semanticShorten(line, maxLength) {\n  var parts = line.split(/(\\s|-)/g),\n      part,\n      shortenedParts = [],\n      length = 0;\n\n  // try to shorten via spaces + hyphens\n  if (parts.length > 1) {\n    while ((part = parts.shift())) {\n      if (part.length + length < maxLength) {\n        shortenedParts.push(part);\n        length += part.length;\n      } else {\n\n        // remove previous part, too if hyphen does not fit anymore\n        if (part === '-') {\n          shortenedParts.pop();\n        }\n\n        break;\n      }\n    }\n  }\n\n  return shortenedParts.join('');\n}\n\n\nfunction shortenLine(line, width, maxWidth) {\n  var length = Math.max(line.length * (maxWidth / width), 1);\n\n  // try to shorten semantically (i.e. based on spaces and hyphens)\n  var shortenedLine = semanticShorten(line, length);\n\n  if (!shortenedLine) {\n\n    // force shorten by cutting the long word\n    shortenedLine = line.slice(0, Math.max(Math.round(length - 1), 1));\n  }\n\n  return shortenedLine;\n}\n\n\nfunction getHelperSvg() {\n  var helperSvg = document.getElementById('helper-svg');\n\n  if (!helperSvg) {\n    helperSvg = svgCreate('svg');\n\n    svgAttr(helperSvg, {\n      id: 'helper-svg',\n      width: 0,\n      height: 0,\n      style: 'visibility: hidden; position: fixed'\n    });\n\n    document.body.appendChild(helperSvg);\n  }\n\n  return helperSvg;\n}\n\n\n/**\n * Creates a new label utility\n *\n * @param {Object} config\n * @param {Dimensions} config.size\n * @param {number} config.padding\n * @param {Object} config.style\n * @param {string} config.align\n */\nexport default function Text(config) {\n\n  this._config = assign({}, {\n    size: DEFAULT_LABEL_SIZE,\n    padding: DEFAULT_BOX_PADDING,\n    style: {},\n    align: 'center-top'\n  }, config || {});\n}\n\n/**\n * Returns the layouted text as an SVG element.\n *\n * @param {string} text\n * @param {Object} options\n *\n * @return {SVGElement}\n */\nText.prototype.createText = function(text, options) {\n  return this.layoutText(text, options).element;\n};\n\n/**\n * Returns a labels layouted dimensions.\n *\n * @param {string} text to layout\n * @param {Object} options\n *\n * @return {Dimensions}\n */\nText.prototype.getDimensions = function(text, options) {\n  return this.layoutText(text, options).dimensions;\n};\n\n/**\n * Creates and returns a label and its bounding box.\n *\n * @method Text#createText\n *\n * @param {string} text the text to render on the label\n * @param {Object} options\n * @param {string} options.align how to align in the bounding box.\n *                               Any of { 'center-middle', 'center-top' },\n *                               defaults to 'center-top'.\n * @param {string} options.style style to be applied to the text\n * @param {boolean} options.fitBox indicates if box will be recalculated to\n *                                 fit text\n *\n * @return {Object} { element, dimensions }\n */\nText.prototype.layoutText = function(text, options) {\n  var box = assign({}, this._config.size, options.box),\n      style = assign({}, this._config.style, options.style),\n      align = parseAlign(options.align || this._config.align),\n      padding = parsePadding(options.padding !== undefined ? options.padding : this._config.padding),\n      fitBox = options.fitBox || false;\n\n  var lineHeight = getLineHeight(style);\n\n  var lines = text.split(/\\r?\\n/g),\n      layouted = [];\n\n  var maxWidth = box.width - padding.left - padding.right;\n\n  // ensure correct rendering by attaching helper text node to invisible SVG\n  var helperText = svgCreate('text');\n  svgAttr(helperText, { x: 0, y: 0 });\n  svgAttr(helperText, style);\n\n  var helperSvg = getHelperSvg();\n\n  svgAppend(helperSvg, helperText);\n\n  while (lines.length) {\n    layouted.push(layoutNext(lines, maxWidth, helperText));\n  }\n\n  if (align.vertical === 'middle') {\n    padding.top = padding.bottom = 0;\n  }\n\n  var totalHeight = reduce(layouted, function(sum, line, idx) {\n    return sum + (lineHeight || line.height);\n  }, 0) + padding.top + padding.bottom;\n\n  var maxLineWidth = reduce(layouted, function(sum, line, idx) {\n    return line.width > sum ? line.width : sum;\n  }, 0);\n\n  // the y position of the next line\n  var y = padding.top;\n\n  if (align.vertical === 'middle') {\n    y += (box.height - totalHeight) / 2;\n  }\n\n  // magic number initial offset\n  y -= (lineHeight || layouted[0].height) / 4;\n\n\n  var textElement = svgCreate('text');\n\n  svgAttr(textElement, style);\n\n  // layout each line taking into account that parent\n  // shape might resize to fit text size\n  forEach(layouted, function(line) {\n\n    var x;\n\n    y += (lineHeight || line.height);\n\n    switch (align.horizontal) {\n    case 'left':\n      x = padding.left;\n      break;\n\n    case 'right':\n      x = ((fitBox ? maxLineWidth : maxWidth)\n        - padding.right - line.width);\n      break;\n\n    default:\n\n      // aka center\n      x = Math.max((((fitBox ? maxLineWidth : maxWidth)\n        - line.width) / 2 + padding.left), 0);\n    }\n\n    var tspan = svgCreate('tspan');\n    svgAttr(tspan, { x: x, y: y });\n\n    tspan.textContent = line.text;\n\n    svgAppend(textElement, tspan);\n  });\n\n  svgRemove(helperText);\n\n  var dimensions = {\n    width: maxLineWidth,\n    height: totalHeight\n  };\n\n  return {\n    dimensions: dimensions,\n    element: textElement\n  };\n};\n\n\nfunction getLineHeight(style) {\n  if ('fontSize' in style && 'lineHeight' in style) {\n    return style.lineHeight * parseInt(style.fontSize, 10);\n  }\n}","import { assign } from 'min-dash';\n\nimport TextUtil from 'diagram-js/lib/util/Text';\n\nvar DEFAULT_FONT_SIZE = 12;\nvar LINE_HEIGHT_RATIO = 1.2;\n\nvar MIN_TEXT_ANNOTATION_HEIGHT = 30;\n\n\nexport default function TextRenderer(config) {\n\n  var defaultStyle = assign({\n    fontFamily: 'Arial, sans-serif',\n    fontSize: DEFAULT_FONT_SIZE,\n    fontWeight: 'normal',\n    lineHeight: LINE_HEIGHT_RATIO\n  }, config && config.defaultStyle || {});\n\n  var fontSize = parseInt(defaultStyle.fontSize, 10) - 1;\n\n  var externalStyle = assign({}, defaultStyle, {\n    fontSize: fontSize\n  }, config && config.externalStyle || {});\n\n  var textUtil = new TextUtil({\n    style: defaultStyle\n  });\n\n  /**\n   * Get the new bounds of an externally rendered,\n   * layouted label.\n   *\n   * @param  {Bounds} bounds\n   * @param  {string} text\n   *\n   * @return {Bounds}\n   */\n  this.getExternalLabelBounds = function(bounds, text) {\n\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: {\n        width: 90,\n        height: 30,\n        x: bounds.width / 2 + bounds.x,\n        y: bounds.height / 2 + bounds.y\n      },\n      style: externalStyle\n    });\n\n    // resize label shape to fit label text\n    return {\n      x: Math.round(bounds.x + bounds.width / 2 - layoutedDimensions.width / 2),\n      y: Math.round(bounds.y),\n      width: Math.ceil(layoutedDimensions.width),\n      height: Math.ceil(layoutedDimensions.height)\n    };\n\n  };\n\n  /**\n   * Get the new bounds of text annotation.\n   *\n   * @param  {Bounds} bounds\n   * @param  {string} text\n   *\n   * @return {Bounds}\n   */\n  this.getTextAnnotationBounds = function(bounds, text) {\n\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: bounds,\n      style: defaultStyle,\n      align: 'left-top',\n      padding: 5\n    });\n\n    return {\n      x: bounds.x,\n      y: bounds.y,\n      width: bounds.width,\n      height: Math.max(MIN_TEXT_ANNOTATION_HEIGHT, Math.round(layoutedDimensions.height))\n    };\n  };\n\n  /**\n   * Create a layouted text element.\n   *\n   * @param {string} text\n   * @param {Object} [options]\n   *\n   * @return {SVGElement} rendered text\n   */\n  this.createText = function(text, options) {\n    return textUtil.createText(text, options || {});\n  };\n\n  /**\n   * Get default text style.\n   */\n  this.getDefaultStyle = function() {\n    return defaultStyle;\n  };\n\n  /**\n   * Get the external text style.\n   */\n  this.getExternalStyle = function() {\n    return externalStyle;\n  };\n\n}\n\nTextRenderer.$inject = [\n  'config.textRenderer'\n];","/* eslint-disable max-len */\n\n/**\n * Map containing SVG paths needed by BpmnRenderer.\n */\n\nexport default function PathMap() {\n\n  /**\n   * Contains a map of path elements\n   *\n   * <h1>Path definition</h1>\n   * A parameterized path is defined like this:\n   * <pre>\n   * 'GATEWAY_PARALLEL': {\n   *   d: 'm {mx},{my} {e.x0},0 0,{e.x1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} ' +\n          '-{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z',\n   *   height: 17.5,\n   *   width:  17.5,\n   *   heightElements: [2.5, 7.5],\n   *   widthElements: [2.5, 7.5]\n   * }\n   * </pre>\n   * <p>It's important to specify a correct <b>height and width</b> for the path as the scaling\n   * is based on the ratio between the specified height and width in this object and the\n   * height and width that is set as scale target (Note x,y coordinates will be scaled with\n   * individual ratios).</p>\n   * <p>The '<b>heightElements</b>' and '<b>widthElements</b>' array must contain the values that will be scaled.\n   * The scaling is based on the computed ratios.\n   * Coordinates on the y axis should be in the <b>heightElement</b>'s array, they will be scaled using\n   * the computed ratio coefficient.\n   * In the parameterized path the scaled values can be accessed through the 'e' object in {} brackets.\n   *   <ul>\n   *    <li>The values for the y axis can be accessed in the path string using {e.y0}, {e.y1}, ....</li>\n   *    <li>The values for the x axis can be accessed in the path string using {e.x0}, {e.x1}, ....</li>\n   *   </ul>\n   *   The numbers x0, x1 respectively y0, y1, ... map to the corresponding array index.\n   * </p>\n    m1,1\n    l 0,55.3\n    c 29.8,19.7 48.4,-4.2 67.2,-6.7\n    c 12.2,-2.3 19.8,1.6 30.8,6.2\n    l 0,-54.6\n    z\n    */\n  this.pathMap = {\n    'KNOWLEDGE_SOURCE': {\n      d: 'm {mx},{my} ' +\n         'l 0,{e.y0} ' +\n         'c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} ' +\n         'c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} ' +\n         'l 0,-{e.y7}z',\n      width:  100,\n      height: 65,\n      widthElements: [ 29.8, 48.4, 67.2, 12.2, 19.8, 30.8 ],\n      heightElements: [ 55.3, 19.7, 4.2, 6.7, 2.3, 1.6, 6.2, 54.6 ]\n    },\n    'BUSINESS_KNOWLEDGE_MODEL': {\n      d: 'm {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z',\n      width:  125,\n      height: 45,\n      widthElements: [ 13.8, 109.2, 13.8, 109.1 ],\n      heightElements: [ 13.2, 29.8, 13.2 ]\n    },\n    'TEXT_ANNOTATION': {\n      d: 'm {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0',\n      width: 10,\n      height: 30,\n      widthElements: [ 10 ],\n      heightElements: [ 30 ]\n    }\n  };\n\n  this.getRawPath = function getRawPath(pathId) {\n    return this.pathMap[pathId].d;\n  };\n\n  /**\n   * Scales the path to the given height and width.\n   * <h1>Use case</h1>\n   * <p>Use case is to scale the content of elements (event, gateways) based\n   * on the element bounding box's size.\n   * </p>\n   * <h1>Why not transform</h1>\n   * <p>Scaling a path with transform() will also scale the stroke and IE does not support\n   * the option 'non-scaling-stroke' to prevent this.\n   * Also there are use cases where only some parts of a path should be\n   * scaled.</p>\n   *\n   * @param {string} pathId The ID of the path.\n   * @param {Object} param <p>\n   *   Example param object scales the path to 60% size of the container (data.width, data.height).\n   *   <pre>\n   *   {\n   *     xScaleFactor: 0.6,\n   *     yScaleFactor:0.6,\n   *     containerWidth: data.width,\n   *     containerHeight: data.height,\n   *     position: {\n   *       mx: 0.46,\n   *       my: 0.2,\n   *     }\n   *   }\n   *   </pre>\n   *   <ul>\n   *    <li>targetpathwidth = xScaleFactor * containerWidth</li>\n   *    <li>targetpathheight = yScaleFactor * containerHeight</li>\n   *    <li>Position is used to set the starting coordinate of the path. M is computed:\n    *    <ul>\n    *      <li>position.x * containerWidth</li>\n    *      <li>position.y * containerHeight</li>\n    *    </ul>\n    *    Center of the container <pre> position: {\n   *       mx: 0.5,\n   *       my: 0.5,\n   *     }</pre>\n   *     Upper left corner of the container\n   *     <pre> position: {\n   *       mx: 0.0,\n   *       my: 0.0,\n   *     }</pre>\n   *    </li>\n   *   </ul>\n   * </p>\n   *\n   */\n  this.getScaledPath = function getScaledPath(pathId, param) {\n    var rawPath = this.pathMap[pathId];\n\n    // positioning\n    // compute the start point of the path\n    var mx, my;\n\n    if (param.abspos) {\n      mx = param.abspos.x;\n      my = param.abspos.y;\n    } else {\n      mx = param.containerWidth * param.position.mx;\n      my = param.containerHeight * param.position.my;\n    }\n\n    var coordinates = {}; // map for the scaled coordinates\n    if (param.position) {\n\n      // path\n      var heightRatio = (param.containerHeight / rawPath.height) * param.yScaleFactor;\n      var widthRatio = (param.containerWidth / rawPath.width) * param.xScaleFactor;\n\n\n      // Apply height ratio\n      for (var heightIndex = 0; heightIndex < rawPath.heightElements.length; heightIndex++) {\n        coordinates['y' + heightIndex] = rawPath.heightElements[heightIndex] * heightRatio;\n      }\n\n      // Apply width ratio\n      for (var widthIndex = 0; widthIndex < rawPath.widthElements.length; widthIndex++) {\n        coordinates['x' + widthIndex] = rawPath.widthElements[widthIndex] * widthRatio;\n      }\n    }\n\n    // Apply value to raw path\n    var path = format(\n      rawPath.d, {\n        mx: mx,\n        my: my,\n        e: coordinates\n      }\n    );\n    return path;\n  };\n}\n\n\n// helpers //////////////////////\n\n// copied from https://github.com/adobe-webplatform/Snap.svg/blob/master/src/svg.js\nvar tokenRegex = /\\{([^}]+)\\}/g,\n    objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g; // matches .xxxxx or [\"xxxxx\"] to run over object properties\n\nfunction replacer(all, key, obj) {\n  var res = obj;\n  key.replace(objNotationRegex, function(all, name, quote, quotedName, isFunc) {\n    name = name || quotedName;\n    if (res) {\n      if (name in res) {\n        res = res[name];\n      }\n      typeof res == 'function' && isFunc && (res = res());\n    }\n  });\n  res = (res == null || res == obj ? all : res) + '';\n\n  return res;\n}\n\nfunction format(str, obj) {\n  return String(str).replace(tokenRegex, function(all, key) {\n    return replacer(all, key, obj);\n  });\n}\n","import DrdRenderer from './DrdRenderer';\nimport TextRenderer from './TextRenderer';\n\nimport PathMap from './PathMap';\n\nexport default {\n  __init__: [ 'drdRenderer' ],\n  drdRenderer: [ 'type', DrdRenderer ],\n  textRenderer: [ 'type', TextRenderer ],\n  pathMap: [ 'type', PathMap ]\n};\n","import {\n  assign,\n  map\n} from 'min-dash';\n\nimport {\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default function DrdImporter(\n    eventBus,\n    canvas,\n    elementFactory,\n    elementRegistry) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n  this._elementFactory = elementFactory;\n}\n\nDrdImporter.$inject = [\n  'eventBus',\n  'canvas',\n  'elementFactory',\n  'elementRegistry'\n];\n\n\nDrdImporter.prototype.root = function(semantic) {\n  var element = this._elementFactory.createRoot(elementData(semantic));\n\n  this._canvas.setRootElement(element);\n\n  return element;\n};\n\n/**\n * Add drd element (semantic) to the canvas.\n */\nDrdImporter.prototype.add = function(semantic) {\n  var elementFactory = this._elementFactory,\n      canvas = this._canvas,\n      eventBus = this._eventBus,\n      di = semantic.di;\n\n  var element, waypoints, source, target, elementDefinition, bounds;\n\n  if (di.$instanceOf('dmndi:DMNShape')) {\n    bounds = di.bounds;\n\n    elementDefinition = elementData(semantic, {\n      x: Math.round(bounds.x),\n      y: Math.round(bounds.y),\n      width: Math.round(bounds.width),\n      height: Math.round(bounds.height)\n    });\n\n    element = elementFactory.createShape(elementDefinition);\n\n    canvas.addShape(element);\n\n    eventBus.fire('drdElement.added', { element: element, di: di });\n\n  } else if (di.$instanceOf('dmndi:DMNEdge')) {\n    waypoints = collectWaypoints(di);\n\n    source = this._getSource(semantic);\n    target = this._getTarget(semantic);\n\n    if (source && target) {\n      elementDefinition = elementData(semantic, {\n        hidden: false,\n        source: source,\n        target: target,\n        waypoints: waypoints\n      });\n\n      element = elementFactory.createConnection(elementDefinition);\n\n      canvas.addConnection(element);\n\n      eventBus.fire('drdElement.added', { element: element, di: di });\n    }\n\n  } else {\n    throw new Error('unknown di for element ' + semantic.id);\n  }\n\n  return element;\n};\n\nDrdImporter.prototype._getSource = function(semantic) {\n  var href, elementReference;\n\n  if (is(semantic, 'dmn:Association')) {\n    elementReference = semantic.sourceRef;\n  } else if (is(semantic, 'dmn:InformationRequirement')) {\n    elementReference = semantic.requiredDecision || semantic.requiredInput;\n  } else if (is(semantic, 'dmn:KnowledgeRequirement')) {\n    elementReference = semantic.requiredKnowledge;\n  } else if (is(semantic, 'dmn:AuthorityRequirement')) {\n    elementReference = semantic.requiredDecision ||\n      semantic.requiredInput || semantic.requiredAuthority;\n  }\n\n  if (elementReference) {\n    href = elementReference.href;\n  }\n\n  if (href) {\n    return this._getShape(getIdFromHref(href));\n  }\n};\n\nDrdImporter.prototype._getTarget = function(semantic) {\n  if (is(semantic, 'dmn:Association')) {\n    return semantic.targetRef && this._getShape(getIdFromHref(semantic.targetRef.href));\n  }\n\n  return this._getShape(semantic.$parent.id);\n};\n\nDrdImporter.prototype._getShape = function(id) {\n  return this._elementRegistry.get(id);\n};\n\n\n\n// helper /////\nfunction elementData(semantic, attrs) {\n  return assign({\n    id: semantic.id,\n    type: semantic.$type,\n    businessObject: semantic\n  }, attrs);\n}\n\nfunction collectWaypoints(edge) {\n  var waypoints = edge.waypoint;\n\n  if (waypoints) {\n    return map(waypoints, function(waypoint) {\n      var position = { x: waypoint.x, y: waypoint.y };\n\n      return assign({ original: position }, position);\n    });\n  }\n}\n\nfunction getIdFromHref(href) {\n  return href.split('#').pop();\n}\n","import DrdImporter from './DrdImporter';\n\nexport default {\n  drdImporter: [ 'type', DrdImporter ]\n};","import DrawModule from '../draw';\nimport ImportModule from '../import';\n\nexport default {\n  __depends__: [\n    DrawModule,\n    ImportModule\n  ]\n};\n","/**\n * A simple translation stub to be used for multi-language support\n * in diagrams. Can be easily replaced with a more sophisticated\n * solution.\n *\n * @example\n *\n * // use it inside any diagram component by injecting `translate`.\n *\n * function MyService(translate) {\n *   alert(translate('HELLO {you}', { you: 'You!' }));\n * }\n *\n * @param {string} template to interpolate\n * @param {Object} [replacements] a map with substitutes\n *\n * @return {string} the translated string\n */\nexport default function translate(template, replacements) {\n\n  replacements = replacements || {};\n\n  return template.replace(/{([^}]+)}/g, function(_, key) {\n    return replacements[key] || '{' + key + '}';\n  });\n}","import translate from './translate';\n\nexport default {\n  translate: [ 'value', translate ]\n};","function __stopPropagation(event) {\n  if (!event || typeof event.stopPropagation !== 'function') {\n    return;\n  }\n\n  event.stopPropagation();\n}\n\n\nexport function getOriginal(event) {\n  return event.originalEvent || event.srcEvent;\n}\n\n\nexport function stopPropagation(event, immediate) {\n  __stopPropagation(event, immediate);\n  __stopPropagation(getOriginal(event), immediate);\n}\n\n\nexport function toPoint(event) {\n\n  if (event.pointers && event.pointers.length) {\n    event = event.pointers[0];\n  }\n\n  if (event.touches && event.touches.length) {\n    event = event.touches[0];\n  }\n\n  return event ? {\n    x: event.clientX,\n    y: event.clientY\n  } : null;\n}","export function isMac() {\n  return (/mac/i).test(navigator.platform);\n}","import {\n  getOriginal as getOriginalEvent\n} from './Event';\n\nimport {\n  isMac\n} from './Platform';\n\nexport {\n  isMac\n} from './Platform';\n\n\nexport function isPrimaryButton(event) {\n\n  // button === 0 -> left ka primary mouse button\n  return !(getOriginalEvent(event) || event).button;\n}\n\nexport function hasPrimaryModifier(event) {\n  var originalEvent = getOriginalEvent(event) || event;\n\n  if (!isPrimaryButton(event)) {\n    return false;\n  }\n\n  // Use alt as primary modifier key for mac OS\n  if (isMac()) {\n    return originalEvent.metaKey;\n  } else {\n    return originalEvent.ctrlKey;\n  }\n}\n\n\nexport function hasSecondaryModifier(event) {\n  var originalEvent = getOriginalEvent(event) || event;\n\n  return isPrimaryButton(event) && originalEvent.shiftKey;\n}","import {\n  forEach,\n  assign\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  query as domQuery,\n  queryAll as domQueryAll\n} from 'min-dom';\n\nimport { isPrimaryButton } from '../../util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  createLine,\n  updateLine\n} from '../../util/RenderUtil';\n\nfunction allowAll(e) { return true; }\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * A plugin that provides interaction events for diagram elements.\n *\n * It emits the following events:\n *\n *   * element.click\n *   * element.contextmenu\n *   * element.dblclick\n *   * element.hover\n *   * element.mousedown\n *   * element.mousemove\n *   * element.mouseup\n *   * element.out\n *\n * Each event is a tuple { element, gfx, originalEvent }.\n *\n * Canceling the event via Event#preventDefault()\n * prevents the original DOM operation.\n *\n * @param {EventBus} eventBus\n */\nexport default function InteractionEvents(eventBus, elementRegistry, styles) {\n\n  var self = this;\n\n  /**\n   * Fire an interaction event.\n   *\n   * @param {string} type local event name, e.g. element.click.\n   * @param {DOMEvent} event native event\n   * @param {djs.model.Base} [element] the diagram element to emit the event on;\n   *                                   defaults to the event target\n   */\n  function fire(type, event, element) {\n\n    if (isIgnored(type, event)) {\n      return;\n    }\n\n    var target, gfx, returnValue;\n\n    if (!element) {\n      target = event.delegateTarget || event.target;\n\n      if (target) {\n        gfx = target;\n        element = elementRegistry.get(gfx);\n      }\n    } else {\n      gfx = elementRegistry.getGraphics(element);\n    }\n\n    if (!gfx || !element) {\n      return;\n    }\n\n    returnValue = eventBus.fire(type, {\n      element: element,\n      gfx: gfx,\n      originalEvent: event\n    });\n\n    if (returnValue === false) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  // TODO(nikku): document this\n  var handlers = {};\n\n  function mouseHandler(localEventName) {\n    return handlers[localEventName];\n  }\n\n  function isIgnored(localEventName, event) {\n\n    var filter = ignoredFilters[localEventName] || isPrimaryButton;\n\n    // only react on left mouse button interactions\n    // except for interaction events that are enabled\n    // for secundary mouse button\n    return !filter(event);\n  }\n\n  var bindings = {\n    click: 'element.click',\n    contextmenu: 'element.contextmenu',\n    dblclick: 'element.dblclick',\n    mousedown: 'element.mousedown',\n    mousemove: 'element.mousemove',\n    mouseover: 'element.hover',\n    mouseout: 'element.out',\n    mouseup: 'element.mouseup',\n  };\n\n  var ignoredFilters = {\n    'element.contextmenu': allowAll\n  };\n\n\n  // manual event trigger //////////\n\n  /**\n   * Trigger an interaction event (based on a native dom event)\n   * on the target shape or connection.\n   *\n   * @param {string} eventName the name of the triggered DOM event\n   * @param {MouseEvent} event\n   * @param {djs.model.Base} targetElement\n   */\n  function triggerMouseEvent(eventName, event, targetElement) {\n\n    // i.e. element.mousedown...\n    var localEventName = bindings[eventName];\n\n    if (!localEventName) {\n      throw new Error('unmapped DOM event name <' + eventName + '>');\n    }\n\n    return fire(localEventName, event, targetElement);\n  }\n\n\n  var ELEMENT_SELECTOR = 'svg, .djs-element';\n\n  // event handling ///////\n\n  function registerEvent(node, event, localEvent, ignoredFilter) {\n\n    var handler = handlers[localEvent] = function(event) {\n      fire(localEvent, event);\n    };\n\n    if (ignoredFilter) {\n      ignoredFilters[localEvent] = ignoredFilter;\n    }\n\n    handler.$delegate = domDelegate.bind(node, ELEMENT_SELECTOR, event, handler);\n  }\n\n  function unregisterEvent(node, event, localEvent) {\n\n    var handler = mouseHandler(localEvent);\n\n    if (!handler) {\n      return;\n    }\n\n    domDelegate.unbind(node, event, handler.$delegate);\n  }\n\n  function registerEvents(svg) {\n    forEach(bindings, function(val, key) {\n      registerEvent(svg, key, val);\n    });\n  }\n\n  function unregisterEvents(svg) {\n    forEach(bindings, function(val, key) {\n      unregisterEvent(svg, key, val);\n    });\n  }\n\n  eventBus.on('canvas.destroy', function(event) {\n    unregisterEvents(event.svg);\n  });\n\n  eventBus.on('canvas.init', function(event) {\n    registerEvents(event.svg);\n  });\n\n\n  // hit box updating ////////////////\n\n  eventBus.on([ 'shape.added', 'connection.added' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.createHit', { element: element, gfx: gfx });\n  });\n\n  // Update djs-hit on change.\n  // A low priortity is necessary, because djs-hit of labels has to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([\n    'shape.changed',\n    'connection.changed'\n  ], LOW_PRIORITY, function(event) {\n\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.updateHit', { element: element, gfx: gfx });\n  });\n\n  eventBus.on('interactionEvents.createHit', LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.createDefaultHit(element, gfx);\n  });\n\n  eventBus.on('interactionEvents.updateHit', function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.updateDefaultHit(element, gfx);\n  });\n\n\n  // hit styles ////////////\n\n  var STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-stroke');\n\n  var CLICK_STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-click-stroke');\n\n  var ALL_HIT_STYLE = createHitStyle('djs-hit djs-hit-all');\n\n  var HIT_TYPES = {\n    'all': ALL_HIT_STYLE,\n    'click-stroke': CLICK_STROKE_HIT_STYLE,\n    'stroke': STROKE_HIT_STYLE\n  };\n\n  function createHitStyle(classNames, attrs) {\n\n    attrs = assign({\n      stroke: 'white',\n      strokeWidth: 15\n    }, attrs || {});\n\n    return styles.cls(classNames, [ 'no-fill', 'no-border' ], attrs);\n  }\n\n\n  // style helpers ///////////////\n\n  function applyStyle(hit, type) {\n\n    var attrs = HIT_TYPES[type];\n\n    if (!attrs) {\n      throw new Error('invalid hit type <' + type + '>');\n    }\n\n    svgAttr(hit, attrs);\n\n    return hit;\n  }\n\n  function appendHit(gfx, hit) {\n    svgAppend(gfx, hit);\n  }\n\n\n  // API\n\n  /**\n   * Remove hints on the given graphics.\n   *\n   * @param {SVGElement} gfx\n   */\n  this.removeHits = function(gfx) {\n    var hits = domQueryAll('.djs-hit', gfx);\n\n    forEach(hits, svgRemove);\n  };\n\n  /**\n   * Create default hit for the given element.\n   *\n   * @param {djs.model.Base} element\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} created hit\n   */\n  this.createDefaultHit = function(element, gfx) {\n    var waypoints = element.waypoints,\n        isFrame = element.isFrame,\n        boxType;\n\n    if (waypoints) {\n      return this.createWaypointsHit(gfx, waypoints);\n    } else {\n\n      boxType = isFrame ? 'stroke' : 'all';\n\n      return this.createBoxHit(gfx, boxType, {\n        width: element.width,\n        height: element.height\n      });\n    }\n  };\n\n  /**\n   * Create hits for the given waypoints.\n   *\n   * @param {SVGElement} gfx\n   * @param {Array<Point>} waypoints\n   *\n   * @return {SVGElement}\n   */\n  this.createWaypointsHit = function(gfx, waypoints) {\n\n    var hit = createLine(waypoints);\n\n    applyStyle(hit, 'stroke');\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Create hits for a box.\n   *\n   * @param {SVGElement} gfx\n   * @param {string} hitType\n   * @param {Object} attrs\n   *\n   * @return {SVGElement}\n   */\n  this.createBoxHit = function(gfx, type, attrs) {\n\n    attrs = assign({\n      x: 0,\n      y: 0\n    }, attrs);\n\n    var hit = svgCreate('rect');\n\n    applyStyle(hit, type);\n\n    svgAttr(hit, attrs);\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Update default hit of the element.\n   *\n   * @param  {djs.model.Base} element\n   * @param  {SVGElement} gfx\n   *\n   * @return {SVGElement} updated hit\n   */\n  this.updateDefaultHit = function(element, gfx) {\n\n    var hit = domQuery('.djs-hit', gfx);\n\n    if (!hit) {\n      return;\n    }\n\n    if (element.waypoints) {\n      updateLine(hit, element.waypoints);\n    } else {\n      svgAttr(hit, {\n        width: element.width,\n        height: element.height\n      });\n    }\n\n    return hit;\n  };\n\n  this.fire = fire;\n\n  this.triggerMouseEvent = triggerMouseEvent;\n\n  this.mouseHandler = mouseHandler;\n\n  this.registerEvent = registerEvent;\n  this.unregisterEvent = unregisterEvent;\n}\n\n\nInteractionEvents.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'styles'\n];\n\n\n/**\n * An event indicating that the mouse hovered over an element\n *\n * @event element.hover\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has left an element\n *\n * @event element.out\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has clicked an element\n *\n * @event element.click\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has double clicked an element\n *\n * @event element.dblclick\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone down on an element.\n *\n * @event element.mousedown\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone up on an element.\n *\n * @event element.mouseup\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the context menu action is triggered\n * via mouse or touch controls.\n *\n * @event element.contextmenu\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */","import InteractionEvents from './InteractionEvents';\n\nexport default {\n  __init__: [ 'interactionEvents' ],\n  interactionEvents: [ 'type', InteractionEvents ]\n};","import { getBBox } from '../../util/Elements';\n\nvar LOW_PRIORITY = 500;\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  query as domQuery\n} from 'min-dom';\n\nimport {\n  assign\n} from 'min-dash';\n\n\n/**\n * @class\n *\n * A plugin that adds an outline to shapes and connections that may be activated and styled\n * via CSS classes.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Outline(eventBus, styles, elementRegistry) {\n\n  this.offset = 6;\n\n  var OUTLINE_STYLE = styles.cls('djs-outline', [ 'no-fill' ]);\n\n  var self = this;\n\n  function createOutline(gfx, bounds) {\n    var outline = svgCreate('rect');\n\n    svgAttr(outline, assign({\n      x: 10,\n      y: 10,\n      width: 100,\n      height: 100\n    }, OUTLINE_STYLE));\n\n    svgAppend(gfx, outline);\n\n    return outline;\n  }\n\n  // A low priortity is necessary, because outlines of labels have to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([ 'shape.added', 'shape.changed' ], LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    var outline = domQuery('.djs-outline', gfx);\n\n    if (!outline) {\n      outline = createOutline(gfx, element);\n    }\n\n    self.updateShapeOutline(outline, element);\n  });\n\n  eventBus.on([ 'connection.added', 'connection.changed' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    var outline = domQuery('.djs-outline', gfx);\n\n    if (!outline) {\n      outline = createOutline(gfx, element);\n    }\n\n    self.updateConnectionOutline(outline, element);\n  });\n}\n\n\n/**\n * Updates the outline of a shape respecting the dimension of the\n * element and an outline offset.\n *\n * @param  {SVGElement} outline\n * @param  {djs.model.Base} element\n */\nOutline.prototype.updateShapeOutline = function(outline, element) {\n\n  svgAttr(outline, {\n    x: -this.offset,\n    y: -this.offset,\n    width: element.width + this.offset * 2,\n    height: element.height + this.offset * 2\n  });\n\n};\n\n\n/**\n * Updates the outline of a connection respecting the bounding box of\n * the connection and an outline offset.\n *\n * @param  {SVGElement} outline\n * @param  {djs.model.Base} element\n */\nOutline.prototype.updateConnectionOutline = function(outline, connection) {\n\n  var bbox = getBBox(connection);\n\n  svgAttr(outline, {\n    x: bbox.x - this.offset,\n    y: bbox.y - this.offset,\n    width: bbox.width + this.offset * 2,\n    height: bbox.height + this.offset * 2\n  });\n\n};\n\n\nOutline.$inject = ['eventBus', 'styles', 'elementRegistry'];","import Outline from './Outline';\n\nexport default {\n  __init__: [ 'outline' ],\n  outline: [ 'type', Outline ]\n};","import {\n  isArray,\n  forEach\n} from 'min-dash';\n\n\n/**\n * A service that offers the current selection in a diagram.\n * Offers the api to control the selection, too.\n *\n * @class\n *\n * @param {EventBus} eventBus the event bus\n */\nexport default function Selection(eventBus) {\n\n  this._eventBus = eventBus;\n\n  this._selectedElements = [];\n\n  var self = this;\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    self.deselect(element);\n  });\n\n  eventBus.on([ 'diagram.clear' ], function(e) {\n    self.select(null);\n  });\n}\n\nSelection.$inject = [ 'eventBus' ];\n\n\nSelection.prototype.deselect = function(element) {\n  var selectedElements = this._selectedElements;\n\n  var idx = selectedElements.indexOf(element);\n\n  if (idx !== -1) {\n    var oldSelection = selectedElements.slice();\n\n    selectedElements.splice(idx, 1);\n\n    this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n  }\n};\n\n\nSelection.prototype.get = function() {\n  return this._selectedElements;\n};\n\nSelection.prototype.isSelected = function(element) {\n  return this._selectedElements.indexOf(element) !== -1;\n};\n\n\n/**\n * This method selects one or more elements on the diagram.\n *\n * By passing an additional add parameter you can decide whether or not the element(s)\n * should be added to the already existing selection or not.\n *\n * @method Selection#select\n *\n * @param  {Object|Object[]} elements element or array of elements to be selected\n * @param  {boolean} [add] whether the element(s) should be appended to the current selection, defaults to false\n */\nSelection.prototype.select = function(elements, add) {\n  var selectedElements = this._selectedElements,\n      oldSelection = selectedElements.slice();\n\n  if (!isArray(elements)) {\n    elements = elements ? [ elements ] : [];\n  }\n\n  // selection may be cleared by passing an empty array or null\n  // to the method\n  if (add) {\n    forEach(elements, function(element) {\n      if (selectedElements.indexOf(element) !== -1) {\n\n        // already selected\n        return;\n      } else {\n        selectedElements.push(element);\n      }\n    });\n  } else {\n    this._selectedElements = selectedElements = elements.slice();\n  }\n\n  this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n};\n","import {\n  forEach\n} from 'min-dash';\n\nvar MARKER_HOVER = 'hover',\n    MARKER_SELECTED = 'selected';\n\n\n/**\n * A plugin that adds a visible selection UI to shapes and connections\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\n *\n * @class\n *\n * Makes elements selectable, too.\n *\n * @param {EventBus} events\n * @param {SelectionService} selection\n * @param {Canvas} canvas\n */\nexport default function SelectionVisuals(events, canvas, selection, styles) {\n\n  this._multiSelectionBox = null;\n\n  function addMarker(e, cls) {\n    canvas.addMarker(e, cls);\n  }\n\n  function removeMarker(e, cls) {\n    canvas.removeMarker(e, cls);\n  }\n\n  events.on('element.hover', function(event) {\n    addMarker(event.element, MARKER_HOVER);\n  });\n\n  events.on('element.out', function(event) {\n    removeMarker(event.element, MARKER_HOVER);\n  });\n\n  events.on('selection.changed', function(event) {\n\n    function deselect(s) {\n      removeMarker(s, MARKER_SELECTED);\n    }\n\n    function select(s) {\n      addMarker(s, MARKER_SELECTED);\n    }\n\n    var oldSelection = event.oldSelection,\n        newSelection = event.newSelection;\n\n    forEach(oldSelection, function(e) {\n      if (newSelection.indexOf(e) === -1) {\n        deselect(e);\n      }\n    });\n\n    forEach(newSelection, function(e) {\n      if (oldSelection.indexOf(e) === -1) {\n        select(e);\n      }\n    });\n  });\n}\n\nSelectionVisuals.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'styles'\n];","import {\n  hasPrimaryModifier,\n  hasSecondaryModifier\n} from '../../util/Mouse';\n\nimport {\n  find,\n  isArray\n} from 'min-dash';\n\n\nexport default function SelectionBehavior(eventBus, selection, canvas, elementRegistry) {\n\n  // Select elements on create\n  eventBus.on('create.end', 500, function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        elements = context.elements,\n        hints = context.hints || {},\n        autoSelect = hints.autoSelect;\n\n    if (canExecute) {\n      if (autoSelect === false) {\n\n        // Select no elements\n        return;\n      }\n\n      if (isArray(autoSelect)) {\n        selection.select(autoSelect);\n      } else {\n\n        // Select all elements by default\n        selection.select(elements.filter(isShown));\n      }\n    }\n  });\n\n  // Select connection targets on connect\n  eventBus.on('connect.end', 500, function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        hover = context.hover;\n\n    if (canExecute && hover) {\n      selection.select(hover);\n    }\n  });\n\n  // Select shapes on move\n  eventBus.on('shape.move.end', 500, function(event) {\n    var previousSelection = event.previousSelection || [];\n\n    var shape = elementRegistry.get(event.context.shape.id);\n\n    // Always select main shape on move\n    var isSelected = find(previousSelection, function(selectedShape) {\n      return shape.id === selectedShape.id;\n    });\n\n    if (!isSelected) {\n      selection.select(shape);\n    }\n  });\n\n  // Select elements on click\n  eventBus.on('element.click', function(event) {\n    var element = event.element;\n\n    if (element === canvas.getRootElement()) {\n      element = null;\n    }\n\n    var isSelected = selection.isSelected(element),\n        isMultiSelect = selection.get().length > 1;\n\n    // Add to selection if CTRL or SHIFT pressed\n    var add = hasPrimaryModifier(event) || hasSecondaryModifier(event);\n\n    if (isSelected && isMultiSelect) {\n      if (add) {\n\n        // Deselect element\n        return selection.deselect(element);\n      } else {\n\n        // Select element only\n        return selection.select(element);\n      }\n    } else if (!isSelected) {\n\n      // Select element\n      selection.select(element, add);\n    } else {\n\n      // Deselect element\n      selection.deselect(element);\n    }\n  });\n}\n\nSelectionBehavior.$inject = [\n  'eventBus',\n  'selection',\n  'canvas',\n  'elementRegistry'\n];\n\n\nfunction isShown(element) {\n  return !element.hidden;\n}\n","import InteractionEventsModule from '../interaction-events';\nimport OutlineModule from '../outline';\n\nimport Selection from './Selection';\nimport SelectionVisuals from './SelectionVisuals';\nimport SelectionBehavior from './SelectionBehavior';\n\n\nexport default {\n  __init__: [ 'selectionVisuals', 'selectionBehavior' ],\n  __depends__: [\n    InteractionEventsModule,\n    OutlineModule\n  ],\n  selection: [ 'type', Selection ],\n  selectionVisuals: [ 'type', SelectionVisuals ],\n  selectionBehavior: [ 'type', SelectionBehavior ]\n};\n","/**\n * Util that provides unique IDs.\n *\n * @class djs.util.IdGenerator\n * @constructor\n * @memberOf djs.util\n *\n * The ids can be customized via a given prefix and contain a random value to avoid collisions.\n *\n * @param {string} prefix a prefix to prepend to generated ids (for better readability)\n */\nexport default function IdGenerator(prefix) {\n\n  this._counter = 0;\n  this._prefix = (prefix ? prefix + '-' : '') + Math.floor(Math.random() * 1000000000) + '-';\n}\n\n/**\n * Returns a next unique ID.\n *\n * @method djs.util.IdGenerator#next\n *\n * @returns {string} the id\n */\nIdGenerator.prototype.next = function() {\n  return this._prefix + (++this._counter);\n};\n","import {\n  isArray,\n  isString,\n  isObject,\n  assign,\n  forEach,\n  find,\n  filter,\n  matchPattern,\n  isDefined\n} from 'min-dash';\n\nimport {\n  domify,\n  classes as domClasses,\n  attr as domAttr,\n  remove as domRemove,\n  clear as domClear\n} from 'min-dom';\n\nimport {\n  getBBox\n} from '../../util/Elements';\n\nimport Ids from '../../util/IdGenerator';\n\n// document wide unique overlay ids\nvar ids = new Ids('ov');\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * A service that allows users to attach overlays to diagram elements.\n *\n * The overlay service will take care of overlay positioning during updates.\n *\n * @example\n *\n * // add a pink badge on the top left of the shape\n * overlays.add(someShape, {\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add via shape id\n *\n * overlays.add('some-element-id', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add with optional type\n *\n * overlays.add(someShape, 'badge', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n *\n * // remove an overlay\n *\n * var id = overlays.add(...);\n * overlays.remove(id);\n *\n *\n * You may configure overlay defaults during tool by providing a `config` module\n * with `overlays.defaults` as an entry:\n *\n * {\n *   overlays: {\n *     defaults: {\n *       show: {\n *         minZoom: 0.7,\n *         maxZoom: 5.0\n *       },\n *       scale: {\n *         min: 1\n *       }\n *     }\n * }\n *\n * @param {Object} config\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Overlays(config, eventBus, canvas, elementRegistry) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n\n  this._ids = ids;\n\n  this._overlayDefaults = assign({\n\n    // no show constraints\n    show: null,\n\n    // always scale\n    scale: true\n  }, config && config.defaults);\n\n  /**\n   * Mapping overlayId -> overlay\n   */\n  this._overlays = {};\n\n  /**\n   * Mapping elementId -> overlay container\n   */\n  this._overlayContainers = [];\n\n  // root html element for all overlays\n  this._overlayRoot = createRoot(canvas.getContainer());\n\n  this._init();\n}\n\n\nOverlays.$inject = [\n  'config.overlays',\n  'eventBus',\n  'canvas',\n  'elementRegistry'\n];\n\n\n/**\n * Returns the overlay with the specified id or a list of overlays\n * for an element with a given type.\n *\n * @example\n *\n * // return the single overlay with the given id\n * overlays.get('some-id');\n *\n * // return all overlays for the shape\n * overlays.get({ element: someShape });\n *\n * // return all overlays on shape with type 'badge'\n * overlays.get({ element: someShape, type: 'badge' });\n *\n * // shape can also be specified as id\n * overlays.get({ element: 'element-id', type: 'badge' });\n *\n *\n * @param {Object} search\n * @param {string} [search.id]\n * @param {string|djs.model.Base} [search.element]\n * @param {string} [search.type]\n *\n * @return {Object|Array<Object>} the overlay(s)\n */\nOverlays.prototype.get = function(search) {\n\n  if (isString(search)) {\n    search = { id: search };\n  }\n\n  if (isString(search.element)) {\n    search.element = this._elementRegistry.get(search.element);\n  }\n\n  if (search.element) {\n    var container = this._getOverlayContainer(search.element, true);\n\n    // return a list of overlays when searching by element (+type)\n    if (container) {\n      return search.type ? filter(container.overlays, matchPattern({ type: search.type })) : container.overlays.slice();\n    } else {\n      return [];\n    }\n  } else\n  if (search.type) {\n    return filter(this._overlays, matchPattern({ type: search.type }));\n  } else {\n\n    // return single element when searching by id\n    return search.id ? this._overlays[search.id] : null;\n  }\n};\n\n/**\n * Adds a HTML overlay to an element.\n *\n * @param {string|djs.model.Base}   element   attach overlay to this shape\n * @param {string}                  [type]    optional type to assign to the overlay\n * @param {Object}                  overlay   the overlay configuration\n *\n * @param {string|DOMElement}       overlay.html                 html element to use as an overlay\n * @param {Object}                  [overlay.show]               show configuration\n * @param {number}                  [overlay.show.minZoom]       minimal zoom level to show the overlay\n * @param {number}                  [overlay.show.maxZoom]       maximum zoom level to show the overlay\n * @param {Object}                  overlay.position             where to attach the overlay\n * @param {number}                  [overlay.position.left]      relative to element bbox left attachment\n * @param {number}                  [overlay.position.top]       relative to element bbox top attachment\n * @param {number}                  [overlay.position.bottom]    relative to element bbox bottom attachment\n * @param {number}                  [overlay.position.right]     relative to element bbox right attachment\n * @param {boolean|Object}          [overlay.scale=true]         false to preserve the same size regardless of\n *                                                               diagram zoom\n * @param {number}                  [overlay.scale.min]\n * @param {number}                  [overlay.scale.max]\n *\n * @return {string}                 id that may be used to reference the overlay for update or removal\n */\nOverlays.prototype.add = function(element, type, overlay) {\n\n  if (isObject(type)) {\n    overlay = type;\n    type = null;\n  }\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!overlay.position) {\n    throw new Error('must specifiy overlay position');\n  }\n\n  if (!overlay.html) {\n    throw new Error('must specifiy overlay html');\n  }\n\n  if (!element) {\n    throw new Error('invalid element specified');\n  }\n\n  var id = this._ids.next();\n\n  overlay = assign({}, this._overlayDefaults, overlay, {\n    id: id,\n    type: type,\n    element: element,\n    html: overlay.html\n  });\n\n  this._addOverlay(overlay);\n\n  return id;\n};\n\n\n/**\n * Remove an overlay with the given id or all overlays matching the given filter.\n *\n * @see Overlays#get for filter options.\n *\n * @param {string} [id]\n * @param {Object} [filter]\n */\nOverlays.prototype.remove = function(filter) {\n\n  var overlays = this.get(filter) || [];\n\n  if (!isArray(overlays)) {\n    overlays = [ overlays ];\n  }\n\n  var self = this;\n\n  forEach(overlays, function(overlay) {\n\n    var container = self._getOverlayContainer(overlay.element, true);\n\n    if (overlay) {\n      domRemove(overlay.html);\n      domRemove(overlay.htmlContainer);\n\n      delete overlay.htmlContainer;\n      delete overlay.element;\n\n      delete self._overlays[overlay.id];\n    }\n\n    if (container) {\n      var idx = container.overlays.indexOf(overlay);\n      if (idx !== -1) {\n        container.overlays.splice(idx, 1);\n      }\n    }\n  });\n\n};\n\n\nOverlays.prototype.show = function() {\n  setVisible(this._overlayRoot);\n};\n\n\nOverlays.prototype.hide = function() {\n  setVisible(this._overlayRoot, false);\n};\n\nOverlays.prototype.clear = function() {\n  this._overlays = {};\n\n  this._overlayContainers = [];\n\n  domClear(this._overlayRoot);\n};\n\nOverlays.prototype._updateOverlayContainer = function(container) {\n  var element = container.element,\n      html = container.html;\n\n  // update container left,top according to the elements x,y coordinates\n  // this ensures we can attach child elements relative to this container\n\n  var x = element.x,\n      y = element.y;\n\n  if (element.waypoints) {\n    var bbox = getBBox(element);\n    x = bbox.x;\n    y = bbox.y;\n  }\n\n  setPosition(html, x, y);\n\n  domAttr(container.html, 'data-container-id', element.id);\n};\n\n\nOverlays.prototype._updateOverlay = function(overlay) {\n\n  var position = overlay.position,\n      htmlContainer = overlay.htmlContainer,\n      element = overlay.element;\n\n  // update overlay html relative to shape because\n  // it is already positioned on the element\n\n  // update relative\n  var left = position.left,\n      top = position.top;\n\n  if (position.right !== undefined) {\n\n    var width;\n\n    if (element.waypoints) {\n      width = getBBox(element).width;\n    } else {\n      width = element.width;\n    }\n\n    left = position.right * -1 + width;\n  }\n\n  if (position.bottom !== undefined) {\n\n    var height;\n\n    if (element.waypoints) {\n      height = getBBox(element).height;\n    } else {\n      height = element.height;\n    }\n\n    top = position.bottom * -1 + height;\n  }\n\n  setPosition(htmlContainer, left || 0, top || 0);\n};\n\n\nOverlays.prototype._createOverlayContainer = function(element) {\n  var html = domify('<div class=\"djs-overlays\" style=\"position: absolute\" />');\n\n  this._overlayRoot.appendChild(html);\n\n  var container = {\n    html: html,\n    element: element,\n    overlays: []\n  };\n\n  this._updateOverlayContainer(container);\n\n  this._overlayContainers.push(container);\n\n  return container;\n};\n\n\nOverlays.prototype._updateRoot = function(viewbox) {\n  var scale = viewbox.scale || 1;\n\n  var matrix = 'matrix(' +\n  [\n    scale,\n    0,\n    0,\n    scale,\n    -1 * viewbox.x * scale,\n    -1 * viewbox.y * scale\n  ].join(',') +\n  ')';\n\n  setTransform(this._overlayRoot, matrix);\n};\n\n\nOverlays.prototype._getOverlayContainer = function(element, raw) {\n  var container = find(this._overlayContainers, function(c) {\n    return c.element === element;\n  });\n\n\n  if (!container && !raw) {\n    return this._createOverlayContainer(element);\n  }\n\n  return container;\n};\n\n\nOverlays.prototype._addOverlay = function(overlay) {\n\n  var id = overlay.id,\n      element = overlay.element,\n      html = overlay.html,\n      htmlContainer,\n      overlayContainer;\n\n  // unwrap jquery (for those who need it)\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  }\n\n  // create proper html elements from\n  // overlay HTML strings\n  if (isString(html)) {\n    html = domify(html);\n  }\n\n  overlayContainer = this._getOverlayContainer(element);\n\n  htmlContainer = domify('<div class=\"djs-overlay\" data-overlay-id=\"' + id + '\" style=\"position: absolute\">');\n\n  htmlContainer.appendChild(html);\n\n  if (overlay.type) {\n    domClasses(htmlContainer).add('djs-overlay-' + overlay.type);\n  }\n\n  overlay.htmlContainer = htmlContainer;\n\n  overlayContainer.overlays.push(overlay);\n  overlayContainer.html.appendChild(htmlContainer);\n\n  this._overlays[id] = overlay;\n\n  this._updateOverlay(overlay);\n  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());\n};\n\n\nOverlays.prototype._updateOverlayVisibilty = function(overlay, viewbox) {\n  var show = overlay.show,\n      minZoom = show && show.minZoom,\n      maxZoom = show && show.maxZoom,\n      htmlContainer = overlay.htmlContainer,\n      visible = true;\n\n  if (show) {\n    if (\n      (isDefined(minZoom) && minZoom > viewbox.scale) ||\n      (isDefined(maxZoom) && maxZoom < viewbox.scale)\n    ) {\n      visible = false;\n    }\n\n    setVisible(htmlContainer, visible);\n  }\n\n  this._updateOverlayScale(overlay, viewbox);\n};\n\n\nOverlays.prototype._updateOverlayScale = function(overlay, viewbox) {\n  var shouldScale = overlay.scale,\n      minScale,\n      maxScale,\n      htmlContainer = overlay.htmlContainer;\n\n  var scale, transform = '';\n\n  if (shouldScale !== true) {\n\n    if (shouldScale === false) {\n      minScale = 1;\n      maxScale = 1;\n    } else {\n      minScale = shouldScale.min;\n      maxScale = shouldScale.max;\n    }\n\n    if (isDefined(minScale) && viewbox.scale < minScale) {\n      scale = (1 / viewbox.scale || 1) * minScale;\n    }\n\n    if (isDefined(maxScale) && viewbox.scale > maxScale) {\n      scale = (1 / viewbox.scale || 1) * maxScale;\n    }\n  }\n\n  if (isDefined(scale)) {\n    transform = 'scale(' + scale + ',' + scale + ')';\n  }\n\n  setTransform(htmlContainer, transform);\n};\n\n\nOverlays.prototype._updateOverlaysVisibilty = function(viewbox) {\n\n  var self = this;\n\n  forEach(this._overlays, function(overlay) {\n    self._updateOverlayVisibilty(overlay, viewbox);\n  });\n};\n\n\nOverlays.prototype._init = function() {\n\n  var eventBus = this._eventBus;\n\n  var self = this;\n\n\n  // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n    self._updateOverlaysVisibilty(viewbox);\n\n    self.show();\n  }\n\n  eventBus.on('canvas.viewbox.changing', function(event) {\n    self.hide();\n  });\n\n  eventBus.on('canvas.viewbox.changed', function(event) {\n    updateViewbox(event.viewbox);\n  });\n\n\n  // remove integration\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    var overlays = self.get({ element: element });\n\n    forEach(overlays, function(o) {\n      self.remove(o.id);\n    });\n\n    var container = self._getOverlayContainer(element);\n\n    if (container) {\n      domRemove(container.html);\n      var i = self._overlayContainers.indexOf(container);\n      if (i !== -1) {\n        self._overlayContainers.splice(i, 1);\n      }\n    }\n  });\n\n\n  // move integration\n\n  eventBus.on('element.changed', LOW_PRIORITY, function(e) {\n    var element = e.element;\n\n    var container = self._getOverlayContainer(element, true);\n\n    if (container) {\n      forEach(container.overlays, function(overlay) {\n        self._updateOverlay(overlay);\n      });\n\n      self._updateOverlayContainer(container);\n    }\n  });\n\n\n  // marker integration, simply add them on the overlays as classes, too.\n\n  eventBus.on('element.marker.update', function(e) {\n    var container = self._getOverlayContainer(e.element, true);\n    if (container) {\n      domClasses(container.html)[e.add ? 'add' : 'remove'](e.marker);\n    }\n  });\n\n\n  // clear overlays with diagram\n\n  eventBus.on('diagram.clear', this.clear, this);\n};\n\n\n\n// helpers /////////////////////////////\n\nfunction createRoot(parentNode) {\n  var root = domify(\n    '<div class=\"djs-overlay-container\" style=\"position: absolute; width: 0; height: 0;\" />'\n  );\n\n  parentNode.insertBefore(root, parentNode.firstChild);\n\n  return root;\n}\n\nfunction setPosition(el, x, y) {\n  assign(el.style, { left: x + 'px', top: y + 'px' });\n}\n\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\n\nfunction setTransform(el, transform) {\n\n  el.style['transform-origin'] = 'top left';\n\n  [ '', '-ms-', '-webkit-' ].forEach(function(prefix) {\n    el.style[prefix + 'transform'] = transform;\n  });\n}","import Overlays from './Overlays';\n\nexport default {\n  __init__: [ 'overlays' ],\n  overlays: [ 'type', Overlays ]\n};","import {\n  domify,\n  query as domQuery,\n  delegate as domDelegate\n} from 'min-dom';\n\n\nexport default function DefinitionPropertiesView(eventBus, canvas) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  eventBus.on('diagram.init', function() {\n    this._init();\n  }, this);\n\n  eventBus.on('import.done', function(event) {\n    if (!event.error) {\n      this.update();\n    }\n  }, this);\n}\n\nDefinitionPropertiesView.$inject = [ 'eventBus', 'canvas' ];\n\n/**\n * Initialize\n */\nDefinitionPropertiesView.prototype._init = function() {\n  var canvas = this._canvas,\n      eventBus = this._eventBus;\n\n  var parent = canvas.getContainer(),\n      container = this._container = domify(DefinitionPropertiesView.HTML_MARKUP);\n\n  parent.appendChild(container);\n\n  this.nameElement = domQuery('.dmn-definitions-name', this._container);\n  this.idElement = domQuery('.dmn-definitions-id', this._container);\n\n  domDelegate.bind(\n    container,\n    '.dmn-definitions-name, .dmn-definitions-id', 'mousedown',\n    function(event) {\n      event.stopPropagation();\n    }\n  );\n\n  eventBus.fire('definitionIdView.create', {\n    html: container\n  });\n};\n\nDefinitionPropertiesView.prototype.update = function() {\n  var businessObject = this._canvas.getRootElement().businessObject;\n\n  this.nameElement.textContent = businessObject.name;\n  this.idElement.textContent = businessObject.id;\n};\n\n\n/* markup definition */\n\nDefinitionPropertiesView.HTML_MARKUP =\n  '<div class=\"dmn-definitions\">' +\n    '<div class=\"dmn-definitions-name\" title=\"Definition Name\"></div>' +\n    '<div class=\"dmn-definitions-id\" title=\"Definition ID\"></div>' +\n  '</div>';\n","import {\n  classes as domClasses\n} from 'min-dom';\n\n\nexport default function PaletteAdapter(eventBus, canvas) {\n\n  function toggleMarker(cls, on) {\n    var container = canvas.getContainer();\n\n    domClasses(container).toggle(cls, on);\n  }\n\n  eventBus.on('palette.create', function() {\n    toggleMarker('with-palette', true);\n  });\n\n  eventBus.on('palette.changed', function(event) {\n    toggleMarker('with-palette-two-column', event.twoColumn);\n  });\n\n}\n\nPaletteAdapter.$inject = [\n  'eventBus',\n  'canvas'\n];","import DefinitionPropertiesView from './DefinitionPropertiesView';\nimport PaletteAdapter from './PaletteAdapter';\n\nexport default {\n  __init__: [\n    'definitionPropertiesView',\n    'definitionPropertiesPaletteAdapter'\n  ],\n  definitionPropertiesView: [ 'type', DefinitionPropertiesView ],\n  definitionPropertiesPaletteAdapter: [ 'type', PaletteAdapter ]\n};\n","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport {\n  domify,\n  classes as domClasses,\n  delegate as domDelegate\n} from 'min-dom';\n\n\nvar PROVIDERS = [\n  {\n    className: 'dmn-icon-decision-table',\n    matches: function(el) {\n      var businessObject = el.businessObject;\n\n      return (\n        is(businessObject, 'dmn:Decision') &&\n        is(businessObject.decisionLogic, 'dmn:DecisionTable')\n      );\n    }\n  },\n  {\n    className: 'dmn-icon-literal-expression',\n    matches: function(el) {\n      var businessObject = el.businessObject;\n\n      return (\n        is(businessObject, 'dmn:Decision') &&\n        is(businessObject.decisionLogic, 'dmn:LiteralExpression')\n      );\n    }\n  }\n];\n\n\n/**\n * Displays overlays that can be clicked in order to drill\n * down into a DMN element.\n */\nexport default class DrillDown {\n\n  constructor(injector, eventBus, overlays, config) {\n    this._injector = injector;\n    this._eventBus = eventBus;\n    this._overlays = overlays;\n\n    this._config = config || { enabled: true };\n\n    eventBus.on([ 'shape.added' ], ({ element }) => {\n\n      for (let i = 0; i < PROVIDERS.length; i++) {\n\n        const { matches, className } = PROVIDERS[i];\n\n        var editable = matches && matches(element);\n\n        if (editable) {\n          this.addOverlay(element, className);\n        }\n      }\n    });\n  }\n\n  /**\n   * Add overlay to an element that enables drill down.\n   *\n   * @param {Object} element Element to add overlay to.\n   * @param {string} className\n   *        CSS class that will be added to overlay in order to display icon.\n   */\n  addOverlay(element, className) {\n    const html = domify(`\n      <div class=\"drill-down-overlay\">\n        <span class=\"${className}\"></span>\n      </div>\n    `);\n\n    const overlayId = this._overlays.add(element, {\n      position: {\n        top: 2,\n        left: 2\n      },\n      html\n    });\n\n    // TODO(nikku): can we remove renamed to drillDown.enabled\n    if (this._config.enabled !== false) {\n      domClasses(html).add('interactive');\n\n      this.bindEventListener(element, html, overlayId);\n    }\n  }\n\n  /**\n   * @param {Object} element\n   * @param {Object} overlay\n   * @param {string} id\n   */\n  bindEventListener(element, overlay, id) {\n    const overlays = this._overlays,\n          eventBus = this._eventBus;\n\n    const overlaysRoot = overlays._overlayRoot;\n\n    domDelegate.bind(overlaysRoot, '[data-overlay-id=\"' + id + '\"]', 'click', () => {\n\n      const triggerDefault = eventBus.fire('drillDown.click', {\n        element\n      });\n\n      if (triggerDefault === false) {\n        return;\n      }\n\n      this.drillDown(element);\n    });\n  }\n\n\n  /**\n   * Drill down into the specific element.\n   *\n   * @param  {djs.model.Base} element\n   *\n   * @return {boolean} whether drill down was executed\n   */\n  drillDown(element) {\n\n    const parent = this._injector.get('_parent', false);\n\n    // no parent; skip drill down\n    if (!parent) {\n      return false;\n    }\n\n    const view = parent.getView(element.businessObject);\n\n    // no view to drill down to\n    if (!view) {\n      return false;\n    }\n\n    parent.open(view);\n\n    return true;\n  }\n\n}\n\nDrillDown.$inject = [\n  'injector',\n  'eventBus',\n  'overlays',\n  'config.drillDown'\n];","import OverlaysModule from 'diagram-js/lib/features/overlays';\n\nimport DrillDown from './DrillDown';\n\nexport default {\n  __depends__: [\n    OverlaysModule\n  ],\n  __init__: [ 'drillDown' ],\n  drillDown: [ 'type', DrillDown ]\n};\n","/**\n * This file must not be changed or exchanged.\n *\n * @see http://bpmn.io/license for more information.\n */\n\nimport {\n  domify,\n  delegate as domDelegate\n} from 'min-dom';\n\n// inlined ../../../../resources/logo.svg\n// eslint-disable-next-line\nvar BPMNIO_LOGO_SVG = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.02 5.57\" width=\"53\" height=\"21\" style=\"vertical-align:middle\"><path fill=\"currentColor\" d=\"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z\"/><path fill=\"currentColor\" d=\"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z\"/></svg>';\n\nexport var BPMNIO_IMG = BPMNIO_LOGO_SVG;\n\nfunction css(attrs) {\n  return attrs.join(';');\n}\n\nexport var LINK_STYLES = css([\n  'color: #404040'\n]);\n\nvar LIGHTBOX_STYLES = css([\n  'z-index: 1001',\n  'position: fixed',\n  'top: 0',\n  'left: 0',\n  'right: 0',\n  'bottom: 0'\n]);\n\nvar BACKDROP_STYLES = css([\n  'width: 100%',\n  'height: 100%',\n  'background: rgba(40,40,40,0.2)'\n]);\n\nvar NOTICE_STYLES = css([\n  'position: absolute',\n  'left: 50%',\n  'top: 40%',\n  'transform: translate(-50%)',\n  'width: 260px',\n  'padding: 10px',\n  'background: white',\n  'box-shadow: 0 1px 4px rgba(0,0,0,0.3)',\n  'font-family: Helvetica, Arial, sans-serif',\n  'font-size: 14px',\n  'display: flex',\n  'line-height: 1.3'\n]);\n\n/* eslint-disable max-len */\nvar LIGHTBOX_MARKUP =\n  '<div class=\"bjs-powered-by-lightbox\" style=\"' + LIGHTBOX_STYLES + '\">' +\n    '<div class=\"backdrop\" style=\"' + BACKDROP_STYLES + '\"></div>' +\n    '<div class=\"notice\" style=\"' + NOTICE_STYLES + '\">' +\n      '<a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\" style=\"margin: 15px 20px 15px 10px; align-self: center;' + LINK_STYLES + '\">' +\n        BPMNIO_IMG +\n      '</a>' +\n      '<span>' +\n        'Web-based tooling for BPMN, DMN and CMMN diagrams ' +\n        'powered by <a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\">bpmn.io</a>.' +\n      '</span>' +\n    '</div>' +\n  '</div>';\n/* eslint-enable */\n\nvar lightbox;\n\nexport function open() {\n\n  if (!lightbox) {\n    lightbox = domify(LIGHTBOX_MARKUP);\n\n    domDelegate.bind(lightbox, '.backdrop', 'click', function(event) {\n      document.body.removeChild(lightbox);\n    });\n  }\n\n  document.body.appendChild(lightbox);\n}","/**\n * The code in the <project-logo></project-logo> area\n * must not be changed.\n *\n * @see http://bpmn.io/license for more information.\n */\n\nimport {\n  domify,\n  query as domQuery,\n  remove as domRemove\n} from 'min-dom';\n\nimport Diagram from 'diagram-js';\n\nimport inherits from 'inherits';\n\nimport {\n  importDRD\n} from './import/Importer';\n\nimport {\n  innerSVG\n} from 'tiny-svg';\n\n\n/**\n * A viewer for DMN diagrams.\n *\n * Have a look at {@link NavigatedViewer} or {@link Modeler} for bundles that include\n * additional features.\n *\n *\n * ## Extending the Viewer\n *\n * In order to extend the viewer pass extension modules to bootstrap via the\n * `additionalModules` option. An extension module is an object that exposes\n * named services.\n *\n * The following example depicts the integration of a simple\n * logging component that integrates with interaction events:\n *\n *\n * ```javascript\n *\n * // logging component\n * function InteractionLogger(eventBus) {\n *   eventBus.on('element.hover', function(event) {\n *     console.log()\n *   })\n * }\n *\n * InteractionLogger.$inject = [ 'eventBus' ]; // minification save\n *\n * // extension module\n * var extensionModule = {\n *   __init__: [ 'interactionLogger' ],\n *   interactionLogger: [ 'type', InteractionLogger ]\n * };\n *\n * // extend the viewer\n * var drdViewer = new Viewer({ additionalModules: [ extensionModule ] });\n * drdViewer.importXML(...);\n * ```\n *\n * @param {Object} options configuration options to pass to the viewer\n * @param {DOMElement} [options.container]\n *        the container to render the viewer in, defaults to body\n * @param {Array<didi.Module>} [options.modules]\n *        a list of modules to override the default modules\n * @param {Array<didi.Module>} [options.additionalModules]\n *        a list of modules to use with the default modules\n */\nexport default function Viewer(options) {\n\n  this._container = this._createContainer();\n\n  /* <project-logo> */\n\n  addProjectLogo(this._container);\n\n  /* </project-logo> */\n\n  this._init(this._container, options);\n}\n\ninherits(Viewer, Diagram);\n\n/**\n * Export the currently displayed DMN diagram as\n * an SVG image.\n *\n * @param {Object} [options]\n * @param {Function} done invoked with (err, svgStr)\n */\nViewer.prototype.saveSVG = function(options, done) {\n\n  if (!done) {\n    done = options;\n    options = {};\n  }\n\n  var canvas = this.get('canvas');\n\n  var contentNode = canvas.getDefaultLayer(),\n      defsNode = domQuery('defs', canvas._svg);\n\n  var contents = innerSVG(contentNode),\n      defs = (defsNode && defsNode.outerHTML) || '';\n\n  var bbox = contentNode.getBBox();\n\n  /* eslint-disable max-len */\n  var svg =\n    '<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' +\n    '<!-- created with dmn-js / http://bpmn.io -->\\n' +\n    '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' +\n         'width=\"' + bbox.width + '\" height=\"' + bbox.height + '\" ' +\n         'viewBox=\"' + bbox.x + ' ' + bbox.y + ' ' + bbox.width + ' ' + bbox.height + '\" version=\"1.1\">' +\n      defs + contents +\n    '</svg>';\n  /* eslint-enable */\n\n  done(null, svg);\n};\n\nViewer.prototype.getModules = function() {\n  return this._modules;\n};\n\n/**\n * Destroy the viewer instance and remove all its\n * remainders from the document tree.\n */\nViewer.prototype.destroy = function() {\n\n  // diagram destroy\n  Diagram.prototype.destroy.call(this);\n\n  // dom detach\n  domRemove(this._container);\n};\n\n/**\n * Register an event listener\n *\n * Remove a previously added listener via {@link #off(event, callback)}.\n *\n * @param {string} event\n * @param {number} [priority]\n * @param {Function} callback\n * @param {Object} [that]\n */\nViewer.prototype.on = function(event, priority, callback, target) {\n  return this.get('eventBus').on(event, priority, callback, target);\n};\n\n/**\n * De-register an event listener\n *\n * @param {string} event\n * @param {Function} callback\n */\nViewer.prototype.off = function(event, callback) {\n  this.get('eventBus').off(event, callback);\n};\n\n\nViewer.prototype._init = function(container, options) {\n\n  var {\n    additionalModules,\n    canvas,\n    ...additionalOptions\n  } = options;\n\n  var baseModules = options.modules || this.getModules(),\n      staticModules = [\n        {\n          drd: [ 'value', this ]\n        }\n      ];\n\n  var modules = [\n    ...staticModules,\n    ...baseModules,\n    ...(additionalModules || [])\n  ];\n\n  var diagramOptions = {\n    ...additionalOptions,\n    canvas: {\n      ...canvas,\n      container\n    },\n    modules\n  };\n\n\n  // invoke diagram constructor\n  Diagram.call(this, diagramOptions);\n\n  if (options && options.container) {\n    this.attachTo(options.container);\n  }\n};\n\n/**\n * Emit an event on the underlying {@link EventBus}\n *\n * @param  {string} type\n * @param  {Object} event\n *\n * @return {Object} event processing result (if any)\n */\nViewer.prototype._emit = function(type, event) {\n  return this.get('eventBus').fire(type, event);\n};\n\nViewer.prototype._createContainer = function() {\n  return domify(\n    '<div class=\"dmn-drd-container\"></div>'\n  );\n};\n\nViewer.prototype.open = function(definitions, done) {\n\n  var err;\n\n  // use try/catch to not swallow synchronous exceptions\n  // that may be raised during model parsing\n  try {\n\n    if (this._definitions) {\n\n      // clear existing rendered diagram\n      this.clear();\n    }\n\n    // update definitions\n    this._definitions = definitions;\n\n    // perform graphical import\n    return importDRD(this, definitions, done);\n  } catch (e) {\n    err = e;\n  }\n\n  return done(err);\n};\n\n/**\n * Attach viewer to given parent node.\n *\n * @param  {Element} parentNode\n */\nViewer.prototype.attachTo = function(parentNode) {\n\n  if (!parentNode) {\n    throw new Error('parentNode required');\n  }\n\n  // ensure we detach from the\n  // previous, old parent\n  this.detach();\n\n  var container = this._container;\n\n  parentNode.appendChild(container);\n\n  this._emit('attach', {});\n\n  this.get('canvas').resized();\n};\n\n/**\n * Detach viewer from parent node, if attached.\n */\nViewer.prototype.detach = function() {\n\n  var container = this._container,\n      parentNode = container.parentNode;\n\n  if (!parentNode) {\n    return;\n  }\n\n  this._emit('detach', {});\n\n  parentNode.removeChild(container);\n};\n\nimport CoreModule from './core';\nimport TranslateModule from 'diagram-js/lib/i18n/translate';\nimport SelectionModule from 'diagram-js/lib/features/selection';\nimport OverlaysModule from 'diagram-js/lib/features/overlays';\nimport DefinitionPropertiesModule from './features/definition-properties/viewer';\nimport DrillDownModule from './features/drill-down';\n\nViewer.prototype._modules = [\n  CoreModule,\n  TranslateModule,\n  SelectionModule,\n  OverlaysModule,\n  DefinitionPropertiesModule,\n  DrillDownModule\n];\n\n/* <project-logo> */\n\nimport {\n  BPMNIO_IMG,\n  LINK_STYLES,\n  open as openPoweredBy\n} from './util/PoweredByUtil';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\n/**\n * Adds the project logo to the diagram container as\n * required by the bpmn.io license.\n *\n * @see http://bpmn.io/license\n *\n * @param {Element} container\n */\nfunction addProjectLogo(container) {\n  var linkMarkup =\n    '<a href=\"http://bpmn.io\" ' +\n       'target=\"_blank\" ' +\n       'class=\"bjs-powered-by\" ' +\n       'title=\"Powered by bpmn.io\" ' +\n       'style=\"position: absolute; bottom: 15px; right: 15px; z-index: 100; ' +\n       LINK_STYLES +\n      '\">' +\n      BPMNIO_IMG +\n    '</a>';\n\n  var linkElement = domify(linkMarkup);\n\n  container.appendChild(linkElement);\n\n  domEvent.bind(linkElement, 'click', function(event) {\n    openPoweredBy();\n\n    event.preventDefault();\n  });\n}\n\n/* </project-logo> */\n","export function center(bounds) {\n  return {\n    x: bounds.x + (bounds.width / 2),\n    y: bounds.y + (bounds.height / 2)\n  };\n}\n\n\nexport function delta(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}","/**\n * Get the logarithm of x with base 10\n * @param  {Integer} value\n */\nexport function log10(x) {\n  return Math.log(x) / Math.log(10);\n}\n\nexport { delta as substract } from './PositionUtil';\n","import {\n  log10\n} from '../../util/Math';\n\n/**\n * Get step size for given range and number of steps.\n *\n * @param {Object} range\n * @param {number} range.min\n * @param {number} range.max\n */\nexport function getStepSize(range, steps) {\n\n  var minLinearRange = log10(range.min),\n      maxLinearRange = log10(range.max);\n\n  var absoluteLinearRange = Math.abs(minLinearRange) + Math.abs(maxLinearRange);\n\n  return absoluteLinearRange / steps;\n}\n\nexport function cap(range, scale) {\n  return Math.max(range.min, Math.min(range.max, scale));\n}\n","import {\n  event as domEvent,\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  getStepSize,\n  cap\n} from './ZoomUtil';\n\nimport {\n  log10\n} from '../../util/Math';\n\nimport {\n  bind\n} from 'min-dash';\n\nvar sign = Math.sign || function(n) {\n  return n >= 0 ? 1 : -1;\n};\n\nvar RANGE = { min: 0.2, max: 4 },\n    NUM_STEPS = 10;\n\nvar DELTA_THRESHOLD = 0.1;\n\nvar DEFAULT_SCALE = 0.75;\n\n/**\n * An implementation of zooming and scrolling within the\n * {@link Canvas} via the mouse wheel.\n *\n * Mouse wheel zooming / scrolling may be disabled using\n * the {@link toggle(enabled)} method.\n *\n * @param {Object} [config]\n * @param {boolean} [config.enabled=true] default enabled state\n * @param {number} [config.scale=.75] scroll sensivity\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function ZoomScroll(config, eventBus, canvas) {\n\n  config = config || {};\n\n  this._enabled = false;\n\n  this._canvas = canvas;\n  this._container = canvas._container;\n\n  this._handleWheel = bind(this._handleWheel, this);\n\n  this._totalDelta = 0;\n  this._scale = config.scale || DEFAULT_SCALE;\n\n  var self = this;\n\n  eventBus.on('canvas.init', function(e) {\n    self._init(config.enabled !== false);\n  });\n}\n\nZoomScroll.$inject = [\n  'config.zoomScroll',\n  'eventBus',\n  'canvas'\n];\n\nZoomScroll.prototype.scroll = function scroll(delta) {\n  this._canvas.scroll(delta);\n};\n\n\nZoomScroll.prototype.reset = function reset() {\n  this._canvas.zoom('fit-viewport');\n};\n\n/**\n * Zoom depending on delta.\n *\n * @param {number} delta\n * @param {Object} position\n */\nZoomScroll.prototype.zoom = function zoom(delta, position) {\n\n  // zoom with half the step size of stepZoom\n  var stepSize = getStepSize(RANGE, NUM_STEPS * 2);\n\n  // add until threshold reached\n  this._totalDelta += delta;\n\n  if (Math.abs(this._totalDelta) > DELTA_THRESHOLD) {\n    this._zoom(delta, position, stepSize);\n\n    // reset\n    this._totalDelta = 0;\n  }\n};\n\n\nZoomScroll.prototype._handleWheel = function handleWheel(event) {\n\n  // event is already handled by '.djs-scrollable'\n  if (domClosest(event.target, '.djs-scrollable', true)) {\n    return;\n  }\n\n  var element = this._container;\n\n  event.preventDefault();\n\n  // pinch to zoom is mapped to wheel + ctrlKey = true\n  // in modern browsers (!)\n\n  var isZoom = event.ctrlKey;\n\n  var isHorizontalScroll = event.shiftKey;\n\n  var factor = -1 * this._scale,\n      delta;\n\n  if (isZoom) {\n    factor *= event.deltaMode === 0 ? 0.020 : 0.32;\n  } else {\n    factor *= event.deltaMode === 0 ? 1.0 : 16.0;\n  }\n\n  if (isZoom) {\n    var elementRect = element.getBoundingClientRect();\n\n    var offset = {\n      x: event.clientX - elementRect.left,\n      y: event.clientY - elementRect.top\n    };\n\n    delta = (\n      Math.sqrt(\n        Math.pow(event.deltaY, 2) +\n        Math.pow(event.deltaX, 2)\n      ) * sign(event.deltaY) * factor\n    );\n\n    // zoom in relative to diagram {x,y} coordinates\n    this.zoom(delta, offset);\n  } else {\n\n    if (isHorizontalScroll) {\n      delta = {\n        dx: factor * event.deltaY,\n        dy: 0\n      };\n    } else {\n      delta = {\n        dx: factor * event.deltaX,\n        dy: factor * event.deltaY\n      };\n    }\n\n    this.scroll(delta);\n  }\n};\n\n/**\n * Zoom with fixed step size.\n *\n * @param {number} delta - Zoom delta (1 for zooming in, -1 for out).\n * @param {Object} position\n */\nZoomScroll.prototype.stepZoom = function stepZoom(delta, position) {\n\n  var stepSize = getStepSize(RANGE, NUM_STEPS);\n\n  this._zoom(delta, position, stepSize);\n};\n\n\n/**\n * Zoom in/out given a step size.\n *\n * @param {number} delta\n * @param {Object} position\n * @param {number} stepSize\n */\nZoomScroll.prototype._zoom = function(delta, position, stepSize) {\n  var canvas = this._canvas;\n\n  var direction = delta > 0 ? 1 : -1;\n\n  var currentLinearZoomLevel = log10(canvas.zoom());\n\n  // snap to a proximate zoom step\n  var newLinearZoomLevel = Math.round(currentLinearZoomLevel / stepSize) * stepSize;\n\n  // increase or decrease one zoom step in the given direction\n  newLinearZoomLevel += stepSize * direction;\n\n  // calculate the absolute logarithmic zoom level based on the linear zoom level\n  // (e.g. 2 for an absolute x2 zoom)\n  var newLogZoomLevel = Math.pow(10, newLinearZoomLevel);\n\n  canvas.zoom(cap(RANGE, newLogZoomLevel), position);\n};\n\n\n/**\n * Toggle the zoom scroll ability via mouse wheel.\n *\n * @param  {boolean} [newEnabled] new enabled state\n */\nZoomScroll.prototype.toggle = function toggle(newEnabled) {\n\n  var element = this._container;\n  var handleWheel = this._handleWheel;\n\n  var oldEnabled = this._enabled;\n\n  if (typeof newEnabled === 'undefined') {\n    newEnabled = !oldEnabled;\n  }\n\n  // only react on actual changes\n  if (oldEnabled !== newEnabled) {\n\n    // add or remove wheel listener based on\n    // changed enabled state\n    domEvent[newEnabled ? 'bind' : 'unbind'](element, 'wheel', handleWheel, false);\n  }\n\n  this._enabled = newEnabled;\n\n  return newEnabled;\n};\n\n\nZoomScroll.prototype._init = function(newEnabled) {\n  this.toggle(newEnabled);\n};\n","import ZoomScroll from './ZoomScroll';\n\nexport default {\n  __init__: [ 'zoomScroll' ],\n  zoomScroll: [ 'type', ZoomScroll ]\n};","import {\n  classes as domClasses\n} from 'min-dom';\n\nvar CURSOR_CLS_PATTERN = /^djs-cursor-.*$/;\n\n\nexport function set(mode) {\n  var classes = domClasses(document.body);\n\n  classes.removeMatching(CURSOR_CLS_PATTERN);\n\n  if (mode) {\n    classes.add('djs-cursor-' + mode);\n  }\n}\n\nexport function unset() {\n  set(null);\n}\n\nexport function has(mode) {\n  var classes = domClasses(document.body);\n\n  return classes.has('djs-cursor-' + mode);\n}\n","var TRAP_PRIORITY = 5000;\n\n/**\n * Installs a click trap that prevents a ghost click following a dragging operation.\n *\n * @return {Function} a function to immediately remove the installed trap.\n */\nexport function install(eventBus, eventName) {\n\n  eventName = eventName || 'element.click';\n\n  function trap() {\n    return false;\n  }\n\n  eventBus.once(eventName, TRAP_PRIORITY, trap);\n\n  return function() {\n    eventBus.off(eventName, trap);\n  };\n}","import {\n  set as cursorSet,\n  unset as cursorUnset\n} from '../../util/Cursor';\n\nimport {\n  install as installClickTrap\n} from '../../util/ClickTrap';\n\nimport {\n  delta as deltaPos\n} from '../../util/PositionUtil';\n\nimport {\n  event as domEvent,\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\n\nvar THRESHOLD = 15;\n\n\n/**\n * Move the canvas via mouse.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function MoveCanvas(eventBus, canvas) {\n\n  var context;\n\n\n  // listen for move on element mouse down;\n  // allow others to hook into the event before us though\n  // (dragging / element moving will do this)\n  eventBus.on('element.mousedown', 500, function(e) {\n    return handleStart(e.originalEvent);\n  });\n\n\n  function handleMove(event) {\n\n    var start = context.start,\n        position = toPoint(event),\n        delta = deltaPos(position, start);\n\n    if (!context.dragging && length(delta) > THRESHOLD) {\n      context.dragging = true;\n\n      installClickTrap(eventBus);\n\n      cursorSet('grab');\n    }\n\n    if (context.dragging) {\n\n      var lastPosition = context.last || context.start;\n\n      delta = deltaPos(position, lastPosition);\n\n      canvas.scroll({\n        dx: delta.x,\n        dy: delta.y\n      });\n\n      context.last = position;\n    }\n\n    // prevent select\n    event.preventDefault();\n  }\n\n\n  function handleEnd(event) {\n    domEvent.unbind(document, 'mousemove', handleMove);\n    domEvent.unbind(document, 'mouseup', handleEnd);\n\n    context = null;\n\n    cursorUnset();\n  }\n\n  function handleStart(event) {\n\n    // event is already handled by '.djs-draggable'\n    if (domClosest(event.target, '.djs-draggable')) {\n      return;\n    }\n\n\n    // reject non-left left mouse button or modifier key\n    if (event.button || event.ctrlKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    context = {\n      start: toPoint(event)\n    };\n\n    domEvent.bind(document, 'mousemove', handleMove);\n    domEvent.bind(document, 'mouseup', handleEnd);\n\n    // we've handled the event\n    return true;\n  }\n}\n\n\nMoveCanvas.$inject = [\n  'eventBus',\n  'canvas'\n];\n\n\n\n// helpers ///////\n\nfunction length(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n","import MoveCanvas from './MoveCanvas';\n\nexport default {\n  __init__: [ 'moveCanvas' ],\n  moveCanvas: [ 'type', MoveCanvas ]\n};","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  event as domEvent,\n  closest as domClosest\n} from 'min-dom';\n\nimport Hammer from 'hammerjs';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\nvar MIN_ZOOM = 0.2,\n    MAX_ZOOM = 4;\n\nvar mouseEvents = [\n  'mousedown',\n  'mouseup',\n  'mouseover',\n  'mouseout',\n  'click',\n  'dblclick'\n];\n\nfunction log() {\n\n  // console.log.apply(console, arguments);\n}\n\nfunction get(service, injector) {\n  return injector.get(service, false);\n}\n\nfunction stopEvent(event) {\n\n  event.preventDefault();\n\n  if (typeof event.stopPropagation === 'function') {\n    event.stopPropagation();\n  } else if (event.srcEvent && typeof event.srcEvent.stopPropagation === 'function') {\n\n    // iPhone & iPad\n    event.srcEvent.stopPropagation();\n  }\n\n  if (typeof event.stopImmediatePropagation === 'function') {\n    event.stopImmediatePropagation();\n  }\n}\n\n\nfunction createTouchRecognizer(node) {\n\n  function stopMouse(event) {\n\n    forEach(mouseEvents, function(e) {\n      domEvent.bind(node, e, stopEvent, true);\n    });\n  }\n\n  function allowMouse(event) {\n    setTimeout(function() {\n      forEach(mouseEvents, function(e) {\n        domEvent.unbind(node, e, stopEvent, true);\n      });\n    }, 500);\n  }\n\n  domEvent.bind(node, 'touchstart', stopMouse, true);\n  domEvent.bind(node, 'touchend', allowMouse, true);\n  domEvent.bind(node, 'touchcancel', allowMouse, true);\n\n  // A touch event recognizer that handles\n  // touch events only (we know, we can already handle\n  // mouse events out of the box)\n\n  var recognizer = new Hammer.Manager(node, {\n    inputClass: Hammer.TouchInput,\n    recognizers: [],\n    domEvents: true\n  });\n\n\n  var tap = new Hammer.Tap();\n  var pan = new Hammer.Pan({ threshold: 10 });\n  var press = new Hammer.Press();\n  var pinch = new Hammer.Pinch();\n\n  var doubleTap = new Hammer.Tap({ event: 'doubletap', taps: 2 });\n\n  pinch.requireFailure(pan);\n  pinch.requireFailure(press);\n\n  recognizer.add([ pan, press, pinch, doubleTap, tap ]);\n\n  recognizer.reset = function(force) {\n    var recognizers = this.recognizers,\n        session = this.session;\n\n    if (session.stopped) {\n      return;\n    }\n\n    log('recognizer', 'stop');\n\n    recognizer.stop(force);\n\n    setTimeout(function() {\n      var i, r;\n\n      log('recognizer', 'reset');\n      for (i = 0; (r = recognizers[i]); i++) {\n        r.reset();\n        r.state = 8; // FAILED STATE\n      }\n\n      session.curRecognizer = null;\n    }, 0);\n  };\n\n  recognizer.on('hammer.input', function(event) {\n    if (event.srcEvent.defaultPrevented) {\n      recognizer.reset(true);\n    }\n  });\n\n  return recognizer;\n}\n\n/**\n * A plugin that provides touch events for elements.\n *\n * @param {EventBus} eventBus\n * @param {InteractionEvents} interactionEvents\n */\nexport default function TouchInteractionEvents(\n    injector, canvas, eventBus,\n    elementRegistry, interactionEvents) {\n\n  // optional integrations\n  var dragging = get('dragging', injector),\n      move = get('move', injector),\n      contextPad = get('contextPad', injector),\n      palette = get('palette', injector);\n\n  // the touch recognizer\n  var recognizer;\n\n  function handler(type) {\n\n    return function(event) {\n      log('element', type, event);\n\n      interactionEvents.fire(type, event);\n    };\n  }\n\n  function getGfx(target) {\n    var node = domClosest(target, 'svg, .djs-element', true);\n    return node;\n  }\n\n  function initEvents(svg) {\n\n    // touch recognizer\n    recognizer = createTouchRecognizer(svg);\n\n    recognizer.on('doubletap', handler('element.dblclick'));\n\n    recognizer.on('tap', handler('element.click'));\n\n    function startGrabCanvas(event) {\n\n      log('canvas', 'grab start');\n\n      var lx = 0, ly = 0;\n\n      function update(e) {\n\n        var dx = e.deltaX - lx,\n            dy = e.deltaY - ly;\n\n        canvas.scroll({ dx: dx, dy: dy });\n\n        lx = e.deltaX;\n        ly = e.deltaY;\n      }\n\n      function end(e) {\n        recognizer.off('panmove', update);\n        recognizer.off('panend', end);\n        recognizer.off('pancancel', end);\n\n        log('canvas', 'grab end');\n      }\n\n      recognizer.on('panmove', update);\n      recognizer.on('panend', end);\n      recognizer.on('pancancel', end);\n    }\n\n    function startGrab(event) {\n\n      var gfx = getGfx(event.target),\n          element = gfx && elementRegistry.get(gfx);\n\n      // recognizer\n      if (move && canvas.getRootElement() !== element) {\n        log('element', 'move start', element, event, true);\n        return move.start(event, element, true);\n      } else {\n        startGrabCanvas(event);\n      }\n    }\n\n    function startZoom(e) {\n\n      log('canvas', 'zoom start');\n\n      var zoom = canvas.zoom(),\n          mid = e.center;\n\n      function update(e) {\n\n        var ratio = 1 - (1 - e.scale) / 1.50,\n            newZoom = Math.max(MIN_ZOOM, Math.min(MAX_ZOOM, ratio * zoom));\n\n        canvas.zoom(newZoom, mid);\n\n        stopEvent(e);\n      }\n\n      function end(e) {\n        recognizer.off('pinchmove', update);\n        recognizer.off('pinchend', end);\n        recognizer.off('pinchcancel', end);\n\n        recognizer.reset(true);\n\n        log('canvas', 'zoom end');\n      }\n\n      recognizer.on('pinchmove', update);\n      recognizer.on('pinchend', end);\n      recognizer.on('pinchcancel', end);\n    }\n\n    recognizer.on('panstart', startGrab);\n    recognizer.on('press', startGrab);\n\n    recognizer.on('pinchstart', startZoom);\n  }\n\n  if (dragging) {\n\n    // simulate hover during dragging\n    eventBus.on('drag.move', function(event) {\n\n      var originalEvent = event.originalEvent;\n\n      if (!originalEvent || originalEvent instanceof MouseEvent) {\n        return;\n      }\n\n      var position = toPoint(originalEvent);\n\n      // this gets really expensive ...\n      var node = document.elementFromPoint(position.x, position.y),\n          gfx = getGfx(node),\n          element = gfx && elementRegistry.get(gfx);\n\n      if (element !== event.hover) {\n        if (event.hover) {\n          dragging.out(event);\n        }\n\n        if (element) {\n          dragging.hover({ element: element, gfx: gfx });\n\n          event.hover = element;\n          event.hoverGfx = gfx;\n        }\n      }\n    });\n  }\n\n  if (contextPad) {\n\n    eventBus.on('contextPad.create', function(event) {\n      var node = event.pad.html;\n\n      // touch recognizer\n      var padRecognizer = createTouchRecognizer(node);\n\n      padRecognizer.on('panstart', function(event) {\n        log('context-pad', 'panstart', event);\n        contextPad.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('press', function(event) {\n        log('context-pad', 'press', event);\n        contextPad.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('tap', function(event) {\n        log('context-pad', 'tap', event);\n        contextPad.trigger('click', event);\n      });\n    });\n  }\n\n  if (palette) {\n    eventBus.on('palette.create', function(event) {\n      var node = event.container;\n\n      // touch recognizer\n      var padRecognizer = createTouchRecognizer(node);\n\n      padRecognizer.on('panstart', function(event) {\n        log('palette', 'panstart', event);\n        palette.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('press', function(event) {\n        log('palette', 'press', event);\n        palette.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('tap', function(event) {\n        log('palette', 'tap', event);\n        palette.trigger('click', event);\n      });\n    });\n  }\n\n  eventBus.on('canvas.init', function(event) {\n    initEvents(event.svg);\n  });\n}\n\n\nTouchInteractionEvents.$inject = [\n  'injector',\n  'canvas',\n  'eventBus',\n  'elementRegistry',\n  'interactionEvents',\n  'touchFix'\n];\n","import {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\n\nexport default function TouchFix(canvas, eventBus) {\n\n  var self = this;\n\n  eventBus.on('canvas.init', function(e) {\n    self.addBBoxMarker(e.svg);\n  });\n}\n\nTouchFix.$inject = [ 'canvas', 'eventBus' ];\n\n\n/**\n * Safari mobile (iOS 7) does not fire touchstart event in <SVG> element\n * if there is no shape between 0,0 and viewport elements origin.\n *\n * So touchstart event is only fired when the <g class=\"viewport\"> element was hit.\n * Putting an element over and below the 'viewport' fixes that behavior.\n */\nTouchFix.prototype.addBBoxMarker = function(svg) {\n\n  var markerStyle = {\n    fill: 'none',\n    class: 'outer-bound-marker'\n  };\n\n  var rect1 = svgCreate('rect');\n  svgAttr(rect1, {\n    x: -10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect1, markerStyle);\n\n  svgAppend(svg, rect1);\n\n  var rect2 = svgCreate('rect');\n  svgAttr(rect2, {\n    x: 10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect2, markerStyle);\n\n  svgAppend(svg, rect2);\n};\n","import InteractionEventsModule from '../interaction-events';\n\nimport TouchInteractionEvents from './TouchInteractionEvents';\nimport TouchFix from './TouchFix';\n\nexport default {\n  __depends__: [ InteractionEventsModule ],\n  __init__: [ 'touchInteractionEvents' ],\n  touchInteractionEvents: [ 'type', TouchInteractionEvents ],\n  touchFix: [ 'type', TouchFix ]\n};","import TouchModule from '../../features/touch';\n\nexport default {\n  __depends__: [\n    TouchModule\n  ]\n};","import inherits from 'inherits';\n\nimport Viewer from './Viewer';\n\n\n/**\n * A viewer that includes mouse navigation facilities\n *\n * @param {Object} options\n */\nexport default function NavigatedViewer(options) {\n  Viewer.call(this, options);\n}\n\ninherits(NavigatedViewer, Viewer);\n\nimport ZoomScroll from 'diagram-js/lib/navigation/zoomscroll';\nimport MoveCanvas from 'diagram-js/lib/navigation/movecanvas';\nimport TouchModule from 'diagram-js/lib/navigation/touch';\n\nNavigatedViewer.prototype._navigationModules = [\n  ZoomScroll,\n  MoveCanvas,\n  TouchModule\n];\n\nNavigatedViewer.prototype._modules = [].concat(\n  NavigatedViewer.prototype._modules,\n  NavigatedViewer.prototype._navigationModules\n);\n","import {\n  filter,\n  forEach,\n  sortBy\n} from 'min-dash';\n\nfunction last(arr) {\n  return arr && arr[arr.length - 1];\n}\n\nfunction sortTopOrMiddle(element) {\n  return element.y;\n}\n\nfunction sortLeftOrCenter(element) {\n  return element.x;\n}\n\n/**\n * Sorting functions for different types of alignment\n *\n * @type {Object}\n *\n * @return {Function}\n */\nvar ALIGNMENT_SORTING = {\n  left: sortLeftOrCenter,\n  center: sortLeftOrCenter,\n  right: function(element) {\n    return element.x + element.width;\n  },\n  top: sortTopOrMiddle,\n  middle: sortTopOrMiddle,\n  bottom: function(element) {\n    return element.y + element.height;\n  }\n};\n\n\nexport default function AlignElements(modeling) {\n  this._modeling = modeling;\n}\n\nAlignElements.$inject = [ 'modeling' ];\n\n\n/**\n * Get the relevant \"axis\" and \"dimension\" related to the current type of alignment\n *\n * @param  {string} type left|right|center|top|bottom|middle\n *\n * @return {Object} { axis, dimension }\n */\nAlignElements.prototype._getOrientationDetails = function(type) {\n  var vertical = [ 'top', 'bottom', 'middle' ],\n      axis = 'x',\n      dimension = 'width';\n\n  if (vertical.indexOf(type) !== -1) {\n    axis = 'y';\n    dimension = 'height';\n  }\n\n  return {\n    axis: axis,\n    dimension: dimension\n  };\n};\n\nAlignElements.prototype._isType = function(type, types) {\n  return types.indexOf(type) !== -1;\n};\n\n/**\n * Get a point on the relevant axis where elements should align to\n *\n * @param  {string} type left|right|center|top|bottom|middle\n * @param  {Array} sortedElements\n *\n * @return {Object}\n */\nAlignElements.prototype._alignmentPosition = function(type, sortedElements) {\n  var orientation = this._getOrientationDetails(type),\n      axis = orientation.axis,\n      dimension = orientation.dimension,\n      alignment = {},\n      centers = {},\n      hasSharedCenters = false,\n      centeredElements,\n      firstElement,\n      lastElement;\n\n  function getMiddleOrTop(first, last) {\n    return Math.round((first[axis] + last[axis] + last[dimension]) / 2);\n  }\n\n  if (this._isType(type, [ 'left', 'top' ])) {\n    alignment[type] = sortedElements[0][axis];\n\n  } else if (this._isType(type, [ 'right', 'bottom' ])) {\n    lastElement = last(sortedElements);\n\n    alignment[type] = lastElement[axis] + lastElement[dimension];\n\n  } else if (this._isType(type, [ 'center', 'middle' ])) {\n\n    // check if there is a center shared by more than one shape\n    // if not, just take the middle of the range\n    forEach(sortedElements, function(element) {\n      var center = element[axis] + Math.round(element[dimension] / 2);\n\n      if (centers[center]) {\n        centers[center].elements.push(element);\n      } else {\n        centers[center] = {\n          elements: [ element ],\n          center: center\n        };\n      }\n    });\n\n    centeredElements = sortBy(centers, function(center) {\n      if (center.elements.length > 1) {\n        hasSharedCenters = true;\n      }\n\n      return center.elements.length;\n    });\n\n    if (hasSharedCenters) {\n      alignment[type] = last(centeredElements).center;\n\n      return alignment;\n    }\n\n    firstElement = sortedElements[0];\n\n    sortedElements = sortBy(sortedElements, function(element) {\n      return element[axis] + element[dimension];\n    });\n\n    lastElement = last(sortedElements);\n\n    alignment[type] = getMiddleOrTop(firstElement, lastElement);\n  }\n\n  return alignment;\n};\n\n/**\n * Executes the alignment of a selection of elements\n *\n * @param  {Array} elements [description]\n * @param  {string} type left|right|center|top|bottom|middle\n */\nAlignElements.prototype.trigger = function(elements, type) {\n  var modeling = this._modeling;\n\n  var filteredElements = filter(elements, function(element) {\n    return !(element.waypoints || element.host || element.labelTarget);\n  });\n\n  var sortFn = ALIGNMENT_SORTING[type];\n\n  var sortedElements = sortBy(filteredElements, sortFn);\n\n  var alignment = this._alignmentPosition(type, sortedElements);\n\n  modeling.alignElements(sortedElements, alignment);\n};\n","import AlignElements from './AlignElements';\n\nexport default {\n  __init__: [ 'alignElements' ],\n  alignElements: [ 'type', AlignElements ]\n};\n","import {\n  every,\n  isArray\n} from 'min-dash';\n\n/**\n * Computes the distance between two points\n *\n * @param  {Point}  p\n * @param  {Point}  q\n *\n * @return {number}  distance\n */\nexport function pointDistance(a, b) {\n  if (!a || !b) {\n    return -1;\n  }\n\n  return Math.sqrt(\n    Math.pow(a.x - b.x, 2) +\n    Math.pow(a.y - b.y, 2)\n  );\n}\n\n\n/**\n * Returns true if the point r is on the line between p and q\n *\n * @param  {Point}  p\n * @param  {Point}  q\n * @param  {Point}  r\n * @param  {number} [accuracy=5] accuracy for points on line check (lower is better)\n *\n * @return {boolean}\n */\nexport function pointsOnLine(p, q, r, accuracy) {\n\n  if (typeof accuracy === 'undefined') {\n    accuracy = 5;\n  }\n\n  if (!p || !q || !r) {\n    return false;\n  }\n\n  var val = (q.x - p.x) * (r.y - p.y) - (q.y - p.y) * (r.x - p.x),\n      dist = pointDistance(p, q);\n\n  // @see http://stackoverflow.com/a/907491/412190\n  return Math.abs(val / dist) <= accuracy;\n}\n\n\nvar ALIGNED_THRESHOLD = 2;\n\n/**\n * Check whether two points are horizontally or vertically aligned.\n *\n * @param {Array<Point>|Point}\n * @param {Point}\n *\n * @return {string|boolean}\n */\nexport function pointsAligned(a, b) {\n  var points;\n\n  if (isArray(a)) {\n    points = a;\n  } else {\n    points = [ a, b ];\n  }\n\n  if (pointsAlignedHorizontally(points)) {\n    return 'h';\n  }\n\n  if (pointsAlignedVertically(points)) {\n    return 'v';\n  }\n\n  return false;\n}\n\nexport function pointsAlignedHorizontally(a, b) {\n  var points;\n\n  if (isArray(a)) {\n    points = a;\n  } else {\n    points = [ a, b ];\n  }\n\n  var firstPoint = points.slice().shift();\n\n  return every(points, function(point) {\n    return Math.abs(firstPoint.y - point.y) <= ALIGNED_THRESHOLD;\n  });\n}\n\nexport function pointsAlignedVertically(a, b) {\n  var points;\n\n  if (isArray(a)) {\n    points = a;\n  } else {\n    points = [ a, b ];\n  }\n\n  var firstPoint = points.slice().shift();\n\n  return every(points, function(point) {\n    return Math.abs(firstPoint.x - point.x) <= ALIGNED_THRESHOLD;\n  });\n}\n\n\n\n/**\n * Returns true if the point p is inside the rectangle rect\n *\n * @param  {Point}  p\n * @param  {Rect} rect\n * @param  {number} tolerance\n *\n * @return {boolean}\n */\nexport function pointInRect(p, rect, tolerance) {\n  tolerance = tolerance || 0;\n\n  return p.x > rect.x - tolerance &&\n         p.y > rect.y - tolerance &&\n         p.x < rect.x + rect.width + tolerance &&\n         p.y < rect.y + rect.height + tolerance;\n}\n\n/**\n * Returns a point in the middle of points p and q\n *\n * @param  {Point}  p\n * @param  {Point}  q\n *\n * @return {Point} middle point\n */\nexport function getMidPoint(p, q) {\n  return {\n    x: Math.round(p.x + ((q.x - p.x) / 2.0)),\n    y: Math.round(p.y + ((q.y - p.y) / 2.0))\n  };\n}\n","'use strict';\n\n/**\n * This file contains source code adapted from Snap.svg (licensed Apache-2.0).\n *\n * @see https://github.com/adobe-webplatform/Snap.svg/blob/master/src/path.js\n */\n\n/* eslint no-fallthrough: \"off\" */\n\nvar p2s = /,?([a-z]),?/gi,\n    toFloat = parseFloat,\n    math = Math,\n    PI = math.PI,\n    mmin = math.min,\n    mmax = math.max,\n    pow = math.pow,\n    abs = math.abs,\n    pathCommand = /([a-z])[\\s,]*((-?\\d*\\.?\\d*(?:e[-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    pathValues = /(-?\\d*\\.?\\d*(?:e[-+]?\\\\d+)?)[\\s]*,?[\\s]*/ig;\n\nvar isArray = Array.isArray || function(o) { return o instanceof Array; };\n\nfunction hasProperty(obj, property) {\n  return Object.prototype.hasOwnProperty.call(obj, property);\n}\n\nfunction clone(obj) {\n\n  if (typeof obj == 'function' || Object(obj) !== obj) {\n    return obj;\n  }\n\n  var res = new obj.constructor;\n\n  for (var key in obj) {\n    if (hasProperty(obj, key)) {\n      res[key] = clone(obj[key]);\n    }\n  }\n\n  return res;\n}\n\nfunction repush(array, item) {\n  for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n    return array.push(array.splice(i, 1)[0]);\n  }\n}\n\nfunction cacher(f) {\n\n  function newf() {\n\n    var arg = Array.prototype.slice.call(arguments, 0),\n        args = arg.join('\\u2400'),\n        cache = newf.cache = newf.cache || {},\n        count = newf.count = newf.count || [];\n\n    if (hasProperty(cache, args)) {\n      repush(count, args);\n      return cache[args];\n    }\n\n    count.length >= 1e3 && delete cache[count.shift()];\n    count.push(args);\n    cache[args] = f.apply(0, arg);\n\n    return cache[args];\n  }\n  return newf;\n}\n\nfunction parsePathString(pathString) {\n\n  if (!pathString) {\n    return null;\n  }\n\n  var pth = paths(pathString);\n\n  if (pth.arr) {\n    return clone(pth.arr);\n  }\n\n  var paramCounts = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 },\n      data = [];\n\n  if (isArray(pathString) && isArray(pathString[0])) { // rough assumption\n    data = clone(pathString);\n  }\n\n  if (!data.length) {\n\n    String(pathString).replace(pathCommand, function(a, b, c) {\n      var params = [],\n          name = b.toLowerCase();\n\n      c.replace(pathValues, function(a, b) {\n        b && params.push(+b);\n      });\n\n      if (name == 'm' && params.length > 2) {\n        data.push([b].concat(params.splice(0, 2)));\n        name = 'l';\n        b = b == 'm' ? 'l' : 'L';\n      }\n\n      while (params.length >= paramCounts[name]) {\n        data.push([b].concat(params.splice(0, paramCounts[name])));\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    });\n  }\n\n  data.toString = paths.toString;\n  pth.arr = clone(data);\n\n  return data;\n}\n\nfunction paths(ps) {\n  var p = paths.ps = paths.ps || {};\n\n  if (p[ps]) {\n    p[ps].sleep = 100;\n  } else {\n    p[ps] = {\n      sleep: 100\n    };\n  }\n\n  setTimeout(function() {\n    for (var key in p) {\n      if (hasProperty(p, key) && key != ps) {\n        p[key].sleep--;\n        !p[key].sleep && delete p[key];\n      }\n    }\n  });\n\n  return p[ps];\n}\n\nfunction rectBBox(x, y, width, height) {\n\n  if (arguments.length === 1) {\n    y = x.y;\n    width = x.width;\n    height = x.height;\n    x = x.x;\n  }\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    x2: x + width,\n    y2: y + height\n  };\n}\n\nfunction pathToString() {\n  return this.join(',').replace(p2s, '$1');\n}\n\nfunction pathClone(pathArray) {\n  var res = clone(pathArray);\n  res.toString = pathToString;\n  return res;\n}\n\nfunction findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n  var t1 = 1 - t,\n      t13 = pow(t1, 3),\n      t12 = pow(t1, 2),\n      t2 = t * t,\n      t3 = t2 * t,\n      x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n      y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n\n  return {\n    x: fixError(x),\n    y: fixError(y)\n  };\n}\n\nfunction bezierBBox(points) {\n\n  var bbox = curveBBox.apply(null, points);\n\n  return rectBBox(\n    bbox.x0,\n    bbox.y0,\n    bbox.x1 - bbox.x0,\n    bbox.y1 - bbox.y0\n  );\n}\n\nfunction isPointInsideBBox(bbox, x, y) {\n  return x >= bbox.x &&\n    x <= bbox.x + bbox.width &&\n    y >= bbox.y &&\n    y <= bbox.y + bbox.height;\n}\n\nfunction isBBoxIntersect(bbox1, bbox2) {\n  bbox1 = rectBBox(bbox1);\n  bbox2 = rectBBox(bbox2);\n  return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n    || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n        || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n    && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n        || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n}\n\nfunction base3(t, p1, p2, p3, p4) {\n  var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n      t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n  return t * t2 - 3 * p1 + 3 * p2;\n}\n\nfunction bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n\n  if (z == null) {\n    z = 1;\n  }\n\n  z = z > 1 ? 1 : z < 0 ? 0 : z;\n\n  var z2 = z / 2,\n      n = 12,\n      Tvalues = [-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],\n      Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n      sum = 0;\n\n  for (var i = 0; i < n; i++) {\n    var ct = z2 * Tvalues[i] + z2,\n        xbase = base3(ct, x1, x2, x3, x4),\n        ybase = base3(ct, y1, y2, y3, y4),\n        comb = xbase * xbase + ybase * ybase;\n\n    sum += Cvalues[i] * math.sqrt(comb);\n  }\n\n  return z2 * sum;\n}\n\n\nfunction intersectLines(x1, y1, x2, y2, x3, y3, x4, y4) {\n\n  if (\n    mmax(x1, x2) < mmin(x3, x4) ||\n      mmin(x1, x2) > mmax(x3, x4) ||\n      mmax(y1, y2) < mmin(y3, y4) ||\n      mmin(y1, y2) > mmax(y3, y4)\n  ) {\n    return;\n  }\n\n  var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n  if (!denominator) {\n    return;\n  }\n\n  var px = fixError(nx / denominator),\n      py = fixError(ny / denominator),\n      px2 = +px.toFixed(2),\n      py2 = +py.toFixed(2);\n\n  if (\n    px2 < +mmin(x1, x2).toFixed(2) ||\n      px2 > +mmax(x1, x2).toFixed(2) ||\n      px2 < +mmin(x3, x4).toFixed(2) ||\n      px2 > +mmax(x3, x4).toFixed(2) ||\n      py2 < +mmin(y1, y2).toFixed(2) ||\n      py2 > +mmax(y1, y2).toFixed(2) ||\n      py2 < +mmin(y3, y4).toFixed(2) ||\n      py2 > +mmax(y3, y4).toFixed(2)\n  ) {\n    return;\n  }\n\n  return { x: px, y: py };\n}\n\nfunction fixError(number) {\n  return Math.round(number * 100000000000) / 100000000000;\n}\n\nfunction findBezierIntersections(bez1, bez2, justCount) {\n  var bbox1 = bezierBBox(bez1),\n      bbox2 = bezierBBox(bez2);\n\n  if (!isBBoxIntersect(bbox1, bbox2)) {\n    return justCount ? 0 : [];\n  }\n\n  // As an optimization, lines will have only 1 segment\n\n  var l1 = bezlen.apply(0, bez1),\n      l2 = bezlen.apply(0, bez2),\n      n1 = isLine(bez1) ? 1 : ~~(l1 / 5) || 1,\n      n2 = isLine(bez2) ? 1 : ~~(l2 / 5) || 1,\n      dots1 = [],\n      dots2 = [],\n      xy = {},\n      res = justCount ? 0 : [];\n\n  for (var i = 0; i < n1 + 1; i++) {\n    var p = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n    dots1.push({ x: p.x, y: p.y, t: i / n1 });\n  }\n\n  for (i = 0; i < n2 + 1; i++) {\n    p = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n    dots2.push({ x: p.x, y: p.y, t: i / n2 });\n  }\n\n  for (i = 0; i < n1; i++) {\n\n    for (var j = 0; j < n2; j++) {\n      var di = dots1[i],\n          di1 = dots1[i + 1],\n          dj = dots2[j],\n          dj1 = dots2[j + 1],\n          ci = abs(di1.x - di.x) < .01 ? 'y' : 'x',\n          cj = abs(dj1.x - dj.x) < .01 ? 'y' : 'x',\n          is = intersectLines(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y),\n          key;\n\n      if (is) {\n        key = is.x.toFixed(9) + '#' + is.y.toFixed(9);\n\n        if (xy[key]) {\n          continue;\n        }\n\n        xy[key] = true;\n\n        var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n            t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n\n        if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n\n          if (justCount) {\n            res++;\n          } else {\n            res.push({\n              x: is.x,\n              y: is.y,\n              t1: t1,\n              t2: t2\n            });\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\n/**\n * Find or counts the intersections between two SVG paths.\n *\n * Returns a number in counting mode and a list of intersections otherwise.\n *\n * A single intersection entry contains the intersection coordinates (x, y)\n * as well as additional information regarding the intersecting segments\n * on each path (segment1, segment2) and the relative location of the\n * intersection on these segments (t1, t2).\n *\n * The path may be an SVG path string or a list of path components\n * such as `[ [ 'M', 0, 10 ], [ 'L', 20, 0 ] ]`.\n *\n * @example\n *\n * var intersections = findPathIntersections(\n *   'M0,0L100,100',\n *   [ [ 'M', 0, 100 ], [ 'L', 100, 0 ] ]\n * );\n *\n * // intersections = [\n * //   { x: 50, y: 50, segment1: 1, segment2: 1, t1: 0.5, t2: 0.5 }\n * // ]\n *\n * @param {String|Array<PathDef>} path1\n * @param {String|Array<PathDef>} path2\n * @param {Boolean} [justCount=false]\n *\n * @return {Array<Intersection>|Number}\n */\nfunction findPathIntersections(path1, path2, justCount) {\n  path1 = pathToCurve(path1);\n  path2 = pathToCurve(path2);\n\n  var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n      res = justCount ? 0 : [];\n\n  for (var i = 0, ii = path1.length; i < ii; i++) {\n    var pi = path1[i];\n\n    if (pi[0] == 'M') {\n      x1 = x1m = pi[1];\n      y1 = y1m = pi[2];\n    } else {\n\n      if (pi[0] == 'C') {\n        bez1 = [x1, y1].concat(pi.slice(1));\n        x1 = bez1[6];\n        y1 = bez1[7];\n      } else {\n        bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n        x1 = x1m;\n        y1 = y1m;\n      }\n\n      for (var j = 0, jj = path2.length; j < jj; j++) {\n        var pj = path2[j];\n\n        if (pj[0] == 'M') {\n          x2 = x2m = pj[1];\n          y2 = y2m = pj[2];\n        } else {\n\n          if (pj[0] == 'C') {\n            bez2 = [x2, y2].concat(pj.slice(1));\n            x2 = bez2[6];\n            y2 = bez2[7];\n          } else {\n            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n            x2 = x2m;\n            y2 = y2m;\n          }\n\n          var intr = findBezierIntersections(bez1, bez2, justCount);\n\n          if (justCount) {\n            res += intr;\n          } else {\n\n            for (var k = 0, kk = intr.length; k < kk; k++) {\n              intr[k].segment1 = i;\n              intr[k].segment2 = j;\n              intr[k].bez1 = bez1;\n              intr[k].bez2 = bez2;\n            }\n\n            res = res.concat(intr);\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\nfunction pathToAbsolute(pathArray) {\n  var pth = paths(pathArray);\n\n  if (pth.abs) {\n    return pathClone(pth.abs);\n  }\n\n  if (!isArray(pathArray) || !isArray(pathArray && pathArray[0])) { // rough assumption\n    pathArray = parsePathString(pathArray);\n  }\n\n  if (!pathArray || !pathArray.length) {\n    return [['M', 0, 0]];\n  }\n\n  var res = [],\n      x = 0,\n      y = 0,\n      mx = 0,\n      my = 0,\n      start = 0,\n      pa0;\n\n  if (pathArray[0][0] == 'M') {\n    x = +pathArray[0][1];\n    y = +pathArray[0][2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = ['M', x, y];\n  }\n\n  for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n    res.push(r = []);\n    pa = pathArray[i];\n    pa0 = pa[0];\n\n    if (pa0 != pa0.toUpperCase()) {\n      r[0] = pa0.toUpperCase();\n\n      switch (r[0]) {\n      case 'A':\n        r[1] = pa[1];\n        r[2] = pa[2];\n        r[3] = pa[3];\n        r[4] = pa[4];\n        r[5] = pa[5];\n        r[6] = +pa[6] + x;\n        r[7] = +pa[7] + y;\n        break;\n      case 'V':\n        r[1] = +pa[1] + y;\n        break;\n      case 'H':\n        r[1] = +pa[1] + x;\n        break;\n      case 'M':\n        mx = +pa[1] + x;\n        my = +pa[2] + y;\n      default:\n        for (var j = 1, jj = pa.length; j < jj; j++) {\n          r[j] = +pa[j] + ((j % 2) ? x : y);\n        }\n      }\n    } else {\n      for (var k = 0, kk = pa.length; k < kk; k++) {\n        r[k] = pa[k];\n      }\n    }\n    pa0 = pa0.toUpperCase();\n\n    switch (r[0]) {\n    case 'Z':\n      x = +mx;\n      y = +my;\n      break;\n    case 'H':\n      x = r[1];\n      break;\n    case 'V':\n      y = r[1];\n      break;\n    case 'M':\n      mx = r[r.length - 2];\n      my = r[r.length - 1];\n    default:\n      x = r[r.length - 2];\n      y = r[r.length - 1];\n    }\n  }\n\n  res.toString = pathToString;\n  pth.abs = pathClone(res);\n\n  return res;\n}\n\nfunction isLine(bez) {\n  return (\n    bez[0] === bez[2] &&\n    bez[1] === bez[3] &&\n    bez[4] === bez[6] &&\n    bez[5] === bez[7]\n  );\n}\n\nfunction lineToCurve(x1, y1, x2, y2) {\n  return [\n    x1, y1, x2,\n    y2, x2, y2\n  ];\n}\n\nfunction qubicToCurve(x1, y1, ax, ay, x2, y2) {\n  var _13 = 1 / 3,\n      _23 = 2 / 3;\n\n  return [\n    _13 * x1 + _23 * ax,\n    _13 * y1 + _23 * ay,\n    _13 * x2 + _23 * ax,\n    _13 * y2 + _23 * ay,\n    x2,\n    y2\n  ];\n}\n\nfunction arcToCurve(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  var _120 = PI * 120 / 180,\n      rad = PI / 180 * (+angle || 0),\n      res = [],\n      xy,\n      rotate = cacher(function(x, y, rad) {\n        var X = x * math.cos(rad) - y * math.sin(rad),\n            Y = x * math.sin(rad) + y * math.cos(rad);\n\n        return { x: X, y: Y };\n      });\n\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n\n    var x = (x1 - x2) / 2,\n        y = (y1 - y2) / 2;\n\n    var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n\n    if (h > 1) {\n      h = math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n\n    var rx2 = rx * rx,\n        ry2 = ry * ry,\n        k = (large_arc_flag == sweep_flag ? -1 : 1) *\n            math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n        cx = k * rx * y / ry + (x1 + x2) / 2,\n        cy = k * -ry * x / rx + (y1 + y2) / 2,\n        f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n        f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n    f1 = x1 < cx ? PI - f1 : f1;\n    f2 = x2 < cx ? PI - f2 : f2;\n    f1 < 0 && (f1 = PI * 2 + f1);\n    f2 < 0 && (f2 = PI * 2 + f2);\n\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - PI * 2;\n    }\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n\n  var df = f2 - f1;\n\n  if (abs(df) > _120) {\n    var f2old = f2,\n        x2old = x2,\n        y2old = y2;\n\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * math.cos(f2);\n    y2 = cy + ry * math.sin(f2);\n    res = arcToCurve(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n  }\n\n  df = f2 - f1;\n\n  var c1 = math.cos(f1),\n      s1 = math.sin(f1),\n      c2 = math.cos(f2),\n      s2 = math.sin(f2),\n      t = math.tan(df / 4),\n      hx = 4 / 3 * rx * t,\n      hy = 4 / 3 * ry * t,\n      m1 = [x1, y1],\n      m2 = [x1 + hx * s1, y1 - hy * c1],\n      m3 = [x2 + hx * s2, y2 - hy * c2],\n      m4 = [x2, y2];\n\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n\n  if (recursive) {\n    return [m2, m3, m4].concat(res);\n  } else {\n    res = [m2, m3, m4].concat(res).join().split(',');\n    var newres = [];\n\n    for (var i = 0, ii = res.length; i < ii; i++) {\n      newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n\n    return newres;\n  }\n}\n\n// Returns bounding box of cubic bezier curve.\n// Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n// Original version: NISHIO Hirokazu\n// Modifications: https://github.com/timo22345\nfunction curveBBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var tvalues = [],\n      bounds = [[], []],\n      a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n\n  for (var i = 0; i < 2; ++i) {\n\n    if (i == 0) {\n      b = 6 * x0 - 12 * x1 + 6 * x2;\n      a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n      c = 3 * x1 - 3 * x0;\n    } else {\n      b = 6 * y0 - 12 * y1 + 6 * y2;\n      a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n      c = 3 * y1 - 3 * y0;\n    }\n\n    if (abs(a) < 1e-12) {\n\n      if (abs(b) < 1e-12) {\n        continue;\n      }\n\n      t = -c / b;\n\n      if (0 < t && t < 1) {\n        tvalues.push(t);\n      }\n\n      continue;\n    }\n\n    b2ac = b * b - 4 * c * a;\n    sqrtb2ac = math.sqrt(b2ac);\n\n    if (b2ac < 0) {\n      continue;\n    }\n\n    t1 = (-b + sqrtb2ac) / (2 * a);\n\n    if (0 < t1 && t1 < 1) {\n      tvalues.push(t1);\n    }\n\n    t2 = (-b - sqrtb2ac) / (2 * a);\n\n    if (0 < t2 && t2 < 1) {\n      tvalues.push(t2);\n    }\n  }\n\n  var j = tvalues.length,\n      jlen = j,\n      mt;\n\n  while (j--) {\n    t = tvalues[j];\n    mt = 1 - t;\n    bounds[0][j] = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n    bounds[1][j] = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n  }\n\n  bounds[0][jlen] = x0;\n  bounds[1][jlen] = y0;\n  bounds[0][jlen + 1] = x3;\n  bounds[1][jlen + 1] = y3;\n  bounds[0].length = bounds[1].length = jlen + 2;\n\n  return {\n    x0: mmin.apply(0, bounds[0]),\n    y0: mmin.apply(0, bounds[1]),\n    x1: mmax.apply(0, bounds[0]),\n    y1: mmax.apply(0, bounds[1])\n  };\n}\n\nfunction pathToCurve(path) {\n\n  var pth = paths(path);\n\n  // return cached curve, if existing\n  if (pth.curve) {\n    return pathClone(pth.curve);\n  }\n\n  var curvedPath = pathToAbsolute(path),\n      attrs = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },\n      processPath = function(path, d, pathCommand) {\n        var nx, ny;\n\n        if (!path) {\n          return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n\n        !(path[0] in { T: 1, Q: 1 }) && (d.qx = d.qy = null);\n\n        switch (path[0]) {\n        case 'M':\n          d.X = path[1];\n          d.Y = path[2];\n          break;\n        case 'A':\n          path = ['C'].concat(arcToCurve.apply(0, [d.x, d.y].concat(path.slice(1))));\n          break;\n        case 'S':\n          if (pathCommand == 'C' || pathCommand == 'S') {\n            // In 'S' case we have to take into account, if the previous command is C/S.\n            nx = d.x * 2 - d.bx;\n            // And reflect the previous\n            ny = d.y * 2 - d.by;\n            // command's control point relative to the current point.\n          }\n          else {\n            // or some else or nothing\n            nx = d.x;\n            ny = d.y;\n          }\n          path = ['C', nx, ny].concat(path.slice(1));\n          break;\n        case 'T':\n          if (pathCommand == 'Q' || pathCommand == 'T') {\n            // In 'T' case we have to take into account, if the previous command is Q/T.\n            d.qx = d.x * 2 - d.qx;\n            // And make a reflection similar\n            d.qy = d.y * 2 - d.qy;\n            // to case 'S'.\n          }\n          else {\n            // or something else or nothing\n            d.qx = d.x;\n            d.qy = d.y;\n          }\n          path = ['C'].concat(qubicToCurve(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n          break;\n        case 'Q':\n          d.qx = path[1];\n          d.qy = path[2];\n          path = ['C'].concat(qubicToCurve(d.x, d.y, path[1], path[2], path[3], path[4]));\n          break;\n        case 'L':\n          path = ['C'].concat(lineToCurve(d.x, d.y, path[1], path[2]));\n          break;\n        case 'H':\n          path = ['C'].concat(lineToCurve(d.x, d.y, path[1], d.y));\n          break;\n        case 'V':\n          path = ['C'].concat(lineToCurve(d.x, d.y, d.x, path[1]));\n          break;\n        case 'Z':\n          path = ['C'].concat(lineToCurve(d.x, d.y, d.X, d.Y));\n          break;\n        }\n\n        return path;\n      },\n\n      fixArc = function(pp, i) {\n\n        if (pp[i].length > 7) {\n          pp[i].shift();\n          var pi = pp[i];\n\n          while (pi.length) {\n            pathCommands[i] = 'A'; // if created multiple C:s, their original seg is saved\n            pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n          }\n\n          pp.splice(i, 1);\n          ii = curvedPath.length;\n        }\n      },\n\n      pathCommands = [], // path commands of original path p\n      pfirst = '', // temporary holder for original path command\n      pathCommand = ''; // holder for previous path command of original path\n\n  for (var i = 0, ii = curvedPath.length; i < ii; i++) {\n    curvedPath[i] && (pfirst = curvedPath[i][0]); // save current path command\n\n    if (pfirst != 'C') // C is not saved yet, because it may be result of conversion\n    {\n      pathCommands[i] = pfirst; // Save current path command\n      i && (pathCommand = pathCommands[i - 1]); // Get previous path command pathCommand\n    }\n    curvedPath[i] = processPath(curvedPath[i], attrs, pathCommand); // Previous path command is inputted to processPath\n\n    if (pathCommands[i] != 'A' && pfirst == 'C') pathCommands[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(curvedPath, i); // fixArc adds also the right amount of A:s to pathCommands\n\n    var seg = curvedPath[i],\n        seglen = seg.length;\n\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n  }\n\n  // cache curve\n  pth.curve = pathClone(curvedPath);\n\n  return curvedPath;\n}\n\nmodule.exports = findPathIntersections;\n","import {\n  isObject,\n  sortBy\n} from 'min-dash';\n\nimport {\n  pointDistance,\n  pointsOnLine\n} from '../util/Geometry';\n\nimport intersectPaths from 'path-intersection';\n\n\nexport function roundBounds(bounds) {\n  return {\n    x: Math.round(bounds.x),\n    y: Math.round(bounds.y),\n    width: Math.round(bounds.width),\n    height: Math.round(bounds.height)\n  };\n}\n\n\nexport function roundPoint(point) {\n\n  return {\n    x: Math.round(point.x),\n    y: Math.round(point.y)\n  };\n}\n\n\n/**\n * Convert the given bounds to a { top, left, bottom, right } descriptor.\n *\n * @param {Bounds|Point} bounds\n *\n * @return {Object}\n */\nexport function asTRBL(bounds) {\n  return {\n    top: bounds.y,\n    right: bounds.x + (bounds.width || 0),\n    bottom: bounds.y + (bounds.height || 0),\n    left: bounds.x\n  };\n}\n\n\n/**\n * Convert a { top, left, bottom, right } to an objects bounds.\n *\n * @param {Object} trbl\n *\n * @return {Bounds}\n */\nexport function asBounds(trbl) {\n  return {\n    x: trbl.left,\n    y: trbl.top,\n    width: trbl.right - trbl.left,\n    height: trbl.bottom - trbl.top\n  };\n}\n\n\n/**\n * Get the mid of the given bounds or point.\n *\n * @param {Bounds|Point} bounds\n *\n * @return {Point}\n */\nexport function getMid(bounds) {\n  return roundPoint({\n    x: bounds.x + (bounds.width || 0) / 2,\n    y: bounds.y + (bounds.height || 0) / 2\n  });\n}\n\n\n// orientation utils //////////////////////\n\n/**\n * Get orientation of the given rectangle with respect to\n * the reference rectangle.\n *\n * A padding (positive or negative) may be passed to influence\n * horizontal / vertical orientation and intersection.\n *\n * @param {Bounds} rect\n * @param {Bounds} reference\n * @param {Point|number} padding\n *\n * @return {string} the orientation; one of top, top-left, left, ..., bottom, right or intersect.\n */\nexport function getOrientation(rect, reference, padding) {\n\n  padding = padding || 0;\n\n  // make sure we can use an object, too\n  // for individual { x, y } padding\n  if (!isObject(padding)) {\n    padding = { x: padding, y: padding };\n  }\n\n\n  var rectOrientation = asTRBL(rect),\n      referenceOrientation = asTRBL(reference);\n\n  var top = rectOrientation.bottom + padding.y <= referenceOrientation.top,\n      right = rectOrientation.left - padding.x >= referenceOrientation.right,\n      bottom = rectOrientation.top - padding.y >= referenceOrientation.bottom,\n      left = rectOrientation.right + padding.x <= referenceOrientation.left;\n\n  var vertical = top ? 'top' : (bottom ? 'bottom' : null),\n      horizontal = left ? 'left' : (right ? 'right' : null);\n\n  if (horizontal && vertical) {\n    return vertical + '-' + horizontal;\n  } else {\n    return horizontal || vertical || 'intersect';\n  }\n}\n\n\n// intersection utils //////////////////////\n\n/**\n * Get intersection between an element and a line path.\n *\n * @param {PathDef} elementPath\n * @param {PathDef} linePath\n * @param {boolean} cropStart crop from start or end\n *\n * @return {Point}\n */\nexport function getElementLineIntersection(elementPath, linePath, cropStart) {\n\n  var intersections = getIntersections(elementPath, linePath);\n\n  // recognize intersections\n  // only one -> choose\n  // two close together -> choose first\n  // two or more distinct -> pull out appropriate one\n  // none -> ok (fallback to point itself)\n  if (intersections.length === 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length === 2 && pointDistance(intersections[0], intersections[1]) < 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length > 1) {\n\n    // sort by intersections based on connection segment +\n    // distance from start\n    intersections = sortBy(intersections, function(i) {\n      var distance = Math.floor(i.t2 * 100) || 1;\n\n      distance = 100 - distance;\n\n      distance = (distance < 10 ? '0' : '') + distance;\n\n      // create a sort string that makes sure we sort\n      // line segment ASC + line segment position DESC (for cropStart)\n      // line segment ASC + line segment position ASC (for cropEnd)\n      return i.segment2 + '#' + distance;\n    });\n\n    return roundPoint(intersections[cropStart ? 0 : intersections.length - 1]);\n  }\n\n  return null;\n}\n\n\nexport function getIntersections(a, b) {\n  return intersectPaths(a, b);\n}\n\n\nexport function filterRedundantWaypoints(waypoints) {\n\n  // alter copy of waypoints, not original\n  waypoints = waypoints.slice();\n\n  var idx = 0,\n      point,\n      previousPoint,\n      nextPoint;\n\n  while (waypoints[idx]) {\n    point = waypoints[idx];\n    previousPoint = waypoints[idx - 1];\n    nextPoint = waypoints[idx + 1];\n\n    if (pointDistance(point, nextPoint) === 0 ||\n        pointsOnLine(previousPoint, nextPoint, point)) {\n\n      // remove point, if overlapping with {nextPoint}\n      // or on line with {previousPoint} -> {point} -> {nextPoint}\n      waypoints.splice(idx, 1);\n    } else {\n      idx++;\n    }\n  }\n\n  return waypoints;\n}\n","import {\n  asTRBL,\n  getOrientation,\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport {\n  find,\n  reduce\n} from 'min-dash';\n\n// padding to detect element placement\nvar PLACEMENT_DETECTION_PAD = 10;\n\nexport var DEFAULT_DISTANCE = 50;\n\nvar DEFAULT_MAX_DISTANCE = 250;\n\n\n/**\n * Get free position starting from given position.\n *\n * @param {djs.model.Shape} source\n * @param {djs.model.Shape} element\n * @param {Point} position\n * @param {Function} getNextPosition\n *\n * @return {Point}\n */\nexport function findFreePosition(source, element, position, getNextPosition) {\n  var connectedAtPosition;\n\n  while ((connectedAtPosition = getConnectedAtPosition(source, position, element))) {\n    position = getNextPosition(element, position, connectedAtPosition);\n  }\n\n  return position;\n}\n\n/**\n * Returns function that returns next position.\n *\n * @param {Object} nextPositionDirection\n * @param {Object} [nextPositionDirection.x]\n * @param {Object} [nextPositionDirection.y]\n *\n * @returns {Function}\n */\nexport function generateGetNextPosition(nextPositionDirection) {\n  return function(element, previousPosition, connectedAtPosition) {\n    var nextPosition = {\n      x: previousPosition.x,\n      y: previousPosition.y\n    };\n\n    [ 'x', 'y' ].forEach(function(axis) {\n\n      var nextPositionDirectionForAxis = nextPositionDirection[ axis ];\n\n      if (!nextPositionDirectionForAxis) {\n        return;\n      }\n\n      var dimension = axis === 'x' ? 'width' : 'height';\n\n      var margin = nextPositionDirectionForAxis.margin,\n          minDistance = nextPositionDirectionForAxis.minDistance;\n\n      if (margin < 0) {\n        nextPosition[ axis ] = Math.min(\n          connectedAtPosition[ axis ] + margin - element[ dimension ] / 2,\n          previousPosition[ axis ] - minDistance + margin\n        );\n      } else {\n        nextPosition[ axis ] = Math.max(\n          connectedAtPosition[ axis ] + connectedAtPosition[ dimension ] + margin + element[ dimension ] / 2,\n          previousPosition[ axis ] + minDistance + margin\n        );\n      }\n    });\n\n    return nextPosition;\n  };\n}\n\n/**\n * Return target at given position, if defined.\n *\n * This takes connected elements from host and attachers\n * into account, too.\n */\nexport function getConnectedAtPosition(source, position, element) {\n\n  var bounds = {\n    x: position.x - (element.width / 2),\n    y: position.y - (element.height / 2),\n    width: element.width,\n    height: element.height\n  };\n\n  var closure = getAutoPlaceClosure(source, element);\n\n  return find(closure, function(target) {\n\n    if (target === element) {\n      return false;\n    }\n\n    var orientation = getOrientation(target, bounds, PLACEMENT_DETECTION_PAD);\n\n    return orientation === 'intersect';\n  });\n}\n\n/**\n* Compute optimal distance between source and target based on existing connections to and from source.\n* Assumes left-to-right and top-to-down modeling.\n*\n* @param {djs.model.Shape} source\n* @param {Object} [hints]\n* @param {number} [hints.defaultDistance]\n* @param {string} [hints.direction]\n* @param {Function} [hints.filter]\n* @param {Function} [hints.getWeight]\n* @param {number} [hints.maxDistance]\n* @param {string} [hints.reference]\n*\n* @return {number}\n*/\nexport function getConnectedDistance(source, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  // targets > sources by default\n  function getDefaultWeight(connection) {\n    return connection.source === source ? 1 : -1;\n  }\n\n  var defaultDistance = hints.defaultDistance || DEFAULT_DISTANCE,\n      direction = hints.direction || 'e',\n      filter = hints.filter,\n      getWeight = hints.getWeight || getDefaultWeight,\n      maxDistance = hints.maxDistance || DEFAULT_MAX_DISTANCE,\n      reference = hints.reference || 'start';\n\n  if (!filter) {\n    filter = noneFilter;\n  }\n\n  function getDistance(a, b) {\n    if (direction === 'n') {\n      if (reference === 'start') {\n        return asTRBL(a).top - asTRBL(b).bottom;\n      } else if (reference === 'center') {\n        return asTRBL(a).top - getMid(b).y;\n      } else {\n        return asTRBL(a).top - asTRBL(b).top;\n      }\n    } else if (direction === 'w') {\n      if (reference === 'start') {\n        return asTRBL(a).left - asTRBL(b).right;\n      } else if (reference === 'center') {\n        return asTRBL(a).left - getMid(b).x;\n      } else {\n        return asTRBL(a).left - asTRBL(b).left;\n      }\n    } else if (direction === 's') {\n      if (reference === 'start') {\n        return asTRBL(b).top - asTRBL(a).bottom;\n      } else if (reference === 'center') {\n        return getMid(b).y - asTRBL(a).bottom;\n      } else {\n        return asTRBL(b).bottom - asTRBL(a).bottom;\n      }\n    } else {\n      if (reference === 'start') {\n        return asTRBL(b).left - asTRBL(a).right;\n      } else if (reference === 'center') {\n        return getMid(b).x - asTRBL(a).right;\n      } else {\n        return asTRBL(b).right - asTRBL(a).right;\n      }\n    }\n  }\n\n  var sourcesDistances = source.incoming\n    .filter(filter)\n    .map(function(connection) {\n      var weight = getWeight(connection);\n\n      var distance = weight < 0\n        ? getDistance(connection.source, source)\n        : getDistance(source, connection.source);\n\n      return {\n        id: connection.source.id,\n        distance: distance,\n        weight: weight\n      };\n    });\n\n  var targetsDistances = source.outgoing\n    .filter(filter)\n    .map(function(connection) {\n      var weight = getWeight(connection);\n\n      var distance = weight > 0\n        ? getDistance(source, connection.target)\n        : getDistance(connection.target, source);\n\n      return {\n        id: connection.target.id,\n        distance: distance,\n        weight: weight\n      };\n    });\n\n  var distances = sourcesDistances.concat(targetsDistances).reduce(function(accumulator, currentValue) {\n    accumulator[ currentValue.id + '__weight_' + currentValue.weight ] = currentValue;\n\n    return accumulator;\n  }, {});\n\n  var distancesGrouped = reduce(distances, function(accumulator, currentValue) {\n    var distance = currentValue.distance,\n        weight = currentValue.weight;\n\n    if (distance < 0 || distance > maxDistance) {\n      return accumulator;\n    }\n\n    if (!accumulator[ String(distance) ]) {\n      accumulator[ String(distance) ] = 0;\n    }\n\n    accumulator[ String(distance) ] += 1 * weight;\n\n    if (!accumulator.distance || accumulator[ accumulator.distance ] < accumulator[ String(distance) ]) {\n      accumulator.distance = distance;\n    }\n\n    return accumulator;\n  }, {});\n\n  return distancesGrouped.distance || defaultDistance;\n}\n\n/**\n * Returns all connected elements around the given source.\n *\n * This includes:\n *\n *   - connected elements\n *   - host connected elements\n *   - attachers connected elements\n *\n * @param  {djs.model.Shape} source\n *\n * @return {Array<djs.model.Shape>}\n */\nfunction getAutoPlaceClosure(source) {\n\n  var allConnected = getConnected(source);\n\n  if (source.host) {\n    allConnected = allConnected.concat(getConnected(source.host));\n  }\n\n  if (source.attachers) {\n    allConnected = allConnected.concat(source.attachers.reduce(function(shapes, attacher) {\n      return shapes.concat(getConnected(attacher));\n    }, []));\n  }\n\n  return allConnected;\n}\n\nfunction getConnected(element) {\n  return getTargets(element).concat(getSources(element));\n}\n\nfunction getSources(shape) {\n  return shape.incoming.map(function(connection) {\n    return connection.source;\n  });\n}\n\nfunction getTargets(shape) {\n  return shape.outgoing.map(function(connection) {\n    return connection.target;\n  });\n}\n\nfunction noneFilter() {\n  return true;\n}\n","import {\n  asTRBL,\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport { DEFAULT_DISTANCE } from './AutoPlaceUtil';\n\nvar LOW_PRIORITY = 100;\n\n\n/**\n * A service that places elements connected to existing ones\n * to an appropriate position in an _automated_ fashion.\n *\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n */\nexport default function AutoPlace(eventBus, modeling) {\n\n  eventBus.on('autoPlace', LOW_PRIORITY, function(context) {\n    var shape = context.shape,\n        source = context.source;\n\n    return getNewShapePosition(source, shape);\n  });\n\n  /**\n   * Append shape to source at appropriate position.\n   *\n   * @param {djs.model.Shape} source\n   * @param {djs.model.Shape} shape\n   *\n   * @return {djs.model.Shape} appended shape\n   */\n  this.append = function(source, shape, hints) {\n\n    eventBus.fire('autoPlace.start', {\n      source: source,\n      shape: shape\n    });\n\n    // allow others to provide the position\n    var position = eventBus.fire('autoPlace', {\n      source: source,\n      shape: shape\n    });\n\n    var newShape = modeling.appendShape(source, shape, position, source.parent, hints);\n\n    eventBus.fire('autoPlace.end', {\n      source: source,\n      shape: newShape\n    });\n\n    return newShape;\n  };\n\n}\n\nAutoPlace.$inject = [\n  'eventBus',\n  'modeling'\n];\n\n// helpers //////////\n\n/**\n * Find the new position for the target element to\n * connect to source.\n *\n * @param  {djs.model.Shape} source\n * @param  {djs.model.Shape} element\n * @param  {Object} [hints]\n * @param  {Object} [hints.defaultDistance]\n *\n * @returns {Point}\n */\nfunction getNewShapePosition(source, element, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  var distance = hints.defaultDistance || DEFAULT_DISTANCE;\n\n  var sourceMid = getMid(source),\n      sourceTrbl = asTRBL(source);\n\n  // simply put element right next to source\n  return {\n    x: sourceTrbl.right + distance + element.width / 2,\n    y: sourceMid.y\n  };\n}","/**\n * Select element after auto placement.\n *\n * @param {EventBus} eventBus\n * @param {Selection} selection\n */\nexport default function AutoPlaceSelectionBehavior(eventBus, selection) {\n\n  eventBus.on('autoPlace.end', 500, function(e) {\n    selection.select(e.shape);\n  });\n\n}\n\nAutoPlaceSelectionBehavior.$inject = [\n  'eventBus',\n  'selection'\n];","import AutoPlace from './AutoPlace';\nimport AutoPlaceSelectionBehavior from './AutoPlaceSelectionBehavior';\n\nexport default {\n  __init__: [ 'autoPlaceSelectionBehavior' ],\n  autoPlace: [ 'type', AutoPlace ],\n  autoPlaceSelectionBehavior: [ 'type', AutoPlaceSelectionBehavior ]\n};","import {\n  assign\n} from 'min-dash';\n\nimport inherits from 'inherits';\n\nimport {\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport BaseElementFactory from 'diagram-js/lib/core/ElementFactory';\n\nexport var BUSINESS_KNOWLEDGE_MODEL_SIZE = { width: 135, height: 46 };\nexport var DECISION_SIZE = { width: 180, height: 80 };\nexport var INPUT_DATA_SIZE = { width: 125, height: 45 };\nexport var KNOWLEDGE_SOURCE_SIZE = { width: 100, height: 63 };\n\n\n/**\n * A drd-aware factory for diagram-js shapes\n */\nexport default function ElementFactory(drdFactory) {\n  BaseElementFactory.call(this);\n\n  this._drdFactory = drdFactory;\n}\n\ninherits(ElementFactory, BaseElementFactory);\n\n\nElementFactory.$inject = [ 'drdFactory' ];\n\nElementFactory.prototype.baseCreate = BaseElementFactory.prototype.create;\n\nElementFactory.prototype.create = function(elementType, attrs) {\n  return this.createDrdElement(elementType, attrs);\n};\n\nElementFactory.prototype.createDrdElement = function(elementType, attrs) {\n  var drdFactory = this._drdFactory;\n\n  var size;\n\n  attrs = attrs || {};\n\n  var businessObject = attrs.businessObject;\n\n  if (!businessObject) {\n    if (!attrs.type) {\n      throw new Error('no shape type specified');\n    }\n\n    businessObject = drdFactory.create(attrs.type);\n  }\n\n  if (!businessObject.di) {\n    if (elementType === 'connection') {\n      businessObject.di = drdFactory.createDiEdge(businessObject, []);\n    } else if (elementType === 'shape') {\n      businessObject.di = drdFactory.createDiShape(businessObject, {});\n    }\n  }\n\n  size = this._getDefaultSize(businessObject);\n\n  attrs = assign({\n    businessObject: businessObject,\n    id: businessObject.id\n  }, size, attrs);\n\n  return this.baseCreate(elementType, attrs);\n};\n\n\nElementFactory.prototype._getDefaultSize = function(semantic) {\n  if (is(semantic, 'dmn:BusinessKnowledgeModel')) {\n    return BUSINESS_KNOWLEDGE_MODEL_SIZE;\n  }\n\n  if (is(semantic, 'dmn:Decision')) {\n    return DECISION_SIZE;\n  }\n\n  if (is(semantic, 'dmn:InputData')) {\n    return INPUT_DATA_SIZE;\n  }\n\n  if (is(semantic, 'dmn:KnowledgeSource')) {\n    return KNOWLEDGE_SOURCE_SIZE;\n  }\n\n  return { width: 100, height: 80 };\n};\n","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport {\r\n  findFreePosition,\r\n  generateGetNextPosition,\r\n  getConnectedDistance\r\n} from 'diagram-js/lib/features/auto-place/AutoPlaceUtil';\r\n\r\nimport {\r\n  asTRBL,\r\n  getMid\r\n} from 'diagram-js/lib/layout/LayoutUtil';\r\n\r\nimport { DECISION_SIZE } from '../modeling/ElementFactory';\r\n\r\nvar DIRECTION_LEFT = 'left',\r\n    DIRECTION_RIGHT = 'right';\r\n\r\nvar DRG_ELEMENT_MARGIN = 60,\r\n    DRG_ELEMENT_ROW_SIZE = DECISION_SIZE.width;\r\n\r\n\r\nexport function getNewShapePosition(source, element) {\r\n  if (is(element, 'dmn:TextAnnotation')) {\r\n    return getTextAnnotationPosition(source, element);\r\n  }\r\n\r\n  if (is(element, 'dmn:DRGElement')) {\r\n    return getDRGElementPosition(source, element);\r\n  }\r\n}\r\n\r\n/**\r\n * Always try to place text annotations top right of source.\r\n */\r\nfunction getTextAnnotationPosition(source, element) {\r\n\r\n  var sourceTrbl = asTRBL(source);\r\n\r\n  var position = {\r\n    x: sourceTrbl.right + element.width / 2,\r\n    y: sourceTrbl.top - 50 - element.height / 2\r\n  };\r\n\r\n  var nextPositionDirection = {\r\n    y: {\r\n      margin: -30,\r\n      minDistance: 20\r\n    }\r\n  };\r\n\r\n  return findFreePosition(\r\n    source,\r\n    element,\r\n    position,\r\n    generateGetNextPosition(nextPositionDirection)\r\n  );\r\n}\r\n\r\n/**\r\n * Get position for DRG elements.\r\n *\r\n * @param {djs.model.Shape} source\r\n * @param {djs.model.Shape} element\r\n *\r\n * @returns {Point}\r\n */\r\nfunction getDRGElementPosition(source, element) {\r\n  var sourceTrbl = asTRBL(source),\r\n      sourceMid = getMid(source);\r\n\r\n  function getWeight(connection) {\r\n    return connection.target === source ? 1 : -1;\r\n  }\r\n\r\n  var verticalDistance = getConnectedDistance(source, {\r\n    defaultDistance: 180,\r\n    direction: 's',\r\n    getWeight: getWeight,\r\n    filter: filter,\r\n    reference: 'center'\r\n  });\r\n\r\n  var position = {\r\n    x: sourceMid.x,\r\n    y: sourceTrbl.bottom + verticalDistance\r\n  };\r\n\r\n  return findFreePosition(\r\n    source,\r\n    element,\r\n    position,\r\n    generateGetNextDRGElementPosition(source)\r\n  );\r\n}\r\n\r\n\r\n// helpers //////////\r\n\r\nfunction filter(connection) {\r\n  return !is(connection, 'dmn:Association');\r\n}\r\n\r\nfunction getHorizontalDistance(a, b) {\r\n  return Math.abs(b.x - a.x);\r\n}\r\n\r\nfunction generateGetNextDRGElementPosition(source) {\r\n  var sourceMid = getMid(source);\r\n\r\n  var connectedAtPositionLeft,\r\n      connectedAtPositionRight;\r\n\r\n  return function(element, previousPosition, connectedAtPreviousPosition) {\r\n    var direction;\r\n\r\n    // (1) get direction\r\n    if (!connectedAtPositionLeft) {\r\n      connectedAtPositionLeft = connectedAtPreviousPosition;\r\n      connectedAtPositionRight = connectedAtPreviousPosition;\r\n\r\n      if (getMid(connectedAtPreviousPosition).x - sourceMid.x > 0) {\r\n        direction = DIRECTION_LEFT;\r\n      } else {\r\n        direction = DIRECTION_RIGHT;\r\n      }\r\n    } else {\r\n      if (previousPosition.x < sourceMid.x) {\r\n        connectedAtPositionLeft = connectedAtPreviousPosition;\r\n      } else {\r\n        connectedAtPositionRight = connectedAtPreviousPosition;\r\n      }\r\n\r\n      if (getHorizontalDistance(sourceMid, getMid(connectedAtPositionLeft))\r\n        < getHorizontalDistance(sourceMid, getMid(connectedAtPositionRight))) {\r\n        direction = DIRECTION_LEFT;\r\n      } else {\r\n        direction = DIRECTION_RIGHT;\r\n      }\r\n    }\r\n\r\n    // (2) get next position\r\n    if (direction === DIRECTION_LEFT) {\r\n      return {\r\n        x: Math.min(\r\n          getMid(connectedAtPositionLeft).x - DRG_ELEMENT_ROW_SIZE - DRG_ELEMENT_MARGIN,\r\n          asTRBL(connectedAtPositionLeft).left - DRG_ELEMENT_MARGIN - element.width / 2\r\n        ),\r\n        y: previousPosition.y\r\n      };\r\n    } else {\r\n      return {\r\n        x: Math.max(\r\n          getMid(connectedAtPositionRight).x + DRG_ELEMENT_ROW_SIZE + DRG_ELEMENT_MARGIN,\r\n          asTRBL(connectedAtPositionRight).right + DRG_ELEMENT_MARGIN + element.width / 2\r\n        ),\r\n        y: previousPosition.y\r\n      };\r\n    }\r\n  };\r\n}","import { getNewShapePosition } from './DmnAutoPlaceUtil';\r\n\r\n\r\n/**\r\n * DMN auto-place behavior.\r\n *\r\n * @param {EventBus} eventBus\r\n */\r\nexport default function AutoPlace(eventBus) {\r\n  eventBus.on('autoPlace', function(context) {\r\n    var shape = context.shape,\r\n        source = context.source;\r\n\r\n    return getNewShapePosition(source, shape);\r\n  });\r\n}\r\n\r\nAutoPlace.$inject = [ 'eventBus' ];","import AutoPlaceModule from 'diagram-js/lib/features/auto-place';\r\n\r\nimport DmnAutoPlace from './DmnAutoPlace';\r\n\r\nexport default {\r\n  __depends__: [ AutoPlaceModule ],\r\n  __init__: [ 'dmnAutoPlace' ],\r\n  dmnAutoPlace: [ 'type', DmnAutoPlace ]\r\n};","/* global TouchEvent */\n\nvar round = Math.round;\n\nimport { assign } from 'min-dash';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  getOriginal,\n  toPoint,\n  stopPropagation\n} from '../../util/Event';\n\nimport {\n  set as cursorSet,\n  unset as cursorUnset\n} from '../../util/Cursor';\n\nimport {\n  install as installClickTrap\n} from '../../util/ClickTrap';\n\nimport {\n  delta as deltaPos\n} from '../../util/PositionUtil';\n\nvar DRAG_ACTIVE_CLS = 'djs-drag-active';\n\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction isTouchEvent(event) {\n\n  // check for TouchEvent being available first\n  // (i.e. not available on desktop Firefox)\n  return typeof TouchEvent !== 'undefined' && event instanceof TouchEvent;\n}\n\nfunction getLength(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n\n/**\n * A helper that fires canvas localized drag events and realizes\n * the general \"drag-and-drop\" look and feel.\n *\n * Calling {@link Dragging#activate} activates dragging on a canvas.\n *\n * It provides the following:\n *\n *   * emits life cycle events, namespaced with a prefix assigned\n *     during dragging activation\n *   * sets and restores the cursor\n *   * sets and restores the selection if elements still exist\n *   * ensures there can be only one drag operation active at a time\n *\n * Dragging may be canceled manually by calling {@link Dragging#cancel}\n * or by pressing ESC.\n *\n *\n * ## Life-cycle events\n *\n * Dragging can be in three different states, off, initialized\n * and active.\n *\n * (1) off: no dragging operation is in progress\n * (2) initialized: a new drag operation got initialized but not yet\n *                  started (i.e. because of no initial move)\n * (3) started: dragging is in progress\n *\n * Eventually dragging will be off again after a drag operation has\n * been ended or canceled via user click or ESC key press.\n *\n * To indicate transitions between these states dragging emits generic\n * life-cycle events with the `drag.` prefix _and_ events namespaced\n * to a prefix choosen by a user during drag initialization.\n *\n * The following events are emitted (appropriately prefixed) via\n * the {@link EventBus}.\n *\n * * `init`\n * * `start`\n * * `move`\n * * `end`\n * * `ended` (dragging already in off state)\n * * `cancel` (only if previously started)\n * * `canceled` (dragging already in off state, only if previously started)\n * * `cleanup`\n *\n *\n * @example\n *\n * function MyDragComponent(eventBus, dragging) {\n *\n *   eventBus.on('mydrag.start', function(event) {\n *     console.log('yes, we start dragging');\n *   });\n *\n *   eventBus.on('mydrag.move', function(event) {\n *     console.log('canvas local coordinates', event.x, event.y, event.dx, event.dy);\n *\n *     // local drag data is passed with the event\n *     event.context.foo; // \"BAR\"\n *\n *     // the original mouse event, too\n *     event.originalEvent; // MouseEvent(...)\n *   });\n *\n *   eventBus.on('element.click', function(event) {\n *     dragging.init(event, 'mydrag', {\n *       cursor: 'grabbing',\n *       data: {\n *         context: {\n *           foo: \"BAR\"\n *         }\n *       }\n *     });\n *   });\n * }\n */\nexport default function Dragging(eventBus, canvas, selection, elementRegistry) {\n\n  var defaultOptions = {\n    threshold: 5,\n    trapClick: true\n  };\n\n  // the currently active drag operation\n  // dragging is active as soon as this context exists.\n  //\n  // it is visually _active_ only when a context.active flag is set to true.\n  var context;\n\n  /* convert a global event into local coordinates */\n  function toLocalPoint(globalPosition) {\n\n    var viewbox = canvas.viewbox();\n\n    var clientRect = canvas._container.getBoundingClientRect();\n\n    return {\n      x: viewbox.x + (globalPosition.x - clientRect.left) / viewbox.scale,\n      y: viewbox.y + (globalPosition.y - clientRect.top) / viewbox.scale\n    };\n  }\n\n  // helpers\n\n  function fire(type, dragContext) {\n    dragContext = dragContext || context;\n\n    var event = eventBus.createEvent(\n      assign(\n        {},\n        dragContext.payload,\n        dragContext.data,\n        { isTouch: dragContext.isTouch }\n      )\n    );\n\n    // default integration\n    if (eventBus.fire('drag.' + type, event) === false) {\n      return false;\n    }\n\n    return eventBus.fire(dragContext.prefix + '.' + type, event);\n  }\n\n  function restoreSelection(previousSelection) {\n    var existingSelection = previousSelection.filter(function(element) {\n      return elementRegistry.get(element.id);\n    });\n\n    existingSelection.length && selection.select(existingSelection);\n  }\n\n  // event listeners\n\n  function move(event, activate) {\n    var payload = context.payload,\n        displacement = context.displacement;\n\n    var globalStart = context.globalStart,\n        globalCurrent = toPoint(event),\n        globalDelta = deltaPos(globalCurrent, globalStart);\n\n    var localStart = context.localStart,\n        localCurrent = toLocalPoint(globalCurrent),\n        localDelta = deltaPos(localCurrent, localStart);\n\n\n    // activate context explicitly or once threshold is reached\n    if (!context.active && (activate || getLength(globalDelta) > context.threshold)) {\n\n      // fire start event with original\n      // starting coordinates\n\n      assign(payload, {\n        x: round(localStart.x + displacement.x),\n        y: round(localStart.y + displacement.y),\n        dx: 0,\n        dy: 0\n      }, { originalEvent: event });\n\n      if (false === fire('start')) {\n        return cancel();\n      }\n\n      context.active = true;\n\n      // unset selection and remember old selection\n      // the previous (old) selection will always passed\n      // with the event via the event.previousSelection property\n      if (!context.keepSelection) {\n        payload.previousSelection = selection.get();\n        selection.select(null);\n      }\n\n      // allow custom cursor\n      if (context.cursor) {\n        cursorSet(context.cursor);\n      }\n\n      // indicate dragging via marker on root element\n      canvas.addMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n    }\n\n    stopPropagation(event);\n\n    if (context.active) {\n\n      // update payload with actual coordinates\n      assign(payload, {\n        x: round(localCurrent.x + displacement.x),\n        y: round(localCurrent.y + displacement.y),\n        dx: round(localDelta.x),\n        dy: round(localDelta.y)\n      }, { originalEvent: event });\n\n      // emit move event\n      fire('move');\n    }\n  }\n\n  function end(event) {\n    var previousContext,\n        returnValue = true;\n\n    if (context.active) {\n\n      if (event) {\n        context.payload.originalEvent = event;\n\n        // suppress original event (click, ...)\n        // because we just ended a drag operation\n        stopPropagation(event);\n      }\n\n      // implementations may stop restoring the\n      // original state (selections, ...) by preventing the\n      // end events default action\n      returnValue = fire('end');\n    }\n\n    if (returnValue === false) {\n      fire('rejected');\n    }\n\n    previousContext = cleanup(returnValue !== true);\n\n    // last event to be fired when all drag operations are done\n    // at this point in time no drag operation is in progress anymore\n    fire('ended', previousContext);\n  }\n\n\n  // cancel active drag operation if the user presses\n  // the ESC key on the keyboard\n\n  function checkCancel(event) {\n\n    if (event.which === 27) {\n      preventDefault(event);\n\n      cancel();\n    }\n  }\n\n\n  // prevent ghost click that might occur after a finished\n  // drag and drop session\n\n  function trapClickAndEnd(event) {\n\n    var untrap;\n\n    // trap the click in case we are part of an active\n    // drag operation. This will effectively prevent\n    // the ghost click that cannot be canceled otherwise.\n    if (context.active) {\n\n      untrap = installClickTrap(eventBus);\n\n      // remove trap after minimal delay\n      setTimeout(untrap, 400);\n\n      // prevent default action (click)\n      preventDefault(event);\n    }\n\n    end(event);\n  }\n\n  function trapTouch(event) {\n    move(event);\n  }\n\n  // update the drag events hover (djs.model.Base) and hoverGfx (Snap<SVGElement>)\n  // properties during hover and out and fire {prefix}.hover and {prefix}.out properties\n  // respectively\n\n  function hover(event) {\n    var payload = context.payload;\n\n    payload.hoverGfx = event.gfx;\n    payload.hover = event.element;\n\n    fire('hover');\n  }\n\n  function out(event) {\n    fire('out');\n\n    var payload = context.payload;\n\n    payload.hoverGfx = null;\n    payload.hover = null;\n  }\n\n\n  // life-cycle methods\n\n  function cancel(restore) {\n    var previousContext;\n\n    if (!context) {\n      return;\n    }\n\n    var wasActive = context.active;\n\n    if (wasActive) {\n      fire('cancel');\n    }\n\n    previousContext = cleanup(restore);\n\n    if (wasActive) {\n\n      // last event to be fired when all drag operations are done\n      // at this point in time no drag operation is in progress anymore\n      fire('canceled', previousContext);\n    }\n  }\n\n  function cleanup(restore) {\n    var previousContext,\n        endDrag;\n\n    fire('cleanup');\n\n    // reset cursor\n    cursorUnset();\n\n    if (context.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    // reset dom listeners\n    domEvent.unbind(document, 'mousemove', move);\n\n    domEvent.unbind(document, 'dragstart', preventDefault);\n    domEvent.unbind(document, 'selectstart', preventDefault);\n\n    domEvent.unbind(document, 'mousedown', endDrag, true);\n    domEvent.unbind(document, 'mouseup', endDrag, true);\n\n    domEvent.unbind(document, 'keyup', checkCancel);\n\n    domEvent.unbind(document, 'touchstart', trapTouch, true);\n    domEvent.unbind(document, 'touchcancel', cancel, true);\n    domEvent.unbind(document, 'touchmove', move, true);\n    domEvent.unbind(document, 'touchend', end, true);\n\n    eventBus.off('element.hover', hover);\n    eventBus.off('element.out', out);\n\n    // remove drag marker on root element\n    canvas.removeMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n\n    // restore selection, unless it has changed\n    var previousSelection = context.payload.previousSelection;\n\n    if (restore !== false && previousSelection && !selection.get().length) {\n      restoreSelection(previousSelection);\n    }\n\n    previousContext = context;\n\n    context = null;\n\n    return previousContext;\n  }\n\n  /**\n   * Initialize a drag operation.\n   *\n   * If `localPosition` is given, drag events will be emitted\n   * relative to it.\n   *\n   * @param {MouseEvent|TouchEvent} [event]\n   * @param {Point} [localPosition] actual diagram local position this drag operation should start at\n   * @param {string} prefix\n   * @param {Object} [options]\n   */\n  function init(event, relativeTo, prefix, options) {\n\n    // only one drag operation may be active, at a time\n    if (context) {\n      cancel(false);\n    }\n\n    if (typeof relativeTo === 'string') {\n      options = prefix;\n      prefix = relativeTo;\n      relativeTo = null;\n    }\n\n    options = assign({}, defaultOptions, options || {});\n\n    var data = options.data || {},\n        originalEvent,\n        globalStart,\n        localStart,\n        endDrag,\n        isTouch;\n\n    if (options.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    if (event) {\n      originalEvent = getOriginal(event) || event;\n      globalStart = toPoint(event);\n\n      stopPropagation(event);\n\n      // prevent default browser dragging behavior\n      if (originalEvent.type === 'dragstart') {\n        preventDefault(originalEvent);\n      }\n    } else {\n      originalEvent = null;\n      globalStart = { x: 0, y: 0 };\n    }\n\n    localStart = toLocalPoint(globalStart);\n\n    if (!relativeTo) {\n      relativeTo = localStart;\n    }\n\n    isTouch = isTouchEvent(originalEvent);\n\n    context = assign({\n      prefix: prefix,\n      data: data,\n      payload: {},\n      globalStart: globalStart,\n      displacement: deltaPos(relativeTo, localStart),\n      localStart: localStart,\n      isTouch: isTouch\n    }, options);\n\n    // skip dom registration if trigger\n    // is set to manual (during testing)\n    if (!options.manual) {\n\n      // add dom listeners\n\n      if (isTouch) {\n        domEvent.bind(document, 'touchstart', trapTouch, true);\n        domEvent.bind(document, 'touchcancel', cancel, true);\n        domEvent.bind(document, 'touchmove', move, true);\n        domEvent.bind(document, 'touchend', end, true);\n      } else {\n\n        // assume we use the mouse to interact per default\n        domEvent.bind(document, 'mousemove', move);\n\n        // prevent default browser drag and text selection behavior\n        domEvent.bind(document, 'dragstart', preventDefault);\n        domEvent.bind(document, 'selectstart', preventDefault);\n\n        domEvent.bind(document, 'mousedown', endDrag, true);\n        domEvent.bind(document, 'mouseup', endDrag, true);\n      }\n\n      domEvent.bind(document, 'keyup', checkCancel);\n\n      eventBus.on('element.hover', hover);\n      eventBus.on('element.out', out);\n    }\n\n    fire('init');\n\n    if (options.autoActivate) {\n      move(event, true);\n    }\n  }\n\n  // cancel on diagram destruction\n  eventBus.on('diagram.destroy', cancel);\n\n\n  // API\n\n  this.init = init;\n  this.move = move;\n  this.hover = hover;\n  this.out = out;\n  this.end = end;\n\n  this.cancel = cancel;\n\n  // for introspection\n\n  this.context = function() {\n    return context;\n  };\n\n  this.setOptions = function(options) {\n    assign(defaultOptions, options);\n  };\n}\n\nDragging.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'elementRegistry'\n];\n","import {\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\nvar HIGH_PRIORITY = 1500;\n\n\n/**\n * Browsers may swallow certain events (hover, out ...) if users are to\n * fast with the mouse.\n *\n * @see http://stackoverflow.com/questions/7448468/why-cant-i-reliably-capture-a-mouseout-event\n *\n * The fix implemented in this component ensure that we\n *\n * 1) have a hover state after a successful drag.move event\n * 2) have an out event when dragging leaves an element\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {ElementRegistry} elementRegistry\n */\nexport default function HoverFix(eventBus, dragging, elementRegistry) {\n\n  var self = this;\n\n  /**\n   * Make sure we are god damn hovering!\n   *\n   * @param {Event} dragging event\n   */\n  function ensureHover(event) {\n\n    if (event.hover) {\n      return;\n    }\n\n    var originalEvent = event.originalEvent;\n\n    var gfx = self._findTargetGfx(originalEvent);\n\n    var element = gfx && elementRegistry.get(gfx);\n\n    if (gfx && element) {\n\n      // 1) cancel current mousemove\n      event.stopPropagation();\n\n      // 2) emit fake hover for new target\n      dragging.hover({ element: element, gfx: gfx });\n\n      // 3) re-trigger move event\n      dragging.move(originalEvent);\n    }\n  }\n\n  /**\n   * We wait for a specific sequence of events before\n   * emitting a fake drag.hover event.\n   *\n   * Event Sequence:\n   *\n   * drag.start\n   * drag.move >> ensure we are hovering\n   */\n  eventBus.on('drag.start', function(event) {\n\n    eventBus.once('drag.move', HIGH_PRIORITY, function(event) {\n\n      ensureHover(event);\n\n    });\n\n  });\n\n\n  /**\n   * We make sure that drag.out is always fired, even if the\n   * browser swallows an element.out event.\n   *\n   * Event sequence:\n   *\n   * drag.hover\n   * (element.out >> sometimes swallowed)\n   * element.hover >> ensure we fired drag.out\n   */\n  eventBus.on('drag.init', function() {\n\n    var hover, hoverGfx;\n\n    function setDragHover(event) {\n      hover = event.hover;\n      hoverGfx = event.hoverGfx;\n    }\n\n    function unsetHover() {\n      hover = null;\n      hoverGfx = null;\n    }\n\n    function ensureOut() {\n\n      if (!hover) {\n        return;\n      }\n\n      var element = hover,\n          gfx = hoverGfx;\n\n      hover = null;\n      hoverGfx = null;\n\n      // emit synthetic out event\n      dragging.out({\n        element: element,\n        gfx: gfx\n      });\n    }\n\n    eventBus.on('drag.hover', setDragHover);\n    eventBus.on('element.out', unsetHover);\n    eventBus.on('element.hover', HIGH_PRIORITY, ensureOut);\n\n    eventBus.once('drag.cleanup', function() {\n      eventBus.off('drag.hover', setDragHover);\n      eventBus.off('element.out', unsetHover);\n      eventBus.off('element.hover', ensureOut);\n    });\n\n  });\n\n  this._findTargetGfx = function(event) {\n    var position,\n        target;\n\n    if (!(event instanceof MouseEvent)) {\n      return;\n    }\n\n    position = toPoint(event);\n\n    // damn expensive operation, ouch!\n    target = document.elementFromPoint(position.x, position.y);\n\n    return getGfx(target);\n  };\n\n}\n\nHoverFix.$inject = [\n  'eventBus',\n  'dragging',\n  'elementRegistry'\n];\n\n\n// helpers /////////////////////\n\nfunction getGfx(target) {\n  return domClosest(target, 'svg, .djs-element', true);\n}","import SelectionModule from '../selection';\n\nimport Dragging from './Dragging';\nimport HoverFix from './HoverFix';\n\nexport default {\n  __init__: [\n    'hoverFix'\n  ],\n  __depends__: [\n    SelectionModule\n  ],\n  dragging: [ 'type', Dragging ],\n  hoverFix: [ 'type', HoverFix ]\n};","import { assign } from 'min-dash';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\n\n/**\n * Initiates canvas scrolling if current cursor point is close to a border.\n * Cancelled when current point moves back inside the scrolling borders\n * or cancelled manually.\n *\n * Default options :\n *   scrollThresholdIn: [ 20, 20, 20, 20 ],\n *   scrollThresholdOut: [ 0, 0, 0, 0 ],\n *   scrollRepeatTimeout: 15,\n *   scrollStep: 10\n *\n * Threshold order:\n *   [ left, top, right, bottom ]\n */\nexport default function AutoScroll(config, eventBus, canvas) {\n\n  this._canvas = canvas;\n\n  this._opts = assign({\n    scrollThresholdIn: [ 20, 20, 20, 20 ],\n    scrollThresholdOut: [ 0, 0, 0, 0 ],\n    scrollRepeatTimeout: 15,\n    scrollStep: 10\n  }, config);\n\n  var self = this;\n\n  eventBus.on('drag.move', function(e) {\n    var point = self._toBorderPoint(e);\n\n    self.startScroll(point);\n  });\n\n  eventBus.on([ 'drag.cleanup' ], function() {\n    self.stopScroll();\n  });\n}\n\nAutoScroll.$inject = [\n  'config.autoScroll',\n  'eventBus',\n  'canvas'\n];\n\n\n/**\n * Starts scrolling loop.\n * Point is given in global scale in canvas container box plane.\n *\n * @param  {Object} point { x: X, y: Y }\n */\nAutoScroll.prototype.startScroll = function(point) {\n\n  var canvas = this._canvas;\n  var opts = this._opts;\n  var self = this;\n\n  var clientRect = canvas.getContainer().getBoundingClientRect();\n\n  var diff = [\n    point.x,\n    point.y,\n    clientRect.width - point.x,\n    clientRect.height - point.y\n  ];\n\n  this.stopScroll();\n\n  var dx = 0,\n      dy = 0;\n\n  for (var i = 0; i < 4; i++) {\n    if (between(diff[i], opts.scrollThresholdOut[i], opts.scrollThresholdIn[i])) {\n      if (i === 0) {\n        dx = opts.scrollStep;\n      } else if (i == 1) {\n        dy = opts.scrollStep;\n      } else if (i == 2) {\n        dx = -opts.scrollStep;\n      } else if (i == 3) {\n        dy = -opts.scrollStep;\n      }\n    }\n  }\n\n  if (dx !== 0 || dy !== 0) {\n    canvas.scroll({ dx: dx, dy: dy });\n\n    this._scrolling = setTimeout(function() {\n      self.startScroll(point);\n    }, opts.scrollRepeatTimeout);\n  }\n};\n\nfunction between(val, start, end) {\n  if (start < val && val < end) {\n    return true;\n  }\n\n  return false;\n}\n\n\n/**\n * Stops scrolling loop.\n */\nAutoScroll.prototype.stopScroll = function() {\n  clearTimeout(this._scrolling);\n};\n\n\n/**\n * Overrides defaults options.\n *\n * @param  {Object} options\n */\nAutoScroll.prototype.setOptions = function(options) {\n  this._opts = assign({}, this._opts, options);\n};\n\n\n/**\n * Converts event to a point in canvas container plane in global scale.\n *\n * @param  {Event} event\n * @return {Point}\n */\nAutoScroll.prototype._toBorderPoint = function(event) {\n  var clientRect = this._canvas._container.getBoundingClientRect();\n\n  var globalPosition = toPoint(event.originalEvent);\n\n  return {\n    x: globalPosition.x - clientRect.left,\n    y: globalPosition.y - clientRect.top\n  };\n};","import DraggingModule from '../dragging';\n\nimport AutoScroll from './AutoScroll';\n\n\nexport default {\n  __depends__: [\n    DraggingModule,\n  ],\n  __init__: [ 'autoScroll' ],\n  autoScroll: [ 'type', AutoScroll ]\n};","/**\n * A service that provides rules for certain diagram actions.\n *\n * The default implementation will hook into the {@link CommandStack}\n * to perform the actual rule evaluation. Make sure to provide the\n * `commandStack` service with this module if you plan to use it.\n *\n * Together with this implementation you may use the {@link RuleProvider}\n * to implement your own rule checkers.\n *\n * This module is ment to be easily replaced, thus the tiny foot print.\n *\n * @param {Injector} injector\n */\nexport default function Rules(injector) {\n  this._commandStack = injector.get('commandStack', false);\n}\n\nRules.$inject = [ 'injector' ];\n\n\n/**\n * Returns whether or not a given modeling action can be executed\n * in the specified context.\n *\n * This implementation will respond with allow unless anyone\n * objects.\n *\n * @param {string} action the action to be checked\n * @param {Object} [context] the context to check the action in\n *\n * @return {boolean} returns true, false or null depending on whether the\n *                   operation is allowed, not allowed or should be ignored.\n */\nRules.prototype.allowed = function(action, context) {\n  var allowed = true;\n\n  var commandStack = this._commandStack;\n\n  if (commandStack) {\n    allowed = commandStack.canExecute(action, context);\n  }\n\n  // map undefined to true, i.e. no rules\n  return allowed === undefined ? true : allowed;\n};","import Rules from './Rules';\n\nexport default {\n  __init__: [ 'rules' ],\n  rules: [ 'type', Rules ]\n};\n","import {\n  pointDistance\n} from './Geometry';\n\nimport intersectPaths from 'path-intersection';\n\nvar round = Math.round,\n    max = Math.max;\n\n\nfunction circlePath(center, r) {\n  var x = center.x,\n      y = center.y;\n\n  return [\n    ['M', x, y],\n    ['m', 0, -r],\n    ['a', r, r, 0, 1, 1, 0, 2 * r],\n    ['a', r, r, 0, 1, 1, 0, -2 * r],\n    ['z']\n  ];\n}\n\nfunction linePath(points) {\n  var segments = [];\n\n  points.forEach(function(p, idx) {\n    segments.push([ idx === 0 ? 'M' : 'L', p.x, p.y ]);\n  });\n\n  return segments;\n}\n\n\nvar INTERSECTION_THRESHOLD = 10;\n\nfunction getBendpointIntersection(waypoints, reference) {\n\n  var i, w;\n\n  for (i = 0; (w = waypoints[i]); i++) {\n\n    if (pointDistance(w, reference) <= INTERSECTION_THRESHOLD) {\n      return {\n        point: waypoints[i],\n        bendpoint: true,\n        index: i\n      };\n    }\n  }\n\n  return null;\n}\n\nfunction getPathIntersection(waypoints, reference) {\n\n  var intersections = intersectPaths(circlePath(reference, INTERSECTION_THRESHOLD), linePath(waypoints));\n\n  var a = intersections[0],\n      b = intersections[intersections.length - 1],\n      idx;\n\n  if (!a) {\n\n    // no intersection\n    return null;\n  }\n\n  if (a !== b) {\n\n    if (a.segment2 !== b.segment2) {\n\n      // we use the bendpoint in between both segments\n      // as the intersection point\n\n      idx = max(a.segment2, b.segment2) - 1;\n\n      return {\n        point: waypoints[idx],\n        bendpoint: true,\n        index: idx\n      };\n    }\n\n    return {\n      point: {\n        x: (round(a.x + b.x) / 2),\n        y: (round(a.y + b.y) / 2)\n      },\n      index: a.segment2\n    };\n  }\n\n  return {\n    point: {\n      x: round(a.x),\n      y: round(a.y)\n    },\n    index: a.segment2\n  };\n}\n\n/**\n * Returns the closest point on the connection towards a given reference point.\n *\n * @param  {Array<Point>} waypoints\n * @param  {Point} reference\n *\n * @return {Object} intersection data (segment, point)\n */\nexport function getApproxIntersection(waypoints, reference) {\n  return getBendpointIntersection(waypoints, reference) || getPathIntersection(waypoints, reference);\n}\n","import {\n  toPoint\n} from '../../util/Event';\n\nimport {\n  getMidPoint,\n  pointsAligned\n} from '../../util/Geometry';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  rotate,\n  translate\n} from '../../util/SvgTransformUtil';\n\nimport {\n  getApproxIntersection\n} from '../../util/LineIntersection';\n\nexport var BENDPOINT_CLS = 'djs-bendpoint';\nexport var SEGMENT_DRAGGER_CLS = 'djs-segment-dragger';\n\nexport function toCanvasCoordinates(canvas, event) {\n\n  var position = toPoint(event),\n      clientRect = canvas._container.getBoundingClientRect(),\n      offset;\n\n  // canvas relative position\n\n  offset = {\n    x: clientRect.left,\n    y: clientRect.top\n  };\n\n  // update actual event payload with canvas relative measures\n\n  var viewbox = canvas.viewbox();\n\n  return {\n    x: viewbox.x + (position.x - offset.x) / viewbox.scale,\n    y: viewbox.y + (position.y - offset.y) / viewbox.scale\n  };\n}\n\nexport function getConnectionIntersection(canvas, waypoints, event) {\n  var localPosition = toCanvasCoordinates(canvas, event),\n      intersection = getApproxIntersection(waypoints, localPosition);\n\n  return intersection;\n}\n\nexport function addBendpoint(parentGfx, cls) {\n  var groupGfx = svgCreate('g');\n  svgClasses(groupGfx).add(BENDPOINT_CLS);\n\n  svgAppend(parentGfx, groupGfx);\n\n  var visual = svgCreate('circle');\n  svgAttr(visual, {\n    cx: 0,\n    cy: 0,\n    r: 4\n  });\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(groupGfx, visual);\n\n  var hit = svgCreate('circle');\n  svgAttr(hit, {\n    cx: 0,\n    cy: 0,\n    r: 10\n  });\n  svgClasses(hit).add('djs-hit');\n\n  svgAppend(groupGfx, hit);\n\n  if (cls) {\n    svgClasses(groupGfx).add(cls);\n  }\n\n  return groupGfx;\n}\n\nfunction createParallelDragger(parentGfx, segmentStart, segmentEnd, alignment) {\n  var draggerGfx = svgCreate('g');\n\n  svgAppend(parentGfx, draggerGfx);\n\n  var width = 14,\n      height = 3,\n      padding = 11,\n      hitWidth = calculateHitWidth(segmentStart, segmentEnd, alignment),\n      hitHeight = height + padding;\n\n  var visual = svgCreate('rect');\n  svgAttr(visual, {\n    x: -width / 2,\n    y: -height / 2,\n    width: width,\n    height: height\n  });\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(draggerGfx, visual);\n\n  var hit = svgCreate('rect');\n  svgAttr(hit, {\n    x: -hitWidth / 2,\n    y: -hitHeight / 2,\n    width: hitWidth,\n    height: hitHeight\n  });\n  svgClasses(hit).add('djs-hit');\n\n  svgAppend(draggerGfx, hit);\n\n  rotate(draggerGfx, alignment === 'v' ? 90 : 0, 0, 0);\n\n  return draggerGfx;\n}\n\n\nexport function addSegmentDragger(parentGfx, segmentStart, segmentEnd) {\n\n  var groupGfx = svgCreate('g'),\n      mid = getMidPoint(segmentStart, segmentEnd),\n      alignment = pointsAligned(segmentStart, segmentEnd);\n\n  svgAppend(parentGfx, groupGfx);\n\n  createParallelDragger(groupGfx, segmentStart, segmentEnd, alignment);\n\n  svgClasses(groupGfx).add(SEGMENT_DRAGGER_CLS);\n  svgClasses(groupGfx).add(alignment === 'h' ? 'horizontal' : 'vertical');\n\n  translate(groupGfx, mid.x, mid.y);\n\n  return groupGfx;\n}\n\n/**\n * Calculates region for segment move which is 2/3 of the full segment length\n * @param {number} segmentLength\n *\n * @return {number}\n */\nexport function calculateSegmentMoveRegion(segmentLength) {\n  return Math.abs(Math.round(segmentLength * 2 / 3));\n}\n\n// helper //////////\n\nfunction calculateHitWidth(segmentStart, segmentEnd, alignment) {\n  var segmentLengthXAxis = segmentEnd.x - segmentStart.x,\n      segmentLengthYAxis = segmentEnd.y - segmentStart.y;\n\n  return alignment === 'h' ?\n    calculateSegmentMoveRegion(segmentLengthXAxis) :\n    calculateSegmentMoveRegion(segmentLengthYAxis);\n}\n","/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n;(function(root, factory) {\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\tif (typeof exports == 'object') {\n\t\t// For Node.js.\n\t\tmodule.exports = factory(root);\n\t} else if (typeof define == 'function' && define.amd) {\n\t\t// For AMD. Register as an anonymous module.\n\t\tdefine([], factory.bind(root, root));\n\t} else {\n\t\t// For browser globals (not exposing the function separately).\n\t\tfactory(root);\n\t}\n}(typeof global != 'undefined' ? global : this, function(root) {\n\n\tif (root.CSS && root.CSS.escape) {\n\t\treturn root.CSS.escape;\n\t}\n\n\t// https://drafts.csswg.org/cssom/#serialize-an-identifier\n\tvar cssEscape = function(value) {\n\t\tif (arguments.length == 0) {\n\t\t\tthrow new TypeError('`CSS.escape` requires an argument.');\n\t\t}\n\t\tvar string = String(value);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index < length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: theres no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t\t// (U+FFFD).\n\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\tresult += '\\uFFFD';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t// U+007F, []\n\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039), []\n\t\t\t\t(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), []\n\t\t\t\t(\n\t\t\t\t\tindex == 1 &&\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t\t// there is no second character, []\n\t\t\t\tindex == 0 &&\n\t\t\t\tlength == 1 &&\n\t\t\t\tcodeUnit == 0x002D\n\t\t\t) {\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), []\n\t\t\tif (\n\t\t\t\tcodeUnit >= 0x0080 ||\n\t\t\t\tcodeUnit == 0x002D ||\n\t\t\t\tcodeUnit == 0x005F ||\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t\t) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t}\n\t\treturn result;\n\t};\n\n\tif (!root.CSS) {\n\t\troot.CSS = {};\n\t}\n\n\troot.CSS.escape = cssEscape;\n\treturn cssEscape;\n\n}));\n","export {\n  default as escapeCSS\n} from 'css.escape';\n\nvar HTML_ESCAPE_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\nexport function escapeHTML(str) {\n  str = '' + str;\n\n  return str && str.replace(/[&<>\"']/g, function(match) {\n    return HTML_ESCAPE_MAP[match];\n  });\n}\n","import { forEach } from 'min-dash';\n\nimport {\n  event as domEvent,\n  query as domQuery,\n  queryAll as domQueryAll\n} from 'min-dom';\n\nimport {\n  BENDPOINT_CLS,\n  SEGMENT_DRAGGER_CLS,\n  addBendpoint,\n  addSegmentDragger,\n  calculateSegmentMoveRegion,\n  getConnectionIntersection\n} from './BendpointUtil';\n\nimport {\n  escapeCSS\n} from '../../util/EscapeUtil';\n\nimport {\n  pointsAligned,\n  getMidPoint\n} from '../../util/Geometry';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  translate\n} from '../../util/SvgTransformUtil';\n\n\n/**\n * A service that adds editable bendpoints to connections.\n */\nexport default function Bendpoints(\n    eventBus, canvas, interactionEvents,\n    bendpointMove, connectionSegmentMove) {\n\n  /**\n   * Returns true if intersection point is inside middle region of segment, adjusted by\n   * optional threshold\n   */\n  function isIntersectionMiddle(intersection, waypoints, treshold) {\n    var idx = intersection.index,\n        p = intersection.point,\n        p0, p1, mid, aligned, xDelta, yDelta;\n\n    if (idx <= 0 || intersection.bendpoint) {\n      return false;\n    }\n\n    p0 = waypoints[idx - 1];\n    p1 = waypoints[idx];\n    mid = getMidPoint(p0, p1),\n    aligned = pointsAligned(p0, p1);\n    xDelta = Math.abs(p.x - mid.x);\n    yDelta = Math.abs(p.y - mid.y);\n\n    return aligned && xDelta <= treshold && yDelta <= treshold;\n  }\n\n  /**\n   * Calculates the threshold from a connection's middle which fits the two-third-region\n   */\n  function calculateIntersectionThreshold(connection, intersection) {\n    var waypoints = connection.waypoints,\n        relevantSegment, alignment, segmentLength, threshold;\n\n    if (intersection.index <= 0 || intersection.bendpoint) {\n      return null;\n    }\n\n    // segment relative to connection intersection\n    relevantSegment = {\n      start: waypoints[intersection.index - 1],\n      end: waypoints[intersection.index]\n    };\n\n    alignment = pointsAligned(relevantSegment.start, relevantSegment.end);\n\n    if (!alignment) {\n      return null;\n    }\n\n    if (alignment === 'h') {\n      segmentLength = relevantSegment.end.x - relevantSegment.start.x;\n    } else {\n      segmentLength = relevantSegment.end.y - relevantSegment.start.y;\n    }\n\n    // calculate threshold relative to 2/3 of segment length\n    threshold = calculateSegmentMoveRegion(segmentLength) / 2;\n\n    return threshold;\n  }\n\n  function activateBendpointMove(event, connection) {\n    var waypoints = connection.waypoints,\n        intersection = getConnectionIntersection(canvas, waypoints, event),\n        threshold;\n\n    if (!intersection) {\n      return;\n    }\n\n    threshold = calculateIntersectionThreshold(connection, intersection);\n\n    if (isIntersectionMiddle(intersection, waypoints, threshold)) {\n      connectionSegmentMove.start(event, connection, intersection.index);\n    } else {\n      bendpointMove.start(event, connection, intersection.index, !intersection.bendpoint);\n    }\n\n    // we've handled the event\n    return true;\n  }\n\n  function bindInteractionEvents(node, eventName, element) {\n\n    domEvent.bind(node, eventName, function(event) {\n      interactionEvents.triggerMouseEvent(eventName, event, element);\n      event.stopPropagation();\n    });\n  }\n\n  function getBendpointsContainer(element, create) {\n\n    var layer = canvas.getLayer('overlays'),\n        gfx = domQuery('.djs-bendpoints[data-element-id=\"' + escapeCSS(element.id) + '\"]', layer);\n\n    if (!gfx && create) {\n      gfx = svgCreate('g');\n      svgAttr(gfx, { 'data-element-id': element.id });\n      svgClasses(gfx).add('djs-bendpoints');\n\n      svgAppend(layer, gfx);\n\n      bindInteractionEvents(gfx, 'mousedown', element);\n      bindInteractionEvents(gfx, 'click', element);\n      bindInteractionEvents(gfx, 'dblclick', element);\n    }\n\n    return gfx;\n  }\n\n  function getSegmentDragger(idx, parentGfx) {\n    return domQuery(\n      '.djs-segment-dragger[data-segment-idx=\"' + idx + '\"]',\n      parentGfx\n    );\n  }\n\n  function createBendpoints(gfx, connection) {\n    connection.waypoints.forEach(function(p, idx) {\n      var bendpoint = addBendpoint(gfx);\n\n      svgAppend(gfx, bendpoint);\n\n      translate(bendpoint, p.x, p.y);\n    });\n\n    // add floating bendpoint\n    addBendpoint(gfx, 'floating');\n  }\n\n  function createSegmentDraggers(gfx, connection) {\n\n    var waypoints = connection.waypoints;\n\n    var segmentStart,\n        segmentEnd,\n        segmentDraggerGfx;\n\n    for (var i = 1; i < waypoints.length; i++) {\n\n      segmentStart = waypoints[i - 1];\n      segmentEnd = waypoints[i];\n\n      if (pointsAligned(segmentStart, segmentEnd)) {\n        segmentDraggerGfx = addSegmentDragger(gfx, segmentStart, segmentEnd);\n\n        svgAttr(segmentDraggerGfx, { 'data-segment-idx': i });\n\n        bindInteractionEvents(segmentDraggerGfx, 'mousemove', connection);\n      }\n    }\n  }\n\n  function clearBendpoints(gfx) {\n    forEach(domQueryAll('.' + BENDPOINT_CLS, gfx), function(node) {\n      svgRemove(node);\n    });\n  }\n\n  function clearSegmentDraggers(gfx) {\n    forEach(domQueryAll('.' + SEGMENT_DRAGGER_CLS, gfx), function(node) {\n      svgRemove(node);\n    });\n  }\n\n  function addHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (!gfx) {\n      gfx = getBendpointsContainer(connection, true);\n\n      createBendpoints(gfx, connection);\n      createSegmentDraggers(gfx, connection);\n    }\n\n    return gfx;\n  }\n\n  function updateHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (gfx) {\n      clearSegmentDraggers(gfx);\n      clearBendpoints(gfx);\n      createSegmentDraggers(gfx, connection);\n      createBendpoints(gfx, connection);\n    }\n  }\n\n  function updateFloatingBendpointPosition(parentGfx, intersection) {\n    var floating = domQuery('.floating', parentGfx),\n        point = intersection.point;\n\n    if (!floating) {\n      return;\n    }\n\n    translate(floating, point.x, point.y);\n\n  }\n\n  function updateSegmentDraggerPosition(parentGfx, intersection, waypoints) {\n\n    var draggerGfx = getSegmentDragger(intersection.index, parentGfx),\n        segmentStart = waypoints[intersection.index - 1],\n        segmentEnd = waypoints[intersection.index],\n        point = intersection.point,\n        mid = getMidPoint(segmentStart, segmentEnd),\n        alignment = pointsAligned(segmentStart, segmentEnd),\n        draggerVisual, relativePosition;\n\n    if (!draggerGfx) {\n      return;\n    }\n\n    draggerVisual = getDraggerVisual(draggerGfx);\n\n    relativePosition = {\n      x: point.x - mid.x,\n      y: point.y - mid.y\n    };\n\n    if (alignment === 'v') {\n\n      // rotate position\n      relativePosition = {\n        x: relativePosition.y,\n        y: relativePosition.x\n      };\n    }\n\n    translate(draggerVisual, relativePosition.x, relativePosition.y);\n  }\n\n  eventBus.on('connection.changed', function(event) {\n    updateHandles(event.element);\n  });\n\n  eventBus.on('connection.remove', function(event) {\n    var gfx = getBendpointsContainer(event.element);\n\n    if (gfx) {\n      svgRemove(gfx);\n    }\n  });\n\n  eventBus.on('element.marker.update', function(event) {\n\n    var element = event.element,\n        bendpointsGfx;\n\n    if (!element.waypoints) {\n      return;\n    }\n\n    bendpointsGfx = addHandles(element);\n\n    if (event.add) {\n      svgClasses(bendpointsGfx).add(event.marker);\n    } else {\n      svgClasses(bendpointsGfx).remove(event.marker);\n    }\n  });\n\n  eventBus.on('element.mousemove', function(event) {\n\n    var element = event.element,\n        waypoints = element.waypoints,\n        bendpointsGfx,\n        intersection;\n\n    if (waypoints) {\n      bendpointsGfx = getBendpointsContainer(element, true);\n\n      intersection = getConnectionIntersection(canvas, waypoints, event.originalEvent);\n\n      if (!intersection) {\n        return;\n      }\n\n      updateFloatingBendpointPosition(bendpointsGfx, intersection);\n\n      if (!intersection.bendpoint) {\n        updateSegmentDraggerPosition(bendpointsGfx, intersection, waypoints);\n      }\n\n    }\n  });\n\n  eventBus.on('element.mousedown', function(event) {\n\n    var originalEvent = event.originalEvent,\n        element = event.element;\n\n    if (!element.waypoints) {\n      return;\n    }\n\n    return activateBendpointMove(originalEvent, element);\n  });\n\n  eventBus.on('selection.changed', function(event) {\n    var newSelection = event.newSelection,\n        primary = newSelection[0];\n\n    if (primary && primary.waypoints) {\n      addHandles(primary);\n    }\n  });\n\n  eventBus.on('element.hover', function(event) {\n    var element = event.element;\n\n    if (element.waypoints) {\n      addHandles(element);\n      interactionEvents.registerEvent(event.gfx, 'mousemove', 'element.mousemove');\n    }\n  });\n\n  eventBus.on('element.out', function(event) {\n    interactionEvents.unregisterEvent(event.gfx, 'mousemove', 'element.mousemove');\n  });\n\n  // update bendpoint container data attribute on element ID change\n  eventBus.on('element.updateId', function(context) {\n    var element = context.element,\n        newId = context.newId;\n\n    if (element.waypoints) {\n      var bendpointContainer = getBendpointsContainer(element);\n\n      if (bendpointContainer) {\n        svgAttr(bendpointContainer, { 'data-element-id': newId });\n      }\n    }\n  });\n\n  // API\n\n  this.addHandles = addHandles;\n  this.updateHandles = updateHandles;\n  this.getBendpointsContainer = getBendpointsContainer;\n  this.getSegmentDragger = getSegmentDragger;\n}\n\nBendpoints.$inject = [\n  'eventBus',\n  'canvas',\n  'interactionEvents',\n  'bendpointMove',\n  'connectionSegmentMove'\n];\n\n\n\n// helper /////////////\n\nfunction getDraggerVisual(draggerGfx) {\n  return domQuery('.djs-visual', draggerGfx);\n}","import { filterRedundantWaypoints } from '../../layout/LayoutUtil';\n\nvar round = Math.round;\n\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd',\n    UPDATE_WAYPOINTS = 'updateWaypoints';\n\n\n/**\n * Move bendpoints through drag and drop to add/remove bendpoints or reconnect connection.\n */\nexport default function BendpointMove(injector, eventBus, canvas, dragging, rules, modeling) {\n  this._injector = injector;\n\n  this.start = function(event, connection, bendpointIndex, insert) {\n    var gfx = canvas.getGraphics(connection),\n        source = connection.source,\n        target = connection.target,\n        waypoints = connection.waypoints,\n        type;\n\n    if (!insert && bendpointIndex === 0) {\n      type = RECONNECT_START;\n    } else\n    if (!insert && bendpointIndex === waypoints.length - 1) {\n      type = RECONNECT_END;\n    } else {\n      type = UPDATE_WAYPOINTS;\n    }\n\n    var command = type === UPDATE_WAYPOINTS ? 'connection.updateWaypoints' : 'connection.reconnect';\n\n    var allowed = rules.allowed(command, {\n      connection: connection,\n      source: source,\n      target: target\n    });\n\n    if (allowed === false) {\n      allowed = rules.allowed(command, {\n        connection: connection,\n        source: target,\n        target: source\n      });\n    }\n\n    if (allowed === false) {\n      return;\n    }\n\n    dragging.init(event, 'bendpoint.move', {\n      data: {\n        connection: connection,\n        connectionGfx: gfx,\n        context: {\n          allowed: allowed,\n          bendpointIndex: bendpointIndex,\n          connection: connection,\n          source: source,\n          target: target,\n          insert: insert,\n          type: type\n        }\n      }\n    });\n  };\n\n  eventBus.on('bendpoint.move.hover', function(event) {\n    var context = event.context,\n        connection = context.connection,\n        source = connection.source,\n        target = connection.target,\n        hover = event.hover,\n        type = context.type;\n\n    // cache hover state\n    context.hover = hover;\n\n    var allowed;\n\n    if (!hover) {\n      return;\n    }\n\n    var command = type === UPDATE_WAYPOINTS ? 'connection.updateWaypoints' : 'connection.reconnect';\n\n    allowed = context.allowed = rules.allowed(command, {\n      connection: connection,\n      source: type === RECONNECT_START ? hover : source,\n      target: type === RECONNECT_END ? hover : target\n    });\n\n    if (allowed) {\n      context.source = type === RECONNECT_START ? hover : source;\n      context.target = type === RECONNECT_END ? hover : target;\n\n      return;\n    }\n\n    if (allowed === false) {\n      allowed = context.allowed = rules.allowed(command, {\n        connection: connection,\n        source: type === RECONNECT_END ? hover : target,\n        target: type === RECONNECT_START ? hover : source\n      });\n    }\n\n    if (allowed) {\n      context.source = type === RECONNECT_END ? hover : target;\n      context.target = type === RECONNECT_START ? hover : source;\n    }\n  });\n\n  eventBus.on([ 'bendpoint.move.out', 'bendpoint.move.cleanup' ], function(event) {\n    var context = event.context;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    context.allowed = false;\n  });\n\n  eventBus.on('bendpoint.move.end', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        bendpointIndex = context.bendpointIndex,\n        connection = context.connection,\n        insert = context.insert,\n        newWaypoints = connection.waypoints.slice(),\n        source = context.source,\n        target = context.target,\n        type = context.type,\n        hints = context.hints || {};\n\n    // ensure integer values (important if zoom level was > 1 during move)\n    var docking = {\n      x: round(event.x),\n      y: round(event.y)\n    };\n\n    if (!allowed) {\n      return false;\n    }\n\n    if (type === UPDATE_WAYPOINTS) {\n      if (insert) {\n\n        // insert new bendpoint\n        newWaypoints.splice(bendpointIndex, 0, docking);\n      } else {\n\n        // swap previous waypoint with moved one\n        newWaypoints[bendpointIndex] = docking;\n      }\n\n      // pass hints about actual moved bendpoint\n      // useful for connection/label layout\n      hints.bendpointMove = {\n        insert: insert,\n        bendpointIndex: bendpointIndex\n      };\n\n      newWaypoints = this.cropWaypoints(connection, newWaypoints);\n\n      modeling.updateWaypoints(connection, filterRedundantWaypoints(newWaypoints), hints);\n    } else {\n      if (type === RECONNECT_START) {\n        hints.docking = 'source';\n\n        if (isReverse(context)) {\n          hints.docking = 'target';\n\n          hints.newWaypoints = newWaypoints.reverse();\n        }\n      } else if (type === RECONNECT_END) {\n        hints.docking = 'target';\n\n        if (isReverse(context)) {\n          hints.docking = 'source';\n\n          hints.newWaypoints = newWaypoints.reverse();\n        }\n      }\n\n      modeling.reconnect(connection, source, target, docking, hints);\n    }\n  }, this);\n}\n\nBendpointMove.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'dragging',\n  'rules',\n  'modeling'\n];\n\nBendpointMove.prototype.cropWaypoints = function(connection, newWaypoints) {\n  var connectionDocking = this._injector.get('connectionDocking', false);\n\n  if (!connectionDocking) {\n    return newWaypoints;\n  }\n\n  var waypoints = connection.waypoints;\n\n  connection.waypoints = newWaypoints;\n\n  connection.waypoints = connectionDocking.getCroppedWaypoints(connection);\n\n  newWaypoints = connection.waypoints;\n\n  connection.waypoints = waypoints;\n\n  return newWaypoints;\n};\n\n\n// helpers //////////\n\nexport function isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target,\n      type = context.type;\n\n  if (type === RECONNECT_START) {\n    return hover && target && hover === target && source !== target;\n  }\n\n  if (type === RECONNECT_END) {\n    return hover && source && hover === source && source !== target;\n  }\n}","import {\n  classes as svgClasses,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { addBendpoint } from './BendpointUtil';\n\nimport { translate } from '../../util/SvgTransformUtil';\n\nimport { isReverse } from './BendpointMove';\n\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd',\n    UPDATE_WAYPOINTS = 'updateWaypoints';\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok',\n    MARKER_CONNECT_HOVER = 'connect-hover',\n    MARKER_CONNECT_UPDATING = 'djs-updating',\n    MARKER_ELEMENT_HIDDEN = 'djs-element-hidden';\n\nvar HIGH_PRIORITY = 1100;\n\n/**\n * Preview connection while moving bendpoints.\n */\nexport default function BendpointMovePreview(bendpointMove, injector, eventBus, canvas) {\n  this._injector = injector;\n\n  var connectionPreview = injector.get('connectionPreview', false);\n\n  eventBus.on('bendpoint.move.start', function(event) {\n    var context = event.context,\n        bendpointIndex = context.bendpointIndex,\n        connection = context.connection,\n        insert = context.insert,\n        waypoints = connection.waypoints,\n        newWaypoints = waypoints.slice();\n\n    context.waypoints = waypoints;\n\n    if (insert) {\n\n      // insert placeholder for new bendpoint\n      newWaypoints.splice(bendpointIndex, 0, { x: event.x, y: event.y });\n    }\n\n    connection.waypoints = newWaypoints;\n\n    // add dragger gfx\n    var draggerGfx = context.draggerGfx = addBendpoint(canvas.getLayer('overlays'));\n\n    svgClasses(draggerGfx).add('djs-dragging');\n\n    canvas.addMarker(connection, MARKER_ELEMENT_HIDDEN);\n    canvas.addMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on('bendpoint.move.hover', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        hover = context.hover,\n        type = context.type;\n\n    if (hover) {\n      canvas.addMarker(hover, MARKER_CONNECT_HOVER);\n\n      if (type === UPDATE_WAYPOINTS) {\n        return;\n      }\n\n      if (allowed) {\n        canvas.removeMarker(hover, MARKER_NOT_OK);\n        canvas.addMarker(hover, MARKER_OK);\n      } else if (allowed === false) {\n        canvas.removeMarker(hover, MARKER_OK);\n        canvas.addMarker(hover, MARKER_NOT_OK);\n      }\n    }\n  });\n\n  eventBus.on([\n    'bendpoint.move.out',\n    'bendpoint.move.cleanup'\n  ], HIGH_PRIORITY, function(event) {\n    var context = event.context,\n        hover = context.hover,\n        target = context.target;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_CONNECT_HOVER);\n      canvas.removeMarker(hover, target ? MARKER_OK : MARKER_NOT_OK);\n    }\n  });\n\n  eventBus.on('bendpoint.move.move', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        bendpointIndex = context.bendpointIndex,\n        draggerGfx = context.draggerGfx,\n        hover = context.hover,\n        type = context.type,\n        connection = context.connection,\n        source = connection.source,\n        target = connection.target,\n        newWaypoints = connection.waypoints.slice(),\n        bendpoint = { x: event.x, y: event.y },\n        hints = context.hints || {},\n        drawPreviewHints = {};\n\n    if (connectionPreview) {\n      if (hints.connectionStart) {\n        drawPreviewHints.connectionStart = hints.connectionStart;\n      }\n\n      if (hints.connectionEnd) {\n        drawPreviewHints.connectionEnd = hints.connectionEnd;\n      }\n\n\n      if (type === RECONNECT_START) {\n        if (isReverse(context)) {\n          drawPreviewHints.connectionEnd = drawPreviewHints.connectionEnd || bendpoint;\n\n          drawPreviewHints.source = target;\n          drawPreviewHints.target = hover || source;\n\n          newWaypoints = newWaypoints.reverse();\n        } else {\n          drawPreviewHints.connectionStart = drawPreviewHints.connectionStart || bendpoint;\n\n          drawPreviewHints.source = hover || source;\n          drawPreviewHints.target = target;\n        }\n      } else if (type === RECONNECT_END) {\n        if (isReverse(context)) {\n          drawPreviewHints.connectionStart = drawPreviewHints.connectionStart || bendpoint;\n\n          drawPreviewHints.source = hover || target;\n          drawPreviewHints.target = source;\n\n          newWaypoints = newWaypoints.reverse();\n        } else {\n          drawPreviewHints.connectionEnd = drawPreviewHints.connectionEnd || bendpoint;\n\n          drawPreviewHints.source = source;\n          drawPreviewHints.target = hover || target;\n        }\n\n      } else {\n        drawPreviewHints.noCropping = true;\n        drawPreviewHints.noLayout = true;\n        newWaypoints[ bendpointIndex ] = bendpoint;\n      }\n\n      if (type === UPDATE_WAYPOINTS) {\n        newWaypoints = bendpointMove.cropWaypoints(connection, newWaypoints);\n      }\n\n      drawPreviewHints.waypoints = newWaypoints;\n\n      connectionPreview.drawPreview(context, allowed, drawPreviewHints);\n    }\n\n    translate(draggerGfx, event.x, event.y);\n  }, this);\n\n  eventBus.on([\n    'bendpoint.move.end',\n    'bendpoint.move.cancel'\n  ], HIGH_PRIORITY, function(event) {\n    var context = event.context,\n        connection = context.connection,\n        draggerGfx = context.draggerGfx,\n        hover = context.hover,\n        target = context.target,\n        waypoints = context.waypoints;\n\n    connection.waypoints = waypoints;\n\n    // remove dragger gfx\n    svgRemove(draggerGfx);\n\n    canvas.removeMarker(connection, MARKER_CONNECT_UPDATING);\n    canvas.removeMarker(connection, MARKER_ELEMENT_HIDDEN);\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_OK);\n      canvas.removeMarker(hover, target ? MARKER_OK : MARKER_NOT_OK);\n    }\n\n    if (connectionPreview) {\n      connectionPreview.cleanUp(context);\n    }\n  });\n}\n\nBendpointMovePreview.$inject = [\n  'bendpointMove',\n  'injector',\n  'eventBus',\n  'canvas'\n];","import {\n  pointsAligned,\n  pointsOnLine\n} from '../../util/Geometry';\n\nimport {\n  addSegmentDragger,\n  getConnectionIntersection\n} from './BendpointUtil';\n\nimport {\n  getMid,\n  getOrientation\n} from '../../layout/LayoutUtil';\n\nvar MARKER_CONNECT_HOVER = 'connect-hover',\n    MARKER_CONNECT_UPDATING = 'djs-updating';\n\nimport {\n  classes as svgClasses,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  translate\n} from '../../util/SvgTransformUtil';\n\n\nfunction axisAdd(point, axis, delta) {\n  return axisSet(point, axis, point[axis] + delta);\n}\n\nfunction axisSet(point, axis, value) {\n  return {\n    x: (axis === 'x' ? value : point.x),\n    y: (axis === 'y' ? value : point.y)\n  };\n}\n\nfunction axisFenced(position, segmentStart, segmentEnd, axis) {\n\n  var maxValue = Math.max(segmentStart[axis], segmentEnd[axis]),\n      minValue = Math.min(segmentStart[axis], segmentEnd[axis]);\n\n  var padding = 20;\n\n  var fencedValue = Math.min(Math.max(minValue + padding, position[axis]), maxValue - padding);\n\n  return axisSet(segmentStart, axis, fencedValue);\n}\n\nfunction flipAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Get the docking point on the given element.\n *\n * Compute a reasonable docking, if non exists.\n *\n * @param  {Point} point\n * @param  {djs.model.Shape} referenceElement\n * @param  {string} moveAxis (x|y)\n *\n * @return {Point}\n */\nfunction getDocking(point, referenceElement, moveAxis) {\n\n  var referenceMid,\n      inverseAxis;\n\n  if (point.original) {\n    return point.original;\n  } else {\n    referenceMid = getMid(referenceElement);\n    inverseAxis = flipAxis(moveAxis);\n\n    return axisSet(point, inverseAxis, referenceMid[inverseAxis]);\n  }\n}\n\n/**\n * A component that implements moving of bendpoints\n */\nexport default function ConnectionSegmentMove(\n    injector, eventBus, canvas,\n    dragging, graphicsFactory, modeling) {\n\n  // optional connection docking integration\n  var connectionDocking = injector.get('connectionDocking', false);\n\n\n  // API\n\n  this.start = function(event, connection, idx) {\n\n    var context,\n        gfx = canvas.getGraphics(connection),\n        segmentStartIndex = idx - 1,\n        segmentEndIndex = idx,\n        waypoints = connection.waypoints,\n        segmentStart = waypoints[segmentStartIndex],\n        segmentEnd = waypoints[segmentEndIndex],\n        intersection = getConnectionIntersection(canvas, waypoints, event),\n        direction, axis, dragPosition;\n\n    direction = pointsAligned(segmentStart, segmentEnd);\n\n    // do not move diagonal connection\n    if (!direction) {\n      return;\n    }\n\n    // the axis where we are going to move things\n    axis = direction === 'v' ? 'x' : 'y';\n\n    if (segmentStartIndex === 0) {\n      segmentStart = getDocking(segmentStart, connection.source, axis);\n    }\n\n    if (segmentEndIndex === waypoints.length - 1) {\n      segmentEnd = getDocking(segmentEnd, connection.target, axis);\n    }\n\n    if (intersection) {\n      dragPosition = intersection.point;\n    } else {\n\n      // set to segment center as default\n      dragPosition = {\n        x: (segmentStart.x + segmentEnd.x) / 2,\n        y: (segmentStart.y + segmentEnd.y) / 2\n      };\n    }\n\n    context = {\n      connection: connection,\n      segmentStartIndex: segmentStartIndex,\n      segmentEndIndex: segmentEndIndex,\n      segmentStart: segmentStart,\n      segmentEnd: segmentEnd,\n      axis: axis,\n      dragPosition: dragPosition\n    };\n\n    dragging.init(event, dragPosition, 'connectionSegment.move', {\n      cursor: axis === 'x' ? 'resize-ew' : 'resize-ns',\n      data: {\n        connection: connection,\n        connectionGfx: gfx,\n        context: context\n      }\n    });\n  };\n\n  /**\n   * Crop connection if connection cropping is provided.\n   *\n   * @param {Connection} connection\n   * @param {Array<Point>} newWaypoints\n   *\n   * @return {Array<Point>} cropped connection waypoints\n   */\n  function cropConnection(connection, newWaypoints) {\n\n    // crop connection, if docking service is provided only\n    if (!connectionDocking) {\n      return newWaypoints;\n    }\n\n    var oldWaypoints = connection.waypoints,\n        croppedWaypoints;\n\n    // temporary set new waypoints\n    connection.waypoints = newWaypoints;\n\n    croppedWaypoints = connectionDocking.getCroppedWaypoints(connection);\n\n    // restore old waypoints\n    connection.waypoints = oldWaypoints;\n\n    return croppedWaypoints;\n  }\n\n  // DRAGGING IMPLEMENTATION\n\n  function redrawConnection(data) {\n    graphicsFactory.update('connection', data.connection, data.connectionGfx);\n  }\n\n  function updateDragger(context, segmentOffset, event) {\n\n    var newWaypoints = context.newWaypoints,\n        segmentStartIndex = context.segmentStartIndex + segmentOffset,\n        segmentStart = newWaypoints[segmentStartIndex],\n        segmentEndIndex = context.segmentEndIndex + segmentOffset,\n        segmentEnd = newWaypoints[segmentEndIndex],\n        axis = flipAxis(context.axis);\n\n    // make sure the dragger does not move\n    // outside the connection\n    var draggerPosition = axisFenced(event, segmentStart, segmentEnd, axis);\n\n    // update dragger\n    translate(context.draggerGfx, draggerPosition.x, draggerPosition.y);\n  }\n\n  /**\n   * Filter waypoints for redundant ones (i.e. on the same axis).\n   * Returns the filtered waypoints and the offset related to the segment move.\n   *\n   * @param {Array<Point>} waypoints\n   * @param {Integer} segmentStartIndex of moved segment start\n   *\n   * @return {Object} { filteredWaypoints, segmentOffset }\n   */\n  function filterRedundantWaypoints(waypoints, segmentStartIndex) {\n\n    var segmentOffset = 0;\n\n    var filteredWaypoints = waypoints.filter(function(r, idx) {\n      if (pointsOnLine(waypoints[idx - 1], waypoints[idx + 1], r)) {\n\n        // remove point and increment offset\n        segmentOffset = idx <= segmentStartIndex ? segmentOffset - 1 : segmentOffset;\n        return false;\n      }\n\n      // dont remove point\n      return true;\n    });\n\n    return {\n      waypoints: filteredWaypoints,\n      segmentOffset: segmentOffset\n    };\n  }\n\n  eventBus.on('connectionSegment.move.start', function(event) {\n\n    var context = event.context,\n        connection = event.connection,\n        layer = canvas.getLayer('overlays');\n\n    context.originalWaypoints = connection.waypoints.slice();\n\n    // add dragger gfx\n    context.draggerGfx = addSegmentDragger(layer, context.segmentStart, context.segmentEnd);\n    svgClasses(context.draggerGfx).add('djs-dragging');\n\n    canvas.addMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on('connectionSegment.move.move', function(event) {\n\n    var context = event.context,\n        connection = context.connection,\n        segmentStartIndex = context.segmentStartIndex,\n        segmentEndIndex = context.segmentEndIndex,\n        segmentStart = context.segmentStart,\n        segmentEnd = context.segmentEnd,\n        axis = context.axis;\n\n    var newWaypoints = context.originalWaypoints.slice(),\n        newSegmentStart = axisAdd(segmentStart, axis, event['d' + axis]),\n        newSegmentEnd = axisAdd(segmentEnd, axis, event['d' + axis]);\n\n    // original waypoint count and added / removed\n    // from start waypoint delta. We use the later\n    // to retrieve the updated segmentStartIndex / segmentEndIndex\n    var waypointCount = newWaypoints.length,\n        segmentOffset = 0;\n\n    // move segment start / end by axis delta\n    newWaypoints[segmentStartIndex] = newSegmentStart;\n    newWaypoints[segmentEndIndex] = newSegmentEnd;\n\n    var sourceToSegmentOrientation,\n        targetToSegmentOrientation;\n\n    // handle first segment\n    if (segmentStartIndex < 2) {\n      sourceToSegmentOrientation = getOrientation(connection.source, newSegmentStart);\n\n      // first bendpoint, remove first segment if intersecting\n      if (segmentStartIndex === 1) {\n\n        if (sourceToSegmentOrientation === 'intersect') {\n          newWaypoints.shift();\n          newWaypoints[0] = newSegmentStart;\n          segmentOffset--;\n        }\n      }\n\n      // docking point, add segment if not intersecting anymore\n      else {\n        if (sourceToSegmentOrientation !== 'intersect') {\n          newWaypoints.unshift(segmentStart);\n          segmentOffset++;\n        }\n      }\n    }\n\n    // handle last segment\n    if (segmentEndIndex > waypointCount - 3) {\n      targetToSegmentOrientation = getOrientation(connection.target, newSegmentEnd);\n\n      // last bendpoint, remove last segment if intersecting\n      if (segmentEndIndex === waypointCount - 2) {\n\n        if (targetToSegmentOrientation === 'intersect') {\n          newWaypoints.pop();\n          newWaypoints[newWaypoints.length - 1] = newSegmentEnd;\n        }\n      }\n\n      // last bendpoint, remove last segment if intersecting\n      else {\n        if (targetToSegmentOrientation !== 'intersect') {\n          newWaypoints.push(segmentEnd);\n        }\n      }\n    }\n\n    // update connection waypoints\n    context.newWaypoints = connection.waypoints = cropConnection(connection, newWaypoints);\n\n    // update dragger position\n    updateDragger(context, segmentOffset, event);\n\n    // save segmentOffset in context\n    context.newSegmentStartIndex = segmentStartIndex + segmentOffset;\n\n    // redraw connection\n    redrawConnection(event);\n  });\n\n  eventBus.on('connectionSegment.move.hover', function(event) {\n\n    event.context.hover = event.hover;\n    canvas.addMarker(event.hover, MARKER_CONNECT_HOVER);\n  });\n\n  eventBus.on([\n    'connectionSegment.move.out',\n    'connectionSegment.move.cleanup'\n  ], function(event) {\n\n    // remove connect marker\n    // if it was added\n    var hover = event.context.hover;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_CONNECT_HOVER);\n    }\n  });\n\n  eventBus.on('connectionSegment.move.cleanup', function(event) {\n\n    var context = event.context,\n        connection = context.connection;\n\n    // remove dragger gfx\n    if (context.draggerGfx) {\n      svgRemove(context.draggerGfx);\n    }\n\n    canvas.removeMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on([\n    'connectionSegment.move.cancel',\n    'connectionSegment.move.end'\n  ], function(event) {\n    var context = event.context,\n        connection = context.connection;\n\n    connection.waypoints = context.originalWaypoints;\n\n    redrawConnection(event);\n  });\n\n  eventBus.on('connectionSegment.move.end', function(event) {\n\n    var context = event.context,\n        connection = context.connection,\n        newWaypoints = context.newWaypoints,\n        newSegmentStartIndex = context.newSegmentStartIndex;\n\n    // ensure we have actual pixel values bendpoint\n    // coordinates (important when zoom level was > 1 during move)\n    newWaypoints = newWaypoints.map(function(p) {\n      return {\n        original: p.original,\n        x: Math.round(p.x),\n        y: Math.round(p.y)\n      };\n    });\n\n    // apply filter redunant waypoints\n    var filtered = filterRedundantWaypoints(newWaypoints, newSegmentStartIndex);\n\n    // get filtered waypoints\n    var filteredWaypoints = filtered.waypoints,\n        croppedWaypoints = cropConnection(connection, filteredWaypoints),\n        segmentOffset = filtered.segmentOffset;\n\n    var hints = {\n      segmentMove: {\n        segmentStartIndex: context.segmentStartIndex,\n        newSegmentStartIndex: newSegmentStartIndex + segmentOffset\n      }\n    };\n\n    modeling.updateWaypoints(connection, croppedWaypoints, hints);\n  });\n}\n\nConnectionSegmentMove.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'dragging',\n  'graphicsFactory',\n  'modeling'\n];\n","var abs = Math.abs,\n    round = Math.round;\n\n\n/**\n * Snap value to a collection of reference values.\n *\n * @param  {number} value\n * @param  {Array<number>} values\n * @param  {number} [tolerance=10]\n *\n * @return {number} the value we snapped to or null, if none snapped\n */\nexport function snapTo(value, values, tolerance) {\n  tolerance = tolerance === undefined ? 10 : tolerance;\n\n  var idx, snapValue;\n\n  for (idx = 0; idx < values.length; idx++) {\n    snapValue = values[idx];\n\n    if (abs(snapValue - value) <= tolerance) {\n      return snapValue;\n    }\n  }\n}\n\n\nexport function topLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y\n  };\n}\n\nexport function topRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y\n  };\n}\n\nexport function bottomLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y + bounds.height\n  };\n}\n\nexport function bottomRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y + bounds.height\n  };\n}\n\nexport function mid(bounds, defaultValue) {\n\n  if (!bounds || isNaN(bounds.x) || isNaN(bounds.y)) {\n    return defaultValue;\n  }\n\n  return {\n    x: round(bounds.x + bounds.width / 2),\n    y: round(bounds.y + bounds.height / 2)\n  };\n}\n\n\n/**\n * Retrieve the snap state of the given event.\n *\n * @param  {Event} event\n * @param  {string} axis\n *\n * @return {boolean} the snapped state\n *\n */\nexport function isSnapped(event, axis) {\n  var snapped = event.snapped;\n\n  if (!snapped) {\n    return false;\n  }\n\n  if (typeof axis === 'string') {\n    return snapped[axis];\n  }\n\n  return snapped.x && snapped.y;\n}\n\n\n/**\n * Set the given event as snapped.\n *\n * This method may change the x and/or y position of the shape\n * from the given event!\n *\n * @param {Event} event\n * @param {string} axis\n * @param {number|boolean} value\n *\n * @return {number} old value\n */\nexport function setSnapped(event, axis, value) {\n  if (typeof axis !== 'string') {\n    throw new Error('axis must be in [x, y]');\n  }\n\n  if (typeof value !== 'number' && value !== false) {\n    throw new Error('value must be Number or false');\n  }\n\n  var delta,\n      previousValue = event[axis];\n\n  var snapped = event.snapped = (event.snapped || {});\n\n\n  if (value === false) {\n    snapped[axis] = false;\n  } else {\n    snapped[axis] = true;\n\n    delta = value - previousValue;\n\n    event[axis] += delta;\n    event['d' + axis] += delta;\n  }\n\n  return previousValue;\n}\n\n/**\n * Get children of a shape.\n *\n * @param {djs.model.Shape} parent\n *\n * @returns {Array<djs.model.Shape|djs.model.Connection>}\n */\nexport function getChildren(parent) {\n  return parent.children || [];\n}","import {\n  assign,\n  forEach,\n  isArray\n} from 'min-dash';\n\nimport { setSnapped } from '../snapping/SnapUtil';\n\nvar abs= Math.abs,\n    round = Math.round;\n\nvar TOLERANCE = 10;\n\n\nexport default function BendpointSnapping(eventBus) {\n\n  function snapTo(values, value) {\n\n    if (isArray(values)) {\n      var i = values.length;\n\n      while (i--) if (abs(values[i] - value) <= TOLERANCE) {\n        return values[i];\n      }\n    } else {\n      values = +values;\n      var rem = value % values;\n\n      if (rem < TOLERANCE) {\n        return value - rem;\n      }\n\n      if (rem > values - TOLERANCE) {\n        return value - rem + values;\n      }\n    }\n\n    return value;\n  }\n\n  function mid(element) {\n    if (element.width) {\n      return {\n        x: round(element.width / 2 + element.x),\n        y: round(element.height / 2 + element.y)\n      };\n    }\n  }\n\n  // connection segment snapping //////////////////////\n\n  function getConnectionSegmentSnaps(context) {\n\n    var snapPoints = context.snapPoints,\n        connection = context.connection,\n        waypoints = connection.waypoints,\n        segmentStart = context.segmentStart,\n        segmentStartIndex = context.segmentStartIndex,\n        segmentEnd = context.segmentEnd,\n        segmentEndIndex = context.segmentEndIndex,\n        axis = context.axis;\n\n    if (snapPoints) {\n      return snapPoints;\n    }\n\n    var referenceWaypoints = [\n      waypoints[segmentStartIndex - 1],\n      segmentStart,\n      segmentEnd,\n      waypoints[segmentEndIndex + 1]\n    ];\n\n    if (segmentStartIndex < 2) {\n      referenceWaypoints.unshift(mid(connection.source));\n    }\n\n    if (segmentEndIndex > waypoints.length - 3) {\n      referenceWaypoints.unshift(mid(connection.target));\n    }\n\n    context.snapPoints = snapPoints = { horizontal: [] , vertical: [] };\n\n    forEach(referenceWaypoints, function(p) {\n\n      // we snap on existing bendpoints only,\n      // not placeholders that are inserted during add\n      if (p) {\n        p = p.original || p;\n\n        if (axis === 'y') {\n          snapPoints.horizontal.push(p.y);\n        }\n\n        if (axis === 'x') {\n          snapPoints.vertical.push(p.x);\n        }\n      }\n    });\n\n    return snapPoints;\n  }\n\n  eventBus.on('connectionSegment.move.move', 1500, function(event) {\n    var context = event.context,\n        snapPoints = getConnectionSegmentSnaps(context),\n        x = event.x,\n        y = event.y,\n        sx, sy;\n\n    if (!snapPoints) {\n      return;\n    }\n\n    // snap\n    sx = snapTo(snapPoints.vertical, x);\n    sy = snapTo(snapPoints.horizontal, y);\n\n\n    // correction x/y\n    var cx = (x - sx),\n        cy = (y - sy);\n\n    // update delta\n    assign(event, {\n      dx: event.dx - cx,\n      dy: event.dy - cy,\n      x: sx,\n      y: sy\n    });\n\n    // only set snapped if actually snapped\n    if (cx || snapPoints.vertical.indexOf(x) !== -1) {\n      setSnapped(event, 'x', sx);\n    }\n\n    if (cy || snapPoints.horizontal.indexOf(y) !== -1) {\n      setSnapped(event, 'y', sy);\n    }\n  });\n\n\n  // bendpoint snapping //////////////////////\n\n  function getBendpointSnaps(context) {\n\n    var snapPoints = context.snapPoints,\n        waypoints = context.connection.waypoints,\n        bendpointIndex = context.bendpointIndex;\n\n    if (snapPoints) {\n      return snapPoints;\n    }\n\n    var referenceWaypoints = [ waypoints[bendpointIndex - 1], waypoints[bendpointIndex + 1] ];\n\n    context.snapPoints = snapPoints = { horizontal: [] , vertical: [] };\n\n    forEach(referenceWaypoints, function(p) {\n\n      // we snap on existing bendpoints only,\n      // not placeholders that are inserted during add\n      if (p) {\n        p = p.original || p;\n\n        snapPoints.horizontal.push(p.y);\n        snapPoints.vertical.push(p.x);\n      }\n    });\n\n    return snapPoints;\n  }\n\n\n  eventBus.on([ 'bendpoint.move.move', 'bendpoint.move.end' ], 1500, function(event) {\n\n    var context = event.context,\n        snapPoints = getBendpointSnaps(context),\n        hover = context.hover,\n        hoverMid = hover && mid(hover),\n        x = event.x,\n        y = event.y,\n        sx, sy;\n\n    if (!snapPoints) {\n      return;\n    }\n\n    // snap to hover mid\n    sx = snapTo(hoverMid ? snapPoints.vertical.concat([ hoverMid.x ]) : snapPoints.vertical, x);\n    sy = snapTo(hoverMid ? snapPoints.horizontal.concat([ hoverMid.y ]) : snapPoints.horizontal, y);\n\n    // correction x/y\n    var cx = (x - sx),\n        cy = (y - sy);\n\n    // update delta\n    assign(event, {\n      dx: event.dx - cx,\n      dy: event.dy - cy,\n      x: event.x - cx,\n      y: event.y - cy\n    });\n\n    // only set snapped if actually snapped\n    if (cx || snapPoints.vertical.indexOf(x) !== -1) {\n      setSnapped(event, 'x', sx);\n    }\n\n    if (cy || snapPoints.horizontal.indexOf(y) !== -1) {\n      setSnapped(event, 'y', sy);\n    }\n  });\n}\n\n\nBendpointSnapping.$inject = [ 'eventBus' ];","import DraggingModule from '../dragging';\nimport RulesModule from '../rules';\n\nimport Bendpoints from './Bendpoints';\nimport BendpointMove from './BendpointMove';\nimport BendpointMovePreview from './BendpointMovePreview';\nimport ConnectionSegmentMove from './ConnectionSegmentMove';\nimport BendpointSnapping from './BendpointSnapping';\n\n\nexport default {\n  __depends__: [\n    DraggingModule,\n    RulesModule\n  ],\n  __init__: [ 'bendpoints', 'bendpointSnapping', 'bendpointMovePreview' ],\n  bendpoints: [ 'type', Bendpoints ],\n  bendpointMove: [ 'type', BendpointMove ],\n  bendpointMovePreview: [ 'type', BendpointMovePreview ],\n  connectionSegmentMove: [ 'type', ConnectionSegmentMove ],\n  bendpointSnapping: [ 'type', BendpointSnapping ]\n};\n","import {\n  assign,\n  isFunction,\n  isArray,\n  forEach,\n  isDefined\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  event as domEvent,\n  attr as domAttr,\n  query as domQuery,\n  classes as domClasses,\n  domify as domify\n} from 'min-dom';\n\nvar entrySelector = '.entry';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A context pad that displays element specific, contextual actions next\n * to a diagram element.\n *\n * @param {Object} config\n * @param {boolean|Object} [config.scale={ min: 1.0, max: 1.5 }]\n * @param {number} [config.scale.min]\n * @param {number} [config.scale.max]\n * @param {EventBus} eventBus\n * @param {Overlays} overlays\n */\nexport default function ContextPad(config, eventBus, overlays) {\n\n  this._eventBus = eventBus;\n  this._overlays = overlays;\n\n  var scale = isDefined(config && config.scale) ? config.scale : {\n    min: 1,\n    max: 1.5\n  };\n\n  this._overlaysConfig = {\n    position: {\n      right: -9,\n      top: -6\n    },\n    scale: scale\n  };\n\n  this._current = null;\n\n  this._init();\n}\n\nContextPad.$inject = [\n  'config.contextPad',\n  'eventBus',\n  'overlays'\n];\n\n\n/**\n * Registers events needed for interaction with other components\n */\nContextPad.prototype._init = function() {\n\n  var eventBus = this._eventBus;\n\n  var self = this;\n\n  eventBus.on('selection.changed', function(e) {\n\n    var selection = e.newSelection;\n\n    if (selection.length === 1) {\n      self.open(selection[0]);\n    } else {\n      self.close();\n    }\n  });\n\n  eventBus.on('elements.delete', function(event) {\n    var elements = event.elements;\n\n    forEach(elements, function(e) {\n      if (self.isOpen(e)) {\n        self.close();\n      }\n    });\n  });\n\n  eventBus.on('element.changed', function(event) {\n    var element = event.element,\n        current = self._current;\n\n    // force reopen if element for which we are currently opened changed\n    if (current && current.element === element) {\n      self.open(element, true);\n    }\n  });\n};\n\n\n/**\n * Register a provider with the context pad\n *\n * @param  {number} [priority=1000]\n * @param  {ContextPadProvider} provider\n *\n * @example\n * const contextPadProvider = {\n  *   getContextPadEntries: function(element) {\n  *     return function(entries) {\n  *       return {\n  *         ...entries,\n  *         'entry-1': {\n  *           label: 'My Entry',\n  *           action: function() { alert(\"I have been clicked!\"); }\n  *         }\n  *       };\n  *     }\n  *   }\n  * };\n  *\n * contextPad.registerProvider(800, contextPadProvider);\n */\nContextPad.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('contextPad.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n\n/**\n * Returns the context pad entries for a given element\n *\n * @param {djs.element.Base} element\n *\n * @return {Array<ContextPadEntryDescriptor>} list of entries\n */\nContextPad.prototype.getEntries = function(element) {\n  var providers = this._getProviders();\n\n  var entries = {};\n\n  // loop through all providers and their entries.\n  // group entries by id so that overriding an entry is possible\n  forEach(providers, function(provider) {\n    var entriesOrUpdater = provider.getContextPadEntries(element);\n\n    if (isFunction(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      forEach(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n};\n\n\n/**\n * Trigger an action available on the opened context pad\n *\n * @param  {string} action\n * @param  {Event} event\n * @param  {boolean} [autoActivate=false]\n */\nContextPad.prototype.trigger = function(action, event, autoActivate) {\n\n  var element = this._current.element,\n      entries = this._current.entries,\n      entry,\n      handler,\n      originalEvent,\n      button = event.delegateTarget || event.target;\n\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  entry = entries[domAttr(button, 'data-action')];\n  handler = entry.action;\n\n  originalEvent = event.originalEvent || event;\n\n  // simple action (via callback function)\n  if (isFunction(handler)) {\n    if (action === 'click') {\n      return handler(originalEvent, element, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      return handler[action](originalEvent, element, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\n\n/**\n * Open the context pad for the given element\n *\n * @param {djs.model.Base} element\n * @param {boolean} force if true, force reopening the context pad\n */\nContextPad.prototype.open = function(element, force) {\n  if (!force && this.isOpen(element)) {\n    return;\n  }\n\n  this.close();\n  this._updateAndOpen(element);\n};\n\nContextPad.prototype._getProviders = function(id) {\n\n  var event = this._eventBus.createEvent({\n    type: 'contextPad.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\nContextPad.prototype._updateAndOpen = function(element) {\n\n  var entries = this.getEntries(element),\n      pad = this.getPad(element),\n      html = pad.html;\n\n  forEach(entries, function(entry, id) {\n    var grouping = entry.group || 'default',\n        control = domify(entry.html || '<div class=\"entry\" draggable=\"true\"></div>'),\n        container;\n\n    domAttr(control, 'data-action', id);\n\n    container = domQuery('[data-group=' + grouping + ']', html);\n    if (!container) {\n      container = domify('<div class=\"group\" data-group=\"' + grouping + '\"></div>');\n      html.appendChild(container);\n    }\n\n    container.appendChild(control);\n\n    if (entry.className) {\n      addClasses(control, entry.className);\n    }\n\n    if (entry.title) {\n      domAttr(control, 'title', entry.title);\n    }\n\n    if (entry.imageUrl) {\n      control.appendChild(domify('<img src=\"' + entry.imageUrl + '\">'));\n    }\n  });\n\n  domClasses(html).add('open');\n\n  this._current = {\n    element: element,\n    pad: pad,\n    entries: entries\n  };\n\n  this._eventBus.fire('contextPad.open', { current: this._current });\n};\n\n\nContextPad.prototype.getPad = function(element) {\n  if (this.isOpen()) {\n    return this._current.pad;\n  }\n\n  var self = this;\n\n  var overlays = this._overlays;\n\n  var html = domify('<div class=\"djs-context-pad\"></div>');\n\n  var overlaysConfig = assign({\n    html: html\n  }, this._overlaysConfig);\n\n  domDelegate.bind(html, entrySelector, 'click', function(event) {\n    self.trigger('click', event);\n  });\n\n  domDelegate.bind(html, entrySelector, 'dragstart', function(event) {\n    self.trigger('dragstart', event);\n  });\n\n  // stop propagation of mouse events\n  domEvent.bind(html, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  this._overlayId = overlays.add(element, 'context-pad', overlaysConfig);\n\n  var pad = overlays.get(this._overlayId);\n\n  this._eventBus.fire('contextPad.create', { element: element, pad: pad });\n\n  return pad;\n};\n\n\n/**\n * Close the context pad\n */\nContextPad.prototype.close = function() {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  this._overlays.remove(this._overlayId);\n\n  this._overlayId = null;\n\n  this._eventBus.fire('contextPad.close', { current: this._current });\n\n  this._current = null;\n};\n\n/**\n * Check if pad is open. If element is given, will check\n * if pad is opened with given element.\n *\n * @param {Element} element\n * @return {boolean}\n */\nContextPad.prototype.isOpen = function(element) {\n  return !!this._current && (!element ? true : this._current.element === element);\n};\n\n\n\n\n// helpers //////////////////////\n\nfunction addClasses(element, classNames) {\n\n  var classes = domClasses(element);\n\n  var actualClassNames = isArray(classNames) ? classNames : classNames.split(/\\s+/g);\n  actualClassNames.forEach(function(cls) {\n    classes.add(cls);\n  });\n}","import InteractionEventsModule from '../interaction-events';\nimport OverlaysModule from '../overlays';\n\nimport ContextPad from './ContextPad';\n\n\nexport default {\n  __depends__: [\n    InteractionEventsModule,\n    OverlaysModule\n  ],\n  contextPad: [ 'type', ContextPad ]\n};","import {\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport {\n  isNil,\n  isObject\n} from 'min-dash';\n\n\nexport default function Connect(eventBus, dragging, modeling, rules) {\n\n  // rules\n\n  function canConnect(source, target) {\n    return rules.allowed('connection.create', {\n      source: source,\n      target: target\n    });\n  }\n\n  function canConnectReverse(source, target) {\n    return canConnect(target, source);\n  }\n\n\n  // event handlers\n\n  eventBus.on('connect.hover', function(event) {\n    var context = event.context,\n        start = context.start,\n        hover = event.hover,\n        canExecute;\n\n    // cache hover state\n    context.hover = hover;\n\n    canExecute = context.canExecute = canConnect(start, hover);\n\n    // ignore hover\n    if (isNil(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = start;\n      context.target = hover;\n\n      return;\n    }\n\n    canExecute = context.canExecute = canConnectReverse(start, hover);\n\n    // ignore hover\n    if (isNil(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = hover;\n      context.target = start;\n    }\n  });\n\n  eventBus.on([ 'connect.out', 'connect.cleanup' ], function(event) {\n    var context = event.context;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    context.canExecute = false;\n  });\n\n  eventBus.on('connect.end', function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        connectionStart = context.connectionStart,\n        connectionEnd = {\n          x: event.x,\n          y: event.y\n        },\n        source = context.source,\n        target = context.target;\n\n    if (!canExecute) {\n      return false;\n    }\n\n    var attrs = null,\n        hints = {\n          connectionStart: isReverse(context) ? connectionEnd : connectionStart,\n          connectionEnd: isReverse(context) ? connectionStart : connectionEnd\n        };\n\n    if (isObject(canExecute)) {\n      attrs = canExecute;\n    }\n\n    modeling.connect(source, target, attrs, hints);\n  });\n\n\n  // API\n\n  /**\n   * Start connect operation.\n   *\n   * @param {DOMEvent} event\n   * @param {djs.model.Base} start\n   * @param {Point} [connectionStart]\n   * @param {boolean} [autoActivate=false]\n   */\n  this.start = function(event, start, connectionStart, autoActivate) {\n    if (!isObject(connectionStart)) {\n      autoActivate = connectionStart;\n      connectionStart = getMid(start);\n    }\n\n    dragging.init(event, 'connect', {\n      autoActivate: autoActivate,\n      data: {\n        shape: start,\n        context: {\n          start: start,\n          connectionStart: connectionStart\n        }\n      }\n    });\n  };\n}\n\nConnect.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'rules'\n];\n\n\n// helpers //////////\n\nexport function isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target;\n\n  return hover && source && hover === source && source !== target;\n}","import { isReverse } from './Connect';\n\nvar HIGH_PRIORITY = 1100,\n    LOW_PRIORITY = 900;\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok';\n\n/**\n * Shows connection preview during connect.\n *\n * @param {didi.Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function ConnectPreview(injector, eventBus, canvas) {\n  var connectionPreview = injector.get('connectionPreview', false);\n\n  connectionPreview && eventBus.on('connect.move', function(event) {\n    var context = event.context,\n        canConnect = context.canExecute,\n        hover = context.hover,\n        source = context.source,\n        start = context.start,\n        startPosition = context.startPosition,\n        connectionStart = context.connectionStart,\n        connectionEnd = context.connectionEnd,\n        target = context.target;\n\n    if (!connectionStart) {\n      connectionStart = isReverse(context) ? {\n        x: event.x,\n        y: event.y\n      } : startPosition;\n    }\n\n    if (!connectionEnd) {\n      connectionEnd = isReverse(context) ? startPosition : {\n        x: event.x,\n        y: event.y\n      };\n    }\n\n    connectionPreview.drawPreview(context, canConnect, {\n      source: source || start,\n      target: target || hover,\n      connectionStart: connectionStart,\n      connectionEnd: connectionEnd\n    });\n  });\n\n  eventBus.on('connect.hover', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        hover = event.hover,\n        canExecute = context.canExecute;\n\n    // ignore hover\n    if (canExecute === null) {\n      return;\n    }\n\n    canvas.addMarker(hover, canExecute ? MARKER_OK : MARKER_NOT_OK);\n  });\n\n  eventBus.on([\n    'connect.out',\n    'connect.cleanup'\n  ], HIGH_PRIORITY, function(event) {\n    var hover = event.hover;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_OK);\n      canvas.removeMarker(hover, MARKER_NOT_OK);\n    }\n  });\n\n  connectionPreview && eventBus.on('connect.cleanup', function(event) {\n    connectionPreview.cleanUp(event.context);\n  });\n}\n\nConnectPreview.$inject = [\n  'injector',\n  'eventBus',\n  'canvas'\n];\n","import SelectionModule from '../selection';\nimport RulesModule from '../rules';\nimport DraggingModule from '../dragging';\n\nimport Connect from './Connect';\nimport ConnectPreview from './ConnectPreview';\n\nexport default {\n  __depends__: [\n    SelectionModule,\n    RulesModule,\n    DraggingModule\n  ],\n  __init__: [\n    'connectPreview'\n  ],\n  connect: [ 'type', Connect ],\n  connectPreview: [ 'type', ConnectPreview ]\n};\n","import {\r\n  forEach\r\n} from 'min-dash';\r\n\r\nimport {\r\n  append as svgAppend,\r\n  attr as svgAttr,\r\n  classes as svgClasses,\r\n  clone as svgClone,\r\n  create as svgCreate,\r\n  remove as svgRemove\r\n} from 'tiny-svg';\r\n\r\nimport { query as domQuery } from 'min-dom';\r\n\r\nimport { getVisual } from '../../util/GraphicsUtil';\r\n\r\nvar MARKER_TYPES = [\r\n  'marker-start',\r\n  'marker-mid',\r\n  'marker-end'\r\n];\r\n\r\nvar NODES_CAN_HAVE_MARKER = [\r\n  'circle',\r\n  'ellipse',\r\n  'line',\r\n  'path',\r\n  'polygon',\r\n  'polyline',\r\n  'rect'\r\n];\r\n\r\n\r\n/**\r\n * Adds support for previews of moving/resizing elements.\r\n */\r\nexport default function PreviewSupport(elementRegistry, eventBus, canvas, styles) {\r\n  this._elementRegistry = elementRegistry;\r\n  this._canvas = canvas;\r\n  this._styles = styles;\r\n\r\n  this._clonedMarkers = {};\r\n\r\n  var self = this;\r\n\r\n  eventBus.on('drag.cleanup', function() {\r\n    forEach(self._clonedMarkers, function(clonedMarker) {\r\n      svgRemove(clonedMarker);\r\n    });\r\n\r\n    self._clonedMarkers = {};\r\n  });\r\n}\r\n\r\nPreviewSupport.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'canvas',\r\n  'styles'\r\n];\r\n\r\n\r\n/**\r\n * Returns graphics of an element.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {SVGElement}\r\n */\r\nPreviewSupport.prototype.getGfx = function(element) {\r\n  return this._elementRegistry.getGraphics(element);\r\n};\r\n\r\n/**\r\n * Adds a move preview of a given shape to a given svg group.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {SVGElement} group\r\n * @param {SVGElement} [gfx]\r\n *\r\n * @return {SVGElement} dragger\r\n */\r\nPreviewSupport.prototype.addDragger = function(element, group, gfx) {\r\n  gfx = gfx || this.getGfx(element);\r\n\r\n  var dragger = svgClone(gfx);\r\n  var bbox = gfx.getBoundingClientRect();\r\n\r\n  this._cloneMarkers(getVisual(dragger));\r\n\r\n  svgAttr(dragger, this._styles.cls('djs-dragger', [], {\r\n    x: bbox.top,\r\n    y: bbox.left\r\n  }));\r\n\r\n  svgAppend(group, dragger);\r\n\r\n  return dragger;\r\n};\r\n\r\n/**\r\n * Adds a resize preview of a given shape to a given svg group.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {SVGElement} group\r\n *\r\n * @return {SVGElement} frame\r\n */\r\nPreviewSupport.prototype.addFrame = function(shape, group) {\r\n\r\n  var frame = svgCreate('rect', {\r\n    class: 'djs-resize-overlay',\r\n    width:  shape.width,\r\n    height: shape.height,\r\n    x: shape.x,\r\n    y: shape.y\r\n  });\r\n\r\n  svgAppend(group, frame);\r\n\r\n  return frame;\r\n};\r\n\r\n/**\r\n * Clone all markers referenced by a node and its child nodes.\r\n *\r\n * @param {SVGElement} gfx\r\n */\r\nPreviewSupport.prototype._cloneMarkers = function(gfx) {\r\n  var self = this;\r\n\r\n  if (gfx.childNodes) {\r\n\r\n    // TODO: use forEach once we drop PhantomJS\r\n    for (var i = 0; i < gfx.childNodes.length; i++) {\r\n\r\n      // recursively clone markers of child nodes\r\n      self._cloneMarkers(gfx.childNodes[ i ]);\r\n    }\r\n  }\r\n\r\n  if (!canHaveMarker(gfx)) {\r\n    return;\r\n  }\r\n\r\n  MARKER_TYPES.forEach(function(markerType) {\r\n    if (svgAttr(gfx, markerType)) {\r\n      var marker = getMarker(gfx, markerType, self._canvas.getContainer());\r\n\r\n      self._cloneMarker(gfx, marker, markerType);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Clone marker referenced by an element.\r\n *\r\n * @param {SVGElement} gfx\r\n * @param {SVGElement} marker\r\n * @param {string} markerType\r\n */\r\nPreviewSupport.prototype._cloneMarker = function(gfx, marker, markerType) {\r\n  var markerId = marker.id;\r\n\r\n  var clonedMarker = this._clonedMarkers[ markerId ];\r\n\r\n  if (!clonedMarker) {\r\n    clonedMarker = svgClone(marker);\r\n\r\n    var clonedMarkerId = markerId + '-clone';\r\n\r\n    clonedMarker.id = clonedMarkerId;\r\n\r\n    svgClasses(clonedMarker)\r\n      .add('djs-dragger')\r\n      .add('djs-dragger-marker');\r\n\r\n    this._clonedMarkers[ markerId ] = clonedMarker;\r\n\r\n    var defs = domQuery('defs', this._canvas._svg);\r\n\r\n    if (!defs) {\r\n      defs = svgCreate('defs');\r\n\r\n      svgAppend(this._canvas._svg, defs);\r\n    }\r\n\r\n    svgAppend(defs, clonedMarker);\r\n  }\r\n\r\n  var reference = idToReference(this._clonedMarkers[ markerId ].id);\r\n\r\n  svgAttr(gfx, markerType, reference);\r\n};\r\n\r\n// helpers //////////\r\n\r\n/**\r\n * Get marker of given type referenced by node.\r\n *\r\n * @param {Node} node\r\n * @param {string} markerType\r\n * @param {Node} [parentNode]\r\n *\r\n * @param {Node}\r\n */\r\nfunction getMarker(node, markerType, parentNode) {\r\n  var id = referenceToId(svgAttr(node, markerType));\r\n\r\n  return domQuery('marker#' + id, parentNode || document);\r\n}\r\n\r\n/**\r\n * Get ID of fragment within current document from its functional IRI reference.\r\n * References may use single or double quotes.\r\n *\r\n * @param {string} reference\r\n *\r\n * @returns {string}\r\n */\r\nfunction referenceToId(reference) {\r\n  return reference.match(/url\\(['\"]?#([^'\"]*)['\"]?\\)/)[1];\r\n}\r\n\r\n/**\r\n * Get functional IRI reference for given ID of fragment within current document.\r\n *\r\n * @param {string} id\r\n *\r\n * @returns {string}\r\n */\r\nfunction idToReference(id) {\r\n  return 'url(#' + id + ')';\r\n}\r\n\r\n/**\r\n * Check wether node type can have marker attributes.\r\n *\r\n * @param {Node} node\r\n *\r\n * @returns {boolean}\r\n */\r\nfunction canHaveMarker(node) {\r\n  return NODES_CAN_HAVE_MARKER.indexOf(node.nodeName) !== -1;\r\n}","import PreviewSupport from './PreviewSupport';\n\nexport default {\n  __init__: [ 'previewSupport' ],\n  previewSupport: [ 'type', PreviewSupport ]\n};\n","var MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_ATTACH = 'attach-ok',\n    MARKER_NEW_PARENT = 'new-parent';\n\nimport {\n  assign,\n  filter,\n  find,\n  forEach,\n  isArray,\n  isNumber,\n  map\n} from 'min-dash';\n\nimport { getBBox } from '../../util/Elements';\n\nvar PREFIX = 'create';\n\nvar HIGH_PRIORITY = 2000;\n\n\n/**\n * Create new elements through drag and drop.\n *\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nexport default function Create(\n    canvas,\n    dragging,\n    eventBus,\n    modeling,\n    rules\n) {\n\n  // rules //////////\n\n  /**\n   * Check wether elements can be created.\n   *\n   * @param {Array<djs.model.Base>} elements\n   * @param {djs.model.Base} target\n   * @param {Point} position\n   * @param {djs.model.Base} [source]\n   *\n   * @returns {boolean|null|Object}\n   */\n  function canCreate(elements, target, position, source, hints) {\n    if (!target) {\n      return false;\n    }\n\n    // ignore child elements and external labels\n    elements = filter(elements, function(element) {\n      var labelTarget = element.labelTarget;\n\n      return !element.parent && !(isLabel(element) && elements.indexOf(labelTarget) !== -1);\n    });\n\n    var shape = find(elements, function(element) {\n      return !isConnection(element);\n    });\n\n    var attach = false,\n        connect = false,\n        create = false;\n\n    // (1) attaching single shapes\n    if (isSingleShape(elements)) {\n      attach = rules.allowed('shape.attach', {\n        position: position,\n        shape: shape,\n        target: target\n      });\n    }\n\n    if (!attach) {\n\n      // (2) creating elements\n      if (isSingleShape(elements)) {\n        create = rules.allowed('shape.create', {\n          position: position,\n          shape: shape,\n          source: source,\n          target: target\n        });\n      } else {\n        create = rules.allowed('elements.create', {\n          elements: elements,\n          position: position,\n          target: target\n        });\n      }\n\n    }\n\n    var connectionTarget = hints.connectionTarget;\n\n    // (3) appending single shapes\n    if (create || attach) {\n      if (shape && source) {\n        connect = rules.allowed('connection.create', {\n          source: connectionTarget === source ? shape : source,\n          target: connectionTarget === source ? source : shape,\n          hints: {\n            targetParent: target,\n            targetAttach: attach\n          }\n        });\n      }\n\n      return {\n        attach: attach,\n        connect: connect\n      };\n    }\n\n    // ignore wether or not elements can be created\n    if (create === null || attach === null) {\n      return null;\n    }\n\n    return false;\n  }\n\n  function setMarker(element, marker) {\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  // event handling //////////\n\n  eventBus.on([ 'create.move', 'create.hover' ], function(event) {\n    var context = event.context,\n        elements = context.elements,\n        hover = event.hover,\n        source = context.source,\n        hints = context.hints || {};\n\n    if (!hover) {\n      context.canExecute = false;\n      context.target = null;\n\n      return;\n    }\n\n    ensureConstraints(event);\n\n    var position = {\n      x: event.x,\n      y: event.y\n    };\n\n    var canExecute = context.canExecute = hover && canCreate(elements, hover, position, source, hints);\n\n    if (hover && canExecute !== null) {\n      context.target = hover;\n\n      if (canExecute && canExecute.attach) {\n        setMarker(hover, MARKER_ATTACH);\n      } else {\n        setMarker(hover, canExecute ? MARKER_NEW_PARENT : MARKER_NOT_OK);\n      }\n    }\n  });\n\n  eventBus.on([ 'create.end', 'create.out', 'create.cleanup' ], function(event) {\n    var hover = event.hover;\n\n    if (hover) {\n      setMarker(hover, null);\n    }\n  });\n\n  eventBus.on('create.end', function(event) {\n    var context = event.context,\n        source = context.source,\n        shape = context.shape,\n        elements = context.elements,\n        target = context.target,\n        canExecute = context.canExecute,\n        attach = canExecute && canExecute.attach,\n        connect = canExecute && canExecute.connect,\n        hints = context.hints || {};\n\n    if (canExecute === false || !target) {\n      return false;\n    }\n\n    ensureConstraints(event);\n\n    var position = {\n      x: event.x,\n      y: event.y\n    };\n\n    if (connect) {\n      shape = modeling.appendShape(source, shape, position, target, {\n        attach: attach,\n        connection: connect === true ? {} : connect,\n        connectionTarget: hints.connectionTarget\n      });\n    } else {\n      elements = modeling.createElements(elements, position, target, assign({}, hints, {\n        attach: attach\n      }));\n\n      // update shape\n      shape = find(elements, function(element) {\n        return !isConnection(element);\n      });\n    }\n\n    // update elements and shape\n    assign(context, {\n      elements: elements,\n      shape: shape\n    });\n\n    assign(event, {\n      elements: elements,\n      shape: shape\n    });\n  });\n\n  function cancel() {\n    var context = dragging.context();\n\n    if (context && context.prefix === PREFIX) {\n      dragging.cancel();\n    }\n  }\n\n  // cancel on <elements.changed> that is not result of <drag.end>\n  eventBus.on('create.init', function() {\n    eventBus.on('elements.changed', cancel);\n\n    eventBus.once([ 'create.cancel', 'create.end' ], HIGH_PRIORITY, function() {\n      eventBus.off('elements.changed', cancel);\n    });\n  });\n\n  // API //////////\n\n  this.start = function(event, elements, context) {\n    if (!isArray(elements)) {\n      elements = [ elements ];\n    }\n\n    var shape = find(elements, function(element) {\n      return !isConnection(element);\n    });\n\n    if (!shape) {\n\n      // at least one shape is required\n      return;\n    }\n\n    context = assign({\n      elements: elements,\n      hints: {},\n      shape: shape\n    }, context || {});\n\n    // make sure each element has x and y\n    forEach(elements, function(element) {\n      if (!isNumber(element.x)) {\n        element.x = 0;\n      }\n\n      if (!isNumber(element.y)) {\n        element.y = 0;\n      }\n    });\n\n    var bbox = getBBox(elements);\n\n    // center elements around cursor\n    forEach(elements, function(element) {\n      if (isConnection(element)) {\n        element.waypoints = map(element.waypoints, function(waypoint) {\n          return {\n            x: waypoint.x - bbox.x - bbox.width / 2,\n            y: waypoint.y - bbox.y - bbox.height / 2\n          };\n        });\n      }\n\n      assign(element, {\n        x: element.x - bbox.x - bbox.width / 2,\n        y: element.y - bbox.y - bbox.height / 2\n      });\n    });\n\n    dragging.init(event, PREFIX, {\n      cursor: 'grabbing',\n      autoActivate: true,\n      data: {\n        shape: shape,\n        elements: elements,\n        context: context\n      }\n    });\n  };\n}\n\nCreate.$inject = [\n  'canvas',\n  'dragging',\n  'eventBus',\n  'modeling',\n  'rules'\n];\n\n// helpers //////////\n\nfunction ensureConstraints(event) {\n  var context = event.context,\n      createConstraints = context.createConstraints;\n\n  if (!createConstraints) {\n    return;\n  }\n\n  if (createConstraints.left) {\n    event.x = Math.max(event.x, createConstraints.left);\n  }\n\n  if (createConstraints.right) {\n    event.x = Math.min(event.x, createConstraints.right);\n  }\n\n  if (createConstraints.top) {\n    event.y = Math.max(event.y, createConstraints.top);\n  }\n\n  if (createConstraints.bottom) {\n    event.y = Math.min(event.y, createConstraints.bottom);\n  }\n}\n\nfunction isConnection(element) {\n  return !!element.waypoints;\n}\n\nfunction isSingleShape(elements) {\n  return elements && elements.length === 1 && !isConnection(elements[0]);\n}\n\nfunction isLabel(element) {\n  return !!element.labelTarget;\n}\n","import {\r\n  translate\r\n} from '../../util/SvgTransformUtil';\r\n\r\nimport { getVisual } from '../../util/GraphicsUtil';\r\n\r\nimport {\r\n  append as svgAppend,\r\n  attr as svgAttr,\r\n  create as svgCreate,\r\n  remove as svgRemove\r\n} from 'tiny-svg';\r\n\r\nvar LOW_PRIORITY = 750;\r\n\r\n\r\nexport default function CreatePreview(\r\n    canvas,\r\n    eventBus,\r\n    graphicsFactory,\r\n    previewSupport,\r\n    styles\r\n) {\r\n  function createDragGroup(elements) {\r\n    var dragGroup = svgCreate('g');\r\n\r\n    svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\r\n\r\n    var childrenGfx = svgCreate('g');\r\n\r\n    elements.forEach(function(element) {\r\n\r\n      // create graphics\r\n      var gfx;\r\n\r\n      if (element.hidden) {\r\n        return;\r\n      }\r\n\r\n      if (element.waypoints) {\r\n        gfx = graphicsFactory._createContainer('connection', childrenGfx);\r\n\r\n        graphicsFactory.drawConnection(getVisual(gfx), element);\r\n      } else {\r\n        gfx = graphicsFactory._createContainer('shape', childrenGfx);\r\n\r\n        graphicsFactory.drawShape(getVisual(gfx), element);\r\n\r\n        translate(gfx, element.x, element.y);\r\n      }\r\n\r\n      // add preview\r\n      previewSupport.addDragger(element, dragGroup, gfx);\r\n    });\r\n\r\n    return dragGroup;\r\n  }\r\n\r\n  eventBus.on('create.move', LOW_PRIORITY, function(event) {\r\n\r\n    var hover = event.hover,\r\n        context = event.context,\r\n        elements = context.elements,\r\n        dragGroup = context.dragGroup;\r\n\r\n    // lazily create previews\r\n    if (!dragGroup) {\r\n      dragGroup = context.dragGroup = createDragGroup(elements);\r\n    }\r\n\r\n    var defaultLayer;\r\n\r\n    if (hover) {\r\n      if (!dragGroup.parentNode) {\r\n        defaultLayer = canvas.getDefaultLayer();\r\n\r\n        svgAppend(defaultLayer, dragGroup);\r\n      }\r\n\r\n      translate(dragGroup, event.x, event.y);\r\n    } else {\r\n      svgRemove(dragGroup);\r\n    }\r\n  });\r\n\r\n  eventBus.on('create.cleanup', function(event) {\r\n    var context = event.context,\r\n        dragGroup = context.dragGroup;\r\n\r\n    if (dragGroup) {\r\n      svgRemove(dragGroup);\r\n    }\r\n  });\r\n}\r\n\r\nCreatePreview.$inject = [\r\n  'canvas',\r\n  'eventBus',\r\n  'graphicsFactory',\r\n  'previewSupport',\r\n  'styles'\r\n];\r\n","import DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\nimport RulesModule from '../rules';\nimport SelectionModule from '../selection';\n\nimport Create from './Create';\nimport CreatePreview from './CreatePreview';\n\n\nexport default {\n  __depends__: [\n    DraggingModule,\n    PreviewSupportModule,\n    RulesModule,\n    SelectionModule\n  ],\n  __init__: [\n    'create',\n    'createPreview'\n  ],\n  create: [ 'type', Create ],\n  createPreview: [ 'type', CreatePreview ]\n};\n","import {\n  assign,\n  forEach,\n  isFunction,\n  isDefined,\n  omit,\n  size\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  domify as domify,\n  classes as domClasses,\n  attr as domAttr,\n  remove as domRemove\n} from 'min-dom';\n\nvar DATA_REF = 'data-id';\n\nvar CLOSE_EVENTS = [\n  'contextPad.close',\n  'canvas.viewbox.changing',\n  'commandStack.changed'\n];\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A popup menu that can be used to display a list of actions anywhere in the canvas.\n *\n * @param {Object} config\n * @param {boolean|Object} [config.scale={ min: 1.0, max: 1.5 }]\n * @param {number} [config.scale.min]\n * @param {number} [config.scale.max]\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n *\n * @class\n * @constructor\n */\nexport default function PopupMenu(config, eventBus, canvas) {\n\n  var scale = isDefined(config && config.scale) ? config.scale : {\n    min: 1,\n    max: 1.5\n  };\n\n  this._config = {\n    scale: scale\n  };\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._providers = {};\n  this._current = {};\n}\n\nPopupMenu.$inject = [\n  'config.popupMenu',\n  'eventBus',\n  'canvas'\n];\n\n/**\n * Registers a popup menu provider\n *\n * @param  {string} id\n * @param {number} [priority=1000]\n * @param  {Object} provider\n *\n * @example\n * const popupMenuProvider = {\n *   getPopupMenuEntries: function(element) {\n *     return {\n *       'entry-1': {\n *         label: 'My Entry',\n *         action: function() { alert(\"I have been clicked!\"); }\n *       }\n *     }\n *   }\n * };\n *\n * popupMenu.registerProvider('myMenuID', popupMenuProvider);\n */\nPopupMenu.prototype.registerProvider = function(id, priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('popupMenu.getProviders.' + id, priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n/**\n * Determine if the popup menu has entries.\n *\n * @return {boolean} true if empty\n */\nPopupMenu.prototype.isEmpty = function(element, providerId) {\n  if (!element) {\n    throw new Error('element parameter is missing');\n  }\n\n  if (!providerId) {\n    throw new Error('providerId parameter is missing');\n  }\n\n  var providers = this._getProviders(providerId);\n\n  if (!providers) {\n    return true;\n  }\n\n  var entries = this._getEntries(element, providers),\n      headerEntries = this._getHeaderEntries(element, providers);\n\n  var hasEntries = size(entries) > 0,\n      hasHeaderEntries = headerEntries && size(headerEntries) > 0;\n\n  return !hasEntries && !hasHeaderEntries;\n};\n\n\n/**\n * Create entries and open popup menu at given position\n *\n * @param  {Object} element\n * @param  {string} id provider id\n * @param  {Object} position\n *\n * @return {Object} popup menu instance\n */\nPopupMenu.prototype.open = function(element, id, position) {\n\n  var providers = this._getProviders(id);\n\n  if (!element) {\n    throw new Error('Element is missing');\n  }\n\n  if (!providers || !providers.length) {\n    throw new Error('No registered providers for: ' + id);\n  }\n\n  if (!position) {\n    throw new Error('the position argument is missing');\n  }\n\n  if (this.isOpen()) {\n    this.close();\n  }\n\n  this._emit('open');\n\n  var current = this._current = {\n    className: id,\n    element: element,\n    position: position\n  };\n\n  var entries = this._getEntries(element, providers),\n      headerEntries = this._getHeaderEntries(element, providers);\n\n  current.entries = assign({}, entries, headerEntries);\n\n  current.container = this._createContainer();\n\n  if (size(headerEntries)) {\n    current.container.appendChild(\n      this._createEntries(headerEntries, 'djs-popup-header')\n    );\n  }\n\n  if (size(entries)) {\n    current.container.appendChild(\n      this._createEntries(entries, 'djs-popup-body')\n    );\n  }\n\n  var canvas = this._canvas,\n      parent = canvas.getContainer();\n\n  this._attachContainer(current.container, parent, position.cursor);\n  this._bindAutoClose();\n};\n\n\n/**\n * Removes the popup menu and unbinds the event handlers.\n */\nPopupMenu.prototype.close = function() {\n\n  if (!this.isOpen()) {\n    return;\n  }\n\n  this._emit('close');\n\n  this._unbindAutoClose();\n  domRemove(this._current.container);\n  this._current.container = null;\n};\n\n\n/**\n * Determine if an open popup menu exist.\n *\n * @return {boolean} true if open\n */\nPopupMenu.prototype.isOpen = function() {\n  return !!this._current.container;\n};\n\n\n/**\n * Trigger an action associated with an entry.\n *\n * @param {Object} event\n *\n * @return the result of the action callback, if any\n */\nPopupMenu.prototype.trigger = function(event) {\n\n  // silence other actions\n  event.preventDefault();\n\n  var element = event.delegateTarget || event.target,\n      entryId = domAttr(element, DATA_REF);\n\n  var entry = this._getEntry(entryId);\n\n  if (entry.action) {\n    return entry.action.call(null, event, entry);\n  }\n};\n\nPopupMenu.prototype._getProviders = function(id) {\n\n  var event = this._eventBus.createEvent({\n    type: 'popupMenu.getProviders.' + id,\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\nPopupMenu.prototype._getEntries = function(element, providers) {\n\n  var entries = {};\n\n  forEach(providers, function(provider) {\n\n    // handle legacy method\n    if (!provider.getPopupMenuEntries) {\n      forEach(provider.getEntries(element), function(entry) {\n        var id = entry.id;\n\n        if (!id) {\n          throw new Error('every entry must have the id property set');\n        }\n\n        entries[id] = omit(entry, [ 'id' ]);\n      });\n\n      return;\n    }\n\n    var entriesOrUpdater = provider.getPopupMenuEntries(element);\n\n    if (isFunction(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      forEach(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n};\n\nPopupMenu.prototype._getHeaderEntries = function(element, providers) {\n\n  var entries = {};\n\n  forEach(providers, function(provider) {\n\n    // handle legacy method\n    if (!provider.getPopupMenuHeaderEntries) {\n      if (!provider.getHeaderEntries) {\n        return;\n      }\n\n      forEach(provider.getHeaderEntries(element), function(entry) {\n        var id = entry.id;\n\n        if (!id) {\n          throw new Error('every entry must have the id property set');\n        }\n\n        entries[id] = omit(entry, [ 'id' ]);\n      });\n\n      return;\n    }\n\n    var entriesOrUpdater = provider.getPopupMenuHeaderEntries(element);\n\n    if (isFunction(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      forEach(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n\n\n};\n\n/**\n * Gets an entry instance (either entry or headerEntry) by id.\n *\n * @param  {string} entryId\n *\n * @return {Object} entry instance\n */\nPopupMenu.prototype._getEntry = function(entryId) {\n\n  var entry = this._current.entries[entryId];\n\n  if (!entry) {\n    throw new Error('entry not found');\n  }\n\n  return entry;\n};\n\nPopupMenu.prototype._emit = function(eventName) {\n  this._eventBus.fire('popupMenu.' + eventName);\n};\n\n/**\n * Creates the popup menu container.\n *\n * @return {Object} a DOM container\n */\nPopupMenu.prototype._createContainer = function() {\n  var container = domify('<div class=\"djs-popup\">'),\n      position = this._current.position,\n      className = this._current.className;\n\n  assign(container.style, {\n    position: 'absolute',\n    left: position.x + 'px',\n    top: position.y + 'px',\n    visibility: 'hidden'\n  });\n\n  domClasses(container).add(className);\n\n  return container;\n};\n\n\n/**\n * Attaches the container to the DOM.\n *\n * @param {Object} container\n * @param {Object} parent\n */\nPopupMenu.prototype._attachContainer = function(container, parent, cursor) {\n  var self = this;\n\n  // Event handler\n  domDelegate.bind(container, '.entry' ,'click', function(event) {\n    self.trigger(event);\n  });\n\n  this._updateScale(container);\n\n  // Attach to DOM\n  parent.appendChild(container);\n\n  if (cursor) {\n    this._assureIsInbounds(container, cursor);\n  }\n};\n\n\n/**\n * Updates popup style.transform with respect to the config and zoom level.\n *\n * @method _updateScale\n *\n * @param {Object} container\n */\nPopupMenu.prototype._updateScale = function(container) {\n  var zoom = this._canvas.zoom();\n\n  var scaleConfig = this._config.scale,\n      minScale,\n      maxScale,\n      scale = zoom;\n\n  if (scaleConfig !== true) {\n\n    if (scaleConfig === false) {\n      minScale = 1;\n      maxScale = 1;\n    } else {\n      minScale = scaleConfig.min;\n      maxScale = scaleConfig.max;\n    }\n\n    if (isDefined(minScale) && zoom < minScale) {\n      scale = minScale;\n    }\n\n    if (isDefined(maxScale) && zoom > maxScale) {\n      scale = maxScale;\n    }\n\n  }\n\n  setTransform(container, 'scale(' + scale + ')');\n};\n\n\n/**\n * Make sure that the menu is always fully shown\n *\n * @method function\n *\n * @param  {Object} container\n * @param  {Position} cursor {x, y}\n */\nPopupMenu.prototype._assureIsInbounds = function(container, cursor) {\n  var canvas = this._canvas,\n      clientRect = canvas._container.getBoundingClientRect();\n\n  var containerX = container.offsetLeft,\n      containerY = container.offsetTop,\n      containerWidth = container.scrollWidth,\n      containerHeight = container.scrollHeight,\n      overAxis = {},\n      left, top;\n\n  var cursorPosition = {\n    x: cursor.x - clientRect.left,\n    y: cursor.y - clientRect.top\n  };\n\n  if (containerX + containerWidth > clientRect.width) {\n    overAxis.x = true;\n  }\n\n  if (containerY + containerHeight > clientRect.height) {\n    overAxis.y = true;\n  }\n\n  if (overAxis.x && overAxis.y) {\n    left = cursorPosition.x - containerWidth + 'px';\n    top = cursorPosition.y - containerHeight + 'px';\n  } else if (overAxis.x) {\n    left = cursorPosition.x - containerWidth + 'px';\n    top = cursorPosition.y + 'px';\n  } else if (overAxis.y && cursorPosition.y < containerHeight) {\n    left = cursorPosition.x + 'px';\n    top = 10 + 'px';\n  } else if (overAxis.y) {\n    left = cursorPosition.x + 'px';\n    top = cursorPosition.y - containerHeight + 'px';\n  }\n\n  assign(container.style, { left: left, top: top }, { visibility: 'visible', 'z-index': 1000 });\n};\n\n\n/**\n * Creates a list of entries and returns them as a DOM container.\n *\n * @param {Array<Object>} entries an array of entry objects\n * @param {string} className the class name of the entry container\n *\n * @return {Object} a DOM container\n */\nPopupMenu.prototype._createEntries = function(entries, className) {\n\n  var entriesContainer = domify('<div>'),\n      self = this;\n\n  domClasses(entriesContainer).add(className);\n\n  forEach(entries, function(entry, id) {\n    var entryContainer = self._createEntry(entry, id);\n    entriesContainer.appendChild(entryContainer);\n  });\n\n  return entriesContainer;\n};\n\n\n/**\n * Creates a single entry and returns it as a DOM container.\n *\n * @param  {Object} entry\n *\n * @return {Object} a DOM container\n */\nPopupMenu.prototype._createEntry = function(entry, id) {\n\n  var entryContainer = domify('<div>'),\n      entryClasses = domClasses(entryContainer);\n\n  entryClasses.add('entry');\n\n  if (entry.className) {\n    entry.className.split(' ').forEach(function(className) {\n      entryClasses.add(className);\n    });\n  }\n\n  domAttr(entryContainer, DATA_REF, id);\n\n  if (entry.label) {\n    var label = domify('<span>');\n    label.textContent = entry.label;\n    entryContainer.appendChild(label);\n  }\n\n  if (entry.imageUrl) {\n    entryContainer.appendChild(domify('<img src=\"' + entry.imageUrl + '\" />'));\n  }\n\n  if (entry.active === true) {\n    entryClasses.add('active');\n  }\n\n  if (entry.disabled === true) {\n    entryClasses.add('disabled');\n  }\n\n  if (entry.title) {\n    entryContainer.title = entry.title;\n  }\n\n  return entryContainer;\n};\n\n\n/**\n * Set up listener to close popup automatically on certain events.\n */\nPopupMenu.prototype._bindAutoClose = function() {\n  this._eventBus.once(CLOSE_EVENTS, this.close, this);\n};\n\n\n/**\n * Remove the auto-closing listener.\n */\nPopupMenu.prototype._unbindAutoClose = function() {\n  this._eventBus.off(CLOSE_EVENTS, this.close, this);\n};\n\n\n\n// helpers /////////////////////////////\n\nfunction setTransform(element, transform) {\n  element.style['transform-origin'] = 'top left';\n\n  [ '', '-ms-', '-webkit-' ].forEach(function(prefix) {\n    element.style[prefix + 'transform'] = transform;\n  });\n}","import PopupMenu from './PopupMenu';\n\nexport default {\n  __init__: [ 'popupMenu' ],\n  popupMenu: [ 'type', PopupMenu ]\n};\n","import {\n  assign\n} from 'min-dash';\n\nvar round = Math.round;\n\n/**\n * Service that allow replacing of elements.\n */\nexport default function Replace(modeling) {\n\n  this._modeling = modeling;\n}\n\nReplace.$inject = [ 'modeling' ];\n\n/**\n * @param {Element} oldElement - Element to be replaced\n * @param {Object}  newElementData - Containing information about the new element,\n *                                   for example the new bounds and type.\n * @param {Object}  options - Custom options that will be attached to the context. It can be used to inject data\n *                            that is needed in the command chain. For example it could be used in\n *                            eventbus.on('commandStack.shape.replace.postExecute') to change shape attributes after\n *                            shape creation.\n */\nReplace.prototype.replaceElement = function(oldElement, newElementData, options) {\n\n  if (oldElement.waypoints) {\n\n    // TODO(nikku): we do not replace connections, yet\n    return null;\n  }\n\n  var modeling = this._modeling;\n\n  var width = newElementData.width || oldElement.width,\n      height = newElementData.height || oldElement.height,\n      x = newElementData.x || oldElement.x,\n      y = newElementData.y || oldElement.y,\n      centerX = round(x + width / 2),\n      centerY = round(y + height / 2);\n\n  // modeling API requires center coordinates,\n  // account for that when handling shape bounds\n\n  return modeling.replaceShape(\n    oldElement,\n    assign(\n      {},\n      newElementData,\n      {\n        x: centerX,\n        y: centerY,\n        width: width,\n        height: height\n      }\n    ),\n    options\n  );\n};\n","import Replace from './Replace';\n\nexport default {\n  __init__: [ 'replace' ],\n  replace: [ 'type', Replace ]\n};","/**\n * This module takes care of replacing DRD elements\n */\nexport default function DrdReplace(drdFactory, replace, selection, modeling) {\n\n  /**\n   * Prepares a new business object for the replacement element\n   * and triggers the replace operation.\n   *\n   * @param  {djs.model.Base} element\n   * @param  {Object} target\n   * @param  {Object} [hints]\n   *\n   * @return {djs.model.Base} the newly created element\n   */\n  function replaceElement(element, target, hints) {\n\n    hints = hints || {};\n\n    var type = target.type,\n        oldBusinessObject = element.businessObject;\n\n    var newBusinessObject = drdFactory.create(type);\n\n    var newElement = {\n      type: type,\n      businessObject: newBusinessObject\n    };\n\n    newElement.width = element.width;\n    newElement.height = element.height;\n\n    newBusinessObject.name = oldBusinessObject.name;\n\n    if (target.table) {\n      var table = drdFactory.create('dmn:DecisionTable');\n      newBusinessObject.decisionLogic = table;\n      table.$parent = newBusinessObject;\n\n      var output = drdFactory.create('dmn:OutputClause');\n      output.typeRef = 'string';\n      output.$parent = table;\n      table.output = [ output ];\n\n      var input = drdFactory.create('dmn:InputClause');\n      input.$parent = table;\n\n      var inputExpression = drdFactory.create('dmn:LiteralExpression', {\n        typeRef: 'string'\n      });\n\n      input.inputExpression = inputExpression;\n      inputExpression.$parent = input;\n\n      table.input = [ input ];\n    }\n\n    if (target.expression) {\n      newBusinessObject.decisionLogic = drdFactory.create('dmn:LiteralExpression');\n      newBusinessObject.variable = drdFactory.create('dmn:InformationItem');\n    }\n\n    return replace.replaceElement(element, newElement, hints);\n  }\n\n  this.replaceElement = replaceElement;\n}\n\nDrdReplace.$inject = [\n  'drdFactory',\n  'replace',\n  'selection',\n  'modeling'\n];\n","import DiagramReplace from 'diagram-js/lib/features/replace';\nimport DiagramSelection from 'diagram-js/lib/features/selection';\n\nimport DrdReplace from './DrdReplace';\n\nexport default {\n  __depends__: [\n    DiagramReplace,\n    DiagramSelection\n  ],\n  drdReplace: [ 'type', DrdReplace ]\n};\n","export default {\n  DECISION: [\n    {\n      label: 'Empty',\n      actionName: 'replace-with-empty-decision',\n      className: 'dmn-icon-clear',\n      target: {\n        type: 'dmn:Decision',\n        table: false,\n        expression: false\n      }\n    },\n    {\n      label: 'Decision Table',\n      actionName: 'replace-with-decision-table',\n      className: 'dmn-icon-decision-table',\n      target: {\n        type: 'dmn:Decision',\n        table: true,\n        expression: false\n      }\n    },\n    {\n      label: 'Literal Expression',\n      actionName: 'replace-with-literal-expression',\n      className: 'dmn-icon-literal-expression',\n      target: {\n        type: 'dmn:Decision',\n        table: false,\n        expression: true\n      }\n    }\n  ]\n};\n","import {\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport {\n  forEach,\n  filter\n} from 'min-dash';\n\nimport replaceOptions from '../replace/ReplaceOptions';\n\n\n/**\n * This module is an element agnostic replace menu provider for the popup menu.\n */\nexport default function ReplaceMenuProvider(\n    popupMenu, modeling, moddle,\n    drdReplace, rules, translate) {\n\n  this._popupMenu = popupMenu;\n  this._modeling = modeling;\n  this._moddle = moddle;\n  this._drdReplace = drdReplace;\n  this._rules = rules;\n  this._translate = translate;\n\n  this.register();\n}\n\nReplaceMenuProvider.$inject = [\n  'popupMenu',\n  'modeling',\n  'moddle',\n  'drdReplace',\n  'rules',\n  'translate'\n];\n\n\n/**\n * Register replace menu provider in the popup menu\n */\nReplaceMenuProvider.prototype.register = function() {\n  this._popupMenu.registerProvider('dmn-replace', this);\n};\n\n\n/**\n * Get all entries from replaceOptions for the given element.\n *\n * @param {djs.model.Base} element\n *\n * @return {Array<Object>} a list of menu entry items\n */\nReplaceMenuProvider.prototype.getEntries = function(element) {\n\n  var businessObject = element.businessObject;\n\n  var rules = this._rules;\n\n  if (!rules.allowed('shape.replace', { element: element })) {\n    return [];\n  }\n\n  if (is(businessObject, 'dmn:Decision')) {\n\n    var options = filter(replaceOptions.DECISION, function(option) {\n      var notEmpty = (\n        option.actionName === 'replace-with-empty-decision' &&\n        businessObject.decisionLogic\n      );\n      var notTable = (\n        option.actionName === 'replace-with-decision-table' &&\n        !is(businessObject.decisionLogic, 'dmn:DecisionTable')\n      );\n      var notExp = (\n        option.actionName === 'replace-with-literal-expression' &&\n        !is(businessObject.decisionLogic, 'dmn:LiteralExpression')\n      );\n\n      return notEmpty || notTable || notExp;\n    });\n\n    return this._createEntries(element, options);\n  }\n\n  return [];\n};\n\n\n/**\n * Creates an array of menu entry objects for a given element.\n *\n * @param  {djs.model.Base} element\n * @param  {Object} replaceOptions\n *\n * @return {Array<Object>} a list of menu items\n */\nReplaceMenuProvider.prototype._createEntries = function(element, replaceOptions) {\n  var menuEntries = [];\n\n  var self = this;\n\n  forEach(replaceOptions, function(definition) {\n    var entry = self._createMenuEntry(definition, element);\n\n    menuEntries.push(entry);\n  });\n\n  return menuEntries;\n};\n\n\n/**\n * Creates and returns a single menu entry item.\n *\n * @param  {Object} definition a single replace options definition object\n * @param  {djs.model.Base} element\n * @param  {Function} [action] an action callback function which gets called when\n *                             the menu entry is being triggered.\n *\n * @return {Object} menu entry item\n */\nReplaceMenuProvider.prototype._createMenuEntry = function(definition, element, action) {\n  var replaceElement = this._drdReplace.replaceElement;\n  var translate = this._translate;\n\n  var replaceAction = function() {\n    return replaceElement(element, definition.target);\n  };\n\n  action = action || replaceAction;\n\n  var menuEntry = {\n    label: translate(definition.label),\n    className: definition.className,\n    id: definition.actionName,\n    action: action\n  };\n\n  return menuEntry;\n};\n\nReplaceMenuProvider.prototype.getHeaderEntries = function(element) {\n  return [];\n};\n","import DiagramTranslate from 'diagram-js/lib/i18n/translate';\nimport DiagramPopupMenu from 'diagram-js/lib/features/popup-menu';\nimport Replace from '../replace';\n\nimport ReplaceMenuProvider from './ReplaceMenuProvider';\n\nexport default {\n  __depends__: [\n    DiagramTranslate,\n    DiagramPopupMenu,\n    Replace\n  ],\n  __init__: [ 'replaceMenuProvider' ],\n  replaceMenuProvider: [ 'type', ReplaceMenuProvider ]\n};\n","import {\n  assign,\n  isArray\n} from 'min-dash';\n\nimport {\n  is,\n  isAny\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport {\n  hasPrimaryModifier\n} from 'diagram-js/lib/util/Mouse';\n\n\n/**\n* A provider for DMN elements context pad\n*/\nexport default function ContextPadProvider(\n    eventBus, contextPad, modeling,\n    elementFactory, connect, create,\n    rules, popupMenu, canvas,\n    translate, config, injector) {\n\n  config = config || {};\n\n  contextPad.registerProvider(this);\n\n  this._contextPad = contextPad;\n\n  this._modeling = modeling;\n\n  this._elementFactory = elementFactory;\n  this._connect = connect;\n  this._create = create;\n  this._rules = rules;\n  this._popupMenu = popupMenu;\n  this._canvas = canvas;\n  this._translate = translate;\n\n  if (config.autoPlace !== false) {\n    this._autoPlace = injector.get('autoPlace', false);\n  }\n\n\n  eventBus.on('create.end', 250, function(event) {\n    var shape = event.context.shape;\n\n    if (!hasPrimaryModifier(event)) {\n      return;\n    }\n\n    var entries = contextPad.getEntries(shape);\n\n    if (entries.replace) {\n      entries.replace.action.click(event, shape);\n    }\n  });\n}\n\nContextPadProvider.$inject = [\n  'eventBus',\n  'contextPad',\n  'modeling',\n  'elementFactory',\n  'connect',\n  'create',\n  'rules',\n  'popupMenu',\n  'canvas',\n  'translate',\n  'config.contextPad',\n  'injector'\n];\n\n\nContextPadProvider.prototype.getContextPadEntries = function(element) {\n\n  var modeling = this._modeling,\n\n      elementFactory = this._elementFactory,\n      connect = this._connect,\n      create = this._create,\n      popupMenu = this._popupMenu,\n      canvas = this._canvas,\n      contextPad = this._contextPad,\n      rules = this._rules,\n      translate = this._translate,\n      autoPlace = this._autoPlace;\n\n  var actions = {};\n\n  if (element.type === 'label') {\n    return actions;\n  }\n\n  var businessObject = element.businessObject;\n\n  function startConnect(event, element, autoActivate) {\n    connect.start(event, element, autoActivate);\n  }\n\n  function removeElement(e) {\n    modeling.removeElements([ element ]);\n  }\n\n  function getReplaceMenuPosition(element) {\n\n    var Y_OFFSET = 5;\n\n    var diagramContainer = canvas.getContainer(),\n        pad = contextPad.getPad(element).html;\n\n    var diagramRect = diagramContainer.getBoundingClientRect(),\n        padRect = pad.getBoundingClientRect();\n\n    var top = padRect.top - diagramRect.top;\n    var left = padRect.left - diagramRect.left;\n\n    var pos = {\n      x: left,\n      y: top + padRect.height + Y_OFFSET\n    };\n\n    return pos;\n  }\n\n  /**\n  * Create an append action\n  *\n  * @param {string} type\n  * @param {string} className\n  * @param {string} [title]\n  * @param {Object} [options]\n  *\n  * @return {Object} descriptor\n  */\n  function appendAction(type, className, title, options) {\n\n    if (typeof title !== 'string') {\n      options = title;\n      title = translate('Append {type}', { type: type.replace(/^dmn:/, '') });\n    }\n\n    function appendStart(event, element) {\n\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      create.start(event, shape, {\n        source: element,\n        hints: {\n          connectionTarget: element\n        }\n      });\n    }\n\n    var append = autoPlace ? function(event, element) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      autoPlace.append(element, shape, {\n        connectionTarget: element\n      });\n    } : appendStart;\n\n    return {\n      group: 'model',\n      className: className,\n      title: title,\n      action: {\n        dragstart: appendStart,\n        click: append\n      }\n    };\n  }\n\n  if (is(businessObject, 'dmn:Decision')) {\n    assign(actions, {\n      'append.decision': appendAction('dmn:Decision', 'dmn-icon-decision')\n    });\n  }\n\n  if (\n    isAny(businessObject, [\n      'dmn:BusinessKnowledgeModel',\n      'dmn:Decision',\n      'dmn:KnowledgeSource'\n    ])\n  ) {\n    assign(actions, {\n      'append.knowledge-source': appendAction(\n        'dmn:KnowledgeSource',\n        'dmn-icon-knowledge-source'\n      )\n    });\n  }\n\n  if (isAny(businessObject, [\n    'dmn:BusinessKnowledgeModel',\n    'dmn:Decision'\n  ])) {\n    assign(actions, {\n      'append.business-knowledge-model': appendAction(\n        'dmn:BusinessKnowledgeModel',\n        'dmn-icon-business-knowledge'\n      )\n    });\n  }\n\n  if (isAny(businessObject, [ 'dmn:Decision', 'dmn:KnowledgeSource' ])) {\n    assign(actions, {\n      'append.input-data': appendAction('dmn:InputData', 'dmn-icon-input-data')\n    });\n  }\n\n  if (is(businessObject, 'dmn:DRGElement')) {\n\n    assign(actions, {\n      'append.text-annotation': appendAction(\n        'dmn:TextAnnotation',\n        'dmn-icon-text-annotation'\n      ),\n\n      'connect': {\n        group: 'connect',\n        className: 'dmn-icon-connection-multi',\n        title: translate(\n          'Connect using Information/Knowledge' +\n          '/Authority Requirement or Association'\n        ),\n        action: {\n          click: startConnect,\n          dragstart: startConnect\n        }\n      }\n    });\n  }\n\n  if (!popupMenu.isEmpty(element, 'dmn-replace')) {\n\n    // Replace menu entry\n    assign(actions, {\n      'replace': {\n        group: 'edit',\n        className: 'dmn-icon-screw-wrench',\n        title: translate('Change type'),\n        action: {\n          click: function(event, element) {\n\n            var position = assign(getReplaceMenuPosition(element), {\n              cursor: { x: event.x, y: event.y }\n            });\n\n            popupMenu.open(element, 'dmn-replace', position);\n          }\n        }\n      }\n    });\n  }\n\n\n  // delete element entry, only show if allowed by rules\n  var deleteAllowed = rules.allowed('elements.delete', { elements: [ element ] });\n\n  if (isArray(deleteAllowed)) {\n\n    // was the element returned as a deletion candidate?\n    deleteAllowed = deleteAllowed[0] === element;\n  }\n\n  if (deleteAllowed) {\n    assign(actions, {\n      'delete': {\n        group: 'edit',\n        className: 'dmn-icon-trash',\n        title: translate('Remove'),\n        action: {\n          click: removeElement\n        }\n      }\n    });\n  }\n\n  return actions;\n};\n","import DiagramTranslate from 'diagram-js/lib/i18n/translate';\nimport DiagramContextPad from 'diagram-js/lib/features/context-pad';\nimport DiagramSelection from 'diagram-js/lib/features/selection';\nimport DiagramConnect from 'diagram-js/lib/features/connect';\nimport DiagramCreate from 'diagram-js/lib/features/create';\nimport PopupMenu from '../popup-menu';\n\nimport ContextPadProvider from './ContextPadProvider';\n\nexport default {\n  __depends__: [\n    DiagramTranslate,\n    DiagramContextPad,\n    DiagramSelection,\n    DiagramConnect,\n    DiagramCreate,\n    PopupMenu\n  ],\n  __init__: [ 'contextPadProvider' ],\n  contextPadProvider: [ 'type', ContextPadProvider ]\n};\n","import {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove,\n  clear as svgClear\n} from 'tiny-svg';\n\nimport {\n  isObject\n} from 'min-dash';\n\nimport {\n  getElementLineIntersection,\n  getMid\n} from '../../layout/LayoutUtil';\n\n\nvar MARKER_CONNECTION_PREVIEW = 'djs-connection-preview';\n\n/**\n * Draws connection preview. Optionally, this can use layouter and connection docking to draw\n * better looking previews.\n *\n * @param {didi.Injector} injector\n * @param {Canvas} canvas\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementFactory} elementFactory\n */\nexport default function ConnectionPreview(\n    injector,\n    canvas,\n    graphicsFactory,\n    elementFactory\n) {\n  this._canvas = canvas;\n  this._graphicsFactory = graphicsFactory;\n  this._elementFactory = elementFactory;\n\n  // optional components\n  this._connectionDocking = injector.get('connectionDocking', false);\n  this._layouter = injector.get('layouter', false);\n}\n\nConnectionPreview.$inject = [\n  'injector',\n  'canvas',\n  'graphicsFactory',\n  'elementFactory'\n];\n\n/**\n * Draw connection preview.\n *\n * Provide at least one of <source, connectionStart> and <target, connectionEnd> to create a preview.\n * In the clean up stage, call `connectionPreview#cleanUp` with the context to remove preview.\n *\n * @param {Object} context\n * @param {Object|boolean} canConnect\n * @param {Object} hints\n * @param {djs.model.shape} [hints.source] source element\n * @param {djs.model.shape} [hints.target] target element\n * @param {Point} [hints.connectionStart] connection preview start\n * @param {Point} [hints.connectionEnd] connection preview end\n * @param {Array<Point>} [hints.waypoints] provided waypoints for preview\n * @param {boolean} [hints.noLayout] true if preview should not be laid out\n * @param {boolean} [hints.noCropping] true if preview should not be cropped\n * @param {boolean} [hints.noNoop] true if simple connection should not be drawn\n */\nConnectionPreview.prototype.drawPreview = function(context, canConnect, hints) {\n\n  hints = hints || {};\n\n  var connectionPreviewGfx = context.connectionPreviewGfx,\n      getConnection = context.getConnection,\n      source = hints.source,\n      target = hints.target,\n      waypoints = hints.waypoints,\n      connectionStart = hints.connectionStart,\n      connectionEnd = hints.connectionEnd,\n      noLayout = hints.noLayout,\n      noCropping = hints.noCropping,\n      noNoop = hints.noNoop,\n      connection;\n\n  var self = this;\n\n  if (!connectionPreviewGfx) {\n    connectionPreviewGfx = context.connectionPreviewGfx = this.createConnectionPreviewGfx();\n  }\n\n  svgClear(connectionPreviewGfx);\n\n  if (!getConnection) {\n    getConnection = context.getConnection = cacheReturnValues(function(canConnect, source, target) {\n      return self.getConnection(canConnect, source, target);\n    });\n  }\n\n  if (canConnect) {\n    connection = getConnection(canConnect, source, target);\n  }\n\n  if (!connection) {\n    !noNoop && this.drawNoopPreview(connectionPreviewGfx, hints);\n    return;\n  }\n\n  connection.waypoints = waypoints || [];\n\n  // optional layout\n  if (this._layouter && !noLayout) {\n    connection.waypoints = this._layouter.layoutConnection(connection, {\n      source: source,\n      target: target,\n      connectionStart: connectionStart,\n      connectionEnd: connectionEnd,\n      waypoints: hints.waypoints || connection.waypoints\n    });\n  }\n\n  // fallback if no waypoints were provided nor created with layouter\n  if (!connection.waypoints || !connection.waypoints.length) {\n    connection.waypoints = [\n      source ? getMid(source) : connectionStart,\n      target ? getMid(target) : connectionEnd\n    ];\n  }\n\n  // optional cropping\n  if (this._connectionDocking && (source || target) && !noCropping) {\n    connection.waypoints = this._connectionDocking.getCroppedWaypoints(connection, source, target);\n  }\n\n  this._graphicsFactory.drawConnection(connectionPreviewGfx, connection);\n};\n\n/**\n * Draw simple connection between source and target or provided points.\n *\n * @param {SVGElement} connectionPreviewGfx container for the connection\n * @param {Object} hints\n * @param {djs.model.shape} [hints.source] source element\n * @param {djs.model.shape} [hints.target] target element\n * @param {Point} [hints.connectionStart] required if source is not provided\n * @param {Point} [hints.connectionEnd] required if target is not provided\n */\nConnectionPreview.prototype.drawNoopPreview = function(connectionPreviewGfx, hints) {\n  var source = hints.source,\n      target = hints.target,\n      start = hints.connectionStart || getMid(source),\n      end = hints.connectionEnd || getMid(target);\n\n  var waypoints = this.cropWaypoints(start, end, source, target);\n\n  var connection = this.createNoopConnection(waypoints[0], waypoints[1]);\n\n  svgAppend(connectionPreviewGfx, connection);\n};\n\n/**\n * Return cropped waypoints.\n *\n * @param {Point} start\n * @param {Point} end\n * @param {djs.model.shape} source\n * @param {djs.model.shape} target\n *\n * @returns {Array}\n */\nConnectionPreview.prototype.cropWaypoints = function(start, end, source, target) {\n  var graphicsFactory = this._graphicsFactory,\n      sourcePath = source && graphicsFactory.getShapePath(source),\n      targetPath = target && graphicsFactory.getShapePath(target),\n      connectionPath = graphicsFactory.getConnectionPath({ waypoints: [ start, end ] });\n\n  start = (source && getElementLineIntersection(sourcePath, connectionPath, true)) || start;\n  end = (target && getElementLineIntersection(targetPath, connectionPath, false)) || end;\n\n  return [ start, end ];\n};\n\n/**\n * Remove connection preview container if it exists.\n *\n * @param {Object} [context]\n * @param {SVGElement} [context.connectionPreviewGfx] preview container\n */\nConnectionPreview.prototype.cleanUp = function(context) {\n  if (context && context.connectionPreviewGfx) {\n    svgRemove(context.connectionPreviewGfx);\n  }\n};\n\n/**\n * Get connection that connects source and target.\n *\n * @param {Object|boolean} canConnect\n *\n * @returns {djs.model.connection}\n */\nConnectionPreview.prototype.getConnection = function(canConnect) {\n  var attrs = ensureConnectionAttrs(canConnect);\n\n  return this._elementFactory.createConnection(attrs);\n};\n\n\n/**\n * Add and return preview graphics.\n *\n * @returns {SVGElement}\n */\nConnectionPreview.prototype.createConnectionPreviewGfx = function() {\n  var gfx = svgCreate('g');\n\n  svgAttr(gfx, {\n    pointerEvents: 'none'\n  });\n\n  svgClasses(gfx).add(MARKER_CONNECTION_PREVIEW);\n\n  svgAppend(this._canvas.getDefaultLayer(), gfx);\n\n  return gfx;\n};\n\n/**\n * Create and return simple connection.\n *\n * @param {Point} start\n * @param {Point} end\n *\n * @returns {SVGElement}\n */\nConnectionPreview.prototype.createNoopConnection = function(start, end) {\n  var connection = svgCreate('polyline');\n\n  svgAttr(connection, {\n    'stroke': '#333',\n    'strokeDasharray': [ 1 ],\n    'strokeWidth': 2,\n    'pointer-events': 'none'\n  });\n\n  svgAttr(connection, { 'points': [ start.x, start.y, end.x, end.y ] });\n\n  return connection;\n};\n\n// helpers //////////\n\n/**\n * Returns function that returns cached return values referenced by stringified first argument.\n *\n * @param {Function} fn\n *\n * @return {Function}\n */\nfunction cacheReturnValues(fn) {\n  var returnValues = {};\n\n  /**\n   * Return cached return value referenced by stringified first argument.\n   *\n   * @returns {*}\n   */\n  return function(firstArgument) {\n    var key = JSON.stringify(firstArgument);\n\n    var returnValue = returnValues[key];\n\n    if (!returnValue) {\n      returnValue = returnValues[key] = fn.apply(null, arguments);\n    }\n\n    return returnValue;\n  };\n}\n\n/**\n * Ensure connection attributes is object.\n *\n * @param {Object|boolean} canConnect\n *\n * @returns {Object}\n */\nfunction ensureConnectionAttrs(canConnect) {\n  if (isObject(canConnect)) {\n    return canConnect;\n  } else {\n    return {};\n  }\n}\n","import ConnectionPreview from './ConnectionPreview';\n\nexport default {\n  __init__: [ 'connectionPreview' ],\n  connectionPreview: [ 'type', ConnectionPreview ]\n};\n","import {\n  debounce\n} from 'min-dash';\n\nvar DEBOUNCE_DELAY = 300;\n\nimport {\n  query as domQuery\n} from 'min-dom';\n\n\nexport default function DefinitionIdEdit(eventBus, modeling, canvas) {\n  this._eventBus = eventBus;\n  this._modeling = modeling;\n  this._canvas = canvas;\n\n  eventBus.on('definitionIdView.create', function(event) {\n    var container = event.html,\n        nameElement = domQuery('.dmn-definitions-name', container),\n        idElement = domQuery('.dmn-definitions-id', container);\n\n    this._setup(nameElement, 'name');\n    this._setup(idElement, 'id');\n  }, this);\n}\n\nDefinitionIdEdit.$inject = [\n  'eventBus',\n  'modeling',\n  'canvas'\n];\n\n\nDefinitionIdEdit.prototype.update = function(type, newValue) {\n  var newProperties = {};\n  newProperties[type] = newValue;\n\n  this._modeling.updateProperties(this._canvas.getRootElement(), newProperties);\n};\n\nDefinitionIdEdit.prototype._setup = function(node, type) {\n  var self = this;\n\n  node.setAttribute('contenteditable', true);\n\n  node.addEventListener('input', debounce(function(evt) {\n    var value = evt.target.value || evt.target.textContent;\n\n    self.update(type, value.trim());\n  }, DEBOUNCE_DELAY));\n\n  node.addEventListener('keydown', function(evt) {\n    if (evt.keyCode === 13) {\n      node.blur();\n      window.getSelection().removeAllRanges();\n    }\n  });\n\n};\n","import DefinitionPropertiesEdit from './DefinitionPropertiesEdit';\nimport PaletteAdapter from './PaletteAdapter';\n\nexport default {\n  __init__: [\n    'definitionPropertiesEdit',\n    'definitionPropertiesPaletteAdapter'\n  ],\n  definitionPropertiesEdit: [ 'type', DefinitionPropertiesEdit ],\n  definitionPropertiesPaletteAdapter: [ 'type', PaletteAdapter ]\n};\n","import {\n  sortBy,\n  forEach,\n  filter\n} from 'min-dash';\n\nvar AXIS_DIMENSIONS = {\n  horizontal: [ 'x', 'width' ],\n  vertical: [ 'y', 'height' ]\n};\n\nvar THRESHOLD = 5;\n\n\n/**\n * Groups and filters elements and then trigger even distribution.\n */\nexport default function DistributeElements(modeling) {\n  this._modeling = modeling;\n\n  this._filters = [];\n\n  // register filter for filtering big elements\n  this.registerFilter(function(elements, axis, dimension) {\n    var elementsSize = 0,\n        numOfShapes = 0,\n        avgDimension;\n\n    forEach(elements, function(element) {\n      if (element.waypoints || element.labelTarget) {\n        return;\n      }\n\n      elementsSize += element[dimension];\n\n      numOfShapes += 1;\n    });\n\n    avgDimension = Math.round(elementsSize / numOfShapes);\n\n    return filter(elements, function(element) {\n      return element[dimension] < (avgDimension + 50);\n    });\n  });\n\n}\n\nDistributeElements.$inject = [ 'modeling' ];\n\n\n/**\n * Registers filter functions that allow external parties to filter\n * out certain elements.\n *\n * @param  {Function} filterFn\n */\nDistributeElements.prototype.registerFilter = function(filterFn) {\n  if (typeof filterFn !== 'function') {\n    throw new Error('the filter has to be a function');\n  }\n\n  this._filters.push(filterFn);\n};\n\n/**\n * Distributes the elements with a given orientation\n *\n * @param  {Array} elements    [description]\n * @param  {string} orientation [description]\n */\nDistributeElements.prototype.trigger = function(elements, orientation) {\n  var modeling = this._modeling;\n\n  var groups,\n      distributableElements;\n\n  if (elements.length < 3) {\n    return;\n  }\n\n  this._setOrientation(orientation);\n\n  distributableElements = this._filterElements(elements);\n\n  groups = this._createGroups(distributableElements);\n\n  // nothing to distribute\n  if (groups.length <= 2) {\n    return;\n  }\n\n  modeling.distributeElements(groups, this._axis, this._dimension);\n\n  return groups;\n};\n\n/**\n * Filters the elements with provided filters by external parties\n *\n * @param  {Array[Elements]} elements\n *\n * @return {Array[Elements]}\n */\nDistributeElements.prototype._filterElements = function(elements) {\n  var filters = this._filters,\n      axis = this._axis,\n      dimension = this._dimension,\n      distributableElements = [].concat(elements);\n\n  if (!filters.length) {\n    return elements;\n  }\n\n  forEach(filters, function(filterFn) {\n    distributableElements = filterFn(distributableElements, axis, dimension);\n  });\n\n  return distributableElements;\n};\n\n\n/**\n * Create range (min, max) groups. Also tries to group elements\n * together that share the same range.\n *\n * @example\n * \tvar distributableElements = [\n * \t\t{\n * \t\t\trange: {\n * \t\t\t\tmin: 100,\n * \t\t\t\tmax: 200\n * \t\t\t},\n * \t\t\telements: [ { id: 'shape1', .. }]\n * \t\t}\n * \t]\n *\n * @param  {Array} elements\n *\n * @return {Array[Objects]}\n */\nDistributeElements.prototype._createGroups = function(elements) {\n  var rangeGroups = [],\n      self = this,\n      axis = this._axis,\n      dimension = this._dimension;\n\n  if (!axis) {\n    throw new Error('must have a defined \"axis\" and \"dimension\"');\n  }\n\n  // sort by 'left->right' or 'top->bottom'\n  var sortedElements = sortBy(elements, axis);\n\n  forEach(sortedElements, function(element, idx) {\n    var elementRange = self._findRange(element, axis, dimension),\n        range;\n\n    var previous = rangeGroups[rangeGroups.length - 1];\n\n    if (previous && self._hasIntersection(previous.range, elementRange)) {\n      rangeGroups[rangeGroups.length - 1].elements.push(element);\n    } else {\n      range = { range: elementRange, elements: [ element ] };\n\n      rangeGroups.push(range);\n    }\n  });\n\n  return rangeGroups;\n};\n\n\n/**\n * Maps a direction to the according axis and dimension\n *\n * @param  {string} direction 'horizontal' or 'vertical'\n */\nDistributeElements.prototype._setOrientation = function(direction) {\n  var orientation = AXIS_DIMENSIONS[direction];\n\n  this._axis = orientation[0];\n  this._dimension = orientation[1];\n};\n\n\n/**\n * Checks if the two ranges intercept each other\n *\n * @param  {Object} rangeA {min, max}\n * @param  {Object} rangeB {min, max}\n *\n * @return {boolean}\n */\nDistributeElements.prototype._hasIntersection = function(rangeA, rangeB) {\n  return Math.max(rangeA.min, rangeA.max) >= Math.min(rangeB.min, rangeB.max) &&\n         Math.min(rangeA.min, rangeA.max) <= Math.max(rangeB.min, rangeB.max);\n};\n\n\n/**\n * Returns the min and max values for an element\n *\n * @param  {[type]} element   [description]\n * @param  {[type]} axis      [description]\n * @param  {[type]} dimension [description]\n *\n * @return {[type]}           [description]\n */\nDistributeElements.prototype._findRange = function(element) {\n  var axis = element[this._axis],\n      dimension = element[this._dimension];\n\n  return {\n    min: axis + THRESHOLD,\n    max: axis + dimension - THRESHOLD\n  };\n};\n","import DistributeElements from './DistributeElements';\n\nexport default {\n  __init__: [ 'distributeElements' ],\n  distributeElements: [ 'type', DistributeElements ]\n};\n","import {\n  filter\n} from 'min-dash';\n\nimport {\n  isAny\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\n\n/**\n * Registers element exclude filters for elements that\n * currently do not support distribution.\n */\nexport default function DrdDistributeElements(distributeElements) {\n\n  distributeElements.registerFilter(function(elements) {\n    return filter(elements, function(element) {\n\n      var cannotDistribute = isAny(element, [\n        'dmn:AuthorityRequirement',\n        'dmn:InformationRequirement',\n        'dmn:KnowledgeRequirement',\n        'dmn:Association',\n        'dmn:TextAnnotation'\n      ]);\n\n      return !(element.labelTarget || cannotDistribute);\n    });\n  });\n}\n\nDrdDistributeElements.$inject = [ 'distributeElements' ];","import DistributeElementsModule from 'diagram-js/lib/features/distribute-elements';\n\nimport DrdDistributeElements from './DrdDistributeElements';\n\n\nexport default {\n  __depends__: [\n    DistributeElementsModule\n  ],\n  __init__: [ 'drdDistributeElements' ],\n  drdDistributeElements: [ 'type', DrdDistributeElements ]\n};\n","import {\n  forEach,\n  isArray\n} from 'min-dash';\n\nvar NOT_REGISTERED_ERROR = 'is not a registered action',\n    IS_REGISTERED_ERROR = 'is already registered';\n\n\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with registerAction\n * and likewise unregister existing ones with unregisterAction.\n *\n *\n * ## Life-Cycle and configuration\n *\n * The editor actions will wait for diagram initialization before\n * registering default actions _and_ firing an `editorActions.init` event.\n *\n * Interested parties may listen to the `editorActions.init` event with\n * low priority to check, which actions got registered. Other components\n * may use the event to register their own actions via `registerAction`.\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function EditorActions(eventBus, injector) {\n\n  // initialize actions\n  this._actions = {};\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n\n    // all diagram modules got loaded; check which ones\n    // are available and register the respective default actions\n    self._registerDefaultActions(injector);\n\n    // ask interested parties to register available editor\n    // actions on diagram initialization\n    eventBus.fire('editorActions.init', {\n      editorActions: self\n    });\n  });\n\n}\n\nEditorActions.$inject = [\n  'eventBus',\n  'injector'\n];\n\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\nEditorActions.prototype._registerDefaultActions = function(injector) {\n\n  // (1) retrieve optional components to integrate with\n\n  var commandStack = injector.get('commandStack', false);\n  var modeling = injector.get('modeling', false);\n  var selection = injector.get('selection', false);\n  var zoomScroll = injector.get('zoomScroll', false);\n  var copyPaste = injector.get('copyPaste', false);\n  var canvas = injector.get('canvas', false);\n  var rules = injector.get('rules', false);\n  var keyboardMove = injector.get('keyboardMove', false);\n  var keyboardMoveSelection = injector.get('keyboardMoveSelection', false);\n\n  // (2) check components and register actions\n\n  if (commandStack) {\n    this.register('undo', function() {\n      commandStack.undo();\n    });\n\n    this.register('redo', function() {\n      commandStack.redo();\n    });\n  }\n\n  if (copyPaste && selection) {\n    this.register('copy', function() {\n      var selectedElements = selection.get();\n\n      copyPaste.copy(selectedElements);\n    });\n  }\n\n  if (copyPaste) {\n    this.register('paste', function() {\n      copyPaste.paste();\n    });\n  }\n\n  if (zoomScroll) {\n    this.register('stepZoom', function(opts) {\n      zoomScroll.stepZoom(opts.value);\n    });\n  }\n\n  if (canvas) {\n    this.register('zoom', function(opts) {\n      canvas.zoom(opts.value);\n    });\n  }\n\n  if (modeling && selection && rules) {\n    this.register('removeSelection', function() {\n\n      var selectedElements = selection.get();\n\n      if (!selectedElements.length) {\n        return;\n      }\n\n      var allowed = rules.allowed('elements.delete', { elements: selectedElements }),\n          removableElements;\n\n      if (allowed === false) {\n        return;\n      }\n      else if (isArray(allowed)) {\n        removableElements = allowed;\n      }\n      else {\n        removableElements = selectedElements;\n      }\n\n      if (removableElements.length) {\n        modeling.removeElements(removableElements.slice());\n      }\n    });\n  }\n\n  if (keyboardMove) {\n    this.register('moveCanvas', function(opts) {\n      keyboardMove.moveCanvas(opts);\n    });\n  }\n\n  if (keyboardMoveSelection) {\n    this.register('moveSelection', function(opts) {\n      keyboardMoveSelection.moveSelection(opts.direction, opts.accelerated);\n    });\n  }\n\n};\n\n\n/**\n * Triggers a registered action\n *\n * @param  {string} action\n * @param  {Object} opts\n *\n * @return {Unknown} Returns what the registered listener returns\n */\nEditorActions.prototype.trigger = function(action, opts) {\n  if (!this._actions[action]) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n\n  return this._actions[action](opts);\n};\n\n\n/**\n * Registers a collections of actions.\n * The key of the object will be the name of the action.\n *\n * @example\n * \n * var actions = {\n *   spaceTool: function() {\n *     spaceTool.activateSelection();\n *   },\n *   lassoTool: function() {\n *     lassoTool.activateSelection();\n *   }\n * ];\n *\n * editorActions.register(actions);\n *\n * editorActions.isRegistered('spaceTool'); // true\n * \n *\n * @param  {Object} actions\n */\nEditorActions.prototype.register = function(actions, listener) {\n  var self = this;\n\n  if (typeof actions === 'string') {\n    return this._registerAction(actions, listener);\n  }\n\n  forEach(actions, function(listener, action) {\n    self._registerAction(action, listener);\n  });\n};\n\n/**\n * Registers a listener to an action key\n *\n * @param  {string} action\n * @param  {Function} listener\n */\nEditorActions.prototype._registerAction = function(action, listener) {\n  if (this.isRegistered(action)) {\n    throw error(action, IS_REGISTERED_ERROR);\n  }\n\n  this._actions[action] = listener;\n};\n\n/**\n * Unregister an existing action\n *\n * @param {string} action\n */\nEditorActions.prototype.unregister = function(action) {\n  if (!this.isRegistered(action)) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n\n  this._actions[action] = undefined;\n};\n\n/**\n * Returns the number of actions that are currently registered\n *\n * @return {number}\n */\nEditorActions.prototype.getActions = function() {\n  return Object.keys(this._actions);\n};\n\n/**\n * Checks wether the given action is registered\n *\n * @param {string} action\n *\n * @return {boolean}\n */\nEditorActions.prototype.isRegistered = function(action) {\n  return !!this._actions[action];\n};\n\n\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}\n","import EditorActions from './EditorActions';\n\nexport default {\n  __init__: [ 'editorActions' ],\n  editorActions: [ 'type', EditorActions ]\n};\n","import inherits from 'inherits';\n\nimport EditorActions from 'diagram-js/lib/features/editor-actions/EditorActions';\n\nexport default function DrdEditorActions(injector) {\n  injector.invoke(EditorActions, this);\n}\n\ninherits(DrdEditorActions, EditorActions);\n\nDrdEditorActions.$inject = [\n  'injector'\n];\n\n\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\nDrdEditorActions.prototype._registerDefaultActions = function(injector) {\n\n  // (0) invoke super method\n\n  EditorActions.prototype._registerDefaultActions.call(this, injector);\n\n  // (1) retrieve optional components to integrate with\n\n  var canvas = injector.get('canvas', false);\n  var elementRegistry = injector.get('elementRegistry', false);\n  var selection = injector.get('selection', false);\n  var lassoTool = injector.get('lassoTool', false);\n  var directEditing = injector.get('directEditing', false);\n  var distributeElements = injector.get('distributeElements', false);\n  var alignElements = injector.get('alignElements', false);\n\n  // (2) check components and register actions\n\n  if (canvas && elementRegistry && selection) {\n    this._registerAction('selectElements', function() {\n\n      // select all elements except for the invisible\n      // root element\n      var rootElement = canvas.getRootElement();\n\n      var elements = elementRegistry.filter(function(element) {\n        return element !== rootElement;\n      });\n\n      selection.select(elements);\n\n      return elements;\n    });\n  }\n\n  if (selection && distributeElements) {\n    this._registerAction('distributeElements', function(opts) {\n      var currentSelection = selection.get(),\n          type = opts.type;\n\n      if (currentSelection.length > 2) {\n        distributeElements.trigger(currentSelection, type);\n      }\n    });\n  }\n\n  if (selection && alignElements) {\n    this._registerAction('alignElements', function(opts) {\n      var currentSelection = selection.get(),\n          type = opts.type;\n\n      if (currentSelection.length > 1) {\n        alignElements.trigger(currentSelection, type);\n      }\n    });\n  }\n\n  if (lassoTool) {\n    this._registerAction('lassoTool', function() {\n      lassoTool.toggle();\n    });\n  }\n\n  if (selection && directEditing) {\n    this._registerAction('directEditing', function() {\n      var currentSelection = selection.get();\n\n      if (currentSelection.length) {\n        directEditing.activate(currentSelection[0]);\n      }\n    });\n  }\n};\n","import EditorActionsModule from 'diagram-js/lib/features/editor-actions';\n\nimport DrdEditorActions from './DrdEditorActions';\n\nexport default {\n  __depends__: [\n    EditorActionsModule\n  ],\n  editorActions: [ 'type', DrdEditorActions ]\n};\n","/**\n * Does the definitions element contain graphical information?\n *\n * @param  {ModdleElement} definitions\n *\n * @return {boolean} true, if the definitions contains graphical information\n */\nexport function containsDi(definitions) {\n  return definitions.dmnDI && definitions.dmnDI.diagrams && definitions.dmnDI.diagrams[0];\n}\n\nexport function hasDi(element) {\n  return !!element.di;\n}","import { forEach } from 'min-dash';\n\nimport { containsDi } from 'dmn-js-shared/lib/util/DiUtil';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\n/**\n * Generates missing DI on import.\n *\n * @param {DrdFactory} drdFactory\n * @param {ElementFactory} elementFactory\n * @param {EventBus} eventBus\n */\nexport default function DiGenerator(drdFactory, elementFactory, eventBus, drdUpdater) {\n  function createDi(definitions) {\n\n    // retrieve or create dmnDI\n    var dmnDI = definitions.dmnDI;\n\n    if (!dmnDI) {\n      dmnDI = drdFactory.create('dmndi:DMNDI');\n      definitions.set('dmnDI', dmnDI);\n    }\n\n    var diagram = drdFactory.create('dmndi:DMNDiagram');\n\n    dmnDI.set('diagrams', [ diagram ]);\n\n    var index = 0;\n\n    forEach(definitions.get('drgElement'), function(drgElement) {\n\n      // generate DI for decisions only\n      if (!is(drgElement, 'dmn:Decision')) {\n        return;\n      }\n\n\n      var dimensions = elementFactory._getDefaultSize(drgElement);\n\n      var di = drdFactory.createDiShape(drgElement, {\n        x: 150 + (index * 30),\n        y: 150 + (index * 30),\n        width: dimensions.width,\n        height: dimensions.height\n      });\n\n      drdUpdater.updateDiParent(di, diagram);\n\n      index++;\n    });\n  }\n\n  eventBus.on('import.start', ({ definitions }) => {\n    if (!containsDi(definitions)) {\n      createDi(definitions);\n    }\n  });\n}\n\nDiGenerator.$inject = [\n  'drdFactory',\n  'elementFactory',\n  'eventBus',\n  'drdUpdater'\n];","import DiGenerator from './DiGenerator';\n\nexport default {\n  __init__: [ 'diGenerator' ],\n  diGenerator: [ 'type', DiGenerator ]\n};","import { isArray } from 'min-dash';\r\n\r\n/**\r\n * Returns true if event was triggered with any modifier\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function hasModifier(event) {\r\n  return (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isCmd(event) {\r\n\r\n  // ensure we don't react to AltGr\r\n  // (mapped to CTRL + ALT)\r\n  if (event.altKey) {\r\n    return false;\r\n  }\r\n\r\n  return event.ctrlKey || event.metaKey;\r\n}\r\n\r\n/**\r\n * Checks if key pressed is one of provided keys.\r\n *\r\n * @param {string|Array<string>} keys\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isKey(keys, event) {\r\n  keys = isArray(keys) ? keys : [ keys ];\r\n\r\n  return keys.indexOf(event.key) !== -1 || keys.indexOf(event.keyCode) !== -1;\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isShift(event) {\r\n  return event.shiftKey;\r\n}","export var SPACING = 10;\n\nexport function quantize(value, quantum, fn) {\n  if (!fn) {\n    fn = 'round';\n  }\n\n  return Math[ fn ](value / quantum) * quantum;\n}","import {\r\n  setSnapped,\r\n  isSnapped\r\n} from '../snapping/SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  assign,\r\n  isNumber\r\n} from 'min-dash';\r\n\r\nimport {\r\n  SPACING,\r\n  quantize\r\n} from './GridUtil';\r\n\r\nvar LOWER_PRIORITY = 1200;\r\nvar LOW_PRIORITY = 800;\r\n\r\n/**\r\n * Basic grid snapping that covers connecting, creating, moving, resizing shapes, moving bendpoints\r\n * and connection segments.\r\n */\r\nexport default function GridSnapping(elementRegistry, eventBus, config) {\r\n\r\n  var active = !config || config.active !== false;\r\n\r\n  this._eventBus = eventBus;\r\n\r\n  var self = this;\r\n\r\n  eventBus.on('diagram.init', LOW_PRIORITY, function() {\r\n    self.setActive(active);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.move',\r\n    'create.end',\r\n    'bendpoint.move.move',\r\n    'bendpoint.move.end',\r\n    'connect.move',\r\n    'connect.end',\r\n    'connectionSegment.move.move',\r\n    'connectionSegment.move.end',\r\n    'resize.move',\r\n    'resize.end',\r\n    'shape.move.move',\r\n    'shape.move.end'\r\n  ], LOWER_PRIORITY, function(event) {\r\n    var originalEvent = event.originalEvent;\r\n\r\n    if (!self.active || (originalEvent && isCmd(originalEvent))) {\r\n      return;\r\n    }\r\n\r\n    var context = event.context,\r\n        gridSnappingContext = context.gridSnappingContext;\r\n\r\n    if (!gridSnappingContext) {\r\n      gridSnappingContext = context.gridSnappingContext = {};\r\n    }\r\n\r\n    [ 'x', 'y' ].forEach(function(axis) {\r\n      var options = {};\r\n\r\n      // allow snapping with offset\r\n      var snapOffset = getSnapOffset(event, axis, elementRegistry);\r\n\r\n      if (snapOffset) {\r\n        options.offset = snapOffset;\r\n      }\r\n\r\n      // allow snapping with min and max\r\n      var snapConstraints = getSnapConstraints(event, axis);\r\n\r\n      if (snapConstraints) {\r\n        assign(options, snapConstraints);\r\n      }\r\n\r\n      if (!isSnapped(event, axis)) {\r\n        self.snapEvent(event, axis, options);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Snap an events x or y with optional min, max and offset.\r\n *\r\n * @param {Object} event\r\n * @param {string} axis\r\n * @param {number} [options.min]\r\n * @param {number} [options.max]\r\n * @param {number} [options.offset]\r\n */\r\nGridSnapping.prototype.snapEvent = function(event, axis, options) {\r\n  var snappedValue = this.snapValue(event[ axis ], options);\r\n\r\n  setSnapped(event, axis, snappedValue);\r\n};\r\n\r\n/**\r\n * Expose grid spacing for third parties (i.e. extensions).\r\n *\r\n * @return {number} spacing of grid dots\r\n */\r\nGridSnapping.prototype.getGridSpacing = function() {\r\n  return SPACING;\r\n};\r\n\r\n/**\r\n * Snap value with optional min, max and offset.\r\n *\r\n * @param {number} value\r\n * @param {Object} options\r\n * @param {number} [options.min]\r\n * @param {number} [options.max]\r\n * @param {number} [options.offset]\r\n */\r\nGridSnapping.prototype.snapValue = function(value, options) {\r\n  var offset = 0;\r\n\r\n  if (options && options.offset) {\r\n    offset = options.offset;\r\n  }\r\n\r\n  value += offset;\r\n\r\n  value = quantize(value, SPACING);\r\n\r\n  var min, max;\r\n\r\n  if (options && options.min) {\r\n    min = options.min;\r\n\r\n    if (isNumber(min)) {\r\n      min = quantize(min + offset, SPACING, 'ceil');\r\n\r\n      value = Math.max(value, min);\r\n    }\r\n  }\r\n\r\n  if (options && options.max) {\r\n    max = options.max;\r\n\r\n    if (isNumber(max)) {\r\n      max = quantize(max + offset, SPACING, 'floor');\r\n\r\n      value = Math.min(value, max);\r\n    }\r\n  }\r\n\r\n  value -= offset;\r\n\r\n  return value;\r\n};\r\n\r\nGridSnapping.prototype.isActive = function() {\r\n  return this.active;\r\n};\r\n\r\nGridSnapping.prototype.setActive = function(active) {\r\n  this.active = active;\r\n\r\n  this._eventBus.fire('gridSnapping.toggle', { active: active });\r\n};\r\n\r\nGridSnapping.prototype.toggleActive = function() {\r\n  this.setActive(!this.active);\r\n};\r\n\r\nGridSnapping.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'config.gridSnapping'\r\n];\r\n\r\n// helpers //////////\r\n\r\n/**\r\n * Get minimum and maximum snap constraints.\r\n * Constraints are cached.\r\n *\r\n * @param {Object} event\r\n * @param {Object} event.context\r\n * @param {string} axis\r\n *\r\n * @returns {boolean|Object}\r\n */\r\nfunction getSnapConstraints(event, axis) {\r\n  var context = event.context,\r\n      createConstraints = context.createConstraints,\r\n      resizeConstraints = context.resizeConstraints || {},\r\n      gridSnappingContext = context.gridSnappingContext,\r\n      snapConstraints = gridSnappingContext.snapConstraints;\r\n\r\n  // cache snap constraints\r\n  if (snapConstraints && snapConstraints[ axis ]) {\r\n    return snapConstraints[ axis ];\r\n  }\r\n\r\n  if (!snapConstraints) {\r\n    snapConstraints = gridSnappingContext.snapConstraints = {};\r\n  }\r\n\r\n  if (!snapConstraints[ axis ]) {\r\n    snapConstraints[ axis ] = {};\r\n  }\r\n\r\n  var direction = context.direction;\r\n\r\n  // create\r\n  if (createConstraints) {\r\n    if (isHorizontal(axis)) {\r\n      snapConstraints.x.min = createConstraints.left;\r\n      snapConstraints.x.max = createConstraints.right;\r\n    } else {\r\n      snapConstraints.y.min = createConstraints.top;\r\n      snapConstraints.y.max = createConstraints.bottom;\r\n    }\r\n  }\r\n\r\n  // resize\r\n  var minResizeConstraints = resizeConstraints.min,\r\n      maxResizeConstraints = resizeConstraints.max;\r\n\r\n  if (minResizeConstraints) {\r\n    if (isHorizontal(axis)) {\r\n\r\n      if (isWest(direction)) {\r\n        snapConstraints.x.max = minResizeConstraints.left;\r\n      } else {\r\n        snapConstraints.x.min = minResizeConstraints.right;\r\n      }\r\n\r\n    } else {\r\n\r\n      if (isNorth(direction)) {\r\n        snapConstraints.y.max = minResizeConstraints.top;\r\n      } else {\r\n        snapConstraints.y.min = minResizeConstraints.bottom;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  if (maxResizeConstraints) {\r\n    if (isHorizontal(axis)) {\r\n\r\n      if (isWest(direction)) {\r\n        snapConstraints.x.min = maxResizeConstraints.left;\r\n      } else {\r\n        snapConstraints.x.max = maxResizeConstraints.right;\r\n      }\r\n\r\n    } else {\r\n\r\n      if (isNorth(direction)) {\r\n        snapConstraints.y.min = maxResizeConstraints.top;\r\n      } else {\r\n        snapConstraints.y.max = maxResizeConstraints.bottom;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  return snapConstraints[ axis ];\r\n}\r\n\r\n/**\r\n * Get snap offset.\r\n * Offset is cached.\r\n *\r\n * @param {Object} event\r\n * @param {string} axis\r\n * @param {ElementRegistry} elementRegistry\r\n *\r\n * @returns {number}\r\n */\r\nfunction getSnapOffset(event, axis, elementRegistry) {\r\n  var context = event.context,\r\n      shape = event.shape,\r\n      gridSnappingContext = context.gridSnappingContext,\r\n      snapLocation = gridSnappingContext.snapLocation,\r\n      snapOffset = gridSnappingContext.snapOffset;\r\n\r\n  // cache snap offset\r\n  if (snapOffset && isNumber(snapOffset[ axis ])) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (!snapOffset) {\r\n    snapOffset = gridSnappingContext.snapOffset = {};\r\n  }\r\n\r\n  if (!isNumber(snapOffset[ axis ])) {\r\n    snapOffset[ axis ] = 0;\r\n  }\r\n\r\n  if (!shape) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (!elementRegistry.get(shape.id)) {\r\n\r\n    if (isHorizontal(axis)) {\r\n      snapOffset[ axis ] += shape[ axis ] + shape.width / 2;\r\n    } else {\r\n      snapOffset[ axis ] += shape[ axis ] + shape.height / 2;\r\n    }\r\n  }\r\n\r\n  if (!snapLocation) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (axis === 'x') {\r\n    if (/left/.test(snapLocation)) {\r\n      snapOffset[ axis ] -= shape.width / 2;\r\n    } else if (/right/.test(snapLocation)) {\r\n      snapOffset[ axis ] += shape.width / 2;\r\n    }\r\n  } else {\r\n    if (/top/.test(snapLocation)) {\r\n      snapOffset[ axis ] -= shape.height / 2;\r\n    } else if (/bottom/.test(snapLocation)) {\r\n      snapOffset[ axis ] += shape.height / 2;\r\n    }\r\n  }\r\n\r\n  return snapOffset[ axis ];\r\n}\r\n\r\nfunction isHorizontal(axis) {\r\n  return axis === 'x';\r\n}\r\n\r\nfunction isNorth(direction) {\r\n  return direction.indexOf('n') !== -1;\r\n}\r\n\r\nfunction isWest(direction) {\r\n  return direction.indexOf('w') !== -1;\r\n}","import {\n  forEach,\n  isFunction,\n  isArray,\n  isNumber,\n  isObject\n} from 'min-dash';\n\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A utility that can be used to plug-in into the command execution for\n * extension and/or validation.\n *\n * @param {EventBus} eventBus\n *\n * @example\n *\n * import inherits from 'inherits';\n *\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * function CommandLogger(eventBus) {\n *   CommandInterceptor.call(this, eventBus);\n *\n *   this.preExecute(function(event) {\n *     console.log('command pre-execute', event);\n *   });\n * }\n *\n * inherits(CommandLogger, CommandInterceptor);\n *\n */\nexport default function CommandInterceptor(eventBus) {\n  this._eventBus = eventBus;\n}\n\nCommandInterceptor.$inject = [ 'eventBus' ];\n\nfunction unwrapEvent(fn, that) {\n  return function(event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n/**\n * Register an interceptor for a command execution\n *\n * @param {string|Array<string>} [events] list of commands to register on\n * @param {string} [hook] command hook, i.e. preExecute, executed to listen on\n * @param {number} [priority] the priority on which to hook into the execution\n * @param {Function} handlerFn interceptor to be invoked with (event)\n * @param {boolean} unwrap if true, unwrap the event and pass (context, command, event) to the\n *                          listener instead\n * @param {Object} [that] Pass context (`this`) to the handler function\n */\nCommandInterceptor.prototype.on = function(events, hook, priority, handlerFn, unwrap, that) {\n\n  if (isFunction(hook) || isNumber(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n\n  if (isFunction(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (isObject(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n\n  if (!isFunction(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n\n  if (!isArray(events)) {\n    events = [ events ];\n  }\n\n  var eventBus = this._eventBus;\n\n  forEach(events, function(event) {\n\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = [ 'commandStack', event, hook ].filter(function(e) { return e; }).join('.');\n\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n\nvar hooks = [\n  'canExecute',\n  'preExecute',\n  'preExecuted',\n  'execute',\n  'executed',\n  'postExecute',\n  'postExecuted',\n  'revert',\n  'reverted'\n];\n\n/*\n * Install hook shortcuts\n *\n * This will generate the CommandInterceptor#(preExecute|...|reverted) methods\n * which will in term forward to CommandInterceptor#on.\n */\nforEach(hooks, function(hook) {\n\n  /**\n   * {canExecute|preExecute|preExecuted|execute|executed|postExecute|postExecuted|revert|reverted}\n   *\n   * A named hook for plugging into the command execution\n   *\n   * @param {string|Array<string>} [events] list of commands to register on\n   * @param {number} [priority] the priority on which to hook into the execution\n   * @param {Function} handlerFn interceptor to be invoked with (event)\n   * @param {boolean} [unwrap=false] if true, unwrap the event and pass (context, command, event) to the\n   *                          listener instead\n   * @param {Object} [that] Pass context (`this`) to the handler function\n   */\n  CommandInterceptor.prototype[hook] = function(events, priority, handlerFn, unwrap, that) {\n\n    if (isFunction(events) || isNumber(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n});\n","import inherits from 'inherits';\r\n\r\nimport CommandInterceptor from '../../../command/CommandInterceptor';\r\n\r\nimport {\r\n  assign,\r\n  isString\r\n} from 'min-dash';\r\n\r\n\r\n/**\r\n * Integrates resizing with grid snapping.\r\n */\r\nexport default function ResizeBehavior(eventBus, gridSnapping) {\r\n  CommandInterceptor.call(this, eventBus);\r\n\r\n  this._gridSnapping = gridSnapping;\r\n\r\n  var self = this;\r\n\r\n  this.preExecute('shape.resize', function(event) {\r\n    var context = event.context,\r\n        hints = context.hints || {},\r\n        autoResize = hints.autoResize;\r\n\r\n    if (!autoResize) {\r\n      return;\r\n    }\r\n\r\n    var shape = context.shape,\r\n        newBounds = context.newBounds;\r\n\r\n    if (isString(autoResize)) {\r\n      context.newBounds = self.snapComplex(newBounds, autoResize);\r\n    } else {\r\n      context.newBounds = self.snapSimple(shape, newBounds);\r\n    }\r\n  });\r\n}\r\n\r\nResizeBehavior.$inject = [\r\n  'eventBus',\r\n  'gridSnapping',\r\n  'modeling'\r\n];\r\n\r\ninherits(ResizeBehavior, CommandInterceptor);\r\n\r\n/**\r\n * Snap width and height in relation to center.\r\n *\r\n * @param {djs.model.shape} shape\r\n * @param {Bounds} newBounds\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapSimple = function(shape, newBounds) {\r\n  var gridSnapping = this._gridSnapping;\r\n\r\n  newBounds.width = gridSnapping.snapValue(newBounds.width, {\r\n    min: newBounds.width\r\n  });\r\n\r\n  newBounds.height = gridSnapping.snapValue(newBounds.height, {\r\n    min: newBounds.height\r\n  });\r\n\r\n  newBounds.x = shape.x + (shape.width / 2) - (newBounds.width / 2);\r\n  newBounds.y = shape.y + (shape.height / 2) - (newBounds.height / 2);\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap x, y, width and height according to given directions.\r\n *\r\n * @param {Bounds} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapComplex = function(newBounds, directions) {\r\n  if (/w|e/.test(directions)) {\r\n    newBounds = this.snapHorizontally(newBounds, directions);\r\n  }\r\n\r\n  if (/n|s/.test(directions)) {\r\n    newBounds = this.snapVertically(newBounds, directions);\r\n  }\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap in one or both directions horizontally.\r\n *\r\n * @param {Bounds} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapHorizontally = function(newBounds, directions) {\r\n  var gridSnapping = this._gridSnapping,\r\n      west = /w/.test(directions),\r\n      east = /e/.test(directions);\r\n\r\n  var snappedNewBounds = {};\r\n\r\n  snappedNewBounds.width = gridSnapping.snapValue(newBounds.width, {\r\n    min: newBounds.width\r\n  });\r\n\r\n  if (east) {\r\n\r\n    // handle <we>\r\n    if (west) {\r\n      snappedNewBounds.x = gridSnapping.snapValue(newBounds.x, {\r\n        max: newBounds.x\r\n      });\r\n\r\n      snappedNewBounds.width += gridSnapping.snapValue(newBounds.x - snappedNewBounds.x, {\r\n        min: newBounds.x - snappedNewBounds.x\r\n      });\r\n    }\r\n\r\n    // handle <e>\r\n    else {\r\n      newBounds.x = newBounds.x + newBounds.width - snappedNewBounds.width;\r\n    }\r\n  }\r\n\r\n  // assign snapped x and width\r\n  assign(newBounds, snappedNewBounds);\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap in one or both directions vertically.\r\n *\r\n * @param {Bounds} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapVertically = function(newBounds, directions) {\r\n  var gridSnapping = this._gridSnapping,\r\n      north = /n/.test(directions),\r\n      south = /s/.test(directions);\r\n\r\n  var snappedNewBounds = {};\r\n\r\n  snappedNewBounds.height = gridSnapping.snapValue(newBounds.height, {\r\n    min: newBounds.height\r\n  });\r\n\r\n  if (north) {\r\n\r\n    // handle <ns>\r\n    if (south) {\r\n      snappedNewBounds.y = gridSnapping.snapValue(newBounds.y, {\r\n        max: newBounds.y\r\n      });\r\n\r\n      snappedNewBounds.height += gridSnapping.snapValue(newBounds.y - snappedNewBounds.y, {\r\n        min: newBounds.y - snappedNewBounds.y\r\n      });\r\n    }\r\n\r\n    // handle <n>\r\n    else {\r\n      newBounds.y = newBounds.y + newBounds.height - snappedNewBounds.height;\r\n    }\r\n  }\r\n\r\n  // assign snapped y and height\r\n  assign(newBounds, snappedNewBounds);\r\n\r\n  return newBounds;\r\n};","var HIGH_PRIORITY = 2000;\r\n\r\n/**\r\n * Integrates space tool with grid snapping.\r\n */\r\nexport default function SpaceToolBehavior(eventBus, gridSnapping) {\r\n  eventBus.on([\r\n    'spaceTool.move',\r\n    'spaceTool.end'\r\n  ], HIGH_PRIORITY, function(event) {\r\n    var context = event.context;\r\n\r\n    if (!context.initialized) {\r\n      return;\r\n    }\r\n\r\n    var axis = context.axis;\r\n\r\n    var snapped;\r\n\r\n    if (axis === 'x') {\r\n\r\n      // snap delta x to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dx);\r\n\r\n      event.x = event.x + snapped - event.dx;\r\n      event.dx = snapped;\r\n    } else {\r\n\r\n      // snap delta y to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dy);\r\n\r\n      event.y = event.y + snapped - event.dy;\r\n      event.dy = snapped;\r\n    }\r\n  });\r\n}\r\n\r\nSpaceToolBehavior.$inject = [\r\n  'eventBus',\r\n  'gridSnapping'\r\n];","import ResizeBehavior from './ResizeBehavior';\r\nimport SpaceToolBehavior from './SpaceToolBehavior';\r\n\r\nexport default {\r\n  __init__: [\r\n    'gridSnappingResizeBehavior',\r\n    'gridSnappingSpaceToolBehavior'\r\n  ],\r\n  gridSnappingResizeBehavior: [ 'type', ResizeBehavior ],\r\n  gridSnappingSpaceToolBehavior: [ 'type', SpaceToolBehavior ]\r\n};","import GridSnapping from './GridSnapping';\r\n\r\nimport GridSnappingBehaviorModule from './behavior';\r\n\r\nexport default {\r\n  __depends__: [ GridSnappingBehaviorModule ],\r\n  __init__: [ 'gridSnapping' ],\r\n  gridSnapping: [ 'type', GridSnapping ]\r\n};","import {\n  isFunction\n} from 'min-dash';\n\nimport {\n  event as domEvent,\n  matches as domMatches\n} from 'min-dom';\n\nimport {\n  hasModifier,\n  isCmd,\n  isKey,\n  isShift\n} from './KeyboardUtil';\n\nvar KEYDOWN_EVENT = 'keyboard.keydown',\n    KEYUP_EVENT = 'keyboard.keyup';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming key events\n * and triggering diagram actions.\n *\n * For keys pressed down, keyboard fires `keyboard.keydown` event.\n * The event context contains one field which is `KeyboardEvent` event.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain one field which is node.\n *\n * A default binding for the keyboard may be specified via the\n * `keyboard.bindTo` configuration option.\n *\n * @param {Config} config\n * @param {EventBus} eventBus\n */\nexport default function Keyboard(config, eventBus) {\n  var self = this;\n\n  this._config = config || {};\n  this._eventBus = eventBus;\n\n  this._keydownHandler = this._keydownHandler.bind(this);\n  this._keyupHandler = this._keyupHandler.bind(this);\n\n  // properly clean dom registrations\n  eventBus.on('diagram.destroy', function() {\n    self._fire('destroy');\n\n    self.unbind();\n  });\n\n  eventBus.on('diagram.init', function() {\n    self._fire('init');\n  });\n\n  eventBus.on('attach', function() {\n    if (config && config.bindTo) {\n      self.bind(config.bindTo);\n    }\n  });\n\n  eventBus.on('detach', function() {\n    self.unbind();\n  });\n}\n\nKeyboard.$inject = [\n  'config.keyboard',\n  'eventBus'\n];\n\nKeyboard.prototype._keydownHandler = function(event) {\n  this._keyHandler(event, KEYDOWN_EVENT);\n};\n\nKeyboard.prototype._keyupHandler = function(event) {\n  this._keyHandler(event, KEYUP_EVENT);\n};\n\nKeyboard.prototype._keyHandler = function(event, type) {\n  var target = event.target,\n      eventBusResult;\n\n  if (isInput(target)) {\n    return;\n  }\n\n  var context = {\n    keyEvent: event\n  };\n\n  eventBusResult = this._eventBus.fire(type || KEYDOWN_EVENT, context);\n\n  if (eventBusResult) {\n    event.preventDefault();\n  }\n};\n\nKeyboard.prototype.bind = function(node) {\n\n  // make sure that the keyboard is only bound once to the DOM\n  this.unbind();\n\n  this._node = node;\n\n  // bind key events\n  domEvent.bind(node, 'keydown', this._keydownHandler, true);\n  domEvent.bind(node, 'keyup', this._keyupHandler, true);\n\n  this._fire('bind');\n};\n\nKeyboard.prototype.getBinding = function() {\n  return this._node;\n};\n\nKeyboard.prototype.unbind = function() {\n  var node = this._node;\n\n  if (node) {\n    this._fire('unbind');\n\n    // unbind key events\n    domEvent.unbind(node, 'keydown', this._keydownHandler, true);\n    domEvent.unbind(node, 'keyup', this._keyupHandler, true);\n  }\n\n  this._node = null;\n};\n\nKeyboard.prototype._fire = function(event) {\n  this._eventBus.fire('keyboard.' + event, { node: this._node });\n};\n\n/**\n * Add a listener function that is notified with `KeyboardEvent` whenever\n * the keyboard is bound and the user presses a key. If no priority is\n * provided, the default value of 1000 is used.\n *\n * @param {number} [priority]\n * @param {Function} listener\n * @param {string} type\n */\nKeyboard.prototype.addListener = function(priority, listener, type) {\n  if (isFunction(priority)) {\n    type = listener;\n    listener = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on(type || KEYDOWN_EVENT, priority, listener);\n};\n\nKeyboard.prototype.removeListener = function(listener, type) {\n  this._eventBus.off(type || KEYDOWN_EVENT, listener);\n};\n\nKeyboard.prototype.hasModifier = hasModifier;\nKeyboard.prototype.isCmd = isCmd;\nKeyboard.prototype.isShift = isShift;\nKeyboard.prototype.isKey = isKey;\n\n\n\n// helpers ///////\n\nfunction isInput(target) {\n  return target && (domMatches(target, 'input, textarea') || target.contentEditable === 'true');\n}\n","import {\n  isCmd,\n  isKey,\n  isShift\n} from './KeyboardUtil';\n\nvar LOW_PRIORITY = 500;\n\nexport var KEYCODE_C = 67;\nexport var KEYCODE_V = 86;\nexport var KEYCODE_Y = 89;\nexport var KEYCODE_Z = 90;\n\nexport var KEYS_COPY = ['c', 'C', KEYCODE_C ];\nexport var KEYS_PASTE = [ 'v', 'V', KEYCODE_V ];\nexport var KEYS_REDO = [ 'y', 'Y', KEYCODE_Y ];\nexport var KEYS_UNDO = [ 'z', 'Z', KEYCODE_Z ];\n\n\n/**\n * Adds default keyboard bindings.\n *\n * This does not pull in any features will bind only actions that\n * have previously been registered against the editorActions component.\n *\n * @param {EventBus} eventBus\n * @param {Keyboard} keyboard\n */\nexport default function KeyboardBindings(eventBus, keyboard) {\n\n  var self = this;\n\n  eventBus.on('editorActions.init', LOW_PRIORITY, function(event) {\n\n    var editorActions = event.editorActions;\n\n    self.registerBindings(keyboard, editorActions);\n  });\n}\n\nKeyboardBindings.$inject = [\n  'eventBus',\n  'keyboard'\n];\n\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nKeyboardBindings.prototype.registerBindings = function(keyboard, editorActions) {\n\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n\n  // undo\n  // (CTRL|CMD) + Z\n  addListener('undo', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && !isShift(event) && isKey(KEYS_UNDO, event)) {\n      editorActions.trigger('undo');\n\n      return true;\n    }\n  });\n\n  // redo\n  // CTRL + Y\n  // CMD + SHIFT + Z\n  addListener('redo', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && (isKey(KEYS_REDO, event) || (isKey(KEYS_UNDO, event) && isShift(event)))) {\n      editorActions.trigger('redo');\n\n      return true;\n    }\n  });\n\n  // copy\n  // CTRL/CMD + C\n  addListener('copy', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && isKey(KEYS_COPY, event)) {\n      editorActions.trigger('copy');\n\n      return true;\n    }\n  });\n\n  // paste\n  // CTRL/CMD + V\n  addListener('paste', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && isKey(KEYS_PASTE, event)) {\n      editorActions.trigger('paste');\n\n      return true;\n    }\n  });\n\n  // zoom in one step\n  // CTRL/CMD + +\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey([ '+', 'Add' ], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // zoom out one step\n  // CTRL + -\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey([ '-', 'Subtract' ], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', { value: -1 });\n\n      return true;\n    }\n  });\n\n  // zoom to the default level\n  // CTRL + 0\n  addListener('zoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey('0', event) && isCmd(event)) {\n      editorActions.trigger('zoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // delete selected element\n  // DEL\n  addListener('removeSelection', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey(['Backspace', 'Delete', 'Del' ], event)) {\n      editorActions.trigger('removeSelection');\n\n      return true;\n    }\n  });\n};","import Keyboard from './Keyboard';\nimport KeyboardBindings from './KeyboardBindings';\n\nexport default {\n  __init__: [ 'keyboard', 'keyboardBindings' ],\n  keyboard: [ 'type', Keyboard ],\n  keyboardBindings: [ 'type', KeyboardBindings ]\n};\n","import inherits from 'inherits';\n\nimport KeyboardBindings from 'diagram-js/lib/features/keyboard/KeyboardBindings';\n\n\n/**\n * DRD specific key bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nexport default function DrdKeyboardBindings(injector) {\n  injector.invoke(KeyboardBindings, this);\n}\n\ninherits(DrdKeyboardBindings, KeyboardBindings);\n\nDrdKeyboardBindings.$inject = [\n  'injector'\n];\n\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nDrdKeyboardBindings.prototype.registerBindings = function(keyboard, editorActions) {\n\n  // inherit default bindings\n  KeyboardBindings.prototype.registerBindings.call(this, keyboard, editorActions);\n\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n  // select all elements\n  // CTRL + A\n  addListener('selectElements', function(context) {\n\n    var event = context.keyEvent;\n\n    if (keyboard.isKey(['a', 'A'], event) && keyboard.isCmd(event)) {\n      editorActions.trigger('selectElements');\n\n      return true;\n    }\n  });\n\n  // activate lasso tool\n  // L\n  addListener('lassoTool', function(context) {\n\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey(['l', 'L'], event)) {\n      editorActions.trigger('lassoTool');\n\n      return true;\n    }\n  });\n\n  // activate direct editing\n  // E\n  addListener('directEditing', function(context) {\n\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey(['e', 'E'], event)) {\n      editorActions.trigger('directEditing');\n\n      return true;\n    }\n  });\n\n};","import KeyboardModule from 'diagram-js/lib/features/keyboard';\n\nimport DrdKeyboardBindings from './DrdKeyboardBindings';\n\nexport default {\n  __depends__: [\n    KeyboardModule\n  ],\n  __init__: [ 'keyboardBindings' ],\n  keyboardBindings: [ 'type', DrdKeyboardBindings ]\n};\n","import { assign } from 'min-dash';\n\n\nvar DEFAULT_CONFIG = {\n  moveSpeed: 50,\n  moveSpeedAccelerated: 200\n};\n\n\n/**\n * A feature that allows users to move the canvas using the keyboard.\n *\n * @param {Object} config\n * @param {number} [config.moveSpeed=50]\n * @param {number} [config.moveSpeedAccelerated=200]\n * @param {Keyboard} keyboard\n * @param {Canvas} canvas\n */\nexport default function KeyboardMove(\n    config,\n    keyboard,\n    canvas\n) {\n\n  var self = this;\n\n  this._config = assign({}, DEFAULT_CONFIG, config || {});\n\n  keyboard.addListener(arrowsListener);\n\n\n  function arrowsListener(context) {\n\n    var event = context.keyEvent,\n        config = self._config;\n\n    if (!keyboard.isCmd(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([\n      'ArrowLeft', 'Left',\n      'ArrowUp', 'Up',\n      'ArrowDown', 'Down',\n      'ArrowRight', 'Right'\n    ], event)) {\n\n      var speed = (\n        keyboard.isShift(event) ?\n          config.moveSpeedAccelerated :\n          config.moveSpeed\n      );\n\n      var direction;\n\n      switch (event.key) {\n      case 'ArrowLeft':\n      case 'Left':\n        direction = 'left';\n        break;\n      case 'ArrowUp':\n      case 'Up':\n        direction = 'up';\n        break;\n      case 'ArrowRight':\n      case 'Right':\n        direction = 'right';\n        break;\n      case 'ArrowDown':\n      case 'Down':\n        direction = 'down';\n        break;\n      }\n\n      self.moveCanvas({\n        speed: speed,\n        direction: direction\n      });\n\n      return true;\n    }\n  }\n\n  this.moveCanvas = function(opts) {\n\n    var dx = 0,\n        dy = 0,\n        speed = opts.speed;\n\n    var actualSpeed = speed / Math.min(Math.sqrt(canvas.viewbox().scale), 1);\n\n    switch (opts.direction) {\n    case 'left': // Left\n      dx = actualSpeed;\n      break;\n    case 'up': // Up\n      dy = actualSpeed;\n      break;\n    case 'right': // Right\n      dx = -actualSpeed;\n      break;\n    case 'down': // Down\n      dy = -actualSpeed;\n      break;\n    }\n\n    canvas.scroll({\n      dx: dx,\n      dy: dy\n    });\n  };\n\n}\n\n\nKeyboardMove.$inject = [\n  'config.keyboardMove',\n  'keyboard',\n  'canvas'\n];\n","import KeyboardModule from '../../features/keyboard';\n\nimport KeyboardMove from './KeyboardMove';\n\n\nexport default {\n  __depends__: [\n    KeyboardModule\n  ],\n  __init__: [ 'keyboardMove' ],\n  keyboardMove: [ 'type', KeyboardMove ]\n};","import {\n  assign\n} from 'min-dash';\n\n\nvar DEFAULT_CONFIG = {\n  moveSpeed: 1,\n  moveSpeedAccelerated: 10\n};\n\nvar HIGHER_PRIORITY = 1500;\n\nvar LEFT = 'left';\nvar UP = 'up';\nvar RIGHT = 'right';\nvar DOWN = 'down';\n\nvar KEY_TO_DIRECTION = {\n  ArrowLeft: LEFT,\n  Left: LEFT,\n  ArrowUp: UP,\n  Up: UP,\n  ArrowRight: RIGHT,\n  Right: RIGHT,\n  ArrowDown: DOWN,\n  Down: DOWN\n};\n\nvar DIRECTIONS_DELTA = {\n  left: function(speed) {\n    return {\n      x: -speed,\n      y: 0\n    };\n  },\n  up: function(speed) {\n    return {\n      x: 0,\n      y: -speed\n    };\n  },\n  right: function(speed) {\n    return {\n      x: speed,\n      y: 0\n    };\n  },\n  down: function(speed) {\n    return {\n      x: 0,\n      y: speed\n    };\n  }\n};\n\n\n/**\n * Enables to move selection with keyboard arrows.\n * Use with Shift for modified speed (default=1, with Shift=10).\n * Pressed Cmd/Ctrl turns the feature off.\n *\n * @param {Object} config\n * @param {number} [config.moveSpeed=1]\n * @param {number} [config.moveSpeedAccelerated=10]\n * @param {Keyboard} keyboard\n * @param {Modeling} modeling\n * @param {Selection} selection\n */\nexport default function KeyboardMoveSelection(\n    config,\n    keyboard,\n    modeling,\n    rules,\n    selection\n) {\n\n  var self = this;\n\n  this._config = assign({}, DEFAULT_CONFIG, config || {});\n\n  keyboard.addListener(HIGHER_PRIORITY, function(event) {\n\n    var keyEvent = event.keyEvent;\n\n    var direction = KEY_TO_DIRECTION[keyEvent.key];\n\n    if (!direction) {\n      return;\n    }\n\n    if (keyboard.isCmd(keyEvent)) {\n      return;\n    }\n\n    var accelerated = keyboard.isShift(keyEvent);\n\n    self.moveSelection(direction, accelerated);\n\n    return true;\n  });\n\n\n  /**\n   * Move selected elements in the given direction,\n   * optionally specifying accelerated movement.\n   *\n   * @param {string} direction\n   * @param {boolean} [accelerated=false]\n   */\n  this.moveSelection = function(direction, accelerated) {\n\n    var selectedElements = selection.get();\n\n    if (!selectedElements.length) {\n      return;\n    }\n\n    var speed = this._config[\n      accelerated ?\n        'moveSpeedAccelerated' :\n        'moveSpeed'\n    ];\n\n    var delta = DIRECTIONS_DELTA[direction](speed);\n\n    var canMove = rules.allowed('elements.move', {\n      shapes: selectedElements\n    });\n\n    if (canMove) {\n      modeling.moveElements(selectedElements, delta);\n    }\n  };\n\n}\n\nKeyboardMoveSelection.$inject = [\n  'config.keyboardMoveSelection',\n  'keyboard',\n  'modeling',\n  'rules',\n  'selection'\n];","import KeyboardModule from '../keyboard';\nimport SelectionModule from '../selection';\n\nimport KeyboardMoveSelection from './KeyboardMoveSelection';\n\nexport default {\n  __depends__: [\n    KeyboardModule,\n    SelectionModule\n  ],\n  __init__: [\n    'keyboardMoveSelection'\n  ],\n  keyboardMoveSelection: [ 'type', KeyboardMoveSelection ]\n};\n","import {\n  uniqueBy,\n  isArray\n} from 'min-dash';\n\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute` and `postExecute` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function CommandStack(eventBus, injector) {\n\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {Object}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {Array<Object>}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {Object}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: []\n  };\n\n\n  this._injector = injector;\n  this._eventBus = eventBus;\n\n  this._uid = 1;\n\n  eventBus.on([\n    'diagram.destroy',\n    'diagram.clear'\n  ], function() {\n    this.clear(false);\n  }, this);\n}\n\nCommandStack.$inject = [ 'eventBus', 'injector' ];\n\n\n/**\n * Execute a command\n *\n * @param {string} command the command to execute\n * @param {Object} context the environment to execute the command in\n */\nCommandStack.prototype.execute = function(command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  var action = { command: command, context: context };\n\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction(action);\n};\n\n\n/**\n * Ask whether a given command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param  {string} command the command to execute\n * @param  {Object} context the environment to execute the command in\n *\n * @return {boolean} true if the command can be executed\n */\nCommandStack.prototype.canExecute = function(command, context) {\n\n  var action = { command: command, context: context };\n\n  var handler = this._getHandler(command);\n\n  var result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Clear the command stack, erasing all undo / redo history\n */\nCommandStack.prototype.clear = function(emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed');\n  }\n};\n\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function() {\n  var action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function() {\n  var action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Register a handler instance with the command stack\n *\n * @param {string} command\n * @param {CommandHandler} handler\n */\nCommandStack.prototype.register = function(command, handler) {\n  this._setHandler(command, handler);\n};\n\n\n/**\n * Register a handler type with the command stack\n * by instantiating it and injecting its dependencies.\n *\n * @param {string} command\n * @param {Function} a constructor for a {@link CommandHandler}\n */\nCommandStack.prototype.registerHandler = function(command, handlerCls) {\n\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  var handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\nCommandStack.prototype.canUndo = function() {\n  return !!this._getUndoAction();\n};\n\nCommandStack.prototype.canRedo = function() {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function() {\n  return this._stack[this._stackIdx + 1];\n};\n\n\nCommandStack.prototype._getUndoAction = function() {\n  return this._stack[this._stackIdx];\n};\n\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function(action) {\n  var self = this;\n\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(function() {\n    self._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      self._markDirty(handler.revert(context));\n    }\n\n    self._revertedAction(action);\n\n    self._fire(command, 'reverted', action);\n  });\n};\n\n\nCommandStack.prototype._fire = function(command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  var names = qualifier ? [ command + '.' + qualifier, qualifier ] : [ command ],\n      i, name, result;\n\n  event = this._eventBus.createEvent(event);\n\n  for (i = 0; (name = names[i]); i++) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function() {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function(fn) {\n\n  var execution = this._currentExecution;\n\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function(action, redo) {\n  var self = this;\n\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(function() {\n\n    self._fire(command, 'execute', action);\n\n    if (handler.execute) {\n\n      // actual execute + mark return results as dirty\n      self._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    self._executedAction(action, redo);\n\n    self._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction(action);\n};\n\n\nCommandStack.prototype._pushAction = function(action) {\n\n  var execution = this._currentExecution,\n      actions = execution.actions;\n\n  var baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = (baseAction && baseAction.id) || this._createId();\n  }\n\n  actions.push(action);\n};\n\n\nCommandStack.prototype._popAction = function() {\n  var execution = this._currentExecution,\n      actions = execution.actions,\n      dirty = execution.dirty;\n\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', { elements: uniqueBy('id', dirty.reverse()) });\n\n    dirty.length = 0;\n\n    this._fire('changed');\n  }\n};\n\n\nCommandStack.prototype._markDirty = function(elements) {\n  var execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = isArray(elements) ? elements : [ elements ];\n\n  execution.dirty = execution.dirty.concat(elements);\n};\n\n\nCommandStack.prototype._executedAction = function(action, redo) {\n  var stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\n\nCommandStack.prototype._revertedAction = function(action) {\n  this._stackIdx--;\n};\n\n\nCommandStack.prototype._getHandler = function(command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function(command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n","import CommandStack from './CommandStack';\n\nexport default {\n  commandStack: [ 'type', CommandStack ]\n};\n","import {\n  getType as getElementType\n} from '../../util/Elements';\n\n/**\n * Adds change support to the diagram, including\n *\n * <ul>\n *   <li>redrawing shapes and connections on change</li>\n * </ul>\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n * @param {GraphicsFactory} graphicsFactory\n */\nexport default function ChangeSupport(\n    eventBus, canvas, elementRegistry,\n    graphicsFactory) {\n\n\n  // redraw shapes / connections on change\n\n  eventBus.on('element.changed', function(event) {\n\n    var element = event.element;\n\n    // element might have been deleted and replaced by new element with same ID\n    // thus check for parent of element except for root element\n    if (element.parent || element === canvas.getRootElement()) {\n      event.gfx = elementRegistry.getGraphics(element);\n    }\n\n    // shape + gfx may have been deleted\n    if (!event.gfx) {\n      return;\n    }\n\n    eventBus.fire(getElementType(element) + '.changed', event);\n  });\n\n  eventBus.on('elements.changed', function(event) {\n\n    var elements = event.elements;\n\n    elements.forEach(function(e) {\n      eventBus.fire('element.changed', { element: e });\n    });\n\n    graphicsFactory.updateContainments(elements);\n  });\n\n  eventBus.on('shape.changed', function(event) {\n    graphicsFactory.update('shape', event.element, event.gfx);\n  });\n\n  eventBus.on('connection.changed', function(event) {\n    graphicsFactory.update('connection', event.element, event.gfx);\n  });\n}\n\nChangeSupport.$inject = [\n  'eventBus',\n  'canvas',\n  'elementRegistry',\n  'graphicsFactory'\n];","import ChangeSupport from './ChangeSupport';\n\nexport default {\n  __init__: [ 'changeSupport'],\n  changeSupport: [ 'type', ChangeSupport ]\n};","import {\n  assign,\n  bind,\n  pick\n} from 'min-dash';\n\nimport {\n  domify,\n  query as domQuery,\n  event as domEvent,\n  remove as domRemove\n} from 'min-dom';\n\nvar min = Math.min,\n    max = Math.max;\n\nfunction preventDefault(e) {\n  e.preventDefault();\n}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction isTextNode(node) {\n  return node.nodeType === Node.TEXT_NODE;\n}\n\nfunction toArray(nodeList) {\n  return [].slice.call(nodeList);\n}\n\n/**\n * Initializes a container for a content editable div.\n *\n * Structure:\n *\n * container\n *   parent\n *     content\n *     resize-handle\n *\n * @param {object} options\n * @param {DOMElement} options.container The DOM element to append the contentContainer to\n * @param {Function} options.keyHandler Handler for key events\n * @param {Function} options.resizeHandler Handler for resize events\n */\nexport default function TextBox(options) {\n  this.container = options.container;\n\n  this.parent = domify(\n    '<div class=\"djs-direct-editing-parent\">' +\n      '<div class=\"djs-direct-editing-content\" contenteditable=\"true\"></div>' +\n    '</div>'\n  );\n\n  this.content = domQuery('[contenteditable]', this.parent);\n\n  this.keyHandler = options.keyHandler || function() {};\n  this.resizeHandler = options.resizeHandler || function() {};\n\n  this.autoResize = bind(this.autoResize, this);\n  this.handlePaste = bind(this.handlePaste, this);\n}\n\n\n/**\n * Create a text box with the given position, size, style and text content\n *\n * @param {Object} bounds\n * @param {Number} bounds.x absolute x position\n * @param {Number} bounds.y absolute y position\n * @param {Number} [bounds.width] fixed width value\n * @param {Number} [bounds.height] fixed height value\n * @param {Number} [bounds.maxWidth] maximum width value\n * @param {Number} [bounds.maxHeight] maximum height value\n * @param {Number} [bounds.minWidth] minimum width value\n * @param {Number} [bounds.minHeight] minimum height value\n * @param {Object} [style]\n * @param {String} value text content\n *\n * @return {DOMElement} The created content DOM element\n */\nTextBox.prototype.create = function(bounds, style, value, options) {\n  var self = this;\n\n  var parent = this.parent,\n      content = this.content,\n      container = this.container;\n\n  options = this.options = options || {};\n\n  style = this.style = style || {};\n\n  var parentStyle = pick(style, [\n    'width',\n    'height',\n    'maxWidth',\n    'maxHeight',\n    'minWidth',\n    'minHeight',\n    'left',\n    'top',\n    'backgroundColor',\n    'position',\n    'overflow',\n    'border',\n    'wordWrap',\n    'textAlign',\n    'outline',\n    'transform'\n  ]);\n\n  assign(parent.style, {\n    width: bounds.width + 'px',\n    height: bounds.height + 'px',\n    maxWidth: bounds.maxWidth + 'px',\n    maxHeight: bounds.maxHeight + 'px',\n    minWidth: bounds.minWidth + 'px',\n    minHeight: bounds.minHeight + 'px',\n    left: bounds.x + 'px',\n    top: bounds.y + 'px',\n    backgroundColor: '#ffffff',\n    position: 'absolute',\n    overflow: 'visible',\n    border: '1px solid #ccc',\n    boxSizing: 'border-box',\n    wordWrap: 'normal',\n    textAlign: 'center',\n    outline: 'none'\n  }, parentStyle);\n\n  var contentStyle = pick(style, [\n    'fontFamily',\n    'fontSize',\n    'fontWeight',\n    'lineHeight',\n    'padding',\n    'paddingTop',\n    'paddingRight',\n    'paddingBottom',\n    'paddingLeft'\n  ]);\n\n  assign(content.style, {\n    boxSizing: 'border-box',\n    width: '100%',\n    outline: 'none',\n    wordWrap: 'break-word'\n  }, contentStyle);\n\n  if (options.centerVertically) {\n    assign(content.style, {\n      position: 'absolute',\n      top: '50%',\n      transform: 'translate(0, -50%)'\n    }, contentStyle);\n  }\n\n  content.innerText = value;\n\n  domEvent.bind(content, 'keydown', this.keyHandler);\n  domEvent.bind(content, 'mousedown', stopPropagation);\n  domEvent.bind(content, 'paste', self.handlePaste);\n\n  if (options.autoResize) {\n    domEvent.bind(content, 'input', this.autoResize);\n  }\n\n  if (options.resizable) {\n    this.resizable(style);\n  }\n\n  container.appendChild(parent);\n\n  // set selection to end of text\n  this.setSelection(content.lastChild, content.lastChild && content.lastChild.length);\n\n  return parent;\n};\n\n/**\n * Intercept paste events to remove formatting from pasted text.\n */\nTextBox.prototype.handlePaste = function(e) {\n  var options = this.options,\n      style = this.style;\n\n  e.preventDefault();\n\n  var text;\n\n  if (e.clipboardData) {\n\n    // Chrome, Firefox, Safari\n    text = e.clipboardData.getData('text/plain');\n  } else {\n\n    // Internet Explorer\n    text = window.clipboardData.getData('Text');\n  }\n\n  this.insertText(text);\n\n  if (options.autoResize) {\n    var hasResized = this.autoResize(style);\n\n    if (hasResized) {\n      this.resizeHandler(hasResized);\n    }\n  }\n};\n\nTextBox.prototype.insertText = function(text) {\n\n  // insertText command not supported by Internet Explorer\n  var success = document.execCommand('insertText', false, text);\n\n  if (success) {\n    return;\n  }\n\n  this._insertTextIE(text);\n};\n\nTextBox.prototype._insertTextIE = function(text) {\n\n  // Internet Explorer\n  var range = this.getSelection(),\n      startContainer = range.startContainer,\n      endContainer = range.endContainer,\n      startOffset = range.startOffset,\n      endOffset = range.endOffset,\n      commonAncestorContainer = range.commonAncestorContainer;\n\n  var childNodesArray = toArray(commonAncestorContainer.childNodes);\n\n  var container,\n      offset;\n\n  if (isTextNode(commonAncestorContainer)) {\n    var containerTextContent = startContainer.textContent;\n\n    startContainer.textContent =\n      containerTextContent.substring(0, startOffset)\n      + text\n      + containerTextContent.substring(endOffset);\n\n    container = startContainer;\n    offset = startOffset + text.length;\n\n  } else if (startContainer === this.content && endContainer === this.content) {\n    var textNode = document.createTextNode(text);\n\n    this.content.insertBefore(textNode, childNodesArray[startOffset]);\n\n    container = textNode;\n    offset = textNode.textContent.length;\n  } else {\n    var startContainerChildIndex = childNodesArray.indexOf(startContainer),\n        endContainerChildIndex = childNodesArray.indexOf(endContainer);\n\n    childNodesArray.forEach(function(childNode, index) {\n\n      if (index === startContainerChildIndex) {\n        childNode.textContent =\n          startContainer.textContent.substring(0, startOffset) +\n          text +\n          endContainer.textContent.substring(endOffset);\n      } else if (index > startContainerChildIndex && index <= endContainerChildIndex) {\n        domRemove(childNode);\n      }\n    });\n\n    container = startContainer;\n    offset = startOffset + text.length;\n  }\n\n  if (container && offset !== undefined) {\n\n    // is necessary in Internet Explorer\n    setTimeout(function() {\n      self.setSelection(container, offset);\n    });\n  }\n};\n\n/**\n * Automatically resize element vertically to fit its content.\n */\nTextBox.prototype.autoResize = function() {\n  var parent = this.parent,\n      content = this.content;\n\n  var fontSize = parseInt(this.style.fontSize) || 12;\n\n  if (content.scrollHeight > parent.offsetHeight ||\n      content.scrollHeight < parent.offsetHeight - fontSize) {\n    var bounds = parent.getBoundingClientRect();\n\n    var height = content.scrollHeight;\n    parent.style.height = height + 'px';\n\n    this.resizeHandler({\n      width: bounds.width,\n      height: bounds.height,\n      dx: 0,\n      dy: height - bounds.height\n    });\n  }\n};\n\n/**\n * Make an element resizable by adding a resize handle.\n */\nTextBox.prototype.resizable = function() {\n  var self = this;\n\n  var parent = this.parent,\n      resizeHandle = this.resizeHandle;\n\n  var minWidth = parseInt(this.style.minWidth) || 0,\n      minHeight = parseInt(this.style.minHeight) || 0,\n      maxWidth = parseInt(this.style.maxWidth) || Infinity,\n      maxHeight = parseInt(this.style.maxHeight) || Infinity;\n\n  if (!resizeHandle) {\n    resizeHandle = this.resizeHandle = domify(\n      '<div class=\"djs-direct-editing-resize-handle\"></div>'\n    );\n\n    var startX, startY, startWidth, startHeight;\n\n    var onMouseDown = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      startX = e.clientX;\n      startY = e.clientY;\n\n      var bounds = parent.getBoundingClientRect();\n\n      startWidth = bounds.width;\n      startHeight = bounds.height;\n\n      domEvent.bind(document, 'mousemove', onMouseMove);\n      domEvent.bind(document, 'mouseup', onMouseUp);\n    };\n\n    var onMouseMove = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      var newWidth = min(max(startWidth + e.clientX - startX, minWidth), maxWidth);\n      var newHeight = min(max(startHeight + e.clientY - startY, minHeight), maxHeight);\n\n      parent.style.width = newWidth + 'px';\n      parent.style.height = newHeight + 'px';\n\n      self.resizeHandler({\n        width: startWidth,\n        height: startHeight,\n        dx: e.clientX - startX,\n        dy: e.clientY - startY\n      });\n    };\n\n    var onMouseUp = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      domEvent.unbind(document,'mousemove', onMouseMove, false);\n      domEvent.unbind(document, 'mouseup', onMouseUp, false);\n    };\n\n    domEvent.bind(resizeHandle, 'mousedown', onMouseDown);\n  }\n\n  assign(resizeHandle.style, {\n    position: 'absolute',\n    bottom: '0px',\n    right: '0px',\n    cursor: 'nwse-resize',\n    width: '0',\n    height: '0',\n    borderTop: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent',\n    borderRight: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderBottom: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderLeft: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent'\n  });\n\n  parent.appendChild(resizeHandle);\n};\n\n\n/**\n * Clear content and style of the textbox, unbind listeners and\n * reset CSS style.\n */\nTextBox.prototype.destroy = function() {\n  var parent = this.parent,\n      content = this.content,\n      resizeHandle = this.resizeHandle;\n\n  // clear content\n  content.innerText = '';\n\n  // clear styles\n  parent.removeAttribute('style');\n  content.removeAttribute('style');\n\n  domEvent.unbind(content, 'keydown', this.keyHandler);\n  domEvent.unbind(content, 'mousedown', stopPropagation);\n  domEvent.unbind(content, 'input', this.autoResize);\n  domEvent.unbind(content, 'paste', this.handlePaste);\n\n  if (resizeHandle) {\n    resizeHandle.removeAttribute('style');\n\n    domRemove(resizeHandle);\n  }\n\n  domRemove(parent);\n};\n\n\nTextBox.prototype.getValue = function() {\n  return this.content.innerText.trim();\n};\n\n\nTextBox.prototype.getSelection = function() {\n  var selection = window.getSelection(),\n      range = selection.getRangeAt(0);\n\n  return range;\n};\n\n\nTextBox.prototype.setSelection = function(container, offset) {\n  var range = document.createRange();\n\n  if (container === null) {\n    range.selectNodeContents(this.content);\n  } else {\n    range.setStart(container, offset);\n    range.setEnd(container, offset);\n  }\n\n  var selection = window.getSelection();\n\n  selection.removeAllRanges();\n  selection.addRange(range);\n};\n","import {\n  bind,\n  find\n} from 'min-dash';\n\nimport TextBox from './TextBox';\n\n\n/**\n * A direct editing component that allows users\n * to edit an elements text directly in the diagram\n *\n * @param {EventBus} eventBus the event bus\n */\nexport default function DirectEditing(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n\n  this._providers = [];\n  this._textbox = new TextBox({\n    container: canvas.getContainer(),\n    keyHandler: bind(this._handleKey, this),\n    resizeHandler: bind(this._handleResize, this)\n  });\n}\n\nDirectEditing.$inject = [ 'eventBus', 'canvas' ];\n\n\n/**\n * Register a direct editing provider\n\n * @param {Object} provider the provider, must expose an #activate(element) method that returns\n *                          an activation context ({ bounds: {x, y, width, height }, text }) if\n *                          direct editing is available for the given element.\n *                          Additionally the provider must expose a #update(element, value) method\n *                          to receive direct editing updates.\n */\nDirectEditing.prototype.registerProvider = function(provider) {\n  this._providers.push(provider);\n};\n\n\n/**\n * Returns true if direct editing is currently active\n *\n * @return {Boolean}\n */\nDirectEditing.prototype.isActive = function() {\n  return !!this._active;\n};\n\n\n/**\n * Cancel direct editing, if it is currently active\n */\nDirectEditing.prototype.cancel = function() {\n  if (!this._active) {\n    return;\n  }\n\n  this._fire('cancel');\n  this.close();\n};\n\n\nDirectEditing.prototype._fire = function(event, context) {\n  this._eventBus.fire('directEditing.' + event, context || { active: this._active });\n};\n\nDirectEditing.prototype.close = function() {\n  this._textbox.destroy();\n\n  this._fire('deactivate');\n\n  this._active = null;\n\n  this.resizable = undefined;\n};\n\n\nDirectEditing.prototype.complete = function() {\n\n  var active = this._active;\n\n  if (!active) {\n    return;\n  }\n\n  var containerBounds,\n      previousBounds = active.context.bounds,\n      newBounds = this.$textbox.getBoundingClientRect(),\n      newText = this.getValue(),\n      previousText = active.context.text;\n\n  if (\n    newText !== previousText ||\n    newBounds.height !== previousBounds.height ||\n    newBounds.width !== previousBounds.width\n  ) {\n    containerBounds = this._textbox.container.getBoundingClientRect();\n\n    active.provider.update(active.element, newText, active.context.text, {\n      x: newBounds.left - containerBounds.left,\n      y: newBounds.top - containerBounds.top,\n      width: newBounds.width,\n      height: newBounds.height\n    });\n  }\n\n  this._fire('complete');\n\n  this.close();\n};\n\n\nDirectEditing.prototype.getValue = function() {\n  return this._textbox.getValue();\n};\n\n\nDirectEditing.prototype._handleKey = function(e) {\n\n  // stop bubble\n  e.stopPropagation();\n\n  var key = e.keyCode || e.charCode;\n\n  // ESC\n  if (key === 27) {\n    e.preventDefault();\n    return this.cancel();\n  }\n\n  // Enter\n  if (key === 13 && !e.shiftKey) {\n    e.preventDefault();\n    return this.complete();\n  }\n};\n\n\nDirectEditing.prototype._handleResize = function(event) {\n  this._fire('resize', event);\n};\n\n\n/**\n * Activate direct editing on the given element\n *\n * @param {Object} ElementDescriptor the descriptor for a shape or connection\n * @return {Boolean} true if the activation was possible\n */\nDirectEditing.prototype.activate = function(element) {\n  if (this.isActive()) {\n    this.cancel();\n  }\n\n  // the direct editing context\n  var context;\n\n  var provider = find(this._providers, function(p) {\n    return (context = p.activate(element)) ? p : null;\n  });\n\n  // check if activation took place\n  if (context) {\n    this.$textbox = this._textbox.create(\n      context.bounds,\n      context.style,\n      context.text,\n      context.options\n    );\n\n    this._active = {\n      element: element,\n      context: context,\n      provider: provider\n    };\n\n    if (context.options && context.options.resizable) {\n      this.resizable = true;\n    }\n\n    this._fire('activate');\n  }\n\n  return !!context;\n};\n","import InteractionEventsModule from 'diagram-js/lib/features/interaction-events';\n\nimport DirectEditing from './lib/DirectEditing';\n\nexport default {\n  __depends__: [\n    InteractionEventsModule\n  ],\n  __init__: [ 'directEditing' ],\n  directEditing: [ 'type', DirectEditing ]\n};","import {\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nfunction getLabelAttr(semantic) {\n  if (is(semantic, 'dmn:Decision') ||\n      is(semantic, 'dmn:BusinessKnowledgeModel') ||\n      is(semantic, 'dmn:InputData') ||\n      is(semantic, 'dmn:KnowledgeSource')) {\n\n    return 'name';\n  }\n\n  if (is(semantic, 'dmn:TextAnnotation')) {\n    return 'text';\n  }\n}\n\nexport function getLabel(element) {\n  var semantic = element.businessObject,\n      attr = getLabelAttr(semantic);\n\n  if (attr) {\n    return semantic[attr] || '';\n  }\n}\n\n\nexport function setLabel(element, text, isExternal) {\n  var semantic = element.businessObject,\n      attr = getLabelAttr(semantic);\n\n  if (attr) {\n    semantic[attr] = text;\n  }\n\n  // show external label if not empty\n  if (isExternal) {\n    element.hidden = !text;\n  }\n\n  return element;\n}","import { getLabel } from './LabelUtil';\n\nimport {\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport {\n  assign,\n  isDefined\n} from 'min-dash';\n\n\nexport default function LabelEditingProvider(\n    canvas,\n    directEditing,\n    eventBus,\n    modeling,\n    textRenderer\n) {\n\n  this._canvas = canvas;\n  this._modeling = modeling;\n  this._textRenderer = textRenderer;\n\n  directEditing.registerProvider(this);\n\n  // listen to dblclick on non-root elements\n  eventBus.on('element.dblclick', function(event) {\n    directEditing.activate(event.element);\n  });\n\n  // complete on followup canvas operation\n  eventBus.on([\n    'autoPlace.start',\n    'canvas.viewbox.changing',\n    'drag.init',\n    'drillDown.click',\n    'element.mousedown',\n    'popupMenu.open'\n  ], function() {\n    directEditing.complete();\n  });\n\n  // cancel on command stack changes\n  eventBus.on([ 'commandStack.changed' ], function() {\n    directEditing.cancel();\n  });\n\n  eventBus.on('create.end', 500, function(e) {\n\n    var element = e.shape;\n\n    if (\n      is(element, 'dmn:Decision') ||\n      is(element, 'dmn:InputData') ||\n      is(element, 'dmn:BusinessKnowledgeModel') ||\n      is(element, 'dmn:KnowledgeSource') ||\n      is(element, 'dmn:TextAnnotation')\n    ) {\n      directEditing.activate(element);\n    }\n  });\n\n  eventBus.on('autoPlace.end', 500, function(event) {\n    directEditing.activate(event.shape);\n  });\n}\n\nLabelEditingProvider.$inject = [\n  'canvas',\n  'directEditing',\n  'eventBus',\n  'modeling',\n  'textRenderer'\n];\n\n\n/**\n * Activate direct editing for drgs and text annotations.\n *\n * @param  {djs.model.Base} element\n *\n * @return {Object} an object with properties bounds (position and size) and text\n */\nLabelEditingProvider.prototype.activate = function(element) {\n\n  var text = getLabel(element);\n\n  if (!isDefined(text)) {\n    return;\n  }\n\n  var context = {\n    text: text\n  };\n\n  var editingBBox = this.getEditingBBox(element);\n\n  assign(context, editingBBox);\n\n  var options = {};\n\n  // DRG elements\n  if (is(element, 'dmn:DRGElement')) {\n    assign(options, {\n      centerVertically: true\n    });\n  }\n\n  // text annotations\n  if (is(element, 'dmn:TextAnnotation')) {\n    assign(options, {\n      resizable: true\n    });\n  }\n\n  assign(context, {\n    options: options\n  });\n\n  return context;\n};\n\n\n/**\n * Get the editing bounding box based on the element's size and position\n *\n * @param  {djs.model.Base} element\n *\n * @return {Object}\n *         an object containing information about position and\n *         size (fixed or minimum and/or maximum)\n */\nLabelEditingProvider.prototype.getEditingBBox = function(element) {\n  var canvas = this._canvas;\n\n  var target = element.label || element;\n\n  var bbox = canvas.getAbsoluteBBox(target);\n\n  // default position\n  var bounds = { x: bbox.x, y: bbox.y };\n\n  var zoom = canvas.zoom();\n\n  var defaultStyle = this._textRenderer.getDefaultStyle();\n\n  // take zoom into account\n  var defaultFontSize = defaultStyle.fontSize * zoom,\n      defaultLineHeight = defaultStyle.lineHeight;\n\n  var style = {\n    fontFamily: this._textRenderer.getDefaultStyle().fontFamily,\n    fontWeight: this._textRenderer.getDefaultStyle().fontWeight\n  };\n\n  // DRG elements\n  if (is(element, 'dmn:DRGElement')) {\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height\n    });\n\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: (7 * zoom) + 'px',\n      paddingBottom: (7 * zoom) + 'px',\n      paddingLeft: (5 * zoom) + 'px',\n      paddingRight: (5 * zoom) + 'px'\n    });\n  }\n\n  // text annotations\n  if (is(element, 'dmn:TextAnnotation')) {\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height,\n      minWidth: 30 * zoom,\n      minHeight: 10 * zoom\n    });\n\n    assign(style, {\n      textAlign: 'left',\n      paddingTop: (5 * zoom) + 'px',\n      paddingBottom: (7 * zoom) + 'px',\n      paddingLeft: (7 * zoom) + 'px',\n      paddingRight: (5 * zoom) + 'px',\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight\n    });\n  }\n\n  return { bounds: bounds, style: style };\n};\n\n\nLabelEditingProvider.prototype.update = function(\n    element,\n    newLabel,\n    activeContextText,\n    bounds\n) {\n  var newBounds,\n      bbox;\n\n  if (is(element, 'dmn:TextAnnotation')) {\n\n    bbox = this._canvas.getAbsoluteBBox(element);\n\n    newBounds = {\n      x: element.x,\n      y: element.y,\n      width: element.width / bbox.width * bounds.width,\n      height: element.height / bbox.height * bounds.height\n    };\n  }\n\n  if (isEmptyText(newLabel)) {\n    newLabel = null;\n  }\n\n  this._modeling.updateLabel(element, newLabel, newBounds);\n};\n\n// helpers //////////\n\nfunction isEmptyText(label) {\n  return !label || !label.trim();\n}","import DiagramCommand from 'diagram-js/lib/command';\nimport DiagramChangeSupport from 'diagram-js/lib/features/change-support';\nimport DiagramDirectEditing from 'diagram-js-direct-editing';\n\nimport LabelEditingProvider from './LabelEditingProvider';\n\nexport default {\n  __depends__: [\n    DiagramCommand,\n    DiagramChangeSupport,\n    DiagramDirectEditing\n  ],\n  __init__: [ 'labelEditingProvider' ],\n  labelEditingProvider: [ 'type', LabelEditingProvider ]\n};\n","import inherits from 'inherits';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\n/**\n * Creates DMN-specific refs for new connection.\n *\n * @param {DrdFactory} drdFactory\n * @param {Injector} injector\n */\nexport default function CreateConnectionBehavior(drdFactory, injector) {\n  injector.invoke(CommandInterceptor, this);\n\n  this.preExecute('connection.create', function(context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        source = context.source,\n        target = context.target,\n        elementRef,\n        sourceRef,\n        targetRef;\n\n    if (is(connection, 'dmn:Association')) {\n      sourceRef = connectionBo.sourceRef = drdFactory\n        .create('dmn:DMNElementReference', {\n          href: '#' + source.id\n        });\n\n      sourceRef.$parent = connectionBo;\n\n      targetRef = connectionBo.targetRef = drdFactory\n        .create('dmn:DMNElementReference', {\n          href: '#' + target.id\n        });\n\n      targetRef.$parent = connectionBo;\n    } else {\n      elementRef = connectionBo[ 'required' + getRequirementType(source) ] = drdFactory\n        .create('dmn:DMNElementReference', {\n          href: '#' + source.id\n        });\n\n      elementRef.$parent = connectionBo;\n    }\n  }, true);\n\n}\n\nCreateConnectionBehavior.$inject = [\n  'drdFactory',\n  'injector'\n];\n\ninherits(CreateConnectionBehavior, CommandInterceptor);\n\n\n// helpers //////////\n\nfunction getRequirementType(source) {\n  if (is(source, 'dmn:BusinessKnowledgeModel')) {\n    return 'Knowledge';\n  } else if (is(source, 'dmn:Decision')) {\n    return 'Decision';\n  } else if (is(source, 'dmn:InputData')) {\n    return 'Input';\n  } else if (is(source, 'dmn:KnowledgeSource')) {\n    return 'Authority';\n  }\n}\n","import inherits from 'inherits';\r\n\r\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\r\n\r\nimport {\r\n  is,\r\n  isAny\r\n} from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport {\r\n  asTRBL,\r\n  getMid,\r\n  getOrientation\r\n} from 'diagram-js/lib/layout/LayoutUtil';\r\n\r\nimport {\r\n  assign,\r\n  forEach\r\n} from 'min-dash';\r\n\r\nvar LOW_PRIORITY = 500;\r\n\r\n\r\nexport default function LayoutConnectionBehavior(injector, layouter, modeling, rules) {\r\n  injector.invoke(CommandInterceptor, this);\r\n\r\n  // specify connection start and end on connection create\r\n  this.preExecute([\r\n    'connection.create',\r\n    'connection.reconnect'\r\n  ], function(context) {\r\n    var connection = context.connection,\r\n        source = context.newSource || context.source,\r\n        target = context.newTarget || context.target;\r\n\r\n    if (is(connection, 'dmn:InformationRequirement')\r\n      && !rules.allowed('connection.connect', {\r\n        connection: connection,\r\n        source: source,\r\n        target: target\r\n      })\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (!is(connection, 'dmn:InformationRequirement')) {\r\n      return;\r\n    }\r\n\r\n    var orientation = getOrientation(source, target);\r\n\r\n    if (!context.hints) {\r\n      context.hints = {};\r\n    }\r\n\r\n    assign(context.hints, getConnectionHints(source, target, orientation));\r\n  }, true);\r\n\r\n  /**\r\n   * Update incoming information requirements.\r\n   *\r\n   * @param {djs.model.Shape} target\r\n   * @param {Array<djs.model.Connection>} [informationRequirements]\r\n   * @param {string} [orientation]\r\n   */\r\n  function updateInformationRequirements(target, informationRequirements, orientation) {\r\n\r\n    // (1) get information requirements\r\n    if (!informationRequirements) {\r\n      informationRequirements = target.incoming.filter(function(incoming) {\r\n        return is(incoming, 'dmn:InformationRequirement');\r\n      });\r\n    }\r\n\r\n    var incomingInformationRequirementsByOrientation = {};\r\n\r\n    // (2) get information requirements per orientation\r\n    if (orientation) {\r\n      incomingInformationRequirementsByOrientation[ orientation ] =\r\n        informationRequirements;\r\n    } else {\r\n      incomingInformationRequirementsByOrientation =\r\n        getInformationRequirementsByOrientation(target, informationRequirements);\r\n    }\r\n\r\n    // (3) update information requirements per orientation\r\n    forEach(incomingInformationRequirementsByOrientation,\r\n      function(informationRequirements, orientation) {\r\n\r\n        // (3.1) sort information requirements\r\n        informationRequirements = sortInformationRequirements(\r\n          informationRequirements,\r\n          orientation\r\n        );\r\n\r\n        // (3.2) get new connection start and end\r\n        var connectionStartEnd =\r\n          getConnectionsStartEnd(informationRequirements, target, orientation);\r\n\r\n        // (3.3) update information requirements\r\n        informationRequirements.forEach((informationRequirement, index) => {\r\n          var connectionStart = connectionStartEnd[ index ].start,\r\n              connectionEnd = connectionStartEnd[ index ].end;\r\n\r\n          var waypoints = layouter.layoutConnection(informationRequirement, {\r\n            connectionStart: connectionStart,\r\n            connectionEnd: connectionEnd\r\n          });\r\n\r\n          modeling.updateWaypoints(informationRequirement, waypoints);\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  // update information requirements on connection create and delete\r\n  // update information requirements of new target on connection reconnect\r\n  this.postExecuted([\r\n    'connection.create',\r\n    'connection.delete',\r\n    'connection.reconnect'\r\n  ], function(context) {\r\n    var connection = context.connection,\r\n        source = connection.source || context.source,\r\n        target = connection.target || context.target;\r\n\r\n    if (!is(connection, 'dmn:InformationRequirement')) {\r\n      return;\r\n    }\r\n\r\n    var orientation = getOrientation(source, target);\r\n\r\n    // update all information requirements with same orientation\r\n    var informationRequirements = target.incoming.filter(incoming => {\r\n      var incomingOrientation = getOrientation(incoming.source, incoming.target);\r\n\r\n      return is(incoming, 'dmn:InformationRequirement')\r\n        && isSameOrientation(incomingOrientation, orientation);\r\n    });\r\n\r\n    if (!informationRequirements.length) {\r\n      return;\r\n    }\r\n\r\n    updateInformationRequirements(target, informationRequirements, orientation);\r\n  }, true);\r\n\r\n  // update information requirements of old target on connection reconnect\r\n  this.preExecute('connection.reconnect', function(context) {\r\n    var connection = context.connection,\r\n        source = connection.source,\r\n        target = connection.target;\r\n\r\n    if (!is(connection, 'dmn:InformationRequirement')) {\r\n      return;\r\n    }\r\n\r\n    var orientation = getOrientation(source, target);\r\n\r\n    // update all information requirements with same orientation except reconnected\r\n    var informationRequirements = target.incoming.filter(incoming => {\r\n      var incomingOrientation = getOrientation(incoming.source, incoming.target);\r\n\r\n      return incoming !== connection\r\n        && is(incoming, 'dmn:InformationRequirement')\r\n        && isSameOrientation(incomingOrientation, orientation);\r\n    });\r\n\r\n    if (!informationRequirements.length) {\r\n      return;\r\n    }\r\n\r\n    updateInformationRequirements(target, informationRequirements, orientation);\r\n  }, true);\r\n\r\n  // update information requirements on elements move\r\n  this.postExecuted('elements.move', LOW_PRIORITY, function(context) {\r\n    var shapes = context.shapes,\r\n        closure = context.closure,\r\n        enclosedConnections = closure.enclosedConnections;\r\n\r\n    shapes.forEach(function(shape) {\r\n      if (!isAny(shape, [ 'dmn:Decision', 'dmn:InputData' ])) {\r\n        return;\r\n      }\r\n\r\n      // (1) update incoming information requirements\r\n      var incomingInformationRequirements = shape.incoming.filter(function(incoming) {\r\n        return is(incoming, 'dmn:InformationRequirement')\r\n          && !enclosedConnections[ incoming.id ];\r\n      });\r\n\r\n      if (incomingInformationRequirements.length) {\r\n        updateInformationRequirements(shape, incomingInformationRequirements);\r\n      }\r\n\r\n      // (2) update outgoing information requirements\r\n      shape.outgoing.forEach(function(outgoing) {\r\n        if (!is(outgoing, 'dmn:InformationRequirement')\r\n          || enclosedConnections[ outgoing.id ]) {\r\n          return;\r\n        }\r\n\r\n        updateInformationRequirements(outgoing.target);\r\n      });\r\n    });\r\n  }, true);\r\n}\r\n\r\nLayoutConnectionBehavior.$inject = [\r\n  'injector',\r\n  'layouter',\r\n  'modeling',\r\n  'rules'\r\n];\r\n\r\ninherits(LayoutConnectionBehavior, CommandInterceptor);\r\n\r\n// helpers //////////\r\n\r\nfunction getConnectionHints(source, target, orientation) {\r\n  var connectionStart = getMid(source),\r\n      connectionEnd = getMid(target);\r\n\r\n  if (orientation.includes('bottom')) {\r\n    connectionStart.y = source.y;\r\n    connectionEnd.y = target.y + target.height;\r\n  } else if (orientation.includes('top')) {\r\n    connectionStart.y = source.y + source.height;\r\n    connectionEnd.y = target.y;\r\n  } else if (orientation.includes('right')) {\r\n    connectionStart.x = source.x;\r\n    connectionEnd.x = target.x + target.width;\r\n  } else {\r\n    connectionStart.x = source.x + source.width;\r\n    connectionEnd.x = target.x;\r\n  }\r\n\r\n  return {\r\n    connectionStart: connectionStart,\r\n    connectionEnd: connectionEnd\r\n  };\r\n}\r\n\r\n/**\r\n * Get connections start and end based on number of information requirements and\r\n * orientation.\r\n *\r\n * @param {Array<djs.model.Connection>} informationRequirements\r\n * @param {djs.model.Shape} target\r\n * @param {string} orientation\r\n *\r\n * @returns {Array<Object>}\r\n */\r\nfunction getConnectionsStartEnd(informationRequirements, target, orientation) {\r\n  return informationRequirements.map(\r\n    function(informationRequirement, index) {\r\n      var source = informationRequirement.source,\r\n          sourceMid = getMid(source),\r\n          sourceTrbl = asTRBL(source),\r\n          targetTrbl = asTRBL(target);\r\n\r\n      var length = informationRequirements.length;\r\n\r\n      if (orientation.includes('bottom')) {\r\n        return {\r\n          start: {\r\n            x: sourceMid.x,\r\n            y: sourceTrbl.top\r\n          },\r\n          end: {\r\n            x: targetTrbl.left + target.width / (length + 1) * (index + 1),\r\n            y: targetTrbl.bottom\r\n          }\r\n        };\r\n      } else if (orientation.includes('top')) {\r\n        return {\r\n          start: {\r\n            x: sourceMid.x,\r\n            y: sourceTrbl.bottom\r\n          },\r\n          end: {\r\n            x: targetTrbl.left + target.width / (length + 1) * (index + 1),\r\n            y: targetTrbl.top\r\n          }\r\n        };\r\n      } else if (orientation.includes('right')) {\r\n        return {\r\n          start: {\r\n            x: sourceTrbl.left,\r\n            y: sourceMid.y\r\n          },\r\n          end: {\r\n            x: targetTrbl.right,\r\n            y: targetTrbl.top + target.height / (length + 1) * (index + 1)\r\n          }\r\n        };\r\n      } else {\r\n        return {\r\n          start: {\r\n            x: sourceTrbl.right,\r\n            y: sourceMid.y\r\n          },\r\n          end: {\r\n            x: targetTrbl.left,\r\n            y: targetTrbl.top + target.height / (length + 1) * (index + 1)\r\n          }\r\n        };\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\n/**\r\n * Get information requirements by orientation.\r\n *\r\n * @param {djs.model.shape} target\r\n * @param {Array<djs.model.Connection>} informationRequirements\r\n *\r\n * @returns {Object}\r\n */\r\nfunction getInformationRequirementsByOrientation(target, informationRequirements) {\r\n  var incomingInformationRequirementsByOrientation = {};\r\n\r\n  informationRequirements.forEach(function(incoming) {\r\n    var orientation = getOrientation(incoming.source, target).split('-').shift();\r\n\r\n    if (!incomingInformationRequirementsByOrientation[ orientation ]) {\r\n      incomingInformationRequirementsByOrientation[ orientation ] = [];\r\n    }\r\n\r\n    incomingInformationRequirementsByOrientation[ orientation ].push(incoming);\r\n  });\r\n\r\n  return incomingInformationRequirementsByOrientation;\r\n}\r\n\r\nfunction isSameOrientation(orientationA, orientationB) {\r\n  return orientationA\r\n    && orientationB\r\n    && orientationA.split('-').shift() === orientationB.split('-').shift();\r\n}\r\n\r\nfunction sortInformationRequirements(informationRequirements, orientation) {\r\n  var axis;\r\n\r\n  if (orientation.includes('top') || orientation.includes('bottom')) {\r\n    axis = 'x';\r\n  } else {\r\n    axis = 'y';\r\n  }\r\n\r\n  return informationRequirements.sort(function(a, b) {\r\n    return getMid(a.source)[ axis ] - getMid(b.source)[ axis ];\r\n  });\r\n}","import inherits from 'inherits';\r\n\r\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\r\n\r\n\r\nexport default function ReplaceConnectionBehavior(injector, modeling, rules) {\r\n  injector.invoke(CommandInterceptor, this);\r\n\r\n  this.preExecute('connection.reconnect', function(context) {\r\n    var connection = context.connection,\r\n        source = context.newSource || connection.source,\r\n        target = context.newTarget || connection.target,\r\n        waypoints = connection.waypoints.slice();\r\n\r\n    var allowed = rules.allowed('connection.reconnect', {\r\n      connection: connection,\r\n      source: source,\r\n      target: target\r\n    });\r\n\r\n    if (!allowed || allowed.type === connection.type) {\r\n      return;\r\n    }\r\n\r\n    context.connection = modeling.connect(source, target, {\r\n      type: allowed.type,\r\n      waypoints: waypoints\r\n    });\r\n\r\n    modeling.removeConnection(connection);\r\n  }, true);\r\n}\r\n\r\ninherits(ReplaceConnectionBehavior, CommandInterceptor);\r\n\r\nReplaceConnectionBehavior.$inject = [\r\n  'injector',\r\n  'modeling',\r\n  'rules'\r\n];","import inherits from 'inherits';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\n\n/**\n * Defines the behaviour of what happens to the elements inside a container\n * that morphs into another DRD element\n */\nexport default function ReplaceElementBehaviour(eventBus, modeling) {\n  CommandInterceptor.call(this, eventBus);\n\n  this._modeling = modeling;\n\n  this.postExecuted([ 'shape.replace' ], 1500, function(e) {\n    var context = e.context,\n        oldShape = context.oldShape,\n        newShape = context.newShape;\n\n\n    modeling.unclaimId(oldShape.businessObject.id, oldShape.businessObject);\n    modeling.updateProperties(newShape, { id: oldShape.id });\n  });\n}\n\ninherits(ReplaceElementBehaviour, CommandInterceptor);\n\nReplaceElementBehaviour.$inject = [ 'eventBus', 'modeling' ];\n","import { forEach } from 'min-dash';\r\n\r\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\r\n\r\nimport {\r\n  is,\r\n  getBusinessObject\r\n} from '../../../util/ModelUtil';\r\n\r\nconst ID = 'id';\r\n\r\n\r\nexport default class IdChangeBehavior extends CommandInterceptor {\r\n  constructor(eventBus) {\r\n    super(eventBus);\r\n\r\n    this.executed('element.updateProperties', this.updateIds.bind(this));\r\n  }\r\n\r\n  updateIds({ context }) {\r\n    const { element, oldProperties, properties } = context;\r\n\r\n    const bo = getBusinessObject(element);\r\n\r\n    if (this.shouldSkipUpdate(bo, oldProperties, properties)) {\r\n      return;\r\n    }\r\n\r\n    const definitions = getDefinitions(bo);\r\n\r\n    const drgElements = definitions.get('drgElement');\r\n    drgElements.forEach(drgElement => {\r\n      updateElementReferences(drgElement, oldProperties.id, properties.id);\r\n    });\r\n\r\n    const artifacts = definitions.get('artifact');\r\n    artifacts.forEach(artifact => {\r\n      updateAssociationReferences(artifact, oldProperties.id, properties.id);\r\n    });\r\n  }\r\n\r\n  shouldSkipUpdate(bo, oldProperties, newProperties) {\r\n    return !isIdChange(oldProperties, newProperties) ||\r\n     (!is(bo, 'dmn:DRGElement') && !is(bo, 'dmn:TextAnnotation'));\r\n  }\r\n}\r\n\r\nIdChangeBehavior.$inject = [ 'eventBus' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction isIdChange(oldProperties, properties) {\r\n  return ID in oldProperties && ID in properties;\r\n}\r\n\r\n\r\n/**\r\n * Walk up the tree until at the root to get to dmn:Definitions.\r\n *\r\n * @param {ModdleElement} element\r\n */\r\nfunction getDefinitions(element) {\r\n  let definitions = element;\r\n\r\n  while (!is(definitions, 'dmn:Definitions')) {\r\n    definitions = definitions.$parent;\r\n  }\r\n\r\n  return definitions;\r\n}\r\n\r\nfunction updateElementReferences(element, oldId, id) {\r\n\r\n  const handlers = {\r\n\r\n    authorityRequirement: () => {\r\n      element.authorityRequirement.forEach(authorityRequirement => {\r\n        const {\r\n          requiredAuthority,\r\n          requiredDecision,\r\n          requiredInput\r\n        } = authorityRequirement;\r\n\r\n        if (requiredAuthority && requiredAuthority.href === `#${oldId}`) {\r\n          requiredAuthority.href = `#${id}`;\r\n        }\r\n\r\n        if (requiredDecision && requiredDecision.href === `#${oldId}`) {\r\n          requiredDecision.href = `#${id}`;\r\n        }\r\n\r\n        if (requiredInput && requiredInput.href === `#${oldId}`) {\r\n          requiredInput.href = `#${id}`;\r\n        }\r\n      });\r\n    },\r\n\r\n    informationRequirement: () => {\r\n      element.informationRequirement.forEach(informationRequirement => {\r\n        const { requiredDecision, requiredInput } = informationRequirement;\r\n\r\n        if (requiredDecision && requiredDecision.href === `#${oldId}`) {\r\n          requiredDecision.href = `#${id}`;\r\n        }\r\n\r\n        if (requiredInput && requiredInput.href === `#${oldId}`) {\r\n          requiredInput.href = `#${id}`;\r\n        }\r\n      });\r\n    },\r\n\r\n    knowledgeRequirement: () => {\r\n      element.knowledgeRequirement.forEach(knowledgeRequirement => {\r\n        const { requiredKnowledge } = knowledgeRequirement;\r\n\r\n        if (requiredKnowledge && requiredKnowledge.href === `#${oldId}`) {\r\n          requiredKnowledge.href = `#${id}`;\r\n        }\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  forEach(handlers, (handler, key) => {\r\n\r\n    if (element[key]) {\r\n      handler();\r\n    }\r\n\r\n  });\r\n}\r\n\r\nfunction updateAssociationReferences(element, oldId, id) {\r\n\r\n  const handlers = {\r\n    sourceRef: () => {\r\n      const { sourceRef } = element;\r\n\r\n      if (sourceRef.href === `#${oldId}`) {\r\n        sourceRef.href = `#${id}`;\r\n      }\r\n    },\r\n    targetRef: () => {\r\n      const { targetRef } = element;\r\n\r\n      if (targetRef.href === `#${oldId}`) {\r\n        targetRef.href = `#${id}`;\r\n      }\r\n    }\r\n  };\r\n\r\n  forEach(handlers, (handler, key) => {\r\n\r\n    if (element[key]) {\r\n      handler();\r\n    }\r\n\r\n  });\r\n}\r\n","import CreateConnectionBehavior from './CreateConnectionBehavior';\nimport LayoutConnectionBehavior from './LayoutConnectionBehavior';\nimport ReplaceConnectionBehavior from './ReplaceConnectionBehavior';\nimport ReplaceElementBehavior from './ReplaceElementBehavior';\nimport IdChangeBehavior from\n  'dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior';\n\nexport default {\n  __init__: [\n    'createConnectionBehavior',\n    'idChangeBehavior',\n    'layoutConnectionBehavior',\n    'replaceConnectionBehavior',\n    'replaceElementBehavior'\n  ],\n  createConnectionBehavior: [ 'type', CreateConnectionBehavior ],\n  idChangeBehavior: [ 'type', IdChangeBehavior ],\n  layoutConnectionBehavior: [ 'type', LayoutConnectionBehavior ],\n  replaceConnectionBehavior: [ 'type', ReplaceConnectionBehavior ],\n  replaceElementBehavior: [ 'type', ReplaceElementBehavior ]\n};\n","import inherits from 'inherits';\n\nimport CommandInterceptor from '../../command/CommandInterceptor';\n\n/**\n * A basic provider that may be extended to implement modeling rules.\n *\n * Extensions should implement the init method to actually add their custom\n * modeling checks. Checks may be added via the #addRule(action, fn) method.\n *\n * @param {EventBus} eventBus\n */\nexport default function RuleProvider(eventBus) {\n  CommandInterceptor.call(this, eventBus);\n\n  this.init();\n}\n\nRuleProvider.$inject = [ 'eventBus' ];\n\ninherits(RuleProvider, CommandInterceptor);\n\n\n/**\n * Adds a modeling rule for the given action, implemented through\n * a callback function.\n *\n * The function will receive the modeling specific action context\n * to perform its check. It must return `false` to disallow the\n * action from happening or `true` to allow the action.\n *\n * A rule provider may pass over the evaluation to lower priority\n * rules by returning return nothing (or <code>undefined</code>).\n *\n * @example\n *\n * ResizableRules.prototype.init = function() {\n *\n *   \\/**\n *    * Return `true`, `false` or nothing to denote\n *    * _allowed_, _not allowed_ and _continue evaluating_.\n *    *\\/\n *   this.addRule('shape.resize', function(context) {\n *\n *     var shape = context.shape;\n *\n *     if (!context.newBounds) {\n *       // check general resizability\n *       if (!shape.resizable) {\n *         return false;\n *       }\n *\n *       // not returning anything (read: undefined)\n *       // will continue the evaluation of other rules\n *       // (with lower priority)\n *       return;\n *     } else {\n *       // element must have minimum size of 10*10 points\n *       return context.newBounds.width > 10 && context.newBounds.height > 10;\n *     }\n *   });\n * };\n *\n * @param {string|Array<string>} actions the identifier for the modeling action to check\n * @param {number} [priority] the priority at which this rule is being applied\n * @param {Function} fn the callback function that performs the actual check\n */\nRuleProvider.prototype.addRule = function(actions, priority, fn) {\n\n  var self = this;\n\n  if (typeof actions === 'string') {\n    actions = [ actions ];\n  }\n\n  actions.forEach(function(action) {\n\n    self.canExecute(action, priority, function(context, action, event) {\n      return fn(context);\n    }, true);\n  });\n};\n\n/**\n * Implement this method to add new rules during provider initialization.\n */\nRuleProvider.prototype.init = function() {};","import {\n  is,\n  isAny\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport inherits from 'inherits';\n\nimport RuleProvider from 'diagram-js/lib/features/rules/RuleProvider';\n\nimport {\n  every,\n  isArray\n} from 'min-dash';\n\n\n/**\n * DRD modeling rules.\n */\nexport default function DrdRules(injector) {\n  injector.invoke(RuleProvider, this);\n}\n\ninherits(DrdRules, RuleProvider);\n\nDrdRules.$inject = [ 'injector' ];\n\nDrdRules.prototype.init = function() {\n\n  this.addRule('connection.create', function(context) {\n    var source = context.source,\n        target = context.target;\n\n    return canConnect(source, target);\n  });\n\n  this.addRule('connection.reconnect', function(context) {\n    var connection = context.connection,\n        source = context.source,\n        target = context.target;\n\n    return canConnect(source, target, connection);\n  });\n\n  this.addRule('connection.updateWaypoints', function(context) {\n    const connection = context.connection;\n\n    return {\n      type: connection.type,\n      businessObject: connection.businessObject\n    };\n  });\n\n  this.addRule('elements.move', function(context) {\n    var target = context.target,\n        shapes = context.shapes,\n        position = context.position;\n\n    return canMove(shapes, target, position);\n  });\n\n  this.addRule('shape.create', function(context) {\n    var shape = context.shape,\n        target = context.target;\n\n    return canCreate(shape, target);\n  });\n\n  this.addRule('shape.resize', function(context) {\n    var shape = context.shape;\n\n    return is(shape, 'dmn:TextAnnotation');\n  });\n\n};\n\nDrdRules.prototype.canConnect = canConnect;\n\nDrdRules.prototype.canCreate = canCreate;\n\nDrdRules.prototype.canMove = canMove;\n\n\nfunction canConnect(source, target) {\n  if (!source || isLabel(source) || !target || isLabel(target)) {\n    return null;\n  }\n\n  if (source === target) {\n    return false;\n  }\n\n  if (is(source, 'dmn:BusinessKnowledgeModel') &&\n      isAny(target, [\n        'dmn:BusinessKnowledgeModel',\n        'dmn:Decision'\n      ])) {\n    return { type: 'dmn:KnowledgeRequirement' };\n  }\n\n  if (is(source, 'dmn:Decision')) {\n\n    if (is(target, 'dmn:Decision')) {\n      return { type: 'dmn:InformationRequirement' };\n    }\n\n    if (is(target, 'dmn:KnowledgeSource')) {\n      return { type: 'dmn:AuthorityRequirement' };\n    }\n\n  }\n\n  if (is(source, 'dmn:Definitions') || is(target, 'dmn:Definitions')) {\n    return false;\n  }\n\n  if (is(source, 'dmn:InputData')) {\n\n    if (is(target, 'dmn:Decision')) {\n      return { type: 'dmn:InformationRequirement' };\n    }\n\n    if (is(target, 'dmn:KnowledgeSource')) {\n      return { type: 'dmn:AuthorityRequirement' };\n    }\n\n  }\n\n  if (is(source, 'dmn:KnowledgeSource') &&\n      isAny(target, [\n        'dmn:BusinessKnowledgeModel',\n        'dmn:Decision',\n        'dmn:KnowledgeSource'\n      ])) {\n    return { type: 'dmn:AuthorityRequirement' };\n  }\n\n  if ((is(source, 'dmn:TextAnnotation') && !is(target, 'dmn:TextAnnotation'))\n  || (!is(source, 'dmn:TextAnnotation') && is(target, 'dmn:TextAnnotation'))) {\n    return { type: 'dmn:Association' };\n  }\n\n  return false;\n}\n\nfunction canCreate(shape, target) {\n  return isAny(shape, [\n    'dmn:BusinessKnowledgeModel',\n    'dmn:Decision',\n    'dmn:InputData',\n    'dmn:KnowledgeSource',\n    'dmn:TextAnnotation'\n  ]) && is(target, 'dmn:Definitions');\n}\n\nfunction canMove(elements, target) {\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  // allow default move check to start move operation\n  if (!target) {\n    return true;\n  }\n\n  if (every(elements, function(element) {\n    return isAny(element, [\n      'dmn:BusinessKnowledgeModel',\n      'dmn:Decision',\n      'dmn:InputData',\n      'dmn:KnowledgeSource',\n      'dmn:TextAnnotation',\n      'dmn:InformationRequirement',\n      'dmn:AuthorityRequirement',\n      'dmn:KnowledgeRequirement',\n      'dmn:Association'\n    ]);\n  }) && is(target, 'dmn:Definitions')) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function isLabel(element) {\n  return !!element.labelTarget;\n}","import DiagramRulesModule from 'diagram-js/lib/features/rules';\n\nimport DrdRules from './DrdRules';\n\nexport default {\n  __depends__: [\n    DiagramRulesModule\n  ],\n  __init__: [ 'drdRules' ],\n  drdRules: [ 'type', DrdRules ]\n};\n","import {\n  assign,\n  pick\n} from 'min-dash';\n\nimport { isAny } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default function DrdFactory(moddle) {\n  this._model = moddle;\n}\n\nDrdFactory.$inject = [ 'moddle' ];\n\n\nDrdFactory.prototype._needsId = function(element) {\n  return isAny(element, [\n    'dmn:Artifact',\n    'dmn:DMNElement',\n    'dmn:DRGElement',\n    'dmndi:DMNDiagram',\n    'dmndi:DMNDiagramElement'\n  ]);\n};\n\nDrdFactory.prototype._ensureId = function(element) {\n  var prefix = (element.$type || '').replace(/^[^:]*:/g, '') + '_';\n\n  if (!element.id && this._needsId(element)) {\n    element.id = this._model.ids.nextPrefixed(prefix, element);\n  }\n};\n\nDrdFactory.prototype.create = function(type, attrs) {\n  var element = this._model.create(type, attrs || {});\n\n  this._ensureId(element);\n\n  return element;\n};\n\nDrdFactory.prototype.createDiShape = function(semantic, bounds, attrs) {\n\n  return this.create('dmndi:DMNShape', assign({\n    dmnElementRef: semantic,\n    bounds: this.createDiBounds(bounds)\n  }, attrs));\n};\n\nDrdFactory.prototype.createDiBounds = function(bounds) {\n  return this.create('dc:Bounds', bounds);\n};\n\nDrdFactory.prototype.createDiEdge = function(semantic, waypoints, attrs) {\n  return this.create('dmndi:DMNEdge', {\n    dmnElementRef: semantic,\n    waypoint: this.createDiWaypoints(waypoints)\n  }, attrs);\n};\n\nDrdFactory.prototype.createDiWaypoints = function(waypoints) {\n  var self = this;\n\n  return waypoints.map(function(waypoint) {\n    return self.createDiWaypoint(waypoint);\n  });\n};\n\nDrdFactory.prototype.createDiWaypoint = function(waypoint) {\n  return this.create('dc:Point', pick(waypoint, [ 'x', 'y' ]));\n};\n\nDrdFactory.prototype.createExtensionElements = function() {\n  return this.create('dmn:ExtensionElements', { values: [] });\n};\n","import { assign } from 'min-dash';\n\nimport inherits from 'inherits';\n\nimport {\n  remove as collectionRemove,\n  add as collectionAdd\n} from 'diagram-js/lib/util/Collections';\n\nimport {\n  is,\n  isAny\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\n\n/**\n * Update DMN 1.3 information.\n */\nexport default function DrdUpdater(\n    connectionDocking,\n    definitionPropertiesView,\n    drdFactory,\n    drdRules,\n    injector\n) {\n  injector.invoke(CommandInterceptor, this);\n\n  this._definitionPropertiesView = definitionPropertiesView;\n  this._drdFactory = drdFactory;\n  this._drdRules = drdRules;\n\n  var self = this;\n\n  function cropConnection(context) {\n    var connection = context.connection,\n        cropped = context.cropped;\n\n    if (!cropped) {\n      connection.waypoints = connectionDocking.getCroppedWaypoints(connection);\n\n      context.cropped = true;\n    }\n  }\n\n  this.executed([\n    'connection.create',\n    'connection.layout'\n  ], cropConnection, true);\n\n  this.reverted([ 'connection.layout' ], function(context) {\n    delete context.cropped;\n  }, true);\n\n  function updateParent(context) {\n    var connection = context.connection,\n        parent = context.parent,\n        shape = context.shape;\n\n    if (connection && !is(connection, 'dmn:Association')) {\n      parent = connection.target;\n    }\n\n    self.updateParent(shape || connection, parent);\n  }\n\n  function reverseUpdateParent(context) {\n    var connection = context.connection,\n        shape = context.shape;\n\n    var oldParent = context.parent || context.newParent;\n\n    if (connection && !is(connection, 'dmn:Association')) {\n      oldParent = connection.target;\n    }\n\n    self.updateParent(shape || connection, oldParent);\n  }\n\n  this.executed([\n    'connection.create',\n    'connection.delete',\n    'connection.move',\n    'shape.create',\n    'shape.delete'\n  ], updateParent, true);\n\n  this.reverted([\n    'connection.create',\n    'connection.delete',\n    'connection.move',\n    'shape.create',\n    'shape.delete'\n  ], reverseUpdateParent, true);\n\n  function updateBounds(context) {\n    var shape = context.shape;\n\n    if (!(is(shape, 'dmn:DRGElement') || is(shape, 'dmn:TextAnnotation'))) {\n      return;\n    }\n\n    self.updateBounds(shape);\n  }\n\n  this.executed([ 'shape.create', 'shape.move', 'shape.resize' ], updateBounds, true);\n\n  this.reverted([ 'shape.create', 'shape.move', 'shape.resize' ], updateBounds, true);\n\n  function updateConnectionWaypoints(context) {\n    self.updateConnectionWaypoints(context);\n  }\n\n  this.executed([\n    'connection.create',\n    'connection.layout',\n    'connection.move',\n    'connection.updateWaypoints'\n  ], updateConnectionWaypoints, true);\n\n  this.reverted([\n    'connection.create',\n    'connection.layout',\n    'connection.move',\n    'connection.updateWaypoints'\n  ], updateConnectionWaypoints, true);\n\n  this.executed('connection.create', function(context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        target = context.target,\n        targetBo = target.businessObject;\n\n    if (is(connection, 'dmn:Association')) {\n      updateParent(context);\n    } else {\n\n      // parent is target\n      self.updateSemanticParent(connectionBo, targetBo);\n    }\n  }, true);\n\n  this.reverted('connection.create', function(context) {\n    reverseUpdateParent(context);\n  }, true);\n\n  this.executed('connection.reconnect', function(context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        newTarget = context.newTarget,\n        newTargetBo = newTarget.businessObject;\n\n    self.updateSemanticParent(connectionBo, newTargetBo);\n  }, true);\n\n  this.reverted('connection.reconnect', function(context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        oldTarget = context.oldTarget,\n        oldTargetBo = oldTarget.businessObject;\n\n    self.updateSemanticParent(connectionBo, oldTargetBo);\n  }, true);\n\n  this.executed('element.updateProperties', function(context) {\n    definitionPropertiesView.update();\n  }, true);\n\n  this.reverted('element.updateProperties', function(context) {\n    definitionPropertiesView.update();\n  }, true);\n\n}\n\ninherits(DrdUpdater, CommandInterceptor);\n\nDrdUpdater.$inject = [\n  'connectionDocking',\n  'definitionPropertiesView',\n  'drdFactory',\n  'drdRules',\n  'injector'\n];\n\nDrdUpdater.prototype.updateBounds = function(shape) {\n  var businessObject = shape.businessObject,\n      bounds = businessObject.di.bounds;\n\n  // update bounds\n  assign(bounds, {\n    x: shape.x,\n    y: shape.y,\n    width: shape.width,\n    height: shape.height\n  });\n};\n\nDrdUpdater.prototype.updateConnectionWaypoints = function(context) {\n  var drdFactory = this._drdFactory;\n\n  var connection = context.connection,\n      businessObject = connection.businessObject,\n      edge = businessObject.di;\n\n  edge.waypoint = drdFactory.createDiWaypoints(connection.waypoints)\n    .map(function(waypoint) {\n      waypoint.$parent = edge;\n\n      return waypoint;\n    });\n};\n\nDrdUpdater.prototype.updateParent = function(element, oldParent) {\n  var parent = element.parent;\n\n  if (!is(element, 'dmn:DRGElement') && !is(element, 'dmn:Artifact')) {\n    parent = oldParent;\n  }\n\n  var businessObject = element.businessObject,\n      parentBo = parent && parent.businessObject;\n\n  this.updateSemanticParent(businessObject, parentBo);\n\n  this.updateDiParent(businessObject.di, parentBo && parentBo.di);\n};\n\nDrdUpdater.prototype.updateSemanticParent = function(businessObject, parent) {\n  var children,\n      containment;\n\n  if (businessObject.$parent === parent) {\n    return;\n  }\n\n  if (is(businessObject, 'dmn:DRGElement')) {\n    containment = 'drgElement';\n  } else if (is(businessObject, 'dmn:Artifact')) {\n    containment = 'artifact';\n  } else if (is(businessObject, 'dmn:InformationRequirement')) {\n    containment = 'informationRequirement';\n  } else if (is(businessObject, 'dmn:AuthorityRequirement')) {\n    containment = 'authorityRequirement';\n  } else if (is(businessObject, 'dmn:KnowledgeRequirement')) {\n    containment = 'knowledgeRequirement';\n  }\n\n  if (businessObject.$parent) {\n\n    // remove from old parent\n    children = businessObject.$parent.get(containment);\n\n    collectionRemove(children, businessObject);\n  }\n\n  if (parent) {\n\n    // add to new parent\n    children = parent.get(containment);\n\n    if (children) {\n      children.push(businessObject);\n\n      businessObject.$parent = parent;\n    }\n  } else {\n    businessObject.$parent = null;\n  }\n};\n\nDrdUpdater.prototype.updateDiParent = function(di, parentDi) {\n\n  if (di.$parent === parentDi) {\n    return;\n  }\n\n  if (isAny(di, [ 'dmndi:DMNEdge', 'dmndi:DMNShape' ])) {\n\n    var diagram = parentDi || di;\n    while (!is(diagram, 'dmndi:DMNDiagram')) {\n      diagram = diagram.$parent;\n    }\n\n    var diagramElements = diagram.get('diagramElements');\n    if (parentDi) {\n      di.$parent = diagram;\n\n      collectionAdd(diagramElements, di);\n    } else {\n      di.$parent = null;\n\n      collectionRemove(diagramElements, di);\n    }\n  } else {\n    throw new Error('unsupported');\n  }\n};\n","import { forEach } from 'min-dash';\n\n/**\n * A handler that align elements in a certain way.\n *\n */\nexport default function AlignElements(modeling, canvas) {\n  this._modeling = modeling;\n  this._canvas = canvas;\n}\n\nAlignElements.$inject = [ 'modeling', 'canvas' ];\n\n\nAlignElements.prototype.preExecute = function(context) {\n  var modeling = this._modeling;\n\n  var elements = context.elements,\n      alignment = context.alignment;\n\n\n  forEach(elements, function(element) {\n    var delta = {\n      x: 0,\n      y: 0\n    };\n\n    if (alignment.left) {\n      delta.x = alignment.left - element.x;\n\n    } else if (alignment.right) {\n      delta.x = (alignment.right - element.width) - element.x;\n\n    } else if (alignment.center) {\n      delta.x = (alignment.center - Math.round(element.width / 2)) - element.x;\n\n    } else if (alignment.top) {\n      delta.y = alignment.top - element.y;\n\n    } else if (alignment.bottom) {\n      delta.y = (alignment.bottom - element.height) - element.y;\n\n    } else if (alignment.middle) {\n      delta.y = (alignment.middle - Math.round(element.height / 2)) - element.y;\n    }\n\n    modeling.moveElements([ element ], delta, element.parent);\n  });\n};\n\nAlignElements.prototype.postExecute = function(context) {\n\n};\n","import { some } from 'min-dash';\n\n\n/**\n * A handler that implements reversible appending of shapes\n * to a source shape.\n *\n * @param {canvas} Canvas\n * @param {elementFactory} ElementFactory\n * @param {modeling} Modeling\n */\nexport default function AppendShapeHandler(modeling) {\n  this._modeling = modeling;\n}\n\nAppendShapeHandler.$inject = [ 'modeling' ];\n\n\n// api //////////////////////\n\n\n/**\n * Creates a new shape\n *\n * @param {Object} context\n * @param {ElementDescriptor} context.shape the new shape\n * @param {ElementDescriptor} context.source the source object\n * @param {ElementDescriptor} context.parent the parent object\n * @param {Point} context.position position of the new element\n */\nAppendShapeHandler.prototype.preExecute = function(context) {\n\n  var source = context.source;\n\n  if (!source) {\n    throw new Error('source required');\n  }\n\n  var target = context.target || source.parent,\n      shape = context.shape,\n      hints = context.hints || {};\n\n  shape = context.shape =\n    this._modeling.createShape(\n      shape,\n      context.position,\n      target, { attach: hints.attach });\n\n  context.shape = shape;\n};\n\nAppendShapeHandler.prototype.postExecute = function(context) {\n  var hints = context.hints || {};\n\n  if (!existsConnection(context.source, context.shape)) {\n\n    // create connection\n    if (hints.connectionTarget === context.source) {\n      this._modeling.connect(context.shape, context.source, context.connection);\n    } else {\n      this._modeling.connect(context.source, context.shape, context.connection);\n    }\n  }\n};\n\n\nfunction existsConnection(source, target) {\n  return some(source.outgoing, function(c) {\n    return c.target === target;\n  });\n}","export default function CreateConnectionHandler(canvas, layouter) {\n  this._canvas = canvas;\n  this._layouter = layouter;\n}\n\nCreateConnectionHandler.$inject = [ 'canvas', 'layouter' ];\n\n\n// api //////////////////////\n\n\n/**\n * Appends a shape to a target shape\n *\n * @param {Object} context\n * @param {djs.element.Base} context.source the source object\n * @param {djs.element.Base} context.target the parent object\n * @param {Point} context.position position of the new element\n */\nCreateConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      source = context.source,\n      target = context.target,\n      parent = context.parent,\n      parentIndex = context.parentIndex,\n      hints = context.hints;\n\n  if (!source || !target) {\n    throw new Error('source and target required');\n  }\n\n  if (!parent) {\n    throw new Error('parent required');\n  }\n\n  connection.source = source;\n  connection.target = target;\n\n  if (!connection.waypoints) {\n    connection.waypoints = this._layouter.layoutConnection(connection, hints);\n  }\n\n  // add connection\n  this._canvas.addConnection(connection, parent, parentIndex);\n\n  return connection;\n};\n\nCreateConnectionHandler.prototype.revert = function(context) {\n  var connection = context.connection;\n\n  this._canvas.removeConnection(connection);\n\n  connection.source = null;\n  connection.target = null;\n\n  return connection;\n};","import {\r\n  assign,\r\n  forEach,\r\n  isNumber,\r\n  map,\r\n  pick,\r\n  values\r\n} from 'min-dash';\r\n\r\nimport {\r\n  getBBox,\r\n  getParents\r\n} from '../../../util/Elements';\r\n\r\nvar round = Math.round;\r\n\r\nexport default function CreateElementsHandler(modeling) {\r\n  this._modeling = modeling;\r\n}\r\n\r\nCreateElementsHandler.$inject = [\r\n  'modeling'\r\n];\r\n\r\nCreateElementsHandler.prototype.preExecute = function(context) {\r\n  var elements = context.elements,\r\n      parent = context.parent,\r\n      parentIndex = context.parentIndex,\r\n      position = context.position,\r\n      hints = context.hints;\r\n\r\n  var modeling = this._modeling;\r\n\r\n  // make sure each element has x and y\r\n  forEach(elements, function(element) {\r\n    if (!isNumber(element.x)) {\r\n      element.x = 0;\r\n    }\r\n\r\n    if (!isNumber(element.y)) {\r\n      element.y = 0;\r\n    }\r\n  });\r\n\r\n  var bbox = getBBox(elements);\r\n\r\n  // center elements around position\r\n  forEach(elements, function(element) {\r\n    if (isConnection(element)) {\r\n      element.waypoints = map(element.waypoints, function(waypoint) {\r\n        return {\r\n          x: round(waypoint.x - bbox.x - bbox.width / 2 + position.x),\r\n          y: round(waypoint.y - bbox.y - bbox.height / 2 + position.y)\r\n        };\r\n      });\r\n    }\r\n\r\n    assign(element, {\r\n      x: round(element.x - bbox.x - bbox.width / 2 + position.x),\r\n      y: round(element.y - bbox.y - bbox.height / 2 + position.y)\r\n    });\r\n  });\r\n\r\n  var parents = getParents(elements);\r\n\r\n  var cache = {};\r\n\r\n  forEach(elements, function(element) {\r\n    if (isConnection(element)) {\r\n      cache[ element.id ] = isNumber(parentIndex) ?\r\n        modeling.createConnection(\r\n          cache[ element.source.id ],\r\n          cache[ element.target.id ],\r\n          parentIndex,\r\n          element,\r\n          element.parent || parent,\r\n          hints\r\n        ) :\r\n        modeling.createConnection(\r\n          cache[ element.source.id ],\r\n          cache[ element.target.id ],\r\n          element,\r\n          element.parent || parent,\r\n          hints\r\n        );\r\n\r\n      return;\r\n    }\r\n\r\n    var createShapeHints = assign({}, hints);\r\n\r\n    if (parents.indexOf(element) === -1) {\r\n      createShapeHints.autoResize = false;\r\n    }\r\n\r\n    cache[ element.id ] = isNumber(parentIndex) ?\r\n      modeling.createShape(\r\n        element,\r\n        pick(element, [ 'x', 'y', 'width', 'height' ]),\r\n        element.parent || parent,\r\n        parentIndex,\r\n        createShapeHints\r\n      ) :\r\n      modeling.createShape(\r\n        element,\r\n        pick(element, [ 'x', 'y', 'width', 'height' ]),\r\n        element.parent || parent,\r\n        createShapeHints\r\n      );\r\n  });\r\n\r\n  context.elements = values(cache);\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction isConnection(element) {\r\n  return !!element.waypoints;\r\n}","import { assign } from 'min-dash';\n\nvar round = Math.round;\n\n\n/**\n * A handler that implements reversible addition of shapes.\n *\n * @param {canvas} Canvas\n */\nexport default function CreateShapeHandler(canvas) {\n  this._canvas = canvas;\n}\n\nCreateShapeHandler.$inject = [ 'canvas' ];\n\n\n// api //////////////////////\n\n\n/**\n * Appends a shape to a target shape\n *\n * @param {Object} context\n * @param {djs.model.Base} context.parent the parent object\n * @param {Point} context.position position of the new element\n */\nCreateShapeHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      positionOrBounds = context.position,\n      parent = context.parent,\n      parentIndex = context.parentIndex;\n\n  if (!parent) {\n    throw new Error('parent required');\n  }\n\n  if (!positionOrBounds) {\n    throw new Error('position required');\n  }\n\n  // (1) add at event center position _or_ at given bounds\n  if (positionOrBounds.width !== undefined) {\n    assign(shape, positionOrBounds);\n  } else {\n    assign(shape, {\n      x: positionOrBounds.x - round(shape.width / 2),\n      y: positionOrBounds.y - round(shape.height / 2)\n    });\n  }\n\n  // (2) add to canvas\n  this._canvas.addShape(shape, parent, parentIndex);\n\n  return shape;\n};\n\n\n/**\n * Undo append by removing the shape\n */\nCreateShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape;\n\n  // (3) remove form canvas\n  this._canvas.removeShape(shape);\n\n  return shape;\n};","import inherits from 'inherits';\n\nimport CreateShapeHandler from './CreateShapeHandler';\n\n\n/**\n * A handler that attaches a label to a given target shape.\n *\n * @param {Canvas} canvas\n */\nexport default function CreateLabelHandler(canvas) {\n  CreateShapeHandler.call(this, canvas);\n}\n\ninherits(CreateLabelHandler, CreateShapeHandler);\n\nCreateLabelHandler.$inject = [ 'canvas' ];\n\n\n// api //////////////////////\n\n\nvar originalExecute = CreateShapeHandler.prototype.execute;\n\n/**\n * Appends a label to a target shape.\n *\n * @method CreateLabelHandler#execute\n *\n * @param {Object} context\n * @param {ElementDescriptor} context.target the element the label is attached to\n * @param {ElementDescriptor} context.parent the parent object\n * @param {Point} context.position position of the new element\n */\nCreateLabelHandler.prototype.execute = function(context) {\n\n  var label = context.shape;\n\n  ensureValidDimensions(label);\n\n  label.labelTarget = context.labelTarget;\n\n  return originalExecute.call(this, context);\n};\n\nvar originalRevert = CreateShapeHandler.prototype.revert;\n\n/**\n * Undo append by removing the shape\n */\nCreateLabelHandler.prototype.revert = function(context) {\n  context.shape.labelTarget = null;\n\n  return originalRevert.call(this, context);\n};\n\n\n// helpers //////////////////////\n\nfunction ensureValidDimensions(label) {\n\n  // make sure a label has valid { width, height } dimensions\n  [ 'width', 'height' ].forEach(function(prop) {\n    if (typeof label[prop] === 'undefined') {\n      label[prop] = 0;\n    }\n  });\n}","import {\n  add as collectionAdd,\n  indexOf as collectionIdx\n} from '../../../util/Collections';\n\n\n/**\n * A handler that implements reversible deletion of Connections.\n */\nexport default function DeleteConnectionHandler(canvas, modeling) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n}\n\nDeleteConnectionHandler.$inject = [\n  'canvas',\n  'modeling'\n];\n\n\nDeleteConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      parent = connection.parent;\n\n  context.parent = parent;\n\n  // remember containment\n  context.parentIndex = collectionIdx(parent.children, connection);\n\n  context.source = connection.source;\n  context.target = connection.target;\n\n  this._canvas.removeConnection(connection);\n\n  connection.source = null;\n  connection.target = null;\n\n  return connection;\n};\n\n/**\n * Command revert implementation.\n */\nDeleteConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      parent = context.parent,\n      parentIndex = context.parentIndex;\n\n  connection.source = context.source;\n  connection.target = context.target;\n\n  // restore containment\n  collectionAdd(parent.children, connection, parentIndex);\n\n  this._canvas.addConnection(connection, parent);\n\n  return connection;\n};\n","import { forEach } from 'min-dash';\n\n\nexport default function DeleteElementsHandler(modeling, elementRegistry) {\n  this._modeling = modeling;\n  this._elementRegistry = elementRegistry;\n}\n\nDeleteElementsHandler.$inject = [\n  'modeling',\n  'elementRegistry'\n];\n\n\nDeleteElementsHandler.prototype.postExecute = function(context) {\n\n  var modeling = this._modeling,\n      elementRegistry = this._elementRegistry,\n      elements = context.elements;\n\n  forEach(elements, function(element) {\n\n    // element may have been removed with previous\n    // remove operations already (e.g. in case of nesting)\n    if (!elementRegistry.get(element.id)) {\n      return;\n    }\n\n    if (element.waypoints) {\n      modeling.removeConnection(element);\n    } else {\n      modeling.removeShape(element);\n    }\n  });\n};","/**\n * Remove from the beginning of a collection until it is empty.\n *\n * This is a null-safe operation that ensures elements\n * are being removed from the given collection until the\n * collection is empty.\n *\n * The implementation deals with the fact that a remove operation\n * may touch, i.e. remove multiple elements in the collection\n * at a time.\n *\n * @param {Array<Object>} [collection]\n * @param {Function} removeFn\n *\n * @return {Array<Object>} the cleared collection\n */\nexport function saveClear(collection, removeFn) {\n\n  if (typeof removeFn !== 'function') {\n    throw new Error('removeFn iterator must be a function');\n  }\n\n  if (!collection) {\n    return;\n  }\n\n  var e;\n\n  while ((e = collection[0])) {\n    removeFn(e);\n  }\n\n  return collection;\n}\n","import {\n  add as collectionAdd,\n  indexOf as collectionIdx\n} from '../../../util/Collections';\n\nimport { saveClear } from '../../../util/Removal';\n\n\n/**\n * A handler that implements reversible deletion of shapes.\n *\n */\nexport default function DeleteShapeHandler(canvas, modeling) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n}\n\nDeleteShapeHandler.$inject = [ 'canvas', 'modeling' ];\n\n\n/**\n * - Remove connections\n * - Remove all direct children\n */\nDeleteShapeHandler.prototype.preExecute = function(context) {\n\n  var modeling = this._modeling;\n\n  var shape = context.shape;\n\n  // remove connections\n  saveClear(shape.incoming, function(connection) {\n\n    // To make sure that the connection isn't removed twice\n    // For example if a container is removed\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  saveClear(shape.outgoing, function(connection) {\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  // remove child shapes and connections\n  saveClear(shape.children, function(child) {\n    if (isConnection(child)) {\n      modeling.removeConnection(child, { nested: true });\n    } else {\n      modeling.removeShape(child, { nested: true });\n    }\n  });\n};\n\n/**\n * Remove shape and remember the parent\n */\nDeleteShapeHandler.prototype.execute = function(context) {\n  var canvas = this._canvas;\n\n  var shape = context.shape,\n      oldParent = shape.parent;\n\n  context.oldParent = oldParent;\n\n  // remove containment\n  context.oldParentIndex = collectionIdx(oldParent.children, shape);\n\n  // remove shape\n  canvas.removeShape(shape);\n\n  return shape;\n};\n\n\n/**\n * Command revert implementation\n */\nDeleteShapeHandler.prototype.revert = function(context) {\n\n  var canvas = this._canvas;\n\n  var shape = context.shape,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex;\n\n  // restore containment\n  collectionAdd(oldParent.children, shape, oldParentIndex);\n\n  canvas.addShape(shape, oldParent);\n\n  return shape;\n};\n\nfunction isConnection(element) {\n  return element.waypoints;\n}\n","import {\n  forEach,\n  sortBy\n} from 'min-dash';\n\n\n/**\n * A handler that distributes elements evenly.\n */\nexport default function DistributeElements(modeling) {\n  this._modeling = modeling;\n}\n\nDistributeElements.$inject = [ 'modeling' ];\n\nvar OFF_AXIS = {\n  x: 'y',\n  y: 'x'\n};\n\nDistributeElements.prototype.preExecute = function(context) {\n  var modeling = this._modeling;\n\n  var groups = context.groups,\n      axis = context.axis,\n      dimension = context.dimension;\n\n  function updateRange(group, element) {\n    group.range.min = Math.min(element[axis], group.range.min);\n    group.range.max = Math.max(element[axis] + element[dimension], group.range.max);\n  }\n\n  function center(element) {\n    return element[axis] + element[dimension] / 2;\n  }\n\n  function lastIdx(arr) {\n    return arr.length - 1;\n  }\n\n  function rangeDiff(range) {\n    return range.max - range.min;\n  }\n\n  function centerElement(refCenter, element) {\n    var delta = { y: 0 };\n\n    delta[axis] = refCenter - center(element);\n\n    if (delta[axis]) {\n\n      delta[OFF_AXIS[axis]] = 0;\n\n      modeling.moveElements([ element ], delta, element.parent);\n    }\n  }\n\n  var firstGroup = groups[0],\n      lastGroupIdx = lastIdx(groups),\n      lastGroup = groups[ lastGroupIdx ];\n\n  var margin,\n      spaceInBetween,\n      groupsSize = 0; // the size of each range\n\n  forEach(groups, function(group, idx) {\n    var sortedElements,\n        refElem,\n        refCenter;\n\n    if (group.elements.length < 2) {\n      if (idx && idx !== groups.length - 1) {\n        updateRange(group, group.elements[0]);\n\n        groupsSize += rangeDiff(group.range);\n      }\n      return;\n    }\n\n    sortedElements = sortBy(group.elements, axis);\n\n    refElem = sortedElements[0];\n\n    if (idx === lastGroupIdx) {\n      refElem = sortedElements[lastIdx(sortedElements)];\n    }\n\n    refCenter = center(refElem);\n\n    // wanna update the ranges after the shapes have been centered\n    group.range = null;\n\n    forEach(sortedElements, function(element) {\n\n      centerElement(refCenter, element);\n\n      if (group.range === null) {\n        group.range = {\n          min: element[axis],\n          max: element[axis] + element[dimension]\n        };\n\n        return;\n      }\n\n      // update group's range after centering the range elements\n      updateRange(group, element);\n    });\n\n    if (idx && idx !== groups.length - 1) {\n      groupsSize += rangeDiff(group.range);\n    }\n  });\n\n  spaceInBetween = Math.abs(lastGroup.range.min - firstGroup.range.max);\n\n  margin = Math.round((spaceInBetween - groupsSize) / (groups.length - 1));\n\n  if (margin < groups.length - 1) {\n    return;\n  }\n\n  forEach(groups, function(group, groupIdx) {\n    var delta = {},\n        prevGroup;\n\n    if (group === firstGroup || group === lastGroup) {\n      return;\n    }\n\n    prevGroup = groups[groupIdx - 1];\n\n    group.range.max = 0;\n\n    forEach(group.elements, function(element, idx) {\n      delta[OFF_AXIS[axis]] = 0;\n      delta[axis] = (prevGroup.range.max - element[axis]) + margin;\n\n      if (group.range.min !== element[axis]) {\n        delta[axis] += element[axis] - group.range.min;\n      }\n\n      if (delta[axis]) {\n        modeling.moveElements([ element ], delta, element.parent);\n      }\n\n      group.range.max = Math.max(element[axis] + element[dimension], idx ? group.range.max : 0);\n    });\n  });\n};\n\nDistributeElements.prototype.postExecute = function(context) {\n\n};\n","import { assign } from 'min-dash';\n\n\n/**\n * A handler that implements reversible moving of shapes.\n */\nexport default function LayoutConnectionHandler(layouter, canvas) {\n  this._layouter = layouter;\n  this._canvas = canvas;\n}\n\nLayoutConnectionHandler.$inject = [ 'layouter', 'canvas' ];\n\nLayoutConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection;\n\n  var oldWaypoints = connection.waypoints;\n\n  assign(context, {\n    oldWaypoints: oldWaypoints\n  });\n\n  connection.waypoints = this._layouter.layoutConnection(connection, context.hints);\n\n  return connection;\n};\n\nLayoutConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection;\n\n  connection.waypoints = context.oldWaypoints;\n\n  return connection;\n};\n","import { forEach } from 'min-dash';\n\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\n\n/**\n * A handler that implements reversible moving of connections.\n *\n * The handler differs from the layout connection handler in a sense\n * that it preserves the connection layout.\n */\nexport default function MoveConnectionHandler() { }\n\n\nMoveConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      delta = context.delta;\n\n  var newParent = context.newParent || connection.parent,\n      newParentIndex = context.newParentIndex,\n      oldParent = connection.parent;\n\n  // save old parent in context\n  context.oldParent = oldParent;\n  context.oldParentIndex = collectionRemove(oldParent.children, connection);\n\n  // add to new parent at position\n  collectionAdd(newParent.children, connection, newParentIndex);\n\n  // update parent\n  connection.parent = newParent;\n\n  // update waypoint positions\n  forEach(connection.waypoints, function(p) {\n    p.x += delta.x;\n    p.y += delta.y;\n\n    if (p.original) {\n      p.original.x += delta.x;\n      p.original.y += delta.y;\n    }\n  });\n\n  return connection;\n};\n\nMoveConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      newParent = connection.parent,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex,\n      delta = context.delta;\n\n  // remove from newParent\n  collectionRemove(newParent.children, connection);\n\n  // restore previous location in old parent\n  collectionAdd(oldParent.children, connection, oldParentIndex);\n\n  // restore parent\n  connection.parent = oldParent;\n\n  // revert to old waypoint positions\n  forEach(connection.waypoints, function(p) {\n    p.x -= delta.x;\n    p.y -= delta.y;\n\n    if (p.original) {\n      p.original.x -= delta.x;\n      p.original.y -= delta.y;\n    }\n  });\n\n  return connection;\n};","import {\n  asTRBL,\n  getOrientation,\n  roundPoint\n} from '../layout/LayoutUtil';\n\nimport {\n  center,\n  delta\n} from './PositionUtil';\n\n\n/**\n * Calculates the absolute point relative to the new element's position\n *\n * @param {point} point [absolute]\n * @param {bounds} oldBounds\n * @param {bounds} newBounds\n *\n * @return {point} point [absolute]\n */\nexport function getNewAttachPoint(point, oldBounds, newBounds) {\n  var oldCenter = center(oldBounds),\n      newCenter = center(newBounds),\n      oldDelta = delta(point, oldCenter);\n\n  var newDelta = {\n    x: oldDelta.x * (newBounds.width / oldBounds.width),\n    y: oldDelta.y * (newBounds.height / oldBounds.height)\n  };\n\n  return roundPoint({\n    x: newCenter.x + newDelta.x,\n    y: newCenter.y + newDelta.y\n  });\n}\n\n\n/**\n * Calculates the shape's delta relative to a new position\n * of a certain element's bounds\n *\n * @param {djs.model.Shape} point [absolute]\n * @param {bounds} oldBounds\n * @param {bounds} newBounds\n *\n * @return {delta} delta\n */\nexport function getNewAttachShapeDelta(shape, oldBounds, newBounds) {\n  var shapeCenter = center(shape),\n      oldCenter = center(oldBounds),\n      newCenter = center(newBounds),\n      shapeDelta = delta(shape, shapeCenter),\n      oldCenterDelta = delta(shapeCenter, oldCenter),\n      stickyPositionDelta = getStickyPositionDelta(shapeCenter, oldBounds, newBounds);\n\n  if (stickyPositionDelta) {\n    return stickyPositionDelta;\n  }\n\n  var newCenterDelta = {\n    x: oldCenterDelta.x * (newBounds.width / oldBounds.width),\n    y: oldCenterDelta.y * (newBounds.height / oldBounds.height)\n  };\n\n  var newShapeCenter = {\n    x: newCenter.x + newCenterDelta.x,\n    y: newCenter.y + newCenterDelta.y\n  };\n\n  return roundPoint({\n    x: newShapeCenter.x + shapeDelta.x - shape.x,\n    y: newShapeCenter.y + shapeDelta.y - shape.y\n  });\n}\n\nfunction getStickyPositionDelta(oldShapeCenter, oldBounds, newBounds) {\n  var oldTRBL = asTRBL(oldBounds),\n      newTRBL = asTRBL(newBounds);\n\n  if (isMoved(oldTRBL, newTRBL)) {\n    return null;\n  }\n\n  var oldOrientation = getOrientation(oldBounds, oldShapeCenter),\n      stickyPositionDelta,\n      newShapeCenter,\n      newOrientation;\n\n  if (oldOrientation === 'top') {\n    stickyPositionDelta = {\n      x: 0,\n      y: newTRBL.bottom - oldTRBL.bottom\n    };\n  } else if (oldOrientation === 'bottom') {\n    stickyPositionDelta = {\n      x: 0,\n      y: newTRBL.top - oldTRBL.top\n    };\n  } else if (oldOrientation === 'right') {\n    stickyPositionDelta = {\n      x: newTRBL.left - oldTRBL.left,\n      y: 0\n    };\n  } else if (oldOrientation === 'left') {\n    stickyPositionDelta = {\n      x: newTRBL.right - oldTRBL.right,\n      y: 0\n    };\n  } else {\n\n    // fallback to proportional movement for corner-placed attachments\n    return null;\n  }\n\n  newShapeCenter = {\n    x: oldShapeCenter.x + stickyPositionDelta.x,\n    y: oldShapeCenter.y + stickyPositionDelta.y\n  };\n\n  newOrientation = getOrientation(newBounds, newShapeCenter);\n\n  if (newOrientation !== oldOrientation) {\n\n    // fallback to proportional movement if orientation would otherwise change\n    return null;\n  }\n\n  return stickyPositionDelta;\n}\n\nfunction isMoved(oldTRBL, newTRBL) {\n  return isHorizontallyMoved(oldTRBL, newTRBL) || isVerticallyMoved(oldTRBL, newTRBL);\n}\n\nfunction isHorizontallyMoved(oldTRBL, newTRBL) {\n  return oldTRBL.right !== newTRBL.right && oldTRBL.left !== newTRBL.left;\n}\n\nfunction isVerticallyMoved(oldTRBL, newTRBL) {\n  return oldTRBL.top !== newTRBL.top && oldTRBL.bottom !== newTRBL.bottom;\n}\n","import {\n  getNewAttachPoint\n} from '../../../../util/AttachUtil';\n\nimport {\n  getOrientation\n} from '../../../../layout/LayoutUtil';\n\nimport {\n  filter,\n  map\n} from 'min-dash';\n\n\nexport function getResizedSourceAnchor(connection, shape, oldBounds) {\n\n  var waypoints = safeGetWaypoints(connection),\n      waypointsInsideNewBounds = getWaypointsInsideBounds(waypoints, shape),\n      oldAnchor = waypoints[0];\n\n  // new anchor is the last waypoint enclosed be resized source\n  if (waypointsInsideNewBounds.length) {\n    return waypointsInsideNewBounds[ waypointsInsideNewBounds.length - 1 ];\n  }\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, shape);\n}\n\n\nexport function getResizedTargetAnchor(connection, shape, oldBounds) {\n\n  var waypoints = safeGetWaypoints(connection),\n      waypointsInsideNewBounds = getWaypointsInsideBounds(waypoints, shape),\n      oldAnchor = waypoints[waypoints.length - 1];\n\n  // new anchor is the first waypoint enclosed be resized target\n  if (waypointsInsideNewBounds.length) {\n    return waypointsInsideNewBounds[ 0 ];\n  }\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, shape);\n}\n\n\nexport function getMovedSourceAnchor(connection, source, moveDelta) {\n\n  var waypoints = safeGetWaypoints(connection),\n      oldBounds = subtract(source, moveDelta),\n      oldAnchor = waypoints[ 0 ];\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, source);\n}\n\n\nexport function getMovedTargetAnchor(connection, target, moveDelta) {\n\n  var waypoints = safeGetWaypoints(connection),\n      oldBounds = subtract(target, moveDelta),\n      oldAnchor = waypoints[ waypoints.length - 1 ];\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, target);\n}\n\n\n// helpers //////////////////////\n\nfunction subtract(bounds, delta) {\n  return {\n    x: bounds.x - delta.x,\n    y: bounds.y - delta.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\n\n/**\n * Return waypoints of given connection; throw if non exists (should not happen!!).\n *\n * @param {Connection} connection\n *\n * @return {Array<Point>}\n */\nfunction safeGetWaypoints(connection) {\n\n  var waypoints = connection.waypoints;\n\n  if (!waypoints.length) {\n    throw new Error('connection#' + connection.id + ': no waypoints');\n  }\n\n  return waypoints;\n}\n\nfunction getWaypointsInsideBounds(waypoints, bounds) {\n  var originalWaypoints = map(waypoints, getOriginal);\n\n  return filter(originalWaypoints, function(waypoint) {\n    return isInsideBounds(waypoint, bounds);\n  });\n}\n\n/**\n * Checks if point is inside bounds, incl. edges.\n *\n * @param {Point} point\n * @param {Bounds} bounds\n */\nfunction isInsideBounds(point, bounds) {\n  return getOrientation(bounds, point, 1) === 'intersect';\n}\n\nfunction getOriginal(point) {\n  return point.original || point;\n}\n","import {\n  assign\n} from 'min-dash';\n\nimport {\n  getClosure\n} from '../../../../util/Elements';\n\n\nexport default function MoveClosure() {\n\n  this.allShapes = {};\n  this.allConnections = {};\n\n  this.enclosedElements = {};\n  this.enclosedConnections = {};\n\n  this.topLevel = {};\n}\n\n\nMoveClosure.prototype.add = function(element, isTopLevel) {\n  return this.addAll([ element ], isTopLevel);\n};\n\n\nMoveClosure.prototype.addAll = function(elements, isTopLevel) {\n\n  var newClosure = getClosure(elements, !!isTopLevel, this);\n\n  assign(this, newClosure);\n\n  return this;\n};","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor\n} from './AnchorsHelper';\n\nimport MoveClosure from './MoveClosure';\n\n\n/**\n * A helper that is able to carry out serialized move\n * operations on multiple elements.\n *\n * @param {Modeling} modeling\n */\nexport default function MoveHelper(modeling) {\n  this._modeling = modeling;\n}\n\n/**\n * Move the specified elements and all children by the given delta.\n *\n * This moves all enclosed connections, too and layouts all affected\n * external connections.\n *\n * @param  {Array<djs.model.Base>} elements\n * @param  {Point} delta\n * @param  {djs.model.Base} newParent applied to the first level of shapes\n *\n * @return {Array<djs.model.Base>} list of touched elements\n */\nMoveHelper.prototype.moveRecursive = function(elements, delta, newParent) {\n  if (!elements) {\n    return [];\n  } else {\n    return this.moveClosure(this.getClosure(elements), delta, newParent);\n  }\n};\n\n/**\n * Move the given closure of elmements.\n *\n * @param {Object} closure\n * @param {Point} delta\n * @param {djs.model.Base} [newParent]\n * @param {djs.model.Base} [newHost]\n */\nMoveHelper.prototype.moveClosure = function(closure, delta, newParent, newHost, primaryShape) {\n  var modeling = this._modeling;\n\n  var allShapes = closure.allShapes,\n      allConnections = closure.allConnections,\n      enclosedConnections = closure.enclosedConnections,\n      topLevel = closure.topLevel,\n      keepParent = false;\n\n  if (primaryShape && primaryShape.parent === newParent) {\n    keepParent = true;\n  }\n\n  // move all shapes\n  forEach(allShapes, function(shape) {\n\n    // move the element according to the given delta\n    modeling.moveShape(shape, delta, topLevel[shape.id] && !keepParent && newParent, {\n      recurse: false,\n      layout: false\n    });\n  });\n\n  // move all child connections / layout external connections\n  forEach(allConnections, function(c) {\n\n    var sourceMoved = !!allShapes[c.source.id],\n        targetMoved = !!allShapes[c.target.id];\n\n    if (enclosedConnections[c.id] && sourceMoved && targetMoved) {\n      modeling.moveConnection(c, delta, topLevel[c.id] && !keepParent && newParent);\n    } else {\n      modeling.layoutConnection(c, {\n        connectionStart: sourceMoved && getMovedSourceAnchor(c, c.source, delta),\n        connectionEnd: targetMoved && getMovedTargetAnchor(c, c.target, delta)\n      });\n    }\n  });\n};\n\n/**\n * Returns the closure for the selected elements\n *\n * @param  {Array<djs.model.Base>} elements\n * @return {MoveClosure} closure\n */\nMoveHelper.prototype.getClosure = function(elements) {\n  return new MoveClosure().addAll(elements, true);\n};","import MoveHelper from './helper/MoveHelper';\n\n\n/**\n * A handler that implements reversible moving of shapes.\n */\nexport default function MoveElementsHandler(modeling) {\n  this._helper = new MoveHelper(modeling);\n}\n\nMoveElementsHandler.$inject = [ 'modeling' ];\n\nMoveElementsHandler.prototype.preExecute = function(context) {\n  context.closure = this._helper.getClosure(context.shapes);\n};\n\nMoveElementsHandler.prototype.postExecute = function(context) {\n\n  var hints = context.hints,\n      primaryShape;\n\n  if (hints && hints.primaryShape) {\n    primaryShape = hints.primaryShape;\n    hints.oldParent = primaryShape.parent;\n  }\n\n  this._helper.moveClosure(\n    context.closure,\n    context.delta,\n    context.newParent,\n    context.newHost,\n    primaryShape\n  );\n};","import {\n  assign,\n  forEach,\n  pick\n} from 'min-dash';\n\nimport MoveHelper from './helper/MoveHelper';\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor\n} from './helper/AnchorsHelper';\n\n\n/**\n * A handler that implements reversible moving of shapes.\n */\nexport default function MoveShapeHandler(modeling) {\n  this._modeling = modeling;\n\n  this._helper = new MoveHelper(modeling);\n}\n\nMoveShapeHandler.$inject = [ 'modeling' ];\n\n\nMoveShapeHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      delta = context.delta,\n      newParent = context.newParent || shape.parent,\n      newParentIndex = context.newParentIndex,\n      oldParent = shape.parent;\n\n  context.oldBounds = pick(shape, [ 'x', 'y', 'width', 'height']);\n\n  // save old parent in context\n  context.oldParent = oldParent;\n  context.oldParentIndex = collectionRemove(oldParent.children, shape);\n\n  // add to new parent at position\n  collectionAdd(newParent.children, shape, newParentIndex);\n\n  // update shape parent + position\n  assign(shape, {\n    parent: newParent,\n    x: shape.x + delta.x,\n    y: shape.y + delta.y\n  });\n\n  return shape;\n};\n\nMoveShapeHandler.prototype.postExecute = function(context) {\n\n  var shape = context.shape,\n      delta = context.delta,\n      hints = context.hints;\n\n  var modeling = this._modeling;\n\n  if (hints.layout !== false) {\n\n    forEach(shape.incoming, function(c) {\n      modeling.layoutConnection(c, {\n        connectionEnd: getMovedTargetAnchor(c, shape, delta)\n      });\n    });\n\n    forEach(shape.outgoing, function(c) {\n      modeling.layoutConnection(c, {\n        connectionStart: getMovedSourceAnchor(c, shape, delta)\n      });\n    });\n  }\n\n  if (hints.recurse !== false) {\n    this.moveChildren(context);\n  }\n};\n\nMoveShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex,\n      delta = context.delta;\n\n  // restore previous location in old parent\n  collectionAdd(oldParent.children, shape, oldParentIndex);\n\n  // revert to old position and parent\n  assign(shape, {\n    parent: oldParent,\n    x: shape.x - delta.x,\n    y: shape.y - delta.y\n  });\n\n  return shape;\n};\n\nMoveShapeHandler.prototype.moveChildren = function(context) {\n\n  var delta = context.delta,\n      shape = context.shape;\n\n  this._helper.moveRecursive(shape.children, delta, null);\n};\n\nMoveShapeHandler.prototype.getNewParent = function(context) {\n  return context.newParent || context.shape.parent;\n};\n","import { isArray } from 'min-dash';\n\n\n/**\n * Reconnect connection handler\n */\nexport default function ReconnectConnectionHandler(modeling) {\n  this._modeling = modeling;\n}\n\nReconnectConnectionHandler.$inject = [ 'modeling' ];\n\nReconnectConnectionHandler.prototype.execute = function(context) {\n  var newSource = context.newSource,\n      newTarget = context.newTarget,\n      connection = context.connection,\n      dockingOrPoints = context.dockingOrPoints;\n\n  if (!newSource && !newTarget) {\n    throw new Error('newSource or newTarget required');\n  }\n\n  if (isArray(dockingOrPoints)) {\n    context.oldWaypoints = connection.waypoints;\n    connection.waypoints = dockingOrPoints;\n  }\n\n  if (newSource) {\n    context.oldSource = connection.source;\n    connection.source = newSource;\n  }\n\n  if (newTarget) {\n    context.oldTarget = connection.target;\n    connection.target = newTarget;\n  }\n\n  return connection;\n};\n\nReconnectConnectionHandler.prototype.postExecute = function(context) {\n  var connection = context.connection,\n      newSource = context.newSource,\n      newTarget = context.newTarget,\n      dockingOrPoints = context.dockingOrPoints,\n      hints = context.hints || {};\n\n  var layoutConnectionHints = {};\n\n  if (hints.connectionStart) {\n    layoutConnectionHints.connectionStart = hints.connectionStart;\n  }\n\n  if (hints.connectionEnd) {\n    layoutConnectionHints.connectionEnd = hints.connectionEnd;\n  }\n\n  if (hints.layoutConnection === false) {\n    return;\n  }\n\n  if (newSource && (!newTarget || hints.docking === 'source')) {\n    layoutConnectionHints.connectionStart = layoutConnectionHints.connectionStart\n      || getDocking(isArray(dockingOrPoints) ? dockingOrPoints[ 0 ] : dockingOrPoints);\n  }\n\n  if (newTarget && (!newSource || hints.docking === 'target')) {\n    layoutConnectionHints.connectionEnd = layoutConnectionHints.connectionEnd\n      || getDocking(isArray(dockingOrPoints) ? dockingOrPoints[ dockingOrPoints.length - 1 ] : dockingOrPoints);\n  }\n\n  if (hints.newWaypoints) {\n    layoutConnectionHints.waypoints = hints.newWaypoints;\n  }\n\n  this._modeling.layoutConnection(connection, layoutConnectionHints);\n};\n\nReconnectConnectionHandler.prototype.revert = function(context) {\n  var oldSource = context.oldSource,\n      oldTarget = context.oldTarget,\n      oldWaypoints = context.oldWaypoints,\n      connection = context.connection;\n\n  if (oldSource) {\n    connection.source = oldSource;\n  }\n\n  if (oldTarget) {\n    connection.target = oldTarget;\n  }\n\n  if (oldWaypoints) {\n    connection.waypoints = oldWaypoints;\n  }\n\n  return connection;\n};\n\n\n\n// helpers //////////\n\nfunction getDocking(point) {\n  return point.original || point;\n}","import { forEach } from 'min-dash';\n\nimport {\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n/**\n * Replace shape by adding new shape and removing old shape. Incoming and outgoing connections will\n * be kept if possible.\n *\n * @class\n * @constructor\n *\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nexport default function ReplaceShapeHandler(modeling, rules) {\n  this._modeling = modeling;\n  this._rules = rules;\n}\n\nReplaceShapeHandler.$inject = [ 'modeling', 'rules' ];\n\n\n/**\n * Add new shape.\n *\n * @param {Object} context\n * @param {djs.model.Shape} context.oldShape\n * @param {Object} context.newData\n * @param {string} context.newData.type\n * @param {number} context.newData.x\n * @param {number} context.newData.y\n * @param {Object} [hints]\n */\nReplaceShapeHandler.prototype.preExecute = function(context) {\n  var self = this,\n      modeling = this._modeling,\n      rules = this._rules;\n\n  var oldShape = context.oldShape,\n      newData = context.newData,\n      hints = context.hints || {},\n      newShape;\n\n  function canReconnect(source, target, connection) {\n    return rules.allowed('connection.reconnect', {\n      connection: connection,\n      source: source,\n      target: target\n    });\n  }\n\n  // (1) add new shape at given position\n  var position = {\n    x: newData.x,\n    y: newData.y\n  };\n\n  var oldBounds = {\n    x: oldShape.x,\n    y: oldShape.y,\n    width: oldShape.width,\n    height: oldShape.height\n  };\n\n  newShape = context.newShape =\n    context.newShape ||\n    self.createShape(newData, position, oldShape.parent, hints);\n\n  // (2) update host\n  if (oldShape.host) {\n    modeling.updateAttachment(newShape, oldShape.host);\n  }\n\n  // (3) adopt all children from old shape\n  var children;\n\n  if (hints.moveChildren !== false) {\n    children = oldShape.children.slice();\n\n    modeling.moveElements(children, { x: 0, y: 0 }, newShape, hints);\n  }\n\n  // (4) reconnect connections to new shape if possible\n  var incoming = oldShape.incoming.slice(),\n      outgoing = oldShape.outgoing.slice();\n\n  forEach(incoming, function(connection) {\n    var source = connection.source,\n        allowed = canReconnect(source, newShape, connection);\n\n    if (allowed) {\n      self.reconnectEnd(\n        connection, newShape,\n        getResizedTargetAnchor(connection, newShape, oldBounds),\n        hints\n      );\n    }\n  });\n\n  forEach(outgoing, function(connection) {\n    var target = connection.target,\n        allowed = canReconnect(newShape, target, connection);\n\n    if (allowed) {\n      self.reconnectStart(\n        connection, newShape,\n        getResizedSourceAnchor(connection, newShape, oldBounds),\n        hints\n      );\n    }\n  });\n};\n\n\n/**\n * Remove old shape.\n */\nReplaceShapeHandler.prototype.postExecute = function(context) {\n  var oldShape = context.oldShape;\n\n  this._modeling.removeShape(oldShape);\n};\n\n\nReplaceShapeHandler.prototype.execute = function(context) {};\n\n\nReplaceShapeHandler.prototype.revert = function(context) {};\n\n\nReplaceShapeHandler.prototype.createShape = function(shape, position, target, hints) {\n  return this._modeling.createShape(shape, position, target, hints);\n};\n\n\nReplaceShapeHandler.prototype.reconnectStart = function(connection, newSource, dockingPoint, hints) {\n  this._modeling.reconnectStart(connection, newSource, dockingPoint, hints);\n};\n\n\nReplaceShapeHandler.prototype.reconnectEnd = function(connection, newTarget, dockingPoint, hints) {\n  this._modeling.reconnectEnd(connection, newTarget, dockingPoint, hints);\n};\n","import {\n  assign,\n  forEach\n} from 'min-dash';\n\nimport {\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n\n/**\n * A handler that implements reversible resizing of shapes.\n *\n * @param {Modeling} modeling\n */\nexport default function ResizeShapeHandler(modeling) {\n  this._modeling = modeling;\n}\n\nResizeShapeHandler.$inject = [ 'modeling' ];\n\n/**\n * {\n *   shape: {....}\n *   newBounds: {\n *     width:  20,\n *     height: 40,\n *     x:       5,\n *     y:      10\n *   }\n *\n * }\n */\nResizeShapeHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newBounds = context.newBounds,\n      minBounds = context.minBounds;\n\n  if (newBounds.x === undefined || newBounds.y === undefined ||\n      newBounds.width === undefined || newBounds.height === undefined) {\n    throw new Error('newBounds must have {x, y, width, height} properties');\n  }\n\n  if (minBounds && (newBounds.width < minBounds.width\n    || newBounds.height < minBounds.height)) {\n    throw new Error('width and height cannot be less than minimum height and width');\n  } else if (!minBounds\n    && newBounds.width < 10 || newBounds.height < 10) {\n    throw new Error('width and height cannot be less than 10px');\n  }\n\n  // save old bbox in context\n  context.oldBounds = {\n    width:  shape.width,\n    height: shape.height,\n    x:      shape.x,\n    y:      shape.y\n  };\n\n  // update shape\n  assign(shape, {\n    width:  newBounds.width,\n    height: newBounds.height,\n    x:      newBounds.x,\n    y:      newBounds.y\n  });\n\n  return shape;\n};\n\nResizeShapeHandler.prototype.postExecute = function(context) {\n  var modeling = this._modeling;\n\n  var shape = context.shape,\n      oldBounds = context.oldBounds,\n      hints = context.hints || {};\n\n  if (hints.layout === false) {\n    return;\n  }\n\n  forEach(shape.incoming, function(c) {\n    modeling.layoutConnection(c, {\n      connectionEnd: getResizedTargetAnchor(c, shape, oldBounds)\n    });\n  });\n\n  forEach(shape.outgoing, function(c) {\n    modeling.layoutConnection(c, {\n      connectionStart: getResizedSourceAnchor(c, shape, oldBounds)\n    });\n  });\n\n};\n\nResizeShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldBounds = context.oldBounds;\n\n  // restore previous bbox\n  assign(shape, {\n    width:  oldBounds.width,\n    height: oldBounds.height,\n    x:      oldBounds.x,\n    y:      oldBounds.y\n  });\n\n  return shape;\n};\n","import { forEach } from 'min-dash';\n\n/**\n * Return direction given axis and delta.\n *\n * @param {string} axis\n * @param {number} delta\n *\n * @return {string}\n */\nexport function getDirection(axis, delta) {\n\n  if (axis === 'x') {\n    if (delta > 0) {\n      return 'e';\n    }\n\n    if (delta < 0) {\n      return 'w';\n    }\n  }\n\n  if (axis === 'y') {\n    if (delta > 0) {\n      return 's';\n    }\n\n    if (delta < 0) {\n      return 'n';\n    }\n  }\n\n  return null;\n}\n\n/**\n * Returns connections whose waypoints are to be updated. Waypoints are to be updated if start\n * or end is to be moved or resized.\n *\n * @param {Array<djs.model.Shape} movingShapes\n * @param {Array<djs.model.Shape} resizingShapes\n *\n * @returns {Array<djs.model.Connection>}\n */\nexport function getWaypointsUpdatingConnections(movingShapes, resizingShapes) {\n  var waypointsUpdatingConnections = [];\n\n  forEach(movingShapes.concat(resizingShapes), function(shape) {\n    var incoming = shape.incoming,\n        outgoing = shape.outgoing;\n\n    forEach(incoming.concat(outgoing), function(connection) {\n      var source = connection.source,\n          target = connection.target;\n\n      if (includes(movingShapes, source) ||\n        includes(movingShapes, target) ||\n        includes(resizingShapes, source) ||\n        includes(resizingShapes, target)) {\n\n        if (!includes(waypointsUpdatingConnections, connection)) {\n          waypointsUpdatingConnections.push(connection);\n        }\n      }\n    });\n  });\n\n  return waypointsUpdatingConnections;\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\n/**\n * Resize bounds.\n *\n * @param {Object} bounds\n * @param {number} bounds.x\n * @param {number} bounds.y\n * @param {number} bounds.width\n * @param {number} bounds.height\n * @param {string} direction\n * @param {Object} delta\n * @param {number} delta.x\n * @param {number} delta.y\n *\n * @return {Object}\n */\nexport function resizeBounds(bounds, direction, delta) {\n  var x = bounds.x,\n      y = bounds.y,\n      width = bounds.width,\n      height = bounds.height,\n      dx = delta.x,\n      dy = delta.y;\n\n  switch (direction) {\n  case 'n':\n    return {\n      x: x,\n      y: y + dy,\n      width: width,\n      height: height - dy\n    };\n  case 's':\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height + dy\n    };\n  case 'w':\n    return {\n      x: x + dx,\n      y: y,\n      width: width - dx,\n      height: height\n    };\n  case 'e':\n    return {\n      x: x,\n      y: y,\n      width: width + dx,\n      height: height\n    };\n  default:\n    throw new Error('unknown direction: ' + direction);\n  }\n}","import {\n  assign,\n  forEach,\n  map\n} from 'min-dash';\n\nimport {\n  getWaypointsUpdatingConnections,\n  resizeBounds\n} from '../../space-tool/SpaceUtil';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor,\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n\n/**\n * Add or remove space by moving and resizing shapes and updating connection waypoints.\n */\nexport default function SpaceToolHandler(modeling) {\n  this._modeling = modeling;\n}\n\nSpaceToolHandler.$inject = [ 'modeling' ];\n\nSpaceToolHandler.prototype.preExecute = function(context) {\n  var delta = context.delta,\n      direction = context.direction,\n      movingShapes = context.movingShapes,\n      resizingShapes = context.resizingShapes,\n      start = context.start,\n      oldBounds = {};\n\n  // (1) move shapes\n  this.moveShapes(movingShapes, delta);\n\n  // (2a) save old bounds of resized shapes\n  forEach(resizingShapes, function(shape) {\n    oldBounds[shape.id] = getBounds(shape);\n  });\n\n  // (2b) resize shapes\n  this.resizeShapes(resizingShapes, delta, direction);\n\n  // (3) update connection waypoints\n  this.updateConnectionWaypoints(\n    getWaypointsUpdatingConnections(movingShapes, resizingShapes),\n    delta,\n    direction,\n    start,\n    movingShapes,\n    resizingShapes,\n    oldBounds\n  );\n};\n\nSpaceToolHandler.prototype.execute = function() {};\nSpaceToolHandler.prototype.revert = function() {};\n\nSpaceToolHandler.prototype.moveShapes = function(shapes, delta) {\n  var self = this;\n\n  forEach(shapes, function(element) {\n    self._modeling.moveShape(element, delta, null, {\n      autoResize: false,\n      layout: false,\n      recurse: false\n    });\n  });\n};\n\nSpaceToolHandler.prototype.resizeShapes = function(shapes, delta, direction) {\n  var self = this;\n\n  forEach(shapes, function(shape) {\n    var newBounds = resizeBounds(shape, direction, delta);\n\n    self._modeling.resizeShape(shape, newBounds, null, {\n      attachSupport: false,\n      autoResize: false,\n      layout: false\n    });\n  });\n};\n\n/**\n * Update connections waypoints according to the rules:\n *   1. Both source and target are moved/resized => move waypoints by the delta\n *   2. Only one of source and target is moved/resized => re-layout connection with moved start/end\n */\nSpaceToolHandler.prototype.updateConnectionWaypoints = function(\n    connections,\n    delta,\n    direction,\n    start,\n    movingShapes,\n    resizingShapes,\n    oldBounds\n) {\n  var self = this,\n      affectedShapes = movingShapes.concat(resizingShapes);\n\n  forEach(connections, function(connection) {\n    var source = connection.source,\n        target = connection.target,\n        waypoints = copyWaypoints(connection),\n        axis = getAxisFromDirection(direction),\n        layoutHints = {\n          labelBehavior: false\n        };\n\n    if (includes(affectedShapes, source) && includes(affectedShapes, target)) {\n\n      // move waypoints\n      waypoints = map(waypoints, function(waypoint) {\n        if (shouldMoveWaypoint(waypoint, start, direction)) {\n\n          // move waypoint\n          waypoint[ axis ] = waypoint[ axis ] + delta[ axis ];\n        }\n\n        if (waypoint.original && shouldMoveWaypoint(waypoint.original, start, direction)) {\n\n          // move waypoint original\n          waypoint.original[ axis ] = waypoint.original[ axis ] + delta[ axis ];\n        }\n\n        return waypoint;\n      });\n\n      self._modeling.updateWaypoints(connection, waypoints, {\n        labelBehavior: false\n      });\n    } else if (includes(affectedShapes, source) || includes(affectedShapes, target)) {\n\n      // re-layout connection with moved start/end\n      if (includes(movingShapes, source)) {\n        layoutHints.connectionStart = getMovedSourceAnchor(connection, source, delta);\n      } else if (includes(movingShapes, target)) {\n        layoutHints.connectionEnd = getMovedTargetAnchor(connection, target, delta);\n      } else if (includes(resizingShapes, source)) {\n        layoutHints.connectionStart = getResizedSourceAnchor(\n          connection, source, oldBounds[source.id]\n        );\n      } else if (includes(resizingShapes, target)) {\n        layoutHints.connectionEnd = getResizedTargetAnchor(\n          connection, target, oldBounds[target.id]\n        );\n      }\n\n      self._modeling.layoutConnection(connection, layoutHints);\n    }\n  });\n};\n\n\n// helpers //////////\n\nfunction copyWaypoint(waypoint) {\n  return assign({}, waypoint);\n}\n\nfunction copyWaypoints(connection) {\n  return map(connection.waypoints, function(waypoint) {\n\n    waypoint = copyWaypoint(waypoint);\n\n    if (waypoint.original) {\n      waypoint.original = copyWaypoint(waypoint.original);\n    }\n\n    return waypoint;\n  });\n}\n\nfunction getAxisFromDirection(direction) {\n  switch (direction) {\n  case 'n':\n    return 'y';\n  case 'w':\n    return 'x';\n  case 's':\n    return 'y';\n  case 'e':\n    return 'x';\n  }\n}\n\nfunction shouldMoveWaypoint(waypoint, start, direction) {\n  var relevantAxis = getAxisFromDirection(direction);\n\n  if (/e|s/.test(direction)) {\n    return waypoint[ relevantAxis ] > start;\n  } else if (/n|w/.test(direction)) {\n    return waypoint[ relevantAxis ] < start;\n  }\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\nfunction getBounds(shape) {\n  return {\n    x: shape.x,\n    y: shape.y,\n    height: shape.height,\n    width: shape.width\n  };\n}\n","import {\n  assign,\n  forEach\n} from 'min-dash';\n\n/**\n * A handler that toggles the collapsed state of an element\n * and the visibility of all its children.\n *\n * @param {Modeling} modeling\n */\nexport default function ToggleShapeCollapseHandler(modeling) {\n  this._modeling = modeling;\n}\n\nToggleShapeCollapseHandler.$inject = [ 'modeling' ];\n\n\nToggleShapeCollapseHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      children = shape.children;\n\n  // recursively remember previous visibility of children\n  context.oldChildrenVisibility = getElementsVisibilityRecursive(children);\n\n  // toggle state\n  shape.collapsed = !shape.collapsed;\n\n  // recursively hide/show children\n  var result = setHiddenRecursive(children, shape.collapsed);\n\n  return [shape].concat(result);\n};\n\n\nToggleShapeCollapseHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldChildrenVisibility = context.oldChildrenVisibility;\n\n  var children = shape.children;\n\n  // recursively set old visability of children\n  var result = restoreVisibilityRecursive(children, oldChildrenVisibility);\n\n  // retoggle state\n  shape.collapsed = !shape.collapsed;\n\n  return [shape].concat(result);\n};\n\n\n// helpers //////////////////////\n\n/**\n * Return a map { elementId -> hiddenState}.\n *\n * @param {Array<djs.model.Shape>} elements\n *\n * @return {Object}\n */\nfunction getElementsVisibilityRecursive(elements) {\n\n  var result = {};\n\n  forEach(elements, function(element) {\n    result[element.id] = element.hidden;\n\n    if (element.children) {\n      result = assign({}, result, getElementsVisibilityRecursive(element.children));\n    }\n  });\n\n  return result;\n}\n\n\nfunction setHiddenRecursive(elements, newHidden) {\n  var result = [];\n  forEach(elements, function(element) {\n    element.hidden = newHidden;\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(setHiddenRecursive(element.children, element.collapsed || newHidden));\n    }\n  });\n\n  return result;\n}\n\nfunction restoreVisibilityRecursive(elements, lastState) {\n  var result = [];\n  forEach(elements, function(element) {\n    element.hidden = lastState[element.id];\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(restoreVisibilityRecursive(element.children, lastState));\n    }\n  });\n\n  return result;\n}\n","import {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\n/**\n * A handler that implements reversible attaching/detaching of shapes.\n */\nexport default function UpdateAttachmentHandler(modeling) {\n  this._modeling = modeling;\n}\n\nUpdateAttachmentHandler.$inject = [ 'modeling' ];\n\n\nUpdateAttachmentHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = shape.host;\n\n  // (0) detach from old host\n  context.oldHost = oldHost;\n  context.attacherIdx = removeAttacher(oldHost, shape);\n\n  // (1) attach to new host\n  addAttacher(newHost, shape);\n\n  // (2) update host\n  shape.host = newHost;\n\n  return shape;\n};\n\nUpdateAttachmentHandler.prototype.revert = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = context.oldHost,\n      attacherIdx = context.attacherIdx;\n\n  // (2) update host\n  shape.host = oldHost;\n\n  // (1) attach to new host\n  removeAttacher(newHost, shape);\n\n  // (0) detach from old host\n  addAttacher(oldHost, shape, attacherIdx);\n\n  return shape;\n};\n\n\nfunction removeAttacher(host, attacher) {\n\n  // remove attacher from host\n  return collectionRemove(host && host.attachers, attacher);\n}\n\nfunction addAttacher(host, attacher, idx) {\n\n  if (!host) {\n    return;\n  }\n\n  var attachers = host.attachers;\n\n  if (!attachers) {\n    host.attachers = attachers = [];\n  }\n\n  collectionAdd(attachers, attacher, idx);\n}\n","export default function UpdateWaypointsHandler() { }\n\nUpdateWaypointsHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      newWaypoints = context.newWaypoints;\n\n  context.oldWaypoints = connection.waypoints;\n\n  connection.waypoints = newWaypoints;\n\n  return connection;\n};\n\nUpdateWaypointsHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      oldWaypoints = context.oldWaypoints;\n\n  connection.waypoints = oldWaypoints;\n\n  return connection;\n};","import {\n  assign,\n  forEach,\n  isArray\n} from 'min-dash';\n\nimport {\n  Base\n} from '../../model';\n\nimport AlignElementsHandler from './cmd/AlignElementsHandler';\nimport AppendShapeHandler from './cmd/AppendShapeHandler';\nimport CreateConnectionHandler from './cmd/CreateConnectionHandler';\nimport CreateElementsHandler from './cmd/CreateElementsHandler';\nimport CreateLabelHandler from './cmd/CreateLabelHandler';\nimport CreateShapeHandler from './cmd/CreateShapeHandler';\nimport DeleteConnectionHandler from './cmd/DeleteConnectionHandler';\nimport DeleteElementsHandler from './cmd/DeleteElementsHandler';\nimport DeleteShapeHandler from './cmd/DeleteShapeHandler';\nimport DistributeElementsHandler from './cmd/DistributeElementsHandler';\nimport LayoutConnectionHandler from './cmd/LayoutConnectionHandler';\nimport MoveConnectionHandler from './cmd/MoveConnectionHandler';\nimport MoveElementsHandler from './cmd/MoveElementsHandler';\nimport MoveShapeHandler from './cmd/MoveShapeHandler';\nimport ReconnectConnectionHandler from './cmd/ReconnectConnectionHandler';\nimport ReplaceShapeHandler from './cmd/ReplaceShapeHandler';\nimport ResizeShapeHandler from './cmd/ResizeShapeHandler';\nimport SpaceToolHandler from './cmd/SpaceToolHandler';\nimport ToggleShapeCollapseHandler from './cmd/ToggleShapeCollapseHandler';\nimport UpdateAttachmentHandler from './cmd/UpdateAttachmentHandler';\nimport UpdateWaypointsHandler from './cmd/UpdateWaypointsHandler';\n\n\n/**\n * The basic modeling entry point.\n *\n * @param {EventBus} eventBus\n * @param {ElementFactory} elementFactory\n * @param {CommandStack} commandStack\n */\nexport default function Modeling(eventBus, elementFactory, commandStack) {\n  this._eventBus = eventBus;\n  this._elementFactory = elementFactory;\n  this._commandStack = commandStack;\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n\n    // register modeling handlers\n    self.registerHandlers(commandStack);\n  });\n}\n\nModeling.$inject = [ 'eventBus', 'elementFactory', 'commandStack' ];\n\n\nModeling.prototype.getHandlers = function() {\n  return {\n    'shape.append': AppendShapeHandler,\n    'shape.create': CreateShapeHandler,\n    'shape.delete': DeleteShapeHandler,\n    'shape.move': MoveShapeHandler,\n    'shape.resize': ResizeShapeHandler,\n    'shape.replace': ReplaceShapeHandler,\n    'shape.toggleCollapse': ToggleShapeCollapseHandler,\n\n    'spaceTool': SpaceToolHandler,\n\n    'label.create': CreateLabelHandler,\n\n    'connection.create': CreateConnectionHandler,\n    'connection.delete': DeleteConnectionHandler,\n    'connection.move': MoveConnectionHandler,\n    'connection.layout': LayoutConnectionHandler,\n\n    'connection.updateWaypoints': UpdateWaypointsHandler,\n\n    'connection.reconnect': ReconnectConnectionHandler,\n\n    'elements.create': CreateElementsHandler,\n    'elements.move': MoveElementsHandler,\n    'elements.delete': DeleteElementsHandler,\n\n    'elements.distribute': DistributeElementsHandler,\n    'elements.align': AlignElementsHandler,\n\n    'element.updateAttachment': UpdateAttachmentHandler\n  };\n};\n\n/**\n * Register handlers with the command stack\n *\n * @param {CommandStack} commandStack\n */\nModeling.prototype.registerHandlers = function(commandStack) {\n  forEach(this.getHandlers(), function(handler, id) {\n    commandStack.registerHandler(id, handler);\n  });\n};\n\n\n// modeling helpers //////////////////////\n\nModeling.prototype.moveShape = function(shape, delta, newParent, newParentIndex, hints) {\n\n  if (typeof newParentIndex === 'object') {\n    hints = newParentIndex;\n    newParentIndex = null;\n  }\n\n  var context = {\n    shape: shape,\n    delta:  delta,\n    newParent: newParent,\n    newParentIndex: newParentIndex,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.move', context);\n};\n\n\n/**\n * Update the attachment of the given shape.\n *\n * @param {djs.mode.Base} shape\n * @param {djs.model.Base} [newHost]\n */\nModeling.prototype.updateAttachment = function(shape, newHost) {\n  var context = {\n    shape: shape,\n    newHost: newHost\n  };\n\n  this._commandStack.execute('element.updateAttachment', context);\n};\n\n\n/**\n * Move a number of shapes to a new target, either setting it as\n * the new parent or attaching it.\n *\n * @param {Array<djs.mode.Base>} shapes\n * @param {Point} delta\n * @param {djs.model.Base} [target]\n * @param {Object} [hints]\n * @param {boolean} [hints.attach=false]\n */\nModeling.prototype.moveElements = function(shapes, delta, target, hints) {\n\n  hints = hints || {};\n\n  var attach = hints.attach;\n\n  var newParent = target,\n      newHost;\n\n  if (attach === true) {\n    newHost = target;\n    newParent = target.parent;\n  } else\n\n  if (attach === false) {\n    newHost = null;\n  }\n\n  var context = {\n    shapes: shapes,\n    delta: delta,\n    newParent: newParent,\n    newHost: newHost,\n    hints: hints\n  };\n\n  this._commandStack.execute('elements.move', context);\n};\n\n\nModeling.prototype.moveConnection = function(connection, delta, newParent, newParentIndex, hints) {\n\n  if (typeof newParentIndex === 'object') {\n    hints = newParentIndex;\n    newParentIndex = undefined;\n  }\n\n  var context = {\n    connection: connection,\n    delta: delta,\n    newParent: newParent,\n    newParentIndex: newParentIndex,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.move', context);\n};\n\n\nModeling.prototype.layoutConnection = function(connection, hints) {\n  var context = {\n    connection: connection,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.layout', context);\n};\n\n\n/**\n * Create connection.\n *\n * @param {djs.model.Base} source\n * @param {djs.model.Base} target\n * @param {number} [parentIndex]\n * @param {Object|djs.model.Connection} connection\n * @param {djs.model.Base} parent\n * @param {Object} hints\n *\n * @return {djs.model.Connection} the created connection.\n */\nModeling.prototype.createConnection = function(source, target, parentIndex, connection, parent, hints) {\n\n  if (typeof parentIndex === 'object') {\n    hints = parent;\n    parent = connection;\n    connection = parentIndex;\n    parentIndex = undefined;\n  }\n\n  connection = this._create('connection', connection);\n\n  var context = {\n    source: source,\n    target: target,\n    parent: parent,\n    parentIndex: parentIndex,\n    connection: connection,\n    hints: hints\n  };\n\n  this._commandStack.execute('connection.create', context);\n\n  return context.connection;\n};\n\n\n/**\n * Create a shape at the specified position.\n *\n * @param {djs.model.Shape|Object} shape\n * @param {Point} position\n * @param {djs.model.Shape|djs.model.Root} target\n * @param {number} [parentIndex] position in parents children list\n * @param {Object} [hints]\n * @param {boolean} [hints.attach] whether to attach to target or become a child\n *\n * @return {djs.model.Shape} the created shape\n */\nModeling.prototype.createShape = function(shape, position, target, parentIndex, hints) {\n\n  if (typeof parentIndex !== 'number') {\n    hints = parentIndex;\n    parentIndex = undefined;\n  }\n\n  hints = hints || {};\n\n  var attach = hints.attach,\n      parent,\n      host;\n\n  shape = this._create('shape', shape);\n\n  if (attach) {\n    parent = target.parent;\n    host = target;\n  } else {\n    parent = target;\n  }\n\n  var context = {\n    position: position,\n    shape: shape,\n    parent: parent,\n    parentIndex: parentIndex,\n    host: host,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.create', context);\n\n  return context.shape;\n};\n\n\nModeling.prototype.createElements = function(elements, position, parent, parentIndex, hints) {\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  if (typeof parentIndex !== 'number') {\n    hints = parentIndex;\n    parentIndex = undefined;\n  }\n\n  hints = hints || {};\n\n  var context = {\n    position: position,\n    elements: elements,\n    parent: parent,\n    parentIndex: parentIndex,\n    hints: hints\n  };\n\n  this._commandStack.execute('elements.create', context);\n\n  return context.elements;\n};\n\n\nModeling.prototype.createLabel = function(labelTarget, position, label, parent) {\n\n  label = this._create('label', label);\n\n  var context = {\n    labelTarget: labelTarget,\n    position: position,\n    parent: parent || labelTarget.parent,\n    shape: label\n  };\n\n  this._commandStack.execute('label.create', context);\n\n  return context.shape;\n};\n\n\n/**\n * Append shape to given source, drawing a connection\n * between source and the newly created shape.\n *\n * @param {djs.model.Shape} source\n * @param {djs.model.Shape|Object} shape\n * @param {Point} position\n * @param {djs.model.Shape} target\n * @param {Object} [hints]\n * @param {boolean} [hints.attach]\n * @param {djs.model.Connection|Object} [hints.connection]\n * @param {djs.model.Base} [hints.connectionParent]\n *\n * @return {djs.model.Shape} the newly created shape\n */\nModeling.prototype.appendShape = function(source, shape, position, target, hints) {\n\n  hints = hints || {};\n\n  shape = this._create('shape', shape);\n\n  var context = {\n    source: source,\n    position: position,\n    target: target,\n    shape: shape,\n    connection: hints.connection,\n    connectionParent: hints.connectionParent,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.append', context);\n\n  return context.shape;\n};\n\n\nModeling.prototype.removeElements = function(elements) {\n  var context = {\n    elements: elements\n  };\n\n  this._commandStack.execute('elements.delete', context);\n};\n\n\nModeling.prototype.distributeElements = function(groups, axis, dimension) {\n  var context = {\n    groups: groups,\n    axis: axis,\n    dimension: dimension\n  };\n\n  this._commandStack.execute('elements.distribute', context);\n};\n\n\nModeling.prototype.removeShape = function(shape, hints) {\n  var context = {\n    shape: shape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.delete', context);\n};\n\n\nModeling.prototype.removeConnection = function(connection, hints) {\n  var context = {\n    connection: connection,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.delete', context);\n};\n\nModeling.prototype.replaceShape = function(oldShape, newShape, hints) {\n  var context = {\n    oldShape: oldShape,\n    newData: newShape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.replace', context);\n\n  return context.newShape;\n};\n\nModeling.prototype.alignElements = function(elements, alignment) {\n  var context = {\n    elements: elements,\n    alignment: alignment\n  };\n\n  this._commandStack.execute('elements.align', context);\n};\n\nModeling.prototype.resizeShape = function(shape, newBounds, minBounds, hints) {\n  var context = {\n    shape: shape,\n    newBounds: newBounds,\n    minBounds: minBounds,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.resize', context);\n};\n\nModeling.prototype.createSpace = function(movingShapes, resizingShapes, delta, direction, start) {\n  var context = {\n    delta: delta,\n    direction: direction,\n    movingShapes: movingShapes,\n    resizingShapes: resizingShapes,\n    start: start\n  };\n\n  this._commandStack.execute('spaceTool', context);\n};\n\nModeling.prototype.updateWaypoints = function(connection, newWaypoints, hints) {\n  var context = {\n    connection: connection,\n    newWaypoints: newWaypoints,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.updateWaypoints', context);\n};\n\nModeling.prototype.reconnect = function(connection, source, target, dockingOrPoints, hints) {\n  var context = {\n    connection: connection,\n    newSource: source,\n    newTarget: target,\n    dockingOrPoints: dockingOrPoints,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.reconnect', context);\n};\n\nModeling.prototype.reconnectStart = function(connection, newSource, dockingOrPoints, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  this.reconnect(connection, newSource, connection.target, dockingOrPoints, assign(hints, {\n    docking: 'source'\n  }));\n};\n\nModeling.prototype.reconnectEnd = function(connection, newTarget, dockingOrPoints, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  this.reconnect(connection, connection.source, newTarget, dockingOrPoints, assign(hints, {\n    docking: 'target'\n  }));\n};\n\nModeling.prototype.connect = function(source, target, attrs, hints) {\n  return this.createConnection(source, target, attrs || {}, source.parent, hints);\n};\n\nModeling.prototype._create = function(type, attrs) {\n  if (attrs instanceof Base) {\n    return attrs;\n  } else {\n    return this._elementFactory.create(type, attrs);\n  }\n};\n\nModeling.prototype.toggleCollapse = function(shape, hints) {\n  var context = {\n    shape: shape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.toggleCollapse', context);\n};\n","export default function IdClaimHandler(moddle) {\n  this._moddle = moddle;\n}\n\nIdClaimHandler.$inject = [ 'moddle' ];\n\n\nIdClaimHandler.prototype.execute = function(context) {\n  var ids = this._moddle.ids,\n      id = context.id,\n      element = context.element,\n      claiming = context.claiming;\n\n  if (claiming) {\n    ids.claim(id, element);\n  } else {\n    ids.unclaim(id);\n  }\n};\n\n/**\n * Command revert implementation.\n */\nIdClaimHandler.prototype.revert = function(context) {\n  var ids = this._moddle.ids,\n      id = context.id,\n      element = context.element,\n      claiming = context.claiming;\n\n  if (claiming) {\n    ids.unclaim(id);\n  } else {\n    ids.claim(id, element);\n  }\n};\n","import {\n  getLabel,\n  setLabel\n} from '../LabelUtil';\n\n\n/**\n * A handler that updates the name of a DMN element.\n */\nexport default function UpdateLabelHandler() {\n\n  /**\n   * Set the label and return the changed elements.\n   *\n   * Element parameter can be label itself or connection (i.e. sequence flow).\n   *\n   * @param {djs.model.Base} element\n   * @param {string} text\n   */\n  function setText(element, text) {\n\n    // external label if present\n    var label = element.label || element;\n\n    var labelTarget = element.labelTarget || element;\n\n    setLabel(label, text, labelTarget !== label);\n\n    return [ label, labelTarget ];\n  }\n\n  function execute(ctx) {\n    ctx.oldLabel = getLabel(ctx.element);\n    return setText(ctx.element, ctx.newLabel);\n  }\n\n  function revert(ctx) {\n    return setText(ctx.element, ctx.oldLabel);\n  }\n\n  // API\n\n  this.execute = execute;\n  this.revert = revert;\n}\n","import {\n  reduce,\n  keys,\n  forEach\n} from 'min-dash';\n\nvar NAME = 'name',\n    ID = 'id';\n\n\n/**\n * A handler that implements a DMN property update.\n *\n * This should be used to set simple properties on elements with\n * an underlying DMN business object.\n *\n * Use respective diagram-js provided handlers if you would\n * like to perform automated modeling.\n */\nexport default function UpdatePropertiesHandler(elementRegistry, moddle) {\n  this._elementRegistry = elementRegistry;\n  this._moddle = moddle;\n}\n\nUpdatePropertiesHandler.$inject = [ 'elementRegistry', 'moddle' ];\n\n\n/**\n * Updates a DMN element with a list of new properties\n *\n * @param {Object} context\n * @param {djs.model.Base} context.element the element to update\n * @param {Object} context.properties a list of properties to set on the element's\n *                                    businessObject (the DMN model element)\n *\n * @return {Array<djs.model.Base>} the updated element\n */\nUpdatePropertiesHandler.prototype.execute = function(context) {\n\n  var element = context.element,\n      changed = [ element];\n\n  if (!element) {\n    throw new Error('element required');\n  }\n\n  var elementRegistry = this._elementRegistry,\n      ids = this._moddle.ids;\n\n  var businessObject = element.businessObject,\n      properties = context.properties,\n      oldProperties = (\n        context.oldProperties ||\n        getProperties(businessObject, keys(properties))\n      );\n\n  if (isIdChange(properties, businessObject)) {\n    ids.unclaim(businessObject[ID]);\n\n    elementRegistry.updateId(element, properties[ID]);\n\n    ids.claim(properties[ID], businessObject);\n  }\n\n  if (NAME in properties && element.label) {\n    changed.push(element.label);\n  }\n\n  // update properties\n  setProperties(businessObject, properties);\n\n  // store old values\n  context.oldProperties = oldProperties;\n  context.changed = changed;\n\n  // indicate changed on objects affected by the update\n  return changed;\n};\n\n\n/**\n * Reverts the update on a DMN elements properties.\n *\n * @param  {Object} context\n *\n * @return {djs.model.Base} the updated element\n */\nUpdatePropertiesHandler.prototype.revert = function(context) {\n\n  var element = context.element,\n      properties = context.properties,\n      oldProperties = context.oldProperties,\n      businessObject = element.businessObject,\n      elementRegistry = this._elementRegistry,\n      ids = this._moddle.ids;\n\n  // update properties\n  setProperties(businessObject, oldProperties);\n\n  if (isIdChange(properties, businessObject)) {\n    ids.unclaim(properties[ID]);\n\n    elementRegistry.updateId(element, oldProperties[ID]);\n\n    ids.claim(oldProperties[ID], businessObject);\n  }\n\n  return context.changed;\n};\n\n\nfunction isIdChange(properties, businessObject) {\n  return ID in properties && properties[ID] !== businessObject[ID];\n}\n\n\nfunction getProperties(businessObject, propertyNames) {\n  return reduce(propertyNames, function(result, key) {\n    result[key] = businessObject.get(key);\n    return result;\n  }, {});\n}\n\n\nfunction setProperties(businessObject, properties) {\n  forEach(properties, function(value, key) {\n    businessObject.set(key, value);\n  });\n}\n","import inherits from 'inherits';\n\nimport BaseModeling from 'diagram-js/lib/features/modeling/Modeling';\n\nimport IdClaimHandler from './cmd/IdClaimHandler.js';\nimport UpdateLabelHandler from '../label-editing/cmd/UpdateLabelHandler.js';\nimport UpdatePropertiesHandler from './cmd/UpdatePropertiesHandler.js';\n\n\n/**\n * DMN modeling.\n *\n * @param {Canvas} canvas\n * @param {CommandStack} commandStack\n * @param {DrdRules} drdRules\n * @param {ElementFactory} elementFactory\n * @param {EventBus} eventBus\n */\nexport default function Modeling(\n    canvas,\n    drdRules,\n    injector\n) {\n  this._canvas = canvas;\n  this._drdRules = drdRules;\n\n  injector.invoke(BaseModeling, this);\n}\n\ninherits(Modeling, BaseModeling);\n\nModeling.$inject = [\n  'canvas',\n  'drdRules',\n  'injector'\n];\n\nModeling.prototype.claimId = function(id, moddleElement) {\n  this._commandStack.execute('id.updateClaim', {\n    id: id,\n    element: moddleElement,\n    claiming: true\n  });\n};\n\nModeling.prototype.connect = function(source, target, attrs, hints) {\n  var drdRules = this._drdRules,\n      rootElement = this._canvas.getRootElement();\n\n  if (!attrs) {\n    attrs = drdRules.canConnect(source, target) || { type: 'dmn:Association' };\n  }\n\n  return this.createConnection(source, target, attrs, rootElement, hints);\n};\n\nModeling.prototype.getHandlers = function() {\n  var handlers = BaseModeling.prototype.getHandlers.call(this);\n\n  handlers['id.updateClaim'] = IdClaimHandler;\n  handlers['element.updateLabel'] = UpdateLabelHandler;\n  handlers['element.updateProperties'] = UpdatePropertiesHandler;\n\n  return handlers;\n};\n\nModeling.prototype.unclaimId = function(id, moddleElement) {\n  this._commandStack.execute('id.updateClaim', {\n    id: id,\n    element: moddleElement\n  });\n};\n\nModeling.prototype.updateProperties = function(element, properties) {\n  this._commandStack.execute('element.updateProperties', {\n    element: element,\n    properties: properties\n  });\n};\n\nModeling.prototype.updateLabel = function(element, newLabel, newBounds, hints) {\n  this._commandStack.execute('element.updateLabel', {\n    element: element,\n    newLabel: newLabel,\n    newBounds: newBounds,\n    hints: hints || {}\n  });\n};\n","import {\n  getMid\n} from './LayoutUtil';\n\n\n/**\n * A base connection layouter implementation\n * that layouts the connection by directly connecting\n * mid(source) + mid(target).\n */\nexport default function BaseLayouter() {}\n\n\n/**\n * Return the new layouted waypoints for the given connection.\n *\n * The connection passed is still unchanged; you may figure out about\n * the new connection start / end via the layout hints provided.\n *\n * @param {djs.model.Connection} connection\n * @param {Object} [hints]\n * @param {Point} [hints.connectionStart]\n * @param {Point} [hints.connectionEnd]\n * @param {Point} [hints.source]\n * @param {Point} [hints.target]\n *\n * @return {Array<Point>} the layouted connection waypoints\n */\nBaseLayouter.prototype.layoutConnection = function(connection, hints) {\n\n  hints = hints || {};\n\n  return [\n    hints.connectionStart || getMid(hints.source || connection.source),\n    hints.connectionEnd || getMid(hints.target || connection.target)\n  ];\n};\n","import inherits from 'inherits';\n\nimport BaseLayouter from 'diagram-js/lib/layout/BaseLayouter';\n\nimport {\n  getMid,\n  getOrientation\n} from 'diagram-js/lib/layout/LayoutUtil';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { assign } from 'min-dash';\n\nvar ADDITIONAL_WAYPOINT_DISTANCE = 20;\n\n\nexport default function DrdLayouter(connectionDocking) {\n  this._connectionDocking = connectionDocking;\n}\n\ninherits(DrdLayouter, BaseLayouter);\n\nDrdLayouter.$inject = [ 'connectionDocking' ];\n\n\nDrdLayouter.prototype.layoutConnection = function(connection, hints) {\n  var connectionDocking = this._connectionDocking;\n\n  if (!hints) {\n    hints = {};\n  }\n\n  var source = hints.source || connection.source,\n      target = hints.target || connection.target,\n      waypoints = hints.waypoints || connection.waypoints || [],\n      connectionStart = hints.connectionStart,\n      connectionEnd = hints.connectionEnd,\n      orientation = getOrientation(source, target);\n\n  if (!connectionStart) {\n    connectionStart = getConnectionDocking(waypoints[ 0 ], source);\n  }\n\n  if (!connectionEnd) {\n    connectionEnd = getConnectionDocking(waypoints[ waypoints.length - 1 ], target);\n  }\n\n  if (is(connection, 'dmn:InformationRequirement')) {\n    waypoints = [ connectionStart, connectionEnd ];\n\n    var croppedWaypoints = connectionDocking.getCroppedWaypoints(\n      assign({}, connection, {\n        waypoints: waypoints\n      }),\n      source,\n      target\n    );\n\n    connectionEnd = croppedWaypoints.pop();\n\n    var additionalWaypoint = {\n      x: connectionEnd.x,\n      y: connectionEnd.y\n    };\n\n    if (orientation.includes('bottom')) {\n      additionalWaypoint.y += ADDITIONAL_WAYPOINT_DISTANCE;\n    } else if (orientation.includes('top')) {\n      additionalWaypoint.y -= ADDITIONAL_WAYPOINT_DISTANCE;\n    } else if (orientation.includes('right')) {\n      additionalWaypoint.x += ADDITIONAL_WAYPOINT_DISTANCE;\n    } else {\n      additionalWaypoint.x -= ADDITIONAL_WAYPOINT_DISTANCE;\n    }\n\n    waypoints = croppedWaypoints.concat([ additionalWaypoint, connectionEnd ]);\n\n    return waypoints;\n  }\n\n  return [ connectionStart, connectionEnd ];\n};\n\nfunction getConnectionDocking(point, shape) {\n  return point ? (point.original || point) : getMid(shape);\n}\n","import {\n  assign\n} from 'min-dash';\n\nimport {\n  getElementLineIntersection\n} from './LayoutUtil';\n\n\nfunction dockingToPoint(docking) {\n\n  // use the dockings actual point and\n  // retain the original docking\n  return assign({ original: docking.point.original || docking.point }, docking.actual);\n}\n\n\n/**\n * A {@link ConnectionDocking} that crops connection waypoints based on\n * the path(s) of the connection source and target.\n *\n * @param {djs.core.ElementRegistry} elementRegistry\n */\nexport default function CroppingConnectionDocking(elementRegistry, graphicsFactory) {\n  this._elementRegistry = elementRegistry;\n  this._graphicsFactory = graphicsFactory;\n}\n\nCroppingConnectionDocking.$inject = [ 'elementRegistry', 'graphicsFactory' ];\n\n\n/**\n * @inheritDoc ConnectionDocking#getCroppedWaypoints\n */\nCroppingConnectionDocking.prototype.getCroppedWaypoints = function(connection, source, target) {\n\n  source = source || connection.source;\n  target = target || connection.target;\n\n  var sourceDocking = this.getDockingPoint(connection, source, true),\n      targetDocking = this.getDockingPoint(connection, target);\n\n  var croppedWaypoints = connection.waypoints.slice(sourceDocking.idx + 1, targetDocking.idx);\n\n  croppedWaypoints.unshift(dockingToPoint(sourceDocking));\n  croppedWaypoints.push(dockingToPoint(targetDocking));\n\n  return croppedWaypoints;\n};\n\n/**\n * Return the connection docking point on the specified shape\n *\n * @inheritDoc ConnectionDocking#getDockingPoint\n */\nCroppingConnectionDocking.prototype.getDockingPoint = function(connection, shape, dockStart) {\n\n  var waypoints = connection.waypoints,\n      dockingIdx,\n      dockingPoint,\n      croppedPoint;\n\n  dockingIdx = dockStart ? 0 : waypoints.length - 1;\n  dockingPoint = waypoints[dockingIdx];\n\n  croppedPoint = this._getIntersection(shape, connection, dockStart);\n\n  return {\n    point: dockingPoint,\n    actual: croppedPoint || dockingPoint,\n    idx: dockingIdx\n  };\n};\n\n\n// helpers //////////////////////\n\nCroppingConnectionDocking.prototype._getIntersection = function(shape, connection, takeFirst) {\n\n  var shapePath = this._getShapePath(shape),\n      connectionPath = this._getConnectionPath(connection);\n\n  return getElementLineIntersection(shapePath, connectionPath, takeFirst);\n};\n\nCroppingConnectionDocking.prototype._getConnectionPath = function(connection) {\n  return this._graphicsFactory.getConnectionPath(connection);\n};\n\nCroppingConnectionDocking.prototype._getShapePath = function(shape) {\n  return this._graphicsFactory.getShapePath(shape);\n};\n\nCroppingConnectionDocking.prototype._getGfx = function(element) {\n  return this._elementRegistry.getGraphics(element);\n};\n","import ModelingBehavior from './behavior';\nimport Rules from '../rules';\nimport DefinitionPropertiesViewer from '../definition-properties/viewer';\nimport DiagramCommand from 'diagram-js/lib/command';\nimport DiagramSelection from 'diagram-js/lib/features/selection';\nimport DiagramChangeSupport from 'diagram-js/lib/features/change-support';\n\nimport DrdFactory from './DrdFactory';\nimport DrdUpdater from './DrdUpdater';\nimport ElementFactory from './ElementFactory';\nimport Modeling from './Modeling';\nimport DrdLayouter from './DrdLayouter';\nimport CroppingConnectionDocking from 'diagram-js/lib/layout/CroppingConnectionDocking';\n\nexport default {\n  __init__: [ 'modeling', 'drdUpdater' ],\n  __depends__: [\n    ModelingBehavior,\n    Rules,\n    DefinitionPropertiesViewer,\n    DiagramCommand,\n    DiagramSelection,\n    DiagramChangeSupport\n  ],\n  drdFactory: [ 'type', DrdFactory ],\n  drdUpdater: [ 'type', DrdUpdater ],\n  elementFactory: [ 'type', ElementFactory ],\n  modeling: [ 'type', Modeling ],\n  layouter: [ 'type', DrdLayouter ],\n  connectionDocking: [ 'type', CroppingConnectionDocking ]\n};\n","import {\n  assign,\n  filter,\n  groupBy,\n  isObject\n} from 'min-dash';\n\nvar LOW_PRIORITY = 500,\n    MEDIUM_PRIORITY = 1250,\n    HIGH_PRIORITY = 1500;\n\nimport { getOriginal as getOriginalEvent } from '../../util/Event';\n\nvar round = Math.round;\n\nfunction mid(element) {\n  return {\n    x: element.x + round(element.width / 2),\n    y: element.y + round(element.height / 2)\n  };\n}\n\n/**\n * A plugin that makes shapes draggable / droppable.\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Modeling} modeling\n * @param {Selection} selection\n * @param {Rules} rules\n */\nexport default function MoveEvents(\n    eventBus, dragging, modeling,\n    selection, rules) {\n\n  // rules\n\n  function canMove(shapes, delta, position, target) {\n\n    return rules.allowed('elements.move', {\n      shapes: shapes,\n      delta: delta,\n      position: position,\n      target: target\n    });\n  }\n\n\n  // move events\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment.\n  //\n  // This sets up the context with\n  //\n  // * shape: the primary shape being moved\n  // * shapes: a list of shapes to be moved\n  // * validatedShapes: a list of shapes that are being checked\n  //                    against the rules before and during move\n  //\n  eventBus.on('shape.move.start', HIGH_PRIORITY, function(event) {\n\n    var context = event.context,\n        shape = event.shape,\n        shapes = selection.get().slice();\n\n    // move only single shape if the dragged element\n    // is not part of the current selection\n    if (shapes.indexOf(shape) === -1) {\n      shapes = [ shape ];\n    }\n\n    // ensure we remove nested elements in the collection\n    // and add attachers for a proper dragger\n    shapes = removeNested(shapes);\n\n    // attach shapes to drag context\n    assign(context, {\n      shapes: shapes,\n      validatedShapes: shapes,\n      shape: shape\n    });\n  });\n\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment\n  //\n  eventBus.on('shape.move.start', MEDIUM_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        canExecute;\n\n    canExecute = context.canExecute = canMove(validatedShapes);\n\n    // check if we can move the elements\n    if (!canExecute) {\n      return false;\n    }\n  });\n\n  // assign a low priority to this handler\n  // to let others modify the move event before we update\n  // the context\n  //\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        hover = event.hover,\n        delta = { x: event.dx, y: event.dy },\n        position = { x: event.x, y: event.y },\n        canExecute;\n\n    // check if we can move the elements\n    canExecute = canMove(validatedShapes, delta, position, hover);\n\n    context.delta = delta;\n    context.canExecute = canExecute;\n\n    // simply ignore move over\n    if (canExecute === null) {\n      context.target = null;\n\n      return;\n    }\n\n    context.target = hover;\n  });\n\n  eventBus.on('shape.move.end', function(event) {\n\n    var context = event.context;\n\n    var delta = context.delta,\n        canExecute = context.canExecute,\n        isAttach = canExecute === 'attach',\n        shapes = context.shapes;\n\n    if (canExecute === false) {\n      return false;\n    }\n\n    // ensure we have actual pixel values deltas\n    // (important when zoom level was > 1 during move)\n    delta.x = round(delta.x);\n    delta.y = round(delta.y);\n\n    if (delta.x === 0 && delta.y === 0) {\n\n      // didn't move\n      return;\n    }\n\n    modeling.moveElements(shapes, delta, context.target, {\n      primaryShape: context.shape,\n      attach: isAttach\n    });\n  });\n\n\n  // move activation\n\n  eventBus.on('element.mousedown', function(event) {\n\n    var originalEvent = getOriginalEvent(event);\n\n    if (!originalEvent) {\n      throw new Error('must supply DOM mousedown event');\n    }\n\n    return start(originalEvent, event.element);\n  });\n\n  /**\n   * Start move.\n   *\n   * @param {MouseEvent} event\n   * @param {djs.model.Shape} shape\n   * @param {boolean} [activate]\n   * @param {Object} [context]\n   */\n  function start(event, element, activate, context) {\n    if (isObject(activate)) {\n      context = activate;\n      activate = false;\n    }\n\n    // do not move connections or the root element\n    if (element.waypoints || !element.parent) {\n      return;\n    }\n\n    var referencePoint = mid(element);\n\n    dragging.init(event, referencePoint, 'shape.move', {\n      cursor: 'grabbing',\n      autoActivate: activate,\n      data: {\n        shape: element,\n        context: context || {}\n      }\n    });\n\n    // we've handled the event\n    return true;\n  }\n\n  // API\n\n  this.start = start;\n}\n\nMoveEvents.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'selection',\n  'rules'\n];\n\n\n/**\n * Return a filtered list of elements that do not contain\n * those nested into others.\n *\n * @param  {Array<djs.model.Base>} elements\n *\n * @return {Array<djs.model.Base>} filtered\n */\nfunction removeNested(elements) {\n\n  var ids = groupBy(elements, 'id');\n\n  return filter(elements, function(element) {\n    while ((element = element.parent)) {\n\n      // parent in selection\n      if (ids[element.id]) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}\n","import {\n  flatten,\n  forEach,\n  filter,\n  find,\n  groupBy,\n  map,\n  matchPattern,\n  size\n} from 'min-dash';\n\nimport {\n  selfAndAllChildren\n} from '../../util/Elements';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { translate } from '../../util/SvgTransformUtil';\n\nvar LOW_PRIORITY = 499;\n\nvar MARKER_DRAGGING = 'djs-dragging',\n    MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_NEW_PARENT = 'new-parent',\n    MARKER_ATTACH = 'attach-ok';\n\n\n/**\n * Provides previews for moving shapes when moving.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Canvas} canvas\n * @param {Styles} styles\n */\nexport default function MovePreview(\n    eventBus, canvas, styles, previewSupport) {\n\n  function getVisualDragShapes(shapes) {\n    var elements = getAllDraggedElements(shapes);\n\n    var filteredElements = removeEdges(elements);\n\n    return filteredElements;\n  }\n\n  function getAllDraggedElements(shapes) {\n    var allShapes = selfAndAllChildren(shapes, true);\n\n    var allConnections = map(allShapes, function(shape) {\n      return (shape.incoming || []).concat(shape.outgoing || []);\n    });\n\n    return flatten(allShapes.concat(allConnections));\n  }\n\n  /**\n   * Sets drop marker on an element.\n   */\n  function setMarker(element, marker) {\n\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {djs.model.Base} element\n   * @param {boolean} addMarker\n   */\n  function makeDraggable(context, element, addMarker) {\n\n    previewSupport.addDragger(element, context.dragGroup);\n\n    if (addMarker) {\n      canvas.addMarker(element, MARKER_DRAGGING);\n    }\n\n    if (context.allDraggedElements) {\n      context.allDraggedElements.push(element);\n    } else {\n      context.allDraggedElements = [ element ];\n    }\n  }\n\n  // assign a low priority to this handler\n  // to let others modify the move context before\n  // we draw things\n  eventBus.on('shape.move.start', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        dragShapes = context.shapes,\n        allDraggedElements = context.allDraggedElements;\n\n    var visuallyDraggedShapes = getVisualDragShapes(dragShapes);\n\n    if (!context.dragGroup) {\n      var dragGroup = svgCreate('g');\n\n      svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\n\n      var defaultLayer = canvas.getDefaultLayer();\n\n      svgAppend(defaultLayer, dragGroup);\n\n      context.dragGroup = dragGroup;\n    }\n\n    // add previews\n    visuallyDraggedShapes.forEach(function(shape) {\n      previewSupport.addDragger(shape, context.dragGroup);\n    });\n\n    // cache all dragged elements / gfx\n    // so that we can quickly undo their state changes later\n    if (!allDraggedElements) {\n      allDraggedElements = getAllDraggedElements(dragShapes);\n    } else {\n      allDraggedElements = flatten([\n        allDraggedElements,\n        getAllDraggedElements(dragShapes)\n      ]);\n    }\n\n    // add dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.addMarker(e, MARKER_DRAGGING);\n    });\n\n    context.allDraggedElements = allDraggedElements;\n\n    // determine, if any of the dragged elements have different parents\n    context.differentParents = haveDifferentParents(dragShapes);\n  });\n\n  // update previews\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        dragGroup = context.dragGroup,\n        target = context.target,\n        parent = context.shape.parent,\n        canExecute = context.canExecute;\n\n    if (target) {\n      if (canExecute === 'attach') {\n        setMarker(target, MARKER_ATTACH);\n      } else if (context.canExecute && target && target.id !== parent.id) {\n        setMarker(target, MARKER_NEW_PARENT);\n      } else {\n        setMarker(target, context.canExecute ? MARKER_OK : MARKER_NOT_OK);\n      }\n    }\n\n    translate(dragGroup, event.dx, event.dy);\n  });\n\n  eventBus.on([ 'shape.move.out', 'shape.move.cleanup' ], function(event) {\n    var context = event.context,\n        target = context.target;\n\n    if (target) {\n      setMarker(target, null);\n    }\n  });\n\n  // remove previews\n  eventBus.on('shape.move.cleanup', function(event) {\n\n    var context = event.context,\n        allDraggedElements = context.allDraggedElements,\n        dragGroup = context.dragGroup;\n\n\n    // remove dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.removeMarker(e, MARKER_DRAGGING);\n    });\n\n    if (dragGroup) {\n      svgRemove(dragGroup);\n    }\n  });\n\n\n  // API //////////////////////\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {djs.model.Base} element\n   * @param {boolean} addMarker\n   */\n  this.makeDraggable = makeDraggable;\n}\n\nMovePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'styles',\n  'previewSupport'\n];\n\n\n// helpers //////////////////////\n\n/**\n * returns elements minus all connections\n * where source or target is not elements\n */\nfunction removeEdges(elements) {\n\n  var filteredElements = filter(elements, function(element) {\n\n    if (!isConnection(element)) {\n      return true;\n    } else {\n\n      return (\n        find(elements, matchPattern({ id: element.source.id })) &&\n        find(elements, matchPattern({ id: element.target.id }))\n      );\n    }\n  });\n\n  return filteredElements;\n}\n\nfunction haveDifferentParents(elements) {\n  return size(groupBy(elements, function(e) { return e.parent && e.parent.id; })) !== 1;\n}\n\n/**\n * Checks if an element is a connection.\n */\nfunction isConnection(element) {\n  return element.waypoints;\n}\n","import InteractionEventsModule from '../interaction-events';\nimport SelectionModule from '../selection';\nimport OutlineModule from '../outline';\nimport RulesModule from '../rules';\nimport DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\n\nimport Move from './Move';\nimport MovePreview from './MovePreview';\n\nexport default {\n  __depends__: [\n    InteractionEventsModule,\n    SelectionModule,\n    OutlineModule,\n    RulesModule,\n    DraggingModule,\n    PreviewSupportModule\n  ],\n  __init__: [\n    'move',\n    'movePreview'\n  ],\n  move: [ 'type', Move ],\n  movePreview: [ 'type', MovePreview ]\n};\n","import {\n  isArray,\n  isFunction,\n  forEach\n} from 'min-dash';\n\nimport {\n  domify,\n  query as domQuery,\n  attr as domAttr,\n  clear as domClear,\n  classes as domClasses,\n  matches as domMatches,\n  delegate as domDelegate,\n  event as domEvent\n} from 'min-dom';\n\n\nvar TOGGLE_SELECTOR = '.djs-palette-toggle',\n    ENTRY_SELECTOR = '.entry',\n    ELEMENT_SELECTOR = TOGGLE_SELECTOR + ', ' + ENTRY_SELECTOR;\n\nvar PALETTE_OPEN_CLS = 'open',\n    PALETTE_TWO_COLUMN_CLS = 'two-column';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A palette containing modeling elements.\n */\nexport default function Palette(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('tool-manager.update', function(event) {\n    var tool = event.tool;\n\n    self.updateToolHighlight(tool);\n  });\n\n  eventBus.on('i18n.changed', function() {\n    self._update();\n  });\n\n  eventBus.on('diagram.init', function() {\n\n    self._diagramInitialized = true;\n\n    self._rebuild();\n  });\n}\n\nPalette.$inject = [ 'eventBus', 'canvas' ];\n\n\n/**\n * Register a provider with the palette\n *\n * @param  {number} [priority=1000]\n * @param  {PaletteProvider} provider\n *\n * @example\n * const paletteProvider = {\n *   getPaletteEntries: function() {\n *     return function(entries) {\n *       return {\n *         ...entries,\n *         'entry-1': {\n *           label: 'My Entry',\n *           action: function() { alert(\"I have been clicked!\"); }\n *         }\n *       };\n *     }\n *   }\n * };\n *\n * palette.registerProvider(800, paletteProvider);\n */\nPalette.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('palette.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n\n  this._rebuild();\n};\n\n\n/**\n * Returns the palette entries\n *\n * @return {Object<string, PaletteEntryDescriptor>} map of entries\n */\nPalette.prototype.getEntries = function() {\n  var providers = this._getProviders();\n\n  return providers.reduce(addPaletteEntries, {});\n};\n\nPalette.prototype._rebuild = function() {\n\n  if (!this._diagramInitialized) {\n    return;\n  }\n\n  var providers = this._getProviders();\n\n  if (!providers.length) {\n    return;\n  }\n\n  if (!this._container) {\n    this._init();\n  }\n\n  this._update();\n};\n\n/**\n * Initialize\n */\nPalette.prototype._init = function() {\n\n  var self = this;\n\n  var eventBus = this._eventBus;\n\n  var parentContainer = this._getParentContainer();\n\n  var container = this._container = domify(Palette.HTML_MARKUP);\n\n  parentContainer.appendChild(container);\n\n  domDelegate.bind(container, ELEMENT_SELECTOR, 'click', function(event) {\n\n    var target = event.delegateTarget;\n\n    if (domMatches(target, TOGGLE_SELECTOR)) {\n      return self.toggle();\n    }\n\n    self.trigger('click', event);\n  });\n\n  // prevent drag propagation\n  domEvent.bind(container, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  // prevent drag propagation\n  domDelegate.bind(container, ENTRY_SELECTOR, 'dragstart', function(event) {\n    self.trigger('dragstart', event);\n  });\n\n  eventBus.on('canvas.resized', this._layoutChanged, this);\n\n  eventBus.fire('palette.create', {\n    container: container\n  });\n};\n\nPalette.prototype._getProviders = function(id) {\n\n  var event = this._eventBus.createEvent({\n    type: 'palette.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\n/**\n * Update palette state.\n *\n * @param  {Object} [state] { open, twoColumn }\n */\nPalette.prototype._toggleState = function(state) {\n\n  state = state || {};\n\n  var parent = this._getParentContainer(),\n      container = this._container;\n\n  var eventBus = this._eventBus;\n\n  var twoColumn;\n\n  var cls = domClasses(container);\n\n  if ('twoColumn' in state) {\n    twoColumn = state.twoColumn;\n  } else {\n    twoColumn = this._needsCollapse(parent.clientHeight, this._entries || {});\n  }\n\n  // always update two column\n  cls.toggle(PALETTE_TWO_COLUMN_CLS, twoColumn);\n\n  if ('open' in state) {\n    cls.toggle(PALETTE_OPEN_CLS, state.open);\n  }\n\n  eventBus.fire('palette.changed', {\n    twoColumn: twoColumn,\n    open: this.isOpen()\n  });\n};\n\nPalette.prototype._update = function() {\n\n  var entriesContainer = domQuery('.djs-palette-entries', this._container),\n      entries = this._entries = this.getEntries();\n\n  domClear(entriesContainer);\n\n  forEach(entries, function(entry, id) {\n\n    var grouping = entry.group || 'default';\n\n    var container = domQuery('[data-group=' + grouping + ']', entriesContainer);\n    if (!container) {\n      container = domify('<div class=\"group\" data-group=\"' + grouping + '\"></div>');\n      entriesContainer.appendChild(container);\n    }\n\n    var html = entry.html || (\n      entry.separator ?\n        '<hr class=\"separator\" />' :\n        '<div class=\"entry\" draggable=\"true\"></div>');\n\n\n    var control = domify(html);\n    container.appendChild(control);\n\n    if (!entry.separator) {\n      domAttr(control, 'data-action', id);\n\n      if (entry.title) {\n        domAttr(control, 'title', entry.title);\n      }\n\n      if (entry.className) {\n        addClasses(control, entry.className);\n      }\n\n      if (entry.imageUrl) {\n        control.appendChild(domify('<img src=\"' + entry.imageUrl + '\">'));\n      }\n    }\n  });\n\n  // open after update\n  this.open();\n};\n\n\n/**\n * Trigger an action available on the palette\n *\n * @param  {string} action\n * @param  {Event} event\n */\nPalette.prototype.trigger = function(action, event, autoActivate) {\n  var entries = this._entries,\n      entry,\n      handler,\n      originalEvent,\n      button = event.delegateTarget || event.target;\n\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  entry = entries[domAttr(button, 'data-action')];\n\n  // when user clicks on the palette and not on an action\n  if (!entry) {\n    return;\n  }\n\n  handler = entry.action;\n\n  originalEvent = event.originalEvent || event;\n\n  // simple action (via callback function)\n  if (isFunction(handler)) {\n    if (action === 'click') {\n      handler(originalEvent, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      handler[action](originalEvent, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\nPalette.prototype._layoutChanged = function() {\n  this._toggleState({});\n};\n\n/**\n * Do we need to collapse to two columns?\n *\n * @param {number} availableHeight\n * @param {Object} entries\n *\n * @return {boolean}\n */\nPalette.prototype._needsCollapse = function(availableHeight, entries) {\n\n  // top margin + bottom toggle + bottom margin\n  // implementors must override this method if they\n  // change the palette styles\n  var margin = 20 + 10 + 20;\n\n  var entriesHeight = Object.keys(entries).length * 46;\n\n  return availableHeight < entriesHeight + margin;\n};\n\n/**\n * Close the palette\n */\nPalette.prototype.close = function() {\n\n  this._toggleState({\n    open: false,\n    twoColumn: false\n  });\n};\n\n\n/**\n * Open the palette\n */\nPalette.prototype.open = function() {\n  this._toggleState({ open: true });\n};\n\n\nPalette.prototype.toggle = function(open) {\n  if (this.isOpen()) {\n    this.close();\n  } else {\n    this.open();\n  }\n};\n\nPalette.prototype.isActiveTool = function(tool) {\n  return tool && this._activeTool === tool;\n};\n\nPalette.prototype.updateToolHighlight = function(name) {\n  var entriesContainer,\n      toolsContainer;\n\n  if (!this._toolsContainer) {\n    entriesContainer = domQuery('.djs-palette-entries', this._container);\n\n    this._toolsContainer = domQuery('[data-group=tools]', entriesContainer);\n  }\n\n  toolsContainer = this._toolsContainer;\n\n  forEach(toolsContainer.children, function(tool) {\n    var actionName = tool.getAttribute('data-action');\n\n    if (!actionName) {\n      return;\n    }\n\n    var toolClasses = domClasses(tool);\n\n    actionName = actionName.replace('-tool', '');\n\n    if (toolClasses.contains('entry') && actionName === name) {\n      toolClasses.add('highlighted-entry');\n    } else {\n      toolClasses.remove('highlighted-entry');\n    }\n  });\n};\n\n\n/**\n * Return true if the palette is opened.\n *\n * @example\n *\n * palette.open();\n *\n * if (palette.isOpen()) {\n *   // yes, we are open\n * }\n *\n * @return {boolean} true if palette is opened\n */\nPalette.prototype.isOpen = function() {\n  return domClasses(this._container).has(PALETTE_OPEN_CLS);\n};\n\n/**\n * Get container the palette lives in.\n *\n * @return {Element}\n */\nPalette.prototype._getParentContainer = function() {\n  return this._canvas.getContainer();\n};\n\n\n/* markup definition */\n\nPalette.HTML_MARKUP =\n  '<div class=\"djs-palette\">' +\n    '<div class=\"djs-palette-entries\"></div>' +\n    '<div class=\"djs-palette-toggle\"></div>' +\n  '</div>';\n\n\n// helpers //////////////////////\n\nfunction addClasses(element, classNames) {\n\n  var classes = domClasses(element);\n\n  var actualClassNames = isArray(classNames) ? classNames : classNames.split(/\\s+/g);\n  actualClassNames.forEach(function(cls) {\n    classes.add(cls);\n  });\n}\n\nfunction addPaletteEntries(entries, provider) {\n\n  var entriesOrUpdater = provider.getPaletteEntries();\n\n  if (isFunction(entriesOrUpdater)) {\n    return entriesOrUpdater(entries);\n  }\n\n  forEach(entriesOrUpdater, function(entry, id) {\n    entries[id] = entry;\n  });\n\n  return entries;\n}","import Palette from './Palette';\n\nexport default {\n  __init__: [ 'palette' ],\n  palette: [ 'type', Palette ]\n};\n","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  closest as domClosest\n} from 'min-dom';\n\nvar LOW_PRIORITY = 250;\n\n/**\n * The tool manager acts as middle-man between the available tool's and the Palette,\n * it takes care of making sure that the correct active state is set.\n *\n * @param  {Object}    eventBus\n * @param  {Object}    dragging\n */\nexport default function ToolManager(eventBus, dragging) {\n  this._eventBus = eventBus;\n  this._dragging = dragging;\n\n  this._tools = [];\n  this._active = null;\n}\n\nToolManager.$inject = [ 'eventBus', 'dragging' ];\n\nToolManager.prototype.registerTool = function(name, events) {\n  var tools = this._tools;\n\n  if (!events) {\n    throw new Error('A tool has to be registered with it\\'s \"events\"');\n  }\n\n  tools.push(name);\n\n  this.bindEvents(name, events);\n};\n\nToolManager.prototype.isActive = function(tool) {\n  return tool && this._active === tool;\n};\n\nToolManager.prototype.length = function(tool) {\n  return this._tools.length;\n};\n\nToolManager.prototype.setActive = function(tool) {\n  var eventBus = this._eventBus;\n\n  if (this._active !== tool) {\n    this._active = tool;\n\n    eventBus.fire('tool-manager.update', { tool: tool });\n  }\n};\n\nToolManager.prototype.bindEvents = function(name, events) {\n  var eventBus = this._eventBus,\n      dragging = this._dragging;\n\n  var eventsToRegister = [];\n\n  eventBus.on(events.tool + '.init', function(event) {\n    var context = event.context;\n\n    // Active tools that want to reactivate themselves must do this explicitly\n    if (!context.reactivate && this.isActive(name)) {\n      this.setActive(null);\n\n      dragging.cancel();\n      return;\n    }\n\n    this.setActive(name);\n\n  }, this);\n\n  // Todo[ricardo]: add test cases\n  forEach(events, function(event) {\n    eventsToRegister.push(event + '.ended');\n    eventsToRegister.push(event + '.canceled');\n  });\n\n  eventBus.on(eventsToRegister, LOW_PRIORITY, function(event) {\n    var originalEvent = event.originalEvent;\n\n    // We defer the de-activation of the tool to the .activate phase,\n    // so we're able to check if we want to toggle off the current\n    // active tool or switch to a new one\n    if (!this._active) {\n      return;\n    }\n\n    if (originalEvent && domClosest(originalEvent.target, '.group[data-group=\"tools\"]')) {\n      return;\n    }\n\n    this.setActive(null);\n  }, this);\n};\n","import DraggingModule from '../dragging';\n\nimport ToolManager from './ToolManager';\n\nexport default {\n  __depends__: [\n    DraggingModule\n  ],\n  __init__: [ 'toolManager' ],\n  toolManager: [ 'type', ToolManager ]\n};\n","import { values } from 'min-dash';\n\nimport { getEnclosedElements } from '../../util/Elements';\n\nimport { hasSecondaryModifier } from '../../util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nvar LASSO_TOOL_CURSOR = 'crosshair';\n\n\nexport default function LassoTool(\n    eventBus, canvas, dragging,\n    elementRegistry, selection, toolManager) {\n\n  this._selection = selection;\n  this._dragging = dragging;\n\n  var self = this;\n\n  // lasso visuals implementation\n\n  /**\n  * A helper that realizes the selection box visual\n  */\n  var visuals = {\n\n    create: function(context) {\n      var container = canvas.getDefaultLayer(),\n          frame;\n\n      frame = context.frame = svgCreate('rect');\n      svgAttr(frame, {\n        class: 'djs-lasso-overlay',\n        width:  1,\n        height: 1,\n        x: 0,\n        y: 0\n      });\n\n      svgAppend(container, frame);\n    },\n\n    update: function(context) {\n      var frame = context.frame,\n          bbox = context.bbox;\n\n      svgAttr(frame, {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height\n      });\n    },\n\n    remove: function(context) {\n\n      if (context.frame) {\n        svgRemove(context.frame);\n      }\n    }\n  };\n\n  toolManager.registerTool('lasso', {\n    tool: 'lasso.selection',\n    dragging: 'lasso'\n  });\n\n  eventBus.on('lasso.selection.end', function(event) {\n    var target = event.originalEvent.target;\n\n    // only reactive on diagram click\n    // on some occasions, event.hover is not set and we have to check if the target is an svg\n    if (!event.hover && !(target instanceof SVGElement)) {\n      return;\n    }\n\n    eventBus.once('lasso.selection.ended', function() {\n      self.activateLasso(event.originalEvent, true);\n    });\n  });\n\n  // lasso interaction implementation\n\n  eventBus.on('lasso.end', function(event) {\n\n    var bbox = toBBox(event);\n\n    var elements = elementRegistry.filter(function(element) {\n      return element;\n    });\n\n    self.select(elements, bbox);\n  });\n\n  eventBus.on('lasso.start', function(event) {\n\n    var context = event.context;\n\n    context.bbox = toBBox(event);\n    visuals.create(context);\n  });\n\n  eventBus.on('lasso.move', function(event) {\n\n    var context = event.context;\n\n    context.bbox = toBBox(event);\n    visuals.update(context);\n  });\n\n  eventBus.on('lasso.cleanup', function(event) {\n\n    var context = event.context;\n\n    visuals.remove(context);\n  });\n\n\n  // event integration\n\n  eventBus.on('element.mousedown', 1500, function(event) {\n\n    if (hasSecondaryModifier(event)) {\n      self.activateLasso(event.originalEvent);\n\n      // we've handled the event\n      return true;\n    }\n  });\n}\n\nLassoTool.$inject = [\n  'eventBus',\n  'canvas',\n  'dragging',\n  'elementRegistry',\n  'selection',\n  'toolManager'\n];\n\n\nLassoTool.prototype.activateLasso = function(event, autoActivate) {\n\n  this._dragging.init(event, 'lasso', {\n    autoActivate: autoActivate,\n    cursor: LASSO_TOOL_CURSOR,\n    data: {\n      context: {}\n    }\n  });\n};\n\nLassoTool.prototype.activateSelection = function(event) {\n\n  this._dragging.init(event, 'lasso.selection', {\n    trapClick: false,\n    cursor: LASSO_TOOL_CURSOR,\n    data: {\n      context: {}\n    }\n  });\n};\n\nLassoTool.prototype.select = function(elements, bbox) {\n  var selectedElements = getEnclosedElements(elements, bbox);\n\n  this._selection.select(values(selectedElements));\n};\n\nLassoTool.prototype.toggle = function() {\n  if (this.isActive()) {\n    this._dragging.cancel();\n  } else {\n    this.activateSelection();\n  }\n};\n\nLassoTool.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  return context && /^lasso/.test(context.prefix);\n};\n\n\n\nfunction toBBox(event) {\n\n  var start = {\n\n    x: event.x - event.dx,\n    y: event.y - event.dy\n  };\n\n  var end = {\n    x: event.x,\n    y: event.y\n  };\n\n  var bbox;\n\n  if ((start.x <= end.x && start.y < end.y) ||\n      (start.x < end.x && start.y <= end.y)) {\n\n    bbox = {\n      x: start.x,\n      y: start.y,\n      width:  end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if ((start.x >= end.x && start.y < end.y) ||\n             (start.x > end.x && start.y <= end.y)) {\n\n    bbox = {\n      x: end.x,\n      y: start.y,\n      width:  start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if ((start.x <= end.x && start.y > end.y) ||\n             (start.x < end.x && start.y >= end.y)) {\n\n    bbox = {\n      x: start.x,\n      y: end.y,\n      width:  end.x - start.x,\n      height: start.y - end.y\n    };\n  } else if ((start.x >= end.x && start.y > end.y) ||\n             (start.x > end.x && start.y >= end.y)) {\n\n    bbox = {\n      x: end.x,\n      y: end.y,\n      width:  start.x - end.x,\n      height: start.y - end.y\n    };\n  } else {\n\n    bbox = {\n      x: end.x,\n      y: end.y,\n      width:  0,\n      height: 0\n    };\n  }\n  return bbox;\n}\n","import ToolManagerModule from '../tool-manager';\n\nimport LassoTool from './LassoTool';\n\nexport default {\n  __depends__: [\n    ToolManagerModule\n  ],\n  __init__: [ 'lassoTool' ],\n  lassoTool: [ 'type', LassoTool ]\n};\n","import {\n  assign\n} from 'min-dash';\n\n\n/**\n * A palette provider for DMN elements.\n */\nexport default function PaletteProvider(\n    palette, create, elementFactory,\n    lassoTool, translate) {\n\n  this._palette = palette;\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._lassoTool = lassoTool;\n  this._translate = translate;\n\n  palette.registerProvider(this);\n}\n\nPaletteProvider.$inject = [\n  'palette',\n  'create',\n  'elementFactory',\n  'lassoTool',\n  'translate'\n];\n\n\nPaletteProvider.prototype.getPaletteEntries = function(element) {\n\n  var actions = {},\n      create = this._create,\n      elementFactory = this._elementFactory,\n      lassoTool = this._lassoTool,\n      translate = this._translate;\n\n  function createAction(type, group, className, title, options) {\n\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      create.start(event, shape);\n    }\n\n    return {\n      group: group,\n      className: className,\n      title: title,\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n\n  assign(actions, {\n    'lasso-tool': {\n      group: 'tools',\n      className: 'dmn-icon-lasso-tool',\n      title: translate('Activate the lasso tool'),\n      action: {\n        click: function(event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    'tool-separator': {\n      group: 'tools',\n      separator: true\n    },\n    'create.decision': createAction(\n      'dmn:Decision', 'drd', 'dmn-icon-decision', translate('Create Decision')\n    ),\n    'create.input-data': createAction(\n      'dmn:InputData', 'drd', 'dmn-icon-input-data', translate('Create Input Data')\n    ),\n    'create.knowledge-source': createAction(\n      'dmn:KnowledgeSource', 'drd', 'dmn-icon-knowledge-source',\n      translate('Create Knowledge Source')\n    ),\n    'create.business-knowledge-model': createAction(\n      'dmn:BusinessKnowledgeModel', 'drd', 'dmn-icon-business-knowledge',\n      translate('Create Knowledge Model')\n    )\n  });\n\n  return actions;\n};\n","import DiagramTranslate from 'diagram-js/lib/i18n/translate';\nimport DiagramPalette from 'diagram-js/lib/features/palette';\nimport DiagramCreate from 'diagram-js/lib/features/create';\nimport DiagramLasso from 'diagram-js/lib/features/lasso-tool';\n\nimport PaletteProvider from './PaletteProvider';\n\nexport default {\n  __depends__: [\n    DiagramTranslate,\n    DiagramPalette,\n    DiagramCreate,\n    DiagramLasso\n  ],\n  __init__: [ 'paletteProvider' ],\n  paletteProvider: [ 'type', PaletteProvider ]\n};\n","import {\n  filter,\n  isNumber\n} from 'min-dash';\n\nvar max = Math.max,\n    min = Math.min;\n\nvar DEFAULT_CHILD_BOX_PADDING = 20;\n\nimport {\n  getBBox\n} from '../../util/Elements';\n\nimport {\n  asTRBL,\n  asBounds\n} from '../../layout/LayoutUtil';\n\n\n/**\n * Substract a TRBL from another\n *\n * @param  {TRBL} trblA\n * @param  {TRBL} trblB\n *\n * @return {TRBL}\n */\nexport function substractTRBL(trblA, trblB) {\n  return {\n    top: trblA.top - trblB.top,\n    right: trblA.right - trblB.right,\n    bottom: trblA.bottom - trblB.bottom,\n    left: trblA.left - trblB.left\n  };\n}\n\n/**\n * Resize the given bounds by the specified delta from a given anchor point.\n *\n * @param {Bounds} bounds the bounding box that should be resized\n * @param {string} direction in which the element is resized (nw, ne, se, sw)\n * @param {Point} delta of the resize operation\n *\n * @return {Bounds} resized bounding box\n */\nexport function resizeBounds(bounds, direction, delta) {\n  var dx = delta.x,\n      dy = delta.y;\n\n  var newBounds = {\n    x: bounds.x,\n    y: bounds.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n\n  if (direction.indexOf('n') !== -1) {\n    newBounds.y = bounds.y + dy;\n    newBounds.height = bounds.height - dy;\n  } else if (direction.indexOf('s') !== -1) {\n    newBounds.height = bounds.height + dy;\n  }\n\n  if (direction.indexOf('e') !== -1) {\n    newBounds.width = bounds.width + dx;\n  } else if (direction.indexOf('w') !== -1) {\n    newBounds.x = bounds.x + dx;\n    newBounds.width = bounds.width - dx;\n  }\n\n  return newBounds;\n}\n\n\n/**\n * Resize the given bounds by applying the passed\n * { top, right, bottom, left } delta.\n *\n * @param {Bounds} bounds\n * @param {TRBL} trblResize\n *\n * @return {Bounds}\n */\nexport function resizeTRBL(bounds, resize) {\n  return {\n    x: bounds.x + (resize.left || 0),\n    y: bounds.y + (resize.top || 0),\n    width: bounds.width - (resize.left || 0) + (resize.right || 0),\n    height: bounds.height - (resize.top || 0) + (resize.bottom || 0)\n  };\n}\n\n\nexport function reattachPoint(bounds, newBounds, point) {\n\n  var sx = bounds.width / newBounds.width,\n      sy = bounds.height / newBounds.height;\n\n  return {\n    x: Math.round((newBounds.x + newBounds.width / 2)) - Math.floor(((bounds.x + bounds.width / 2) - point.x) / sx),\n    y: Math.round((newBounds.y + newBounds.height / 2)) - Math.floor(((bounds.y + bounds.height / 2) - point.y) / sy)\n  };\n}\n\n\nfunction applyConstraints(attr, trbl, resizeConstraints) {\n\n  var value = trbl[attr],\n      minValue = resizeConstraints.min && resizeConstraints.min[attr],\n      maxValue = resizeConstraints.max && resizeConstraints.max[attr];\n\n  if (isNumber(minValue)) {\n    value = (/top|left/.test(attr) ? min : max)(value, minValue);\n  }\n\n  if (isNumber(maxValue)) {\n    value = (/top|left/.test(attr) ? max : min)(value, maxValue);\n  }\n\n  return value;\n}\n\nexport function ensureConstraints(currentBounds, resizeConstraints) {\n\n  if (!resizeConstraints) {\n    return currentBounds;\n  }\n\n  var currentTrbl = asTRBL(currentBounds);\n\n  return asBounds({\n    top: applyConstraints('top', currentTrbl, resizeConstraints),\n    right: applyConstraints('right', currentTrbl, resizeConstraints),\n    bottom: applyConstraints('bottom', currentTrbl, resizeConstraints),\n    left: applyConstraints('left', currentTrbl, resizeConstraints)\n  });\n}\n\n\nexport function getMinResizeBounds(direction, currentBounds, minDimensions, childrenBounds) {\n\n  var currentBox = asTRBL(currentBounds);\n\n  var minBox = {\n    top: /n/.test(direction) ? currentBox.bottom - minDimensions.height : currentBox.top,\n    left: /w/.test(direction) ? currentBox.right - minDimensions.width : currentBox.left,\n    bottom: /s/.test(direction) ? currentBox.top + minDimensions.height : currentBox.bottom,\n    right: /e/.test(direction) ? currentBox.left + minDimensions.width : currentBox.right\n  };\n\n  var childrenBox = childrenBounds ? asTRBL(childrenBounds) : minBox;\n\n  var combinedBox = {\n    top: min(minBox.top, childrenBox.top),\n    left: min(minBox.left, childrenBox.left),\n    bottom: max(minBox.bottom, childrenBox.bottom),\n    right: max(minBox.right, childrenBox.right)\n  };\n\n  return asBounds(combinedBox);\n}\n\nfunction asPadding(mayBePadding, defaultValue) {\n  if (typeof mayBePadding !== 'undefined') {\n    return mayBePadding;\n  } else {\n    return DEFAULT_CHILD_BOX_PADDING;\n  }\n}\n\nexport function addPadding(bbox, padding) {\n  var left, right, top, bottom;\n\n  if (typeof padding === 'object') {\n    left = asPadding(padding.left);\n    right = asPadding(padding.right);\n    top = asPadding(padding.top);\n    bottom = asPadding(padding.bottom);\n  } else {\n    left = right = top = bottom = asPadding(padding);\n  }\n\n  return {\n    x: bbox.x - left,\n    y: bbox.y - top,\n    width: bbox.width + left + right,\n    height: bbox.height + top + bottom\n  };\n}\n\n\n/**\n * Is the given element part of the resize\n * targets min boundary box?\n *\n * This is the default implementation which excludes\n * connections and labels.\n *\n * @param {djs.model.Base} element\n */\nfunction isBBoxChild(element) {\n\n  // exclude connections\n  if (element.waypoints) {\n    return false;\n  }\n\n  // exclude labels\n  if (element.type === 'label') {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Return children bounding computed from a shapes children\n * or a list of prefiltered children.\n *\n * @param  {djs.model.Shape|Array<djs.model.Shape>} shapeOrChildren\n * @param  {number|Object} padding\n *\n * @return {Bounds}\n */\nexport function computeChildrenBBox(shapeOrChildren, padding) {\n\n  var elements;\n\n  // compute based on shape\n  if (shapeOrChildren.length === undefined) {\n\n    // grab all the children that are part of the\n    // parents children box\n    elements = filter(shapeOrChildren.children, isBBoxChild);\n\n  } else {\n    elements = shapeOrChildren;\n  }\n\n  if (elements.length) {\n    return addPadding(getBBox(elements), padding);\n  }\n}\n","import {\n  pick,\n  assign\n} from 'min-dash';\n\nimport {\n  resizeBounds,\n  ensureConstraints,\n  computeChildrenBBox,\n  getMinResizeBounds\n} from './ResizeUtil';\n\nimport {\n  asTRBL,\n  getMid,\n  roundBounds\n} from '../../layout/LayoutUtil';\n\nvar DEFAULT_MIN_WIDTH = 10;\n\n\n/**\n * A component that provides resizing of shapes on the canvas.\n *\n * The following components are part of shape resize:\n *\n *  * adding resize handles,\n *  * creating a visual during resize\n *  * checking resize rules\n *  * committing a change once finished\n *\n *\n * ## Customizing\n *\n * It's possible to customize the resizing behaviour by intercepting 'resize.start'\n * and providing the following parameters through the 'context':\n *\n *   * minDimensions ({ width, height }): minimum shape dimensions\n *\n *   * childrenBoxPadding ({ left, top, bottom, right } || number):\n *     gap between the minimum bounding box and the container\n *\n * f.ex:\n *\n * ```javascript\n * eventBus.on('resize.start', 1500, function(event) {\n *   var context = event.context,\n *\n *  context.minDimensions = { width: 140, height: 120 };\n *\n *  // Passing general padding\n *  context.childrenBoxPadding = 30;\n *\n *  // Passing padding to a specific side\n *  context.childrenBoxPadding.left = 20;\n * });\n * ```\n */\nexport default function Resize(eventBus, rules, modeling, dragging) {\n\n  this._dragging = dragging;\n  this._rules = rules;\n\n  var self = this;\n\n\n  /**\n   * Handle resize move by specified delta.\n   *\n   * @param {Object} context\n   * @param {Point} delta\n   */\n  function handleMove(context, delta) {\n\n    var shape = context.shape,\n        direction = context.direction,\n        resizeConstraints = context.resizeConstraints,\n        newBounds;\n\n    context.delta = delta;\n\n    newBounds = resizeBounds(shape, direction, delta);\n\n    // ensure constraints during resize\n    context.newBounds = ensureConstraints(newBounds, resizeConstraints);\n\n    // update + cache executable state\n    context.canExecute = self.canResize(context);\n  }\n\n  /**\n   * Handle resize start.\n   *\n   * @param  {Object} context\n   */\n  function handleStart(context) {\n\n    var resizeConstraints = context.resizeConstraints,\n\n        // evaluate minBounds for backwards compatibility\n        minBounds = context.minBounds;\n\n    if (resizeConstraints !== undefined) {\n      return;\n    }\n\n    if (minBounds === undefined) {\n      minBounds = self.computeMinResizeBox(context);\n    }\n\n    context.resizeConstraints = {\n      min: asTRBL(minBounds)\n    };\n  }\n\n  /**\n   * Handle resize end.\n   *\n   * @param  {Object} context\n   */\n  function handleEnd(context) {\n    var shape = context.shape,\n        canExecute = context.canExecute,\n        newBounds = context.newBounds;\n\n    if (canExecute) {\n\n      // ensure we have actual pixel values for new bounds\n      // (important when zoom level was > 1 during move)\n      newBounds = roundBounds(newBounds);\n\n      if (!boundsChanged(shape, newBounds)) {\n\n        // no resize necessary\n        return;\n      }\n\n      // perform the actual resize\n      modeling.resizeShape(shape, newBounds);\n    }\n  }\n\n\n  eventBus.on('resize.start', function(event) {\n    handleStart(event.context);\n  });\n\n  eventBus.on('resize.move', function(event) {\n    var delta = {\n      x: event.dx,\n      y: event.dy\n    };\n\n    handleMove(event.context, delta);\n  });\n\n  eventBus.on('resize.end', function(event) {\n    handleEnd(event.context);\n  });\n\n}\n\n\nResize.prototype.canResize = function(context) {\n  var rules = this._rules;\n\n  var ctx = pick(context, [ 'newBounds', 'shape', 'delta', 'direction' ]);\n\n  return rules.allowed('shape.resize', ctx);\n};\n\n/**\n * Activate a resize operation.\n *\n * You may specify additional contextual information and must specify a\n * resize direction during activation of the resize event.\n *\n * @param {MouseEvent} event\n * @param {djs.model.Shape} shape\n * @param {Object|string} contextOrDirection\n */\nResize.prototype.activate = function(event, shape, contextOrDirection) {\n  var dragging = this._dragging,\n      context,\n      direction;\n\n  if (typeof contextOrDirection === 'string') {\n    contextOrDirection = {\n      direction: contextOrDirection\n    };\n  }\n\n  context = assign({ shape: shape }, contextOrDirection);\n\n  direction = context.direction;\n\n  if (!direction) {\n    throw new Error('must provide a direction (n|w|s|e|nw|se|ne|sw)');\n  }\n\n  dragging.init(event, getReferencePoint(shape, direction), 'resize', {\n    autoActivate: true,\n    cursor: getCursor(direction),\n    data: {\n      shape: shape,\n      context: context\n    }\n  });\n};\n\nResize.prototype.computeMinResizeBox = function(context) {\n  var shape = context.shape,\n      direction = context.direction,\n      minDimensions,\n      childrenBounds;\n\n  minDimensions = context.minDimensions || {\n    width: DEFAULT_MIN_WIDTH,\n    height: DEFAULT_MIN_WIDTH\n  };\n\n  // get children bounds\n  childrenBounds = computeChildrenBBox(shape, context.childrenBoxPadding);\n\n  // get correct minimum bounds from given resize direction\n  // basically ensures that the minBounds is max(childrenBounds, minDimensions)\n  return getMinResizeBounds(direction, shape, minDimensions, childrenBounds);\n};\n\n\nResize.$inject = [\n  'eventBus',\n  'rules',\n  'modeling',\n  'dragging'\n];\n\n// helpers //////////\n\nfunction boundsChanged(shape, newBounds) {\n  return shape.x !== newBounds.x ||\n    shape.y !== newBounds.y ||\n    shape.width !== newBounds.width ||\n    shape.height !== newBounds.height;\n}\n\nexport function getReferencePoint(shape, direction) {\n  var mid = getMid(shape),\n      trbl = asTRBL(shape);\n\n  var referencePoint = {\n    x: mid.x,\n    y: mid.y\n  };\n\n  if (direction.indexOf('n') !== -1) {\n    referencePoint.y = trbl.top;\n  } else if (direction.indexOf('s') !== -1) {\n    referencePoint.y = trbl.bottom;\n  }\n\n  if (direction.indexOf('e') !== -1) {\n    referencePoint.x = trbl.right;\n  } else if (direction.indexOf('w') !== -1) {\n    referencePoint.x = trbl.left;\n  }\n\n  return referencePoint;\n}\n\nfunction getCursor(direction) {\n  var prefix = 'resize-';\n\n  if (direction === 'n' || direction === 's') {\n    return prefix + 'ns';\n  } else if (direction === 'e' || direction === 'w') {\n    return prefix + 'ew';\n  } else if (direction === 'nw' || direction === 'se') {\n    return prefix + 'nwse';\n  } else {\n    return prefix + 'nesw';\n  }\n}","var MARKER_RESIZING = 'djs-resizing',\n    MARKER_RESIZE_NOT_OK = 'resize-not-ok';\n\nvar LOW_PRIORITY = 500;\n\nimport {\n  attr as svgAttr,\n  remove as svgRemove,\n  classes as svgClasses\n} from 'tiny-svg';\n\n\n/**\n * Provides previews for resizing shapes when resizing.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {PreviewSupport} previewSupport\n */\nexport default function ResizePreview(eventBus, canvas, previewSupport) {\n\n  /**\n   * Update resizer frame.\n   *\n   * @param {Object} context\n   */\n  function updateFrame(context) {\n\n    var shape = context.shape,\n        bounds = context.newBounds,\n        frame = context.frame;\n\n    if (!frame) {\n      frame = context.frame = previewSupport.addFrame(shape, canvas.getDefaultLayer());\n\n      canvas.addMarker(shape, MARKER_RESIZING);\n    }\n\n    if (bounds.width > 5) {\n      svgAttr(frame, { x: bounds.x, width: bounds.width });\n    }\n\n    if (bounds.height > 5) {\n      svgAttr(frame, { y: bounds.y, height: bounds.height });\n    }\n\n    if (context.canExecute) {\n      svgClasses(frame).remove(MARKER_RESIZE_NOT_OK);\n    } else {\n      svgClasses(frame).add(MARKER_RESIZE_NOT_OK);\n    }\n  }\n\n  /**\n   * Remove resizer frame.\n   *\n   * @param {Object} context\n   */\n  function removeFrame(context) {\n    var shape = context.shape,\n        frame = context.frame;\n\n    if (frame) {\n      svgRemove(context.frame);\n    }\n\n    canvas.removeMarker(shape, MARKER_RESIZING);\n  }\n\n  // add and update previews\n  eventBus.on('resize.move', LOW_PRIORITY, function(event) {\n    updateFrame(event.context);\n  });\n\n  // remove previews\n  eventBus.on('resize.cleanup', function(event) {\n    removeFrame(event.context);\n  });\n\n}\n\nResizePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'previewSupport'\n];","import {\n  bind,\n  forEach\n} from 'min-dash';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  clear as svgClear,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  isPrimaryButton\n} from '../../util/Mouse';\n\nimport {\n  transform\n} from '../../util/SvgTransformUtil';\n\nimport { getReferencePoint } from './Resize';\n\nvar HANDLE_OFFSET = -6,\n    HANDLE_SIZE = 4,\n    HANDLE_HIT_SIZE = 20;\n\nvar CLS_RESIZER = 'djs-resizer';\n\nvar directions = [ 'n', 'w', 's', 'e', 'nw', 'ne', 'se', 'sw' ];\n\n\n/**\n * This component is responsible for adding resize handles.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Selection} selection\n * @param {Resize} resize\n */\nexport default function ResizeHandles(eventBus, canvas, selection, resize) {\n\n  this._resize = resize;\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('selection.changed', function(e) {\n    var newSelection = e.newSelection;\n\n    // remove old selection markers\n    self.removeResizers();\n\n    // add new selection markers ONLY if single selection\n    if (newSelection.length === 1) {\n      forEach(newSelection, bind(self.addResizer, self));\n    }\n  });\n\n  eventBus.on('shape.changed', function(e) {\n    var shape = e.element;\n\n    if (selection.isSelected(shape)) {\n      self.removeResizers();\n\n      self.addResizer(shape);\n    }\n  });\n}\n\n\nResizeHandles.prototype.makeDraggable = function(element, gfx, direction) {\n  var resize = this._resize;\n\n  function startResize(event) {\n\n    // only trigger on left mouse button\n    if (isPrimaryButton(event)) {\n      resize.activate(event, element, direction);\n    }\n  }\n\n  domEvent.bind(gfx, 'mousedown', startResize);\n  domEvent.bind(gfx, 'touchstart', startResize);\n};\n\n\nResizeHandles.prototype._createResizer = function(element, x, y, direction) {\n  var resizersParent = this._getResizersParent();\n\n  var offset = getHandleOffset(direction);\n\n  var group = svgCreate('g');\n\n  svgClasses(group).add(CLS_RESIZER);\n  svgClasses(group).add(CLS_RESIZER + '-' + element.id);\n  svgClasses(group).add(CLS_RESIZER + '-' + direction);\n\n  svgAppend(resizersParent, group);\n\n  var visual = svgCreate('rect');\n\n  svgAttr(visual, {\n    x: -HANDLE_SIZE / 2 + offset.x,\n    y: -HANDLE_SIZE / 2 + offset.y,\n    width: HANDLE_SIZE,\n    height: HANDLE_SIZE\n  });\n\n  svgClasses(visual).add(CLS_RESIZER + '-visual');\n\n  svgAppend(group, visual);\n\n  var hit = svgCreate('rect');\n\n  svgAttr(hit, {\n    x: -HANDLE_HIT_SIZE / 2 + offset.x,\n    y: -HANDLE_HIT_SIZE / 2 + offset.y,\n    width: HANDLE_HIT_SIZE,\n    height: HANDLE_HIT_SIZE\n  });\n\n  svgClasses(hit).add(CLS_RESIZER + '-hit');\n\n  svgAppend(group, hit);\n\n  transform(group, x, y);\n\n  return group;\n};\n\nResizeHandles.prototype.createResizer = function(element, direction) {\n  var point = getReferencePoint(element, direction);\n\n  var resizer = this._createResizer(element, point.x, point.y, direction);\n\n  this.makeDraggable(element, resizer, direction);\n};\n\n// resize handles implementation ///////////////////////////////\n\n/**\n * Add resizers for a given element.\n *\n * @param {djs.model.Shape} shape\n */\nResizeHandles.prototype.addResizer = function(shape) {\n  var self = this;\n\n  var resize = this._resize;\n\n  if (!resize.canResize({ shape: shape })) {\n    return;\n  }\n\n  forEach(directions, function(direction) {\n    self.createResizer(shape, direction);\n  });\n};\n\n/**\n * Remove all resizers\n */\nResizeHandles.prototype.removeResizers = function() {\n  var resizersParent = this._getResizersParent();\n\n  svgClear(resizersParent);\n};\n\nResizeHandles.prototype._getResizersParent = function() {\n  return this._canvas.getLayer('resizers');\n};\n\nResizeHandles.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'resize'\n];\n\n// helpers //////////\n\nfunction getHandleOffset(direction) {\n  var offset = {\n    x: 0,\n    y: 0\n  };\n\n  if (direction.indexOf('e') !== -1) {\n    offset.x = -HANDLE_OFFSET;\n  } else if (direction.indexOf('w') !== -1) {\n    offset.x = HANDLE_OFFSET;\n  }\n\n  if (direction.indexOf('s') !== -1) {\n    offset.y = -HANDLE_OFFSET;\n  } else if (direction.indexOf('n') !== -1) {\n    offset.y = HANDLE_OFFSET;\n  }\n\n  return offset;\n}","import RulesModule from '../rules';\nimport DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\n\nimport Resize from './Resize';\nimport ResizePreview from './ResizePreview';\nimport ResizeHandles from './ResizeHandles';\n\nexport default {\n  __depends__: [\n    RulesModule,\n    DraggingModule,\n    PreviewSupportModule\n  ],\n  __init__: [\n    'resize',\n    'resizePreview',\n    'resizeHandles'\n  ],\n  resize: [ 'type', Resize ],\n  resizePreview: [ 'type', ResizePreview ],\n  resizeHandles: [ 'type', ResizeHandles ]\n};\n","import {\r\n  asTRBL,\r\n  getMid,\r\n  getOrientation\r\n} from 'diagram-js/lib/layout/LayoutUtil';\r\n\r\nimport {\r\n  isAny\r\n} from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nvar RECONNECT_START = 'reconnectStart',\r\n    RECONNECT_END = 'reconnectEnd';\r\n\r\nvar HIGH_PRIORITY = 2000;\r\n\r\n\r\nexport default function DrdBendpointSnapping(eventBus) {\r\n  eventBus.on([\r\n    'bendpoint.move.move',\r\n    'bendpoint.move.end'\r\n  ], HIGH_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        allowed = context.allowed,\r\n        hover = context.hover,\r\n        source = context.source,\r\n        target = context.target,\r\n        type = context.type;\r\n\r\n    if (!context.hints) {\r\n      context.hints = {};\r\n    }\r\n\r\n    delete context.hints.connectionStart;\r\n    delete context.hints.connectionEnd;\r\n\r\n    if (allowed && allowed.type !== 'dmn:InformationRequirement') {\r\n      return;\r\n    }\r\n\r\n    if (!hover || !isAny(hover, [ 'dmn:Decision', 'dmn:InputData' ])) {\r\n      return;\r\n    }\r\n\r\n    if (source === target) {\r\n      return;\r\n    }\r\n\r\n    var reconnect = type === RECONNECT_START || type === RECONNECT_END;\r\n\r\n    var orientation = getOrientation(source, target);\r\n\r\n    if (reconnect && hover === source) {\r\n\r\n      // (1) snap event to source\r\n      snapToSource(event, orientation);\r\n\r\n      // (2) set connection end to target\r\n      context.hints.connectionEnd = getConnectionEnd(target, orientation);\r\n    } else if (reconnect && hover === target) {\r\n\r\n      // (1) set connection start to source\r\n      context.hints.connectionStart = getConnectionStart(source, orientation);\r\n\r\n      // (2) snap event to target\r\n      snapToTarget(event, orientation);\r\n    }\r\n  });\r\n}\r\n\r\nDrdBendpointSnapping.$inject = [ 'eventBus' ];\r\n\r\n\r\n// helpers //////////\r\n\r\nfunction getConnectionStart(source, orientation) {\r\n  var sourceTrbl = asTRBL(source);\r\n\r\n  var connectionStart = getMid(source);\r\n\r\n  if (orientation.includes('bottom')) {\r\n    connectionStart.y = sourceTrbl.top;\r\n  } else if (orientation.includes('top')) {\r\n    connectionStart.y = sourceTrbl.bottom;\r\n  } else if (orientation.includes('right')) {\r\n    connectionStart.x = sourceTrbl.left;\r\n  } else {\r\n    connectionStart.x = sourceTrbl.right;\r\n  }\r\n\r\n  return connectionStart;\r\n}\r\n\r\nfunction getConnectionEnd(target, orientation) {\r\n  var targetTrbl = asTRBL(target);\r\n\r\n  var connectionEnd = getMid(target);\r\n\r\n  if (orientation.includes('bottom')) {\r\n    connectionEnd.y = targetTrbl.bottom;\r\n  } else if (orientation.includes('top')) {\r\n    connectionEnd.y = targetTrbl.top;\r\n  } else if (orientation.includes('right')) {\r\n    connectionEnd.x = targetTrbl.right;\r\n  } else {\r\n    connectionEnd.x = targetTrbl.left;\r\n  }\r\n\r\n  return connectionEnd;\r\n}\r\n\r\nfunction snapToSource(event, orientation) {\r\n  var context = event.context,\r\n      source = context.source;\r\n\r\n  var connectionStart = getConnectionStart(source, orientation);\r\n\r\n  var dx = event.x - connectionStart.x,\r\n      dy = event.y - connectionStart.y;\r\n\r\n  event.x -= dx;\r\n  event.y -= dy;\r\n\r\n  event.dx -= dx;\r\n  event.dy -= dy;\r\n}\r\n\r\nfunction snapToTarget(event, orientation) {\r\n  var context = event.context,\r\n      target = context.target;\r\n\r\n  var connectionEnd = getConnectionEnd(target, orientation);\r\n\r\n  var dx = 0,\r\n      dy = 0;\r\n\r\n  if (orientation.includes('top') ||orientation.includes('bottom')) {\r\n    dy = event.y - connectionEnd.y;\r\n  } else {\r\n    dx = event.x - connectionEnd.x;\r\n  }\r\n\r\n  event.x -= dx;\r\n  event.y -= dy;\r\n\r\n  event.dx -= dx;\r\n  event.dy -= dy;\r\n}","import {\r\n  asTRBL,\r\n  getMid,\r\n  getOrientation\r\n} from 'diagram-js/lib/layout/LayoutUtil';\r\n\r\nvar LOW_PRIORITY = 250;\r\n\r\n\r\nexport default function DrdConnectSnapping(eventBus) {\r\n  eventBus.on([\r\n    'connect.hover',\r\n    'connect.move',\r\n    'connect.end',\r\n  ], LOW_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        canExecute = context.canExecute,\r\n        hover = context.hover,\r\n        source = context.source,\r\n        target = context.target;\r\n\r\n    if (canExecute && canExecute.type === 'dmn:InformationRequirement') {\r\n      var orientation = getOrientation(source, target);\r\n\r\n      // snap source\r\n      context.connectionStart = getMid(source);\r\n\r\n      // snap target\r\n      if (hover === source) {\r\n        context.connectionEnd = getMid(target);\r\n      } else {\r\n        context.connectionEnd = {\r\n          x: event.x,\r\n          y: event.y\r\n        };\r\n      }\r\n\r\n      if (orientation.includes('bottom')) {\r\n        context.connectionStart.y = asTRBL(source).top;\r\n        context.connectionEnd.y = asTRBL(target).bottom;\r\n      } else if (orientation.includes('top')) {\r\n        context.connectionStart.y = asTRBL(source).bottom;\r\n        context.connectionEnd.y = asTRBL(target).top;\r\n      } else if (orientation.includes('right')) {\r\n        context.connectionStart.x = asTRBL(source).left;\r\n        context.connectionEnd.x = asTRBL(target).right;\r\n      } else {\r\n        context.connectionStart.x = asTRBL(source).right;\r\n        context.connectionEnd.x = asTRBL(target).left;\r\n      }\r\n    } else {\r\n      delete context.connectionStart;\r\n      delete context.connectionEnd;\r\n    }\r\n  });\r\n}\r\n\r\nDrdConnectSnapping.$inject = [ 'eventBus' ];","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  snapTo\n} from './SnapUtil';\n\n\n/**\n * A snap context, containing the (possibly incomplete)\n * mappings of drop targets (to identify the snapping)\n * to computed snap points.\n */\nexport default function SnapContext() {\n\n  /**\n   * Map<String, SnapPoints> mapping drop targets to\n   * a list of possible snappings.\n   *\n   * @type {Object}\n   */\n  this._targets = {};\n\n  /**\n   * Map<String, Point> initial positioning of element\n   * regarding various snap directions.\n   *\n   * @type {Object}\n   */\n  this._snapOrigins = {};\n\n  /**\n   * List of snap locations\n   *\n   * @type {Array<string>}\n   */\n  this._snapLocations = [];\n\n  /**\n   * Map<String, Array<Point>> of default snapping locations\n   *\n   * @type {Object}\n   */\n  this._defaultSnaps = {};\n}\n\n\nSnapContext.prototype.getSnapOrigin = function(snapLocation) {\n  return this._snapOrigins[snapLocation];\n};\n\n\nSnapContext.prototype.setSnapOrigin = function(snapLocation, initialValue) {\n  this._snapOrigins[snapLocation] = initialValue;\n\n  if (this._snapLocations.indexOf(snapLocation) === -1) {\n    this._snapLocations.push(snapLocation);\n  }\n};\n\n\nSnapContext.prototype.addDefaultSnap = function(type, point) {\n\n  var snapValues = this._defaultSnaps[type];\n\n  if (!snapValues) {\n    snapValues = this._defaultSnaps[type] = [];\n  }\n\n  snapValues.push(point);\n};\n\n/**\n * Return a number of initialized snaps, i.e. snap locations such as\n * top-left, mid, bottom-right and so forth.\n *\n * @return {Array<string>} snapLocations\n */\nSnapContext.prototype.getSnapLocations = function() {\n  return this._snapLocations;\n};\n\n/**\n * Set the snap locations for this context.\n *\n * The order of locations determines precedence.\n *\n * @param {Array<string>} snapLocations\n */\nSnapContext.prototype.setSnapLocations = function(snapLocations) {\n  this._snapLocations = snapLocations;\n};\n\n/**\n * Get snap points for a given target\n *\n * @param {Element|string} target\n */\nSnapContext.prototype.pointsForTarget = function(target) {\n\n  var targetId = target.id || target;\n\n  var snapPoints = this._targets[targetId];\n\n  if (!snapPoints) {\n    snapPoints = this._targets[targetId] = new SnapPoints();\n    snapPoints.initDefaults(this._defaultSnaps);\n  }\n\n  return snapPoints;\n};\n\n\n/**\n * Creates the snap points and initializes them with the\n * given default values.\n *\n * @param {Object<string, Array<Point>>} [defaultPoints]\n */\nexport function SnapPoints(defaultSnaps) {\n\n  /**\n   * Map<String, Map<(x|y), Array<number>>> mapping snap locations,\n   * i.e. top-left, bottom-right, center to actual snap values.\n   *\n   * @type {Object}\n   */\n  this._snapValues = {};\n}\n\nSnapPoints.prototype.add = function(snapLocation, point) {\n\n  var snapValues = this._snapValues[snapLocation];\n\n  if (!snapValues) {\n    snapValues = this._snapValues[snapLocation] = { x: [], y: [] };\n  }\n\n  if (snapValues.x.indexOf(point.x) === -1) {\n    snapValues.x.push(point.x);\n  }\n\n  if (snapValues.y.indexOf(point.y) === -1) {\n    snapValues.y.push(point.y);\n  }\n};\n\n\nSnapPoints.prototype.snap = function(point, snapLocation, axis, tolerance) {\n  var snappingValues = this._snapValues[snapLocation];\n\n  return snappingValues && snapTo(point[axis], snappingValues[axis], tolerance);\n};\n\n/**\n * Initialize a number of default snapping points.\n *\n * @param  {Object} defaultSnaps\n */\nSnapPoints.prototype.initDefaults = function(defaultSnaps) {\n\n  var self = this;\n\n  forEach(defaultSnaps || {}, function(snapPoints, snapLocation) {\n    forEach(snapPoints, function(point) {\n      self.add(snapLocation, point);\n    });\n  });\n};","import SnapContext from './SnapContext';\r\n\r\nimport {\r\n  getChildren,\r\n  isSnapped,\r\n  mid\r\n} from './SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  forEach,\r\n  isNumber\r\n} from 'min-dash';\r\n\r\nvar HIGHER_PRIORITY = 1250;\r\n\r\n\r\n/**\r\n * Snap during create and move.\r\n *\r\n * @param {EventBus} elementRegistry\r\n * @param {EventBus} eventBus\r\n * @param {Snapping} snapping\r\n */\r\nexport default function CreateMoveSnapping(elementRegistry, eventBus, snapping) {\r\n  var self = this;\r\n\r\n  this._elementRegistry = elementRegistry;\r\n\r\n  eventBus.on([\r\n    'create.start',\r\n    'shape.move.start'\r\n  ], function(event) {\r\n    self.initSnap(event);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.move',\r\n    'create.end',\r\n    'shape.move.move',\r\n    'shape.move.end'\r\n  ], HIGHER_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        shape = context.shape,\r\n        snapContext = context.snapContext,\r\n        target = context.target;\r\n\r\n    if (event.originalEvent && isCmd(event.originalEvent)) {\r\n      return;\r\n    }\r\n\r\n    if (isSnapped(event) || !target) {\r\n      return;\r\n    }\r\n\r\n    var snapPoints = snapContext.pointsForTarget(target);\r\n\r\n    if (!snapPoints.initialized) {\r\n      snapPoints = self.addSnapTargetPoints(snapPoints, shape, target);\r\n\r\n      snapPoints.initialized = true;\r\n    }\r\n\r\n    snapping.snap(event, snapPoints);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.cleanup',\r\n    'shape.move.cleanup'\r\n  ], function() {\r\n    snapping.hide();\r\n  });\r\n}\r\n\r\nCreateMoveSnapping.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'snapping'\r\n];\r\n\r\nCreateMoveSnapping.prototype.initSnap = function(event) {\r\n  var elementRegistry = this._elementRegistry;\r\n\r\n  var context = event.context,\r\n      shape = context.shape,\r\n      snapContext = context.snapContext;\r\n\r\n  if (!snapContext) {\r\n    snapContext = context.snapContext = new SnapContext();\r\n  }\r\n\r\n  var shapeMid;\r\n\r\n  if (elementRegistry.get(shape.id)) {\r\n\r\n    // move\r\n    shapeMid = mid(shape, event);\r\n  } else {\r\n\r\n    // create\r\n    shapeMid = {\r\n      x: event.x + mid(shape).x,\r\n      y: event.y + mid(shape).y\r\n    };\r\n  }\r\n\r\n  var shapeTopLeft = {\r\n        x: shapeMid.x - shape.width / 2,\r\n        y: shapeMid.y - shape.height / 2\r\n      },\r\n      shapeBottomRight = {\r\n        x: shapeMid.x + shape.width / 2,\r\n        y: shapeMid.y + shape.height / 2\r\n      };\r\n\r\n  snapContext.setSnapOrigin('mid', {\r\n    x: shapeMid.x - event.x,\r\n    y: shapeMid.y - event.y\r\n  });\r\n\r\n  // snap labels to mid only\r\n  if (isLabel(shape)) {\r\n    return snapContext;\r\n  }\r\n\r\n  snapContext.setSnapOrigin('top-left', {\r\n    x: shapeTopLeft.x - event.x,\r\n    y: shapeTopLeft.y - event.y\r\n  });\r\n\r\n  snapContext.setSnapOrigin('bottom-right', {\r\n    x: shapeBottomRight.x - event.x,\r\n    y: shapeBottomRight.y - event.y\r\n  });\r\n\r\n  return snapContext;\r\n};\r\n\r\nCreateMoveSnapping.prototype.addSnapTargetPoints = function(snapPoints, shape, target) {\r\n  var snapTargets = this.getSnapTargets(shape, target);\r\n\r\n  forEach(snapTargets, function(snapTarget) {\r\n\r\n    // handle labels\r\n    if (isLabel(snapTarget)) {\r\n\r\n      if (isLabel(shape)) {\r\n        snapPoints.add('mid', mid(snapTarget));\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // handle connections\r\n    if (isConnection(snapTarget)) {\r\n\r\n      // ignore single segment connections\r\n      if (snapTarget.waypoints.length < 3) {\r\n        return;\r\n      }\r\n\r\n      // ignore first and last waypoint\r\n      var waypoints = snapTarget.waypoints.slice(1, -1);\r\n\r\n      forEach(waypoints, function(waypoint) {\r\n        snapPoints.add('mid', waypoint);\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    // handle shapes\r\n    snapPoints.add('mid', mid(snapTarget));\r\n  });\r\n\r\n  if (!isNumber(shape.x) || !isNumber(shape.y)) {\r\n    return snapPoints;\r\n  }\r\n\r\n  // snap to original position when moving\r\n  if (this._elementRegistry.get(shape.id)) {\r\n    snapPoints.add('mid', mid(shape));\r\n  }\r\n\r\n  return snapPoints;\r\n};\r\n\r\nCreateMoveSnapping.prototype.getSnapTargets = function(shape, target) {\r\n  return getChildren(target).filter(function(child) {\r\n    return !isHidden(child);\r\n  });\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction isConnection(element) {\r\n  return !!element.waypoints;\r\n}\r\n\r\nfunction isHidden(element) {\r\n  return !!element.hidden;\r\n}\r\n\r\nfunction isLabel(element) {\r\n  return !!element.labelTarget;\r\n}","import SnapContext from './SnapContext';\r\n\r\nimport {\r\n  bottomRight,\r\n  getChildren,\r\n  isSnapped,\r\n  setSnapped,\r\n  topLeft,\r\n} from './SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  asTRBL,\r\n  getMid\r\n} from '../../layout/LayoutUtil';\r\n\r\nimport { forEach } from 'min-dash';\r\n\r\nvar HIGHER_PRIORITY = 1250;\r\n\r\n\r\n/**\r\n * Snap during resize.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {Snapping} snapping\r\n */\r\nexport default function ResizeSnapping(eventBus, snapping) {\r\n  var self = this;\r\n\r\n  eventBus.on([ 'resize.start' ], function(event) {\r\n    self.initSnap(event);\r\n  });\r\n\r\n  eventBus.on([\r\n    'resize.move',\r\n    'resize.end',\r\n  ], HIGHER_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        shape = context.shape,\r\n        parent = shape.parent,\r\n        direction = context.direction,\r\n        snapContext = context.snapContext;\r\n\r\n    if (event.originalEvent && isCmd(event.originalEvent)) {\r\n      return;\r\n    }\r\n\r\n    if (isSnapped(event)) {\r\n      return;\r\n    }\r\n\r\n    var snapPoints = snapContext.pointsForTarget(parent);\r\n\r\n    if (!snapPoints.initialized) {\r\n      snapPoints = self.addSnapTargetPoints(snapPoints, shape, parent, direction);\r\n\r\n      snapPoints.initialized = true;\r\n    }\r\n\r\n    if (isHorizontal(direction)) {\r\n      setSnapped(event, 'x', event.x);\r\n    }\r\n\r\n    if (isVertical(direction)) {\r\n      setSnapped(event, 'y', event.y);\r\n    }\r\n\r\n    snapping.snap(event, snapPoints);\r\n  });\r\n\r\n  eventBus.on([ 'resize.cleanup' ], function() {\r\n    snapping.hide();\r\n  });\r\n}\r\n\r\nResizeSnapping.prototype.initSnap = function(event) {\r\n  var context = event.context,\r\n      shape = context.shape,\r\n      direction = context.direction,\r\n      snapContext = context.snapContext;\r\n\r\n  if (!snapContext) {\r\n    snapContext = context.snapContext = new SnapContext();\r\n  }\r\n\r\n  var snapOrigin = getSnapOrigin(shape, direction);\r\n\r\n  snapContext.setSnapOrigin('corner', {\r\n    x: snapOrigin.x - event.x,\r\n    y: snapOrigin.y - event.y\r\n  });\r\n\r\n  return snapContext;\r\n};\r\n\r\nResizeSnapping.prototype.addSnapTargetPoints = function(snapPoints, shape, target, direction) {\r\n  var snapTargets = this.getSnapTargets(shape, target);\r\n\r\n  forEach(snapTargets, function(snapTarget) {\r\n    snapPoints.add('corner', bottomRight(snapTarget));\r\n    snapPoints.add('corner', topLeft(snapTarget));\r\n  });\r\n\r\n  snapPoints.add('corner', getSnapOrigin(shape, direction));\r\n\r\n  return snapPoints;\r\n};\r\n\r\nResizeSnapping.$inject = [\r\n  'eventBus',\r\n  'snapping'\r\n];\r\n\r\nResizeSnapping.prototype.getSnapTargets = function(shape, target) {\r\n  return getChildren(target).filter(function(child) {\r\n    return !isAttached(child, shape)\r\n      && !isConnection(child)\r\n      && !isHidden(child)\r\n      && !isLabel(child);\r\n  });\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction getSnapOrigin(shape, direction) {\r\n  var mid = getMid(shape),\r\n      trbl = asTRBL(shape);\r\n\r\n  var snapOrigin = {\r\n    x: mid.x,\r\n    y: mid.y\r\n  };\r\n\r\n  if (direction.indexOf('n') !== -1) {\r\n    snapOrigin.y = trbl.top;\r\n  } else if (direction.indexOf('s') !== -1) {\r\n    snapOrigin.y = trbl.bottom;\r\n  }\r\n\r\n  if (direction.indexOf('e') !== -1) {\r\n    snapOrigin.x = trbl.right;\r\n  } else if (direction.indexOf('w') !== -1) {\r\n    snapOrigin.x = trbl.left;\r\n  }\r\n\r\n  return snapOrigin;\r\n}\r\n\r\nfunction isAttached(element, host) {\r\n  return element.host === host;\r\n}\r\n\r\nfunction isConnection(element) {\r\n  return !!element.waypoints;\r\n}\r\n\r\nfunction isHidden(element) {\r\n  return !!element.hidden;\r\n}\r\n\r\nfunction isLabel(element) {\r\n  return !!element.labelTarget;\r\n}\r\n\r\nfunction isHorizontal(direction) {\r\n  return direction === 'n' || direction === 's';\r\n}\r\n\r\nfunction isVertical(direction) {\r\n  return direction === 'e' || direction === 'w';\r\n}","import {\n  bind,\n  debounce,\n  forEach,\n  isNumber,\n  isObject\n} from 'min-dash';\n\nimport {\n  isSnapped,\n  setSnapped\n} from './SnapUtil';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate\n} from 'tiny-svg';\n\nvar SNAP_TOLERANCE = 7;\n\nexport var SNAP_LINE_HIDE_DELAY = 1000;\n\n\n/**\n * Generic snapping feature.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function Snapping(canvas) {\n  this._canvas = canvas;\n\n  // delay hide by 1000 seconds since last snap\n  this._asyncHide = debounce(bind(this.hide, this), SNAP_LINE_HIDE_DELAY);\n}\n\nSnapping.$inject = [ 'canvas' ];\n\n/**\n * Snap an event to given snap points.\n *\n * @param {Event} event\n * @param {SnapPoints} snapPoints\n */\nSnapping.prototype.snap = function(event, snapPoints) {\n  var context = event.context,\n      snapContext = context.snapContext,\n      snapLocations = snapContext.getSnapLocations();\n\n  var snapping = {\n    x: isSnapped(event, 'x'),\n    y: isSnapped(event, 'y')\n  };\n\n  forEach(snapLocations, function(location) {\n    var snapOrigin = snapContext.getSnapOrigin(location);\n\n    var snapCurrent = {\n      x: event.x + snapOrigin.x,\n      y: event.y + snapOrigin.y\n    };\n\n    // snap both axis if not snapped already\n    forEach([ 'x', 'y' ], function(axis) {\n      var locationSnapping;\n\n      if (!snapping[axis]) {\n        locationSnapping = snapPoints.snap(snapCurrent, location, axis, SNAP_TOLERANCE);\n\n        if (locationSnapping !== undefined) {\n          snapping[axis] = {\n            value: locationSnapping,\n            originValue: locationSnapping - snapOrigin[axis]\n          };\n        }\n      }\n    });\n\n    // no need to continue snapping\n    if (snapping.x && snapping.y) {\n      return false;\n    }\n  });\n\n  // show snap lines\n  this.showSnapLine('vertical', snapping.x && snapping.x.value);\n  this.showSnapLine('horizontal', snapping.y && snapping.y.value);\n\n  // snap event\n  forEach([ 'x', 'y' ], function(axis) {\n    var axisSnapping = snapping[axis];\n\n    if (isObject(axisSnapping)) {\n      setSnapped(event, axis, axisSnapping.originValue);\n    }\n  });\n};\n\nSnapping.prototype._createLine = function(orientation) {\n  var root = this._canvas.getLayer('snap');\n\n  var line = svgCreate('path');\n\n  svgAttr(line, { d: 'M0,0 L0,0' });\n\n  svgClasses(line).add('djs-snap-line');\n\n  svgAppend(root, line);\n\n  return {\n    update: function(position) {\n\n      if (!isNumber(position)) {\n        svgAttr(line, { display: 'none' });\n      } else {\n        if (orientation === 'horizontal') {\n          svgAttr(line, {\n            d: 'M-100000,' + position + ' L+100000,' + position,\n            display: ''\n          });\n        } else {\n          svgAttr(line, {\n            d: 'M ' + position + ',-100000 L ' + position + ', +100000',\n            display: ''\n          });\n        }\n      }\n    }\n  };\n};\n\nSnapping.prototype._createSnapLines = function() {\n  this._snapLines = {\n    horizontal: this._createLine('horizontal'),\n    vertical: this._createLine('vertical')\n  };\n};\n\nSnapping.prototype.showSnapLine = function(orientation, position) {\n\n  var line = this.getSnapLine(orientation);\n\n  if (line) {\n    line.update(position);\n  }\n\n  this._asyncHide();\n};\n\nSnapping.prototype.getSnapLine = function(orientation) {\n  if (!this._snapLines) {\n    this._createSnapLines();\n  }\n\n  return this._snapLines[orientation];\n};\n\nSnapping.prototype.hide = function() {\n  forEach(this._snapLines, function(snapLine) {\n    snapLine.update();\n  });\n};\n","import CreateMoveSnapping from './CreateMoveSnapping';\nimport ResizeSnapping from './ResizeSnapping';\nimport Snapping from './Snapping';\n\nexport default {\n  __init__: [\n    'createMoveSnapping',\n    'resizeSnapping',\n    'snapping'\n  ],\n  createMoveSnapping: [ 'type', CreateMoveSnapping ],\n  resizeSnapping: [ 'type', ResizeSnapping ],\n  snapping: [ 'type', Snapping ]\n};","import DrdBendpointSnapping from './DrdBendpointSnapping';\r\nimport DrdConnectSnapping from './DrdConnectSnapping';\r\nimport SnappingModule from 'diagram-js/lib/features/snapping';\r\n\r\nexport default {\r\n  __depends__: [ SnappingModule ],\r\n  __init__: [\r\n    'bendpointSnapping',\r\n    'connectSnapping'\r\n  ],\r\n  bendpointSnapping: [ 'type', DrdBendpointSnapping ],\r\n  connectSnapping: [ 'type', DrdConnectSnapping ]\r\n};","import inherits from 'inherits';\n\nimport NavigatedViewer from './NavigatedViewer';\n\nimport AlignElementsModule from 'diagram-js/lib/features/align-elements';\nimport AutoPlaceModule from './features/auto-place';\nimport AutoScrollModule from 'diagram-js/lib/features/auto-scroll';\nimport BendpointsModule from 'diagram-js/lib/features/bendpoints';\nimport ContextPadModule from './features/context-pad';\nimport ConnectPreviewModule from 'diagram-js/lib/features/connection-preview';\nimport DefinitionPropertiesModule from './features/definition-properties/modeler';\nimport DistributeElementsModule from './features/distribute-elements';\nimport EditorActionsModule from './features/editor-actions';\nimport GenerateDiModule from './features/generate-di';\nimport GridSnappingModule from 'diagram-js/lib/features/grid-snapping';\nimport KeyboardModule from './features/keyboard';\nimport KeyboardMoveModule from 'diagram-js/lib/navigation/keyboard-move';\nimport KeyboardMoveSelectionModule from 'diagram-js/lib/features/keyboard-move-selection';\nimport LabelEditingModule from './features/label-editing';\nimport ModelingModule from './features/modeling';\nimport MoveModule from 'diagram-js/lib/features/move';\nimport PaletteModule from './features/palette';\nimport ResizeModule from 'diagram-js/lib/features/resize';\nimport SnappingModule from './features/snapping';\n\n/**\n * A modeler for DMN tables.\n *\n *\n * ## Extending the Modeler\n *\n * In order to extend the viewer pass extension modules to bootstrap via the\n * `additionalModules` option. An extension module is an object that exposes\n * named services.\n *\n * The following example depicts the integration of a simple\n * logging component that integrates with interaction events:\n *\n *\n * ```javascript\n *\n * // logging component\n * function InteractionLogger(eventBus) {\n *   eventBus.on('element.hover', function(event) {\n *     console.log()\n *   })\n * }\n *\n * InteractionLogger.$inject = [ 'eventBus' ]; // minification save\n *\n * // extension module\n * var extensionModule = {\n *   __init__: [ 'interactionLogger' ],\n *   interactionLogger: [ 'type', InteractionLogger ]\n * };\n *\n * // extend the viewer\n * var dmnModeler = new Modeler({ additionalModules: [ extensionModule ] });\n * dmnModeler.importXML(...);\n * ```\n *\n *\n * ## Customizing / Replacing Components\n *\n * You can replace individual table components by redefining them in override modules.\n * This works for all components, including those defined in the core.\n *\n * Pass in override modules via the `options.additionalModules` flag like this:\n *\n * ```javascript\n * function CustomContextPadProvider(contextPad) {\n *\n *   contextPad.registerProvider(this);\n *\n *   this.getContextPadEntries = function(element) {\n *     // no entries, effectively disable the context pad\n *     return {};\n *   };\n * }\n *\n * CustomContextPadProvider.$inject = [ 'contextPad' ];\n *\n * var overrideModule = {\n *   contextPadProvider: [ 'type', CustomContextPadProvider ]\n * };\n *\n * var dmnModeler = new Modeler({ additionalModules: [ overrideModule ]});\n * ```\n *\n * @param {Object} [options] configuration options to pass to the viewer\n * @param {DOMElement} [options.container]\n *        the container to render the viewer in, defaults to body.\n * @param {string|number} [options.width] the width of the viewer\n * @param {string|number} [options.height] the height of the viewer\n * @param {Object} [options.moddleExtensions]\n *        extension packages to provide\n * @param {Array<didi.Module>} [options.modules]\n *        a list of modules to override the default modules\n * @param {Array<didi.Module>} [options.additionalModules]\n *        a list of modules to use with the default modules\n */\nexport default function Modeler(options) {\n  NavigatedViewer.call(this, options);\n}\n\ninherits(Modeler, NavigatedViewer);\n\n\n// modules the modeler is composed of\n//\n// - viewer + navigation modules\n// - modeling modules\n\nModeler.prototype._modelingModules = [\n\n  // modeling components\n  AlignElementsModule,\n  AutoPlaceModule,\n  AutoScrollModule,\n  BendpointsModule,\n  ContextPadModule,\n  ConnectPreviewModule,\n  DefinitionPropertiesModule,\n  DistributeElementsModule,\n  EditorActionsModule,\n  GenerateDiModule,\n  GridSnappingModule,\n  KeyboardModule,\n  KeyboardMoveModule,\n  KeyboardMoveSelectionModule,\n  LabelEditingModule,\n  ModelingModule,\n  MoveModule,\n  PaletteModule,\n  ResizeModule,\n  SnappingModule\n];\n\nModeler.prototype._modules = [].concat(\n  Modeler.prototype._modules,\n  Modeler.prototype._modelingModules\n);\n","import { assign } from 'min-dash';\n\n\nexport class Base {\n\n  constructor(attrs) {\n    assign(this, attrs);\n\n    /**\n     * The object that backs up the shape\n     *\n     * @name Base#businessObject\n     * @type Object\n     */\n    defineProperty(this, 'businessObject', {\n      writable: true\n    });\n  }\n\n}\n\n\nexport class Root extends Base {\n\n  constructor(attrs) {\n    super(attrs);\n\n    /**\n     * The tables rows\n     *\n     * @name Root#rows\n     * @type Row\n     */\n    defineProperty(this, 'rows', {\n      enumerable: true,\n      value: this.rows || []\n    });\n\n    /**\n     * The tables columns\n     *\n     * @name Root#cols\n     * @type Col\n     */\n    defineProperty(this, 'cols', {\n      enumerable: true,\n      value: this.cols || []\n    });\n  }\n\n}\n\n\nexport class Row extends Base {\n\n  constructor(attrs) {\n    super(attrs);\n\n    /**\n     * Reference to the table\n     *\n     * @name Row#root\n     * @type Root\n     */\n    defineProperty(this, 'root', {\n      writable: true\n    });\n\n    /**\n     * Reference to contained cells\n     *\n     * @name Row#cells\n     * @type Cell\n     */\n    defineProperty(this, 'cells', {\n      enumerable: true,\n      value: this.cells || []\n    });\n  }\n\n}\n\n\nexport class Col extends Base {\n\n  constructor(attrs) {\n    super(attrs);\n\n    /**\n     * Reference to the table\n     *\n     * @name Col#table\n     * @type Root\n     */\n    defineProperty(this, 'root', {\n      writable: true\n    });\n\n    /**\n     * Reference to contained cells\n     *\n     * @name Row#cells\n     * @type Cell\n     */\n    defineProperty(this, 'cells', {\n      enumerable: true,\n      value: this.cells || []\n    });\n  }\n}\n\n\nexport class Cell extends Base {\n\n  constructor(attrs) {\n    super(attrs);\n\n    /**\n     * Reference to the row\n     *\n     * @name Cell#row\n     * @type Row\n     */\n    defineProperty(this, 'row', {\n      writable: true\n    });\n\n    /**\n     * Reference to the col\n     *\n     * @name Cell#col\n     * @type Col\n     */\n    defineProperty(this, 'col', {\n      writable: true\n    });\n  }\n\n}\n\n\nconst TYPES = {\n  root: Root,\n  row: Row,\n  col: Col,\n  cell: Cell\n};\n\n\nexport function create(type, attrs) {\n  const Type = TYPES[type];\n\n  if (!Type) {\n    throw new Error('unknown type ' + type);\n  }\n\n  return new Type(attrs);\n}\n\n\n// helpers /////////////\n\nfunction defineProperty(el, prop, options) {\n  Object.defineProperty(el, prop, options);\n}","import { create } from '../model';\n\nexport default class ElementFactory {\n  constructor() {\n    this._uid = 12;\n  }\n\n  create(type, attrs = {}) {\n    if (!attrs.id) {\n      attrs.id = type + '_' + (this._uid++);\n    }\n\n    return create(type, attrs);\n  }\n\n  createRoot(attrs) {\n    return this.create('root', attrs);\n  }\n\n  createRow(attrs) {\n    return this.create('row', attrs);\n  }\n\n  createCol(attrs) {\n    return this.create('col', attrs);\n  }\n\n  createCell(attrs) {\n    return this.create('cell', attrs);\n  }\n\n}","export default class ElementRegistry {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n\n    this._elements = {};\n\n    eventBus.on('table.clear', this.clear.bind(this));\n  }\n\n  add(element, type) {\n    const { id } = element;\n\n    this._elements[id] = element;\n  }\n\n  remove(element) {\n    const id = element.id || element;\n\n    delete this._elements[id];\n  }\n\n  get(id) {\n    return this._elements[id];\n  }\n\n  getAll() {\n    return values(this._elements);\n  }\n\n  forEach(fn) {\n    values(this._elements).forEach(element => fn(element));\n  }\n\n  filter(fn) {\n    return values(this._elements).filter(element => fn(element));\n  }\n\n  clear() {\n    this._elements = {};\n  }\n\n  updateId(element, newId) {\n\n    this._validateId(newId);\n\n    if (typeof element === 'string') {\n      element = this.get(element);\n    }\n\n    this._eventBus.fire('element.updateId', {\n      element: element,\n      newId: newId\n    });\n\n    this.remove(element);\n\n    element.id = newId;\n\n    this.add(element);\n  }\n\n  /**\n * Validate the suitability of the given id and signals a problem\n * with an exception.\n *\n * @param {String} id\n *\n * @throws {Error} if id is empty or already assigned\n */\n  _validateId(id) {\n    if (!id) {\n      throw new Error('element must have an id');\n    }\n\n    if (this._elements[id]) {\n      throw new Error('element with id ' + id + ' already added');\n    }\n  }\n}\n\nElementRegistry.$inject = [ 'eventBus' ];\n\n\n// helpers\n\nfunction values(obj) {\n  return Object.keys(obj).map(function(k) {\n    return obj[k];\n  });\n}","export default class ChangeSupport {\n  constructor(eventBus) {\n    this._listeners = {};\n\n    eventBus.on('elements.changed', ({ elements }) => {\n      this.elementsChanged(elements);\n    });\n\n    eventBus.on('root.remove', context => {\n      const oldRootId = context.root.id;\n\n      if (this._listeners[oldRootId]) {\n\n        eventBus.once('root.add', context => {\n          const newRootId = context.root.id;\n\n          this.updateId(oldRootId, newRootId);\n        });\n\n      }\n\n    });\n\n    eventBus.on('element.updateId', ({ element, newId }) => {\n      this.updateId(element.id, newId);\n    });\n  }\n\n  elementsChanged(elements) {\n    const invoked = {};\n\n    const elementsLength = elements.length;\n\n    for (let i = 0; i < elementsLength; i++) {\n      const { id } = elements[i];\n\n      if (invoked[id]) {\n        return;\n      }\n\n      invoked[id] = true;\n\n      const listenersLength = this._listeners[id] && this._listeners[id].length;\n\n      if (listenersLength) {\n        for (let j = 0; j < listenersLength; j++) {\n\n          // listeners might remove themselves before they get called\n          this._listeners[id][j] && this._listeners[id][j]();\n        }\n      }\n    }\n  }\n\n  onElementsChanged(id, listener) {\n    if (!this._listeners[id]) {\n      this._listeners[id] = [];\n    }\n\n    // avoid push for better performance\n    this._listeners[id][this._listeners[id].length] = listener;\n  }\n\n  offElementsChanged(id, listener) {\n    if (!this._listeners[id]) {\n      return;\n    }\n\n    if (listener) {\n      const idx = this._listeners[id].indexOf(listener);\n\n      if (idx !== -1) {\n        this._listeners[id].splice(idx, 1);\n      }\n    } else {\n      this._listeners[id].length = 0;\n    }\n  }\n\n  updateId(oldId, newId) {\n    if (this._listeners[oldId]) {\n\n      this._listeners[newId] = this._listeners[oldId];\n\n      delete this._listeners[oldId];\n\n    }\n  }\n}\n\nChangeSupport.$inject = [ 'eventBus' ];","import {\n  isFunction,\n  isNumber\n} from 'min-dash';\n\nconst DEFAULT_PRIORITY = 1000;\n\n\nexport default class Components {\n\n  constructor() {\n    this._listeners = {};\n  }\n\n  getComponent(type, context) {\n    const listeners = this._listeners[type];\n\n    if (!listeners) {\n      return;\n    }\n\n    let component;\n\n    for (let i = 0; i < listeners.length; i++) {\n      component = listeners[i].callback(context);\n\n      if (component) {\n        break;\n      }\n    }\n\n    return component;\n  }\n\n  getComponents(type, context) {\n    const listeners = this._listeners[type];\n\n    const components = [];\n\n    if (!listeners) {\n      return components;\n    }\n\n\n    for (let i = 0; i < listeners.length; i++) {\n      const component = listeners[i].callback(context);\n\n      if (component) {\n        components.push(component);\n      }\n    }\n\n    if (!components.length) {\n      return components;\n    }\n\n    return components;\n  }\n\n  onGetComponent(type, priority, callback) {\n    if (isFunction(priority)) {\n      callback = priority;\n      priority = DEFAULT_PRIORITY;\n    }\n\n    if (!isNumber(priority)) {\n      throw new Error('priority must be a number');\n    }\n\n    const listeners = this._getListeners(type);\n\n    let existingListener,\n        idx;\n\n    const newListener = { priority, callback };\n\n    for (idx = 0; (existingListener = listeners[idx]); idx++) {\n      if (existingListener.priority < priority) {\n\n        // prepend newListener at before existingListener\n        listeners.splice(idx, 0, newListener);\n        return;\n      }\n    }\n\n    listeners.push(newListener);\n  }\n\n  offGetComponent(type, callback) {\n    const listeners = this._getListeners(type);\n\n    let listener,\n        listenerCallback,\n        idx;\n\n    if (callback) {\n\n      // move through listeners from back to front\n      // and remove matching listeners\n      for (idx = listeners.length - 1; (listener = listeners[idx]); idx--) {\n        listenerCallback = listener.callback;\n\n        if (listenerCallback === callback) {\n          listeners.splice(idx, 1);\n        }\n      }\n    } else {\n      // clear listeners\n      listeners.length = 0;\n    }\n  }\n\n  _getListeners(type) {\n    let listeners = this._listeners[type];\n\n    if (!listeners) {\n      this._listeners[type] = listeners = [];\n    }\n\n    return listeners;\n  }\n}","var NO_OP = '$NO_OP';\r\nvar ERROR_MSG = 'a runtime error occured! Use Inferno in development environment to find the error.';\r\n// This should be boolean and not reference to window.document\r\nvar isBrowser = !!(typeof window !== 'undefined' && window.document);\r\n// this is MUCH faster than .constructor === Array and instanceof Array\r\n// in Node 7 and the later versions of V8, slower in older versions though\r\nvar isArray = Array.isArray;\r\nfunction isStringOrNumber(o) {\r\n    var type = typeof o;\r\n    return type === 'string' || type === 'number';\r\n}\r\nfunction isNullOrUndef(o) {\r\n    return isUndefined(o) || isNull(o);\r\n}\r\nfunction isInvalid(o) {\r\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\r\n}\r\nfunction isFunction(o) {\r\n    return typeof o === 'function';\r\n}\r\nfunction isString(o) {\r\n    return typeof o === 'string';\r\n}\r\nfunction isNumber(o) {\r\n    return typeof o === 'number';\r\n}\r\nfunction isNull(o) {\r\n    return o === null;\r\n}\r\nfunction isTrue(o) {\r\n    return o === true;\r\n}\r\nfunction isUndefined(o) {\r\n    return o === void 0;\r\n}\r\nfunction isObject(o) {\r\n    return typeof o === 'object';\r\n}\r\nfunction throwError(message) {\r\n    if (!message) {\r\n        message = ERROR_MSG;\r\n    }\r\n    throw new Error((\"Inferno Error: \" + message));\r\n}\r\nfunction combineFrom(first, second) {\r\n    var out = {};\r\n    if (first) {\r\n        for (var key in first) {\r\n            out[key] = first[key];\r\n        }\r\n    }\r\n    if (second) {\r\n        for (var key$1 in second) {\r\n            out[key$1] = second[key$1];\r\n        }\r\n    }\r\n    return out;\r\n}\n\nvar keyPrefix = '$';\r\nfunction getVNode(childFlags, children, className, flags, key, props, ref, type) {\r\n    return {\r\n        childFlags: childFlags,\r\n        children: children,\r\n        className: className,\r\n        dom: null,\r\n        flags: flags,\r\n        key: key === void 0 ? null : key,\r\n        parentVNode: null,\r\n        props: props === void 0 ? null : props,\r\n        ref: ref === void 0 ? null : ref,\r\n        type: type\r\n    };\r\n}\r\nfunction createVNode(flags, type, className, children, childFlags, props, key, ref) {\r\n    var childFlag = childFlags === void 0 ? 1 /* HasInvalidChildren */ : childFlags;\r\n    var vNode = getVNode(childFlag, children, className, flags, key, props, ref, type);\r\n    if (childFlag === 0 /* UnknownChildren */) {\r\n        normalizeChildren(vNode, vNode.children);\r\n    }\r\n    return vNode;\r\n}\r\nfunction createComponentVNode(flags, type, props, key, ref) {\r\n    if ((flags & 2 /* ComponentUnknown */) > 0) {\r\n        flags = type.prototype && isFunction(type.prototype.render) ? 4 /* ComponentClass */ : 8 /* ComponentFunction */;\r\n    }\r\n    // set default props\r\n    var defaultProps = type.defaultProps;\r\n    if (!isNullOrUndef(defaultProps)) {\r\n        if (!props) {\r\n            props = {}; // Props can be referenced and modified at application level so always create new object\r\n        }\r\n        for (var prop in defaultProps) {\r\n            if (isUndefined(props[prop])) {\r\n                props[prop] = defaultProps[prop];\r\n            }\r\n        }\r\n    }\r\n    if ((flags & 8 /* ComponentFunction */) > 0) {\r\n        var defaultHooks = type.defaultHooks;\r\n        if (!isNullOrUndef(defaultHooks)) {\r\n            if (!ref) {\r\n                // As ref cannot be referenced from application level, we can use the same refs object\r\n                ref = defaultHooks;\r\n            }\r\n            else {\r\n                for (var prop$1 in defaultHooks) {\r\n                    if (isUndefined(ref[prop$1])) {\r\n                        ref[prop$1] = defaultHooks[prop$1];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    var vNode = getVNode(1 /* HasInvalidChildren */, null, null, flags, key, props, ref, type);\r\n    var optsVNode = options.createVNode;\r\n    if (isFunction(optsVNode)) {\r\n        optsVNode(vNode);\r\n    }\r\n    return vNode;\r\n}\r\nfunction createTextVNode(text, key) {\r\n    return getVNode(1 /* HasInvalidChildren */, isNullOrUndef(text) ? '' : text, null, 16 /* Text */, key, null, null, null);\r\n}\r\nfunction normalizeProps(vNode) {\r\n    var props = vNode.props;\r\n    if (props) {\r\n        var flags = vNode.flags;\r\n        if (flags & 481 /* Element */) {\r\n            if (props.children !== void 0 && isNullOrUndef(vNode.children)) {\r\n                normalizeChildren(vNode, props.children);\r\n            }\r\n            if (props.className !== void 0) {\r\n                vNode.className = props.className || null;\r\n                props.className = undefined;\r\n            }\r\n        }\r\n        if (props.key !== void 0) {\r\n            vNode.key = props.key;\r\n            props.key = undefined;\r\n        }\r\n        if (props.ref !== void 0) {\r\n            if (flags & 8 /* ComponentFunction */) {\r\n                vNode.ref = combineFrom(vNode.ref, props.ref);\r\n            }\r\n            else {\r\n                vNode.ref = props.ref;\r\n            }\r\n            props.ref = undefined;\r\n        }\r\n    }\r\n    return vNode;\r\n}\r\nfunction directClone(vNodeToClone) {\r\n    var newVNode;\r\n    var flags = vNodeToClone.flags;\r\n    if (flags & 14 /* Component */) {\r\n        var props;\r\n        var propsToClone = vNodeToClone.props;\r\n        if (!isNull(propsToClone)) {\r\n            props = {};\r\n            for (var key in propsToClone) {\r\n                props[key] = propsToClone[key];\r\n            }\r\n        }\r\n        newVNode = createComponentVNode(flags, vNodeToClone.type, props, vNodeToClone.key, vNodeToClone.ref);\r\n    }\r\n    else if (flags & 481 /* Element */) {\r\n        var children = vNodeToClone.children;\r\n        newVNode = createVNode(flags, vNodeToClone.type, vNodeToClone.className, children, vNodeToClone.childFlags, vNodeToClone.props, vNodeToClone.key, vNodeToClone.ref);\r\n    }\r\n    else if (flags & 16 /* Text */) {\r\n        newVNode = createTextVNode(vNodeToClone.children, vNodeToClone.key);\r\n    }\r\n    else if (flags & 1024 /* Portal */) {\r\n        newVNode = vNodeToClone;\r\n    }\r\n    return newVNode;\r\n}\r\nfunction createVoidVNode() {\r\n    return createTextVNode('', null);\r\n}\r\nfunction _normalizeVNodes(nodes, result, index, currentKey) {\r\n    for (var len = nodes.length; index < len; index++) {\r\n        var n = nodes[index];\r\n        if (!isInvalid(n)) {\r\n            var newKey = currentKey + keyPrefix + index;\r\n            if (isArray(n)) {\r\n                _normalizeVNodes(n, result, 0, newKey);\r\n            }\r\n            else {\r\n                if (isStringOrNumber(n)) {\r\n                    n = createTextVNode(n, newKey);\r\n                }\r\n                else {\r\n                    var oldKey = n.key;\r\n                    var isPrefixedKey = isString(oldKey) && oldKey[0] === keyPrefix;\r\n                    if (!isNull(n.dom) || isPrefixedKey) {\r\n                        n = directClone(n);\r\n                    }\r\n                    if (isNull(oldKey) || isPrefixedKey) {\r\n                        n.key = newKey;\r\n                    }\r\n                    else {\r\n                        n.key = currentKey + oldKey;\r\n                    }\r\n                }\r\n                result.push(n);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction getFlagsForElementVnode(type) {\r\n    if (type === 'svg') {\r\n        return 32 /* SvgElement */;\r\n    }\r\n    if (type === 'input') {\r\n        return 64 /* InputElement */;\r\n    }\r\n    if (type === 'select') {\r\n        return 256 /* SelectElement */;\r\n    }\r\n    if (type === 'textarea') {\r\n        return 128 /* TextareaElement */;\r\n    }\r\n    return 1 /* HtmlElement */;\r\n}\r\nfunction normalizeChildren(vNode, children) {\r\n    var newChildren;\r\n    var newChildFlags = 1 /* HasInvalidChildren */;\r\n    // Don't change children to match strict equal (===) true in patching\r\n    if (isInvalid(children)) {\r\n        newChildren = children;\r\n    }\r\n    else if (isString(children)) {\r\n        newChildFlags = 2 /* HasVNodeChildren */;\r\n        newChildren = createTextVNode(children);\r\n    }\r\n    else if (isNumber(children)) {\r\n        newChildFlags = 2 /* HasVNodeChildren */;\r\n        newChildren = createTextVNode(children + '');\r\n    }\r\n    else if (isArray(children)) {\r\n        var len = children.length;\r\n        if (len === 0) {\r\n            newChildren = null;\r\n            newChildFlags = 1 /* HasInvalidChildren */;\r\n        }\r\n        else {\r\n            // we assign $ which basically means we've flagged this array for future note\r\n            // if it comes back again, we need to clone it, as people are using it\r\n            // in an immutable way\r\n            // tslint:disable-next-line\r\n            if (Object.isFrozen(children) || children['$'] === true) {\r\n                children = children.slice();\r\n            }\r\n            newChildFlags = 8 /* HasKeyedChildren */;\r\n            for (var i = 0; i < len; i++) {\r\n                var n = children[i];\r\n                if (isInvalid(n) || isArray(n)) {\r\n                    newChildren = newChildren || children.slice(0, i);\r\n                    _normalizeVNodes(children, newChildren, i, '');\r\n                    break;\r\n                }\r\n                else if (isStringOrNumber(n)) {\r\n                    newChildren = newChildren || children.slice(0, i);\r\n                    newChildren.push(createTextVNode(n, keyPrefix + i));\r\n                }\r\n                else {\r\n                    var key = n.key;\r\n                    var isNullDom = isNull(n.dom);\r\n                    var isNullKey = isNull(key);\r\n                    var isPrefixed = !isNullKey && key[0] === keyPrefix;\r\n                    if (!isNullDom || isNullKey || isPrefixed) {\r\n                        newChildren = newChildren || children.slice(0, i);\r\n                        if (!isNullDom || isPrefixed) {\r\n                            n = directClone(n);\r\n                        }\r\n                        if (isNullKey || isPrefixed) {\r\n                            n.key = keyPrefix + i;\r\n                        }\r\n                        newChildren.push(n);\r\n                    }\r\n                    else if (newChildren) {\r\n                        newChildren.push(n);\r\n                    }\r\n                }\r\n            }\r\n            newChildren = newChildren || children;\r\n            newChildren.$ = true;\r\n        }\r\n    }\r\n    else {\r\n        newChildren = children;\r\n        if (!isNull(children.dom)) {\r\n            newChildren = directClone(children);\r\n        }\r\n        newChildFlags = 2 /* HasVNodeChildren */;\r\n    }\r\n    vNode.children = newChildren;\r\n    vNode.childFlags = newChildFlags;\r\n    return vNode;\r\n}\r\nvar options = {\r\n    afterMount: null,\r\n    afterRender: null,\r\n    afterUpdate: null,\r\n    beforeRender: null,\r\n    beforeUnmount: null,\r\n    createVNode: null,\r\n    roots: []\r\n};\n\n/**\r\n * Links given data to event as first parameter\r\n * @param {*} data data to be linked, it will be available in function as first parameter\r\n * @param {Function} event Function to be called when event occurs\r\n * @returns {{data: *, event: Function}}\r\n */\r\nfunction linkEvent(data, event) {\r\n    if (isFunction(event)) {\r\n        return { data: data, event: event };\r\n    }\r\n    return null; // Return null when event is invalid, to avoid creating unnecessary event handlers\r\n}\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\r\nvar xmlNS = 'http://www.w3.org/XML/1998/namespace';\r\nvar svgNS = 'http://www.w3.org/2000/svg';\r\nvar namespaces = {\r\n    'xlink:actuate': xlinkNS,\r\n    'xlink:arcrole': xlinkNS,\r\n    'xlink:href': xlinkNS,\r\n    'xlink:role': xlinkNS,\r\n    'xlink:show': xlinkNS,\r\n    'xlink:title': xlinkNS,\r\n    'xlink:type': xlinkNS,\r\n    'xml:base': xmlNS,\r\n    'xml:lang': xmlNS,\r\n    'xml:space': xmlNS\r\n};\n\n// We need EMPTY_OBJ defined in one place.\r\n// Its used for comparison so we cant inline it into shared\r\nvar EMPTY_OBJ = {};\r\nvar LIFECYCLE = [];\r\nfunction appendChild(parentDom, dom) {\r\n    parentDom.appendChild(dom);\r\n}\r\nfunction insertOrAppend(parentDom, newNode, nextNode) {\r\n    if (isNullOrUndef(nextNode)) {\r\n        appendChild(parentDom, newNode);\r\n    }\r\n    else {\r\n        parentDom.insertBefore(newNode, nextNode);\r\n    }\r\n}\r\nfunction documentCreateElement(tag, isSVG) {\r\n    if (isSVG === true) {\r\n        return document.createElementNS(svgNS, tag);\r\n    }\r\n    return document.createElement(tag);\r\n}\r\nfunction replaceChild(parentDom, newDom, lastDom) {\r\n    parentDom.replaceChild(newDom, lastDom);\r\n}\r\nfunction removeChild(parentDom, dom) {\r\n    parentDom.removeChild(dom);\r\n}\r\nfunction callAll(arrayFn) {\r\n    var listener;\r\n    while ((listener = arrayFn.shift()) !== undefined) {\r\n        listener();\r\n    }\r\n}\n\nvar attachedEventCounts = {};\r\nvar attachedEvents = {};\r\nfunction handleEvent(name, nextEvent, dom) {\r\n    var eventsLeft = attachedEventCounts[name];\r\n    var eventsObject = dom.$EV;\r\n    if (nextEvent) {\r\n        if (!eventsLeft) {\r\n            attachedEvents[name] = attachEventToDocument(name);\r\n            attachedEventCounts[name] = 0;\r\n        }\r\n        if (!eventsObject) {\r\n            eventsObject = dom.$EV = {};\r\n        }\r\n        if (!eventsObject[name]) {\r\n            attachedEventCounts[name]++;\r\n        }\r\n        eventsObject[name] = nextEvent;\r\n    }\r\n    else if (eventsObject && eventsObject[name]) {\r\n        attachedEventCounts[name]--;\r\n        if (eventsLeft === 1) {\r\n            document.removeEventListener(normalizeEventName(name), attachedEvents[name]);\r\n            attachedEvents[name] = null;\r\n        }\r\n        eventsObject[name] = nextEvent;\r\n    }\r\n}\r\nfunction dispatchEvents(event, target, isClick, name, eventData) {\r\n    var dom = target;\r\n    while (!isNull(dom)) {\r\n        // Html Nodes can be nested fe: span inside button in that scenario browser does not handle disabled attribute on parent,\r\n        // because the event listener is on document.body\r\n        // Don't process clicks on disabled elements\r\n        if (isClick && dom.disabled) {\r\n            return;\r\n        }\r\n        var eventsObject = dom.$EV;\r\n        if (eventsObject) {\r\n            var currentEvent = eventsObject[name];\r\n            if (currentEvent) {\r\n                // linkEvent object\r\n                eventData.dom = dom;\r\n                if (currentEvent.event) {\r\n                    currentEvent.event(currentEvent.data, event);\r\n                }\r\n                else {\r\n                    currentEvent(event);\r\n                }\r\n                if (event.cancelBubble) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        dom = dom.parentNode;\r\n    }\r\n}\r\nfunction normalizeEventName(name) {\r\n    return name.substr(2).toLowerCase();\r\n}\r\nfunction stopPropagation() {\r\n    this.cancelBubble = true;\r\n    if (!this.immediatePropagationStopped) {\r\n        this.stopImmediatePropagation();\r\n    }\r\n}\r\nfunction attachEventToDocument(name) {\r\n    var docEvent = function (event) {\r\n        var type = event.type;\r\n        var isClick = type === 'click' || type === 'dblclick';\r\n        if (isClick && event.button !== 0) {\r\n            // Firefox incorrectly triggers click event for mid/right mouse buttons.\r\n            // This bug has been active for 12 years.\r\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=184051\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return false;\r\n        }\r\n        event.stopPropagation = stopPropagation;\r\n        // Event data needs to be object to save reference to currentTarget getter\r\n        var eventData = {\r\n            dom: document\r\n        };\r\n        Object.defineProperty(event, 'currentTarget', {\r\n            configurable: true,\r\n            get: function get() {\r\n                return eventData.dom;\r\n            }\r\n        });\r\n        dispatchEvents(event, event.target, isClick, name, eventData);\r\n        return;\r\n    };\r\n    document.addEventListener(normalizeEventName(name), docEvent);\r\n    return docEvent;\r\n}\n\nfunction isSameInnerHTML(dom, innerHTML) {\r\n    var tempdom = document.createElement('i');\r\n    tempdom.innerHTML = innerHTML;\r\n    return tempdom.innerHTML === dom.innerHTML;\r\n}\r\nfunction isSamePropsInnerHTML(dom, props) {\r\n    return Boolean(props && props.dangerouslySetInnerHTML && props.dangerouslySetInnerHTML.__html && isSameInnerHTML(dom, props.dangerouslySetInnerHTML.__html));\r\n}\n\nfunction triggerEventListener(props, methodName, e) {\r\n    if (props[methodName]) {\r\n        var listener = props[methodName];\r\n        if (listener.event) {\r\n            listener.event(listener.data, e);\r\n        }\r\n        else {\r\n            listener(e);\r\n        }\r\n    }\r\n    else {\r\n        var nativeListenerName = methodName.toLowerCase();\r\n        if (props[nativeListenerName]) {\r\n            props[nativeListenerName](e);\r\n        }\r\n    }\r\n}\r\nfunction createWrappedFunction(methodName, applyValue) {\r\n    var fnMethod = function (e) {\r\n        e.stopPropagation();\r\n        var vNode = this.$V;\r\n        // If vNode is gone by the time event fires, no-op\r\n        if (!vNode) {\r\n            return;\r\n        }\r\n        var props = vNode.props || EMPTY_OBJ;\r\n        var dom = vNode.dom;\r\n        if (isString(methodName)) {\r\n            triggerEventListener(props, methodName, e);\r\n        }\r\n        else {\r\n            for (var i = 0; i < methodName.length; i++) {\r\n                triggerEventListener(props, methodName[i], e);\r\n            }\r\n        }\r\n        if (isFunction(applyValue)) {\r\n            var newVNode = this.$V;\r\n            var newProps = newVNode.props || EMPTY_OBJ;\r\n            applyValue(newProps, dom, false, newVNode);\r\n        }\r\n    };\r\n    Object.defineProperty(fnMethod, 'wrapped', {\r\n        configurable: false,\r\n        enumerable: false,\r\n        value: true,\r\n        writable: false\r\n    });\r\n    return fnMethod;\r\n}\n\nfunction isCheckedType(type) {\r\n    return type === 'checkbox' || type === 'radio';\r\n}\r\nvar onTextInputChange = createWrappedFunction('onInput', applyValueInput);\r\nvar wrappedOnChange = createWrappedFunction(['onClick', 'onChange'], applyValueInput);\r\n/* tslint:disable-next-line:no-empty */\r\nfunction emptywrapper(event) {\r\n    event.stopPropagation();\r\n}\r\nemptywrapper.wrapped = true;\r\nfunction inputEvents(dom, nextPropsOrEmpty) {\r\n    if (isCheckedType(nextPropsOrEmpty.type)) {\r\n        dom.onchange = wrappedOnChange;\r\n        dom.onclick = emptywrapper;\r\n    }\r\n    else {\r\n        dom.oninput = onTextInputChange;\r\n    }\r\n}\r\nfunction applyValueInput(nextPropsOrEmpty, dom) {\r\n    var type = nextPropsOrEmpty.type;\r\n    var value = nextPropsOrEmpty.value;\r\n    var checked = nextPropsOrEmpty.checked;\r\n    var multiple = nextPropsOrEmpty.multiple;\r\n    var defaultValue = nextPropsOrEmpty.defaultValue;\r\n    var hasValue = !isNullOrUndef(value);\r\n    if (type && type !== dom.type) {\r\n        dom.setAttribute('type', type);\r\n    }\r\n    if (!isNullOrUndef(multiple) && multiple !== dom.multiple) {\r\n        dom.multiple = multiple;\r\n    }\r\n    if (!isNullOrUndef(defaultValue) && !hasValue) {\r\n        dom.defaultValue = defaultValue + '';\r\n    }\r\n    if (isCheckedType(type)) {\r\n        if (hasValue) {\r\n            dom.value = value;\r\n        }\r\n        if (!isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n    else {\r\n        if (hasValue && dom.value !== value) {\r\n            dom.defaultValue = value;\r\n            dom.value = value;\r\n        }\r\n        else if (!isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n}\n\nfunction updateChildOptionGroup(vNode, value) {\r\n    var type = vNode.type;\r\n    if (type === 'optgroup') {\r\n        var children = vNode.children;\r\n        var childFlags = vNode.childFlags;\r\n        if (childFlags & 12 /* MultipleChildren */) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOption(children[i], value);\r\n            }\r\n        }\r\n        else if (childFlags === 2 /* HasVNodeChildren */) {\r\n            updateChildOption(children, value);\r\n        }\r\n    }\r\n    else {\r\n        updateChildOption(vNode, value);\r\n    }\r\n}\r\nfunction updateChildOption(vNode, value) {\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    // we do this as multiple may have changed\r\n    dom.value = props.value;\r\n    if ((isArray(value) && value.indexOf(props.value) !== -1) || props.value === value) {\r\n        dom.selected = true;\r\n    }\r\n    else if (!isNullOrUndef(value) || !isNullOrUndef(props.selected)) {\r\n        dom.selected = props.selected || false;\r\n    }\r\n}\r\nvar onSelectChange = createWrappedFunction('onChange', applyValueSelect);\r\nfunction selectEvents(dom) {\r\n    dom.onchange = onSelectChange;\r\n}\r\nfunction applyValueSelect(nextPropsOrEmpty, dom, mounting, vNode) {\r\n    var multiplePropInBoolean = Boolean(nextPropsOrEmpty.multiple);\r\n    if (!isNullOrUndef(nextPropsOrEmpty.multiple) && multiplePropInBoolean !== dom.multiple) {\r\n        dom.multiple = multiplePropInBoolean;\r\n    }\r\n    var childFlags = vNode.childFlags;\r\n    if ((childFlags & 1 /* HasInvalidChildren */) === 0) {\r\n        var children = vNode.children;\r\n        var value = nextPropsOrEmpty.value;\r\n        if (mounting && isNullOrUndef(value)) {\r\n            value = nextPropsOrEmpty.defaultValue;\r\n        }\r\n        if (childFlags & 12 /* MultipleChildren */) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOptionGroup(children[i], value);\r\n            }\r\n        }\r\n        else if (childFlags === 2 /* HasVNodeChildren */) {\r\n            updateChildOptionGroup(children, value);\r\n        }\r\n    }\r\n}\n\nvar onTextareaInputChange = createWrappedFunction('onInput', applyValueTextArea);\r\nvar wrappedOnChange$1 = createWrappedFunction('onChange');\r\nfunction textAreaEvents(dom, nextPropsOrEmpty) {\r\n    dom.oninput = onTextareaInputChange;\r\n    if (nextPropsOrEmpty.onChange) {\r\n        dom.onchange = wrappedOnChange$1;\r\n    }\r\n}\r\nfunction applyValueTextArea(nextPropsOrEmpty, dom, mounting) {\r\n    var value = nextPropsOrEmpty.value;\r\n    var domValue = dom.value;\r\n    if (isNullOrUndef(value)) {\r\n        if (mounting) {\r\n            var defaultValue = nextPropsOrEmpty.defaultValue;\r\n            if (!isNullOrUndef(defaultValue) && defaultValue !== domValue) {\r\n                dom.defaultValue = defaultValue;\r\n                dom.value = defaultValue;\r\n            }\r\n        }\r\n    }\r\n    else if (domValue !== value) {\r\n        /* There is value so keep it controlled */\r\n        dom.defaultValue = value;\r\n        dom.value = value;\r\n    }\r\n}\n\n/**\r\n * There is currently no support for switching same input between controlled and nonControlled\r\n * If that ever becomes a real issue, then re design controlled elements\r\n * Currently user must choose either controlled or non-controlled and stick with that\r\n */\r\nfunction processElement(flags, vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    if (flags & 64 /* InputElement */) {\r\n        applyValueInput(nextPropsOrEmpty, dom);\r\n    }\r\n    else if (flags & 256 /* SelectElement */) {\r\n        applyValueSelect(nextPropsOrEmpty, dom, mounting, vNode);\r\n    }\r\n    else if (flags & 128 /* TextareaElement */) {\r\n        applyValueTextArea(nextPropsOrEmpty, dom, mounting);\r\n    }\r\n    if (isControlled) {\r\n        dom.$V = vNode;\r\n    }\r\n}\r\nfunction addFormElementEventHandlers(flags, dom, nextPropsOrEmpty) {\r\n    if (flags & 64 /* InputElement */) {\r\n        inputEvents(dom, nextPropsOrEmpty);\r\n    }\r\n    else if (flags & 256 /* SelectElement */) {\r\n        selectEvents(dom);\r\n    }\r\n    else if (flags & 128 /* TextareaElement */) {\r\n        textAreaEvents(dom, nextPropsOrEmpty);\r\n    }\r\n}\r\nfunction isControlledFormElement(nextPropsOrEmpty) {\r\n    return nextPropsOrEmpty.type && isCheckedType(nextPropsOrEmpty.type) ? !isNullOrUndef(nextPropsOrEmpty.checked) : !isNullOrUndef(nextPropsOrEmpty.value);\r\n}\n\nfunction remove(vNode, parentDom) {\r\n    unmount(vNode);\r\n    if (!isNull(parentDom)) {\r\n        removeChild(parentDom, vNode.dom);\r\n        // Let carbage collector free memory\r\n        vNode.dom = null;\r\n    }\r\n}\r\nfunction unmount(vNode) {\r\n    var flags = vNode.flags;\r\n    if (flags & 481 /* Element */) {\r\n        var ref = vNode.ref;\r\n        var props = vNode.props;\r\n        if (isFunction(ref)) {\r\n            ref(null);\r\n        }\r\n        var children = vNode.children;\r\n        var childFlags = vNode.childFlags;\r\n        if (childFlags & 12 /* MultipleChildren */) {\r\n            unmountAllChildren(children);\r\n        }\r\n        else if (childFlags === 2 /* HasVNodeChildren */) {\r\n            unmount(children);\r\n        }\r\n        if (!isNull(props)) {\r\n            for (var name in props) {\r\n                switch (name) {\r\n                    case 'onClick':\r\n                    case 'onDblClick':\r\n                    case 'onFocusIn':\r\n                    case 'onFocusOut':\r\n                    case 'onKeyDown':\r\n                    case 'onKeyPress':\r\n                    case 'onKeyUp':\r\n                    case 'onMouseDown':\r\n                    case 'onMouseMove':\r\n                    case 'onMouseUp':\r\n                    case 'onSubmit':\r\n                    case 'onTouchEnd':\r\n                    case 'onTouchMove':\r\n                    case 'onTouchStart':\r\n                        handleEvent(name, null, vNode.dom);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (flags & 14 /* Component */) {\r\n        var instance = vNode.children;\r\n        var ref$1 = vNode.ref;\r\n        if (flags & 4 /* ComponentClass */) {\r\n            if (isFunction(options.beforeUnmount)) {\r\n                options.beforeUnmount(vNode);\r\n            }\r\n            if (isFunction(instance.componentWillUnmount)) {\r\n                instance.componentWillUnmount();\r\n            }\r\n            if (isFunction(ref$1)) {\r\n                ref$1(null);\r\n            }\r\n            instance.$UN = true;\r\n            unmount(instance.$LI);\r\n        }\r\n        else {\r\n            if (!isNullOrUndef(ref$1) && isFunction(ref$1.onComponentWillUnmount)) {\r\n                ref$1.onComponentWillUnmount(vNode.dom, vNode.props || EMPTY_OBJ);\r\n            }\r\n            unmount(instance);\r\n        }\r\n    }\r\n    else if (flags & 1024 /* Portal */) {\r\n        var children$1 = vNode.children;\r\n        if (!isNull(children$1) && isObject(children$1)) {\r\n            remove(children$1, vNode.type);\r\n        }\r\n    }\r\n}\r\nfunction unmountAllChildren(children) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        unmount(children[i]);\r\n    }\r\n}\r\nfunction removeAllChildren(dom, children) {\r\n    unmountAllChildren(children);\r\n    dom.textContent = '';\r\n}\n\nfunction createLinkEvent(linkEvent, nextValue) {\r\n    return function (e) {\r\n        linkEvent(nextValue.data, e);\r\n    };\r\n}\r\nfunction patchEvent(name, lastValue, nextValue, dom) {\r\n    var nameLowerCase = name.toLowerCase();\r\n    if (!isFunction(nextValue) && !isNullOrUndef(nextValue)) {\r\n        var linkEvent = nextValue.event;\r\n        if (linkEvent && isFunction(linkEvent)) {\r\n            dom[nameLowerCase] = createLinkEvent(linkEvent, nextValue);\r\n        }\r\n    }\r\n    else {\r\n        var domEvent = dom[nameLowerCase];\r\n        // if the function is wrapped, that means it's been controlled by a wrapper\r\n        if (!domEvent || !domEvent.wrapped) {\r\n            dom[nameLowerCase] = nextValue;\r\n        }\r\n    }\r\n}\r\nfunction getNumberStyleValue(style, value) {\r\n    switch (style) {\r\n        case 'animationIterationCount':\r\n        case 'borderImageOutset':\r\n        case 'borderImageSlice':\r\n        case 'borderImageWidth':\r\n        case 'boxFlex':\r\n        case 'boxFlexGroup':\r\n        case 'boxOrdinalGroup':\r\n        case 'columnCount':\r\n        case 'fillOpacity':\r\n        case 'flex':\r\n        case 'flexGrow':\r\n        case 'flexNegative':\r\n        case 'flexOrder':\r\n        case 'flexPositive':\r\n        case 'flexShrink':\r\n        case 'floodOpacity':\r\n        case 'fontWeight':\r\n        case 'gridColumn':\r\n        case 'gridRow':\r\n        case 'lineClamp':\r\n        case 'lineHeight':\r\n        case 'opacity':\r\n        case 'order':\r\n        case 'orphans':\r\n        case 'stopOpacity':\r\n        case 'strokeDasharray':\r\n        case 'strokeDashoffset':\r\n        case 'strokeMiterlimit':\r\n        case 'strokeOpacity':\r\n        case 'strokeWidth':\r\n        case 'tabSize':\r\n        case 'widows':\r\n        case 'zIndex':\r\n        case 'zoom':\r\n            return value;\r\n        default:\r\n            return value + 'px';\r\n    }\r\n}\r\n// We are assuming here that we come from patchProp routine\r\n// -nextAttrValue cannot be null or undefined\r\nfunction patchStyle(lastAttrValue, nextAttrValue, dom) {\r\n    var domStyle = dom.style;\r\n    var style;\r\n    var value;\r\n    if (isString(nextAttrValue)) {\r\n        domStyle.cssText = nextAttrValue;\r\n        return;\r\n    }\r\n    if (!isNullOrUndef(lastAttrValue) && !isString(lastAttrValue)) {\r\n        for (style in nextAttrValue) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            value = nextAttrValue[style];\r\n            if (value !== lastAttrValue[style]) {\r\n                domStyle[style] = isNumber(value) ? getNumberStyleValue(style, value) : value;\r\n            }\r\n        }\r\n        for (style in lastAttrValue) {\r\n            if (isNullOrUndef(nextAttrValue[style])) {\r\n                domStyle[style] = '';\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        for (style in nextAttrValue) {\r\n            value = nextAttrValue[style];\r\n            domStyle[style] = isNumber(value) ? getNumberStyleValue(style, value) : value;\r\n        }\r\n    }\r\n}\r\nfunction patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue, lastVNode) {\r\n    switch (prop) {\r\n        case 'onClick':\r\n        case 'onDblClick':\r\n        case 'onFocusIn':\r\n        case 'onFocusOut':\r\n        case 'onKeyDown':\r\n        case 'onKeyPress':\r\n        case 'onKeyUp':\r\n        case 'onMouseDown':\r\n        case 'onMouseMove':\r\n        case 'onMouseUp':\r\n        case 'onSubmit':\r\n        case 'onTouchEnd':\r\n        case 'onTouchMove':\r\n        case 'onTouchStart':\r\n            handleEvent(prop, nextValue, dom);\r\n            break;\r\n        case 'children':\r\n        case 'childrenType':\r\n        case 'className':\r\n        case 'defaultValue':\r\n        case 'key':\r\n        case 'multiple':\r\n        case 'ref':\r\n            return;\r\n        case 'allowfullscreen':\r\n        case 'autoFocus':\r\n        case 'autoplay':\r\n        case 'capture':\r\n        case 'checked':\r\n        case 'controls':\r\n        case 'default':\r\n        case 'disabled':\r\n        case 'hidden':\r\n        case 'indeterminate':\r\n        case 'loop':\r\n        case 'muted':\r\n        case 'novalidate':\r\n        case 'open':\r\n        case 'readOnly':\r\n        case 'required':\r\n        case 'reversed':\r\n        case 'scoped':\r\n        case 'seamless':\r\n        case 'selected':\r\n            prop = prop === 'autoFocus' ? prop.toLowerCase() : prop;\r\n            dom[prop] = !!nextValue;\r\n            break;\r\n        case 'defaultChecked':\r\n        case 'value':\r\n        case 'volume':\r\n            if (hasControlledValue && prop === 'value') {\r\n                return;\r\n            }\r\n            var value = isNullOrUndef(nextValue) ? '' : nextValue;\r\n            if (dom[prop] !== value) {\r\n                dom[prop] = value;\r\n            }\r\n            break;\r\n        case 'dangerouslySetInnerHTML':\r\n            var lastHtml = (lastValue && lastValue.__html) || '';\r\n            var nextHtml = (nextValue && nextValue.__html) || '';\r\n            if (lastHtml !== nextHtml) {\r\n                if (!isNullOrUndef(nextHtml) && !isSameInnerHTML(dom, nextHtml)) {\r\n                    if (!isNull(lastVNode)) {\r\n                        if (lastVNode.childFlags & 12 /* MultipleChildren */) {\r\n                            unmountAllChildren(lastVNode.children);\r\n                        }\r\n                        else if (lastVNode.childFlags === 2 /* HasVNodeChildren */) {\r\n                            unmount(lastVNode.children);\r\n                        }\r\n                        lastVNode.children = null;\r\n                        lastVNode.childFlags = 1 /* HasInvalidChildren */;\r\n                    }\r\n                    dom.innerHTML = nextHtml;\r\n                }\r\n            }\r\n            break;\r\n        default:\r\n            if (prop[0] === 'o' && prop[1] === 'n') {\r\n                patchEvent(prop, lastValue, nextValue, dom);\r\n            }\r\n            else if (isNullOrUndef(nextValue)) {\r\n                dom.removeAttribute(prop);\r\n            }\r\n            else if (prop === 'style') {\r\n                patchStyle(lastValue, nextValue, dom);\r\n            }\r\n            else if (isSVG && namespaces[prop]) {\r\n                // We optimize for NS being boolean. Its 99.9% time false\r\n                // If we end up in this path we can read property again\r\n                dom.setAttributeNS(namespaces[prop], prop, nextValue);\r\n            }\r\n            else {\r\n                dom.setAttribute(prop, nextValue);\r\n            }\r\n            break;\r\n    }\r\n}\r\nfunction mountProps(vNode, flags, props, dom, isSVG) {\r\n    var hasControlledValue = false;\r\n    var isFormElement = (flags & 448 /* FormElement */) > 0;\r\n    if (isFormElement) {\r\n        hasControlledValue = isControlledFormElement(props);\r\n        if (hasControlledValue) {\r\n            addFormElementEventHandlers(flags, dom, props);\r\n        }\r\n    }\r\n    for (var prop in props) {\r\n        // do not add a hasOwnProperty check here, it affects performance\r\n        patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue, null);\r\n    }\r\n    if (isFormElement) {\r\n        processElement(flags, vNode, dom, props, true, hasControlledValue);\r\n    }\r\n}\n\nfunction createClassComponentInstance(vNode, Component, props, context) {\r\n    var instance = new Component(props, context);\r\n    vNode.children = instance;\r\n    instance.$V = vNode;\r\n    instance.$BS = false;\r\n    instance.context = context;\r\n    if (instance.props === EMPTY_OBJ) {\r\n        instance.props = props;\r\n    }\r\n    instance.$UN = false;\r\n    if (isFunction(instance.componentWillMount)) {\r\n        instance.$BR = true;\r\n        instance.componentWillMount();\r\n        if (instance.$PSS) {\r\n            var state = instance.state;\r\n            var pending = instance.$PS;\r\n            if (isNull(state)) {\r\n                instance.state = pending;\r\n            }\r\n            else {\r\n                for (var key in pending) {\r\n                    state[key] = pending[key];\r\n                }\r\n            }\r\n            instance.$PSS = false;\r\n            instance.$PS = null;\r\n        }\r\n        instance.$BR = false;\r\n    }\r\n    if (isFunction(options.beforeRender)) {\r\n        options.beforeRender(instance);\r\n    }\r\n    var input = handleComponentInput(instance.render(props, instance.state, context), vNode);\r\n    var childContext;\r\n    if (isFunction(instance.getChildContext)) {\r\n        childContext = instance.getChildContext();\r\n    }\r\n    if (isNullOrUndef(childContext)) {\r\n        instance.$CX = context;\r\n    }\r\n    else {\r\n        instance.$CX = combineFrom(context, childContext);\r\n    }\r\n    if (isFunction(options.afterRender)) {\r\n        options.afterRender(instance);\r\n    }\r\n    instance.$LI = input;\r\n    return instance;\r\n}\r\nfunction handleComponentInput(input, componentVNode) {\r\n    if (isInvalid(input)) {\r\n        input = createVoidVNode();\r\n    }\r\n    else if (isStringOrNumber(input)) {\r\n        input = createTextVNode(input, null);\r\n    }\r\n    else {\r\n        if (input.dom) {\r\n            input = directClone(input);\r\n        }\r\n        if (input.flags & 14 /* Component */) {\r\n            // if we have an input that is also a component, we run into a tricky situation\r\n            // where the root vNode needs to always have the correct DOM entry\r\n            // we can optimise this in the future, but this gets us out of a lot of issues\r\n            input.parentVNode = componentVNode;\r\n        }\r\n    }\r\n    return input;\r\n}\n\nfunction mount(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 481 /* Element */) {\r\n        return mountElement(vNode, parentDom, lifecycle, context, isSVG);\r\n    }\r\n    if (flags & 14 /* Component */) {\r\n        return mountComponent(vNode, parentDom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    if (flags & 512 /* Void */ || flags & 16 /* Text */) {\r\n        return mountText(vNode, parentDom);\r\n    }\r\n    if (flags & 1024 /* Portal */) {\r\n        mount(vNode.children, vNode.type, lifecycle, context, false);\r\n        return (vNode.dom = mountText(createVoidVNode(), parentDom));\r\n    }\r\n}\r\nfunction mountText(vNode, parentDom) {\r\n    var dom = (vNode.dom = document.createTextNode(vNode.children));\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountElement(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var ref = vNode.ref;\r\n    var childFlags = vNode.childFlags;\r\n    isSVG = isSVG || (flags & 32 /* SvgElement */) > 0;\r\n    var dom = documentCreateElement(vNode.type, isSVG);\r\n    vNode.dom = dom;\r\n    if (!isNullOrUndef(className) && className !== '') {\r\n        if (isSVG) {\r\n            dom.setAttribute('class', className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n    }\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    if ((childFlags & 1 /* HasInvalidChildren */) === 0) {\r\n        var childrenIsSVG = isSVG === true && vNode.type !== 'foreignObject';\r\n        if (childFlags === 2 /* HasVNodeChildren */) {\r\n            mount(children, dom, lifecycle, context, childrenIsSVG);\r\n        }\r\n        else if (childFlags & 12 /* MultipleChildren */) {\r\n            mountArrayChildren(children, dom, lifecycle, context, childrenIsSVG);\r\n        }\r\n    }\r\n    if (!isNull(props)) {\r\n        mountProps(vNode, flags, props, dom, isSVG);\r\n    }\r\n    if (isFunction(ref)) {\r\n        mountRef(dom, ref, lifecycle);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountArrayChildren(children, dom, lifecycle, context, isSVG) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        var child = children[i];\r\n        if (!isNull(child.dom)) {\r\n            children[i] = child = directClone(child);\r\n        }\r\n        mount(child, dom, lifecycle, context, isSVG);\r\n    }\r\n}\r\nfunction mountComponent(vNode, parentDom, lifecycle, context, isSVG, isClass) {\r\n    var dom;\r\n    var type = vNode.type;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var ref = vNode.ref;\r\n    if (isClass) {\r\n        var instance = createClassComponentInstance(vNode, type, props, context);\r\n        vNode.dom = dom = mount(instance.$LI, null, lifecycle, instance.$CX, isSVG);\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance.$UPD = false;\r\n    }\r\n    else {\r\n        var input = handleComponentInput(type(props, context), vNode);\r\n        vNode.children = input;\r\n        vNode.dom = dom = mount(input, null, lifecycle, context, isSVG);\r\n        mountFunctionalComponentCallbacks(props, ref, dom, lifecycle);\r\n    }\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction createClassMountCallback(instance, hasAfterMount, afterMount, vNode, hasDidMount) {\r\n    return function () {\r\n        instance.$UPD = true;\r\n        if (hasAfterMount) {\r\n            afterMount(vNode);\r\n        }\r\n        if (hasDidMount) {\r\n            instance.componentDidMount();\r\n        }\r\n        instance.$UPD = false;\r\n    };\r\n}\r\nfunction mountClassComponentCallbacks(vNode, ref, instance, lifecycle) {\r\n    if (isFunction(ref)) {\r\n        ref(instance);\r\n    }\r\n    var hasDidMount = isFunction(instance.componentDidMount);\r\n    var afterMount = options.afterMount;\r\n    var hasAfterMount = isFunction(afterMount);\r\n    if (hasDidMount || hasAfterMount) {\r\n        lifecycle.push(createClassMountCallback(instance, hasAfterMount, afterMount, vNode, hasDidMount));\r\n    }\r\n}\r\n// Create did mount callback lazily to avoid creating function context if not needed\r\nfunction createOnMountCallback(ref, dom, props) {\r\n    return function () { return ref.onComponentDidMount(dom, props); };\r\n}\r\nfunction mountFunctionalComponentCallbacks(props, ref, dom, lifecycle) {\r\n    if (!isNullOrUndef(ref)) {\r\n        if (isFunction(ref.onComponentWillMount)) {\r\n            ref.onComponentWillMount(props);\r\n        }\r\n        if (isFunction(ref.onComponentDidMount)) {\r\n            lifecycle.push(createOnMountCallback(ref, dom, props));\r\n        }\r\n    }\r\n}\r\nfunction mountRef(dom, value, lifecycle) {\r\n    lifecycle.push(function () { return value(dom); });\r\n}\n\nfunction hydrateComponent(vNode, dom, lifecycle, context, isSVG, isClass) {\r\n    var type = vNode.type;\r\n    var ref = vNode.ref;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    if (isClass) {\r\n        var instance = createClassComponentInstance(vNode, type, props, context);\r\n        var input = instance.$LI;\r\n        hydrateVNode(input, dom, lifecycle, instance.$CX, isSVG);\r\n        vNode.dom = input.dom;\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance.$UPD = false; // Mount finished allow going sync\r\n    }\r\n    else {\r\n        var input$1 = handleComponentInput(type(props, context), vNode);\r\n        hydrateVNode(input$1, dom, lifecycle, context, isSVG);\r\n        vNode.children = input$1;\r\n        vNode.dom = input$1.dom;\r\n        mountFunctionalComponentCallbacks(props, ref, dom, lifecycle);\r\n    }\r\n}\r\nfunction hydrateElement(vNode, dom, lifecycle, context, isSVG) {\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var flags = vNode.flags;\r\n    var ref = vNode.ref;\r\n    isSVG = isSVG || (flags & 32 /* SvgElement */) > 0;\r\n    if (dom.nodeType !== 1 || dom.tagName.toLowerCase() !== vNode.type) {\r\n        var newDom = mountElement(vNode, null, lifecycle, context, isSVG);\r\n        vNode.dom = newDom;\r\n        replaceChild(dom.parentNode, newDom, dom);\r\n    }\r\n    else {\r\n        vNode.dom = dom;\r\n        var childNode = dom.firstChild;\r\n        var childFlags = vNode.childFlags;\r\n        if ((childFlags & 1 /* HasInvalidChildren */) === 0) {\r\n            var nextSibling = null;\r\n            while (childNode) {\r\n                nextSibling = childNode.nextSibling;\r\n                if (childNode.nodeType === 8) {\r\n                    if (childNode.data === '!') {\r\n                        dom.replaceChild(document.createTextNode(''), childNode);\r\n                    }\r\n                    else {\r\n                        dom.removeChild(childNode);\r\n                    }\r\n                }\r\n                childNode = nextSibling;\r\n            }\r\n            childNode = dom.firstChild;\r\n            if (childFlags === 2 /* HasVNodeChildren */) {\r\n                if (isNull(childNode)) {\r\n                    mount(children, dom, lifecycle, context, isSVG);\r\n                }\r\n                else {\r\n                    nextSibling = childNode.nextSibling;\r\n                    hydrateVNode(children, childNode, lifecycle, context, isSVG);\r\n                    childNode = nextSibling;\r\n                }\r\n            }\r\n            else if (childFlags & 12 /* MultipleChildren */) {\r\n                for (var i = 0, len = children.length; i < len; i++) {\r\n                    var child = children[i];\r\n                    if (isNull(childNode)) {\r\n                        mount(child, dom, lifecycle, context, isSVG);\r\n                    }\r\n                    else {\r\n                        nextSibling = childNode.nextSibling;\r\n                        hydrateVNode(child, childNode, lifecycle, context, isSVG);\r\n                        childNode = nextSibling;\r\n                    }\r\n                }\r\n            }\r\n            // clear any other DOM nodes, there should be only a single entry for the root\r\n            while (childNode) {\r\n                nextSibling = childNode.nextSibling;\r\n                dom.removeChild(childNode);\r\n                childNode = nextSibling;\r\n            }\r\n        }\r\n        else if (!isNull(dom.firstChild) && !isSamePropsInnerHTML(dom, props)) {\r\n            dom.textContent = ''; // dom has content, but VNode has no children remove everything from DOM\r\n            if (flags & 448 /* FormElement */) {\r\n                // If element is form element, we need to clear defaultValue also\r\n                dom.defaultValue = '';\r\n            }\r\n        }\r\n        if (!isNull(props)) {\r\n            mountProps(vNode, flags, props, dom, isSVG);\r\n        }\r\n        if (isNullOrUndef(className)) {\r\n            if (dom.className !== '') {\r\n                dom.removeAttribute('class');\r\n            }\r\n        }\r\n        else if (isSVG) {\r\n            dom.setAttribute('class', className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n        if (isFunction(ref)) {\r\n            mountRef(dom, ref, lifecycle);\r\n        }\r\n    }\r\n}\r\nfunction hydrateText(vNode, dom) {\r\n    if (dom.nodeType !== 3) {\r\n        var newDom = mountText(vNode, null);\r\n        vNode.dom = newDom;\r\n        replaceChild(dom.parentNode, newDom, dom);\r\n    }\r\n    else {\r\n        var text = vNode.children;\r\n        if (dom.nodeValue !== text) {\r\n            dom.nodeValue = text;\r\n        }\r\n        vNode.dom = dom;\r\n    }\r\n}\r\nfunction hydrateVNode(vNode, dom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 14 /* Component */) {\r\n        hydrateComponent(vNode, dom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    else if (flags & 481 /* Element */) {\r\n        hydrateElement(vNode, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (flags & 16 /* Text */) {\r\n        hydrateText(vNode, dom);\r\n    }\r\n    else if (flags & 512 /* Void */) {\r\n        vNode.dom = dom;\r\n    }\r\n    else {\r\n        throwError();\r\n    }\r\n}\r\nfunction hydrate(input, parentDom, callback) {\r\n    var dom = parentDom.firstChild;\r\n    if (!isNull(dom)) {\r\n        if (!isInvalid(input)) {\r\n            hydrateVNode(input, dom, LIFECYCLE, EMPTY_OBJ, false);\r\n        }\r\n        dom = parentDom.firstChild;\r\n        // clear any other DOM nodes, there should be only a single entry for the root\r\n        while ((dom = dom.nextSibling)) {\r\n            parentDom.removeChild(dom);\r\n        }\r\n    }\r\n    if (LIFECYCLE.length > 0) {\r\n        callAll(LIFECYCLE);\r\n    }\r\n    if (!parentDom.$V) {\r\n        options.roots.push(parentDom);\r\n    }\r\n    parentDom.$V = input;\r\n    if (isFunction(callback)) {\r\n        callback();\r\n    }\r\n}\n\nfunction replaceWithNewNode(lastNode, nextNode, parentDom, lifecycle, context, isSVG) {\r\n    unmount(lastNode);\r\n    replaceChild(parentDom, mount(nextNode, null, lifecycle, context, isSVG), lastNode.dom);\r\n}\r\nfunction patch(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG) {\r\n    if (lastVNode !== nextVNode) {\r\n        var nextFlags = nextVNode.flags | 0;\r\n        if (lastVNode.flags !== nextFlags || nextFlags & 2048 /* ReCreate */) {\r\n            replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG);\r\n        }\r\n        else if (nextFlags & 481 /* Element */) {\r\n            patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG);\r\n        }\r\n        else if (nextFlags & 14 /* Component */) {\r\n            patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, (nextFlags & 4 /* ComponentClass */) > 0);\r\n        }\r\n        else if (nextFlags & 16 /* Text */) {\r\n            patchText(lastVNode, nextVNode, parentDom);\r\n        }\r\n        else if (nextFlags & 512 /* Void */) {\r\n            nextVNode.dom = lastVNode.dom;\r\n        }\r\n        else {\r\n            // Portal\r\n            patchPortal(lastVNode, nextVNode, lifecycle, context);\r\n        }\r\n    }\r\n}\r\nfunction patchPortal(lastVNode, nextVNode, lifecycle, context) {\r\n    var lastContainer = lastVNode.type;\r\n    var nextContainer = nextVNode.type;\r\n    var nextChildren = nextVNode.children;\r\n    patchChildren(lastVNode.childFlags, nextVNode.childFlags, lastVNode.children, nextChildren, lastContainer, lifecycle, context, false);\r\n    nextVNode.dom = lastVNode.dom;\r\n    if (lastContainer !== nextContainer && !isInvalid(nextChildren)) {\r\n        var node = nextChildren.dom;\r\n        lastContainer.removeChild(node);\r\n        nextContainer.appendChild(node);\r\n    }\r\n}\r\nfunction patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG) {\r\n    var nextTag = nextVNode.type;\r\n    if (lastVNode.type !== nextTag) {\r\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG);\r\n    }\r\n    else {\r\n        var dom = lastVNode.dom;\r\n        var nextFlags = nextVNode.flags;\r\n        var lastProps = lastVNode.props;\r\n        var nextProps = nextVNode.props;\r\n        var isFormElement = false;\r\n        var hasControlledValue = false;\r\n        var nextPropsOrEmpty;\r\n        nextVNode.dom = dom;\r\n        isSVG = isSVG || (nextFlags & 32 /* SvgElement */) > 0;\r\n        // inlined patchProps  -- starts --\r\n        if (lastProps !== nextProps) {\r\n            var lastPropsOrEmpty = lastProps || EMPTY_OBJ;\r\n            nextPropsOrEmpty = nextProps || EMPTY_OBJ;\r\n            if (nextPropsOrEmpty !== EMPTY_OBJ) {\r\n                isFormElement = (nextFlags & 448 /* FormElement */) > 0;\r\n                if (isFormElement) {\r\n                    hasControlledValue = isControlledFormElement(nextPropsOrEmpty);\r\n                }\r\n                for (var prop in nextPropsOrEmpty) {\r\n                    var lastValue = lastPropsOrEmpty[prop];\r\n                    var nextValue = nextPropsOrEmpty[prop];\r\n                    if (lastValue !== nextValue) {\r\n                        patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue, lastVNode);\r\n                    }\r\n                }\r\n            }\r\n            if (lastPropsOrEmpty !== EMPTY_OBJ) {\r\n                for (var prop$1 in lastPropsOrEmpty) {\r\n                    // do not add a hasOwnProperty check here, it affects performance\r\n                    if (!nextPropsOrEmpty.hasOwnProperty(prop$1) && !isNullOrUndef(lastPropsOrEmpty[prop$1])) {\r\n                        patchProp(prop$1, lastPropsOrEmpty[prop$1], null, dom, isSVG, hasControlledValue, lastVNode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var lastChildren = lastVNode.children;\r\n        var nextChildren = nextVNode.children;\r\n        var nextRef = nextVNode.ref;\r\n        var lastClassName = lastVNode.className;\r\n        var nextClassName = nextVNode.className;\r\n        if (lastChildren !== nextChildren) {\r\n            patchChildren(lastVNode.childFlags, nextVNode.childFlags, lastChildren, nextChildren, dom, lifecycle, context, isSVG && nextTag !== 'foreignObject');\r\n        }\r\n        if (isFormElement) {\r\n            processElement(nextFlags, nextVNode, dom, nextPropsOrEmpty, false, hasControlledValue);\r\n        }\r\n        // inlined patchProps  -- ends --\r\n        if (lastClassName !== nextClassName) {\r\n            if (isNullOrUndef(nextClassName)) {\r\n                dom.removeAttribute('class');\r\n            }\r\n            else if (isSVG) {\r\n                dom.setAttribute('class', nextClassName);\r\n            }\r\n            else {\r\n                dom.className = nextClassName;\r\n            }\r\n        }\r\n        if (isFunction(nextRef) && lastVNode.ref !== nextRef) {\r\n            mountRef(dom, nextRef, lifecycle);\r\n        }\r\n    }\r\n}\r\nfunction patchChildren(lastChildFlags, nextChildFlags, lastChildren, nextChildren, parentDOM, lifecycle, context, isSVG) {\r\n    switch (lastChildFlags) {\r\n        case 2 /* HasVNodeChildren */:\r\n            switch (nextChildFlags) {\r\n                case 2 /* HasVNodeChildren */:\r\n                    patch(lastChildren, nextChildren, parentDOM, lifecycle, context, isSVG);\r\n                    break;\r\n                case 1 /* HasInvalidChildren */:\r\n                    remove(lastChildren, parentDOM);\r\n                    break;\r\n                default:\r\n                    remove(lastChildren, parentDOM);\r\n                    mountArrayChildren(nextChildren, parentDOM, lifecycle, context, isSVG);\r\n                    break;\r\n            }\r\n            break;\r\n        case 1 /* HasInvalidChildren */:\r\n            switch (nextChildFlags) {\r\n                case 2 /* HasVNodeChildren */:\r\n                    mount(nextChildren, parentDOM, lifecycle, context, isSVG);\r\n                    break;\r\n                case 1 /* HasInvalidChildren */:\r\n                    break;\r\n                default:\r\n                    mountArrayChildren(nextChildren, parentDOM, lifecycle, context, isSVG);\r\n                    break;\r\n            }\r\n            break;\r\n        default:\r\n            if (nextChildFlags & 12 /* MultipleChildren */) {\r\n                var lastLength = lastChildren.length;\r\n                var nextLength = nextChildren.length;\r\n                // Fast path's for both algorithms\r\n                if (lastLength === 0) {\r\n                    if (nextLength > 0) {\r\n                        mountArrayChildren(nextChildren, parentDOM, lifecycle, context, isSVG);\r\n                    }\r\n                }\r\n                else if (nextLength === 0) {\r\n                    removeAllChildren(parentDOM, lastChildren);\r\n                }\r\n                else if (nextChildFlags === 8 /* HasKeyedChildren */ && lastChildFlags === 8 /* HasKeyedChildren */) {\r\n                    patchKeyedChildren(lastChildren, nextChildren, parentDOM, lifecycle, context, isSVG, lastLength, nextLength);\r\n                }\r\n                else {\r\n                    patchNonKeyedChildren(lastChildren, nextChildren, parentDOM, lifecycle, context, isSVG, lastLength, nextLength);\r\n                }\r\n            }\r\n            else if (nextChildFlags === 1 /* HasInvalidChildren */) {\r\n                removeAllChildren(parentDOM, lastChildren);\r\n            }\r\n            else {\r\n                removeAllChildren(parentDOM, lastChildren);\r\n                mount(nextChildren, parentDOM, lifecycle, context, isSVG);\r\n            }\r\n            break;\r\n    }\r\n}\r\nfunction updateClassComponent(instance, nextState, nextVNode, nextProps, parentDom, lifecycle, context, isSVG, force, fromSetState) {\r\n    var lastState = instance.state;\r\n    var lastProps = instance.props;\r\n    nextVNode.children = instance;\r\n    var renderOutput;\r\n    if (instance.$UN) {\r\n        return;\r\n    }\r\n    if (lastProps !== nextProps || nextProps === EMPTY_OBJ) {\r\n        if (!fromSetState && isFunction(instance.componentWillReceiveProps)) {\r\n            instance.$BR = true;\r\n            instance.componentWillReceiveProps(nextProps, context);\r\n            // If instance component was removed during its own update do nothing...\r\n            if (instance.$UN) {\r\n                return;\r\n            }\r\n            instance.$BR = false;\r\n        }\r\n        if (instance.$PSS) {\r\n            nextState = combineFrom(nextState, instance.$PS);\r\n            instance.$PSS = false;\r\n            instance.$PS = null;\r\n        }\r\n    }\r\n    /* Update if scu is not defined, or it returns truthy value or force */\r\n    var hasSCU = isFunction(instance.shouldComponentUpdate);\r\n    if (force || !hasSCU || (hasSCU && instance.shouldComponentUpdate(nextProps, nextState, context))) {\r\n        if (isFunction(instance.componentWillUpdate)) {\r\n            instance.$BS = true;\r\n            instance.componentWillUpdate(nextProps, nextState, context);\r\n            instance.$BS = false;\r\n        }\r\n        instance.props = nextProps;\r\n        instance.state = nextState;\r\n        instance.context = context;\r\n        if (isFunction(options.beforeRender)) {\r\n            options.beforeRender(instance);\r\n        }\r\n        renderOutput = instance.render(nextProps, nextState, context);\r\n        if (isFunction(options.afterRender)) {\r\n            options.afterRender(instance);\r\n        }\r\n        var didUpdate = renderOutput !== NO_OP;\r\n        var childContext;\r\n        if (isFunction(instance.getChildContext)) {\r\n            childContext = instance.getChildContext();\r\n        }\r\n        if (isNullOrUndef(childContext)) {\r\n            childContext = context;\r\n        }\r\n        else {\r\n            childContext = combineFrom(context, childContext);\r\n        }\r\n        instance.$CX = childContext;\r\n        if (didUpdate) {\r\n            var lastInput = instance.$LI;\r\n            var nextInput = (instance.$LI = handleComponentInput(renderOutput, nextVNode));\r\n            patch(lastInput, nextInput, parentDom, lifecycle, childContext, isSVG);\r\n            if (isFunction(instance.componentDidUpdate)) {\r\n                instance.componentDidUpdate(lastProps, lastState);\r\n            }\r\n            if (isFunction(options.afterUpdate)) {\r\n                options.afterUpdate(nextVNode);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        instance.props = nextProps;\r\n        instance.state = nextState;\r\n        instance.context = context;\r\n    }\r\n    nextVNode.dom = instance.$LI.dom;\r\n}\r\nfunction patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass) {\r\n    var nextType = nextVNode.type;\r\n    var lastKey = lastVNode.key;\r\n    var nextKey = nextVNode.key;\r\n    if (lastVNode.type !== nextType || lastKey !== nextKey) {\r\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG);\r\n    }\r\n    else {\r\n        var nextProps = nextVNode.props || EMPTY_OBJ;\r\n        if (isClass) {\r\n            var instance = lastVNode.children;\r\n            instance.$UPD = true;\r\n            updateClassComponent(instance, instance.state, nextVNode, nextProps, parentDom, lifecycle, context, isSVG, false, false);\r\n            instance.$V = nextVNode;\r\n            instance.$UPD = false;\r\n        }\r\n        else {\r\n            var shouldUpdate = true;\r\n            var lastProps = lastVNode.props;\r\n            var nextHooks = nextVNode.ref;\r\n            var nextHooksDefined = !isNullOrUndef(nextHooks);\r\n            var lastInput = lastVNode.children;\r\n            nextVNode.dom = lastVNode.dom;\r\n            nextVNode.children = lastInput;\r\n            if (nextHooksDefined && isFunction(nextHooks.onComponentShouldUpdate)) {\r\n                shouldUpdate = nextHooks.onComponentShouldUpdate(lastProps, nextProps);\r\n            }\r\n            if (shouldUpdate !== false) {\r\n                if (nextHooksDefined && isFunction(nextHooks.onComponentWillUpdate)) {\r\n                    nextHooks.onComponentWillUpdate(lastProps, nextProps);\r\n                }\r\n                var nextInput = nextType(nextProps, context);\r\n                if (nextInput !== NO_OP) {\r\n                    nextInput = handleComponentInput(nextInput, nextVNode);\r\n                    patch(lastInput, nextInput, parentDom, lifecycle, context, isSVG);\r\n                    nextVNode.children = nextInput;\r\n                    nextVNode.dom = nextInput.dom;\r\n                    if (nextHooksDefined && isFunction(nextHooks.onComponentDidUpdate)) {\r\n                        nextHooks.onComponentDidUpdate(lastProps, nextProps);\r\n                    }\r\n                }\r\n            }\r\n            else if (lastInput.flags & 14 /* Component */) {\r\n                lastInput.parentVNode = nextVNode;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction patchText(lastVNode, nextVNode, parentDom) {\r\n    var nextText = nextVNode.children;\r\n    var textNode = parentDom.firstChild;\r\n    var dom;\r\n    // Guard against external change on DOM node.\r\n    if (isNull(textNode)) {\r\n        parentDom.textContent = nextText;\r\n        dom = parentDom.firstChild;\r\n    }\r\n    else {\r\n        dom = lastVNode.dom;\r\n        if (nextText !== lastVNode.children) {\r\n            dom.nodeValue = nextText;\r\n        }\r\n    }\r\n    nextVNode.dom = dom;\r\n}\r\nfunction patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, lastChildrenLength, nextChildrenLength) {\r\n    var commonLength = lastChildrenLength > nextChildrenLength ? nextChildrenLength : lastChildrenLength;\r\n    var i = 0;\r\n    var nextChild;\r\n    for (; i < commonLength; i++) {\r\n        nextChild = nextChildren[i];\r\n        if (nextChild.dom) {\r\n            nextChild = nextChildren[i] = directClone(nextChild);\r\n        }\r\n        patch(lastChildren[i], nextChild, dom, lifecycle, context, isSVG);\r\n    }\r\n    if (lastChildrenLength < nextChildrenLength) {\r\n        for (i = commonLength; i < nextChildrenLength; i++) {\r\n            nextChild = nextChildren[i];\r\n            if (nextChild.dom) {\r\n                nextChild = nextChildren[i] = directClone(nextChild);\r\n            }\r\n            mount(nextChild, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    else if (lastChildrenLength > nextChildrenLength) {\r\n        for (i = commonLength; i < lastChildrenLength; i++) {\r\n            remove(lastChildren[i], dom);\r\n        }\r\n    }\r\n}\r\nfunction patchKeyedChildren(a, b, dom, lifecycle, context, isSVG, aLength, bLength) {\r\n    var aEnd = aLength - 1;\r\n    var bEnd = bLength - 1;\r\n    var aStart = 0;\r\n    var bStart = 0;\r\n    var i;\r\n    var j;\r\n    var aNode = a[aStart];\r\n    var bNode = b[bStart];\r\n    var nextNode;\r\n    var nextPos;\r\n    // Step 1\r\n    // tslint:disable-next-line\r\n    outer: {\r\n        // Sync nodes with the same key at the beginning.\r\n        while (aNode.key === bNode.key) {\r\n            if (bNode.dom) {\r\n                b[bStart] = bNode = directClone(bNode);\r\n            }\r\n            patch(aNode, bNode, dom, lifecycle, context, isSVG);\r\n            aStart++;\r\n            bStart++;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aNode = a[aStart];\r\n            bNode = b[bStart];\r\n        }\r\n        aNode = a[aEnd];\r\n        bNode = b[bEnd];\r\n        // Sync nodes with the same key at the end.\r\n        while (aNode.key === bNode.key) {\r\n            if (bNode.dom) {\r\n                b[bEnd] = bNode = directClone(bNode);\r\n            }\r\n            patch(aNode, bNode, dom, lifecycle, context, isSVG);\r\n            aEnd--;\r\n            bEnd--;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aNode = a[aEnd];\r\n            bNode = b[bEnd];\r\n        }\r\n    }\r\n    if (aStart > aEnd) {\r\n        if (bStart <= bEnd) {\r\n            nextPos = bEnd + 1;\r\n            nextNode = nextPos < bLength ? b[nextPos].dom : null;\r\n            while (bStart <= bEnd) {\r\n                bNode = b[bStart];\r\n                if (bNode.dom) {\r\n                    b[bStart] = bNode = directClone(bNode);\r\n                }\r\n                bStart++;\r\n                insertOrAppend(dom, mount(bNode, null, lifecycle, context, isSVG), nextNode);\r\n            }\r\n        }\r\n    }\r\n    else if (bStart > bEnd) {\r\n        while (aStart <= aEnd) {\r\n            remove(a[aStart++], dom);\r\n        }\r\n    }\r\n    else {\r\n        var aLeft = aEnd - aStart + 1;\r\n        var bLeft = bEnd - bStart + 1;\r\n        var sources = [];\r\n        for (i = 0; i < bLeft; i++) {\r\n            sources.push(0);\r\n        }\r\n        // Keep track if its possible to remove whole DOM using textContent = '';\r\n        var canRemoveWholeContent = aLeft === aLength;\r\n        var moved = false;\r\n        var pos = 0;\r\n        var patched = 0;\r\n        // When sizes are small, just loop them through\r\n        if (bLength < 4 || (aLeft | bLeft) < 32) {\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLeft) {\r\n                    for (j = bStart; j <= bEnd; j++) {\r\n                        bNode = b[j];\r\n                        if (aNode.key === bNode.key) {\r\n                            sources[j - bStart] = i + 1;\r\n                            if (canRemoveWholeContent) {\r\n                                canRemoveWholeContent = false;\r\n                                while (i > aStart) {\r\n                                    remove(a[aStart++], dom);\r\n                                }\r\n                            }\r\n                            if (pos > j) {\r\n                                moved = true;\r\n                            }\r\n                            else {\r\n                                pos = j;\r\n                            }\r\n                            if (bNode.dom) {\r\n                                b[j] = bNode = directClone(bNode);\r\n                            }\r\n                            patch(aNode, bNode, dom, lifecycle, context, isSVG);\r\n                            patched++;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!canRemoveWholeContent && j > bEnd) {\r\n                        remove(aNode, dom);\r\n                    }\r\n                }\r\n                else if (!canRemoveWholeContent) {\r\n                    remove(aNode, dom);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var keyIndex = {};\r\n            // Map keys by their index\r\n            for (i = bStart; i <= bEnd; i++) {\r\n                keyIndex[b[i].key] = i;\r\n            }\r\n            // Try to patch same keys\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLeft) {\r\n                    j = keyIndex[aNode.key];\r\n                    if (j !== void 0) {\r\n                        if (canRemoveWholeContent) {\r\n                            canRemoveWholeContent = false;\r\n                            while (i > aStart) {\r\n                                remove(a[aStart++], dom);\r\n                            }\r\n                        }\r\n                        bNode = b[j];\r\n                        sources[j - bStart] = i + 1;\r\n                        if (pos > j) {\r\n                            moved = true;\r\n                        }\r\n                        else {\r\n                            pos = j;\r\n                        }\r\n                        if (bNode.dom) {\r\n                            b[j] = bNode = directClone(bNode);\r\n                        }\r\n                        patch(aNode, bNode, dom, lifecycle, context, isSVG);\r\n                        patched++;\r\n                    }\r\n                    else if (!canRemoveWholeContent) {\r\n                        remove(aNode, dom);\r\n                    }\r\n                }\r\n                else if (!canRemoveWholeContent) {\r\n                    remove(aNode, dom);\r\n                }\r\n            }\r\n        }\r\n        // fast-path: if nothing patched remove all old and add all new\r\n        if (canRemoveWholeContent) {\r\n            removeAllChildren(dom, a);\r\n            mountArrayChildren(b, dom, lifecycle, context, isSVG);\r\n        }\r\n        else {\r\n            if (moved) {\r\n                var seq = lis_algorithm(sources);\r\n                j = seq.length - 1;\r\n                for (i = bLeft - 1; i >= 0; i--) {\r\n                    if (sources[i] === 0) {\r\n                        pos = i + bStart;\r\n                        bNode = b[pos];\r\n                        if (bNode.dom) {\r\n                            b[pos] = bNode = directClone(bNode);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        insertOrAppend(dom, mount(bNode, null, lifecycle, context, isSVG), nextPos < bLength ? b[nextPos].dom : null);\r\n                    }\r\n                    else if (j < 0 || i !== seq[j]) {\r\n                        pos = i + bStart;\r\n                        bNode = b[pos];\r\n                        nextPos = pos + 1;\r\n                        insertOrAppend(dom, bNode.dom, nextPos < bLength ? b[nextPos].dom : null);\r\n                    }\r\n                    else {\r\n                        j--;\r\n                    }\r\n                }\r\n            }\r\n            else if (patched !== bLeft) {\r\n                // when patched count doesn't match b length we need to insert those new ones\r\n                // loop backwards so we can use insertBefore\r\n                for (i = bLeft - 1; i >= 0; i--) {\r\n                    if (sources[i] === 0) {\r\n                        pos = i + bStart;\r\n                        bNode = b[pos];\r\n                        if (bNode.dom) {\r\n                            b[pos] = bNode = directClone(bNode);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        insertOrAppend(dom, mount(bNode, null, lifecycle, context, isSVG), nextPos < bLength ? b[nextPos].dom : null);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n// https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction lis_algorithm(arr) {\r\n    var p = arr.slice();\r\n    var result = [0];\r\n    var i;\r\n    var j;\r\n    var u;\r\n    var v;\r\n    var c;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n        var arrI = arr[i];\r\n        if (arrI !== 0) {\r\n            j = result[result.length - 1];\r\n            if (arr[j] < arrI) {\r\n                p[i] = j;\r\n                result.push(i);\r\n                continue;\r\n            }\r\n            u = 0;\r\n            v = result.length - 1;\r\n            while (u < v) {\r\n                c = ((u + v) / 2) | 0;\r\n                if (arr[result[c]] < arrI) {\r\n                    u = c + 1;\r\n                }\r\n                else {\r\n                    v = c;\r\n                }\r\n            }\r\n            if (arrI < arr[result[u]]) {\r\n                if (u > 0) {\r\n                    p[i] = result[u - 1];\r\n                }\r\n                result[u] = i;\r\n            }\r\n        }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n        result[u] = v;\r\n        v = p[v];\r\n    }\r\n    return result;\r\n}\n\nvar roots = options.roots;\r\nvar documentBody = isBrowser ? document.body : null;\r\nfunction render(input, parentDom, callback) {\r\n    if (input === NO_OP) {\r\n        return;\r\n    }\r\n    var rootLen = roots.length;\r\n    var rootInput;\r\n    var index;\r\n    for (index = 0; index < rootLen; index++) {\r\n        if (roots[index] === parentDom) {\r\n            rootInput = parentDom.$V;\r\n            break;\r\n        }\r\n    }\r\n    if (isUndefined(rootInput)) {\r\n        if (!isInvalid(input)) {\r\n            if (input.dom) {\r\n                input = directClone(input);\r\n            }\r\n            if (isNull(parentDom.firstChild)) {\r\n                mount(input, parentDom, LIFECYCLE, EMPTY_OBJ, false);\r\n                parentDom.$V = input;\r\n                roots.push(parentDom);\r\n            }\r\n            else {\r\n                hydrate(input, parentDom);\r\n            }\r\n            rootInput = input;\r\n        }\r\n    }\r\n    else {\r\n        if (isNullOrUndef(input)) {\r\n            remove(rootInput, parentDom);\r\n            roots.splice(index, 1);\r\n        }\r\n        else {\r\n            if (input.dom) {\r\n                input = directClone(input);\r\n            }\r\n            patch(rootInput, input, parentDom, LIFECYCLE, EMPTY_OBJ, false);\r\n            rootInput = parentDom.$V = input;\r\n        }\r\n    }\r\n    if (LIFECYCLE.length > 0) {\r\n        callAll(LIFECYCLE);\r\n    }\r\n    if (isFunction(callback)) {\r\n        callback();\r\n    }\r\n    if (rootInput && rootInput.flags & 14 /* Component */) {\r\n        return rootInput.children;\r\n    }\r\n}\r\nfunction createRenderer(parentDom) {\r\n    return function renderer(lastInput, nextInput) {\r\n        if (!parentDom) {\r\n            parentDom = lastInput;\r\n        }\r\n        render(nextInput, parentDom);\r\n    };\r\n}\r\nfunction createPortal(children, container) {\r\n    return createVNode(1024 /* Portal */, container, null, children, 0 /* UnknownChildren */, null, isInvalid(children) ? null : children.key, null);\r\n}\n\nvar resolvedPromise = typeof Promise === 'undefined' ? null : Promise.resolve();\r\n// raf.bind(window) is needed to work around bug in IE10-IE11 strict mode (TypeError: Invalid calling object)\r\nvar fallbackMethod = typeof requestAnimationFrame === 'undefined' ? setTimeout : requestAnimationFrame.bind(window);\r\nfunction nextTick(fn) {\r\n    if (resolvedPromise) {\r\n        return resolvedPromise.then(fn);\r\n    }\r\n    return fallbackMethod(fn);\r\n}\r\nfunction queueStateChanges(component, newState, callback) {\r\n    if (isFunction(newState)) {\r\n        newState = newState(component.state, component.props, component.context);\r\n    }\r\n    var pending = component.$PS;\r\n    if (isNullOrUndef(pending)) {\r\n        component.$PS = newState;\r\n    }\r\n    else {\r\n        for (var stateKey in newState) {\r\n            pending[stateKey] = newState[stateKey];\r\n        }\r\n    }\r\n    if (!component.$PSS && !component.$BR) {\r\n        if (!component.$UPD) {\r\n            component.$PSS = true;\r\n            component.$UPD = true;\r\n            applyState(component, false, callback);\r\n            component.$UPD = false;\r\n        }\r\n        else {\r\n            // Async\r\n            var queue = component.$QU;\r\n            if (isNull(queue)) {\r\n                queue = component.$QU = [];\r\n                nextTick(promiseCallback(component, queue));\r\n            }\r\n            if (isFunction(callback)) {\r\n                queue.push(callback);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        component.$PSS = true;\r\n        if (component.$BR && isFunction(callback)) {\r\n            LIFECYCLE.push(callback.bind(component));\r\n        }\r\n    }\r\n}\r\nfunction promiseCallback(component, queue) {\r\n    return function () {\r\n        component.$QU = null;\r\n        component.$UPD = true;\r\n        applyState(component, false, function () {\r\n            for (var i = 0, len = queue.length; i < len; i++) {\r\n                queue[i].call(component);\r\n            }\r\n        });\r\n        component.$UPD = false;\r\n    };\r\n}\r\nfunction applyState(component, force, callback) {\r\n    if (component.$UN) {\r\n        return;\r\n    }\r\n    if (force || !component.$BR) {\r\n        component.$PSS = false;\r\n        var pendingState = component.$PS;\r\n        var prevState = component.state;\r\n        var nextState = combineFrom(prevState, pendingState);\r\n        var props = component.props;\r\n        var context = component.context;\r\n        component.$PS = null;\r\n        var vNode = component.$V;\r\n        var lastInput = component.$LI;\r\n        var parentDom = lastInput.dom && lastInput.dom.parentNode;\r\n        updateClassComponent(component, nextState, vNode, props, parentDom, LIFECYCLE, context, (vNode.flags & 32 /* SvgElement */) > 0, force, true);\r\n        if (component.$UN) {\r\n            return;\r\n        }\r\n        if ((component.$LI.flags & 1024 /* Portal */) === 0) {\r\n            var dom = component.$LI.dom;\r\n            while (!isNull((vNode = vNode.parentVNode))) {\r\n                if ((vNode.flags & 14 /* Component */) > 0) {\r\n                    vNode.dom = dom;\r\n                }\r\n            }\r\n        }\r\n        if (LIFECYCLE.length > 0) {\r\n            callAll(LIFECYCLE);\r\n        }\r\n    }\r\n    else {\r\n        component.state = component.$PS;\r\n        component.$PS = null;\r\n    }\r\n    if (isFunction(callback)) {\r\n        callback.call(component);\r\n    }\r\n}\r\nvar Component = function Component(props, context) {\r\n    this.state = null;\r\n    // Internal properties\r\n    this.$BR = false; // BLOCK RENDER\r\n    this.$BS = true; // BLOCK STATE\r\n    this.$PSS = false; // PENDING SET STATE\r\n    this.$PS = null; // PENDING STATE (PARTIAL or FULL)\r\n    this.$LI = null; // LAST INPUT\r\n    this.$V = null; // VNODE\r\n    this.$UN = false; // UNMOUNTED\r\n    this.$CX = null; // CHILDCONTEXT\r\n    this.$UPD = true; // UPDATING\r\n    this.$QU = null; // QUEUE\r\n    /** @type {object} */\r\n    this.props = props || EMPTY_OBJ;\r\n    /** @type {object} */\r\n    this.context = context || EMPTY_OBJ; // context should not be mutable\r\n};\r\nComponent.prototype.forceUpdate = function forceUpdate (callback) {\r\n    if (this.$UN) {\r\n        return;\r\n    }\r\n    applyState(this, true, callback);\r\n};\r\nComponent.prototype.setState = function setState (newState, callback) {\r\n    if (this.$UN) {\r\n        return;\r\n    }\r\n    if (!this.$BS) {\r\n        queueStateChanges(this, newState, callback);\r\n    }\r\n    else {\r\n        return;\r\n    }\r\n};\r\n// tslint:disable-next-line:no-empty\r\nComponent.prototype.render = function render (nextProps, nextState, nextContext) { };\r\n// Public\r\nComponent.defaultProps = null;\n\n\n\nvar JSX = /*#__PURE__*/Object.freeze({\n\n});\n\nvar version = \"5.0.6\";\n\nexport { Component, EMPTY_OBJ, NO_OP, createComponentVNode, createPortal, createRenderer, createTextVNode, createVNode, directClone, getFlagsForElementVnode, getNumberStyleValue, hydrate, linkEvent, normalizeProps, options, render, version, JSX };\n","export * from './dist/index.esm.js';\n\nif (process.env.NODE_ENV !== 'production') {\n  console.warn('You are running production build of Inferno in development mode. Use dev:module entry point.');\n}\n","import { Component } from 'inferno';\n\n\nexport default class TableComponent extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const injector = this._injector = props.injector;\n\n    this._sheet = injector.get('sheet');\n    this._changeSupport = injector.get('changeSupport');\n    this._components = injector.get('components');\n\n    this.onElementsChanged = this.onElementsChanged.bind(this);\n  }\n\n  onElementsChanged() {\n    this.forceUpdate();\n  }\n\n  getChildContext() {\n    return {\n      changeSupport: this._changeSupport,\n      components: this._components,\n      injector: this._injector\n    };\n  }\n\n  componentWillMount() {\n    const { id } = this._sheet.getRoot();\n\n    this._changeSupport.onElementsChanged(id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const { id } = this._sheet.getRoot();\n\n    this._changeSupport.offElementsChanged(id, this.onElementsChanged);\n  }\n\n  render() {\n    const { rows, cols } = this._sheet.getRoot();\n\n    const beforeTableComponents = this._components.getComponents('table.before');\n    const afterTableComponents = this._components.getComponents('table.after');\n\n    const Head = this._components.getComponent('table.head');\n    const Body = this._components.getComponent('table.body');\n    const Foot = this._components.getComponent('table.foot');\n\n    return (\n      <div className=\"tjs-container\">\n        {\n          beforeTableComponents &&\n            beforeTableComponents.map((Component, index) => <Component key={ index } />)\n        }\n        <table className=\"tjs-table\">\n          { Head && <Head rows={ rows } cols={ cols } /> }\n          { Body && <Body rows={ rows } cols={ cols } /> }\n          { Foot && <Foot rows={ rows } cols={ cols } /> }\n        </table>\n        {\n          afterTableComponents &&\n            afterTableComponents.map((Component, index) => <Component key={ index } />)\n        }\n      </div>\n    );\n  }\n}","import { render } from 'inferno';\n\nimport TableComponent from './components/TableComponent';\n\nexport default class Renderer {\n\n  constructor(changeSupport, components, config, eventBus, injector) {\n    const { container } = config;\n\n    this._container = container;\n\n    eventBus.on('root.added', () => {\n      render(<TableComponent injector={ injector } />, container);\n    });\n\n    eventBus.on('root.remove', () => {\n      render(null, container);\n    });\n  }\n\n  getContainer() {\n    return this._container;\n  }\n\n}\n\nRenderer.$inject = [\n  'changeSupport',\n  'components',\n  'config.renderer',\n  'eventBus',\n  'injector'\n];","import ChangeSupport from './ChangeSupport';\nimport Components from './Components';\nimport Renderer from './Renderer';\n\nexport default {\n  __init__: [ 'changeSupport', 'components', 'renderer' ],\n  changeSupport: [ 'type', ChangeSupport ],\n  components: [ 'type', Components ],\n  renderer: [ 'type', Renderer ]\n};","export default class Sheet {\n  constructor(elementRegistry, eventBus) {\n    this._elementRegistry = elementRegistry;\n    this._eventBus = eventBus;\n\n    this._root = null;\n\n    eventBus.on('table.clear', () => {\n      this.setRoot(null);\n    });\n  }\n\n  setRoot(root) {\n    if (this._root) {\n      const oldRoot = this._root;\n\n      this._eventBus.fire('root.remove', { root: oldRoot });\n\n      this._root = null;\n\n      this._eventBus.fire('root.removed', { root: oldRoot });\n    }\n\n    if (root) {\n      this._eventBus.fire('root.add', { root });\n    }\n\n    this._root = root;\n\n    if (root) {\n      this._eventBus.fire('root.added', { root });\n    }\n  }\n\n  getRoot() {\n    if (!this._root) {\n      this.setRoot({\n        id: '__implicitroot',\n        rows: [],\n        cols: []\n      });\n    }\n\n    return this._root;\n  }\n\n\n  /**\n   * Add row to sheet.\n   *\n   * @param {Object} row - Row.\n   */\n  addRow(row, index) {\n    const root = this.getRoot();\n\n    if (root.cols.length != row.cells.length) {\n      throw new Error('number of cells is not equal to number of cols');\n    }\n\n    if (typeof index === 'undefined') {\n      index = root.rows.length;\n    }\n\n    addAtIndex(index, root.rows, row);\n    row.root = root;\n\n    this._elementRegistry.add(row);\n\n    row.cells.forEach((cell, idx) => {\n      this._elementRegistry.add(cell);\n\n      cell.row = row;\n      cell.col = root.cols[idx];\n\n      addAtIndex(index, root.cols[idx].cells, cell);\n    });\n\n    this._eventBus.fire('row.add', { row });\n\n    return row;\n  }\n\n\n  /**\n   * Remove row from sheet.\n   *\n   * @param {Object|string} row - Row or row ID.\n   */\n  removeRow(row) {\n    const root = this.getRoot();\n\n    if (typeof row === 'string') {\n      row = this._elementRegistry.get(row);\n    }\n\n    const index = root.rows.indexOf(row);\n\n    if (index === -1) {\n      return;\n    }\n\n    removeAtIndex(index, root.rows);\n    row.root = undefined;\n\n    this._elementRegistry.remove(row);\n\n    row.cells.forEach((cell, idx) => {\n      this._elementRegistry.remove(cell);\n\n      cell.col = undefined;\n\n      removeAtIndex(index, root.cols[idx].cells);\n    });\n\n    this._eventBus.fire('row.remove', { row });\n  }\n\n  /**\n   * Add col to sheet.\n   *\n   * @param {Object} col\n   * @param {Number} [index]\n   */\n  addCol(col, index) {\n    const root = this.getRoot();\n\n    this._elementRegistry.add(col);\n\n    if (root.rows.length != col.cells.length) {\n      throw new Error('number of cells is not equal to number of rows');\n    }\n\n    if (typeof index === 'undefined') {\n      index = root.cols.length;\n    }\n\n    addAtIndex(index, root.cols, col);\n    col.root = root;\n\n    col.cells.forEach((cell, idx) => {\n      this._elementRegistry.add(cell);\n\n      cell.col = col;\n      cell.row = root.rows[idx];\n\n      addAtIndex(index, root.rows[idx].cells, cell);\n    });\n\n    this._eventBus.fire('col.add', { col });\n\n    return col;\n  }\n\n  /**\n   * Remove col from sheet.\n   *\n   * @param {Object|string} col - Col or col ID.\n   */\n  removeCol(col) {\n\n    const root = this.getRoot();\n\n    if (typeof col === 'string') {\n      col = this._elementRegistry.get(col);\n    }\n\n    const index = root.cols.indexOf(col);\n\n    if (index === -1) {\n      return;\n    }\n\n    removeAtIndex(index, root.cols);\n    col.root = undefined;\n\n    this._elementRegistry.remove(col);\n\n    col.cells.forEach((cell, idx) => {\n      this._elementRegistry.remove(cell);\n\n      cell.row = undefined;\n\n      removeAtIndex(index, root.rows[idx].cells);\n    });\n\n    this._eventBus.fire('col.remove', { col });\n  }\n\n  resized() {\n    this._eventBus.fire('sheet.resized');\n  }\n\n}\n\nSheet.$inject = [ 'elementRegistry', 'eventBus' ];\n\n\n// helpers /////////////\n\n/**\n * Insert value\n *\n * @param {number} index - Index to insert value at.\n * @param {Array} array - Array to insert value into.\n * @param {*} value - Value to insert.\n */\nfunction addAtIndex(index, array, value) {\n  return array.splice(index, 0, value);\n}\n\n/**\n *\n * @param {number} index - Index to remove.\n * @param {Array} array - Array to remove from.\n */\nfunction removeAtIndex(index, array) {\n  return array.splice(index, 1);\n}","import { Injector } from 'didi';\n\nimport core from './core';\n\n\nexport default class Table {\n\n  constructor(options = {}) {\n    let {\n      injector\n    } = options;\n\n    if (!injector) {\n      let { modules, config } = this._init(options);\n\n      injector = createInjector(config, modules);\n    }\n\n    this.get = injector.get;\n\n    this.invoke = injector.invoke;\n\n    this.get('eventBus').fire('table.init');\n    this.get('eventBus').fire('diagram.init');\n  }\n\n  /**\n   * Intialize table and return modules and config used for creation.\n   *\n   * @param  {Object} options\n   *\n   * @return {Object} { modules=[], config }\n   */\n  _init(options) {\n    let {\n      modules,\n      ...config\n    } = options;\n\n    return { modules, config };\n  }\n\n  /**\n   * Destroys the table. This results in removing the attachment from the container.\n   */\n  destroy() {\n    const eventBus = this.get('eventBus');\n\n    eventBus.fire('table.destroy');\n    eventBus.fire('diagram.destroy');\n  }\n\n  /**\n   * Clears the table. Should be used to reset the state of any stateful services.\n   */\n  clear() {\n    const eventBus = this.get('eventBus');\n\n    eventBus.fire('table.clear');\n    eventBus.fire('diagram.clear');\n  }\n\n}\n\n\n// helpers /////////////\n\nfunction bootstrap(bootstrapModules) {\n\n  var modules = [],\n      components = [];\n\n  function hasModule(m) {\n    return modules.indexOf(m) >= 0;\n  }\n\n  function addModule(m) {\n    modules.push(m);\n  }\n\n  function visit(m) {\n    if (hasModule(m)) {\n      return;\n    }\n\n    (m.__depends__ || []).forEach(visit);\n\n    if (hasModule(m)) {\n      return;\n    }\n\n    addModule(m);\n\n    (m.__init__ || []).forEach(function(c) {\n      components.push(c);\n    });\n  }\n\n  bootstrapModules.forEach(visit);\n\n  var injector = new Injector(modules);\n\n  components.forEach(function(c) {\n\n    try {\n      // eagerly resolve component (fn or string)\n      injector[typeof c === 'string' ? 'get' : 'invoke'](c);\n    } catch (e) {\n      console.error('Failed to instantiate component');\n      console.error(e.stack);\n\n      throw e;\n    }\n  });\n\n  return injector;\n}\n\nfunction createInjector(config, modules) {\n  const bootstrapModules = [\n    {\n      config: [ 'value', config ]\n    },\n    core\n  ].concat(modules || []);\n\n  return bootstrap(bootstrapModules);\n}\n","import Table from './Table';\n\nexport default Table;","export function elementToString(element) {\n  if (!element) {\n    return '<null>';\n  }\n\n  const id = element.id ? ` id=\"${element.id}\"` : '';\n\n  return `<${element.$type}${id} />`;\n}","import { forEach } from 'min-dash';\n\nimport { elementToString } from './Util';\n\nexport default function TableTreeWalker(handler, options) {\n\n  function visit(element, ctx, definitions) {\n\n    var gfx = element.gfx;\n\n    // avoid multiple rendering of elements\n    if (gfx) {\n      throw new Error(`already rendered ${ elementToString(element) }`);\n    }\n\n    // call handler\n    return handler.element(element, ctx, definitions);\n  }\n\n  function visitTable(element) {\n    return handler.table(element);\n  }\n\n\n  // Semantic handling //////////////////////\n\n  function handleDecision(decision) {\n\n    if (!decision.id) {\n      decision.id = 'decision';\n    }\n\n    const table = decision.decisionLogic;\n\n    if (table) {\n\n      if (!table.output) {\n        throw new Error(`missing output for ${ elementToString(table) }`);\n      }\n\n      const ctx = visitTable(table);\n\n      if (table.input) {\n        handleClauses(table.input, ctx, table);\n      }\n\n      handleClauses(table.output, ctx, table);\n\n      // if any input or output clauses (columns) were added\n      // make sure that for each rule the according input/output entry is created\n      handleRules(table.rule, ctx, table);\n    } else {\n      throw new Error(`no table for ${ elementToString(decision) }`);\n    }\n\n  }\n\n  function handleClauses(clauses, context, definitions) {\n    forEach(clauses, function(e) {\n      visit(e, context, definitions);\n    });\n  }\n\n  function handleRules(rules, context, definitions) {\n    forEach(rules, function(e) {\n      visit(e, context, definitions);\n\n      handleEntry(e.inputEntry, e);\n\n      handleEntry(e.outputEntry, e);\n    });\n  }\n\n  function handleEntry(entry, context, definitions) {\n    forEach(entry, function(e) {\n      visit(e, context, definitions);\n    });\n  }\n\n\n  // API //////////////////////\n\n  return {\n    handleDecision: handleDecision\n  };\n}\n","\nfunction newSet() {\n  return {\n    elements: [],\n    index: {}\n  };\n}\n\nfunction add(set, element) {\n\n  const {\n    elements,\n    index\n  } = set;\n\n  if (index[element]) {\n    return set;\n  } else {\n    return {\n      elements: [ ...elements, element ],\n      index: {\n        ...index,\n        [element]: true\n      }\n    };\n  }\n}\n\nfunction join(set, separator) {\n  return set.elements.join(separator);\n}\n\nexport default function classNames(...args) {\n\n  let set = newSet();\n\n  args.forEach(function(item) {\n    const type = typeof item;\n\n    if (type === 'string' && item.length > 0) {\n      set = add(set, item);\n    } else if (type === 'object' && item !== null) {\n\n      Object.keys(item).forEach(function(key) {\n        const value = item[key];\n\n        if (value) {\n          set = add(set, key);\n        }\n      });\n    }\n  });\n\n  return join(set, ' ');\n}","export function inject(component) {\n\n  const Type = component.constructor;\n\n  return injectType(Type, component);\n}\n\n\nexport function injectType(Type, component) {\n\n  const annotation = Type.$inject;\n\n  if (!annotation) {\n    return;\n  }\n\n  const {\n    injector\n  } = component.context;\n\n  const setupFn = [ ...annotation, function(...args) {\n\n    for (const idx in args) {\n      const name = annotation[idx];\n      const value = args[idx];\n\n      component[name] = value;\n    }\n  }];\n\n  injector.invoke(setupFn);\n}","\n/**\n * Composes a number of functions.\n *\n * All receive the the same arguments; the chain is interruped as soon\n * as one function returns a value.\n *\n * @param  {Object}    self\n * @param  {...Function} fns\n *\n * @return {Object}\n */\nexport default function compose(self, ...fns) {\n\n  return function(...args) {\n\n    let result;\n\n    fns.forEach(function(fn) {\n\n      result = fn.call(self, ...args);\n\n      if (typeof result !== 'undefined') {\n        return false;\n      }\n    });\n\n    return result;\n  }.bind(self);\n\n}","import compose from './compose';\n\nimport { injectType } from './inject';\n\n\n/**\n * A Component and injection aware mixin mechanism.\n *\n * @param {Component} component\n * @param {Object|Function} mixinDef\n */\nexport default function mixin(component, mixinDef) {\n\n  Object.keys(mixinDef).forEach(function(key) {\n\n    if (key === '$inject' || key === '__init') {\n      return;\n    }\n\n    const mixinFn = mixinDef[key];\n\n    if (key === 'constructor') {\n      mixinFn.call(component, component.props, component.context);\n    }\n\n    const componentFn = component[key];\n\n    if (typeof componentFn !== 'undefined') {\n      if (typeof componentFn !== 'function') {\n        throw new Error(\n          `failed to mixin <${ key }>: cannot combine with non-fn component value`\n        );\n      }\n\n\n      component[key] = compose(component, componentFn, mixinFn);\n    } else {\n      component[key] = mixinFn.bind(component);\n    }\n  });\n\n  if ('$inject' in mixinDef) {\n    injectType(mixinDef, component);\n  }\n\n  // call initializer\n  if ('__init' in mixinDef) {\n    mixinDef.__init.call(component, component.props, component.context);\n  }\n\n}","export {\n  default as classNames\n} from './classNames';\n\nexport {\n  inject,\n  injectType,\n} from './inject';\n\nexport {\n  default as compose\n} from './compose';\n\nexport {\n  default as mixin\n} from './mixin';","import {\n  classNames\n} from '../utils';\n\n\n/**\n * A mixin to make an element _selection aware_.\n */\nconst SelectionAware = {\n\n  getSelectionClasses() {\n\n    const {\n      selected,\n      selectedSecondary,\n      focussed\n    } = this.state;\n\n    return classNames({\n      'selected': selected,\n      'selected-secondary': selectedSecondary,\n      'focussed': focussed\n    });\n  },\n\n  selectionChanged(newSelection) {\n\n    // newSelection = { selected, selectedSecondary, focussed }\n    this.setState(newSelection);\n  },\n\n  componentWillUpdate(newProps) {\n    if (newProps.elementId !== this.props.elementId) {\n      this.updateSelectionSubscription(false);\n    }\n  },\n\n  componentDidUpdate(oldProps) {\n\n    if (oldProps.elementId !== this.props.elementId) {\n      this.updateSelectionSubscription(true);\n    }\n  },\n\n  componentDidMount() {\n    this.updateSelectionSubscription(true);\n  },\n\n  componentWillUnmount() {\n    this.updateSelectionSubscription(false);\n  },\n\n  updateSelectionSubscription(enable) {\n    const {\n      elementId\n    } = this.props;\n\n    if (!elementId) {\n      return;\n    }\n\n    if (elementId) {\n      this.eventBus[enable ? 'on' : 'off'](\n        `selection.${elementId}.changed`,\n        this.selectionChanged\n      );\n    }\n  },\n\n};\n\nexport default SelectionAware;\n\nSelectionAware.$inject = [ 'eventBus' ];","export { default as SelectionAware } from './SelectionAware';","import { Component } from 'inferno';\n\nimport {\n  classNames,\n  inject,\n  mixin\n} from './utils';\n\nimport {\n  SelectionAware\n} from './mixins';\n\n\nexport default class BaseCell extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    mixin(this, SelectionAware);\n\n    inject(this);\n  }\n\n  getRenderProps(...cls) {\n\n    const {\n      className,\n      elementId,\n      coords,\n      ...props\n    } = this.props;\n\n    const baseProps = {\n      className: classNames(\n        ...cls,\n        this.getSelectionClasses(),\n        className\n      )\n    };\n\n    if (elementId) {\n      baseProps['data-element-id'] = elementId;\n    }\n\n    if (coords) {\n      baseProps['data-coords'] = coords;\n    }\n\n    return {\n      ...baseProps,\n      ...props\n    };\n  }\n\n}","import BaseCell from './BaseCell';\n\n\nexport default class HeaderCell extends BaseCell {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n  }\n\n  render() {\n\n    const {\n      children\n    } = this.props;\n\n    const props = this.getRenderProps('cell');\n\n    return (\n      <td { ...props }>\n        { children }\n      </td>\n    );\n  }\n\n}","import { Component } from 'inferno';\n\n\nexport default class DiContainer extends Component {\n\n  getChildContext() {\n\n    return {\n      injector: this.props.injector\n    };\n\n  }\n\n  render() {\n    return this.props.children;\n  }\n\n}","import BaseCell from './BaseCell';\n\n\nexport default class HeaderCell extends BaseCell {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n  }\n\n  render() {\n\n    const {\n      children\n    } = this.props;\n\n    const props = this.getRenderProps('cell', 'header-cell');\n\n    return (\n      <th { ...props }>\n        { children }\n      </th>\n    );\n  }\n\n}","export { default as Cell } from './Cell';\nexport { default as DiContainer } from './DiContainer';\nexport { default as HeaderCell } from './HeaderCell';\n\nexport * from './mixins';\nexport * from './utils';","\n/**\n * A simple slot extension, built upon the components service.\n *\n * @type {Object}\n */\nconst ComponentWithSlots = {\n\n  slotFill(slotProps, DefaultFill) {\n\n    const {\n      type,\n      context,\n      ...props\n    } = slotProps;\n\n    const Fill = this.components.getComponent(type, context) || DefaultFill;\n\n    if (Fill) {\n      return <Fill { ...context } { ...props } />;\n    }\n\n    return null;\n  },\n\n  slotFills(slotProps) {\n\n    const {\n      type,\n      context,\n      ...props\n    } = slotProps;\n\n    const fills = this.components.getComponents(type, context);\n\n    return fills.map(\n      Fill => <Fill { ...context } { ...props } />\n    );\n  }\n\n};\n\nexport default ComponentWithSlots;\n\nComponentWithSlots.$inject = [ 'components' ];","import { Component } from 'inferno';\n\nimport {\n  inject,\n  mixin\n} from 'table-js/lib/components';\n\nimport {\n  ComponentWithSlots\n} from 'dmn-js-shared/lib/components/mixins';\n\n\nconst MIN_WIDTH = 400;\n\n\nexport default class AnnotationHeader extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    mixin(this, ComponentWithSlots);\n\n    inject(this);\n  }\n\n  componentDidMount() {\n    this.changeSupport.onElementsChanged(this.getRoot(), this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    this.changeSupport.offElementsChanged(this.getRoot(), this.onElementsChanged);\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  getRoot() {\n    return this.sheet.getRoot();\n  }\n\n  render() {\n    const decisionTable = this.getRoot();\n    const annotationsWidth = decisionTable.businessObject.get('annotationsWidth');\n    const width = (annotationsWidth || MIN_WIDTH) + 'px';\n\n    return (\n      <th\n        className=\"annotation header\"\n        style={ { width } }\n      >\n        {\n          this.slotFills({\n            type: 'cell-inner',\n            context: {\n              cellType: 'annotations',\n              col: this.sheet.getRoot(),\n              minWidth: MIN_WIDTH\n            }\n          })\n        }\n\n        { this.translate('Annotations') }\n      </th>\n    );\n  }\n}\n\nAnnotationHeader.$inject = [ 'changeSupport', 'sheet', 'translate' ];\n","import {\n  Cell\n} from 'table-js/lib/components';\n\n\nexport default function AnnotationCell(props) {\n  const { row } = props;\n\n  const {\n    id,\n    description\n  } = row.businessObject;\n\n  return (\n    <Cell className=\"annotation\" elementId={ id }>\n      { description || '-' }\n    </Cell>\n  );\n}","import AnnotationHeader from './components/AnnotationHeader';\nimport AnnotationCell from './components/AnnotationCell';\n\n\nexport default function AnnotationsProvider(components) {\n\n  components.onGetComponent('cell', ({ cellType }) => {\n\n    if (cellType === 'after-label-cells') {\n      return AnnotationHeader;\n    } else if (cellType === 'after-rule-cells') {\n      return AnnotationCell;\n    }\n  });\n}\n\nAnnotationsProvider.$inject = [ 'components' ];\n","import AnnotationsProvider from './AnnotationsProvider';\n\nexport default {\n  __init__: [ 'annotationsProvider' ],\n  annotationsProvider: [ 'type', AnnotationsProvider ]\n};","import { assign } from 'min-dash';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nfunction elementData(semantic, attrs) {\n  return assign({\n    id: semantic.id,\n    type: semantic.$type,\n    businessObject: semantic\n  }, attrs);\n}\n\nexport default class TableImporter {\n\n  constructor(elementFactory, eventBus, sheet) {\n    this._elementFactory = elementFactory;\n    this._eventBus = eventBus;\n    this._sheet = sheet;\n  }\n\n  /**\n   * Add DMN element.\n   */\n  add(semantic) {\n    let element;\n\n    // decision table\n    if (is(semantic, 'dmn:DecisionTable')) {\n      element = this._elementFactory.createRoot(elementData(semantic));\n\n      this._sheet.setRoot(element);\n    }\n\n    // input clause\n    else if (is(semantic, 'dmn:InputClause')) {\n      element = this._elementFactory.createCol(elementData(semantic));\n\n      this._sheet.addCol(element);\n    }\n\n    // output clause\n    else if (is(semantic, 'dmn:OutputClause')) {\n      element = this._elementFactory.createCol(elementData(semantic));\n\n      this._sheet.addCol(element);\n    }\n\n    // rule\n    else if (is(semantic, 'dmn:DecisionRule')) {\n      if (!semantic.inputEntry) {\n        semantic.inputEntry = [];\n      }\n\n      if (!semantic.outputEntry) {\n        semantic.outputEntry = [];\n      }\n\n      const cells = [\n        ...semantic.inputEntry,\n        ...semantic.outputEntry\n      ].map((entry) => {\n        return this._elementFactory.createCell(elementData(entry));\n      });\n\n      element = this._elementFactory.createRow(assign(elementData(semantic), {\n        cells\n      }));\n\n      this._sheet.addRow(element);\n    }\n\n    this._eventBus.fire('dmnElement.added', { element: element });\n\n    return element;\n  }\n}\n\nTableImporter.$inject = [ 'elementFactory', 'eventBus', 'sheet' ];","import {\n  is,\n  getBusinessObject\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { Component } from 'inferno';\n\nimport {\n  mixin\n} from 'table-js/lib/components';\n\nimport {\n  ComponentWithSlots\n} from 'dmn-js-shared/lib/components/mixins';\n\n\nexport default class DecisionTableHead extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    mixin(this, ComponentWithSlots);\n\n    this._sheet = context.injector.get('sheet');\n\n    this._changeSupport = context.changeSupport;\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentWillMount() {\n    const root = this._sheet.getRoot();\n\n    this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const root = this._sheet.getRoot();\n\n    this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  render() {\n    const root = this._sheet.getRoot();\n\n    if (!is(root, 'dmn:DMNElement')) {\n      return null;\n    }\n\n    const businessObject = getBusinessObject(root);\n\n    const inputs = businessObject.input,\n          outputs = businessObject.output;\n\n    return <thead>\n      <tr>\n        <th\n          className=\"index-column\"\n        />\n\n        {\n          this.slotFills({\n            type: 'cell',\n            context: { cellType: 'before-label-cells' }\n          })\n        }\n\n        {\n          inputs && inputs.map((input, index) => {\n            const width = input.width || '192px';\n\n            return this.slotFill({\n              type: 'cell',\n              context: {\n                cellType: 'input-header',\n                input,\n                index,\n                inputsLength: inputs.length,\n                width\n              },\n              key: input.id\n            }, DefaultInputHeaderCell);\n          })\n        }\n        {\n          outputs.map((output, index) => {\n            return this.slotFill({\n              type: 'cell',\n              context: {\n                cellType: 'output-header',\n                output,\n                index,\n                outputsLength: outputs.length\n              },\n              key: output.id\n            }, DefaultOutputHeaderCell);\n          })\n        }\n\n        {\n          this.slotFills({\n            type: 'cell',\n            context: { cellType: 'after-label-cells' }\n          })\n        }\n      </tr>\n    </thead>;\n  }\n}\n\n\n// default components ///////////////////////\n\nfunction DefaultInputHeaderCell(props, context) {\n\n  const {\n    input,\n    className,\n    index\n  } = props;\n\n  const {\n    label,\n    inputExpression,\n    inputValues\n  } = input;\n\n  const translate = context.injector.get('translate');\n\n  const actualClassName = (className || '') + ' input-cell';\n\n  return (\n    <th\n      data-col-id={ input.id }\n      className={ actualClassName }\n      key={ input.id }>\n\n      <div className=\"clause\">\n        { index === 0 ? translate('When') : translate('And') }\n      </div>\n\n      {\n        label ? (\n          <div className=\"input-label\" title={ translate('Input Label') }>\n            { label }\n          </div>\n        ) : (\n          <div\n            className=\"input-expression\"\n            title={ translate('Input Expression') }>\n            { inputExpression.text }\n          </div>\n        )\n      }\n\n      <div\n        className=\"input-variable\"\n        title={\n          inputValues && inputValues.text ? translate('Input Values') :\n            translate('Input Type')\n        }\n      >\n        { inputValues && inputValues.text || inputExpression.typeRef }\n      </div>\n    </th>\n  );\n}\n\n\nfunction DefaultOutputHeaderCell(props, context) {\n\n  const {\n    output,\n    className,\n    index\n  } = props;\n\n  const {\n    label,\n    name,\n    outputValues,\n    typeRef\n  } = output;\n\n  const translate = context.injector.get('translate');\n\n  const actualClassName = (className || '') + ' output-cell';\n\n  return (\n    <th className={ actualClassName } key={ output.id }>\n\n      <div className=\"clause\">\n        { index === 0 ? translate('Then') : translate('And') }\n      </div>\n\n      {\n        label ? (\n          <div className=\"output-label\" title={ translate('Output Label') }>\n            { label }\n          </div>\n        ) : (\n          <div\n            className=\"output-name\"\n            title={ translate('Output Name') }>\n            { name }\n          </div>\n        )\n      }\n\n      <div\n        className=\"output-variable\"\n        title={\n          outputValues && outputValues.text ? translate('Output Values') :\n            translate('Output Type')\n        }\n      >\n        { outputValues && outputValues.text || typeRef }\n      </div>\n    </th>\n  );\n}\n","import DecisionTableHead from './components/DecisionTableHead';\n\nexport default function DecisionTableHeadProvider(components) {\n  components.onGetComponent('table.head', () => DecisionTableHead);\n}\n\nDecisionTableHeadProvider.$inject = [ 'components' ];","import DecisionTableHeadProvider from './DecisionTableHeadProvider';\n\nexport default {\n  __init__: [ 'decisionTableHeadProvider' ],\n  decisionTableHeadProvider: [ 'type', DecisionTableHeadProvider ]\n};","import { Component } from 'inferno';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { inject } from 'table-js/lib/components';\n\nexport default class DecisionTablePropertiesComponent extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n  }\n\n  render() {\n    const root = this.sheet.getRoot();\n\n    if (!is(root, 'dmn:DMNElement')) {\n      return null;\n    }\n\n    const { name } = root.businessObject.$parent;\n\n    const HitPolicy = this.components.getComponent('hit-policy') || NullComponent;\n\n    return (\n      <div className=\"decision-table-properties\">\n        <p className=\"decision-table-name\" title={ 'Decision Name: ' + name }>{ name }</p>\n        <span className=\"decision-table-header-separator\" />\n        <HitPolicy />\n      </div>\n    );\n  }\n}\n\nDecisionTablePropertiesComponent.$inject = [\n  'sheet',\n  'components'\n];\n\nfunction NullComponent() {\n  return null;\n}\n","import Component from './components/DecisionTablePropertiesComponent';\n\nconst LOW_PRIORITY = 500;\n\nexport default class DecisionTableProperties {\n  constructor(components) {\n    components.onGetComponent('table.before', LOW_PRIORITY, () => {\n      return Component;\n    });\n  }\n}\n\nDecisionTableProperties.$inject = [ 'components' ];","import DecisionTableProperties from './DecisionTableProperties';\n\nexport default {\n  __init__: [ 'decisionTableProperties' ],\n  decisionTableProperties: [ 'type', DecisionTableProperties ]\n};","import { Component } from 'inferno';\n\n\nexport default class DecisionRulesIndexCellComponent extends Component {\n  render() {\n    const { row, rowIndex } = this.props;\n\n    const { components } = this.context;\n\n    const innerComponents = components.getComponents(\n      'cell-inner',\n      {\n        cellType: 'rule-index',\n        row,\n        rowIndex\n      }\n    );\n\n    return <td className=\"rule-index\" data-element-id={ row.id } data-row-id={ row.id }>\n      {\n        innerComponents\n          && innerComponents.map(InnerComponent => {\n            return <InnerComponent\n              row={ row }\n              rowIndex={ rowIndex } />;\n          })\n      }\n      { rowIndex + 1 }\n    </td>;\n  }\n}","import DecisionRuleIndexCellComponent\n  from './components/DecisionRuleIndexCellComponent';\n\nexport default class DecisionRuleIndices {\n  constructor(components) {\n    components.onGetComponent('cell', ({ cellType }) => {\n      if (cellType === 'before-rule-cells') {\n        return DecisionRuleIndexCellComponent;\n      }\n    });\n  }\n}\n\nDecisionRuleIndices.$inject = [ 'components' ];","import DecisionRuleIndices from './DecisionRuleIndices';\n\nexport default {\n  __init__: [ 'decisionRuleIndices' ],\n  decisionRuleIndices: [ 'type', DecisionRuleIndices ]\n};","import {\n  assign,\n  find\n} from 'min-dash';\n\n\nconst EXPRESSION_LANGUAGE_OPTIONS = [{\n  label: 'FEEL',\n  value: 'feel'\n}, {\n  label: 'JUEL',\n  value: 'juel'\n}, {\n  label: 'JavaScript',\n  value: 'javascript'\n}, {\n  label: 'Groovy',\n  value: 'groovy'\n}, {\n  label: 'Python',\n  value: 'python'\n}, {\n  label: 'JRuby',\n  value: 'jruby'\n}];\n\n/**\n * @typedef ExpressionLanguageDescriptor\n * @property {string} value - value inserted into XML\n * @property {string} label - human-readable label\n */\n\n/**\n * Provide options and defaults of expression languages via config.\n *\n * @example\n *\n * // there will be two languages available with FEEL as default\n * const editor = new DmnJS({\n *   expressionLanguages: {\n *     options: [{\n *       value: 'feel',\n *       label: 'FEEL'\n *     }, {\n *       value: 'juel',\n *       label: 'JUEL'\n *     }],\n *     defaults: {\n *       editor: 'feel'\n *     }\n *   }\n * })\n */\nexport default class ExpressionLanguages {\n  constructor(injector) {\n    this._injector = injector;\n\n    const config = injector.get('config.expressionLanguages') || {};\n\n    this._config = {\n      options: EXPRESSION_LANGUAGE_OPTIONS,\n      defaults: {\n        editor: 'feel'\n      }\n    };\n\n    // first assign the list of languages as it might be required for the legacy defaults\n    if (config.options) {\n      this._config.options = config.options;\n    }\n\n    const legacyDefaults = this._getLegacyDefaults();\n\n    assign(this._config.defaults, legacyDefaults, config.defaults);\n  }\n\n  /**\n   * Get default expression language for a component or the editor if `componentName`\n   * is not provided.\n   *\n   * @param {string} [componentName]\n   * @returns {ExpressionLanguageDescriptor}\n   */\n  getDefault(componentName) {\n    const { defaults } = this._config;\n    const defaultFromConfig = defaults[componentName] || defaults.editor;\n\n    return this._getLanguageByValue(defaultFromConfig) || this.getAll()[0];\n  }\n\n  /**\n   * Get label for provided expression language.\n   *\n   * @param {string} expressionLanguageValue - value from XML\n   * @returns {string}\n   */\n  getLabel(expressionLanguageValue) {\n    const langauge = this._getLanguageByValue(expressionLanguageValue);\n\n    return langauge ? langauge.label : expressionLanguageValue;\n  }\n\n  /**\n   * Get list of configured expression languages.\n   *\n   * @returns {ExpressionLanguageDescriptor[]}\n   */\n  getAll() {\n    return this._config.options;\n  }\n\n  _getLegacyDefaults() {\n    const defaults = {},\n          injector = this._injector;\n\n    const inputCellValue = injector.get('config.defaultInputExpressionLanguage');\n    const outputCellValue = injector.get('config.defaultOutputExpressionLanguage');\n\n    if (inputCellValue) {\n      defaults.inputCell = inputCellValue;\n    }\n\n    if (outputCellValue) {\n      defaults.outputCell = outputCellValue;\n    }\n\n    return defaults;\n  }\n\n  _getLanguageByValue(value) {\n    return find(this.getAll(), language => value === language.value);\n  }\n}\n\nExpressionLanguages.$inject = [ 'injector' ];\n","import ExpressionLanguages from './ExpressionLanguages';\n\nexport default {\n  __init__: [ 'expressionLanguages' ],\n  expressionLanguages: [ 'type', ExpressionLanguages ]\n};","import { Component } from 'inferno';\n\n\nexport default class DecisionRulesBodyComponent extends Component {\n  render({ rows, cols }) {\n    const { components } = this.context;\n\n    return (\n      <tbody>\n        {\n          rows.map((row, rowIndex) => {\n            const RowComponent = components.getComponent('row', { rowType: 'rule' });\n\n            return (\n              RowComponent &&\n              <RowComponent\n                key={ row.id }\n                row={ row }\n                rowIndex={ rowIndex }\n                cols={ cols } />\n            );\n          })\n        }\n      </tbody>\n    );\n  }\n}","import { Component } from 'inferno';\n\nimport {\n  mixin\n} from 'table-js/lib/components';\n\nimport {\n  ComponentWithSlots\n} from 'dmn-js-shared/lib/components/mixins';\n\n\nexport default class DecisionRulesRowComponent extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    mixin(this, ComponentWithSlots);\n  }\n\n  render() {\n\n    const {\n      row,\n      rowIndex,\n      cols\n    } = this.props;\n\n    const {\n      cells\n    } = row;\n\n    return (\n      <tr>\n        {\n          this.slotFills({\n            type: 'cell',\n            context: {\n              cellType: 'before-rule-cells',\n              row,\n              rowIndex\n            }\n          })\n        }\n        {\n          cells.map((cell, colIndex) => {\n            return this.slotFill({\n              type: 'cell',\n              context: {\n                cellType: 'rule',\n                cell,\n                rowIndex: rowIndex,\n                colIndex: colIndex\n              },\n              key: cell.id,\n              row,\n              col: cols[colIndex]\n            });\n          })\n        }\n        {\n          this.slotFills({\n            type: 'cell',\n            context: {\n              cellType: 'after-rule-cells',\n              row,\n              rowIndex\n            }\n          })\n        }\n      </tr>\n    );\n  }\n}","import { Component } from 'inferno';\n\nimport { Cell } from 'table-js/lib/components';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default class DecisionRulesCellComponent extends Component {\n  render() {\n    const { cell, row, col } = this.props;\n\n    if (is(cell, 'dmn:UnaryTests')) {\n      return (\n        <Cell\n          className=\"input-cell\"\n          elementId={ cell.id }\n          data-row-id={ row.id }\n          data-col-id={ col.id }>\n          { cell.businessObject.text }\n        </Cell>\n      );\n    } else {\n      return (\n        <Cell\n          className=\"output-cell\"\n          elementId={ cell.id }\n          data-row-id={ row.id }\n          data-col-id={ col.id }>\n          { cell.businessObject.text }\n        </Cell>\n      );\n    }\n  }\n}","import DecisionRulesBodyComponent from './components/DecisionRulesBodyComponent';\nimport DecisionRulesRowComponent from './components/DecisionRulesRowComponent';\nimport DecisionRulesCellComponent from './components/DecisionRulesCellComponent';\n\n\nexport default class Rules {\n\n  constructor(components) {\n    components.onGetComponent('table.body', () => DecisionRulesBodyComponent);\n\n    components.onGetComponent('row', ({ rowType }) => {\n      if (rowType === 'rule') {\n        return DecisionRulesRowComponent;\n      }\n    });\n\n    components.onGetComponent('cell', ({ cellType }) => {\n      if (cellType === 'rule') {\n        return DecisionRulesCellComponent;\n      }\n    });\n  }\n\n}\n\nRules.$inject = [ 'components' ];","import ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\n\nimport DecisionRules from './DecisionRules';\n\nexport default {\n  __depends__: [\n    ExpressionLanguagesModule\n  ],\n  __init__: [ 'decisionRules' ],\n  decisionRules: [ 'type', DecisionRules ]\n};","/* eslint max-len: 0 */\nexport const HIT_POLICIES = [\n  {\n    label: 'Unique',\n    value: {\n      hitPolicy: 'UNIQUE',\n      aggregation: undefined\n    },\n    explanation: 'No overlap is possible and all rules are disjoint. Only a single rule can be matched'\n  },\n  {\n    label: 'First',\n    value: {\n      hitPolicy: 'FIRST',\n      aggregation: undefined\n    },\n    explanation: 'Rules may overlap. The first matching rule will be chosen'\n  },\n  {\n    label: 'Priority',\n    value: {\n      hitPolicy: 'PRIORITY',\n      aggregation: undefined\n    },\n    explanation: 'Rules may overlap. The one with the highest priority will be chosen'\n  },\n  {\n    label: 'Any',\n    value: {\n      hitPolicy: 'ANY',\n      aggregation: undefined\n    },\n    explanation: 'Rules may overlap. Their output have to match'\n  },\n  {\n    label: 'Collect',\n    value: {\n      hitPolicy: 'COLLECT',\n      aggregation: undefined\n    },\n    explanation: 'Collects the values of all matching rules'\n  },\n  {\n    label: 'Collect (Sum)',\n    value: {\n      hitPolicy: 'COLLECT',\n      aggregation: 'SUM'\n    },\n    explanation: 'Collects the values of all matching rules and sums up to a single value'\n  },\n  {\n    label: 'Collect (Min)',\n    value: {\n      hitPolicy: 'COLLECT',\n      aggregation: 'MIN'\n    },\n    explanation: 'Collects the values of all matching rules and uses the lowest value'\n  },\n  {\n    label: 'Collect (Max)',\n    value: {\n      hitPolicy: 'COLLECT',\n      aggregation: 'MAX'\n    },\n    explanation: 'Collects the values of all matching rules and uses the highest value'\n  },\n  {\n    label: 'Collect (Count)',\n    value: {\n      hitPolicy: 'COLLECT',\n      aggregation: 'COUNT'\n    },\n    explanation: 'Collects the values of all matching rules and counts the number of them'\n  },\n  {\n    label: 'Rule order',\n    value: {\n      hitPolicy: 'RULE ORDER',\n      aggregation: undefined\n    },\n    explanation: 'Collects the values of all matching rules in rule order'\n  },\n  {\n    label: 'Output order',\n    value: {\n      hitPolicy: 'OUTPUT ORDER',\n      aggregation: undefined\n    },\n    explanation: 'Collects the values of all matching rules in decreasing output priority order'\n  }\n];\n","import { Component } from 'inferno';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\nimport { HIT_POLICIES } from './../HitPolicies';\n\nimport { find } from 'min-dash';\n\n\nexport default class HitPolicy extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n  }\n\n  getRoot() {\n    return this.sheet.getRoot();\n  }\n\n  render() {\n    const root = this.getRoot(),\n          businessObject = root.businessObject;\n\n    const { aggregation, hitPolicy } = businessObject;\n\n    const hitPolicyEntry = find(HIT_POLICIES, entry => {\n      return isEqualHitPolicy(entry.value, { aggregation, hitPolicy });\n    });\n\n    return (\n      <span\n        className=\"hit-policy header\"\n        title={ hitPolicyEntry.explanation }\n      >\n        <label className=\"dms-label\">\n          Hit Policy:\n        </label>\n        <span className=\"hit-policy-value\">\n          { hitPolicyEntry.label}\n        </span>\n      </span>\n    );\n  }\n}\n\nHitPolicy.$inject = [\n  'sheet'\n];\n\n\n// helpers //////////////////////\nfunction isEqualHitPolicy(a, b) {\n  return a.hitPolicy === b.hitPolicy && a.aggregation === b.aggregation;\n}\n","import HitPolicy from './components/HitPolicy';\n\nexport default function HitPolicyProvider(components) {\n  components.onGetComponent('hit-policy', () => {\n    return HitPolicy;\n  });\n}\n\nHitPolicyProvider.$inject = [ 'components' ];","import HitPolicyProvider from './HitPolicyProvider';\n\nexport default {\n  __init__: [ 'hitPolicyProvider' ],\n  hitPolicyProvider: [ 'type', HitPolicyProvider ]\n};","import { Component } from 'inferno';\r\n\r\n\r\nexport default class ViewDrdComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { injector } = context;\r\n\r\n    this._eventBus = injector.get('eventBus');\r\n  }\r\n\r\n  onClick = () => {\r\n    this._eventBus.fire('showDrd');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"view-drd\"\r\n        ref={ node => this.node = node }>\r\n        <button\r\n          onClick={ this.onClick }\r\n          className=\"view-drd-button\">View DRD</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import ViewDrdComponent from './components/ViewDrdComponent';\r\n\r\nexport default class ViewDrd {\r\n  constructor(components, eventBus, injector, sheet) {\r\n    this._injector = injector;\r\n    this._sheet = sheet;\r\n\r\n    components.onGetComponent('table.before', () => {\r\n      if (this.canViewDrd()) {\r\n        return ViewDrdComponent;\r\n      }\r\n    });\r\n\r\n    eventBus.on('showDrd', () => {\r\n      const parent = injector.get('_parent', false);\r\n\r\n      const root = sheet.getRoot();\r\n\r\n      const definitions = getDefinitions(root);\r\n\r\n      if (!definitions) {\r\n        return;\r\n      }\r\n\r\n      // open definitions\r\n      const view = parent.getView(definitions);\r\n\r\n      parent.open(view);\r\n    });\r\n  }\r\n\r\n  canViewDrd() {\r\n    const parent = this._injector.get('_parent', false);\r\n\r\n    if (!parent) {\r\n      return false;\r\n    }\r\n\r\n    const root = this._sheet.getRoot();\r\n\r\n    const definitions = getDefinitions(root);\r\n\r\n    return !!parent.getView(definitions);\r\n  }\r\n}\r\n\r\nViewDrd.$inject = [ 'components', 'eventBus', 'injector', 'sheet' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getDefinitions(root) {\r\n  const { businessObject } = root;\r\n\r\n  // root might not have business object\r\n  if (!businessObject) {\r\n    return;\r\n  }\r\n\r\n  const decision = businessObject.$parent;\r\n\r\n  const definitions = decision.$parent;\r\n\r\n  return definitions;\r\n}","import ViewDrd from './ViewDrd';\r\n\r\nexport default {\r\n  __init__: [ 'viewDrd' ],\r\n  viewDrd: [ 'type', ViewDrd ]\r\n};","export default function Logo() {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      viewBox='0 0 14.02 5.57'\r\n      width='53'\r\n      height='21'\r\n      style='vertical-align:middle'>\r\n      <path\r\n        fill='currentColor'\r\n        // eslint-disable-next-line\r\n        d='M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z' />\r\n      <path\r\n        fill='currentColor'\r\n        d='M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z' />\r\n    </svg>\r\n  );\r\n}","import { Component } from 'inferno';\r\n\r\nimport Logo from 'dmn-js-shared/lib/components/Logo';\r\n\r\nexport default class PoweredByLogoComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { injector } = context;\r\n\r\n    this._eventBus = injector.get('eventBus');\r\n  }\r\n\r\n  onClick = () => {\r\n    this._eventBus.fire('poweredBy.show');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='powered-by'>\r\n        <div\r\n          className='powered-by__logo'\r\n          title='Powered by bpmn.io'\r\n          onClick={ this.onClick }\r\n          ref={ node => this.node = node }\r\n        >\r\n          <Logo />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import { Component } from 'inferno';\r\n\r\nimport Logo from 'dmn-js-shared/lib/components/Logo';\r\n\r\n\r\nexport default class PoweredByOverlayComponent extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      show: false\r\n    };\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n    this.onShow = this.onShow.bind(this);\r\n  }\r\n\r\n  onClick() {\r\n    this.setState({\r\n      show: false\r\n    });\r\n  }\r\n\r\n  onShow() {\r\n    this.setState({\r\n      show: true\r\n    });\r\n  }\r\n\r\n  componentWillMount() {\r\n    const eventBus = this._eventBus = this.context.injector.get('eventBus');\r\n\r\n    eventBus.on('poweredBy.show', this.onShow);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._eventBus.off('poweredBy.show', this.onShow);\r\n  }\r\n\r\n  render() {\r\n    const { show } = this.state;\r\n\r\n    return (\r\n      show && <div\r\n        onClick={ this.onClick }\r\n        className=\"powered-by-overlay\">\r\n        <div\r\n          className=\"powered-by-overlay-content\"\r\n          onClick={ e => e.stopPropagation() }>\r\n          <a className=\"logo\" href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\">\r\n            <Logo />\r\n          </a>\r\n          <span>\r\n            Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a\r\n              href=\"http://bpmn.io\"\r\n              target=\"_blank\">bpmn.io</a>.\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import PoweredByLogoComponent from './components/PoweredByLogoComponent';\r\nimport PoweredByOverlayComponent from './components/PoweredByOverlayComponent';\r\n\r\nexport default class PoweredBy {\r\n  constructor(components, eventBus) {\r\n    components.onGetComponent('table.before', () => {\r\n      return PoweredByLogoComponent;\r\n    });\r\n\r\n    components.onGetComponent('table.before', () => {\r\n      return PoweredByOverlayComponent;\r\n    });\r\n  }\r\n}\r\n\r\nPoweredBy.$inject = [ 'components', 'eventBus' ];","import PoweredBy from './PoweredBy';\r\n\r\nexport default {\r\n  __init__: [ 'poweredBy' ],\r\n  poweredBy: [ 'type', PoweredBy ]\r\n};","import { Component } from 'inferno';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\nexport default class AddRuleFootComponent extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n\n    this.addRule = this.addRule.bind(this);\n  }\n\n  componentWillMount() {\n    this._eventBus = this.context.injector.get('eventBus');\n  }\n\n  handleClick = (e) => {\n    e.stopPropagation();\n\n    this.addRule();\n  }\n\n  addRule() {\n    this._eventBus.fire('addRule');\n  }\n\n  render() {\n    const { cols } = this.props;\n\n    const cells = [\n      <td className=\"add-rule-add\">\n        <span className=\"dmn-icon-plus action-icon\" title=\"Add Rule\"></span>\n      </td>\n    ];\n\n    const { businessObject } = this.sheet.getRoot();\n\n    if (!businessObject.input || !businessObject.input.length) {\n      cells.push(<td className=\"input-cell\">-</td>);\n    }\n\n    for (let i = 0; i < cols.length + 1; i++) {\n      let className = 'add-rule';\n\n      const businessObject = cols[i] && cols[i].businessObject;\n\n      let placeholder = '';\n\n      if (businessObject) {\n        if (businessObject.$instanceOf('dmn:InputClause')) {\n          className += ' input-cell';\n          placeholder = '-';\n        }\n\n        if (businessObject.$instanceOf('dmn:OutputClause')) {\n          className += ' output-cell';\n        }\n      } else {\n        className += ' annotation';\n      }\n\n      cells.push(<td className={ className }>{placeholder}</td>);\n    }\n\n    return (\n      <tfoot\n        className=\"actionable add-rule\"\n        onClick={ this.handleClick }>\n        <tr>\n          { cells }\n        </tr>\n      </tfoot>\n    );\n  }\n}\n\nAddRuleFootComponent.$inject = [ 'sheet' ];\n","import AddRuleFootComponent from './components/AddRuleFootComponent';\n\nexport default class AddRule {\n  constructor(components, editorActions, eventBus) {\n    components.onGetComponent('table.foot', () => AddRuleFootComponent);\n\n    eventBus.on('addRule', () => {\n      editorActions.trigger('addRule');\n    });\n  }\n}\n\nAddRule.$inject = [ 'components', 'editorActions', 'eventBus' ];","import { isString } from 'min-dash';\n\n\n/**\n * Allows selecting a table cell. Selected cell will be highlighted.\n */\nexport default class Selection {\n\n  constructor(elementRegistry, eventBus, renderer) {\n    this._elementRegistry = elementRegistry;\n    this._eventBus = eventBus;\n    this._renderer = renderer;\n\n    this._selection = undefined;\n\n    eventBus.on('diagram.clear', () => {\n      this._selection = undefined;\n    });\n  }\n\n  /**\n   * Select a table cell.\n   *\n   * @param {Object|String} element - Element or element ID.\n   */\n  select(element) {\n\n    if (isString(element)) {\n      element = this._elementRegistry.get(element);\n    }\n\n    const oldSelection = this._selection;\n\n    // don't re-select already selected *Ggg*\n    if (oldSelection === element) {\n      return;\n    }\n\n    this._selection = element;\n\n    this._eventBus.fire('selection.changed', {\n      oldSelection,\n      selection: element\n    });\n  }\n\n  /**\n   * Deselect a table cell.\n   */\n  deselect() {\n\n    const oldSelection = this._selection;\n\n    this._selection = undefined;\n\n    this._eventBus.fire('selection.changed', {\n      oldSelection,\n      selection: this._selection\n    });\n\n  }\n\n  /**\n   * Get the selected cell.\n   */\n  get() {\n    return this._selection;\n  }\n\n  /**\n   * Check if a cell is selected.\n   */\n  hasSelection() {\n    return !!this._selection;\n  }\n}\n\nSelection.$inject = [\n  'elementRegistry',\n  'eventBus',\n  'renderer'\n];","/**\r\n * Selects table cells on on left & right click.\r\n */\r\nexport default class SelectionBehavior {\r\n\r\n  constructor(elementRegistry, eventBus, renderer, selection) {\r\n    this._elementRegistry = elementRegistry;\r\n    this._renderer = renderer;\r\n    this._selection = selection;\r\n\r\n    eventBus.on([ 'cell.click', 'cell.contextmenu'], ({ id }) => {\r\n      const element = elementRegistry.get(id);\r\n\r\n      if (!element) {\r\n        return;\r\n      }\r\n\r\n      selection.select(element);\r\n    });\r\n\r\n    eventBus.on('row.remove', ({ row }) => {\r\n      const currentSelection = selection.get();\r\n\r\n      if (!currentSelection) {\r\n        return;\r\n      }\r\n\r\n      if (row === currentSelection.row) {\r\n        selection.deselect();\r\n      }\r\n    });\r\n\r\n    eventBus.on('col.remove', ({ col }) => {\r\n      const currentSelection = selection.get();\r\n\r\n      if (!currentSelection) {\r\n        return;\r\n      }\r\n\r\n      if (col === currentSelection.col) {\r\n        selection.deselect();\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\r\nSelectionBehavior.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'renderer',\r\n  'selection'\r\n];","import Selection from './Selection';\nimport SelectionBehavior from './SelectionBehavior';\n\nexport default {\n  __init__: [ 'selection', 'selectionBehavior' ],\n  selection: [ 'type', Selection ],\n  selectionBehavior: [ 'type', SelectionBehavior ]\n};","import {\n  closest as domClosest\n} from 'min-dom';\n\nconst EVENTS = [\n  'click',\n  'dblclick',\n  'contextmenu',\n  'mousedown',\n  'mouseup',\n  'mouseenter',\n  'mouseleave',\n  'mouseout',\n  'mouseover',\n  'mousemove',\n  'focusin',\n  'focusout',\n  'drag',\n  'dragstart',\n  'dragend',\n  'dragover',\n  'dragenter',\n  'dragleave',\n  'drop'\n];\n\n\n/**\n * Provides interaction events on the table.\n *\n * @param {RenderConfig} config\n * @param {EventBus} eventBus\n */\nexport default class InteractionEvents {\n\n  constructor(config, eventBus) {\n    this._eventBus = eventBus;\n    this._container = config.container;\n\n    eventBus.on('table.init', () => {\n      this._addEventListeners(EVENTS);\n    });\n\n    eventBus.on('table.destroy', () => {\n      this._removeEventListeners(EVENTS);\n    });\n  }\n\n  _addEventListeners(events) {\n    const container = this._container;\n\n    events.forEach(event => {\n      container.addEventListener(event, this._handleEvent);\n    });\n  }\n\n  _removeEventListeners(events) {\n    const container = this._container;\n\n    events.forEach(event => {\n      container.removeEventListener(event, this._handleEvent);\n    });\n  }\n\n  _handleEvent = (event) => {\n    const { target, type } = event;\n\n    const node = findClosestCell(target);\n\n    if (!node) {\n      return;\n    }\n\n    const elementId = node.getAttribute('data-element-id');\n\n    if (elementId) {\n      const e = this._eventBus.createEvent({\n        id: elementId,\n        event,\n        node,\n        target: node\n      });\n\n      this._eventBus.fire(`cell.${type}`, e);\n\n      if (e.defaultPrevented) {\n        event.preventDefault();\n      }\n\n      if (e.cancelBubble) {\n        event.stopPropagation();\n      }\n    }\n  }\n}\n\nInteractionEvents.$inject = [\n  'config.renderer',\n  'eventBus'\n];\n\n// helpers /////////////\n\nfunction findClosestCell(element) {\n  return domClosest(element, '[data-element-id]', true);\n}","import InteractionEvents from './InteractionEvents';\n\nexport default {\n  __init__: [ 'interactionEvents' ],\n  interactionEvents: [ 'type', InteractionEvents ]\n};","/**\n * Expose `xor`\n */\n\nvar componentXor = xor;\n\n/**\n * XOR utility\n *\n * T T F\n * T F T\n * F T T\n * F F F\n *\n * @param {Boolean} a\n * @param {Boolean} b\n * @return {Boolean}\n */\n\nfunction xor(a, b) {\n  return a ^ b;\n}\n\n/**\n * Global Names\n */\n\nvar globals = /\\b(Array|Date|Object|Math|JSON)\\b/g;\n\n/**\n * Return immediate identifiers parsed from `str`.\n *\n * @param {String} str\n * @param {String|Function} map function or prefix\n * @return {Array}\n * @api public\n */\n\nvar componentProps = function(str, fn){\n  var p = unique(props(str));\n  if (fn && 'string' == typeof fn) fn = prefixed(fn);\n  if (fn) return map(str, p, fn);\n  return p;\n};\n\n/**\n * Return immediate identifiers in `str`.\n *\n * @param {String} str\n * @return {Array}\n * @api private\n */\n\nfunction props(str) {\n  return str\n    .replace(/\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\//g, '')\n    .replace(globals, '')\n    .match(/[a-zA-Z_]\\w*/g)\n    || [];\n}\n\n/**\n * Return `str` with `props` mapped with `fn`.\n *\n * @param {String} str\n * @param {Array} props\n * @param {Function} fn\n * @return {String}\n * @api private\n */\n\nfunction map(str, props, fn) {\n  var re = /\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\/|[a-zA-Z_]\\w*/g;\n  return str.replace(re, function(_){\n    if ('(' == _[_.length - 1]) return fn(_);\n    if (!~props.indexOf(_)) return _;\n    return fn(_);\n  });\n}\n\n/**\n * Return unique array.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nfunction unique(arr) {\n  var ret = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    if (~ret.indexOf(arr[i])) continue;\n    ret.push(arr[i]);\n  }\n\n  return ret;\n}\n\n/**\n * Map with prefix `str`.\n */\n\nfunction prefixed(str) {\n  return function(_){\n    return str + _;\n  };\n}\n\n/**\n * Module Dependencies\n */\n\n\n\n\n\n/**\n * Export `Iterator`\n */\n\nvar domIterator = Iterator;\n\n/**\n * Initialize `Iterator`\n *\n * @param {Node} node\n * @param {Node} root\n * @return {Iterator} self\n * @api public\n */\n\nfunction Iterator(node, root) {\n  if (!(this instanceof Iterator)) return new Iterator(node, root);\n  this.node = this.start = this.peeked = node;\n  this.root = root;\n  this.closingTag = false;\n  this._revisit = true;\n  this._selects = [];\n  this._rejects = [];\n\n  if (node && this.higher(node)) {\n    throw new Error('root must be a parent or ancestor to node');\n  }\n}\n\n/**\n * Reset the Iterator\n *\n * @param {Node} node (optional)\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.reset = function(node) {\n  this.node = node || this.start;\n  return this;\n};\n\n/**\n * Revisit element nodes. Defaults to `true`\n */\n\nIterator.prototype.revisit = function(revisit) {\n  this._revisit = undefined == revisit ? true : revisit;\n  return this;\n};\n\n/**\n * Jump to the opening tag\n */\n\nIterator.prototype.opening = function() {\n  if (1 == this.node.nodeType) this.closingTag = false;\n  return this;\n};\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.atOpening = function() {\n  return !this.closingTag;\n};\n\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.closing = function() {\n  if (1 == this.node.nodeType) this.closingTag = true;\n  return this;\n};\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.atClosing = function() {\n  return this.closingTag;\n};\n\n/**\n * Next node\n *\n * @param {Number} type\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.next = traverse('nextSibling', 'firstChild');\n\n/**\n * Previous node\n *\n * @param {Number} type\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.previous =\nIterator.prototype.prev = traverse('previousSibling', 'lastChild');\n\n/**\n * Make traverse function\n *\n * @param {String} dir\n * @param {String} child\n * @return {Function}\n * @api private\n */\n\nfunction traverse(dir, child) {\n  var next = dir == 'nextSibling';\n  return function walk(expr, n, peek) {\n    expr = this.compile(expr);\n    n = n && n > 0 ? n : 1;\n    var node = this.node;\n    var closing = this.closingTag;\n    var revisit = this._revisit;\n\n    while (node) {\n      if (componentXor(next, closing) && node[child]) {\n        // element with children: <em>...</em>\n        node = node[child];\n        closing = !next;\n      } else if (1 == node.nodeType && !node[child] && componentXor(next, closing)) {\n        // empty element tag: <em></em>\n        closing = next;\n        if (!revisit) continue;\n      } else if (node[dir]) {\n        // element has a neighbor: ...<em></em>...\n        node = node[dir];\n        closing = !next;\n      } else {\n        // done with current layer, move up.\n        node = node.parentNode;\n        closing = next;\n        if (!revisit) continue;\n      }\n\n      if (!node || this.higher(node, this.root)) break;\n\n      if (expr(node) && this.selects(node, peek) && this.rejects(node, peek)) {\n        if (--n) continue;\n        if (!peek) this.node = node;\n        this.closingTag = closing;\n        return node;\n      }\n    }\n\n    return null;\n  };\n}\n\n/**\n * Select nodes that cause `expr(node)`\n * to be truthy\n *\n * @param {Number|String|Function} expr\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.select = function(expr) {\n  expr = this.compile(expr);\n  this._selects.push(expr);\n  return this;\n};\n\n/**\n * Run through the selects ORing each\n *\n * @param {Node} node\n * @param {Boolean} peek\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.selects = function(node, peek) {\n  var exprs = this._selects;\n  var len = exprs.length;\n  if (!len) return true;\n\n  for (var i = 0; i < len; i++) {\n    if (exprs[i].call(this, node, peek)) return true;\n  }\n  return false;\n};\n\n/**\n * Select nodes that cause `expr(node)`\n * to be falsy\n *\n * @param {Number|String|Function} expr\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.reject = function(expr) {\n  expr = this.compile(expr);\n  this._rejects.push(expr);\n  return this;\n};\n\n/**\n * Run through the reject expressions ANDing each\n *\n * @param {Node} node\n * @param {Boolean} peek\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.rejects = function(node, peek) {\n  var exprs = this._rejects;\n  var len = exprs.length;\n  if (!len) return true;\n\n  for (var i = 0; i < len; i++) {\n    if (exprs[i].call(this, node, peek)) return false;\n  }\n  return true;\n};\n\n/**\n * Check if node is higher\n * than root.\n *\n * @param {Node} node\n * @param {Node} root\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.higher = function(node) {\n  var root = this.root;\n  if (!root) return false;\n  node = node.parentNode;\n  while (node && node != root) node = node.parentNode;\n  return node != root;\n};\n\n/**\n * Compile an expression\n *\n * @param {String|Function|Number} expr\n * @return {Function}\n */\n\nIterator.prototype.compile = function(expr) {\n  switch (typeof expr) {\n    case 'number':\n      return function(node) { return expr == node.nodeType; };\n    case 'string':\n      return new Function('node', 'return ' + componentProps(expr, 'node.'));\n    case 'function':\n      return expr;\n    default:\n      return function() { return true; };\n  }\n};\n\n/**\n * Peek in either direction\n * `n` nodes. Peek backwards\n * using negative numbers.\n *\n * @param {Number} n (optional)\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.peak =\nIterator.prototype.peek = function(expr, n) {\n  if (arguments.length == 1) n = expr, expr = true;\n  n = undefined == n ? 1 : n;\n  if (!n) return this.node;\n  else if (n > 0) return this.next(expr, n, true);\n  else return this.prev(expr, Math.abs(n), true);\n};\n\n/**\n * Add a plugin\n *\n * @param {Function} fn\n * @return {Iterator}\n * @api public\n */\n\nIterator.prototype.use = function(fn) {\n  fn(this);\n  return this;\n};\n\nvar selection = window.getSelection();\n\n\n/**\n * Add selection / insert cursor.\n *\n * @param {Range} range\n */\nfunction applyRange(range) {\n  selection.removeAllRanges();\n  selection.addRange(range);\n}\n\n\n/**\n * Get current document selection.\n *\n * @return {Selection}\n */\nfunction getWindowSelection() {\n  return selection;\n}\n\n\n/**\n * Return true if element is part of window selection.\n *\n * @param  {Element}  el\n * @return {Boolean}\n */\nfunction isSelected(el) {\n\n  if (!selection.rangeCount) {\n    return null;\n  }\n\n  var focusNode = selection.focusNode;\n\n  // IE supports Node#contains for elements only\n  // thus we ensure we check against an actual Element node\n  if (isText(focusNode)) {\n    focusNode = focusNode.parentNode;\n  }\n\n  return el == focusNode || el.contains(focusNode);\n}\n\n\n/**\n * Set cursor or selection position.\n *\n * @param {Element} el\n * @param {SelectionRange} selection\n */\nfunction setRange(el, selection) {\n\n  var range = createRange(el, selection);\n\n  applyRange(range);\n}\n\n\n/**\n * Get cursor or selection position.\n *\n * @param {Element} el\n */\nfunction getRange(el) {\n\n  if (!isSelected(el)) {\n    return null;\n  }\n\n  var range = selection.getRangeAt(0);\n\n  var startContainer = range.startContainer;\n  var endContainer = range.endContainer;\n  var startOffset = range.startOffset;\n  var endOffset = range.endOffset;\n\n  var i = domIterator(el.firstChild, el);\n\n  var next = i.node;\n  var last;\n\n  var isClosing = false;\n\n  var selectionStart;\n  var count = 0;\n\n  function isBeforeEnd(node, referenceNode) {\n\n    if (arguments.length === 1) {\n      referenceNode = node;\n    }\n\n    return (\n      node.parentNode === endContainer &&\n      referenceNode == endContainer.childNodes[endOffset]\n    );\n\n  }\n\n  function isBeforeStart(node, referenceNode) {\n\n    if (arguments.length === 1) {\n      referenceNode = node;\n    }\n\n    return (\n      node.parentNode === startContainer &&\n      referenceNode == startContainer.childNodes[startOffset]\n    );\n\n  }\n\n  while (next) {\n\n    // start before node\n    if (isBeforeStart(next)) {\n      selectionStart = count;\n    }\n\n    // end before node\n    if (isBeforeEnd(next)) {\n      break;\n    }\n\n    if (!isClosing) {\n      if (\n        isBr(next) || (\n          last && (last.nextSibling == next) && (\n            isDiv(next) ||\n            isParagraph(next)\n          )\n        )\n      ) {\n        count++;\n      }\n    }\n\n\n    if (isText(next)) {\n\n      // #text node\n      if (startContainer === next) {\n        selectionStart = count + startOffset;\n      }\n\n      if (endContainer === next) {\n        count += endOffset;\n        break;\n      }\n\n      count += next.textContent.length;\n    }\n\n    if (isText(next) || isClosing) {\n\n      // start before node\n      if (isBeforeStart(next, next.nextSibling)) {\n        selectionStart = count;\n      }\n\n      // end before node\n      if (isBeforeEnd(next, next.nextSibling)) {\n        break;\n      }\n\n    }\n\n    last = next;\n    next = i.next();\n    isClosing = i.closingTag;\n  }\n\n  // selection until end of text\n  return {\n    start: typeof selectionStart === 'undefined' ? count : selectionStart,\n    end: count\n  };\n}\n\n\n/**\n * Annotate the given text with markers based on the\n * given range.\n *\n * @param {String} text\n * @param {SelectionRange} range\n *\n * @return {String} annotated text\n */\nfunction annotateRange(text, range) {\n  var str;\n\n  if (range.start === range.end) {\n    str = (\n      text.substring(0, range.start) +\n      '|' +\n      text.substring(range.start)\n    );\n  } else {\n    str = (\n      text.substring(0, range.start) +\n      '<' +\n      text.substring(range.start, range.end) +\n      '>' +\n      text.substring(range.end)\n    );\n  }\n\n  return str;\n}\n\n\n// helpers ///////////////////////////\n\nfunction createRange(el, selection) {\n\n  var start = selection.start;\n  var end = selection.end;\n\n  var range = document.createRange();\n\n  var i = domIterator(el.firstChild, el);\n\n  var next = i.node;\n  var isClosing = false;\n\n  var count = 0;\n  var length;\n\n  while (next) {\n\n    if (count === start) {\n      if (isClosing) {\n        range.setStartAfter(next);\n      } else {\n        range.setStartBefore(next);\n      }\n    }\n\n    if (count === end) {\n      if (isClosing) {\n        range.setEndAfter(next);\n      } else {\n        range.setEndBefore(next);\n      }\n\n      return range;\n    }\n\n    if (!isClosing) {\n      if (\n        isBr(next) || (\n          next.previousSibling && (\n            isDiv(next) ||\n            isParagraph(next)\n          )\n        )\n      ) {\n        count++;\n      }\n    }\n\n    if (isText(next)) {\n\n      length = next.textContent.length;\n\n      if (count <= start && count + length > start) {\n        range.setStart(next, start - count);\n      }\n\n      if (count + length > end) {\n        range.setEnd(next, end - count);\n\n        return range;\n      }\n\n      count += length;\n    }\n\n    next = i.next();\n    isClosing = i.closingTag;\n  }\n\n  // out of range\n  if (count <= start) {\n    if (el.lastChild) {\n      range.setStartAfter(el.lastChild);\n    } else {\n      range.setStart(el, 0);\n    }\n  }\n\n  if (el.lastChild) {\n    range.setEndAfter(el.lastChild);\n  } else {\n    range.setEnd(el, 0);\n  }\n\n  return range;\n}\n\nfunction isText(node) {\n  return node.nodeType === 3;\n}\n\nfunction isBr(node) {\n  return (\n    node.nodeType === 1 &&\n    node.nodeName === 'BR'\n  );\n}\n\nfunction isDiv(node) {\n  return (\n    node.nodeType === 1 &&\n    node.nodeName === 'DIV'\n  );\n}\n\nfunction isParagraph(node) {\n  return (\n    node.nodeType === 1 &&\n    node.nodeName === 'P'\n  );\n}\n\nexport { applyRange, getWindowSelection, isSelected, setRange, getRange, annotateRange };\n","import {\n  closest,\n  matches,\n  query\n} from 'min-dom';\n\nimport cssEscape from 'css.escape';\n\nimport {\n  setRange,\n  getRange\n} from 'selection-ranges';\n\nexport const SELECTABLE_SELECTOR = '[contenteditable]';\n\nexport const ELEMENT_SELECTOR = '[data-element-id]';\n\n\nexport function getElementId(node) {\n  return node.getAttribute('data-element-id');\n}\n\nexport function getElementCoords(node) {\n  const coordsAttr = node.getAttribute('data-coords');\n\n  if (!coordsAttr) {\n    return null;\n  }\n\n  const [ row, col ] = coordsAttr.split(':');\n\n  return {\n    row,\n    col\n  };\n}\n\nexport function getNodeByCoords(elementCoords, container) {\n  const coordsAttr = `${elementCoords.row}:${elementCoords.col}`;\n\n  return query(`[data-coords=\"${ cssEscape(coordsAttr) }\"]`, container);\n}\n\nexport function getNodeById(elementId, container) {\n  return query(`[data-element-id=\"${ cssEscape(elementId) }\"]`, container);\n}\n\nexport function isUnselectableNode(node) {\n  return closest(node, '.no-deselect', true);\n}\n\n/**\n * Find semantically _selectable_ element in the nodes ancestors.\n *\n * @param {Element} node\n *\n * @return {Element} node\n */\nexport function findSelectableAncestor(node) {\n  return closest(node, ELEMENT_SELECTOR, true);\n}\n\n/**\n * Return focusable node in selectable el.\n *\n * @param  {Element} el\n *\n * @return {Element}\n */\nexport function getFocusableNode(el) {\n\n  const selector = SELECTABLE_SELECTOR;\n\n  return (\n    matches(el, selector)\n      ? el\n      : query(selector, el)\n  );\n}\n\n/**\n * Ensure element or element childNode has the proper focus.\n *\n * @param {Element} el\n */\nexport function ensureFocus(el) {\n\n  const focusEl = getFocusableNode(el);\n\n  if (!focusEl) {\n    return;\n  }\n\n  // QUIRK: otherwise range and focus related actions may\n  // yield errors in older browsers (PhantomJS / IE)\n  if (!document.body.contains(focusEl)) {\n    return;\n  }\n\n  // nothing to do, if element already has focus\n  if (document.activeElement === focusEl) {\n    return;\n  }\n\n  // (1) focus\n  focusEl.focus();\n\n  // (2) set cursor to element end\n  const range = getRange(focusEl);\n\n  if (!range || range.end === 0) {\n    setRange(focusEl, { start: 5000, end: 5000 });\n  }\n}","import {\n  ensureFocus,\n  findSelectableAncestor,\n  getElementCoords,\n  getElementId,\n  getNodeByCoords,\n  getNodeById,\n  isUnselectableNode\n} from './CellSelectionUtil';\n\nconst LOW_PRIORITY = 500;\n\nconst VALID_DIRECTIONS = {\n  above: true,\n  below: true,\n  right: true,\n  left: true\n};\n\n\n/**\n * A cell selection utlity; allows selection of elements, independent from\n * whether they are backed by a business object or not.\n *\n * Works together with the {@link SelectionAware} trait.\n *\n * @param {RenderConfig} config\n * @param {EventBus} eventBus\n * @param {Sheet} sheet\n * @param {Selection} selection\n * @param {ElementRegistry} elementRegistry\n */\nexport default function CellSelection(\n    config, eventBus, sheet,\n    selection, elementRegistry) {\n\n  const {\n    container\n  } = config;\n\n  let lastSelection = null;\n\n  function emit(elementId, newSelection) {\n\n    eventBus.fire('selection.' + elementId + '.changed', newSelection);\n\n    eventBus.fire('cellSelection.changed', {\n      elementId: elementId,\n      selection: newSelection\n    });\n\n  }\n\n  function click(event) {\n\n    const target = event.target;\n\n    if (isUnselectableNode(target)) {\n      return;\n    }\n\n    const selectableNode = findSelectableAncestor(target);\n\n    const elementId = selectableNode && getElementId(selectableNode);\n\n    const focussed = !event.defaultPrevented;\n\n    realSelect(elementId, focussed);\n  }\n\n  function focus(event) {\n    const elementId = getElementId(event.target);\n\n    const focussed = !event.defaultPrevented;\n\n    event.stopPropagation();\n\n    return realSelect(elementId, focussed);\n  }\n\n  function unfocus(event) {\n    const elementId = getElementId(event.target);\n\n    emit(elementId, {\n      focussed: false\n    });\n  }\n\n  function realSelect(elementId, focussed = true) {\n\n    if (lastSelection !== elementId) {\n      emit(lastSelection, {\n        selected: false,\n        focussed: false\n      });\n    }\n\n    lastSelection = elementId;\n\n    if (elementId) {\n      emit(elementId, {\n        selected: true,\n        focussed\n      });\n    }\n\n    if (elementId) {\n      selection.select(elementId);\n    } else {\n      selection.deselect();\n    }\n  }\n\n  eventBus.on('cell.click', LOW_PRIORITY, click);\n  eventBus.on('cell.focusin', LOW_PRIORITY, focus);\n  eventBus.on('cell.focusout', LOW_PRIORITY, unfocus);\n\n  eventBus.on('cellSelection.changed', function(event) {\n\n    const {\n      elementId,\n      selection\n    } = event;\n\n    const actualElement = getNodeById(elementId, container);\n\n    if (selection.focussed && actualElement) {\n      ensureFocus(actualElement);\n    }\n  });\n\n  eventBus.on('selection.changed', function(event) {\n\n    const {\n      selection,\n      oldSelection\n    } = event;\n\n    var elementId = selection && selection.id;\n    var oldElementId = oldSelection && oldSelection.id;\n\n    // select new element\n    if (elementId && elementId !== lastSelection) {\n      realSelect(selection.id);\n    } else\n\n    // deselect old element\n    if (oldElementId && oldElementId === lastSelection) {\n      realSelect();\n    }\n\n  });\n\n  // API //////////////////////\n\n  /**\n   * Return true if a cell is currently selected.\n   *\n   * @return {boolean}\n   */\n  this.isCellSelected = function() {\n    return !!lastSelection;\n  };\n\n  /**\n   * Get the currently active cellSelection.\n   *\n   * @return {string} selection\n   */\n  this.getCellSelection = function() {\n    return lastSelection;\n  };\n\n  /**\n   * Select next cell in given direction.\n   *\n   * Returns true on success; false on fail (i.e. if no next selection\n   * in direction could be found).\n   *\n   * @param {string} direction\n   *\n   * @return {boolean}\n   */\n  this.selectCell = function(direction) {\n\n    if (!lastSelection) {\n      return;\n    }\n\n    if (!(direction in VALID_DIRECTIONS)) {\n      throw new Error('direction must be any of { above, below, left, right }');\n    }\n\n    var selectionEl = getNodeById(lastSelection, container);\n\n    const coords = getElementCoords(selectionEl);\n\n    if (!coords) {\n      return false;\n    }\n\n    const nextCoords = getNextCoords(coords, direction);\n\n    const nextNode = getNodeByCoords(nextCoords, container);\n\n    if (!nextNode) {\n      return false;\n    }\n\n    const nextElId = getElementId(nextNode);\n\n    if (nextElId) {\n      realSelect(nextElId, {\n        focussed: true,\n        selected: true\n      });\n    }\n\n    return true;\n  };\n\n\n  eventBus.on('contextMenu.close', function() {\n\n    if (lastSelection) {\n      return realSelect(lastSelection);\n    }\n\n  });\n\n}\n\nCellSelection.$inject = [\n  'config.renderer',\n  'eventBus',\n  'sheet',\n  'selection',\n  'elementRegistry'\n];\n\n\n\n// helpers ////////////////\n\nfunction getNextCoords(coords, direction) {\n\n  const {\n    row,\n    col\n  } = coords;\n\n  if (direction === 'above' || direction === 'below') {\n\n    const rowIndex = parseInt(row, 10);\n\n    if (isNaN(rowIndex)) {\n      return coords;\n    }\n\n    const nextRowIndex = direction === 'above' ? rowIndex - 1 : rowIndex + 1;\n\n    return {\n      col,\n      row: nextRowIndex\n    };\n  }\n\n  if (direction === 'left' || direction === 'right') {\n\n    const colIndex = parseInt(col, 10);\n\n    if (isNaN(colIndex)) {\n      return coords;\n    }\n\n    const nextColIndex = direction === 'left' ? colIndex - 1 : colIndex + 1;\n\n    return {\n      row,\n      col: nextColIndex\n    };\n  }\n\n  throw new Error('invalid direction <' + direction + '>');\n}","import SelectionModule from 'table-js/lib/features/selection';\nimport InteractionEventsModule from 'table-js/lib/features/interaction-events';\n\nimport CellSelection from './CellSelection';\n\n\nexport default {\n  __depends__: [\n    InteractionEventsModule,\n    SelectionModule\n  ],\n  __init__: [\n    'cellSelection'\n  ],\n  cellSelection: [ 'type', CellSelection ]\n};","/**\n * A clip board stub\n */\nexport default function Clipboard() {}\n\n\nClipboard.prototype.get = function() {\n  return this._data;\n};\n\nClipboard.prototype.set = function(data) {\n  this._data = data;\n};\n\nClipboard.prototype.clear = function() {\n  var data = this._data;\n\n  delete this._data;\n\n  return data;\n};\n\nClipboard.prototype.isEmpty = function() {\n  return !this._data;\n};","import Clipboard from './Clipboard';\n\nexport default {\n  clipboard: [ 'type', Clipboard ]\n};\n","import {\r\n  every\r\n} from 'min-dash';\r\n\r\nimport { Row, Col } from 'table-js/lib/model';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport RuleProvider from 'diagram-js/lib/features/rules/RuleProvider';\r\n\r\nconst HIGH_PRIORITY = 2000;\r\n\r\nexport default class DecisionTableModelingRules extends RuleProvider {\r\n\r\n  constructor(eventBus, sheet) {\r\n    super(eventBus);\r\n\r\n    this._sheet = sheet;\r\n  }\r\n\r\n  init() {\r\n    this.addRule('col.move', HIGH_PRIORITY, ({ col, index }) => {\r\n      const { businessObject } = this._sheet.getRoot(),\r\n            { input } = businessObject;\r\n\r\n      if (isInput(col)) {\r\n        return index < input.length;\r\n      } else {\r\n        return index >= input.length;\r\n      }\r\n    });\r\n\r\n    this.addRule('col.remove', HIGH_PRIORITY, ({ col }) => {\r\n      const { cols } = this._sheet.getRoot();\r\n\r\n      if (isOutput(col)) {\r\n        return cols.filter(c => isOutput(c)).length > 1;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    // a rule that is aware of the data structure coming from copy and paste\r\n    this.addRule('paste', HIGH_PRIORITY, ({ data, target }) => {\r\n      if (!data || !target) {\r\n        return false;\r\n      }\r\n\r\n      const { root } = data;\r\n\r\n      if (target instanceof Row) {\r\n        return this.canPasteRows(root);\r\n      }\r\n\r\n      if (target instanceof Col) {\r\n        return this.canPasteCols(root, target);\r\n      }\r\n\r\n      return false;\r\n    });\r\n  }\r\n\r\n  canPasteRows(root) {\r\n    const { cols } = this._sheet.getRoot();\r\n\r\n    return every(root, descriptor => {\r\n      if (descriptor.type !== 'row') {\r\n        return false;\r\n      }\r\n\r\n      if (descriptor.cells.length !== cols.length) {\r\n        return false;\r\n      }\r\n\r\n      return every(descriptor.cells, (cellDescriptor, index) => {\r\n        if (isInput(cols[index])) {\r\n          return cellDescriptor.businessObject.$type === 'dmn:UnaryTests';\r\n        } else {\r\n          return cellDescriptor.businessObject.$type === 'dmn:LiteralExpression';\r\n        }\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  canPasteCols(root, targetCol) {\r\n    const { rows } = this._sheet.getRoot();\r\n\r\n    return every(root, descriptor => {\r\n      if (descriptor.type !== 'col') {\r\n        return false;\r\n      }\r\n\r\n      if (descriptor.cells.length !== rows.length) {\r\n        return false;\r\n      }\r\n\r\n      if (isInput(targetCol)) {\r\n        return descriptor.businessObject.$type === 'dmn:InputClause';\r\n      } else {\r\n        return descriptor.businessObject.$type === 'dmn:OutputClause';\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nDecisionTableModelingRules.$inject = [ 'eventBus', 'sheet' ];","import { Row, Col } from 'table-js/lib/model';\r\n\r\n/**\r\n * A handler that implements cutting a row or col.\r\n * Cutting of cells doesn't make sense.\r\n */\r\nexport default class CutHandler {\r\n\r\n  constructor(clipboard, modeling, sheet) {\r\n    this._clipboard = clipboard;\r\n    this._modeling = modeling;\r\n    this._sheet = sheet;\r\n  }\r\n\r\n\r\n  /**\r\n   * <do>\r\n   */\r\n  execute(context) {\r\n    let {\r\n      data\r\n    } = context;\r\n\r\n    context.oldData = this._clipboard.get();\r\n\r\n    this._clipboard.set(data);\r\n\r\n    return this._sheet.getRoot();\r\n  }\r\n\r\n  postExecute(context) {\r\n    let {\r\n      elements\r\n    } = context;\r\n\r\n    elements.forEach(element => {\r\n      if (element instanceof Row) {\r\n        this._modeling.removeRow(element);\r\n      } else if (element instanceof Col) {\r\n        this._modeling.removeCol(element);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * <undo>\r\n   */\r\n  revert(context) {\r\n\r\n    const {\r\n      oldData\r\n    } = context;\r\n\r\n    this._clipboard.set(oldData);\r\n\r\n    return this._sheet.getRoot();\r\n  }\r\n\r\n}\r\n\r\nCutHandler.$inject = [ 'clipboard', 'modeling', 'sheet' ];","import {\n  isArray,\n  forEach,\n  keys,\n  reduce\n} from 'min-dash';\n\n// creating descriptors //////////\n\nconst createHooks = [\n  copyTableProperties,\n  copyBusinessObjectProperties\n];\n\nconst reviveHooks = [\n  reviveBusinessObject,\n  reviveTableElement\n];\n\n/**\n * Return a serializable snapshot of the given elements.\n *\n * @param {Array<Base>} elements list of table elements\n *\n * @return {Tree} descriptor tree\n */\nexport function createDescriptor(element, cache, hooks) {\n\n  hooks = hooks || createHooks;\n  cache = cache || {};\n\n  if (isArray(element)) {\n    return createDescriptors0(element, cache, hooks);\n  } else {\n    return createDescriptor0(element, cache, hooks);\n  }\n\n}\n\n\n/**\n * Create descriptors of elements, returning { descriptors: [], descriptorCache }.\n *\n * @param {Array<Base>} elements list of table elements\n * @param {Object} cache the create cache\n *\n * @return {Object} new descriptors + updated cache\n */\nfunction createDescriptors0(elements, cache, hooks) {\n\n  return reduce(elements, (result, element) => {\n\n    var currentCache = result.descriptorCache,\n        currentDescriptors = result.root;\n\n    let {\n      root,\n      descriptorCache\n    } = createDescriptor0(element, currentCache, hooks);\n\n    return {\n      root: [\n        ...currentDescriptors,\n        root\n      ],\n      descriptorCache: {\n        ...currentCache,\n        ...descriptorCache\n      }\n    };\n  }, {\n    root: [],\n    descriptorCache: cache\n  });\n}\n\nfunction createDescriptor0(element, cache, hooks) {\n\n  var id = element.id;\n\n  var descriptor = {\n    id: id\n  };\n\n  var elements = cache.elements || {};\n\n  var existingDescriptor = elements[id];\n\n  // element already created; nothing to do\n  if (existingDescriptor) {\n    return {\n      root: existingDescriptor,\n      descriptorCache: cache\n    };\n  }\n\n  // we're new; need to initialize element via hooks\n  // we assume we're not handling recursive data structures\n  // here. Otherwise we'd need to pre-populate the cache\n  // with the given element\n  let element0 = evaluateHooks(element, descriptor, hooks, {\n    ...cache,\n    elements\n  });\n\n  return {\n    root: element0.root,\n    descriptorCache: {\n      ...element0.descriptorCache,\n      elements: {\n        ...element0.descriptorCache.elements,\n        [id]: element0.root\n      }\n    }\n  };\n}\n\n\nfunction evaluateHooks(element, descriptor, hooks, cache) {\n\n  function create(element, descriptorCache) {\n    return createDescriptor(element, descriptorCache, hooks);\n  }\n\n  return reduce(hooks, function(result, hook) {\n    return hook(\n      element,\n      result.root,\n      result.descriptorCache,\n      create\n    );\n  }, {\n    root: descriptor,\n    descriptorCache: cache\n  });\n}\n\n\nimport {\n  Row,\n  Col,\n  Cell\n} from 'table-js/lib/model';\n\n\nfunction copyTableProperties(element, descriptor, cache, create) {\n\n  var descriptorCache = cache;\n\n  var newDesc = {\n    ...descriptor,\n    type: getType(element)\n  };\n\n  if (\n    element instanceof Row ||\n    element instanceof Col\n  ) {\n    let cells0 = create(element.cells, descriptorCache);\n\n    newDesc.cells = cells0.root;\n    descriptorCache = cells0.descriptorCache;\n  }\n\n  return {\n    root: newDesc,\n    descriptorCache\n  };\n}\n\n\nfunction copyBusinessObjectProperties(element, descriptor, cache) {\n\n  var businessObject = element.businessObject;\n\n  if (!businessObject) {\n    return {\n      root: descriptor,\n      descriptorCache: cache\n    };\n  }\n\n  // need to clone businessObject\n  var bo0 = createBoDescriptor(businessObject, cache);\n\n  return {\n    root: {\n      ...descriptor,\n      businessObject: bo0.root\n    },\n    descriptorCache: bo0.descriptorCache\n  };\n}\n\n\nfunction getType(element) {\n\n  if (element instanceof Row) {\n    return 'row';\n  }\n\n  if (element instanceof Col) {\n    return 'col';\n  }\n\n  if (element instanceof Cell) {\n    return 'cell';\n  }\n\n  throw new Error('cannot deduce element type: #' + element.id);\n}\n\n\nfunction createBoDescriptor(bo, cache) {\n  var boCache,\n      existingBoDesc;\n\n  var id = bo.id;\n\n  if (id) {\n    boCache = cache.boCache || {};\n\n    existingBoDesc = boCache[id];\n\n    // businessObject already created; nothing to do\n    if (existingBoDesc) {\n      return {\n        root: existingBoDesc,\n        descriptorCache: cache\n      };\n    }\n  }\n\n  var descriptor = {\n    $type: bo.$type\n  };\n\n  if (id) {\n    descriptor.id = id;\n\n    boCache = {\n      ...boCache,\n      [id]: descriptor\n    };\n\n    cache = {\n      ...cache,\n      boCache\n    };\n  }\n\n  // TODO(nikku): distinguish relations and containment\n  // Need to build up the whole tree and revive relations afterwards\n\n  // ITERATE OVER ALL SET PROPERTIES\n  // (Object.keys(bo) or via bo.$descriptor....)\n\n  bo.$descriptor.properties.forEach(function(property) {\n    var value = bo[property.name];\n\n    // const propertyDescriptor = bo.$model.getPropertyDescriptor(bo, property.name),\n    //       isId = propertyDescriptor.isId,\n    //       isReference = propertyDescriptor.isReference;\n\n    // not set\n    if (!value) {\n      return;\n    }\n\n    // arrays of moddle elements\n    if (isArray(value)) {\n      value = value.map(b => {\n        var value0 = createBoDescriptor(b, cache);\n\n        cache = value0.descriptorCache;\n\n        return value0.root;\n      });\n    }\n\n    // moddle elements\n    if (value.$type) {\n      let value0 = createBoDescriptor(value, cache);\n\n      cache = value0.descriptorCache;\n      value = value0.root;\n    }\n\n    // other values\n    descriptor[property.name] = value;\n  });\n\n  return {\n    root: descriptor,\n    descriptorCache: cache\n  };\n}\n\n\n\n// reviving //////////\n\nexport function reviveDescriptor(entry, reviveCache, hooks) {\n\n  hooks = hooks || reviveHooks;\n  reviveCache = reviveCache || {};\n\n  if (isArray(entry.root)) {\n    return reviveDescriptors0(entry, reviveCache, hooks);\n  } else {\n    return reviveDescriptor0(entry, reviveCache, hooks);\n  }\n}\n\n\n/**\n * TBD: document this!\n *\n * @param  {[type]} entry       [description]\n * @param  {[type]} reviveCache [description]\n * @param  {[type]} hooks       [description]\n * @return {[type]}             [description]\n */\nfunction reviveDescriptors0(entry, reviveCache, hooks) {\n\n  let descriptors = entry.root;\n  let descriptorCache = entry.descriptorCache;\n\n  return reduce(descriptors, (result, element) => {\n\n    var currentCache = result.reviveCache,\n        currentDescriptors = result.root;\n\n    let {\n      root,\n      reviveCache\n    } = reviveDescriptor0({ root: element, descriptorCache }, currentCache, hooks);\n\n    return {\n      root: [\n        ...currentDescriptors,\n        root\n      ],\n      reviveCache\n    };\n  }, {\n    root: [],\n    reviveCache\n  });\n}\n\n/**\n * TBD: document this!\n *\n * @param  {[type]} entry [description]\n * @param  {[type]} cache [description]\n * @param  {[type]} hooks [description]\n * @return {[type]}       [description]\n */\nfunction reviveDescriptor0(entry, reviveCache, hooks) {\n\n  var descriptor = entry.root;\n\n  var id = descriptor.id;\n\n  var elements = reviveCache.elements || {};\n\n  var existingElement = elements[id];\n\n  // element already created; nothing to do\n  if (existingElement) {\n    return {\n      root: existingElement,\n      reviveCache: reviveCache\n    };\n  }\n\n  // start with a fake element; haha <3\n  var element = {\n    id: id\n  };\n\n  // we're new; need to initialize element via hooks\n  let element0 = evaluateReviveHooks(entry, element, hooks, {\n    ...reviveCache,\n    elements\n  });\n\n  return {\n    root: element0.root,\n    reviveCache: {\n      ...element0.reviveCache,\n      elements: {\n        ...element0.reviveCache.elements,\n        [id]: element0.root\n      }\n    }\n  };\n}\n\n// entry = { root, descriptorCache }\n// element = { id: foo }\n// hooks = [ ... ]\n// reviveCache = { ... }\nfunction evaluateReviveHooks(entry, element, hooks, reviveCache) {\n\n  function revive(entry, reviveCache) {\n    return reviveDescriptor(entry, reviveCache, hooks);\n  }\n\n  return reduce(hooks, function(result, hook) {\n    return hook(\n      entry,\n      result.root,\n      result.reviveCache,\n      revive\n    );\n  }, {\n    root: element,\n    reviveCache: reviveCache\n  });\n}\n\n\nfunction reviveTableElement(entry, element, reviveCache, revive) {\n  var descriptor = entry.root;\n  var createCache = entry.descriptorCache;\n\n  var elementAttrs = {\n    ...element\n  };\n\n  // make sure table element ID is same as moddle element ID\n  if (element.businessObject && element.businessObject.id) {\n    elementAttrs.id = element.businessObject.id;\n  }\n\n  if (\n    descriptor.type === 'row' ||\n    descriptor.type === 'col'\n  ) {\n    let cells0 = revive({\n      root: descriptor.cells,\n      descriptorCache: createCache\n    }, reviveCache);\n\n    elementAttrs.cells = cells0.root;\n    reviveCache = cells0.reviveCache;\n  }\n\n  var Constructor = getConstructor(descriptor);\n\n  var newElement = new Constructor(elementAttrs);\n\n  // set parent row or col\n  if (newElement instanceof Row) {\n    newElement.cells.forEach(cell => {\n      cell.row = newElement;\n    });\n  } else if (newElement instanceof Col) {\n    newElement.cells.forEach(cell => {\n      cell.col = newElement;\n    });\n  }\n\n  return {\n    root: newElement,\n    reviveCache\n  };\n}\n\n\nfunction reviveBusinessObject(entry, element, reviveCache) {\n  var businessObject = entry.root.businessObject;\n\n  if (!businessObject) {\n    return {\n      root: element,\n      reviveCache\n    };\n  }\n\n  // need to clone businessObject\n  var bo0 = createBo({\n    root: businessObject,\n    descriptorCache: entry.descriptorCache\n  }, reviveCache);\n\n  return {\n    root: {\n      ...element,\n      businessObject: bo0.root\n    },\n    reviveCache: bo0.reviveCache\n  };\n}\n\n\nfunction getConstructor(descriptor) {\n\n  switch (descriptor.type) {\n  case 'row':\n    return Row;\n  case 'cell':\n    return Cell;\n  case 'col':\n    return Col;\n  default:\n    throw new Error('unknown element type: #' + descriptor.type);\n  }\n}\n\n\nfunction createBo(entry, reviveCache) {\n  var boDescriptor = entry.root;\n\n  var id = boDescriptor.id;\n\n  let boCache,\n      existingBo;\n\n  if (id) {\n    boCache = reviveCache.boCache || {};\n\n    existingBo = boCache[id];\n\n    // businessObject already created; nothing to do\n    if (existingBo) {\n      return {\n        root: existingBo,\n        reviveCache\n      };\n    }\n  }\n\n  var newBoAttrs = {};\n\n  // set attrs for new business object (might include creating other business objects)\n  keys(boDescriptor).forEach(key => {\n    let val,\n        val0;\n\n    if (boDescriptor[key].$type) {\n      val0 = createBo({\n        root: boDescriptor[key]\n      }, reviveCache);\n\n      val = val0.root;\n\n      reviveCache = val0.reviveCache;\n      boCache = reviveCache.boCache || {};\n    } else if (isArray(boDescriptor[key])) {\n      val = boDescriptor[key].map(b => {\n        val0 = createBo({\n          root: b\n        }, reviveCache);\n\n        reviveCache = val0.reviveCache;\n        boCache = reviveCache.boCache || {};\n\n        return val0.root;\n      });\n    } else {\n      val = boDescriptor[key];\n    }\n\n    newBoAttrs[key] = val;\n  });\n\n  const type = newBoAttrs.$type;\n\n  delete newBoAttrs.$type;\n\n  // generate new ID if not supposed to be kept or already assigned\n  if (!reviveCache._keepIds\n    || reviveCache._model.ids.assigned(newBoAttrs.id)) {\n\n    delete newBoAttrs.id;\n  }\n\n  var newBo = reviveCache._dmnFactory.create(type, newBoAttrs);\n\n  // set up $parent relationships for moddle elements\n  forEach(newBoAttrs, newBoAttr => {\n    if (newBoAttr.$type) {\n      newBoAttr.$parent = newBo;\n    }\n\n    if (isArray(newBoAttr)) {\n      newBoAttr.forEach(a => a.$parent = newBo);\n    }\n  });\n\n  if (id) {\n    boCache = {\n      ...boCache,\n      [id]: newBo\n    };\n\n    reviveCache = {\n      ...reviveCache,\n      boCache\n    };\n  }\n\n  return {\n    root: newBo,\n    reviveCache\n  };\n\n}","import { Row, Col } from 'table-js/lib/model';\r\n\r\nimport { reviveDescriptor } from '../DescriptorUtil';\r\n\r\n/**\r\n * A handler that implements pasting elements.\r\n */\r\nexport default class PasteHandler {\r\n\r\n  constructor(\r\n      clipboard,\r\n      dmnFactory,\r\n      elementFactory,\r\n      elementRegistry,\r\n      eventBus,\r\n      moddle,\r\n      modeling,\r\n      sheet\r\n  ) {\r\n    this._clipboard = clipboard;\r\n    this._dmnFactory = dmnFactory;\r\n    this._elementFactory = elementFactory;\r\n    this._elementRegistry = elementRegistry;\r\n    this._eventBus = eventBus;\r\n    this._model = moddle;\r\n    this._modeling = modeling;\r\n    this._sheet = sheet;\r\n  }\r\n\r\n\r\n  /**\r\n   * <do>\r\n   */\r\n  postExecute(context) {\r\n    let {\r\n      element,\r\n      after\r\n    } = context;\r\n\r\n    const data = this._clipboard.get();\r\n\r\n    if (!data) {\r\n      throw new Error('missing clipboard data');\r\n    }\r\n\r\n    const root = this._sheet.getRoot();\r\n\r\n    // (1) create elements from descriptors\r\n    const elements = reviveDescriptor(data.elements, {\r\n      _dmnFactory: this._dmnFactory,\r\n      _keepIds: data.keepIds,\r\n      _model: this._model\r\n    }).root;\r\n\r\n    // (2) add elements to sheet\r\n    if (element instanceof Row) {\r\n\r\n      let index = root.rows.indexOf(element);\r\n\r\n      if (index === -1) {\r\n        return;\r\n      }\r\n\r\n      elements.forEach(element => {\r\n        if (after) {\r\n          index++;\r\n        }\r\n\r\n        this._modeling.addRow(element, index);\r\n      });\r\n\r\n    } else if (element instanceof Col) {\r\n\r\n      let index = root.cols.indexOf(element);\r\n\r\n      if (index === -1) {\r\n        return;\r\n      }\r\n\r\n      elements.forEach(element => {\r\n        if (after) {\r\n          index++;\r\n        }\r\n\r\n        this._modeling.addCol(element, index);\r\n      });\r\n\r\n    }\r\n\r\n    context.oldElements = this._clipboard.get();\r\n\r\n    return this._sheet.getRoot();\r\n  }\r\n\r\n  /**\r\n   * <undo>\r\n   */\r\n  revert(context) {\r\n\r\n  }\r\n\r\n}\r\n\r\nPasteHandler.$inject = [\r\n  'clipboard',\r\n  'dmnFactory',\r\n  'elementFactory',\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'moddle',\r\n  'modeling',\r\n  'sheet'\r\n];","import { isArray } from 'min-dash';\r\n\r\nimport CutHandler from './cmd/CutHandler';\r\nimport PasteHandler from './cmd/PasteHandler';\r\n\r\nimport { createDescriptor } from './DescriptorUtil';\r\n\r\n\r\nexport default class CutPaste {\r\n\r\n  constructor(\r\n      clipboard, commandStack, eventBus,\r\n      modeling, sheet, rules) {\r\n\r\n    this._clipboard = clipboard;\r\n    this._commandStack = commandStack;\r\n    this._eventBus = eventBus;\r\n    this._modeling = modeling;\r\n    this._sheet = sheet;\r\n    this._rules = rules;\r\n\r\n    commandStack.registerHandler('cut', CutHandler);\r\n    commandStack.registerHandler('paste', PasteHandler);\r\n  }\r\n\r\n  /**\r\n   * Copy elements.\r\n   *\r\n   * @param {Array} elements - Elements to be copied.\r\n   */\r\n  copy(elements) {\r\n    if (!isArray(elements)) {\r\n      elements = [ elements ];\r\n    }\r\n\r\n    const data = {\r\n      elements: createDescriptor(elements)\r\n    };\r\n\r\n    this._eventBus.fire('copyCutPaste.copy', { data });\r\n\r\n    this._clipboard.set(data);\r\n  }\r\n\r\n  /**\r\n   * Cut elements thereby removing them temporarily.\r\n   *\r\n   * @param {Array} elements - Elements to be cut.\r\n   */\r\n  cut(elements) {\r\n    if (!isArray(elements)) {\r\n      elements = [ elements ];\r\n    }\r\n\r\n    const data = {\r\n      elements: createDescriptor(elements),\r\n      keepIds: true\r\n    };\r\n\r\n    const context = {\r\n      elements,\r\n      data\r\n    };\r\n\r\n    this._eventBus.fire('copyCutPaste.cut', { data });\r\n\r\n    this._commandStack.execute('cut', context);\r\n  }\r\n\r\n  /**\r\n   * Paste rows or cols before row or col.\r\n   *\r\n   * @param {Row|Col} element - Row or col to paste elements before.\r\n   */\r\n  pasteBefore(element) {\r\n    return this._paste(element, { before: true });\r\n  }\r\n\r\n  /**\r\n   * Paste rows or cols after row or col.\r\n   *\r\n   * @param {Row|Col} element - Row or col to paste elements after.\r\n   */\r\n  pasteAfter(element) {\r\n    return this._paste(element, { after: true });\r\n  }\r\n\r\n  /**\r\n   * Basic paste onto given target element.\r\n   */\r\n  _paste(target, position) {\r\n\r\n    const clipboardData = this._clipboard.get();\r\n\r\n    if (!clipboardData) {\r\n      return undefined;\r\n    }\r\n\r\n    const allowed = this._rules.allowed('paste', {\r\n      data: clipboardData.elements,\r\n      target\r\n    });\r\n\r\n    if (!allowed) {\r\n      return false;\r\n    }\r\n\r\n    this._commandStack.execute('paste', {\r\n      element: target,\r\n      ...position\r\n    });\r\n\r\n    // @bpmn-io: Clear clipboard to work around\r\n    // https://github.com/camunda/camunda-modeler/issues/1246 which breaks native copy &\r\n    // paste when row or column is copied or cut\r\n    this._clipboard.clear();\r\n\r\n    // Return true to stop propagation and prevent native paste\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Paste elements at.\r\n   */\r\n  pasteAt(element) {\r\n\r\n    // TODO: implement for pasting cells\r\n  }\r\n}\r\n\r\nCutPaste.$inject = [\r\n  'clipboard',\r\n  'commandStack',\r\n  'eventBus',\r\n  'modeling',\r\n  'sheet',\r\n  'rules'\r\n];\r\n","import ClipboardModule from 'diagram-js/lib/features/clipboard';\r\nimport RulesModule from '../rules';\r\n\r\nimport CopyCutPaste from './CopyCutPaste';\r\n\r\nexport default {\r\n  __depends__: [\r\n    ClipboardModule,\r\n    RulesModule\r\n  ],\r\n  __init__: [\r\n    'copyCutPaste'\r\n  ],\r\n  copyCutPaste: [ 'type', CopyCutPaste ]\r\n};","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nexport default class DecisionTableEditorActions {\n\n  constructor(copyCutPaste, editorActions, modeling, selection, cellSelection, sheet) {\n    const actions = {\n      addRule() {\n        return modeling.addRow({ type: 'dmn:DecisionRule' });\n      },\n      addRuleAbove(context) {\n        let rule = context && context.rule;\n\n        if (!rule && !selection.hasSelection()) {\n          return;\n        }\n\n        rule = rule || selection.get().row;\n\n        const root = sheet.getRoot(),\n              index = root.rows.indexOf(rule);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addRow({ type: 'dmn:DecisionRule' }, index);\n      },\n      addRuleBelow(context) {\n        let rule = context && context.rule;\n\n        if (!rule && !selection.hasSelection()) {\n          return;\n        }\n\n        rule = rule || selection.get().row;\n\n        const root = sheet.getRoot(),\n              index = root.rows.indexOf(rule);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addRow({ type: 'dmn:DecisionRule' }, index + 1);\n      },\n      removeRule(context) {\n        let rule = context && context.rule;\n\n        if (!rule && !selection.hasSelection()) {\n          return;\n        }\n\n        rule = rule || selection.get().row;\n\n        modeling.removeRow(rule);\n      },\n      addInput() {\n        const root = sheet.getRoot(),\n              businessObject = root.businessObject;\n\n        const { input } = businessObject;\n\n        return modeling.addCol({\n          type: 'dmn:InputClause'\n        }, input ? input.length : 0);\n      },\n      addInputLeft(context) {\n        let input = context && context.input;\n\n        if (!input && !selection.hasSelection()) {\n          return;\n        }\n\n        input = input || selection.get().col;\n\n        const root = sheet.getRoot(),\n              index = root.cols.indexOf(input);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addCol({ type: 'dmn:InputClause' }, index);\n      },\n      addInputRight(context) {\n        let input = context && context.input;\n\n        if (!input && !selection.hasSelection()) {\n          return;\n        }\n\n        input = input || selection.get().col;\n\n        const root = sheet.getRoot(),\n              index = root.cols.indexOf(input);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addCol({ type: 'dmn:InputClause' }, index + 1);\n      },\n      removeInput(context) {\n        let input = context && context.input;\n\n        if (!input && !selection.hasSelection()) {\n          return;\n        }\n\n        input = input || selection.get().col;\n\n        modeling.removeCol(input);\n      },\n      addOutput() {\n        const root = sheet.getRoot(),\n              businessObject = root.businessObject;\n\n        const { input, output } = businessObject;\n\n        return modeling.addCol(\n          { type: 'dmn:OutputClause' },\n          input.length + output.length\n        );\n      },\n      addOutputLeft(context) {\n        let output = context && context.output;\n\n        if (!output && !selection.hasSelection()) {\n          return;\n        }\n\n        output = output || selection.get().col;\n\n        const root = sheet.getRoot(),\n              index = root.cols.indexOf(output);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addCol({ type: 'dmn:OutputClause' }, index);\n      },\n      addOutputRight(context) {\n        let output = context && context.output;\n\n        if (!output && !selection.hasSelection()) {\n          return;\n        }\n\n        output = output || selection.get().col;\n\n        const root = sheet.getRoot(),\n              index = root.cols.indexOf(output);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addCol({ type: 'dmn:OutputClause' }, index + 1);\n      },\n      removeOutput(context) {\n        let output = context && context.output;\n\n        if (!output && !selection.hasSelection()) {\n          return;\n        }\n\n        output = output || selection.get().col;\n\n        modeling.removeCol(output);\n      },\n      addClause() {\n        if (!selection.hasSelection()) {\n          return;\n        }\n\n        const clause = selection.get().col;\n\n        if (is(clause, 'dmn:InputClause')) {\n          return actions.addInput({ input: clause });\n        } else if (is(clause, 'dmn:OutputClause')) {\n          return actions.addOutput({ output: clause });\n        }\n      },\n      addClauseLeft() {\n        if (!selection.hasSelection()) {\n          return;\n        }\n\n        const clause = selection.get().col;\n\n        if (is(clause, 'dmn:InputClause')) {\n          return actions.addInputLeft({ input: clause });\n        } else if (is(clause, 'dmn:OutputClause')) {\n          return actions.addOutputLeft({ output: clause });\n        }\n      },\n      addClauseRight() {\n        if (!selection.hasSelection()) {\n          return;\n        }\n\n        const clause = selection.get().col;\n\n        if (is(clause, 'dmn:InputClause')) {\n          return actions.addInputRight({ input: clause });\n        } else if (is(clause, 'dmn:OutputClause')) {\n          return actions.addOutputRight({ output: clause });\n        }\n      },\n      removeClause() {\n        if (!selection.hasSelection()) {\n          return;\n        }\n\n        const clause = selection.get().col;\n\n        if (is(clause, 'dmn:InputClause')) {\n          return actions.removeInput({ input: clause });\n        } else if (is(clause, 'dmn:OutputClause')) {\n          return actions.removeOutput({ output: clause });\n        }\n      },\n      selectCellAbove() {\n        return cellSelection.selectCell('above');\n      },\n      selectCellBelow() {\n        return cellSelection.selectCell('below');\n      },\n      copy({ element }) {\n        copyCutPaste.copy(element);\n      },\n      cut({ element }) {\n        copyCutPaste.cut(element);\n      },\n      pasteBefore({ element }) {\n        return copyCutPaste.pasteBefore(element);\n      },\n      pasteAfter({ element }) {\n        return copyCutPaste.pasteAfter(element);\n      }\n    };\n\n    editorActions.register(actions);\n  }\n}\n\nDecisionTableEditorActions.$inject = [\n  'copyCutPaste',\n  'editorActions',\n  'modeling',\n  'selection',\n  'cellSelection',\n  'sheet'\n];","import { forEach } from 'min-dash';\n\nconst NOT_REGISTERED_ERROR = 'is not a registered action',\n      IS_REGISTERED_ERROR = 'is already registered';\n\n\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with registerAction and likewise\n * unregister existing ones with unregisterAction.\n *\n */\nexport default class EditorActions {\n  constructor(commandStack, eventBus, modeling, selection) {\n\n    this._actions = {\n      undo() {\n        commandStack.undo();\n      },\n      redo() {\n        commandStack.redo();\n      },\n      select({ cell }) {\n        selection.select(cell);\n      },\n      deselect() {\n        selection.deselect();\n      },\n      addRow({ attrs, index }) {\n        modeling.addRow(attrs, index);\n      },\n      removeRow({ row }) {\n        modeling.removeRow(row);\n      },\n      moveRow({ row, index }) {\n        modeling.moveRow(row, index);\n      },\n      addCol({ attrs, index }) {\n        modeling.addCol(attrs, index);\n      },\n      removeCol({ col }) {\n        modeling.removeCol(col);\n      },\n      moveCol({ col, index }) {\n        modeling.moveCol(col, index);\n      }\n    };\n  }\n\n  /**\n   * Triggers a registered action\n   *\n   * @param  {String} action\n   * @param  {Object} opts\n   *\n   * @return {Unknown} Returns what the registered listener returns\n   */\n  trigger(action, opts) {\n    if (!this._actions[action]) {\n      throw error(action, NOT_REGISTERED_ERROR);\n    }\n\n    return this._actions[action](opts);\n  }\n\n  /**\n   * Registers a collections of actions.\n   * The key of the object will be the name of the action.\n   *\n   * @param  {Object} actions\n   */\n  register(actions, listener) {\n    if (typeof actions === 'string') {\n      return this._registerAction(actions, listener);\n    }\n\n    forEach(actions, (listener, action) => {\n      this._registerAction(action, listener);\n    }, this);\n  }\n\n  /**\n   * Registers a listener to an action key\n   *\n   * @param  {String} action\n   * @param  {Function} listener\n   */\n  _registerAction(action, listener) {\n    if (this.isRegistered(action)) {\n      throw error(action, IS_REGISTERED_ERROR);\n    }\n\n    this._actions[action] = listener;\n  }\n\n  /**\n   * Unregister an existing action\n   *\n   * @param {String} action\n   */\n  unregister(action) {\n    if (!this.isRegistered(action)) {\n      throw error(action, NOT_REGISTERED_ERROR);\n    }\n\n    this._actions[action] = undefined;\n  }\n\n\n  /**\n   * Checks wether the given action is registered\n   *\n   * @param {String} action\n   *\n   * @return {Boolean}\n   */\n  isRegistered(action) {\n    return !!this._actions[action];\n  }\n}\n\nEditorActions.$inject = [\n  'commandStack',\n  'eventBus',\n  'modeling',\n  'selection'\n];\n\n// helpers /////////////\n\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}","import AddRule from './AddRule';\nimport EditorActions from '../editor-actions';\n\nexport default {\n  __depends__: [ EditorActions ],\n  __init__: [ 'addRule' ],\n  addRule: [ 'type', AddRule ]\n};","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","'use strict';\n\n/**\n * Calculate the selection update for the given\n * current and new input values.\n *\n * @param {Object} currentSelection as {start, end}\n * @param {String} currentValue\n * @param {String} newValue\n *\n * @return {Object} newSelection as {start, end}\n */\nfunction calculateUpdate(currentSelection, currentValue, newValue) {\n\n  var currentCursor = currentSelection.start,\n      newCursor = currentCursor,\n      diff = newValue.length - currentValue.length,\n      idx;\n\n  var lengthDelta = newValue.length - currentValue.length;\n\n  var currentTail = currentValue.substring(currentCursor);\n\n  // check if we can remove common ending from the equation\n  // to be able to properly detect a selection change for\n  // the following scenarios:\n  //\n  //  * (AAATTT|TF) => (AAAT|TF)\n  //  * (AAAT|TF) =>  (AAATTT|TF)\n  //\n  if (newValue.lastIndexOf(currentTail) === newValue.length - currentTail.length) {\n    currentValue = currentValue.substring(0, currentValue.length - currentTail.length);\n    newValue = newValue.substring(0, newValue.length - currentTail.length);\n  }\n\n  // diff\n  var diff = createDiff(currentValue, newValue);\n\n  if (diff) {\n    if (diff.type === 'remove') {\n      newCursor = diff.newStart;\n    } else {\n      newCursor = diff.newEnd;\n    }\n  }\n\n  return range(newCursor);\n}\n\nmodule.exports = calculateUpdate;\n\n\nfunction createDiff(currentValue, newValue) {\n\n  var insert;\n\n  var l_str, l_char, l_idx = 0,\n      s_str, s_char, s_idx = 0;\n\n  if (newValue.length > currentValue.length) {\n    l_str = newValue;\n    s_str = currentValue;\n  } else {\n    l_str = currentValue;\n    s_str = newValue;\n  }\n\n  // assume there will be only one insert / remove and\n  // detect that _first_ edit operation only\n  while (l_idx < l_str.length) {\n\n    l_char = l_str.charAt(l_idx);\n    s_char = s_str.charAt(s_idx);\n\n    // chars no not equal\n    if (l_char !== s_char) {\n\n      if (!insert) {\n        insert = {\n          l_start: l_idx,\n          s_start: s_idx\n        };\n      }\n\n      l_idx++;\n    }\n\n    // chars equal (again?)\n    else {\n\n      if (insert && !insert.complete) {\n        insert.l_end = l_idx;\n        insert.s_end = s_idx;\n        insert.complete = true;\n      }\n\n      s_idx++;\n      l_idx++;\n    }\n  }\n\n  if (insert && !insert.complete) {\n    insert.complete = true;\n    insert.s_end = s_str.length;\n    insert.l_end = l_str.length;\n  }\n\n  // no diff\n  if (!insert) {\n    return;\n  }\n\n  if (newValue.length > currentValue.length) {\n    return {\n      newStart: insert.l_start,\n      newEnd: insert.l_end,\n      type: 'add'\n    };\n  } else {\n    return {\n      newStart: insert.s_start,\n      newEnd: insert.s_end,\n      type: newValue.length < currentValue.length ? 'remove' : 'replace'\n    };\n  }\n}\n\n/**\n * Utility method for creating a new selection range {start, end} object.\n *\n * @param {Number} start\n * @param {Number} [end]\n *\n * @return {Object} selection range as {start, end}\n */\nfunction range(start, end) {\n  return {\n    start: start,\n    end: end === undefined ? start : end\n  };\n}\n\nmodule.exports.range = range;\n\n\nfunction splitStr(str, position) {\n  return {\n    before: str.substring(0, position),\n    after: str.substring(position)\n  };\n}","import { Component } from 'inferno';\n\nimport escapeHtml from 'escape-html';\n\nimport {\n  getRange,\n  setRange,\n  applyRange,\n  getWindowSelection\n} from 'selection-ranges';\n\nimport selectionUpdate from 'selection-update';\n\n\n/**\n * A content ediable that performs proper selection updates on\n * editable changes. It normalizes editor operations by allowing\n * only <br/> and plain text to be inserted.\n *\n * The callback `onInput(text)` recieves text (including line breaks)\n * only. Updating the value via props will update the selection\n * if needed, too.\n *\n * @example\n *\n * class SomeComponent extends Component {\n *\n *   render() {\n *     return (\n *       <ContentEditable\n *         className=\"some classes\"\n *         value={ this.state.text }\n *         onInput={ this.handleInput }\n *         onFocus={ ... }\n *         onBlur={ ... } />\n *     );\n *   }\n *\n * }\n *\n */\nexport default class ContentEditable extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n\n    // TODO(nikku): remove once we drop IE 11 support\n    if (isIE()) {\n\n      // onInput shim for IE <= 11\n      this.onInputIEPolyfill = (event) => {\n\n        var oldText = this.node.innerHTML;\n\n        setTimeout(() => {\n\n          var text = this.node.innerHTML;\n          if (oldText !== text) {\n            this.onInput(event);\n          }\n        }, 0);\n      };\n\n    }\n  }\n\n  componentWillUpdate(newProps, newState) {\n\n    // save old selection + text for later\n    var node = this.node;\n\n    var range = newState.focussed && getRange(node);\n\n    this.selected = range && {\n      range: range,\n      text: innerText(node)\n    };\n  }\n\n  componentDidUpdate() {\n\n    var selected = this.selected;\n\n    if (!selected) {\n      return;\n    }\n\n    // compute and restore selection based on\n    // (possibly new) text\n\n    const range = selected.range;\n    const text = selected.text;\n\n    const node = this.node;\n\n    const newText = innerText(node);\n\n    const newRange = (\n      newText !== text\n        ? selectionUpdate(range, text, newText)\n        : range\n    );\n\n    setRange(node, newRange);\n  }\n\n  onFocus = event => {\n    var propsFocus = this.props.onFocus;\n\n    this.setState({\n      focussed: true\n    });\n\n    if (typeof propsFocus === 'function') {\n      propsFocus(event);\n    }\n  }\n\n  onBlur = event => {\n    var propsBlur = this.props.onBlur;\n\n    this.setState({\n      focussed: false\n    });\n\n    if (typeof propsBlur === 'function') {\n      propsBlur(event);\n    }\n  }\n\n  onKeydown = (event) => {\n\n    // enter\n    if (event.which === 13) {\n\n      // prevent default action (<br/> insert)\n      event.preventDefault();\n\n      if (this.props.ctrlForNewline && !isCmd(event)) {\n        return;\n      }\n\n      if (this.props.singleLine) {\n        return;\n      }\n\n      event.stopPropagation();\n\n      insertLineBreak();\n\n      this.onInput(event);\n    }\n\n  }\n\n  onInput = (event) => {\n\n    var propsInput = this.props.onInput;\n\n    if (typeof propsInput !== 'function') {\n      return;\n    }\n\n    var text = innerText(this.node);\n\n    propsInput(text);\n  }\n\n  // TODO(barmac): remove once we drop IE 11 support\n  onKeyPress = (event) => {\n    if (this.onInputIEPolyfill) {\n      this.onInputIEPolyfill(event);\n    }\n  }\n\n  onPaste = (event) => {\n\n    // TODO(barmac): remove once we drop IE 11 support\n    if (this.onInputIEPolyfill) {\n      this.onInputIEPolyfill(event);\n    }\n\n    if (this.props.singleLine) {\n      const text = (event.clipboardData || window.clipboardData).getData('text');\n\n      // replace newline with space\n      document.execCommand('insertText', false, text.replace(/\\n/g, ' '));\n      event.preventDefault();\n    }\n  }\n\n  getClassName() {\n    const {\n      className,\n      placeholder,\n      value\n    } = this.props;\n\n    return [\n      className || '',\n      'content-editable',\n      (!value && placeholder) ? 'content-editable--with-placeholder' : ''\n    ].join(' ');\n  }\n\n  render(props) {\n\n    var {\n      value,\n      placeholder\n    } = props;\n\n    // QUIRK: must add trailing <br/> for line\n    // breaks to properly work\n    value =\n      escapeHtml(value)\n        .replace(/\\r?\\n/g, '<br/>') + '<br/>';\n\n    return (\n      <div\n        className={ this.getClassName() }\n        contentEditable=\"true\"\n        spellcheck=\"false\"\n        data-placeholder={ placeholder || '' }\n        onInput={ this.onInput }\n        onKeypress={ this.onKeypress }\n        onPaste={ this.onPaste }\n        onFocus={ this.onFocus }\n        onBlur={ this.onBlur }\n        onKeydown={ this.onKeydown }\n        ref={ node => this.node = node }\n        dangerouslySetInnerHTML={ { __html: value } }></div>\n    );\n  }\n\n}\n\nfunction brTag() {\n  return document.createElement('br');\n}\n\nfunction innerText(node) {\n\n  // QUIRK: we must remove the last trailing <br/>, if any\n  return node.innerText.replace(/\\n$/, '');\n}\n\nfunction insertLineBreak() {\n\n  // insert line break at current insertation\n  // point; this assumes that the correct element, i.e.\n  // a <ContentEditable /> is currently focussed\n  var selection = getWindowSelection();\n\n  var range = selection.getRangeAt(0);\n\n  if (!range) {\n    return;\n  }\n\n  var newRange = range.cloneRange();\n\n  var br = brTag();\n\n  newRange.deleteContents();\n\n  newRange.insertNode(br);\n\n  newRange.setStartAfter(br);\n  newRange.setEndAfter(br);\n\n  applyRange(newRange);\n}\n\nfunction isIE() {\n  var ua = window.navigator.userAgent;\n\n  return (\n\n    // IE 10 or older\n    ua.indexOf('MSIE ') > 0 ||\n\n    // IE 11\n    ua.indexOf('Trident/') > 0\n  );\n}\n\nfunction isCmd(event) {\n  return event.metaKey || event.ctrlKey;\n}","import { Component } from 'inferno';\n\nimport ContentEditable from './ContentEditable';\n\n\n/**\n * A base component for interactivity.\n *\n * @example\n *\n * class Foo extends EditableComponent {\n *\n *   render() {\n *     return (\n *       <div>{ this.getEditor() }</div>\n *     );\n *   }\n * }\n *\n * And in use:\n *\n * <Foo value={ blub }\n *      onChange={ (newValue) => { ... }\n *      onFocus={ () => { ... } }\n *      onBlur={ () => { ... } }\n *      validate={ (newValue) => { return 'some-error'; } }\n *      className=\"...\" } />\n *\n * Special classes added:\n *\n * * focused\n * * invalid\n *\n */\nexport default class EditableComponent extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      changing: false,\n      focussed: false\n    };\n\n\n    const { injector } = context;\n\n    const debounceInput = injector.get('debounceInput');\n\n    this.inputChanged = debounceInput((value) => {\n      const { onChange } = this.props;\n\n      if (typeof onChange === 'function') {\n        onChange(value);\n      }\n\n      // only unset changed if user input and\n      // committed changed value equal. This prevents the\n      // input jumping back to the saved, good value.\n      const currentValue = this.state.changing;\n\n      this.setState({\n        changing: currentValue === value ? false : currentValue\n      });\n    });\n\n    this.onInput = (value) => {\n\n      var validate = this.props.validate || function() {};\n\n      var invalid = validate(value);\n\n      this.setState({\n        changing: value,\n        invalid: invalid\n      });\n\n      if (!invalid) {\n        this.inputChanged(value);\n      }\n    };\n  }\n\n  onFocus = event => {\n    this.setState({\n      focussed: true\n    });\n\n    var { onFocus } = this.props;\n\n    if (typeof onFocus === 'function') {\n      onFocus(event);\n    }\n  }\n\n  onBlur = event => {\n    this.setState({\n      focussed: false\n    });\n\n    const { invalid } = this.state;\n\n    if (invalid) {\n      this.setState({\n        changing: false,\n        invalid: false\n      });\n    }\n\n    const { onBlur } = this.props;\n\n    if (typeof onBlur === 'function') {\n      onBlur(event);\n    }\n  }\n\n  getClassName() {\n    var {\n      className,\n      value\n    } = this.props;\n\n    var {\n      changing,\n      focussed,\n      invalid\n    } = this.state;\n\n    className += ' editable';\n\n    if (focussed) {\n      className += ' focussed';\n    }\n\n    if (invalid) {\n      className += ' invalid';\n    }\n\n    if (!value && !changing) {\n      className += ' empty';\n    }\n\n    return className;\n  }\n\n  getDisplayValue() {\n\n    var {\n      value,\n      placeholder\n    } = this.props;\n\n    var {\n      focussed,\n      changing\n    } = this.state;\n\n    if (typeof changing === 'string') {\n      value = changing;\n    }\n\n    if (!value) {\n      value = focussed ? '' : (placeholder || '');\n    }\n\n    return value;\n  }\n\n  getEditor(props = {}) {\n\n    return (\n      <ContentEditable\n        className={ props.className }\n        ctrlForNewline={ props.ctrlForNewline }\n        onFocus={ this.onFocus }\n        onBlur={ this.onBlur }\n        onInput={ this.onInput }\n        value={ this.getDisplayValue() } />\n    );\n  }\n\n}\n","import { Component } from 'inferno';\n\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\n\nimport {\n  Cell,\n  inject\n} from 'table-js/lib/components';\n\n\nexport default class EditableAnnotationCell extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n  }\n\n  componentWillMount() {\n    const { row } = this.props;\n\n    this.changeSupport.onElementsChanged(row.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const { row } = this.props;\n\n    this.changeSupport.offElementsChanged(row.id, this.onElementsChanged);\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  setAnnotationValue = (text) => {\n    const { row } = this.props;\n\n    this.modeling.editAnnotation(row.businessObject, text);\n  }\n\n\n  render() {\n    const {\n      row,\n      rowIndex\n    } = this.props;\n    const {\n      description,\n      id\n    } = row.businessObject;\n\n    return (\n\n      <Cell\n        className=\"annotation\"\n        onChange={ this.setAnnotationValue }\n        coords={ `${rowIndex}:annotation` }\n        value={ description }\n        elementId={ id }\n        data-row-id={ row.id }>\n\n        <AnnotationEditor\n          ctrlForNewline={ true }\n          className=\"annotation-editor\"\n          onChange={ this.setAnnotationValue }\n          value={ description } />\n      </Cell>\n    );\n  }\n\n}\n\nEditableAnnotationCell.$inject = [\n  'changeSupport',\n  'modeling'\n];\n\n\nclass AnnotationEditor extends EditableComponent {\n\n  render() {\n    return (\n      <div className={ this.getClassName() }>\n        { this.getEditor() }\n      </div>\n    );\n  }\n}","import AnnotationHeader from '../components/AnnotationHeader';\nimport AnnotationCell from './components/AnnotationCell';\n\nexport default function AnnotationsEditingProvider(components) {\n\n  components.onGetComponent('cell', ({ cellType }) => {\n    if (cellType === 'after-label-cells') {\n      return AnnotationHeader;\n    } else if (cellType === 'after-rule-cells') {\n      return AnnotationCell;\n    }\n  });\n}\n\nAnnotationsEditingProvider.$inject = [ 'components' ];\n","import {\n  debounce,\n  isNumber\n} from 'min-dash';\n\nconst DEFAULT_DEBOUNCE_TIME = 300;\n\nexport default function debounceInput(shouldDebounce) {\n  return function _debounceInput(fn) {\n    if (shouldDebounce !== false) {\n\n      var debounceTime =\n        isNumber(shouldDebounce) ?\n          shouldDebounce :\n          DEFAULT_DEBOUNCE_TIME;\n\n      return debounce(fn, debounceTime);\n    } else {\n      return fn;\n    }\n  };\n}\n\ndebounceInput.$inject = [ 'config.debounceInput' ];","import debounceInput from './debounceInput';\n\nexport default {\n  debounceInput: [ 'factory', debounceInput ]\n};","import AnnotationsEditingProvider from './AnnotationsEditingProvider';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\n\nexport default {\n  __depends__: [ DebounceInput ],\n  __init__: [ 'annotationsProvider' ],\n  annotationsProvider: [ 'type', AnnotationsEditingProvider ]\n};","import { Component } from 'inferno';\r\n\r\nimport {\r\n  assign,\r\n  isFunction\r\n} from 'min-dash';\r\n\r\nimport {\r\n  inject\r\n} from '../../../components';\r\n\r\nimport {\r\n  query as domQuery\r\n} from 'min-dom';\r\n\r\nimport {\r\n  setRange\r\n} from 'selection-ranges';\r\n\r\n/**\r\n * @typedef ContextMenuPosition\r\n * @property {number} x\r\n * @property {number} y\r\n * @property {number} [width=0]\r\n * @property {number} [height=0]\r\n * @property {'bottom-left'|'bottom-right'|'top-left'|'top-right'} [align]\r\n */\r\n\r\nexport default class ContextMenuComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n      position: {\r\n        x: 0,\r\n        y: 0\r\n      }\r\n    };\r\n\r\n    inject(this);\r\n  }\r\n\r\n  /**\r\n   * Open the context menu with given position and context.\r\n   *\r\n   * The menu itself will figure out the best position, taking the optional\r\n   * positioning parameter into account. Position can also contain indicator\r\n   * in which direction to open context menu.\r\n   *\r\n   * @param {ContextMenuPosition} position\r\n   * @param {Object} [context]\r\n   */\r\n  open = ({ position, context }) => {\r\n\r\n    // always close first\r\n    this.close();\r\n\r\n    this.setState({\r\n      isOpen: true,\r\n      position: position || { x: 0, y: 0 },\r\n      context: context || {}\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Closes context menu and resets state.\r\n   */\r\n  close = () => {\r\n\r\n    if (this.state.isOpen) {\r\n      this.setState({\r\n        context: undefined,\r\n        isOpen: false,\r\n        position: {\r\n          x: 0,\r\n          y: 0\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  triggerClose = () => {\r\n    this.eventBus.fire('contextMenu.close');\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.eventBus.on('contextMenu.open', this.open);\r\n    this.eventBus.on('contextMenu.close', this.close);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.eventBus.off('contextMenu.open', this.open);\r\n    this.eventBus.off('contextMenu.close', this.close);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isOpen,\r\n      context,\r\n      position\r\n    } = this.state;\r\n\r\n    if (!isOpen) {\r\n      return null;\r\n    }\r\n\r\n    const components = this.components.getComponents('context-menu', context);\r\n\r\n    if (!components.length) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <ContextMenu\r\n        className=\"context-menu no-deselect\"\r\n        context={ context }\r\n        position={ position }\r\n        offset={ context.offset || { x: 0, y: 0 } }\r\n        autoFocus={ context.autoFocus !== false }\r\n        autoClose={ context.autoClose !== false }\r\n        components={ components }\r\n        onClose={ this.triggerClose } />\r\n    );\r\n  }\r\n}\r\n\r\nContextMenuComponent.$inject = [\r\n  'eventBus',\r\n  'components'\r\n];\r\n\r\n\r\n/**\r\n * Low-level, stateless context menu holder.\r\n */\r\nclass ContextMenu extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  close() {\r\n\r\n    const {\r\n      onClose\r\n    } = this.props;\r\n\r\n    if (isFunction(onClose)) {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Check whether closing the context menu is necessary\r\n   * after selecting the given element.\r\n   */\r\n  checkClose(focusTarget) {\r\n\r\n    const {\r\n      autoClose\r\n    } = this.props;\r\n\r\n    if (!autoClose) {\r\n      return;\r\n    }\r\n\r\n    var node = this.node;\r\n\r\n    if (!node) {\r\n      return;\r\n    }\r\n\r\n    if (node === focusTarget) {\r\n      return;\r\n    }\r\n\r\n    if (node.contains(focusTarget)) {\r\n      return;\r\n    }\r\n\r\n    this.close();\r\n  }\r\n\r\n  /**\r\n   * Handle global (window) mousedown event.\r\n   */\r\n  onGlobalMouseDown = (event) => {\r\n    this.checkClose(event.target);\r\n  }\r\n\r\n  /**\r\n   * Handle global key event.\r\n   */\r\n  onGlobalKey = (event) => {\r\n\r\n    var keyCode = event.which;\r\n\r\n    // ENTER or ESC\r\n    if (keyCode === 13 || keyCode === 27) {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle global (document) focus changed event.\r\n   */\r\n  onFocusChanged = (event) => {\r\n    this.checkClose(event.target);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('focusin', this.onFocusChanged);\r\n    document.addEventListener('keydown', this.onGlobalKey);\r\n    document.addEventListener('mousedown', this.onGlobalMouseDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('focusin', this.onFocusChanged);\r\n    document.removeEventListener('keydown', this.onGlobalKey);\r\n    document.removeEventListener('mousedown', this.onGlobalMouseDown);\r\n  }\r\n\r\n  setNode = (node) => {\r\n    this.node = node;\r\n\r\n    const {\r\n      autoFocus\r\n    } = this.props;\r\n\r\n    if (node) {\r\n      this.updatePosition();\r\n\r\n      if (autoFocus) {\r\n        ensureFocus(node);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Find best context menu position and re-layout accordingly.\r\n   */\r\n  updatePosition() {\r\n\r\n    const {\r\n      position,\r\n      offset\r\n    } = this.props;\r\n\r\n    const bounds = this.node.getBoundingClientRect();\r\n\r\n    if (!position.width) {\r\n      position.width = 0;\r\n    }\r\n\r\n    if (!position.height) {\r\n      position.height = 0;\r\n    }\r\n\r\n    const container = this.renderer.getContainer();\r\n\r\n    const containerBounds = container.getBoundingClientRect();\r\n\r\n    if (containerBounds.width > containerBounds.height) {\r\n      this.node.classList.add('horizontal');\r\n      this.node.classList.remove('vertical');\r\n    } else {\r\n      this.node.classList.add('vertical');\r\n      this.node.classList.remove('horizontal');\r\n    }\r\n\r\n    const { scrollLeft, scrollTop } = container;\r\n\r\n    const style = {};\r\n\r\n    let alignment;\r\n\r\n    if (position.align) {\r\n      alignment = position.align.split('-');\r\n    }\r\n\r\n    let left, top;\r\n\r\n    const horizontalAlignment = alignment && alignment[1] || (\r\n      position.x + (position.width / 2) > containerBounds.width / 2 ? 'left' : 'right'\r\n    );\r\n\r\n    if (horizontalAlignment === 'left') {\r\n      left = position.x\r\n        - containerBounds.left\r\n        - bounds.width\r\n        + offset.x\r\n        + scrollLeft;\r\n    } else {\r\n      left = window.scrollX\r\n        - containerBounds.left\r\n        + position.x\r\n        + position.width\r\n        - offset.x\r\n        + scrollLeft;\r\n    }\r\n    left = alignment ? left : clampNumber(\r\n      left,\r\n      0 + scrollLeft,\r\n      containerBounds.width - bounds.width + scrollLeft\r\n    );\r\n    style.left = left + 'px';\r\n\r\n    const verticalAlignment = alignment && alignment[0] || (\r\n      position.y + (position.height / 2) > containerBounds.height / 2 ? 'top' : 'bottom'\r\n    );\r\n\r\n    if (verticalAlignment === 'top') {\r\n      top = position.y\r\n        - containerBounds.top\r\n        - bounds.height\r\n        + offset.y\r\n        + scrollTop;\r\n    } else {\r\n      top = window.scrollY\r\n        - containerBounds.top\r\n        + position.y\r\n        - offset.y\r\n        + scrollTop;\r\n    }\r\n    top = alignment ? top : clampNumber(\r\n      top,\r\n      0 + scrollTop,\r\n      containerBounds.height - bounds.height + scrollTop\r\n    );\r\n    style.top = top + 'px';\r\n\r\n    // ensure context menu will always be accessible\r\n    style.overflowY = 'auto';\r\n    style.maxHeight = (containerBounds.height - top + scrollTop) + 'px';\r\n\r\n    assign(this.node.style, style);\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const {\r\n      context,\r\n      components,\r\n      className\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        ref={ this.setNode }\r\n        onContextMenu={ e => e.preventDefault() }\r\n        className={ className }>\r\n        {\r\n          components.map(\r\n            (Component, idx) => <Component key={ idx } context={ context } />\r\n          )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nContextMenu.$inject = [\r\n  'renderer'\r\n];\r\n\r\n\r\n// helpers /////////////\r\n\r\nfunction clampNumber(number, min, max) {\r\n  return Math.max(min, Math.min(max, number));\r\n}\r\n\r\nconst SELECTABLE_ELEMENTS = `\r\n  input[type=text],\r\n  input[type=number],\r\n  input[type=button],\r\n  input[type=submit],\r\n  [contenteditable],\r\n  [tabindex],\r\n  a[href],\r\n  textarea,\r\n  button\r\n`;\r\n\r\nfunction ensureFocus(el) {\r\n\r\n  var focusEl = domQuery(SELECTABLE_ELEMENTS, el);\r\n\r\n  if (focusEl) {\r\n    focusEl.focus();\r\n\r\n    // inputs\r\n    if (focusEl.selectionStart && focusEl.type === 'text') {\r\n      focusEl.selectionStart = 100000;\r\n    } else\r\n\r\n    // content editable elements\r\n    if ('contentEditable' in focusEl) {\r\n      setRange(focusEl, { start: 100000, end: 100000 });\r\n    }\r\n  }\r\n}","import ContextMenuComponent from './components/ContextMenuComponent';\r\n\r\nexport default class ContextMenu {\r\n  constructor(components, eventBus, renderer) {\r\n    this._eventBus = eventBus;\r\n\r\n    components.onGetComponent('table.before', () => ContextMenuComponent);\r\n  }\r\n\r\n  open(position, context) {\r\n    this._eventBus.fire('contextMenu.open', {\r\n      position,\r\n      context\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this._eventBus.fire('contextMenu.close');\r\n  }\r\n}\r\n\r\nContextMenu.$inject = [\r\n  'components',\r\n  'eventBus',\r\n  'renderer'\r\n];","import ContextMenu from './ContextMenu';\n\nexport default {\n  __init__: [ 'contextMenu' ],\n  contextMenu: [ 'type', ContextMenu ]\n};","export function hasModifier(modifiers) {\n  return (\n    modifiers.ctrlKey ||\n    modifiers.metaKey ||\n    modifiers.shiftKey ||\n    modifiers.altKey\n  );\n}\n\nexport function isCmd(modifiers) {\n\n  // ensure we don't react to AltGr\n  // (mapped to CTRL + ALT)\n  if (modifiers.altKey) {\n    return false;\n  }\n\n  return modifiers.ctrlKey || modifiers.metaKey;\n}\n\nexport function isShift(modifiers) {\n  return modifiers.shiftKey;\n}\n","import {\n  getRange\n} from 'selection-ranges';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  getFocusableNode,\n  getNodeById\n} from '../../cell-selection/CellSelectionUtil';\n\nimport {\n  isCmd,\n  isShift\n} from '../../keyboard/KeyboardUtil';\n\n\n/**\n * Keybindings for Copy + Paste\n */\nexport default class CopyPasteKeyBindings {\n\n  constructor(\n      injector, eventBus, clipboard,\n      cellSelection, elementRegistry, editorActions,\n      renderer) {\n\n    this._clipboard = clipboard;\n    this._cellSelection = cellSelection;\n    this._elementRegistry = elementRegistry;\n    this._editorActions = editorActions;\n    this._keyboard = injector.get('keyboard', false);\n    this._renderer = renderer;\n\n    if (!this._keyboard) {\n      return;\n    }\n\n    eventBus.on('keyboard.init', this._registerBindings);\n\n    eventBus.on('keyboard.bind', () => {\n      domEvent.bind(document, 'copy', this._clearClipboard, true);\n      domEvent.bind(document, 'cut', this._clearClipboard, true);\n    });\n\n    eventBus.on('keyboard.unbind', () => {\n      domEvent.unbind(document, 'copy', this._clearClipboard, true);\n      domEvent.unbind(document, 'cut', this._clearClipboard, true);\n    });\n  }\n\n  _clearClipboard = () => {\n    this._clipboard.clear();\n  }\n\n  /**\n   * Return the selected cell within the decision table.\n   *\n   * This verifies that a cell ready for copy-or-paste is\n   * actual selected by the user, in the Browser UI.\n   *\n   * @return {Cell}\n   */\n  _getSelectedCell() {\n\n    const elementId = this._cellSelection.getCellSelection();\n\n    // we may have no selection\n    if (!elementId) {\n      return;\n    }\n\n    const cell = this._elementRegistry.get(elementId);\n\n    // selection may not be a cell\n    if (!cell) {\n      return;\n    }\n\n    const container = this._renderer.getContainer();\n\n    const node = getNodeById(elementId, container);\n\n    const focusableNode = getFocusableNode(node);\n\n    // focusable element in selection may not be actual\n    // browser focus, i.e. when a menu is open\n    if (document.activeElement !== focusableNode) {\n      return;\n    }\n\n    const range = getRange(node);\n\n    // user may attempt native copy-paste operation right now\n    // don't interfere with normal text copying\n    if (range && (range.start !== range.end)) {\n      return;\n    }\n\n    return cell;\n  }\n\n\n  _registerBindings = () => {\n\n    // copy\n    // CTRL/CMD + C\n    const copy = (key, modifiers) => {\n\n      if (isCmd(modifiers) && (key === 67)) {\n        const cell = this._getSelectedCell();\n\n        if (!cell) {\n          return;\n        }\n\n        if (isShift(modifiers)) {\n          this._editorActions.trigger('copy', {\n            element: cell.col\n          });\n        } else {\n          this._editorActions.trigger('copy', {\n            element: cell.row\n          });\n        }\n\n        return true;\n      }\n    };\n\n    // cut\n    // CTRL/CMD + X\n    const cut = (key, modifiers) => {\n\n      if (isCmd(modifiers) && (key === 88)) {\n\n        const cell = this._getSelectedCell();\n\n        if (!cell) {\n          return;\n        }\n\n        if (isShift(modifiers)) {\n          this._editorActions.trigger('cut', {\n            element: cell.col\n          });\n        } else {\n          this._editorActions.trigger('cut', {\n            element: cell.row\n          });\n        }\n\n        return true;\n      }\n    };\n\n    // paste\n    // CTRL/CMD + V\n    const paste = (key, modifiers) => {\n\n      let pasted;\n\n      if (isCmd(modifiers) && (key === 86)) {\n\n        const cell = this._getSelectedCell();\n\n        if (!cell) {\n          return;\n        }\n\n        if (isShift(modifiers)) {\n          pasted = this._editorActions.trigger('pasteAfter', {\n            element: cell.col\n          });\n\n          if (pasted) {\n            this._cellSelection.selectCell('right');\n          }\n        } else {\n          pasted = this._editorActions.trigger('pasteAfter', {\n            element: cell.row\n          });\n\n          if (pasted) {\n            this._cellSelection.selectCell('below');\n          }\n        }\n      }\n\n      // indicate, whether we could paste\n      return typeof pasted !== 'undefined';\n    };\n\n    // register listeners\n    [ copy, cut, paste ].forEach((l) => {\n      this._keyboard.addListener(l);\n    });\n  }\n\n}\n\n\nCopyPasteKeyBindings.$inject = [\n  'injector',\n  'eventBus',\n  'clipboard',\n  'cellSelection',\n  'elementRegistry',\n  'editorActions',\n  'renderer'\n];","import ClipboardModule from 'diagram-js/lib/features/clipboard';\nimport CellSelectionModule from '../../cell-selection';\n\nimport CopyCutPasteKeyBindings from './CopyCutPasteKeyBindings';\n\n\nexport default {\n  __depends__: [\n    ClipboardModule,\n    CellSelectionModule\n  ],\n  __init__: [\n    'copyCutPasteKeyBindings'\n  ],\n  copyCutPasteKeyBindings: [ 'type', CopyCutPasteKeyBindings ]\n};","import { Component } from 'inferno';\r\n\r\nimport {\r\n  inject\r\n} from 'table-js/lib/components';\r\n\r\nexport default class CreateInputsHeaderCell extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  onClick = (event) => {\r\n    this.editorActions.trigger('addInput');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <th\r\n        className=\"input-cell create-inputs header actionable\"\r\n        onClick={ this.onClick }\r\n        title={ this.translate('Add Input') }>\r\n        { this.translate('Input') } <span\r\n          className=\"add-input dmn-icon-plus action-icon\"\r\n          title={ this.translate('Add Input') }\r\n        ></span>\r\n      </th>\r\n    );\r\n  }\r\n}\r\n\r\nCreateInputsHeaderCell.$inject = [ 'editorActions', 'translate' ];","import { Component } from 'inferno';\r\n\r\nimport {\r\n  inject\r\n} from 'table-js/lib/components';\r\n\r\nexport default class CreateInputsCell extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  onClick = (event) => {\r\n    this.editorActions.trigger('addInput');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <td\r\n        className=\"input-cell create-inputs\"\r\n        onClick={ this.onClick }\r\n        title={ this.translate('Add Input') }>-</td>\r\n    );\r\n  }\r\n}\r\n\r\nCreateInputsCell.$inject = [ 'editorActions', 'translate' ];","import CreateInputsHeaderCell from './components/CreateInputHeaderCell';\r\nimport CreateInputsCell from './components/CreateInputCell';\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nexport default class CreateInputsProvider {\r\n  constructor(components, sheet) {\r\n    components.onGetComponent('cell', LOW_PRIORITY, ({ cellType }) => {\r\n      const { businessObject } = sheet.getRoot();\r\n\r\n      if (businessObject.input && businessObject.input.length) {\r\n        return;\r\n      }\r\n\r\n      if (cellType === 'before-label-cells') {\r\n        return CreateInputsHeaderCell;\r\n      } else if (cellType === 'before-rule-cells') {\r\n        return CreateInputsCell;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nCreateInputsProvider.$inject = [ 'components', 'sheet' ];","import CreateInputsProvider from './CreateInputsProvider';\r\nimport EditorActions from '../editor-actions';\r\n\r\nexport default {\r\n  __depends__: [ EditorActions ],\r\n  __init__: [\r\n    'createInputsProvider'\r\n  ],\r\n  createInputsProvider: [ 'type', CreateInputsProvider ]\r\n};","const COMMANDS = [\r\n  'row.add',\r\n  'row.remove',\r\n  'col.add',\r\n  'col.remove'\r\n];\r\n\r\nexport default class ContextMenuCloseBehavior {\r\n  constructor(contextMenu, eventBus) {\r\n    eventBus.on('commandStack.executed', ({ command }) => {\r\n\r\n      // close on certain modeling operations\r\n      if (COMMANDS.indexOf(command) !== -1) {\r\n        contextMenu.close();\r\n      }\r\n\r\n    });\r\n\r\n    // always close on undo\r\n    eventBus.on('commandStack.reverted', () => {\r\n      contextMenu.close();\r\n    });\r\n  }\r\n}\r\n\r\nContextMenuCloseBehavior.$inject = [ 'contextMenu', 'eventBus' ];","import { Component } from 'inferno';\r\n\r\nimport {\r\n  mixin\r\n} from 'table-js/lib/components';\r\n\r\nimport {\r\n  ComponentWithSlots\r\n} from 'dmn-js-shared/lib/components/mixins';\r\n\r\n\r\nexport default class OutputCell extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    mixin(this, ComponentWithSlots);\r\n\r\n    this._translate = context.injector.get('translate');\r\n  }\r\n\r\n  onClick = (event) => {\r\n    const { output } = this.props;\r\n\r\n    this._eventBus.fire('output.edit', {\r\n      event,\r\n      output\r\n    });\r\n  }\r\n\r\n  onContextmenu = (event) => {\r\n    const { id } = this.props.output;\r\n\r\n    this._eventBus.fire('cell.contextmenu', {\r\n      event,\r\n      id\r\n    });\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { injector } = this.context;\r\n\r\n    this._changeSupport = this.context.changeSupport;\r\n    this._eventBus = injector.get('eventBus');\r\n    this._elementRegistry = injector.get('elementRegistry');\r\n\r\n    const { output } = this.props;\r\n\r\n    this._changeSupport.onElementsChanged(output.id, this.onElementsChanged);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { output } = this.props;\r\n\r\n    this._changeSupport.offElementsChanged(output.id, this.onElementsChanged);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      output,\r\n      index,\r\n      outputsLength\r\n    } = this.props;\r\n\r\n    const {\r\n      label,\r\n      name,\r\n      outputValues,\r\n      typeRef\r\n    } = output;\r\n\r\n    const width = output.width ? output.width + 'px' : '192px';\r\n\r\n    return (\r\n      <th\r\n        data-col-id={ output.id }\r\n        onDoubleClick={ this.onClick }\r\n        onContextmenu={ this.onContextmenu }\r\n        className=\"output-cell output-editor\"\r\n        style={ { width } }\r\n      >\r\n\r\n        {\r\n          this.slotFills({\r\n            type: 'cell-inner',\r\n            context: {\r\n              cellType: 'output-cell',\r\n              col: this._elementRegistry.get(output.id),\r\n              index,\r\n              outputsLength\r\n            },\r\n            col: output\r\n          })\r\n        }\r\n\r\n        <div className=\"clause\">\r\n          { index === 0 ? this._translate('Then') : this._translate('And') }\r\n        </div>\r\n\r\n        {\r\n          label ? (\r\n            <div className=\"output-label\" title={ this._translate('Output Label') }>\r\n              { label }\r\n            </div>\r\n          ) : (\r\n            <div className=\"output-name\" title={ this._translate('Output Name') }>\r\n              { name }\r\n            </div>\r\n          )\r\n        }\r\n\r\n        <div\r\n          className=\"output-variable\"\r\n          title={\r\n            outputValues && outputValues.text ? this._translate('Output Values') :\r\n              this._translate('Output Type')\r\n          }\r\n        >\r\n          { outputValues && outputValues.text || typeRef }\r\n        </div>\r\n      </th>\r\n    );\r\n  }\r\n\r\n}","import { Component } from 'inferno';\r\n\r\n\r\nexport default class Input extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n  }\r\n\r\n  onInput = (event) => {\r\n    const { onInput } = this.props;\r\n\r\n    if (typeof onInput !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onInput(event.target.value);\r\n  }\r\n\r\n  onKeyDown = (event) => {\r\n    const { onKeyDown } = this.props;\r\n\r\n    if (typeof onKeyDown !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyDown(event);\r\n  }\r\n\r\n  onKeyUp = (event) => {\r\n    const { onKeyUp } = this.props;\r\n\r\n    if (typeof onKeyUp !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyUp(event);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      placeholder,\r\n      type,\r\n      value\r\n    } = this.props;\r\n\r\n    return (\r\n      <input\r\n        className={ [ className || '', 'dms-input' ].join(' ') }\r\n        placeholder={ placeholder || '' }\r\n        onInput={ this.onInput }\r\n        onKeyDown={ this.onKeyDown }\r\n        onKeyUp={ this.onKeyUp }\r\n        spellcheck=\"false\"\r\n        type={ type || 'text' }\r\n        value={ value } />\r\n    );\r\n  }\r\n}","import { Component } from 'inferno';\n\nimport ContentEditable from 'dmn-js-shared/lib/components/ContentEditable';\nimport Input from 'dmn-js-shared/lib/components/Input';\n\n\nexport default class OutputEditor extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.translate = context.injector ? context.injector.get('translate') : noopTranslate;\n\n    this.setName = (name) => {\n      name = name || undefined;\n\n      this.handleChange({ name });\n    };\n\n    this.setLabel = (label) => {\n      label = label || undefined;\n\n      this.handleChange({ label });\n    };\n  }\n\n\n  handleChange(changes) {\n    var { onChange } = this.props;\n\n    if (typeof onChange === 'function') {\n      onChange(changes);\n    }\n  }\n\n  render() {\n\n    const {\n      name,\n      label\n    } = this.props;\n\n    return (\n      <div className=\"context-menu-container ref-output-editor output-edit\">\n\n        <div className=\"dms-form-control\">\n          <ContentEditable\n            className=\"dms-output-label\"\n            value={ label || '' }\n            placeholder={ this.translate('Output') }\n            singleLine\n            onInput={ this.setLabel } />\n        </div>\n\n        <div className=\"dms-form-control\">\n          <label className=\"dms-label\">\n            {\n              this.translate('Output Name')\n            }\n          </label>\n\n          <Input\n            className=\"ref-output-name\"\n            value={ name || '' }\n            onInput={ this.setName } />\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\nfunction noopTranslate(str) {\n  return str;\n}","import { Component } from 'inferno';\n\nimport OutputEditor from './OutputEditor';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\n\nexport default class OutputCellContextMenu extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n\n    inject(this);\n\n    this.persistChanges = this.debounceInput(this.persistChanges);\n  }\n\n  persistChanges = () => {\n    const { output } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    if (!unsaved) {\n      return;\n    }\n\n    this.modeling.updateProperties(output, unsaved);\n\n    this.setState({\n      unsaved: false\n    });\n  }\n\n  handleChange = (changes) => {\n    this.setState({\n      unsaved: {\n        ...this.state.unsaved,\n        ...changes\n      }\n    }, this.persistChanges);\n  };\n\n  getValue(attr) {\n    const { output } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    return unsaved && attr in unsaved ? unsaved[attr] : output.get(attr);\n  }\n\n  render() {\n    return (\n      <OutputEditor\n        name={ this.getValue('name') }\n        label={ this.getValue('label') }\n        onChange={ this.handleChange } />\n    );\n  }\n}\n\nOutputCellContextMenu.$inject = [\n  'debounceInput',\n  'modeling'\n];","import {\n  closest as domClosest,\n  matches as domMatches\n} from 'min-dom';\n\nimport OutputCell from './components/OutputCell';\nimport OutputCellContextMenu from './components/OutputCellContextMenu';\n\n\nexport default class OutputEditingProvider {\n\n  constructor(components, contextMenu, eventBus, renderer) {\n\n    components.onGetComponent('cell', ({ cellType }) => {\n      if (cellType === 'output-header') {\n        return OutputCell;\n      }\n    });\n\n    components.onGetComponent('context-menu', (context = {}) => {\n      if (\n        context.contextMenuType === 'output-edit'\n      ) {\n        return OutputCellContextMenu;\n      }\n    });\n\n    eventBus.on('output.edit', ({ event, output }) => {\n      const { target } = event;\n\n      const node = domClosest(target, 'th', true);\n\n      const { left, top } = node.getBoundingClientRect();\n\n      const offset = getOffset(node);\n\n      contextMenu.open({\n        x: left,\n        y: top,\n        align: 'bottom-right'\n      }, {\n        contextMenuType: 'output-edit',\n        output,\n        offset\n      });\n    });\n  }\n\n}\n\nOutputEditingProvider.$inject = [\n  'components',\n  'contextMenu',\n  'eventBus',\n  'renderer'\n];\n\nfunction getOffset(element) {\n  if (!domMatches(element, '.output-cell + .output-cell')) {\n    return { x: -1, y: 0 };\n  }\n}","import { Component } from 'inferno';\n\nimport {\n  mixin\n} from 'table-js/lib/components';\n\nimport {\n  ComponentWithSlots\n} from 'dmn-js-shared/lib/components/mixins';\n\n\nexport default class InputCell extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    mixin(this, ComponentWithSlots);\n\n    this._translate = context.injector.get('translate');\n  }\n\n  onClick = (event) => {\n    const { input } = this.props;\n\n    this._eventBus.fire('input.edit', {\n      event,\n      input\n    });\n  }\n\n  onContextmenu = (event) => {\n    const { id } = this.props.input;\n\n    this._eventBus.fire('cell.contextmenu', {\n      event,\n      id\n    });\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentWillMount() {\n    const { injector } = this.context;\n\n    this._changeSupport = this.context.changeSupport;\n    this._sheet = injector.get('sheet');\n    this._eventBus = injector.get('eventBus');\n    this._elementRegistry = injector.get('elementRegistry');\n\n    const root = this._sheet.getRoot();\n\n    const { input } = this.props;\n\n    this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n    this._changeSupport.onElementsChanged(input.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const root = this._sheet.getRoot();\n\n    const { input } = this.props;\n\n    this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n    this._changeSupport.offElementsChanged(input.id, this.onElementsChanged);\n  }\n\n  render() {\n    const {\n      input,\n      index,\n      inputsLength\n    } = this.props;\n\n    const {\n      inputExpression,\n      inputValues\n    } = input;\n\n    const label = input.get('label');\n\n    const width = input.width ? input.width + 'px' : '192px';\n\n    return (\n      <th\n        data-col-id={ input.id }\n        onDoubleClick={ this.onClick }\n        onContextmenu={ this.onContextmenu }\n        className=\"input-cell input-editor\"\n        style={ { width } }\n      >\n\n        {\n          this.slotFills({\n            type: 'cell-inner',\n            context: {\n              cellType: 'input-cell',\n              col: this._elementRegistry.get(input.id),\n              index,\n              inputsLength\n            },\n            col: input\n          })\n        }\n\n        <div className=\"clause\">\n          { index === 0 ? this._translate('When') : this._translate('And') }\n        </div>\n\n        {\n          label ? (\n            <div className=\"input-label\" title={ this._translate('Input Label') }>\n              { label }\n            </div>\n          ) : (\n            <div\n              className=\"input-expression\"\n              title={ this._translate('Input Expression') }>\n              { inputExpression.text }\n            </div>\n          )\n        }\n\n        <div\n          className=\"input-variable\"\n          title={\n            inputValues && inputValues.text ? this._translate('Input Values') :\n              this._translate('Input Type')\n          }\n        >\n          { inputValues && inputValues.text || inputExpression.typeRef }\n        </div>\n      </th>\n    );\n  }\n\n}","import { Component, createPortal } from 'inferno';\r\n\r\nimport {\r\n  inject\r\n} from 'table-js/lib/components';\r\n\r\nimport { assign } from 'min-dash';\r\n\r\nimport {\r\n  domify,\r\n  remove as domRemove\r\n} from 'min-dom';\r\n\r\n\r\nexport default class InputSelect extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n\r\n    const { value } = props;\r\n\r\n    this.state = {\r\n      value,\r\n      optionsVisible: false\r\n    };\r\n\r\n    this._portalEl = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousedown', this.onGlobalClick);\r\n    document.addEventListener('focusin', this.onFocusChanged);\r\n\r\n    this.keyboard.addListener(this.onKeyboard);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('focusin', this.onFocusChanged);\r\n    document.removeEventListener('mousedown', this.onGlobalClick);\r\n\r\n    this.keyboard.removeListener(this.onKeyboard);\r\n\r\n    this.removePortalEl();\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    const { value } = props;\r\n\r\n    this.setState({\r\n      value\r\n    });\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    const { optionsVisible } = nextState;\r\n\r\n    if (optionsVisible) {\r\n      if (!this._portalEl) {\r\n        this.addPortalEl();\r\n      }\r\n    } else {\r\n      if (this._portalEl) {\r\n        this.removePortalEl();\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { optionsVisible } = this.state;\r\n\r\n    if (!optionsVisible || !this.inputNode) {\r\n      return;\r\n    }\r\n\r\n    const optionsBounds = this.getOptionsBounds();\r\n\r\n    assign(this._portalEl.style, optionsBounds);\r\n  }\r\n\r\n  getOptionsBounds() {\r\n    const container = this.renderer.getContainer();\r\n    const { top: containerTop, left: containerLeft } = container.getBoundingClientRect();\r\n\r\n    const {\r\n      top: inputTop, left: inputLeft, width, height\r\n    } = this.inputNode.getBoundingClientRect();\r\n\r\n    const top = inputTop + height - containerTop + container.scrollTop;\r\n    const left = inputLeft - containerLeft + container.scrollLeft;\r\n\r\n    return {\r\n      top: `${top}px`,\r\n      left: `${left}px`,\r\n      width: `${width}px`\r\n    };\r\n  }\r\n\r\n  addPortalEl() {\r\n    this._portalEl = domify('<div class=\"dms-select-options\"></div>');\r\n\r\n    const container = this.renderer.getContainer();\r\n\r\n    container.appendChild(this._portalEl);\r\n\r\n    // suppress mousedown event propagation to handle click events inside the component\r\n    this._portalEl.addEventListener('mousedown', stopPropagation);\r\n  }\r\n\r\n  removePortalEl() {\r\n    if (this._portalEl) {\r\n      this._portalEl.removeEventListener('mousedown', stopPropagation);\r\n\r\n      domRemove(this._portalEl);\r\n\r\n      this._portalEl = null;\r\n    }\r\n  }\r\n\r\n  onChange = (value) => {\r\n    this.setState({\r\n      value\r\n    });\r\n\r\n    const { onChange } = this.props;\r\n\r\n    if (typeof onChange !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onChange(value);\r\n  }\r\n\r\n  onInputClick = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.setOptionsVisible(!this.state.optionsVisible);\r\n\r\n    this.focusInput();\r\n  }\r\n\r\n  onInput = (event) => {\r\n    const { value } = event.target;\r\n\r\n    this.onChange(value);\r\n  }\r\n\r\n  onOptionClick = (value, event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.setOptionsVisible(false);\r\n\r\n    this.onChange(value);\r\n\r\n    this.focusInput();\r\n  }\r\n\r\n  /**\r\n   * Focus input node\r\n   */\r\n  focusInput() {\r\n    const node = this.inputNode;\r\n\r\n    node.focus();\r\n\r\n    // move cursor to end of input\r\n    if ('selectionStart' in node) {\r\n      node.selectionStart = 100000;\r\n    }\r\n  }\r\n\r\n  checkClose(focusTarget) {\r\n\r\n    if (this._portalEl\r\n      && !this._portalEl.contains(focusTarget)\r\n      && !this.parentNode.contains(focusTarget)) {\r\n      this.setOptionsVisible(false);\r\n    }\r\n  }\r\n\r\n  onFocusChanged = (evt) => {\r\n    this.checkClose(evt.target);\r\n  }\r\n\r\n  onGlobalClick = (evt) => {\r\n    this.checkClose(evt.target);\r\n  }\r\n\r\n  select(direction) {\r\n\r\n    const {\r\n      options\r\n    } = this.props;\r\n\r\n    const {\r\n      value\r\n    } = this.state;\r\n\r\n    if (!options) {\r\n      return;\r\n    }\r\n\r\n    const option = options.filter(o => o.value === value)[0];\r\n\r\n    const idx = option\r\n      ? options.indexOf(option)\r\n      : -1;\r\n\r\n    const nextIdx = (\r\n      idx === -1\r\n        ? (\r\n          direction === 1\r\n            ? 0\r\n            : options.length - 1)\r\n        : ((idx + direction) % options.length)\r\n    );\r\n\r\n    const nextOption = options[nextIdx < 0 ? options.length + nextIdx : nextIdx];\r\n\r\n    this.onChange(nextOption.value);\r\n  }\r\n\r\n  setOptionsVisible(optionsVisible) {\r\n    this.setState({\r\n      optionsVisible\r\n    });\r\n  }\r\n\r\n  onKeyDown = (evt) => {\r\n\r\n    const {\r\n      optionsVisible\r\n    } = this.state;\r\n\r\n    var code = evt.which;\r\n\r\n    // DOWN or UP\r\n    if (code === 40 || code === 38) {\r\n\r\n      evt.stopPropagation();\r\n      evt.preventDefault();\r\n\r\n      if (!optionsVisible) {\r\n        this.setOptionsVisible(true);\r\n      } else {\r\n        this.select(code === 40 ? 1 : -1);\r\n      }\r\n    }\r\n\r\n    if (optionsVisible) {\r\n\r\n      // ENTER\r\n      // ESC\r\n      if (code === 13 || code === 27) {\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n\r\n        this.setOptionsVisible(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  onKeyboard = (keycode) => {\r\n    const { optionsVisible } = this.state;\r\n\r\n    if (!optionsVisible) {\r\n      return;\r\n    }\r\n\r\n    // close on ESC\r\n    if (keycode === 27) {\r\n      this.setOptionsVisible(false);\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  renderOptions(options, activeOption) {\r\n    return (\r\n      <div className=\"options\">\r\n        {\r\n          options.map(option => {\r\n            return (\r\n              <div\r\n                className={\r\n                  [ 'option', activeOption === option ? 'active' : '' ].join(' ')\r\n                }\r\n                data-value={ option.value }\r\n                onClick={ e => this.onOptionClick(option.value, e) }>\r\n                { option.label }\r\n              </div>\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      options,\r\n      noInput,\r\n      title\r\n    } = this.props;\r\n\r\n    const {\r\n      optionsVisible,\r\n      value\r\n    } = this.state;\r\n\r\n    const option = options ? options.filter(o => o.value === value)[0] : false;\r\n\r\n    const label = option ? option.label : value;\r\n\r\n    return (\r\n      <div\r\n        title={ title }\r\n        ref={ node => this.parentNode = node }\r\n        className={ [ className || '', 'dms-input-select' ].join(' ') }\r\n        onClick={ this.onInputClick }>\r\n        {\r\n          noInput\r\n            ? <div\r\n              className=\"dms-input\"\r\n              tabindex=\"0\"\r\n              onKeyDown={ this.onKeyDown }\r\n              ref={ node => this.inputNode = node }>{ label }</div>\r\n            : <input\r\n              className=\"dms-input\"\r\n              onInput={ this.onInput }\r\n              onKeyDown={ this.onKeyDown }\r\n              spellcheck=\"false\"\r\n              ref={ node => this.inputNode = node }\r\n              type=\"text\"\r\n              value={ value } />\r\n        }\r\n        <span\r\n          className={ [\r\n            'dms-input-select-icon',\r\n            optionsVisible ? 'dmn-icon-up' : 'dmn-icon-down'\r\n          ].join(' ') }>\r\n        </span>\r\n        {\r\n          optionsVisible\r\n            && createPortal(this.renderOptions(options, option), this._portalEl)\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nInputSelect.$inject = [ 'keyboard', 'renderer' ];\r\n\r\n\r\n// helper ////\r\nfunction stopPropagation(event) {\r\n  event.stopPropagation();\r\n}\r\n","import { Component } from 'inferno';\n\nimport ContentEditable from 'dmn-js-shared/lib/components/ContentEditable';\nimport Input from 'dmn-js-shared/lib/components/Input';\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\n\nexport default class InputEditor extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.translate = context.injector ? context.injector.get('translate') : noopTranslate;\n\n    const defaultExpressionLanguage = props.defaultExpressionLanguage.value;\n\n    this.setExpressionLanguage = (expressionLanguage) => {\n      this.handleChange({ expressionLanguage });\n    };\n\n    this.handleValue = (text) => {\n\n      let { expressionLanguage } = this.props;\n\n      let change = { text };\n\n      if (isMultiLine(text) && !expressionLanguage) {\n        change.expressionLanguage = defaultExpressionLanguage;\n      }\n\n      if (!isMultiLine(text) && expressionLanguage === defaultExpressionLanguage) {\n        change.expressionLanguage = undefined;\n      }\n\n      this.handleChange(change);\n    };\n\n    this.handleLanguageChange = (language) => {\n      this.setExpressionLanguage(language);\n    };\n\n    this.handleLabelChange = (value) => {\n\n      // default to <undefined> for empty string\n      var label = value || undefined;\n\n      this.handleChange({ label });\n    };\n\n    this.handleInputVariableChange = (value) => {\n\n      // default to <undefined> for empty string\n      var inputVariable = value || undefined;\n\n      this.handleChange({ inputVariable });\n    };\n\n  }\n\n  handleChange(changes) {\n    var { onChange } = this.props;\n\n    if (typeof onChange === 'function') {\n      onChange(changes);\n    }\n  }\n\n  render() {\n\n    const {\n      expressionLanguage,\n      expressionLanguages,\n      inputVariable,\n      label,\n      text\n    } = this.props;\n\n    return (\n      <div className=\"context-menu-container ref-input-editor input-edit\">\n\n        <div className=\"dms-form-control\">\n          <ContentEditable\n            className=\"dms-input-label\"\n            value={ label || '' }\n            placeholder={ this.translate('Input') }\n            singleLine\n            onInput={ this.handleLabelChange } />\n        </div>\n\n        <div className=\"dms-form-control\">\n          <label className=\"dms-label\">\n            {\n              this.translate('Expression')\n            }\n          </label>\n\n          <ContentEditable\n            placeholder=\"enter expression\"\n            className={\n              [\n                'ref-text',\n                'dms-input'\n              ].join(' ')\n            }\n            onInput={ this.handleValue }\n            value={ text || '' } />\n        </div>\n\n        <div className=\"dms-form-control\">\n          <label className=\"dms-label\">\n            {\n              this.translate('Expression Language')\n            }\n          </label>\n\n          <InputSelect\n            className=\"ref-language\"\n            value={ expressionLanguage || '' }\n            onChange={ this.handleLanguageChange }\n            options={ expressionLanguages } />\n        </div>\n\n        <div className=\"dms-form-control\">\n          <label className=\"dms-label\">\n            {\n              this.translate('Input Variable')\n            }\n          </label>\n\n          <Input\n            className=\"ref-input-variable\"\n            value={ inputVariable || '' }\n            onInput={ this.handleInputVariableChange }\n            placeholder={ this.translate('cellInput') } />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction isMultiLine(text) {\n  return text && text.split(/\\n/).length > 1;\n}\n\nfunction noopTranslate(str) {\n  return str;\n}\n","import { Component } from 'inferno';\n\nimport InputEditor from './InputEditor';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\n\nexport default class InputCellContextMenu extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n\n    inject(this);\n\n    this.persistChanges = this.debounceInput(this.persistChanges);\n\n    this._expressionLanguages = context.injector.get('expressionLanguages');\n  }\n\n  persistChanges = () => {\n    const { input } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    if (!unsaved) {\n      return;\n    }\n\n    const {\n      inputVariable,\n      label,\n      ...inputExpressionProperties\n    } = unsaved;\n\n    var changes = { };\n\n    if ('inputVariable' in unsaved) {\n      changes.inputVariable = inputVariable;\n    }\n\n    if ('label' in unsaved) {\n      changes.label = label;\n    }\n\n    if (hasKeys(inputExpressionProperties)) {\n      changes.inputExpression = inputExpressionProperties;\n    }\n\n    this.modeling.updateProperties(input, changes);\n\n    this.setState({\n      unsaved: false\n    });\n  }\n\n  handleChange = (changes) => {\n    this.setState({\n      unsaved: {\n        ...this.state.unsaved,\n        ...changes\n      }\n    }, this.persistChanges);\n  };\n\n  getValue(attr) {\n    let { input } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    let target = input;\n\n    // input variable stored in parent\n    if (attr === 'expressionLanguage' || attr === 'text') {\n      target = target.inputExpression;\n    }\n\n    return unsaved && attr in unsaved ? unsaved[attr] : target.get(attr);\n  }\n\n  render() {\n    const defaultLanguage = this._expressionLanguages.getDefault('inputHeadCell'),\n          expressionLanguages = this._expressionLanguages.getAll();\n\n    return (\n      <InputEditor\n        expressionLanguage={\n          this.getValue('expressionLanguage') || defaultLanguage.value\n        }\n        expressionLanguages={ expressionLanguages }\n        defaultExpressionLanguage={ defaultLanguage }\n        inputVariable={ this.getValue('inputVariable') }\n        label={ this.getValue('label') }\n        text={ this.getValue('text') }\n        onChange={ this.handleChange } />\n    );\n  }\n}\n\nInputCellContextMenu.$inject = [\n  'debounceInput',\n  'modeling',\n  'injector'\n];\n\n\n// helpers //////////////////////\n\nfunction hasKeys(obj) {\n  return Object.keys(obj).length;\n}","import {\n  closest as domClosest\n} from 'min-dom';\n\nimport InputCell from './components/InputCell';\nimport InputCellContextMenu from './components/InputCellContextMenu';\n\n\nexport default class InputCellProvider {\n\n  constructor(components, contextMenu, eventBus, renderer) {\n\n    components.onGetComponent('cell', ({ cellType }) => {\n      if (cellType === 'input-header') {\n        return InputCell;\n      }\n    });\n\n    components.onGetComponent('context-menu', (context = {}) => {\n      if (\n        context.contextMenuType === 'input-edit'\n      ) {\n        return InputCellContextMenu;\n      }\n    });\n\n    eventBus.on('input.edit', ({ event, input }) => {\n      const { target } = event;\n\n      const node = domClosest(target, 'th', true);\n\n      const { left, top } = node.getBoundingClientRect();\n\n      contextMenu.open({\n        x: left,\n        y: top,\n        align: 'bottom-right'\n      }, {\n        contextMenuType: 'input-edit',\n        input\n      });\n    });\n  }\n\n}\n\nInputCellProvider.$inject = [\n  'components',\n  'contextMenu',\n  'eventBus',\n  'renderer'\n];","import { Component } from 'inferno';\n\nimport { is, isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\n\nconst TYPES = [\n  'string',\n  'boolean',\n  'integer',\n  'long',\n  'double',\n  'date'\n];\n\n\nexport default class TypeRefCellContextMenu extends Component {\n\n  constructor(props, context) {\n    super(props);\n\n    this._translate = context.injector.get('translate');\n    this._modeling = context.injector.get('modeling');\n  }\n\n  onTypeChange = (value) => {\n    const element = this.getElement();\n\n    const actualElement = is(element, 'dmn:LiteralExpression')\n      ? element.$parent\n      : element;\n\n    let newProperties;\n\n    if (isInput(actualElement)) {\n      newProperties = {\n        inputExpression: {\n          typeRef: value\n        }\n      };\n    } else if (isOutput(actualElement)) {\n      newProperties = {\n        typeRef: value\n      };\n    }\n\n    this._modeling.updateProperties(actualElement, newProperties);\n  }\n\n  getElement() {\n    return this.props.context.input || this.props.context.output;\n  }\n\n  render() {\n    const element = this.getElement();\n\n    const typeRef = (\n      is(element, 'dmn:InputClause') ?\n        element.inputExpression :\n        element\n    ).typeRef;\n\n    const typeRefOptions = TYPES.map(t => {\n      return {\n        label: t,\n        value: t\n      };\n    });\n\n    return (\n      <div className=\"type-ref-edit context-menu-container\">\n        <div className=\"dms-form-control\">\n          <label className=\"dms-label\">\n            { this._translate('Type') }:\n          </label>\n\n          <InputSelect\n            className=\"type-ref-edit-select\"\n            onChange={ this.onTypeChange }\n            options={ typeRefOptions }\n            value={ typeRef } />\n        </div>\n      </div>\n    );\n  }\n}","import TypeRefCellContextMenu from './components/TypeRefCellContextMenu';\n\nconst LOW_PRIORITY = 750;\n\nexport default class TypeRef {\n\n  constructor(components) {\n\n    components.onGetComponent('context-menu', LOW_PRIORITY, (context = {}) => {\n      const { contextMenuType } = context;\n\n      if (contextMenuType === 'input-edit' || contextMenuType === 'output-edit') {\n        return TypeRefCellContextMenu;\n      }\n    });\n  }\n\n}\n\nTypeRef.$inject = [\n  'components'\n];","import ContextMenu from 'table-js/lib/features/context-menu';\nimport TypeRefEditingProvider from './TypeRefEditingProvider';\n\nexport default {\n  __depends__: [ ContextMenu ],\n  __init__: [ 'typeRefEditingProvider' ],\n  typeRefEditingProvider: [ 'type', TypeRefEditingProvider ]\n};","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport { is, isInput } from 'dmn-js-shared/lib/util/ModelUtil';\n\n/**\n * Makes sure allowed values are removed if type is set to\n * something other than string.\n */\nexport default class AllowedValuesUpdateBehavior extends CommandInterceptor {\n\n  constructor(eventBus, modeling) {\n    super(eventBus);\n\n    this.postExecuted('element.updateProperties', event => {\n      const {\n        element,\n        properties\n      } = event.context;\n\n      const actualProperties = isInput(element) ? properties.inputExpression : properties;\n\n      if (actualProperties\n        && actualProperties.typeRef\n        && actualProperties.typeRef !== 'string') {\n\n        const target = (\n          is(element, 'dmn:LiteralExpression') ?\n            element.$parent :\n            element\n        );\n\n        // delete allowed values\n        modeling.editAllowedValues(target, null);\n      }\n    });\n  }\n}\n\nAllowedValuesUpdateBehavior.$inject = [\n  'eventBus',\n  'modeling'\n];","import { Component } from 'inferno';\n\nimport { groupBy } from 'min-dash';\n\nconst RADIO = 'radio';\n\nconst REMOVE_BTN_CLS =\n  'remove dmn-icon-clear';\n\n/**\n * Shows a list of grouped items that can be checked\n * (checkboxes or radio buttons), removed.\n *\n * Example list of items:\n *\n * [\n *   { value: 'foo', isChecked: true, isRemovable: false, group: 'foo' },\n *   { value: 'bar', isChecked: false, isRemovable: true, group: 'bar' },\n *   { value: 'baz', isCheckable: false, group: 'baz' }\n * ]\n */\nexport default class List extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    const { items } = props;\n\n    this.state = {\n      items\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    const { items } = props;\n\n    this.setState({\n      items\n    });\n  }\n\n  getRemoveClickHandler = (item) => {\n    return (e) => {\n      e.stopPropagation();\n\n      this.removeItem(item);\n    };\n  }\n\n  getToggleClickHandler = (item) => {\n    return (e) => {\n      e.stopPropagation();\n\n      this.toggleItem(item);\n    };\n  }\n\n  removeItem = (item) => {\n    const { onChange } = this.props;\n\n    // remove item\n    const newItems = this.state.items.filter(i => i !== item);\n\n    this.setState({\n      items: newItems\n    });\n\n    onChange && onChange(newItems);\n  }\n\n  toggleItem = (item) => {\n    const { onChange, type } = this.props;\n\n    // toggle item\n    const newItems = this.state.items.map(i => {\n      if (i === item) {\n        i.isChecked = !i.isChecked;\n      } else {\n\n        if (type === RADIO) {\n          i.isChecked = false;\n        }\n\n      }\n\n      return i;\n    });\n\n    this.setState({\n      items: newItems\n    });\n\n    onChange && onChange(newItems);\n  }\n\n  render() {\n    const { className, items, type, labelComponent } = this.props;\n\n    const classes = [\n      'dms-list-component'\n    ];\n\n    if (className) {\n      classes.push(className);\n    }\n\n    // group items by group title\n    const groupedItems = groupBy(items, 'group');\n\n    const asPairs = toPairs(groupedItems);\n\n    return (\n      <div className={ classes.join(' ') }>\n        {\n          asPairs.map(pair => {\n\n            const groupTitle = pair[0],\n                  groupItems = pair[1];\n\n            return (\n              <div className=\"group\">\n\n                { labelComponent && labelComponent(groupTitle) ||\n                  <h4 className=\"dms-heading\">{ groupTitle }</h4> }\n\n                <ul className=\"items no-wrap\">\n                  {\n                    groupItems.map(item => {\n\n                      return (\n                        <li className=\"item\">\n                          {\n                            type\n                              && <input\n                                type={ type }\n                                checked={ item.isChecked }\n                                className=\"item-toggle\"\n                                onClick={ this.getToggleClickHandler(item) } />\n                          }\n                          &nbsp;\n                          { item.value }\n                          {\n                            item.isRemovable\n                              && (<span\n                                title=\"Remove item\"\n                                onClick={ this.getRemoveClickHandler(item) }\n                                className={ REMOVE_BTN_CLS }>\n                              </span>)\n                          }\n                        </li>\n                      );\n\n                    })\n                  }\n                </ul>\n\n              </div>\n            );\n\n          })\n        }\n\n      </div>\n    );\n  }\n}\n\n\n// helpers ////////////\n\nfunction toPairs(object) {\n  const entrys = [];\n\n  for (let key in object) {\n    entrys.push([key, object[key]]);\n  }\n\n  return entrys;\n}","import { Component } from 'inferno';\r\n\r\n// eslint-disable-next-line\r\nimport Input from './Input';\r\n\r\n/**\r\n * Input with optional validation.\r\n */\r\nexport default class ValidatedInput extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.state = {\r\n      validationWarning,\r\n      value\r\n    };\r\n\r\n    this.onInput = this.onInput.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onKeyUp = this.onKeyUp.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onInput(value) {\r\n    const { onInput, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n\r\n    if (typeof onInput !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onInput && onInput({\r\n      isValid: !validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onKeyDown(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyDown, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyDown !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyDown({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  onKeyUp(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyUp, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyUp !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyUp({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { placeholder, type, className } = this.props;\r\n\r\n    const { validationWarning, value } = this.state;\r\n\r\n    const parentClasses = [\r\n      'dms-validated-input',\r\n      className\r\n    ].join(' ');\r\n\r\n    const inputClasses = [ ];\r\n\r\n    if (validationWarning) {\r\n      inputClasses.push('invalid');\r\n    }\r\n\r\n    return (\r\n      <div className={ parentClasses }>\r\n\r\n        <Input\r\n          className={ inputClasses }\r\n          onInput={ this.onInput }\r\n          onKeyDown={ this.onKeyDown }\r\n          onKeyUp={ this.onKeyUp }\r\n          placeholder={ placeholder || '' }\r\n          type={ type }\r\n          value={ value || '' } />\r\n\r\n        {\r\n          validationWarning &&\r\n            <p class=\"dms-hint dms-validation-warning\">\r\n              { validationWarning }\r\n            </p>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","export function parseString(string) {\n\n  // empty string or no string at all\n  if (!string || isEmptyString(string.trim())) {\n    return {\n      values: []\n    };\n  }\n\n  // disjunction\n  let values = string.split(',');\n\n  const result = {\n    values: []\n  };\n\n  let openString = '';\n\n  values.forEach(value => {\n    openString += value;\n\n    if (/^\"[^\"]*\"$/.test(openString.trim())) {\n      result.values.push(openString.trim());\n\n      openString = '';\n    } else {\n      openString += ',';\n    }\n  });\n\n  if (!openString) {\n    return result;\n  }\n}\n\nfunction isEmptyString(string) {\n  return string === '';\n}\n\nexport function getValuesArray(values) {\n  return values.map(value => value.value);\n}","import { Component } from 'inferno';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport List from 'dmn-js-shared/lib/components/List';\n\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\n\nimport {\n  getValuesArray,\n  parseString\n} from '../Utils';\n\n\nexport default class AllowedValuesEditing extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this._translate = context.injector.get('translate');\n\n    this._modeling = context.injector.get('modeling');\n    this._changeSupport = context.changeSupport;\n\n    const target = this.getAllowedValuesTarget();\n\n    const parsedString = parseString(\n      (target.inputValues && target.inputValues.text) ||\n      (target.outputValues && target.outputValues.text) ||\n      ''\n    );\n\n    if (parsedString) {\n      this.state = {\n        values: parsedString.values.map(value => {\n          return {\n            value,\n            isCheckable: false,\n            isRemovable: true,\n            group: 'Predefined Values'\n          };\n        }),\n        inputValue: ''\n      };\n    } else {\n      this.state = {\n        values: null,\n        inputValue: ''\n      };\n    }\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentWillMount() {\n    const target = this.getAllowedValuesTarget();\n\n    this._changeSupport.onElementsChanged(target.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const target = this.getAllowedValuesTarget();\n\n    this._changeSupport.offElementsChanged(target.id, this.onElementsChanged);\n  }\n\n  setPredefinedValues = (values) => {\n\n    // inputClause or outputClause\n    const target = this.getAllowedValuesTarget();\n\n    this.setState({\n      values\n    });\n\n    this._modeling.editAllowedValues(\n      target,\n      values && getValuesArray(values)\n    );\n  }\n\n  onListChange = (values) => {\n    this.setPredefinedValues(values);\n  }\n\n  getAllowedValuesTarget() {\n    const element = this.getElement();\n\n    if (is(element, 'dmn:LiteralExpression')) {\n      return element.$parent;\n    } else {\n      return element;\n    }\n  }\n\n  onInput = ({ isValid, value }) => {\n    this.setState({\n      inputValue: value\n    });\n  }\n\n  /**\n   * Add new value on ENTER.\n   */\n  onKeyDown = ({ isValid, event }) => {\n\n    if (!isEnter(event.keyCode)) {\n      return;\n    }\n\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (isValid) {\n      const {\n        inputValue,\n        values\n      } = this.state;\n\n      const parsedString = parseString(inputValue);\n\n      this.onListChange((values || []).concat(parsedString.values.map(value => {\n        return {\n          value,\n          isCheckable: false,\n          isRemovable: true,\n          group: 'Predefined Values'\n        };\n      })));\n\n      this.setState({\n        inputValue: ''\n      });\n\n    }\n  }\n\n  handleRemovePredifinedValuesClick = (e) => {\n    e.stopPropagation();\n\n    this.removePredefinedValues();\n  }\n\n  removePredefinedValues = () => {\n    this.setPredefinedValues(null);\n  }\n\n  getElement() {\n    return this.props.context.output || this.props.context.input.inputExpression;\n  }\n\n  render() {\n    const element = this.getElement();\n\n    const {\n      inputValue,\n      values\n    } = this.state;\n\n    return (\n      element.typeRef === 'string' ?\n        <div className=\"context-menu-container allowed-values-edit\">\n          <div className=\"dms-form-control\">\n            {\n              !isNull(values)\n              && values.length > 0\n              && <List\n                labelComponent={ Label }\n                items={ values }\n                onChange={ this.onListChange } />\n            }\n\n            {\n              !isNull(values)\n              && !values.length\n              && <div>\n                <label className=\"dms-label\">\n                  { this._translate('Predefined Values') }\n                </label>\n                <span className=\"placeholder\">\n                  { this._translate('No values') }\n                </span>\n              </div>\n            }\n\n            {\n              !isNull(values)\n              && <p class=\"dms-hint\">\n                <button type=\"button\" className=\"del-values\"\n                  onClick={ this.handleRemovePredifinedValuesClick }>\n                  { this._translate('Clear predefined values.') }\n                </button>\n              </p>\n            }\n\n            <label className=\"dms-label\">\n              { this._translate('Add Predefined Values') }\n            </label>\n\n            <ValidatedInput\n              onInput={ this.onInput }\n              onKeyDown={ this.onKeyDown }\n              placeholder={ '\"value\", \"value\", ...' }\n              type=\"text\"\n              validate={ value => {\n                if (!parseString(value)) {\n                  return this._translate('Strings must be in double quotes.');\n                }\n              } }\n              value={ inputValue } />\n          </div>\n        </div>\n        : null\n    );\n  }\n}\n\nfunction Label(label) {\n  return <label className=\"dms-label\">{ label }</label>;\n}\n\n\n// helpers //////////////////////\n\nfunction isEnter(keyCode) {\n  return keyCode === 13;\n}\n\nfunction isNull(value) {\n  return value === null;\n}","import AllowedValuesEditing from './components/AllowedValuesEditing';\n\nconst LOW_PRIORITY = 500;\n\n\nexport default class InputOutputValues {\n  constructor(components) {\n    components.onGetComponent('context-menu', LOW_PRIORITY, (context = {}) => {\n      const { contextMenuType } = context;\n\n      if (contextMenuType === 'input-edit' || contextMenuType === 'output-edit') {\n        return AllowedValuesEditing;\n      }\n    });\n  }\n}\n\nInputOutputValues.$inject = [ 'components' ];","import AllowedValuesUpdateBehavior from './behavior/AllowedValuesUpdateBehavior';\nimport AllowedValuesEditingProvider from './AllowedValuesEditingProvider';\n\nexport default {\n  __init__: [\n    'allowedValuesUpdateBehavior',\n    'allowedValuesEditingProvider',\n  ],\n  allowedValuesUpdateBehavior: [ 'type', AllowedValuesUpdateBehavior ],\n  allowedValuesEditingProvider: [ 'type', AllowedValuesEditingProvider ]\n};","import { Component } from 'inferno';\n\n\nexport default class AddInput extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this._sheet = context.injector.get('sheet');\n    this._eventBus = context.injector.get('eventBus');\n\n    this._changeSupport = context.changeSupport;\n    this._translate = context.injector.get('translate');\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentWillMount() {\n    const root = this.getRoot();\n\n    this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const root = this.getRoot();\n\n    this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  getRoot() {\n    return this._sheet.getRoot();\n  }\n\n  handleClick = (e) => {\n    e.stopPropagation();\n\n    this.add();\n  }\n\n  add = () => {\n    this._eventBus.fire('addInput');\n  }\n\n  render() {\n    return (\n      <div\n        onClick={ this.handleClick }\n        className=\"add-input actionable\"\n        title={ this._translate('Add Input') }\n      >\n        <span\n          className=\"dmn-icon-plus action-icon\"\n        />\n      </div>\n    );\n  }\n\n}","import { Component } from 'inferno';\n\n\nexport default class AddOutput extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this._sheet = context.injector.get('sheet');\n    this._eventBus = context.injector.get('eventBus');\n\n    this._changeSupport = context.changeSupport;\n    this._translate = context.injector.get('translate');\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentWillMount() {\n    const root = this.getRoot();\n\n    this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const root = this.getRoot();\n\n    this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  getRoot() {\n    return this._sheet.getRoot();\n  }\n\n  handleClick = (e) => {\n    e.stopPropagation();\n\n    this.add();\n  }\n\n  add = () => {\n    this._eventBus.fire('addOutput');\n  }\n\n  render() {\n    return (\n      <div\n        onClick={ this.handleClick }\n        className=\"add-output actionable\"\n        title={ this._translate('Add Output') }\n      >\n        <span\n          className=\"dmn-icon-plus action-icon\"\n        />\n      </div>\n    );\n  }\n\n}","import AddInput from './components/AddInput';\nimport AddOutput from './components/AddOutput';\n\n\nexport default function AddInputOutputProvider(\n    components, editorActions, eventBus\n) {\n\n  components.onGetComponent('cell-inner', (context = {}) => {\n    const { cellType, index, inputsLength, outputsLength } = context;\n\n    if (cellType === 'input-cell' && index === inputsLength - 1) {\n      return AddInput;\n    }\n\n    if (cellType === 'output-cell' && index === outputsLength -1) {\n      return AddOutput;\n    }\n  });\n\n  eventBus.on('addInput', () => {\n    editorActions.trigger('addInput');\n  });\n\n  eventBus.on('addOutput', () => {\n    editorActions.trigger('addOutput');\n  });\n}\n\nAddInputOutputProvider.$inject = [\n  'components',\n  'editorActions',\n  'eventBus'\n];","import AddInputOutputProvider from './AddInputOutputProvider';\nimport EditorActions from '../editor-actions';\n\nexport default {\n  __depends__: [ EditorActions ],\n  __init__: [\n    'addInputOutputProvider'\n  ],\n  addInputOutputProvider: [ 'type', AddInputOutputProvider ]\n};","import {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  findSelectableAncestor\n} from '../cell-selection/CellSelectionUtil';\n\nimport {\n  isCmd,\n  isShift\n} from './KeyboardUtil';\n\n\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming key events\n * and triggering diagram actions.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain the fields (node, listeners).\n *\n * A default binding for the keyboard may be specified via the\n * `keyboard.bindTo` configuration option.\n *\n * @param {Config} config\n * @param {EventBus} eventBus\n * @param {EditorActions} editorActions\n * @param {CellSelection} cellSelection\n */\nexport default class Keyboard {\n\n  constructor(config, eventBus, editorActions, cellSelection) {\n\n    this._config = config || {};\n    this._editorActions = editorActions;\n    this._eventBus = eventBus;\n    this._cellSelection = cellSelection;\n\n    this._listeners = [];\n\n    eventBus.on('table.destroy', this._destroy);\n    eventBus.on('table.init', this._init);\n\n    eventBus.on('attach', () => {\n\n      if (this._config.bindTo) {\n        this.bind(config.bindTo);\n      }\n    });\n\n    eventBus.on('detach', this.unbind);\n  }\n\n  _init = () => {\n    this._registerDefaultBindings();\n\n    this._fire('init');\n  }\n\n  _destroy = () => {\n    this._fire('destroy');\n\n    this.unbind();\n    this._listeners = null;\n  }\n\n  // our key handler is a singleton that passes\n  // (keycode, modifiers) to each listener.\n  //\n  // listeners must indicate that they handled a key event\n  // by returning true. This stops the event propagation.\n  //\n  _keyHandler = (event) => {\n\n    var i, l,\n        listeners = this._listeners,\n        code = event.keyCode || event.charCode || -1;\n\n    for (i = 0; (l = listeners[i]); i++) {\n      if (l(code, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        return;\n      }\n    }\n  }\n\n  bind(node) {\n\n    // make sure that the keyboard is only bound once to the DOM\n    this.unbind();\n\n    this._node = node;\n\n    // bind key events\n    domEvent.bind(node, 'keydown', this._keyHandler, true);\n\n    this._fire('bind');\n  }\n\n  getBinding() {\n    return this._node;\n  }\n\n  unbind = () => {\n    var node = this._node;\n\n    if (node) {\n      this._fire('unbind');\n\n      // unbind key events\n      domEvent.unbind(node, 'keydown', this._keyHandler, true);\n    }\n\n    this._node = null;\n  }\n\n  _fire(event) {\n    this._eventBus.fire('keyboard.' + event, {\n      node: this._node,\n      listeners: this._listeners\n    });\n  }\n\n  _registerDefaultBindings() {\n\n    var listeners = this._listeners;\n\n    var editorActions = this._editorActions;\n\n    var cellSelection = this._cellSelection;\n\n    // init default listeners\n\n    // undo\n    // (CTRL|CMD) + Z\n    function undo(key, modifiers) {\n\n      if (isCmd(modifiers) && !isShift(modifiers) && key === 90) {\n        editorActions.trigger('undo');\n\n        return true;\n      }\n    }\n\n    // redo\n    // CTRL + Y\n    // CMD + SHIFT + Z\n    function redo(key, modifiers) {\n\n      if (\n        isCmd(modifiers) && (\n          key === 89 || (\n            key === 90 && isShift(modifiers)\n          )\n        )\n      ) {\n        editorActions.trigger('redo');\n\n        return true;\n      }\n    }\n\n    listeners.push(undo);\n    listeners.push(redo);\n\n\n    function selectCellAbove(key, event) {\n      if (key !== 13 || isCmd(event) || !isShift(event)) {\n        return;\n      }\n\n      if (!findSelectableAncestor(event.target)) {\n        return;\n      }\n\n      editorActions.trigger('selectCellAbove');\n\n      return true;\n    }\n\n    listeners.push(selectCellAbove);\n\n\n    function selectCellBelow(key, event) {\n\n      if (key !== 13 || isCmd(event) || isShift(event)) {\n        return;\n      }\n\n      if (!findSelectableAncestor(event.target)) {\n        return;\n      }\n\n      const changed = editorActions.trigger('selectCellBelow');\n\n      const selectedCell = cellSelection.getCellSelection();\n\n      // add new rule if no next rule\n      if (!changed && selectedCell && !isDecisionNameCell(selectedCell)) {\n        const rule = editorActions.trigger('addRule');\n\n        editorActions.trigger('selectCellBelow');\n\n        return rule;\n      }\n\n      return true;\n    }\n\n    listeners.push(selectCellBelow);\n  }\n\n\n  /**\n   * Add a listener function that is notified with (key, modifiers) whenever\n   * the keyboard is bound and the user presses a key.\n   *\n   * @param {Function} listenerFn\n   */\n  addListener(listenerFn) {\n    this._listeners.unshift(listenerFn);\n  }\n\n  removeListener(listenerFn) {\n    this._listeners = this._listeners.filter(l => l !== listenerFn);\n  }\n\n}\n\nKeyboard.$inject = [\n  'config.keyboard',\n  'eventBus',\n  'editorActions',\n  'cellSelection'\n];\n\n\n// helper /////\nfunction isDecisionNameCell(cell) {\n  return cell === '__decisionProperties_name';\n}\n","import ContextMenu from 'table-js/lib/features/context-menu';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nimport ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\n\nimport OutputEditingProvider from './OutputEditingProvider';\nimport InputEditingProvider from './InputEditingProvider';\n\nimport TypeRefEditing from '../../type-ref';\nimport AllowedValuesEditing from '../../allowed-values';\nimport AddInputOutput from '../../add-input-output';\nimport KeyboardModule from '../../../features/keyboard';\n\n\nexport default {\n  __depends__: [\n    AddInputOutput,\n    AllowedValuesEditing,\n    ContextMenu,\n    DebounceInput,\n    ExpressionLanguagesModule,\n    KeyboardModule,\n    TypeRefEditing\n  ],\n  __init__: [\n    'inputEditingProvider',\n    'outputEditingProvider'\n  ],\n  inputEditingProvider: [ 'type', InputEditingProvider ],\n  outputEditingProvider: [ 'type', OutputEditingProvider ]\n};","import { Row, Col } from '../../model';\r\n\r\nimport {\r\n  closest as domClosest,\r\n  event as domEvent\r\n} from 'min-dom';\r\n\r\nconst TARGET_SELECTOR =\r\n  `.dmn-decision-table-container td,\r\n   .dmn-decision-table-container th`;\r\n\r\nexport default class DragAndDrop {\r\n  constructor(eventBus, renderer, modeling, sheet) {\r\n    this._eventBus = eventBus;\r\n    this._renderer = renderer;\r\n    this._modeling = modeling;\r\n    this._sheet = sheet;\r\n\r\n    this._dragContext = null;\r\n\r\n    eventBus.on('table.destroy', () => {\r\n      this._unbindListeners();\r\n    });\r\n  }\r\n\r\n  _bindListeners() {\r\n    domEvent.bind(document, 'dragover', this.handleDragOver);\r\n    domEvent.bind(document, 'drop', this.handleDrop);\r\n    domEvent.bind(document, 'dragend', this.handleDragEnd);\r\n  }\r\n\r\n  _unbindListeners() {\r\n    domEvent.unbind(document, 'dragover', this.handleDragOver);\r\n    domEvent.unbind(document, 'drop', this.handleDrop);\r\n    domEvent.unbind(document, 'dragend', this.handleDragEnd);\r\n  }\r\n\r\n  _emit(eventName, originalEvent) {\r\n\r\n    return this._eventBus.fire(eventName, {\r\n      dragContext: this._dragContext,\r\n      originalEvent\r\n    });\r\n  }\r\n\r\n  startDrag(element, event) {\r\n\r\n    stopEvent(event, true);\r\n\r\n    event.dataTransfer.effectAllowed = 'move';\r\n\r\n    // QUIRK: Firefox won't fire events unless data was set\r\n    if (event.dataTransfer.setData) {\r\n      event.dataTransfer.setData('text', '__DUMMY');\r\n    }\r\n\r\n    this._dragContext = {\r\n      draggedElement: element\r\n    };\r\n\r\n    this._bindListeners();\r\n\r\n    this._emit('dragAndDrop.dragStart', event);\r\n  }\r\n\r\n  handleDragOver = (event) => {\r\n\r\n    // we're taking over (!)\r\n    stopEvent(event);\r\n\r\n    const targetEl = event.target;\r\n\r\n    const cellEl = domClosest(targetEl, TARGET_SELECTOR, true);\r\n\r\n    let allowed = !!cellEl;\r\n\r\n    const {\r\n      hoverEl\r\n    } = this._dragContext;\r\n\r\n    // drag leave\r\n    if (hoverEl && hoverEl !== cellEl) {\r\n      this._emit('dragAndDrop.dragLeave', event);\r\n\r\n      // unset target element\r\n      this._dragContext.targetEl = null;\r\n\r\n      // unset hover element\r\n      this._dragContext.hoverEl = null;\r\n    }\r\n\r\n    if (cellEl) {\r\n\r\n      // drag enter\r\n      if (cellEl !== hoverEl) {\r\n\r\n        // new hover element\r\n        this._dragContext.hoverEl = cellEl;\r\n\r\n        allowed = this._emit('dragAndDrop.dragEnter', event);\r\n\r\n        if (allowed !== false) {\r\n          // new targetEl\r\n          this._dragContext.targetEl = cellEl;\r\n        }\r\n      }\r\n\r\n      // drag over\r\n      allowed = this._emit('dragAndDrop.dragOver', event);\r\n    }\r\n\r\n    event.dataTransfer.dropEffect = allowed !== false ? 'move' : 'none';\r\n  }\r\n\r\n  handleDrop = (event) => {\r\n\r\n    // prevent default drop action\r\n    // QUIRK: Firefox will redirect if not prevented\r\n    stopEvent(event);\r\n\r\n    const target = this._emit('dragAndDrop.drop', event);\r\n\r\n    if (target) {\r\n\r\n      const {\r\n        draggedElement\r\n      } = this._dragContext;\r\n\r\n      if (draggedElement instanceof Row) {\r\n        const { rows } = this._sheet.getRoot();\r\n\r\n        let index = rows.indexOf(target);\r\n\r\n        this._modeling.moveRow(draggedElement, index);\r\n      } else if (draggedElement instanceof Col) {\r\n        const { cols } = this._sheet.getRoot();\r\n\r\n        let index = cols.indexOf(target);\r\n\r\n        this._modeling.moveCol(draggedElement, index);\r\n      }\r\n    }\r\n\r\n    // manually call to drag end needed, as we prevent the default\r\n    // browser behavior / drag end handling via\r\n    // event.preventDefault();\r\n    this.handleDragEnd(event);\r\n  }\r\n\r\n  handleDragEnd = (event) => {\r\n\r\n    // prevent default drop action\r\n    stopEvent(event);\r\n\r\n    this._unbindListeners();\r\n    this._emit('dragAndDrop.dragEnd', event);\r\n\r\n    this._dragContext = null;\r\n  }\r\n\r\n}\r\n\r\nDragAndDrop.$inject = [\r\n  'eventBus',\r\n  'renderer',\r\n  'modeling',\r\n  'sheet'\r\n];\r\n\r\n\r\n\r\n// helpers /////////////////\r\n\r\nfunction stopEvent(event, preventDefault) {\r\n  event.stopPropagation();\r\n\r\n  if (preventDefault !== true) {\r\n    event.preventDefault();\r\n  }\r\n}","import DragAndDrop from './DragAndDrop';\r\n\r\nexport default {\r\n  __init__: [ 'dragAndDrop' ],\r\n  dragAndDrop: [ 'type', DragAndDrop ]\r\n};","import { Component } from 'inferno';\r\n\r\nimport { isString } from 'min-dash';\r\n\r\nimport { query as domQuery } from 'min-dom';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\nexport default class DescriptionEditor extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._elementRegistry = context.injector.get('elementRegistry');\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    this._changeSupport = this.context.changeSupport;\r\n\r\n    const { id } = this.props.context;\r\n\r\n    this._element = this._elementRegistry.get(id);\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (this._element) {\r\n      this._changeSupport.onElementsChanged(this._element.id, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { autoFocus } = this.props.context;\r\n\r\n    if (autoFocus && this.node) {\r\n      const editor = getEditor(this.node);\r\n\r\n      editor.focus();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this._element) {\r\n      this._changeSupport.offElementsChanged(this._element.id, this.onElementsChanged);\r\n\r\n      const { businessObject } = this._element;\r\n\r\n      const { description } = businessObject;\r\n\r\n      // if empty description remove description\r\n      if (isString(description) && !description.length) {\r\n        this.changeDescription(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeDescription = (value) => {\r\n    this._modeling.updateProperties(this._element, {\r\n      description: value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this._element) {\r\n      return;\r\n    }\r\n\r\n    const { businessObject } = this._element;\r\n\r\n    const { description } = businessObject;\r\n\r\n    if (!isString(description)) {\r\n      return;\r\n    }\r\n\r\n    return (\r\n      <div\r\n        class=\"context-menu-container description-editor\"\r\n        ref={ node => this.node = node }>\r\n        <Editor\r\n          className=\"dms-input\"\r\n          onChange={ this.changeDescription }\r\n          value={ description } />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Editor extends EditableComponent {\r\n  render() {\r\n    return (\r\n      <div className={ this.getClassName() }>\r\n        {\r\n          this.getEditor()\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// helpers //////////\r\n\r\nfunction getEditor(container) {\r\n  return domQuery('.content-editable', container);\r\n}","import { isString } from 'min-dash';\r\n\r\nimport { isAny } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport {\r\n  getNodeById\r\n} from '../cell-selection/CellSelectionUtil';\r\n\r\nimport DescriptionEditor from './components/DescriptionEditor';\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nconst LOWER_PRIORITY = 750;\r\n\r\nconst OFFSET_X = 26;\r\n\r\n\r\nexport default class Description {\r\n\r\n  constructor(\r\n      components, contextMenu, elementRegistry,\r\n      eventBus, modeling, renderer, translate) {\r\n\r\n    this._contextMenu = contextMenu;\r\n    this._modeling = modeling;\r\n    this._renderer = renderer;\r\n    this._translate = translate;\r\n\r\n\r\n    eventBus.on('cell.click', LOWER_PRIORITY, (event) => {\r\n\r\n      if (event.defaultPrevented) {\r\n        return;\r\n      }\r\n\r\n      const {\r\n        target,\r\n        id\r\n      } = event;\r\n\r\n      const element = elementRegistry.get(id);\r\n\r\n      if (!isAny(element, [ 'dmn:UnaryTests', 'dmn:LiteralExpression' ])) {\r\n        return;\r\n      }\r\n\r\n      const description = getDescription(element);\r\n\r\n      if (!description) {\r\n\r\n        // prevent focus\r\n        event.preventDefault();\r\n      }\r\n\r\n      const container = renderer.getContainer(),\r\n            bounds = target.getBoundingClientRect();\r\n\r\n      const position = getPosition(container, bounds);\r\n\r\n      contextMenu.open(position, {\r\n        contextMenuType: 'cell-description',\r\n        autoFocus: false,\r\n        id,\r\n        offset: {\r\n          x: 4,\r\n          y: 4\r\n        }\r\n      });\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType\r\n        && context.contextMenuType === 'cell-description') {\r\n\r\n        const element = elementRegistry.get(context.id);\r\n\r\n        const description = getDescription(element);\r\n\r\n        if (isString(description)) {\r\n          return DescriptionEditor;\r\n        }\r\n      }\r\n    });\r\n\r\n    components.onGetComponent('context-menu-cell-additional', LOW_PRIORITY,\r\n      (context = {}) => {\r\n        if (context.contextMenuType\r\n          && context.contextMenuType === 'context-menu') {\r\n\r\n          const { id } = context;\r\n\r\n          if (!id) {\r\n            return;\r\n          }\r\n\r\n          const element = elementRegistry.get(id);\r\n\r\n          // element might not be in element registry (e.g. cut)\r\n          if (!element) {\r\n            return;\r\n          }\r\n\r\n          const { businessObject } = element;\r\n\r\n          const { description } = businessObject;\r\n\r\n          const existingDescription = isString(description);\r\n\r\n          const className =\r\n            existingDescription\r\n              ? 'remove-description'\r\n              : 'add-description';\r\n\r\n          const onClick =\r\n            existingDescription\r\n              ? () => this.removeDescription(element)\r\n              : () => this.addDescription(element);\r\n\r\n          return (\r\n            <div\r\n              className={ `context-menu-group-entry ${ className }` }\r\n              onClick={ onClick }>\r\n              {\r\n                isString(description)\r\n                  ?\r\n                  this._translate('Remove Cell Description')\r\n                  :\r\n                  this._translate('Add Cell Description')\r\n              }\r\n            </div>\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  addDescription = (cell) => {\r\n    this._modeling.updateProperties(cell, {\r\n      description: ''\r\n    });\r\n\r\n    const container = this._renderer.getContainer();\r\n\r\n    const node = getNodeById(cell.id, container);\r\n\r\n    const bounds = node.getBoundingClientRect();\r\n\r\n    const position = getPosition(container, bounds);\r\n\r\n    this._contextMenu.open(position, {\r\n      contextMenuType: 'cell-description',\r\n      id: cell.id,\r\n      autoFocus: true,\r\n      offset: {\r\n        x: 4,\r\n        y: 4\r\n      }\r\n    });\r\n  }\r\n\r\n  removeDescription = (cell) => {\r\n    this._modeling.updateProperties(cell, {\r\n      description: null\r\n    });\r\n\r\n    this._contextMenu.close();\r\n  }\r\n}\r\n\r\nDescription.$inject = [\r\n  'components',\r\n  'contextMenu',\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'modeling',\r\n  'renderer',\r\n  'translate'\r\n];\r\n\r\n// helpers //////////\r\n\r\nfunction getPosition(container, bounds) {\r\n  const { top, left, width, height } = bounds;\r\n\r\n  return {\r\n    x: left + container.parentNode.scrollLeft - OFFSET_X,\r\n    y: top + container.parentNode.scrollTop,\r\n    width: width + (2 * OFFSET_X),\r\n    height\r\n  };\r\n}\r\n\r\nfunction getDescription(element) {\r\n  return element\r\n    && element.businessObject\r\n    && element.businessObject.description;\r\n}","import InteractionModule from 'table-js/lib/features/interaction-events';\r\nimport ContextMenuModule from 'table-js/lib/features/context-menu';\r\n\r\nimport Description from './Description';\r\n\r\n\r\nexport default {\r\n  __depends__: [\r\n    ContextMenuModule,\r\n    InteractionModule\r\n  ],\r\n  __init__: [\r\n    'description'\r\n  ],\r\n  description: [ 'type', Description ]\r\n};","/* eslint-disable max-len */\r\n\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport { isInput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\n\r\nexport default class ExpressionLanguage {\r\n  constructor(components, elementRegistry, modeling, expressionLanguages, translate, contextMenu) {\r\n    this._modeling = modeling;\r\n    this._translate = translate;\r\n\r\n    components.onGetComponent('context-menu-cell-additional', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'context-menu') {\r\n\r\n        const {\r\n          event,\r\n          id\r\n        } = context;\r\n\r\n        if (!id) {\r\n          return;\r\n        }\r\n\r\n        const element = elementRegistry.get(id);\r\n\r\n        // element might not be in element registry (e.g. cut)\r\n        if (!element) {\r\n          return;\r\n        }\r\n\r\n        const openMenu = clickEvent => {\r\n          contextMenu.open({\r\n            x: (event || clickEvent).pageX,\r\n            y: (event || clickEvent).pageY\r\n          }, {\r\n            contextMenuType: 'expression-language',\r\n            id\r\n          });\r\n        };\r\n\r\n        return (\r\n          <div\r\n            className=\"context-menu-group-entry\"\r\n            onClick={ openMenu }\r\n          >\r\n            { this._translate('Change Cell Expression Language') }\r\n          </div>\r\n        );\r\n\r\n      }\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'expression-language') {\r\n\r\n        const { id } = context;\r\n\r\n        if (!id) {\r\n          return;\r\n        }\r\n\r\n        const element = elementRegistry.get(id);\r\n\r\n        // element might not be in element registry (e.g. cut)\r\n        if (!element) {\r\n          return;\r\n        }\r\n\r\n        const expressionLanguage = element.businessObject.expressionLanguage\r\n          || expressionLanguages.getDefault(isInput(element.col) ? 'inputCell' : 'outputCell').value;\r\n\r\n        const options = expressionLanguages.getAll();\r\n\r\n        return () => (\r\n          <div\r\n            className=\"context-menu-flex\">\r\n            <div className=\"context-menu-group\">\r\n              <div className=\"context-menu-group-entry context-menu-entry-set-expression-language\">\r\n                <div>\r\n                  { this._translate('Expression Language') }\r\n                </div>\r\n\r\n                <InputSelect\r\n                  className=\"expression-language\"\r\n                  onChange={ value => this.onChange(element, value) }\r\n                  options={ options }\r\n                  value={ expressionLanguage } />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  onChange(cell, expressionLanguage) {\r\n    this._modeling.editExpressionLanguage(cell.businessObject, expressionLanguage);\r\n  }\r\n}\r\n\r\nExpressionLanguage.$inject = [\r\n  'components',\r\n  'elementRegistry',\r\n  'modeling',\r\n  'expressionLanguages',\r\n  'translate',\r\n  'contextMenu'\r\n];\r\n","import ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\r\n\r\nimport ExpressionLanguage from './ExpressionLanguage';\r\n\r\nexport default {\r\n  __depends__: [\r\n    ExpressionLanguagesModule\r\n  ],\r\n  __init__: [ 'expressionLanguage' ],\r\n  expressionLanguage: [ 'type', ExpressionLanguage ]\r\n};","import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\nimport {\r\n  inject,\r\n  mixin,\r\n  classNames,\r\n  SelectionAware\r\n} from 'table-js/lib/components';\r\n\r\n\r\nexport default class DecisionTablePropertiesComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.setupChangeListeners({ bind: this.getBusinessObject().id });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setupChangeListeners({\r\n      unbind: this.getBusinessObject().id\r\n    });\r\n  }\r\n\r\n  setupChangeListeners({ bind, unbind }) {\r\n\r\n    if (typeof unbind === 'string') {\r\n      this.changeSupport.offElementsChanged(unbind, this.onElementsChanged);\r\n    }\r\n\r\n    if (typeof bind === 'string') {\r\n      this.changeSupport.onElementsChanged(bind, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  getBusinessObject() {\r\n    return this.sheet.getRoot().businessObject.$parent;\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  setDecisionTableName = (name) => {\r\n    this.modeling.editDecisionTableName(name);\r\n  }\r\n\r\n  render() {\r\n    const bo = this.getBusinessObject();\r\n\r\n    const { name } = bo;\r\n\r\n    const HitPolicy = this.components.getComponent('hit-policy') || NullComponent;\r\n\r\n    return (\r\n      <div className=\"decision-table-properties\">\r\n        <DecisionTableName\r\n          className=\"decision-table-name\"\r\n          value={ name }\r\n          ctrlForNewline={ true }\r\n          onBlur={ resetScroll }\r\n          onChange={ this.setDecisionTableName }\r\n          elementId={ '__decisionProperties_name' }\r\n          coords={ '0:__decisionProperties' }\r\n        />\r\n        <span className=\"decision-table-header-separator\" />\r\n        <HitPolicy />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDecisionTablePropertiesComponent.$inject = [\r\n  'sheet',\r\n  'modeling',\r\n  'changeSupport',\r\n  'components'\r\n];\r\n\r\n\r\nclass DecisionTableName extends EditableComponent {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    mixin(this, SelectionAware);\r\n  }\r\n\r\n  render() {\r\n\r\n    const name = this.props.value;\r\n\r\n    const className = classNames(\r\n      this.getSelectionClasses(),\r\n      this.getClassName()\r\n    );\r\n\r\n    return (\r\n      <p\r\n        className={ className }\r\n        data-element-id={ this.props.elementId }\r\n        data-coords={ this.props.coords }\r\n        title={ 'Decision Name: ' + name }\r\n      >\r\n        { this.getEditor() }\r\n      </p>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction NullComponent() {\r\n  return null;\r\n}\r\n\r\nfunction resetScroll(event) {\r\n  event.target.scroll(0, 0);\r\n}\r\n","import Component from './components/DecisionTablePropertiesEditorComponent';\n\nconst LOW_PRIORITY = 500;\n\nexport default class DecisionTableProperties {\n  constructor(components) {\n    components.onGetComponent('table.before', LOW_PRIORITY, () => {\n      return Component;\n    });\n  }\n}\n\nDecisionTableProperties.$inject = [ 'components' ];","import DecisionTablePropertiesEditor from './DecisionTablePropertiesEditor';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\n\nexport default {\n  __depends__: [ DebounceInput ],\n  __init__: [ 'decisionTableProperties' ],\n  decisionTableProperties: [ 'type', DecisionTablePropertiesEditor ]\n};","import { Component } from 'inferno';\n\nimport { find } from 'min-dash';\n\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\nimport { HIT_POLICIES } from './../../HitPolicies';\n\n\nexport default class EditableHitPolicy extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n  }\n\n  onChange = ({ aggregation, hitPolicy }) => {\n    this.modeling.editHitPolicy(hitPolicy, aggregation);\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentDidMount() {\n    this.changeSupport.onElementsChanged(this.getRoot().id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    this.changeSupport.offElementsChanged(this.getRoot().id, this.onElementsChanged);\n  }\n\n  getRoot() {\n    return this.sheet.getRoot();\n  }\n\n  render() {\n    const root = this.getRoot(),\n          businessObject = root.businessObject;\n\n    const { aggregation, hitPolicy } = businessObject;\n\n    const hitPolicyEntry = find(HIT_POLICIES, entry => {\n      return isEqualHitPolicy(entry.value, { aggregation, hitPolicy });\n    });\n\n    return (\n      <span className=\"hit-policy\" title={ hitPolicyEntry.explanation }>\n        <label className=\"dms-label\">\n          Hit Policy:\n        </label>\n        <InputSelect\n          className=\"hit-policy-edit-policy-select\"\n          onChange={ this.onChange }\n          options={ HIT_POLICIES }\n          value={ hitPolicyEntry.value }\n          data-hit-policy=\"true\"\n          noInput\n        />\n      </span>\n    );\n  }\n}\n\nEditableHitPolicy.$inject = [\n  'changeSupport',\n  'sheet',\n  'modeling'\n];\n\n\n// helpers //////////////////////\nfunction isEqualHitPolicy(a, b) {\n  return a.hitPolicy === b.hitPolicy && a.aggregation === b.aggregation;\n}\n","import EditableHitPolicy from './components/EditableHitPolicy';\n\n\nexport default function HitPolicyEditingProvider(\n    components\n) {\n\n  components.onGetComponent('hit-policy', () => {\n    return EditableHitPolicy;\n  });\n}\n\nHitPolicyEditingProvider.$inject = [\n  'components'\n];\n","import ContextMenu from 'table-js/lib/features/context-menu';\nimport HitPolicyEditingProvider from './HitPolicyEditingProvider';\n\nexport default {\n  __depends__: [ ContextMenu ],\n  __init__: [ 'hitPolicyProvider' ],\n  hitPolicyProvider: [ 'type', HitPolicyEditingProvider ]\n};","export {\r\n  default\r\n} from 'diagram-js/lib/command';\r\n\r\n","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\n\n/**\n * A handler responsible for updating the underlying DMN\n * once changes on the table happen.\n */\nexport default class DmnUpdater extends CommandInterceptor {\n\n  constructor(eventBus, sheet) {\n    super(eventBus);\n\n    this.executed([\n      'row.add',\n      'row.remove',\n      'col.add',\n      'col.remove'\n    ], ifDmn((e) => {\n      var context = e.context;\n\n      var element = context.row || context.col;\n\n      this.updateRoot(element, context.oldRoot);\n    }));\n\n    this.reverted([\n      'row.add',\n      'row.remove',\n      'col.add',\n      'col.remove'\n    ], ifDmn((e) => {\n      var context = e.context;\n\n      var element = context.row || context.col;\n\n      this.updateRoot(element, context.newRoot);\n    }));\n\n  }\n\n  updateRoot(element, oldRoot) {\n\n    var newRoot = element.root;\n\n    var businessObject = element.businessObject;\n\n    if (is(element, 'dmn:DecisionRule')) {\n\n      // we're removing\n      if (oldRoot) {\n        let oldTable = oldRoot.businessObject;\n\n        let oldRules = oldTable.get('rule');\n        let oldIdx = oldRules.indexOf(businessObject);\n\n        // unwire Row <-> Table\n        oldRules.splice(oldIdx, 1);\n        businessObject.$parent = null;\n      }\n\n      // we're adding\n      if (newRoot) {\n        let newTable = newRoot.businessObject;\n\n        let newIdx = newRoot.rows.indexOf(element);\n\n        // wire Row <-> Table\n        newTable.get('rule').splice(newIdx, 0, businessObject);\n        businessObject.$parent = newTable;\n\n        element.cells.forEach((cell, idx) => {\n\n          // wire Cell <-> Row\n          this.wireCell(cell, element, idx);\n        });\n      }\n    }\n\n\n    if (is(element, 'dmn:InputClause') || is(element, 'dmn:OutputClause')) {\n\n      let collection,\n          collectionIdx;\n\n      // we're removing\n      if (oldRoot) {\n        let oldTable = oldRoot.businessObject;\n\n        let inputs = oldTable.get('input');\n        let outputs = oldTable.get('output');\n\n        if (is(element, 'dmn:InputClause')) {\n          collection = inputs;\n          collectionIdx = inputs.indexOf(businessObject);\n        }\n\n        if (is(element, 'dmn:OutputClause')) {\n          collection = outputs;\n          collectionIdx = outputs.indexOf(businessObject);\n        }\n\n        if (collectionIdx === -1) {\n          throw new Error('inconsistent model: clause not in table');\n        }\n\n        // unwire Col <-> Table\n        collection.splice(collectionIdx, 1);\n        businessObject.$parent = null;\n\n        element.cells.forEach((cel, rowIdx) => {\n\n          // unwire Cell <-> Row\n          this.unwireCell(cel, oldRoot.rows[rowIdx]);\n        });\n\n      }\n\n\n      if (newRoot) {\n        let newTable = newRoot.businessObject;\n\n        let inputs = newTable.get('input');\n        let outputs = newTable.get('output');\n\n        let colIdx = newRoot.cols.indexOf(element);\n\n        let collectionIdx,\n            collection;\n\n        if (is(element, 'dmn:InputClause')) {\n          collection = inputs;\n          collectionIdx = colIdx;\n        }\n\n        if (is(element, 'dmn:OutputClause')) {\n          collection = outputs;\n          collectionIdx = colIdx - inputs.length;\n        }\n\n        // wire Col <-> Table\n        collection.splice(collectionIdx, 0, businessObject);\n        businessObject.$parent = newTable;\n\n        element.cells.forEach((cell, rowIdx) => {\n\n          // wire Cell <-> Row\n          this.wireCell(cell, newRoot.rows[rowIdx], colIdx);\n        });\n\n      }\n    }\n  }\n\n  unwireCell(cell, oldRow) {\n\n    var cellBo = cell.businessObject;\n\n    let oldRowBo = oldRow.businessObject;\n\n    let inputEntries = oldRowBo.get('inputEntry');\n    let outputEntries = oldRowBo.get('outputEntry');\n\n    let collection,\n        collectionIdx;\n\n    // remove from inputEntries\n    if (is(cell, 'dmn:UnaryTests')) {\n      collection = inputEntries;\n    }\n\n    // remove from outputEntries\n    if (is(cell, 'dmn:LiteralExpression')) {\n      collection = outputEntries;\n    }\n\n    collectionIdx = collection.indexOf(cellBo);\n\n    if (collectionIdx === -1) {\n      throw new Error('cell not in row');\n    }\n\n    // unwire Cell <-> Row relationship\n    collection.splice(collectionIdx, 1);\n    cellBo.$parent = null;\n  }\n\n  wireCell(cell, row, colIdx) {\n\n    var cellBo = cell.businessObject;\n\n    let rowBo = row.businessObject;\n\n    let inputEntries = rowBo.get('inputEntry');\n    let outputEntries = rowBo.get('outputEntry');\n\n    let collection,\n        collectionIdx;\n\n    // ensure we handle already wired cells\n    if (cellBo.$parent === rowBo) {\n      return;\n    }\n\n    // add to inputEntries\n    if (is(cell, 'dmn:UnaryTests')) {\n      collection = inputEntries;\n      collectionIdx = colIdx;\n    }\n\n    // add to outputEntries\n    if (is(cell, 'dmn:LiteralExpression')) {\n      collection = outputEntries;\n      collectionIdx = colIdx - inputEntries.length;\n    }\n\n    // wire Cell <-> Row relationship\n    collection.splice(collectionIdx, 0, cellBo);\n    cellBo.$parent = rowBo;\n  }\n\n}\n\nDmnUpdater.$inject = [\n  'eventBus',\n  'sheet'\n];\n\n\n\n// helpers //////////////////////\n\n/**\n * Make sure the event listener is only called\n * if the touched element is a DMN element.\n *\n * @param  {Function} fn\n * @return {Function} guarded function\n */\nfunction ifDmn(fn) {\n\n  return function(event) {\n\n    var context = event.context,\n        element = context.row || context.col;\n\n    if (is(element, 'dmn:DMNElement')) {\n      fn(event);\n    }\n  };\n}","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default class DmnFactory {\n\n  constructor(moddle) {\n    this._model = moddle;\n  }\n\n  create(type, attrs = {}) {\n\n    var element = this._model.create(type, attrs || {});\n\n    if (is(element, 'dmn:InputClause')) {\n\n      if (attrs.inputExpression) {\n        element.inputExpression = attrs.inputExpression;\n      } else {\n        element.inputExpression = this.create('dmn:LiteralExpression', {\n          typeRef: 'string'\n        });\n\n        element.inputExpression.$parent = element;\n      }\n\n    }\n\n    if (is(element, 'dmn:OutputClause')) {\n      element.typeRef = attrs.typeRef || 'string';\n    }\n\n    if (is(element, 'dmn:UnaryTests') ||\n        is(element, 'dmn:LiteralExpression')) {\n\n      element.text = attrs.text || '';\n    }\n\n    this._ensureId(element);\n\n    return element;\n  }\n\n  _needsId(element) {\n    return is(element, 'dmn:DMNElement');\n  }\n\n  _ensureId(element) {\n\n    // generate semantic ids for elements\n    // dmn:UnaryTests -> UnaryTests_ID\n    var prefix = (element.$type || '').replace(/^[^:]*:/g, '') + '_';\n\n    if (!element.id && this._needsId(element)) {\n      element.id = this._model.ids.nextPrefixed(prefix, element);\n    }\n  }\n\n}\n\nDmnFactory.$inject = [ 'moddle' ];","\n/**\n * A handler that implements row addition.\n */\nexport default class AddRowHandler {\n\n  constructor(sheet, elementFactory) {\n    this._sheet = sheet;\n    this._elementFactory = elementFactory;\n  }\n\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    const sheet = this._sheet,\n          elementFactory = this._elementFactory,\n          root = sheet.getRoot();\n\n    let {\n      row,\n      index\n    } = context;\n\n    if (typeof index === 'undefined') {\n      index = context.index = root.rows.length;\n    }\n\n    context.newRoot = root;\n\n    if (!row.cells.length) {\n      root.cols.forEach((col, idx) => {\n        const cell = elementFactory.create('cell', { row, col });\n\n        row.cells[idx] = cell;\n      });\n    }\n\n    sheet.addRow(row, index);\n\n    return sheet.getRoot();\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      row\n    } = context;\n\n    const sheet = this._sheet;\n\n    sheet.removeRow(row);\n\n    return sheet.getRoot();\n  }\n\n}\n\nAddRowHandler.$inject = [\n  'sheet',\n  'elementFactory'\n];","\n/**\n * A handler that implements row deletion.\n */\nexport default class RemoveRowHandler {\n\n  constructor(sheet) {\n    this._sheet = sheet;\n  }\n\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    const sheet = this._sheet,\n          root = sheet.getRoot();\n\n    let {\n      row\n    } = context;\n\n    // retrieve and remember previous row position\n    const oldIndex = context.oldIndex = root.rows.indexOf(row);\n\n    context.oldRoot = row.root;\n\n    if (oldIndex === -1) {\n      throw new Error(`row#${row.id} not in sheet`);\n    }\n\n    sheet.removeRow(row);\n\n    return sheet.getRoot();\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      row,\n      oldIndex\n    } = context;\n\n    const sheet = this._sheet;\n\n    sheet.addRow(row, oldIndex);\n\n    return sheet.getRoot();\n  }\n\n}\n\nRemoveRowHandler.$inject = [\n  'sheet'\n];","\n/**\n * A handler that implements row movement.\n */\nexport default class MoveRowHandler {\n\n  constructor(modeling) {\n    this._modeling = modeling;\n  }\n\n  /**\n   * <preexecute>\n   */\n  preExecute(context) {\n    let {\n      row\n    } = context;\n\n    this._modeling.removeRow(row);\n  }\n\n  /**\n   * <postexecute>\n   */\n  postExecute(context) {\n    let {\n      row,\n      index\n    } = context;\n\n    this._modeling.addRow(row, index);\n  }\n\n}\n\nMoveRowHandler.$inject = [ 'modeling' ];","\n/**\n * A handler that implements column addition.\n */\nexport default class AddColHandler {\n\n  constructor(sheet, elementFactory) {\n    this._sheet = sheet;\n    this._elementFactory = elementFactory;\n  }\n\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    const sheet = this._sheet,\n          elementFactory = this._elementFactory,\n          root = sheet.getRoot();\n\n    let {\n      col,\n      index\n    } = context;\n\n    if (typeof index === 'undefined') {\n      index = context.index = root.cols.length;\n    }\n\n    context.newRoot = root;\n\n    if (!col.cells.length) {\n      root.rows.forEach((row, idx) => {\n        const cell = elementFactory.create('cell', { row, col });\n\n        col.cells[idx] = cell;\n      });\n    }\n\n    sheet.addCol(col, index);\n\n    return sheet.getRoot();\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      col\n    } = context;\n\n    const sheet = this._sheet;\n\n    sheet.removeCol(col);\n\n    return sheet.getRoot();\n  }\n\n}\n\nAddColHandler.$inject = [\n  'sheet',\n  'elementFactory'\n];","\n/**\n * A handler that implements column deletion.\n */\nexport default class RemoveColHandler {\n\n  constructor(sheet, elementFactory) {\n    this._sheet = sheet;\n    this._elementFactory = elementFactory;\n  }\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    const sheet = this._sheet;\n\n    let {\n      col\n    } = context;\n\n    const root = context.oldRoot = col.root;\n\n    // retrieve and remember previous col position\n    const oldIndex = context.oldIndex = root.cols.indexOf(col);\n\n    if (oldIndex === -1) {\n      throw new Error(`col#${col.id} not in sheet`);\n    }\n\n    sheet.removeCol(col);\n\n    return sheet.getRoot();\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      col,\n      oldIndex\n    } = context;\n\n    const sheet = this._sheet;\n\n    sheet.addCol(col, oldIndex);\n\n    return sheet.getRoot();\n  }\n\n}\n\n\nRemoveColHandler.$inject = [\n  'sheet',\n  'elementFactory'\n];","\n/**\n * A handler that implements col movement.\n */\nexport default class MoveColHandler {\n\n  constructor(modeling) {\n    this._modeling = modeling;\n  }\n\n  /**\n   * <preexecute>\n   */\n  preExecute(context) {\n    let {\n      col\n    } = context;\n\n    this._modeling.removeCol(col);\n  }\n\n  /**\n   * <postexecute>\n   */\n  postExecute(context) {\n    let {\n      col,\n      index\n    } = context;\n\n    this._modeling.addCol(col, index);\n  }\n\n}\n\nMoveColHandler.$inject = [ 'modeling' ];","\n/**\n * A handler that implements cell editing.\n *\n * Per default, this handler does nothing.\n * Interested parties may hook into the edit commands\n * `preExecute` or `postExecute` phases to carry out\n * the actual editing.\n */\nexport default class EditCellHandler {\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    let {\n      cell\n    } = context;\n\n    return cell;\n  }\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      cell\n    } = context;\n\n    return cell;\n  }\n\n}","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n/**\n * A handler that implements adding/removing allowed values.\n */\nexport default class UpdateAllowedValuesHandler {\n\n  constructor(dmnFactory, moddle, modeling) {\n    this._dmnFactory = dmnFactory;\n    this._moddle = moddle;\n    this._modeling = modeling;\n  }\n\n  /**\n   * <do>\n   */\n  execute(context) {\n    const {\n      element,\n      allowedValues\n    } = context;\n\n    const isInput = is(element, 'dmn:InputClause');\n\n    if (isInput) {\n\n      if (element.inputValues) {\n        context.oldAllowedValues = element.inputValues.text;\n      } else {\n\n        if (!isNull(allowedValues)) {\n          element.inputValues = this._dmnFactory.create('dmn:UnaryTests', {\n            text: ''\n          });\n        }\n\n      }\n\n      if (isNull(allowedValues)) {\n        if (element.inputValues) {\n          delete element.inputValues;\n        }\n      } else {\n        element.inputValues.text = allowedValues.join(',');\n      }\n\n    } else {\n\n      if (element.outputValues && element) {\n        context.oldAllowedValues = element.outputValues.text;\n      } else {\n\n        if (!isNull(allowedValues)) {\n          element.outputValues = this._dmnFactory.create('dmn:UnaryTests', {\n            text: ''\n          });\n        }\n\n      }\n\n      if (isNull(allowedValues)) {\n        if (element.outputValues) {\n          delete element.outputValues;\n        }\n      } else {\n        element.outputValues.text = allowedValues.join(',');\n      }\n\n\n    }\n\n    return element;\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n    const {\n      element,\n      oldAllowedValues\n    } = context;\n\n    const isInput = is(element, 'dmn:InputClause');\n\n    if (isInput) {\n\n      if (oldAllowedValues) {\n\n        if (!element.inputValues) {\n          element.inputValues = this._dmnFactory.create('dmn:UnaryTests', {\n            text: ''\n          });\n        }\n\n        element.inputValues.text = oldAllowedValues;\n\n      } else {\n        delete element.inputValues;\n      }\n\n    } else {\n\n      if (oldAllowedValues) {\n\n        if (!element.outputValues) {\n          element.outputValues = this._dmnFactory.create('dmn:UnaryTests', {\n            text: ''\n          });\n        }\n\n        element.outputValues.text = oldAllowedValues;\n\n      } else {\n        delete element.outputValues;\n      }\n\n    }\n\n    return element;\n  }\n\n}\n\nUpdateAllowedValuesHandler.$inject = [\n  'dmnFactory',\n  'moddle',\n  'modeling'\n];\n\n\n// helpers //////////////////////\n\nfunction isNull(value) {\n  return value === null;\n}","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\r\n\r\nimport { isArray } from 'min-dash';\r\n\r\n\r\nexport default class IdClaimBehavior extends CommandInterceptor {\r\n\r\n  constructor(eventBus, moddle, modeling) {\r\n    super(eventBus);\r\n\r\n    this._ids = moddle.ids;\r\n    this._modeling = modeling;\r\n\r\n    this.preExecute([\r\n      'row.add',\r\n      'col.add'\r\n    ], event => {\r\n      const context = event.context,\r\n            element = context.row || context.col;\r\n\r\n      this.claimId(element.businessObject);\r\n\r\n      if (element.cells) {\r\n        element.cells.forEach(cell => this.claimId(cell.businessObject));\r\n      }\r\n    });\r\n  }\r\n\r\n  claimId(businessObject) {\r\n\r\n    if (businessObject.id && !this._ids.assigned(businessObject.id)) {\r\n      this._modeling.claimId(businessObject.id, businessObject);\r\n    }\r\n\r\n    businessObject.$descriptor.properties.forEach(property => {\r\n      const value = businessObject[property.name];\r\n\r\n      // not set\r\n      if (!value) {\r\n        return;\r\n      }\r\n\r\n      // array of moddle elements\r\n      if (isArray(value)) {\r\n        value.forEach(v => this.claimId(v));\r\n      }\r\n\r\n      // moddle element\r\n      if (value.$type) {\r\n        this.claimId(value);\r\n      }\r\n    });\r\n\r\n  }\r\n}\r\n\r\nIdClaimBehavior.$inject = [ 'eventBus', 'moddle', 'modeling' ];","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\r\n\r\nimport { isArray } from 'min-dash';\r\n\r\n\r\nexport default class IdUnclaimBehavior extends CommandInterceptor {\r\n\r\n  constructor(eventBus, modeling) {\r\n    super(eventBus);\r\n\r\n    this._modeling = modeling;\r\n\r\n    this.preExecute([ 'row.remove', 'col.remove' ], event => {\r\n      const context = event.context,\r\n            element = context.row || context.col;\r\n\r\n      this.unclaimId(element.businessObject);\r\n\r\n      if (element.cells) {\r\n        element.cells.forEach(cell => this.unclaimId(cell.businessObject));\r\n      }\r\n    });\r\n  }\r\n\r\n  unclaimId(businessObject) {\r\n\r\n    if (businessObject.id) {\r\n      this._modeling.unclaimId(businessObject.id, businessObject);\r\n    }\r\n\r\n    businessObject.$descriptor.properties.forEach(property => {\r\n      const value = businessObject[property.name];\r\n\r\n      // not set\r\n      if (!value) {\r\n        return;\r\n      }\r\n\r\n      // array of moddle elements\r\n      if (isArray(value)) {\r\n        value.forEach(v => this.unclaimId(v));\r\n      }\r\n\r\n      // moddle element\r\n      if (value.$type) {\r\n        this.unclaimId(value);\r\n      }\r\n    });\r\n\r\n  }\r\n}\r\n\r\nIdUnclaimBehavior.$inject = [ 'eventBus', 'modeling' ];","import { Component } from 'inferno';\n\nimport { isString } from 'min-dash';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\n\nimport { Cell } from 'table-js/lib/components';\n\n\nexport default class DecisionRulesEditorCellComponent extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      isFocussed: false\n    };\n\n    this.changeCellValue = this.changeCellValue.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onElementsChanged = this.onElementsChanged.bind(this);\n  }\n\n\n  onElementsChanged() {\n    this.forceUpdate();\n  }\n\n\n  componentWillMount() {\n    const { injector } = this.context;\n\n    const { cell } = this.props;\n\n    const changeSupport = this._changeSupport = this.context.changeSupport;\n\n    this._modeling = injector.get('modeling');\n\n    changeSupport.onElementsChanged(cell.id, this.onElementsChanged);\n  }\n\n\n  componentWillUnmount() {\n    const { cell } = this.props;\n\n    this._changeSupport.offElementsChanged(cell.id, this.onElementsChanged);\n  }\n\n\n  changeCellValue(value) {\n    const { cell } = this.props;\n\n    this._modeling.editCell(cell.businessObject, value);\n  }\n\n\n  onFocus() {\n    this.setState({\n      isFocussed: true\n    });\n  }\n\n\n  onBlur() {\n    this.setState({\n      isFocussed: false\n    });\n  }\n\n\n  render() {\n    const {\n      cell,\n      rowIndex,\n      row,\n      col,\n      colIndex\n    } = this.props;\n\n    const { isFocussed } = this.state;\n\n    const isUnaryTest = is(cell, 'dmn:UnaryTests');\n    const businessObject = cell.businessObject;\n\n    return (\n      <Cell\n        className={ isUnaryTest ? 'input-cell' : 'output-cell' }\n        elementId={ cell.id }\n        coords={ `${rowIndex}:${colIndex}` }\n        data-row-id={ row.id }\n        data-col-id={ col.id }\n      >\n        <TableCellEditor\n          className=\"cell-editor\"\n          placeholder={ isUnaryTest ? '-' : '' }\n          ctrlForNewline={ true }\n          onFocus={ this.onFocus }\n          onBlur={ this.onBlur }\n          isFocussed={ isFocussed }\n          onChange={ this.changeCellValue }\n          value={ businessObject.text }\n          businessObject={ businessObject } />\n      </Cell>\n    );\n  }\n}\n\n\nclass TableCellEditor extends EditableComponent {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this._expressionLanguages = context.injector.get('expressionLanguages');\n    this._translate = context.injector.get('translate');\n  }\n\n  isDefaultExpressionLanguage(businessObject) {\n    const { expressionLanguage } = businessObject;\n\n    const defaultExpressionLanguage = this.getDefaultExpressionLanguage(\n      businessObject\n    ).value;\n\n    return !expressionLanguage || expressionLanguage === defaultExpressionLanguage;\n  }\n\n  getDescription(businessObject) {\n    return businessObject.description;\n  }\n\n  getExpressionLanguageLabel(businessObject) {\n    const { expressionLanguage } = businessObject;\n\n    const defaultExpressionLanguage = this.getDefaultExpressionLanguage(businessObject);\n\n    return this._expressionLanguages.getLabel(expressionLanguage) ||\n      defaultExpressionLanguage.label;\n  }\n\n  isScript(businessObject) {\n    const defaultExpressionLanguage = this.getDefaultExpressionLanguage(businessObject);\n\n    const isInputCell = is(businessObject, 'dmn:UnaryTests');\n\n    if (!isInputCell) {\n      return false;\n    }\n\n    if (businessObject.text.indexOf('\\n') !== -1) {\n      return true;\n    }\n\n    return businessObject.expressionLanguage &&\n      businessObject.expressionLanguage !== defaultExpressionLanguage;\n  }\n\n  getDefaultExpressionLanguage(businessObject) {\n    const elementType = is(businessObject, 'dmn:UnaryTests') ? 'inputCell' : 'outputCell';\n\n    return this._expressionLanguages.getDefault(elementType);\n  }\n\n  render() {\n    const {\n      businessObject,\n      isFocussed\n    } = this.props;\n\n    const description = this.getDescription(businessObject);\n\n    const isDefaultExpressionLanguage = this.isDefaultExpressionLanguage(businessObject);\n\n    const expressionLanguageLabel = this.getExpressionLanguageLabel(businessObject);\n\n    const isScript = this.isScript(businessObject);\n\n    return (\n      <div className={ this.getClassName() }>\n        {\n          isString(description)\n            && !isFocussed\n            && <div className=\"description-indicator\"></div>\n        }\n        {\n          this.getEditor({\n            className: isScript ? 'script-editor' : null\n          })\n        }\n        {\n          !isDefaultExpressionLanguage &&\n          !isFocussed && (\n            <span\n              className=\"dms-badge dmn-expression-language\"\n              title={ this._translate(\n                'Expression Language = {expressionLanguageLabel}',\n                { expressionLanguageLabel }\n              ) }>\n              <span class=\"dms-badge-icon dmn-icon-file-code\"></span>\n              <span class=\"dms-badge-label\">{ expressionLanguageLabel }</span>\n            </span>\n          )\n        }\n      </div>\n    );\n  }\n}\n","import DecisionRulesCellEditorComponent\n  from './components/DecisionRulesCellEditorComponent';\n\nconst HIGH_PRIORITY = 1500;\n\n\nexport default class RulesEditor {\n  constructor(components) {\n    components.onGetComponent('cell', HIGH_PRIORITY, ({ cellType }) => {\n      if (cellType === 'rule') {\n        return DecisionRulesCellEditorComponent;\n      }\n    });\n  }\n}\n\nRulesEditor.$inject = [ 'components' ];","import DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nimport DecisionRulesEditor from './DecisionRulesEditor';\nimport Rules from './index';\n\nexport default {\n  __depends__: [ DebounceInput, Rules ],\n  __init__: [ 'decisionRulesEditor' ],\n  decisionRulesEditor: [ 'type', DecisionRulesEditor ]\n};","import { Component } from 'inferno';\r\n\r\nimport { assign } from 'min-dash';\r\n\r\nimport {\r\n  getNodeById\r\n} from '../../cell-selection/CellSelectionUtil';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nconst OFFSET = 4;\r\n\r\n\r\nexport default class SimpleModeButtonComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.state = {\r\n      top: 0,\r\n      left: 0,\r\n      isVisible: false,\r\n      isDisabled: true\r\n    };\r\n\r\n    const { injector } = context;\r\n\r\n    const eventBus = this._eventBus = injector.get('eventBus'),\r\n          simpleMode = injector.get('simpleMode'),\r\n          elementRegistry = context.injector.get('elementRegistry'),\r\n          expressionLanguages = context.injector.get('expressionLanguages');\r\n\r\n    this._renderer = injector.get('renderer');\r\n\r\n    this._selection = context.injector.get('selection');\r\n\r\n    this.updatePosition = this.updatePosition.bind(this);\r\n\r\n    eventBus.on('cellSelection.changed', ({ elementId }) => {\r\n      const selection = elementRegistry.get(elementId);\r\n\r\n      if (!selection || !simpleMode.canSimpleEdit(selection)) {\r\n        this.setState({\r\n          isVisible: false\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      this.setState({\r\n        isVisible: true,\r\n        selection\r\n      }, this.updatePosition);\r\n\r\n      const expressionLanguage = getExpressionLanguage(selection);\r\n\r\n      const isDisabled = !isDefaultExpressionLanguage(\r\n        selection, expressionLanguage, expressionLanguages\r\n      );\r\n\r\n      this.setState({\r\n        isVisible: true,\r\n        selection,\r\n        isDisabled\r\n      }, this.updatePosition);\r\n    });\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n\r\n  // position button always on opposite site of context menu\r\n  updatePosition() {\r\n    const { selection } = this.state;\r\n\r\n    if (!selection || !this.node) {\r\n      return;\r\n    }\r\n\r\n    const container = this._container = this._renderer.getContainer();\r\n\r\n    const cellNode = getNodeById(selection.id, container);\r\n\r\n    const cellBounds = cellNode.getBoundingClientRect();\r\n\r\n    const nodeBounds = this.node.getBoundingClientRect();\r\n\r\n    const containerBounds = container.getBoundingClientRect();\r\n\r\n    const { scrollLeft, scrollTop } = container;\r\n\r\n    const nodePosition = {};\r\n\r\n    if (cellBounds.left + (cellBounds.width / 2) > containerBounds.width / 2) {\r\n      nodePosition.left =\r\n        (window.scrollX\r\n        - containerBounds.left\r\n        + cellBounds.left\r\n        - nodeBounds.width\r\n        + OFFSET\r\n        + scrollLeft)\r\n        + 'px';\r\n    } else {\r\n      nodePosition.left =\r\n        (window.scrollX\r\n        - containerBounds.left\r\n        + cellBounds.left\r\n        + cellBounds.width\r\n        - OFFSET\r\n        + scrollLeft)\r\n        + 'px';\r\n    }\r\n\r\n    if (cellBounds.top + (cellBounds.height / 2) > containerBounds.height / 2) {\r\n      nodePosition.top =\r\n        (window.scrollY\r\n        - containerBounds.top\r\n        + cellBounds.top\r\n        - nodeBounds.height\r\n        + OFFSET\r\n        + scrollTop)\r\n        + 'px';\r\n    } else {\r\n      nodePosition.top =\r\n        (window.scrollY\r\n        - containerBounds.top\r\n        + cellBounds.top\r\n        - OFFSET\r\n        + scrollTop)\r\n        + 'px';\r\n    }\r\n\r\n    assign(this.node.style, nodePosition);\r\n  }\r\n\r\n  onClick() {\r\n    const { isDisabled } = this.state;\r\n\r\n    if (isDisabled) {\r\n      return;\r\n    }\r\n\r\n    const element = this._selection.get();\r\n\r\n    if (!element) {\r\n      return;\r\n    }\r\n\r\n    this._eventBus.fire('simpleMode.open', {\r\n      element,\r\n      node: getNodeById(element.id, this._container)\r\n    });\r\n\r\n    this.setState({\r\n      isVisible: false\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isDisabled, isVisible, top, left } = this.state;\r\n\r\n    const classes = [\r\n      'simple-mode-button',\r\n      'no-deselect'\r\n    ];\r\n\r\n    if (isDisabled) {\r\n      classes.push('disabled');\r\n    }\r\n\r\n    return (\r\n      isVisible\r\n        ? <div\r\n          className={ classes.join(' ') }\r\n          onClick={ this.onClick }\r\n          ref={ node => this.node = node }\r\n          style={ { top, left } }\r\n          title={ isDisabled\r\n            ? 'Editing not supported for set expression language'\r\n            : 'Edit' }><span className=\"dmn-icon-edit\"></span></div>\r\n        : null\r\n    );\r\n  }\r\n}\r\n\r\n\r\n// helpers //////////////////////\r\n\r\n/**\r\n * Return set expression language if found.\r\n *\r\n * @param {Cell} cell - Cell.\r\n */\r\nfunction getExpressionLanguage(cell) {\r\n  return cell.businessObject.expressionLanguage;\r\n}\r\n\r\nfunction isDefaultExpressionLanguage(cell, expressionLanguage, expressionLanguages) {\r\n  return !expressionLanguage ||\r\n    expressionLanguage === getDefaultExpressionLanguage(cell, expressionLanguages);\r\n}\r\n\r\nfunction getDefaultExpressionLanguage(cell, expressionLanguages) {\r\n  if (isInput(cell.col)) {\r\n    return expressionLanguages.getDefault('inputCell').value;\r\n  } else if (isOutput(cell.col)) {\r\n    return expressionLanguages.getDefault('outputCell').value;\r\n  }\r\n}\r\n","import SimpleModeButtonComponent from './components/SimpleModeButtonComponent';\r\n\r\nexport default class SimpleMode {\r\n\r\n  constructor(components, contextMenu, elementRegistry, eventBus, renderer) {\r\n\r\n    this._providers = [];\r\n\r\n    components.onGetComponent('table.before', () => {\r\n      return SimpleModeButtonComponent;\r\n    });\r\n\r\n    eventBus.on('simpleMode.open', ({ element, node }) => {\r\n      const { left, top, width, height } = node.getBoundingClientRect();\r\n\r\n      const container = renderer.getContainer();\r\n\r\n      contextMenu.open({\r\n        x: left + container.parentNode.scrollLeft,\r\n        y: top + container.parentNode.scrollTop,\r\n        width,\r\n        height\r\n      }, {\r\n        contextMenuType: 'simple-mode-edit',\r\n        element,\r\n        offset: {\r\n          x: 4,\r\n          y: 4\r\n        }\r\n      });\r\n    });\r\n\r\n    eventBus.on('cell.click', e => {\r\n\r\n      const {\r\n        event,\r\n        node,\r\n        id\r\n      } = e;\r\n\r\n      if (isCmd(event)) {\r\n        const element = elementRegistry.get(id);\r\n\r\n        if (element) {\r\n          eventBus.fire('simpleMode.open', {\r\n            node,\r\n            element\r\n          });\r\n        }\r\n\r\n        // prevent focus\r\n        e.preventDefault();\r\n      }\r\n    });\r\n  }\r\n\r\n  registerProvider(provider) {\r\n    this._providers.push(provider);\r\n  }\r\n\r\n  canSimpleEdit(element) {\r\n    return this._providers.reduce((canSimpleEdit, provider) => {\r\n      return canSimpleEdit || provider(element);\r\n    }, false);\r\n  }\r\n}\r\n\r\nSimpleMode.$inject = [\r\n  'components',\r\n  'contextMenu',\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'renderer'\r\n];\r\n\r\n\r\n// helpers //////////\r\n\r\nexport function isCmd(event) {\r\n\n  // ensure we don't react to AltGr\r\n  // (mapped to CTRL + ALT)\r\n  if (event.altKey) {\r\n    return false;\r\n  }\r\n\r\n  return event.ctrlKey || event.metaKey;\r\n}","import ContextMenu from 'table-js/lib/features/context-menu';\r\nimport CellSelection from '../cell-selection';\r\nimport ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\r\n\r\nimport SimpleMode from './SimpleMode';\r\n\r\nexport default {\r\n  __depends__: [\r\n    ContextMenu,\r\n    CellSelection,\r\n    ExpressionLanguagesModule\r\n  ],\r\n  __init__: [ 'simpleMode' ],\r\n  simpleMode: [ 'type', SimpleMode ]\r\n};","export function parseString(string) {\r\n  if (!string || isEmptyString(string)) {\r\n    return 'none';\r\n  } else if (string.trim() === 'true') {\r\n    return 'true';\r\n  } else if (string.trim() === 'false') {\r\n    return 'false';\r\n  }\r\n}\r\n\r\nfunction isEmptyString(string) {\r\n  return string === '';\r\n}","import { Component } from 'inferno';\r\n\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport { parseString } from '../Utils';\r\n\r\nconst TRUE = 'true',\r\n      FALSE = 'false',\r\n      NONE = 'none';\r\n\r\n\r\nexport default class BooleanEdit extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const parsedString = parseString(element.businessObject.text);\r\n\r\n    this.state = {\r\n      value: parsedString || NONE\r\n    };\r\n\r\n    this.editCell = this.editCell.bind(this);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  onChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    this.editCell(element.businessObject, value === NONE ? '' : value);\r\n\r\n    this.setState({\r\n      value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    const options = [{\r\n      label: '-',\r\n      value: NONE\r\n    }, {\r\n      label: 'Yes',\r\n      value: TRUE\r\n    }, {\r\n      label: 'No',\r\n      value: FALSE\r\n    }];\r\n\r\n    return (\r\n      <div class=\"simple-boolean-edit context-menu-container\">\r\n\r\n        <h3 class=\"dms-heading\">Edit Boolean</h3>\r\n\r\n        <h4 class=\"dms-heading\">Set Value</h4>\r\n\r\n        <InputSelect\r\n          noInput={ true }\r\n          className=\"dms-block\"\r\n          onChange={ this.onChange }\r\n          options={ options }\r\n          value={ value } />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import BooleanEdit from './components/BooleanEdit';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nexport default class SimpleBooleanEdit {\r\n  constructor(components, simpleMode) {\r\n    simpleMode.registerProvider(element => {\r\n      return (isInput(element.col) || isOutput(element.col))\r\n        && getTypeRef(element) === 'boolean';\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\r\n\r\n        if (!context.element) {\r\n          return;\r\n        }\r\n\r\n        const typeRef = getTypeRef(context.element);\r\n\r\n        if (typeRef === 'boolean') {\r\n          return BooleanEdit;\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nSimpleBooleanEdit.$inject = [ 'components', 'simpleMode' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getTypeRef(element) {\r\n  if (isInput(element.col)) {\r\n    return element.col && element.col.businessObject.inputExpression.typeRef;\r\n  } else {\r\n    return element.col && element.col.businessObject.typeRef;\r\n  }\r\n}","import SimpleMode from '../simple-mode';\r\nimport SimpleBooleanEdit from './SimpleBooleanEdit';\r\nimport Keyboard from '../keyboard';\r\n\r\nexport default {\r\n  __depends__: [ Keyboard, SimpleMode ],\r\n  __init__: [ 'simpleBooleanEdit' ],\r\n  simpleBooleanEdit: [ 'type', SimpleBooleanEdit ]\r\n};","const ISO_DATE_REGEX = /^\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d$/;\r\n\r\n// eslint-disable-next-line\r\nconst BETWEEN_DATE_REGEX = /^\\[date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"\\)..date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"/;\r\n\r\n// eslint-disable-next-line\r\nconst BEFORE_AFTER_DATE_REGEX = /^(<|>)\\s*date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"\\)/;\r\n\r\nconst EXACT_DATE_REGEX = /^date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"\\)$/;\r\n\r\nconst EXACT = 'exact',\r\n      BEFORE = 'before',\r\n      AFTER = 'after',\r\n      BETWEEN = 'between';\r\n\r\nexport function validateISOString(string) {\r\n  if (!ISO_DATE_REGEX.test(string.trim())) {\r\n    return 'Date must match pattern yyyy-MM-ddTHH:mm:ss.';\r\n  }\r\n}\r\n\r\nexport function getDateString(type, dates) {\r\n  if (type === EXACT) {\r\n    return `date and time(\"${ dates[0] }\")`;\r\n  } else if (type === BEFORE) {\r\n    return `< date and time(\"${ dates[0] }\")`;\r\n  } else if (type === AFTER) {\r\n    return `> date and time(\"${ dates[0] }\")`;\r\n  } else if (type === BETWEEN) {\r\n    return `[date and time(\"${ dates[0] }\")..date and time(\"${ dates[1] }\")]`;\r\n  }\r\n}\r\n\r\nexport function getSampleDate() {\r\n  const date = new Date();\r\n\r\n  date.setUTCHours(0, 0, 0, 0);\r\n\r\n  return date.toISOString().slice(0,-5);\r\n}\r\n\r\nexport function parseString(string) {\r\n\r\n  // emtpy\r\n  if (!string || string.trim() === '') {\r\n    return {\r\n      type: 'exact',\r\n      date: ''\r\n    };\r\n  }\r\n\r\n  // between\r\n  let matches = string.match(BETWEEN_DATE_REGEX);\r\n\r\n  if (matches) {\r\n    return {\r\n      type: 'between',\r\n      dates: [ matches[1], matches[2] ]\r\n    };\r\n  }\r\n\r\n  // before or after\r\n  matches = string.match(BEFORE_AFTER_DATE_REGEX);\r\n\r\n  if (matches) {\r\n    return {\r\n      type: matches[1] === '<' ? 'before' : 'after',\r\n      date: matches[2]\r\n    };\r\n  }\r\n\r\n  // exact\r\n  matches = string.match(EXACT_DATE_REGEX);\r\n\r\n  if (matches) {\r\n    return {\r\n      type: 'exact',\r\n      date: matches[1]\r\n    };\r\n  }\r\n}","import { Component } from 'inferno';\r\n\r\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\r\n\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport {\r\n  getDateString,\r\n  getSampleDate,\r\n  validateISOString,\r\n  parseString\r\n} from '../Utils';\r\n\r\nconst EXACT = 'exact',\r\n      BEFORE = 'before',\r\n      AFTER = 'after',\r\n      BETWEEN = 'between';\r\n\r\n\r\nexport default class InputDateEdit extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const parsedString = parseString(element.businessObject.text);\r\n\r\n    if (parsedString) {\r\n      let dates;\r\n\r\n      if (parsedString.date) {\r\n        dates = [ parsedString.date, '' ];\r\n      } else if (parsedString.dates) {\r\n        dates = parsedString.dates;\r\n      } else {\r\n        dates = [ '', '' ];\r\n      }\r\n\r\n      this.state = {\r\n        type: parsedString.type,\r\n        dates\r\n      };\r\n    } else {\r\n      this.state = {\r\n        type: EXACT,\r\n        dates: [ '', '' ]\r\n      };\r\n    }\r\n\r\n    const debounceInput = context.injector.get('debounceInput');\r\n\r\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\r\n    this.editCell = this.editCell.bind(this);\r\n\r\n    this.onTypeChange = this.onTypeChange.bind(this);\r\n    this.onSetStartDateTodayClick = this.onSetStartDateTodayClick.bind(this);\r\n    this.onSetEndDateTodayClick = this.onSetEndDateTodayClick.bind(this);\r\n    this.onStartDateInput = this.onStartDateInput.bind(this);\r\n    this.onEndDateInput = this.onEndDateInput.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  onTypeChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { dates } = this.state;\r\n\r\n    this.setState({\r\n      type: value\r\n    });\r\n\r\n    if (parseString(getDateString(value, dates))) {\r\n      this.editCell(element.businessObject, getDateString(value, dates));\r\n    }\r\n  }\r\n\r\n  onSetStartDateTodayClick() {\r\n    const { element } = this.props.context;\r\n\r\n    const { dates, type } = this.state;\r\n\r\n    const date = getSampleDate();\r\n\r\n    this.setState({\r\n      dates: [ date, dates[1] ]\r\n    });\r\n\r\n    if (parseString(getDateString(type, [ date, dates[1] ]))) {\r\n      this.editCell(element.businessObject, getDateString(type, [ date, dates[1] ]));\r\n    }\r\n  }\r\n\r\n  onSetEndDateTodayClick() {\r\n    const { element } = this.props.context;\r\n\r\n    const { dates, type } = this.state;\r\n\r\n    const date = getSampleDate();\r\n\r\n    this.setState({\r\n      dates: [ dates[0], date ]\r\n    });\r\n\r\n    if (parseString(getDateString(type, [ dates[0], date ]))) {\r\n      this.editCell(element.businessObject, getDateString(type, [ dates[0], date ]));\r\n    }\r\n  }\r\n\r\n  onStartDateInput({ isValid, value }) {\r\n    if (isValid) {\r\n      const { element } = this.props.context;\r\n\r\n      const { dates, type } = this.state;\r\n\r\n      this.setState({\r\n        dates: [ value, dates[1] ]\r\n      });\r\n\r\n      this.debouncedEditCell(\r\n        element.businessObject,\r\n        getDateString(type, [ value, dates[1] ])\r\n      );\r\n\r\n    }\r\n  }\r\n\r\n  onEndDateInput({ isValid, value }) {\r\n    if (isValid) {\r\n      const { element } = this.props.context;\r\n\r\n      const { dates, type } = this.state;\r\n\r\n      this.setState({\r\n        dates: [ dates[0], value ]\r\n      });\r\n\r\n      this.debouncedEditCell(\r\n        element.businessObject,\r\n        getDateString(type, [ dates[0], value ])\r\n      );\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dates, type } = this.state;\r\n\r\n    const options = [{\r\n      label: 'Exactly',\r\n      value: EXACT\r\n    }, {\r\n      label: 'Before',\r\n      value: BEFORE\r\n    }, {\r\n      label: 'After',\r\n      value: AFTER\r\n    }, {\r\n      label: 'Between',\r\n      value: BETWEEN\r\n    }];\r\n\r\n    return (\r\n      <div class=\"context-menu-container simple-date-edit\">\r\n\r\n        <h3 class=\"dms-heading\">Edit Date</h3>\r\n\r\n        <div className=\"dms-fill-row\">\r\n          <InputSelect\r\n            noInput={ true }\r\n            onChange={ this.onTypeChange }\r\n            options={ options }\r\n            value={ type } />\r\n        </div>\r\n\r\n        <h4 class=\"dms-heading\">\r\n          {\r\n            type === BETWEEN\r\n              ? 'Edit Start Date'\r\n              : 'Set Date'\r\n          }\r\n        </h4>\r\n\r\n        <div>\r\n          <ValidatedInput\r\n            className=\"start-date-input dms-block\"\r\n            onInput={ this.onStartDateInput }\r\n            placeholder={ `e.g. ${ getSampleDate() }` }\r\n            validate={ validateISOString }\r\n            value={ dates[0] } />\r\n\r\n          <p className=\"dms-hint\">\r\n            <button type=\"button\"\r\n              className=\"use-today\"\r\n              onClick={ this.onSetStartDateTodayClick }>Use today</button>.\r\n          </p>\r\n        </div>\r\n\r\n        {\r\n          type === BETWEEN\r\n            && <h4 class=\"dms-heading\">\r\n              Edit End Date\r\n            </h4>\r\n        }\r\n\r\n        {\r\n          type === BETWEEN\r\n            && <div>\r\n              <ValidatedInput\r\n                className=\"end-date-input dms-block\"\r\n                onInput={ this.onEndDateInput }\r\n                placeholder={ `e.g. ${ getSampleDate() }` }\r\n                validate={ validateISOString }\r\n                value={ dates[1] }>\r\n              </ValidatedInput>\r\n\r\n              <p className=\"dms-hint\">\r\n                <button type=\"button\"\r\n                  className=\"use-today\"\r\n                  onClick={ this.onSetEndDateTodayClick }>Use today</button>.\r\n              </p>\r\n            </div>\r\n        }\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import { Component } from 'inferno';\r\n\r\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\r\n\r\nimport {\r\n  getSampleDate,\r\n  validateISOString,\r\n  parseString\r\n} from '../Utils';\r\n\r\n\r\nexport default class OutputDateEdit extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const parsedString = parseString(element.businessObject.text);\r\n\r\n    this.state = {\r\n      date: parsedString ? parsedString.date : ''\r\n    };\r\n\r\n    const debounceInput = context.injector.get('debounceInput');\r\n\r\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\r\n    this.editCell = this.editCell.bind(this);\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n    this.onInput = this.onInput.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  onClick() {\r\n    const { element } = this.props.context;\r\n\r\n    const date = getSampleDate();\r\n\r\n    this.setState({\r\n      date\r\n    });\r\n\r\n    this.editCell(element.businessObject, `date and time(\"${ date }\")`);\r\n  }\r\n\r\n  onInput({ isValid, value }) {\r\n    if (isValid) {\r\n      const { element } = this.props.context;\r\n\r\n      this.setState({\r\n        date: value\r\n      });\r\n\r\n      this.debouncedEditCell(element.businessObject, `date and time(\"${ value }\")`);\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { date } = this.state;\r\n\r\n    return (\r\n      <div class=\"context-menu-container simple-date-edit\">\r\n\r\n        <h3 class=\"dms-heading\">Edit Date</h3>\r\n\r\n        <h4 class=\"dms-heading\">Set Date</h4>\r\n\r\n        <div>\r\n          <ValidatedInput\r\n            onInput={ this.onInput }\r\n            placeholder={ `e.g. ${ getSampleDate() }` }\r\n            validate={ validateISOString }\r\n            value={ date }\r\n            className=\"dms-block\">\r\n          </ValidatedInput>\r\n\r\n          <p className=\"dms-hint\">\r\n            Set date <button type=\"button\"\r\n              className=\"use-today\"\r\n              onClick={ this.onClick }>to today</button>.\r\n          </p>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import InputDateEdit from './components/InputDateEdit';\r\nimport OutputDateEdit from './components/OutputDateEdit';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nexport default class SimpleDateEdit {\r\n  constructor(components, simpleMode) {\r\n    simpleMode.registerProvider(element => {\r\n      const typeRef = getTypeRef(element);\r\n\r\n      return (isInput(element.col) || isOutput(element.col))\r\n        && isDate(typeRef);\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\r\n\r\n        if (!context.element) {\r\n          return;\r\n        }\r\n\r\n        const typeRef = getTypeRef(context.element);\r\n\r\n        if (isDate(typeRef)) {\r\n\r\n          if (isInput(context.element.col)) {\r\n            return InputDateEdit;\r\n          } else if (isOutput(context.element.col)) {\r\n            return OutputDateEdit;\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nSimpleDateEdit.$inject = [ 'components', 'simpleMode' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getTypeRef(element) {\r\n  if (isInput(element.col)) {\r\n    return element.col && element.col.businessObject.inputExpression.typeRef;\r\n  } else {\r\n    return element.col && element.col.businessObject.typeRef;\r\n  }\r\n}\r\n\r\nfunction isDate(typeRef) {\r\n  return typeRef === 'date';\r\n}","import SimpleMode from '../simple-mode';\r\nimport SimpleDateEdit from './SimpleDateEdit';\r\nimport Keyboard from '../keyboard';\r\n\r\nexport default {\r\n  __depends__: [ Keyboard, SimpleMode ],\r\n  __init__: [ 'simpleDateEdit' ],\r\n  simpleDateEdit: [ 'type', SimpleDateEdit ]\r\n};","import { keys } from 'min-dash';\r\n\r\n// eslint-disable-next-line\r\nconst COMPARISON_REGULAR_EXPRESSION = /^(-?(?:[0-9]|\\.[0-9])+)$|^((?:<|>|=){0,2})\\s*(-?(?:[0-9]|\\.[0-9])+)$/;\r\n\r\n// eslint-disable-next-line\r\nconst RANGE_REGULAR_EXPRESSION = /^(\\[|\\]){1}(-?(?:[0-9]|\\.[0-9])+){1,}\\.\\.(-?(?:[0-9]|\\.[0-9])+){1,}(\\[|\\]){1}$/;\r\n\r\nexport const operators = {\r\n  equals: '=',\r\n  less: '<',\r\n  lessEquals: '<=',\r\n  greater: '>',\r\n  greaterEquals: '>='\r\n};\r\n\r\nfunction getOperatorName(string) {\r\n  return keys(operators).filter(key => {\r\n    return string === operators[ key ];\r\n  })[0];\r\n}\r\n\r\nexport function parseString(string) {\r\n  if (!string || isEmptyString(string.trim())) {\r\n    return {\r\n      type: 'comparison'\r\n    };\r\n  }\r\n\r\n  const comparisonMatches = string.match(COMPARISON_REGULAR_EXPRESSION),\r\n        rangeMatches = string.match(RANGE_REGULAR_EXPRESSION);\r\n\r\n  if (comparisonMatches) {\r\n    if (isNumber(comparisonMatches)) {\r\n      return {\r\n        type: 'comparison',\r\n        value: parseFloat(comparisonMatches[1]),\r\n        operator: 'equals'\r\n      };\r\n    } else if (isComparison(comparisonMatches)) {\r\n      return {\r\n        type: 'comparison',\r\n        value: parseFloat(comparisonMatches[3]),\r\n        operator: getOperatorName(comparisonMatches[2])\r\n      };\r\n    }\r\n\r\n  } else if (rangeMatches) {\r\n    return {\r\n      type: 'range',\r\n      values: [ rangeMatches[2], rangeMatches[3] ].map(value => parseFloat(value)),\r\n      start: rangeMatches[1] === ']' ? 'exclude' : 'include',\r\n      end: rangeMatches[4] === '[' ? 'exclude' : 'include'\r\n    };\r\n  }\r\n\r\n}\r\n\r\nexport function isEmptyString(string) {\r\n  return string === '';\r\n}\r\n\r\nfunction isNumber(matches) {\r\n  return matches[0] && matches[1] && !matches[2] && !matches[3];\r\n}\r\n\r\nfunction isComparison(matches) {\r\n  return matches[0] && !matches[1] && matches[2] && matches[3];\r\n}\r\n\r\nexport function getComparisonString(comparisonOperator, comparisonValue) {\r\n  if (comparisonOperator === 'equals') {\r\n    return `${ comparisonValue }`;\r\n  } else {\r\n    return `${ operators[comparisonOperator] } ${ comparisonValue }`;\r\n  }\r\n}\r\n\r\nexport function getRangeString(\r\n    rangeStartValue,\r\n    rangeEndValue,\r\n    rangeStartType,\r\n    rangeEndType) {\r\n  const rangeStartChar = rangeStartType === 'exclude' ? ']' : '[',\r\n        rangeEndChar = rangeEndType === 'exclude' ? '[' : ']';\r\n\r\n  return `${ rangeStartChar }${ rangeStartValue }..${ rangeEndValue }${ rangeEndChar }`;\r\n}","import { Component } from 'inferno';\r\n\r\nimport Input from 'dmn-js-shared/lib/components/Input';\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport {\r\n  getComparisonString,\r\n  getRangeString,\r\n  parseString\r\n} from '../Utils';\r\n\r\nconst COMPARISON = 'comparison',\r\n      RANGE = 'range';\r\n\r\n\r\nexport default class InputNumberEdit extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const parsedString = parseString(element.businessObject.text);\r\n\r\n    if (parsedString) {\r\n      this.state = {\r\n        type: parsedString.type,\r\n        comparisonOperator: parsedString.operator || 'equals',\r\n        comparisonValue: parsedString.value || 0,\r\n        rangeStartValue: parsedString.values ? parsedString.values[0] : 0,\r\n        rangeEndValue: parsedString.values ? parsedString.values[1] : 0,\r\n        rangeStartType: parsedString.start || 'include',\r\n        rangeEndType: parsedString.end || 'include'\r\n      };\r\n    } else {\r\n      this.state = {\r\n        type: COMPARISON,\r\n        comparisonOperator: 'equals',\r\n        comparisonValue: 0,\r\n        rangeStartValue: 0,\r\n        rangeEndValue: 0,\r\n        rangeStartType: 'include',\r\n        rangeEndType: 'include'\r\n      };\r\n    }\r\n\r\n    const debounceInput = context.injector.get('debounceInput');\r\n\r\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\r\n    this.editCell = this.editCell.bind(this);\r\n\r\n    this.onComparisonOperatorChange = this.onComparisonOperatorChange.bind(this);\r\n    this.onComparisonValueChange = this.onComparisonValueChange.bind(this);\r\n    this.onTypeChange = this.onTypeChange.bind(this);\r\n    this.onRangeStartTypeChange = this.onRangeStartTypeChange.bind(this);\r\n    this.onRangeStartValueChange = this.onRangeStartValueChange.bind(this);\r\n    this.onRangeEndTypeChange = this.onRangeEndTypeChange.bind(this);\r\n    this.onRangeEndValueChange = this.onRangeEndValueChange.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  onTypeChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const {\r\n      comparisonOperator,\r\n      comparisonValue,\r\n      rangeStartValue,\r\n      rangeEndValue,\r\n      rangeStartType,\r\n      rangeEndType\r\n    } = this.state;\r\n\r\n    if (value === COMPARISON) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getComparisonString(comparisonOperator, comparisonValue)\r\n      );\r\n    } else {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getRangeString(rangeStartValue, rangeEndValue, rangeStartType, rangeEndType)\r\n      );\r\n    }\r\n\r\n    this.setState({\r\n      type: value\r\n    });\r\n  }\r\n\r\n  onComparisonOperatorChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, comparisonValue } = this.state;\r\n\r\n    if (type === COMPARISON) {\r\n      this.editCell(element.businessObject, getComparisonString(value, comparisonValue));\r\n\r\n      this.setState({\r\n        comparisonOperator: value\r\n      });\r\n    }\r\n  }\r\n\r\n  onComparisonValueChange(comparisonValue) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, comparisonOperator } = this.state;\r\n\r\n    if (type === COMPARISON) {\r\n      this.debouncedEditCell(\r\n        element.businessObject,\r\n        getComparisonString(comparisonOperator, comparisonValue)\r\n      );\r\n\r\n      this.setState({\r\n        comparisonValue\r\n      });\r\n    }\r\n  }\r\n\r\n  onRangeStartTypeChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, rangeStartValue, rangeEndValue, rangeEndType } = this.state;\r\n\r\n    if (type === RANGE) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getRangeString(rangeStartValue, rangeEndValue, value, rangeEndType)\r\n      );\r\n\r\n      this.setState({\r\n        rangeStartType: value\r\n      });\r\n    }\r\n  }\r\n\r\n  onRangeStartValueChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, rangeEndValue, rangeStartType, rangeEndType } = this.state;\r\n\r\n    if (type === RANGE) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getRangeString(value, rangeEndValue, rangeStartType, rangeEndType)\r\n      );\r\n\r\n      this.setState({\r\n        rangeStartValue: value\r\n      });\r\n    }\r\n  }\r\n\r\n  onRangeEndTypeChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, rangeStartValue, rangeEndValue, rangeStartType } = this.state;\r\n\r\n    if (type === RANGE) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getRangeString(rangeStartValue, rangeEndValue, rangeStartType, value)\r\n      );\r\n\r\n      this.setState({\r\n        rangeEndType: value\r\n      });\r\n    }\r\n  }\r\n\r\n  onRangeEndValueChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, rangeStartValue, rangeStartType, rangeEndType } = this.state;\r\n\r\n    if (type === RANGE) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getRangeString(rangeStartValue, value, rangeStartType, rangeEndType)\r\n      );\r\n\r\n      this.setState({\r\n        rangeEndValue: value\r\n      });\r\n    }\r\n  }\r\n\r\n  renderComparison(comparisonOperator, comparisonValue) {\r\n    const comparisonOperatorOptions = [{\r\n      label: 'Equals',\r\n      value: 'equals'\r\n    }, {\r\n      label: 'Less',\r\n      value: 'less'\r\n    }, {\r\n      label: 'Less or equals',\r\n      value: 'lessEquals'\r\n    }, {\r\n      label: 'Greater',\r\n      value: 'greater'\r\n    }, {\r\n      label: 'Greater or equals',\r\n      value: 'greaterEquals'\r\n    }];\r\n\r\n    return (\r\n      <div className=\"comparison\">\r\n\r\n        <h4 className=\"dms-heading\">Value</h4>\r\n\r\n        <div className=\"dms-fill-row\">\r\n          <InputSelect\r\n            noInput={ true }\r\n            onChange={ this.onComparisonOperatorChange }\r\n            options={ comparisonOperatorOptions }\r\n            value={ comparisonOperator } />\r\n\r\n          &nbsp;\r\n\r\n          <Input\r\n            className=\"comparison-number-input\"\r\n            onInput={ this.onComparisonValueChange }\r\n            type=\"number\"\r\n            value={ comparisonValue } />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderRange(rangeStartValue, rangeEndValue, rangeStartType, rangeEndType) {\r\n    const rangeTypeOptions = [{\r\n      label: 'Include',\r\n      value: 'include'\r\n    }, {\r\n      label: 'Exclude',\r\n      value: 'exclude'\r\n    }];\r\n\r\n    return (\r\n      <div className=\"range\">\r\n        <h4 className=\"dms-heading\">Start Value</h4>\r\n\r\n        <div className=\"dms-fill-row\">\r\n          <InputSelect\r\n            noInput={ true }\r\n            onChange={ this.onRangeStartTypeChange }\r\n            options={ rangeTypeOptions }\r\n            value={ rangeStartType } />\r\n\r\n          &nbsp;\r\n\r\n          <Input\r\n            className=\"range-start-number-input\"\r\n            onInput={ this.onRangeStartValueChange }\r\n            type=\"number\"\r\n            value={ rangeStartValue } />\r\n        </div>\r\n\r\n        <h4 className=\"dms-heading\">\r\n          End Value\r\n        </h4>\r\n\r\n        <div className=\"dms-fill-row\">\r\n          <InputSelect\r\n            noInput={ true }\r\n            onChange={ this.onRangeEndTypeChange }\r\n            options={ rangeTypeOptions }\r\n            value={ rangeEndType } />\r\n\r\n          &nbsp;\r\n\r\n          <Input\r\n            className=\"range-end-number-input\"\r\n            onInput={ this.onRangeEndValueChange }\r\n            type=\"number\"\r\n            value={ rangeEndValue } />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      type,\r\n      comparisonOperator,\r\n      comparisonValue,\r\n      rangeStartValue,\r\n      rangeEndValue,\r\n      rangeStartType,\r\n      rangeEndType\r\n    } = this.state;\r\n\r\n    const typeOptions = [{\r\n      label: 'Comparison',\r\n      value: COMPARISON\r\n    }, {\r\n      label: 'Range',\r\n      value: RANGE\r\n    }];\r\n\r\n    return (\r\n      <div class=\"context-menu-container simple-number-edit\">\r\n\r\n        <h3 class=\"dms-heading\">Edit Number</h3>\r\n\r\n        <div className=\"dms-fill-row\">\r\n          <InputSelect\r\n            noInput={ true }\r\n            onChange={ this.onTypeChange }\r\n            options={ typeOptions }\r\n            value={ type } />\r\n        </div>\r\n\r\n        {\r\n          type === COMPARISON\r\n            && this.renderComparison(comparisonOperator, comparisonValue)\r\n        }\r\n\r\n        {\r\n          type === RANGE\r\n            && this.renderRange(\r\n              rangeStartValue,\r\n              rangeEndValue,\r\n              rangeStartType,\r\n              rangeEndType\r\n            )\r\n        }\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import { Component } from 'inferno';\r\n\r\nimport Input from 'dmn-js-shared/lib/components/Input';\r\n\r\nimport { parseString } from '../Utils';\r\n\r\n\r\nexport default class OutputNumberEdit extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const parsedString = parseString(element.businessObject.text);\r\n\r\n    if (parsedString) {\r\n      this.state = {\r\n        value: parsedString.value\r\n      };\r\n    } else {\r\n      this.state = {\r\n        value: ''\r\n      };\r\n    }\r\n\r\n    const debounceInput = context.injector.get('debounceInput');\r\n\r\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\r\n    this.editCell = this.editCell.bind(this);\r\n\r\n    this.onInput = this.onInput.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  onInput(value) {\r\n    const { element } = this.props.context;\r\n\r\n    this.debouncedEditCell(element.businessObject, value);\r\n\r\n    this.setState({\r\n      value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <div class=\"context-menu-container simple-number-edit\">\r\n\r\n        <h3 class=\"dms-heading\">Edit Number</h3>\r\n\r\n        <h4 class=\"dms-heading\">Set Value</h4>\r\n\r\n        <Input\r\n          onInput={ this.onInput }\r\n          type=\"number\"\r\n          value={ value } />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import InputNumberEdit from './components/InputNumberEdit';\r\nimport OutputNumberEdit from './components/OutputNumberEdit';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nexport default class SimpleNumberEdit {\r\n  constructor(components, simpleMode) {\r\n    simpleMode.registerProvider(element => {\r\n      const typeRef = getTypeRef(element);\r\n\r\n      return (isInput(element.col) || isOutput(element.col))\r\n        && (typeRef === 'integer' || typeRef === 'long' || typeRef === 'double');\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\r\n\r\n        if (!context.element) {\r\n          return;\r\n        }\r\n\r\n        const typeRef = getTypeRef(context.element);\r\n\r\n        if (isNumber(typeRef)) {\r\n\r\n          if (isInput(context.element.col)) {\r\n            return InputNumberEdit;\r\n          } else if (isOutput(context.element.col)) {\r\n            return OutputNumberEdit;\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nSimpleNumberEdit.$inject = [ 'components', 'simpleMode' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getTypeRef(element) {\r\n  if (isInput(element.col)) {\r\n    return element.col && element.col.businessObject.inputExpression.typeRef;\r\n  } else {\r\n    return element.col && element.col.businessObject.typeRef;\r\n  }\r\n}\r\n\r\nfunction isNumber(typeRef) {\r\n  return typeRef === 'integer' || typeRef === 'long' || typeRef === 'double';\r\n}","import SimpleMode from '../simple-mode';\r\nimport SimpleNumberEdit from './SimpleNumberEdit';\r\nimport Keyboard from '../keyboard';\r\n\r\nexport default {\r\n  __depends__: [ Keyboard, SimpleMode ],\r\n  __init__: [ 'simpleNumberEdit' ],\r\n  simpleNumberEdit: [ 'type', SimpleNumberEdit ]\r\n};","import { isInput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\n/**\r\n * Parse input/output entry string to unary tests and type of unary tests.\r\n *\r\n * Example:\r\n *\r\n * not(\"foo\", \"bar\")\r\n *\r\n * returns\r\n *\r\n * {\r\n *   type: 'negation',\r\n *   values: [ \"foo\", \"bar, baz\" ]\r\n * }\r\n *\r\n * @param {string} string - Input/Output entry as string e.g. \"foo\", \"bar\".\r\n */\r\nexport function parseString(string) {\r\n\r\n  // empty string or no string at all\r\n  if (!string || isEmptyString(string.trim())) {\r\n    return {\r\n      type: 'disjunction',\r\n      values: []\r\n    };\r\n  }\r\n\r\n  // disjunction\r\n  let values = string.split(',');\r\n\r\n  const result = {\r\n    type: 'disjunction',\r\n    values: []\r\n  };\r\n\r\n  let openString = '';\r\n\r\n  values.forEach(value => {\r\n    openString += value;\r\n\r\n    if (/^\"[^\"]*\"$/.test(openString.trim())) {\r\n      result.values.push(openString.trim());\r\n\r\n      openString = '';\r\n    } else {\r\n      openString += ',';\r\n    }\r\n  });\r\n\r\n  if (!openString) {\r\n    return result;\r\n  }\r\n\r\n  // negation\r\n  result.type = 'negation';\r\n  result.values = [];\r\n\r\n  openString = '';\r\n\r\n  const matches = string.match(/^\\s*not\\((.*)\\)\\s*$/);\r\n\r\n  if (matches) {\r\n    values = matches[1].split(',');\r\n\r\n    values.forEach(value => {\r\n      openString += value;\r\n\r\n      if (/^\"[^\"]*\"$/.test(openString.trim())) {\r\n        result.values.push(openString.trim());\r\n\r\n        openString = '';\r\n      } else {\r\n        openString += ',';\r\n      }\r\n    });\r\n\r\n    if (!openString) {\r\n      return result;\r\n    }\r\n  }\r\n}\r\n\r\n// TODO(philippfromme): seperate when refactoring component\r\nexport function getInputOrOutputValues(inputOrOutput) {\r\n  const inputOrOutputValues =\r\n    isInput(inputOrOutput) ?\r\n      inputOrOutput.inputValues :\r\n      inputOrOutput.outputValues;\r\n\r\n  if (!inputOrOutputValues || isEmptyString(inputOrOutputValues.text)) {\r\n    return [];\r\n  } else {\r\n    return inputOrOutputValues.text.split(',').map(value => value.trim());\r\n  }\r\n}\r\n\r\nfunction isEmptyString(string) {\r\n  return string === '';\r\n}","import { Component } from 'inferno';\r\n\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport List from 'dmn-js-shared/lib/components/List';\r\n\r\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\r\n\r\nimport { isInput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport { getInputOrOutputValues, parseString } from '../Utils';\r\n\r\nconst DISJUNCTION = 'disjunction',\r\n      NEGATION = 'negation';\r\n\r\nconst INPUT_VALUES_LABEL = 'Predefined Values',\r\n      OUTPUT_VALUES_LABEL = 'Predefined Values',\r\n      INPUT_ENTRY_VALUES_LABEL = 'Custom Values';\r\n\r\n\r\nexport default class SimpleStringEditContextMenuComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._translate = context.injector.get('translate');\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    let parsedString = parseString(props.context.element.businessObject.text);\r\n\r\n    // could not parse\r\n    if (!parsedString) {\r\n      parsedString = {\r\n        values: [],\r\n        type: DISJUNCTION\r\n      };\r\n    }\r\n\r\n    const inputOrOutputValues = getInputOrOutputValues(\r\n      props.context.element.col.businessObject\r\n    );\r\n\r\n    const filteredValues = parsedString.values.filter(value => {\r\n      return !includes(inputOrOutputValues, value);\r\n    });\r\n\r\n    const isInputClause = isInput(props.context.element.col);\r\n\r\n    let items = inputOrOutputValues.map(value => {\r\n      return {\r\n        value,\r\n        isChecked: includes(parsedString.values, value),\r\n        isRemovable: false,\r\n        group: isInputClause ? INPUT_VALUES_LABEL : OUTPUT_VALUES_LABEL\r\n      };\r\n    });\r\n\r\n    if (isInputClause) {\r\n      items = items.concat(filteredValues.map(value => {\r\n        return {\r\n          value,\r\n          isChecked: true,\r\n          isRemovable: true,\r\n          group: INPUT_ENTRY_VALUES_LABEL\r\n        };\r\n      }));\r\n    }\r\n\r\n    let inputValue = '';\r\n\r\n    if (\r\n      !isInputClause && parsedString.values.length &&\r\n      !includes(inputOrOutputValues, parsedString.values[0])\r\n    ) {\r\n      inputValue = parsedString.values[0];\r\n    }\r\n\r\n    this.state = {\r\n      items,\r\n      unaryTestsType: parsedString.type,\r\n      inputValue,\r\n      isOutputValueInputChecked: inputValue !== ''\r\n    };\r\n\r\n    const debounceInput = context.injector.get('debounceInput');\r\n\r\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\r\n    this.editCell = this.editCell.bind(this);\r\n    this.addUnaryTestsListItem = this.addUnaryTestsListItem.bind(this);\r\n    this.onInput = this.onInput.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onOutputValueInputClick = this.onOutputValueInputClick.bind(this);\r\n    this.onUnaryTestsListChanged = this.onUnaryTestsListChanged.bind(this);\r\n    this.onUnaryTestsTypeChange = this.onUnaryTestsTypeChange.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  /**\r\n   * Change type of unary tests.\r\n   */\r\n  onUnaryTestsTypeChange(value) {\r\n    const { items } = this.state;\r\n\r\n    const values = getValues(items);\r\n\r\n    const { element } = this.props.context;\r\n\r\n    if (value === DISJUNCTION) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        values.join(',')\r\n      );\r\n\r\n      this.setState({\r\n        unaryTestsType: DISJUNCTION\r\n      });\r\n    } else {\r\n      this.editCell(element.businessObject, `not(${ values.join(',') })`);\r\n\r\n      this.setState({\r\n        unaryTestsType: NEGATION\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Change list of unary tests.\r\n   */\r\n  onUnaryTestsListChanged(items) {\r\n\r\n    // get checked items\r\n    const values = getValues(items);\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const { unaryTestsType } = this.state;\r\n\r\n    if (unaryTestsType === DISJUNCTION) {\r\n      this.editCell(element.businessObject, values.join(','));\r\n    } else {\r\n      this.editCell(element.businessObject, `not(${ values.join(',') })`);\r\n    }\r\n\r\n    this.setState({\r\n      items,\r\n      isOutputValueInputChecked: false\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Set output value to input value.\r\n   */\r\n  onOutputValueInputClick() {\r\n    const { element } = this.props.context;\r\n\r\n    const { inputValue, items } = this.state;\r\n\r\n    const parsedString = parseString(inputValue);\r\n\r\n    if (!parsedString || parsedString.values.length > 1) {\r\n      return;\r\n    }\r\n\r\n    this.editCell(element.businessObject, `${ parsedString.values.join('') }`);\r\n\r\n    // uncheck all other values\r\n    this.setState({\r\n      items: items.map(item => {\r\n        item.isChecked = false;\r\n\r\n        return item;\r\n      }),\r\n      isOutputValueInputChecked: true\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Set output value if valid.\r\n   */\r\n  onInput({ isValid, value }) {\r\n    const { isOutputValueInputChecked } = this.state;\r\n\r\n    this.setState({\r\n      inputValue: value\r\n    });\r\n\r\n    const { element } = this.props.context;\r\n\r\n    if (!isInput(element) && isValid && isOutputValueInputChecked) {\r\n      this.debouncedEditCell(element.businessObject, value);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add new value on ENTER.\r\n   */\r\n  onKeyDown({ isValid, event }) {\r\n\r\n    if (!isEnter(event.keyCode)) {\r\n      return;\r\n    }\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const isInputClause = isInput(element.col);\r\n\r\n    // stop ENTER propagation (and ContextMenu close)\r\n    if (isInputClause || !isValid) {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (isValid) {\r\n      if (isInputClause) {\r\n        this.addUnaryTestsListItem();\r\n      } else {\r\n        this.onOutputValueInputClick();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add unary tests to list.\r\n   */\r\n  addUnaryTestsListItem() {\r\n    const { inputValue, items, unaryTestsType } = this.state;\r\n\r\n    const parsedInput = parseString(inputValue);\r\n\r\n    if (!parsedInput) {\r\n      return;\r\n    }\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const values = getValues(items);\r\n\r\n    const newValues = [].concat(\r\n      values,\r\n      parsedInput.values\r\n    );\r\n\r\n    if (unaryTestsType === DISJUNCTION) {\r\n      this.editCell(element.businessObject, newValues.join(','));\r\n    } else {\r\n      this.editCell(element.businessObject, `not(${ newValues.join(',') })`);\r\n    }\r\n\r\n    const newItems = items.concat(parsedInput.values.map(value => {\r\n      return {\r\n        value,\r\n        isChecked: true,\r\n        isRemovable: true,\r\n        group: 'Custom Values'\r\n      };\r\n    }));\r\n\r\n    this.setState({\r\n      items: newItems,\r\n      inputValue: ''\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { element } = this.props.context;\r\n\r\n    const { inputValue, isOutputValueInputChecked, items, unaryTestsType } = this.state;\r\n\r\n    const options = [{\r\n      label: 'Match one',\r\n      value: DISJUNCTION\r\n    }, {\r\n      label: 'Match none',\r\n      value: NEGATION\r\n    }];\r\n\r\n    const isInputClause = isInput(element.col);\r\n\r\n    const isNegation = unaryTestsType === NEGATION;\r\n\r\n    const showRadio = !isInputClause && items.length > 0;\r\n\r\n    return (\r\n      <div class=\"simple-string-edit context-menu-container\">\r\n\r\n        <h3 class=\"dms-heading\">\r\n          { this._translate('Edit String') }\r\n        </h3>\r\n\r\n        {\r\n          isInputClause &&\r\n            <p>\r\n              <InputSelect\r\n                noInput={ true }\r\n                ref={ node => this.selectNode = node }\r\n                onChange={ this.onUnaryTestsTypeChange }\r\n                options={ options }\r\n                value={ isNegation ? NEGATION : DISJUNCTION } />\r\n            </p>\r\n        }\r\n\r\n        <List\r\n          onChange={ this.onUnaryTestsListChanged }\r\n          items={ items }\r\n          type={ isInputClause ? 'checkbox' : 'radio' } />\r\n\r\n        {\r\n          isInputClause\r\n            ? <h4 className=\"dms-heading\">\r\n              { this._translate('Add Values') }\r\n            </h4>\r\n            : <h4 className=\"dms-heading\">\r\n              { this._translate('Set Value') }\r\n            </h4>\r\n        }\r\n\r\n        <div className=\"dms-fill-row\">\r\n          {\r\n            showRadio && <input\r\n              checked={ isOutputValueInputChecked }\r\n              className=\"cursor-pointer\"\r\n              onClick={ this.onOutputValueInputClick }\r\n              type=\"radio\"\r\n              style={ {\r\n                marginRight: '8px'\r\n              } } />\r\n          }\r\n\r\n          <ValidatedInput\r\n            className=\"dms-block\"\r\n            onKeyDown={ this.onKeyDown }\r\n            onInput={ this.onInput }\r\n            placeholder={ isInputClause ? '\"value\", \"value\", ...' : '\"value\"' }\r\n            type=\"text\"\r\n            validate={ value => {\r\n              if (!parseString(value)) {\r\n                return this._translate('Strings must be in double quotes.');\r\n              }\r\n            } }\r\n            value={ inputValue } />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction isEnter(keyCode) {\r\n  return keyCode === 13;\r\n}\r\n\r\n/**\r\n * Get array of actual values from array of items.\r\n *\r\n * @param {Array} items - Array of items.\r\n */\r\nfunction getValues(items) {\r\n  return items\r\n    .filter(item => item.isChecked)\r\n    .map(item => item.value);\r\n}\r\n\r\nfunction includes(array, value) {\r\n  return array.indexOf(value) !== -1;\r\n}","import ContextMenuComponent from './components/SimpleStringEditContextMenuComponent';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nexport default class SimpleStringEdit {\r\n  constructor(components, simpleMode) {\r\n    simpleMode.registerProvider(element => {\r\n      return (isInput(element.col) || isOutput(element.col))\r\n        && getTypeRef(element) === 'string';\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\r\n\r\n        if (!context.element) {\r\n          return;\r\n        }\r\n\r\n        const typeRef = getTypeRef(context.element);\r\n\r\n        if (typeRef === 'string') {\r\n          return ContextMenuComponent;\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nSimpleStringEdit.$inject = [ 'components', 'simpleMode' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getTypeRef(element) {\r\n  if (isInput(element.col)) {\r\n    return element.col && element.col.businessObject.inputExpression.typeRef;\r\n  } else {\r\n    return element.col && element.col.businessObject.typeRef;\r\n  }\r\n}","import SimpleMode from '../simple-mode';\r\nimport SimpleStringEdit from './SimpleStringEdit';\r\nimport Keyboard from '../keyboard';\r\n\r\nexport default {\r\n  __depends__: [ Keyboard, SimpleMode ],\r\n  __init__: [ 'simpleStringEdit' ],\r\n  simpleStringEdit: [ 'type', SimpleStringEdit ]\r\n};","import { Component } from 'inferno';\n\nimport { inject } from 'table-js/lib/components';\n\nimport {\n  closest as domClosest\n} from 'min-dom';\n\nimport { is, getBusinessObject } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default class ResizeColumn extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n  }\n\n  componentDidMount() {\n    const root = this.getRoot();\n\n    this.changeSupport.onElementsChanged(root, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const root = this.getRoot();\n\n    this.changeSupport.offElementsChanged(root, this.onElementsChanged);\n  }\n\n  getRoot() {\n    return this.sheet.getRoot();\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  handleMouseDown = event => {\n    const cell = domClosest(event.target, 'th', false);\n\n    startResize({\n      node: cell,\n      event,\n      minWidth: this.props.minWidth || 150,\n      onEnd: this.saveWidth\n    });\n  }\n\n  saveWidth = newWidth => {\n    const { col } = this.props;\n\n    const update = {};\n\n    if (is(col, 'dmn:DecisionTable')) {\n      update.annotationsWidth = newWidth;\n    } else {\n      update.width = newWidth;\n    }\n\n    this.modeling.updateProperties(col, update);\n  }\n\n  isLastInputOrOutput() {\n    const { col } = this.props,\n          root = this.getRoot(),\n          bo = getBusinessObject(root);\n\n    if (is(col, 'dmn:InputClause')) {\n      const inputs = bo.get('input');\n\n      return inputs.indexOf(col) === inputs.length - 1;\n    } else if (is(col, 'dmn:OutputClause')) {\n      const outputs = bo.get('output');\n\n      return outputs.indexOf(col) === outputs.length - 1;\n    }\n  }\n\n  render() {\n    const style = this.isLastInputOrOutput() ? {\n      right: '-7px',\n      width: '27px'\n    } : null;\n\n    return (\n      <div\n        onMouseDown={ this.handleMouseDown }\n        className=\"resize-column-handle\"\n        title={ this.translate('Resize') }\n        style={ style }\n      />\n    );\n  }\n}\n\nResizeColumn.$inject = [ 'sheet', 'changeSupport', 'translate', 'modeling' ];\n\n// helper\nfunction startResize({ node, event, minWidth, onEnd = noop }) {\n  event.preventDefault();\n\n  const initialWidth = node.getBoundingClientRect().width;\n  const initialX = event.clientX;\n\n  let currentUpdate;\n\n  document.addEventListener('mousemove', handleMouseMove);\n  document.addEventListener('mouseup', handleMouseUp);\n\n  function handleMouseMove(event) {\n    event.preventDefault();\n\n    const currentWidth = getResizedWidth(event.clientX);\n\n    if (currentUpdate) {\n      cancelAnimationFrame(currentUpdate);\n    }\n\n    currentUpdate = requestAnimationFrame(() => {\n      node.style.width = currentWidth + 'px';\n    });\n  }\n\n  function handleMouseUp(event) {\n    event.preventDefault();\n\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n\n    const currentWidth = getResizedWidth(event.clientX);\n\n    onEnd(currentWidth);\n  }\n\n  function getResizedWidth(currentX) {\n    const delta = currentX - initialX;\n\n    return Math.max(initialWidth + delta, minWidth);\n  }\n}\n\nfunction noop() {}\n","import ResizeColumn from './components/ResizeColumn';\n\n\nexport default function ColumnResizeProvider(\n    components\n) {\n\n  components.onGetComponent('cell-inner', (context = {}) => {\n    const { cellType } = context;\n\n    if (\n      cellType === 'input-cell' ||\n      cellType === 'output-cell' ||\n      cellType === 'annotations'\n    ) {\n      return ResizeColumn;\n    }\n  });\n}\n\nColumnResizeProvider.$inject = [\n  'components'\n];","import ColumnResizeProvider from './ColumnResizeProvider';\n\nexport default {\n  __init__: [\n    'columnResizeProvider'\n  ],\n  columnResizeProvider: [ 'type', ColumnResizeProvider ]\n};","import Viewer from './Viewer';\n\nimport addRuleModule from './features/add-rule';\nimport annotationsEditorModule from './features/annotations/editor';\nimport contextMenuModule from 'table-js/lib/features/context-menu';\nimport copyCutPasteModule from './features/copy-cut-paste';\nimport copyCutPasteKeybindingsModule from './features/copy-cut-paste/key-bindings';\nimport createInputsModule from './features/create-inputs';\nimport decisionTableContextMenu from './features/context-menu';\nimport decisionTableEditorActionsModule from './features/editor-actions';\nimport decisionTableHeadEditorModule from './features/decision-table-head/editor';\nimport dragAndDropModule from './features/drag-and-drop';\nimport descriptionModule from './features/description';\nimport expressionLanguageModule from './features/expression-language';\nimport expressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\nimport tablePropertiesEditorModule from './features/decision-table-properties/editor';\nimport editorActionsModule from 'table-js/lib/features/editor-actions';\nimport hitPolicyEditorModule from './features/hit-policy/editor';\nimport interactionEventsModule from 'table-js/lib/features/interaction-events';\nimport keyboardModule from './features/keyboard';\nimport modelingModule from './features/modeling';\nimport decisionRulesEditorModule from './features/decision-rules/editor';\nimport selectionModule from 'table-js/lib/features/selection';\nimport simpleModeModule from './features/simple-mode';\nimport simpleBooleanEditModule from './features/simple-boolean-edit';\nimport simpleDateEditModule from './features/simple-date-edit';\nimport simpleNumberEditModule from './features/simple-number-edit';\nimport simpleStringEditModule from './features/simple-string-edit';\nimport cellSelectionModule from './features/cell-selection';\nimport columnResizeModule from './features/column-resize';\n\n\nexport default class Editor extends Viewer {\n\n  getModules() {\n    return [\n      ...Viewer._getModules(),\n      ...Editor._getModules()\n    ];\n  }\n\n  static _getModules() {\n    return [\n      addRuleModule,\n      annotationsEditorModule,\n      cellSelectionModule,\n      contextMenuModule,\n      copyCutPasteModule,\n      copyCutPasteKeybindingsModule,\n      createInputsModule,\n      decisionTableContextMenu,\n      decisionTableEditorActionsModule,\n      decisionTableHeadEditorModule,\n      columnResizeModule,\n      dragAndDropModule,\n      descriptionModule,\n      expressionLanguageModule,\n      expressionLanguagesModule,\n      keyboardModule,\n      tablePropertiesEditorModule,\n      editorActionsModule,\n      hitPolicyEditorModule,\n      interactionEventsModule,\n      modelingModule,\n      decisionRulesEditorModule,\n      selectionModule,\n      simpleModeModule,\n      simpleBooleanEditModule,\n      simpleDateEditModule,\n      simpleNumberEditModule,\n      simpleStringEditModule\n    ];\n  }\n\n}","export default class ChangeSupport {\r\n  constructor(eventBus) {\r\n    this._listeners = {};\r\n\r\n    eventBus.on('elements.changed', ({ elements }) => {\r\n      this.elementsChanged(elements);\r\n    });\r\n\r\n    eventBus.on('element.updateId', ({ element, newId }) => {\r\n      this.updateId(element.id, newId);\r\n    });\r\n  }\r\n\r\n  elementsChanged(elements) {\r\n    const invoked = {};\r\n\r\n    const elementsLength = elements.length;\r\n\r\n    for (let i = 0; i < elementsLength; i++) {\r\n      const { id } = elements[i];\r\n\r\n      if (invoked[id]) {\r\n        return;\r\n      }\r\n\r\n      invoked[id] = true;\r\n\r\n      const listenersLength = this._listeners[id] && this._listeners[id].length;\r\n\r\n      if (listenersLength) {\r\n        for (let j = 0; j < listenersLength; j++) {\r\n\r\n          // listeners might remove themselves before they get called\r\n          this._listeners[id][j] && this._listeners[id][j]();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onElementsChanged(id, listener) {\r\n    if (!this._listeners[id]) {\r\n      this._listeners[id] = [];\r\n    }\r\n\r\n    // avoid push for better performance\r\n    this._listeners[id][this._listeners[id].length] = listener;\r\n  }\r\n\r\n  offElementsChanged(id, listener) {\r\n    if (!this._listeners[id]) {\r\n      return;\r\n    }\r\n\r\n    if (listener) {\r\n      const idx = this._listeners[id].indexOf(listener);\r\n\r\n      if (idx !== -1) {\r\n        this._listeners[id].splice(idx, 1);\r\n      }\r\n    } else {\r\n      this._listeners[id].length = 0;\r\n    }\r\n  }\r\n\r\n  updateId(oldId, newId) {\r\n    if (this._listeners[oldId]) {\r\n\r\n      this._listeners[newId] = this._listeners[oldId];\r\n\r\n      delete this._listeners[oldId];\r\n\r\n    }\r\n  }\r\n}\r\n\r\nChangeSupport.$inject = [ 'eventBus' ];","import {\r\n  isFunction,\r\n  isNumber\r\n} from 'min-dash';\r\n\r\nconst DEFAULT_PRIORITY = 1000;\r\n\r\n\r\nexport default class Components {\r\n\r\n  constructor() {\r\n    this._listeners = {};\r\n  }\r\n\r\n  getComponent(type, context) {\r\n    const listeners = this._listeners[type];\r\n\r\n    if (!listeners) {\r\n      return;\r\n    }\r\n\r\n    let component;\r\n\r\n    for (let i = 0; i < listeners.length; i++) {\r\n      component = listeners[i].callback(context);\r\n\r\n      if (component) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  getComponents(type, context) {\r\n    const listeners = this._listeners[type];\r\n\r\n    if (!listeners) {\r\n      return;\r\n    }\r\n\r\n    const components = [];\r\n\r\n    for (let i = 0; i < listeners.length; i++) {\r\n      const component = listeners[i].callback(context);\r\n\r\n      if (component) {\r\n        components.push(component);\r\n      }\r\n    }\r\n\r\n    if (!components.length) {\r\n      return;\r\n    }\r\n\r\n    return components;\r\n  }\r\n\r\n  onGetComponent(type, priority, callback) {\r\n    if (isFunction(priority)) {\r\n      callback = priority;\r\n      priority = DEFAULT_PRIORITY;\r\n    }\r\n\r\n    if (!isNumber(priority)) {\r\n      throw new Error('priority must be a number');\r\n    }\r\n\r\n    const listeners = this._getListeners(type);\r\n\r\n    let existingListener,\r\n        idx;\r\n\r\n    const newListener = { priority, callback };\r\n\r\n    for (idx = 0; (existingListener = listeners[idx]); idx++) {\r\n      if (existingListener.priority < priority) {\r\n\r\n        // prepend newListener at before existingListener\r\n        listeners.splice(idx, 0, newListener);\r\n        return;\r\n      }\r\n    }\r\n\r\n    listeners.push(newListener);\r\n  }\r\n\r\n  offGetComponent(type, callback) {\r\n    const listeners = this._getListeners(type);\r\n\r\n    let listener,\r\n        listenerCallback,\r\n        idx;\r\n\r\n    if (callback) {\r\n\r\n      // move through listeners from back to front\r\n      // and remove matching listeners\r\n      for (idx = listeners.length - 1; (listener = listeners[idx]); idx--) {\r\n        listenerCallback = listener.callback;\r\n\r\n        if (listenerCallback === callback) {\r\n          listeners.splice(idx, 1);\r\n        }\r\n      }\r\n    } else {\r\n\n      // clear listeners\r\n      listeners.length = 0;\r\n    }\r\n  }\r\n\r\n  _getListeners(type) {\r\n    let listeners = this._listeners[type];\r\n\r\n    if (!listeners) {\r\n      this._listeners[type] = listeners = [];\r\n    }\r\n\r\n    return listeners;\r\n  }\r\n}","import { Component } from 'inferno';\r\n\r\n\r\nexport default class ViewerComponent extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const injector = this._injector = props.injector;\r\n\r\n    this._changeSupport = injector.get('changeSupport');\r\n    this._components = injector.get('components');\r\n    this._renderer = injector.get('renderer');\r\n  }\r\n\r\n  getChildContext() {\r\n    return {\r\n      changeSupport: this._changeSupport,\r\n      components: this._components,\r\n      renderer: this._renderer,\r\n      injector: this._injector\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const components = this._components.getComponents('viewer');\r\n\r\n    return (\r\n      <div className=\"viewer-container\">\r\n        {\r\n          components &&\r\n            components.map((Component, index) => <Component key={ index } />)\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}","import { render } from 'inferno';\r\n\r\nimport ViewerComponent from './components/ViewerComponent';\r\n\r\nexport default class Renderer {\r\n\r\n  constructor(changeSupport, components, config, eventBus, injector) {\r\n    const { container } = config;\r\n\r\n    this._container = container;\r\n\r\n    eventBus.on('renderer.mount', () => {\r\n      render(<ViewerComponent injector={ injector } />, container);\r\n    });\r\n\r\n    eventBus.on('renderer.unmount', () => {\r\n      render(null, container);\r\n    });\r\n  }\r\n\r\n  getContainer() {\r\n    return this._container;\r\n  }\r\n\r\n}\r\n\r\nRenderer.$inject = [\r\n  'changeSupport',\r\n  'components',\r\n  'config.renderer',\r\n  'eventBus',\r\n  'injector'\r\n];","import ChangeSupport from './ChangeSupport';\r\nimport Components from './Components';\r\nimport EventBus from 'diagram-js/lib/core/EventBus';\r\nimport Renderer from './Renderer';\r\n\r\nexport default {\r\n  __init__: [ 'changeSupport', 'components', 'renderer' ],\r\n  changeSupport: [ 'type', ChangeSupport ],\r\n  components: [ 'type', Components ],\r\n  eventBus: [ 'type', EventBus ],\r\n  renderer: [ 'type', Renderer ]\r\n};","import { Injector } from 'didi';\r\n\r\nimport core from './core';\r\n\r\n\r\n/**\r\n * A base for React-style viewers.\r\n */\r\nexport default class Viewer {\r\n\r\n  constructor(options = {}) {\r\n    let {\r\n      injector\r\n    } = options;\r\n\r\n    if (!injector) {\r\n      let { modules, config } = this._init(options);\r\n\r\n      injector = createInjector(config, modules);\r\n    }\r\n\r\n    this.get = injector.get;\r\n\r\n    this.invoke = injector.invoke;\r\n\r\n    this.get('eventBus').fire('viewer.init');\r\n  }\r\n\r\n  /**\r\n   * Intialize and return modules and config used for creation.\r\n   *\r\n   * @param  {Object} options\r\n   *\r\n   * @return {Object} { modules=[], config }\r\n   */\r\n  _init(options) {\r\n    let {\r\n      modules,\r\n      ...config\r\n    } = options;\r\n\r\n    return { modules, config };\r\n  }\r\n\r\n  /**\r\n   * Destroy. This results in removing the attachment from the container.\r\n   */\r\n  destroy() {\r\n    const eventBus = this.get('eventBus');\r\n\r\n    eventBus.fire('viewer.destroy');\r\n  }\r\n\r\n  /**\r\n   * Clear. Should be used to reset the state of any stateful services.\r\n   */\r\n  clear() {\r\n    const eventBus = this.get('eventBus');\r\n\r\n    eventBus.fire('viewer.clear');\r\n  }\r\n\r\n}\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction bootstrap(bootstrapModules) {\r\n\r\n  var modules = [],\r\n      components = [];\r\n\r\n  function hasModule(m) {\r\n    return modules.indexOf(m) >= 0;\r\n  }\r\n\r\n  function addModule(m) {\r\n    modules.push(m);\r\n  }\r\n\r\n  function visit(m) {\r\n    if (hasModule(m)) {\r\n      return;\r\n    }\r\n\r\n    (m.__depends__ || []).forEach(visit);\r\n\r\n    if (hasModule(m)) {\r\n      return;\r\n    }\r\n\r\n    addModule(m);\r\n\r\n    (m.__init__ || []).forEach(function(c) {\r\n      components.push(c);\r\n    });\r\n  }\r\n\r\n  bootstrapModules.forEach(visit);\r\n\r\n  var injector = new Injector(modules);\r\n\r\n  components.forEach(function(c) {\r\n\r\n    try {\r\n\n      // eagerly resolve component (fn or string)\r\n      injector[typeof c === 'string' ? 'get' : 'invoke'](c);\r\n    } catch (e) {\r\n      console.error('Failed to instantiate component');\r\n      console.error(e.stack);\r\n\r\n      throw e;\r\n    }\r\n  });\r\n\r\n  return injector;\r\n}\r\n\r\nfunction createInjector(config, modules) {\r\n  const bootstrapModules = [\r\n    {\r\n      config: [ 'value', config ]\r\n    },\r\n    core\r\n  ].concat(modules || []);\r\n\r\n  return bootstrap(bootstrapModules);\r\n}\r\n","import { Component } from 'inferno';\r\n\r\n\r\nexport default class DecisionPropertiesComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n  }\r\n\r\n  render() {\r\n\r\n    // there is only one single element\r\n    const { name } = this._viewer.getDecision();\r\n\r\n    return (\r\n      <div className=\"decision-properties\">\r\n        <h3 className=\"decision-name\">{ name }</h3>\r\n      </div>\r\n    );\r\n  }\r\n}","import DecisionPropertiesComponent from './components/DecisionPropertiesComponent';\r\n\r\nconst HIGH_PRIORITY = 1500;\r\n\r\nexport default class DecisionProperties {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', HIGH_PRIORITY, () => DecisionPropertiesComponent);\r\n  }\r\n}\r\n\r\nDecisionProperties.$inject = [ 'components' ];","import DecisionProperties from './DecisionProperties';\r\n\r\nexport default {\r\n  __init__: [ 'decisionProperties' ],\r\n  decisionProperties: [ 'type', DecisionProperties ]\r\n};","import { Component } from 'inferno';\r\n\r\n\r\nexport default class LiteralExpressionPropertiesComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      decisionLogic: literalExpression,\r\n      variable\r\n    } = this._viewer.getDecision();\r\n\r\n    return (\r\n      <div className=\"literal-expression-properties\">\r\n        <table>\r\n          <tr>\r\n            <td>Variable Name:</td>\r\n            <td>\r\n              <span>{ variable.name || '-' }</span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Variable Type:</td>\r\n            <td>\r\n              <span>{ variable.typeRef || '-' }</span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Expression Language:</td>\r\n            <td>\r\n              <span>{ literalExpression.expressionLanguage || '-' }</span>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}","import LiteralExpressionPropertiesComponent\r\n  from './components/LiteralExpressionPropertiesComponent';\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nexport default class DecisionProperties {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', LOW_PRIORITY, () => {\r\n      return LiteralExpressionPropertiesComponent;\r\n    });\r\n  }\r\n}\r\n\r\nDecisionProperties.$inject = [ 'components' ];","import ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\r\n\r\nimport LiteralExpressionProperties from './LiteralExpressionProperties';\r\n\r\nexport default {\r\n  __depends__: [\r\n    ExpressionLanguagesModule\r\n  ],\r\n  __init__: [ 'literalExpressionProperties' ],\r\n  literalExpressionProperties: [ 'type', LiteralExpressionProperties ]\r\n};","import { Component } from 'inferno';\r\n\r\n\r\nexport default class TextareaComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n  }\r\n\r\n  render() {\r\n    const { text } = this._viewer.getDecision().decisionLogic;\r\n\r\n    return (\r\n      <div className=\"textarea\">\r\n        <div className=\"content\">{ text }</div>\r\n      </div>\r\n    );\r\n  }\r\n}","import TextareaComponent from './components/TextareaComponent';\r\n\r\nexport default class Textarea {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', () => TextareaComponent);\r\n  }\r\n}\r\n\r\nTextarea.$inject = [ 'components' ];","import Textarea from './Textarea';\r\n\r\nexport default {\r\n  __init__: [ 'textarea' ],\r\n  textarea: [ 'type', Textarea ]\r\n};","import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\n\r\nexport default class DecisionPropertiesEditorComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    this.setupChangeListeners({\r\n      bind: this.getDecision().id\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setupChangeListeners({\r\n      unbind: this.getDecision().id\r\n    });\r\n  }\r\n\r\n  getDecision() {\r\n    return this._viewer.getDecision();\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  setupChangeListeners({ bind, unbind }) {\r\n\r\n    const {\r\n      changeSupport\r\n    } = this.context;\r\n\r\n    if (typeof unbind === 'string') {\r\n      changeSupport.offElementsChanged(unbind, this.onElementsChanged);\r\n    }\r\n\r\n    if (typeof bind === 'string') {\r\n      changeSupport.onElementsChanged(bind, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  setDecisionName = (name) => {\r\n    this._modeling.editDecisionName(name);\r\n  }\r\n\r\n  render() {\r\n    const { name } = this.getDecision();\r\n\r\n    return (\r\n      <header className=\"decision-properties\">\r\n        <DecisionName\r\n          className=\"decision-name editor\"\r\n          value={ name }\r\n          onBlur={ resetScroll }\r\n          onChange={ this.setDecisionName } />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nclass DecisionName extends EditableComponent {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <h3 className={ this.getClassName() }>\r\n        { this.getEditor() }\r\n      </h3>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction resetScroll(event) {\r\n  event.target.scroll(0, 0);\r\n}\r\n","import DecisionPropertiesEditorComponent\r\n  from './components/DecisionPropertiesEditorComponent';\r\n\r\nconst HIGH_PRIORITY = 1500;\r\n\r\nexport default class DecisionPropertiesEditor {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', HIGH_PRIORITY, () => {\r\n      return DecisionPropertiesEditorComponent;\r\n    });\r\n  }\r\n}\r\n\r\nDecisionPropertiesEditor.$inject = [ 'components' ];","import DecisionPropertiesEditor from './DecisionPropertiesEditor';\r\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\r\n\r\nexport default {\r\n  __depends__: [ DebounceInput ],\r\n  __init__: [ 'decisionProperties' ],\r\n  decisionProperties: [ 'type', DecisionPropertiesEditor ]\r\n};","import { Component } from 'inferno';\r\n\r\nimport Input from 'dmn-js-shared/lib/components/Input';\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nconst TYPE_REF_OPTIONS = [{\r\n  label: 'string',\r\n  value: 'string'\r\n}, {\r\n  label: 'boolean',\r\n  value: 'boolean'\r\n}, {\r\n  label: 'integer',\r\n  value: 'integer'\r\n}, {\r\n  label: 'long',\r\n  value: 'long'\r\n}, {\r\n  label: 'double',\r\n  value: 'double'\r\n}, {\r\n  label: 'date',\r\n  value: 'date'\r\n}];\r\n\r\n\r\nexport default class LiteralExpressionPropertiesComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n    this._modeling = context.injector.get('modeling');\r\n    this._expressionLanguages = context.injector.get('expressionLanguages');\r\n\r\n    const decision = this._viewer.getDecision();\r\n\r\n    this.state = {\r\n      name: decision.variable.name,\r\n      typeRef: decision.variable.typeRef,\r\n      expressionLanguage: getExpressionLanguage(decision.decisionLogic)\r\n    };\r\n\r\n    this.setVariableName = this.setVariableName.bind(this);\r\n    this.setVariableType = this.setVariableType.bind(this);\r\n    this.setExpressionLanguage = this.setExpressionLanguage.bind(this);\r\n  }\r\n\r\n  setVariableName(name) {\r\n    this._modeling.editVariableName(name);\r\n\r\n    this.setState({\r\n      name\r\n    });\r\n  }\r\n\r\n  setVariableType(typeRef) {\r\n    if (typeRef === '') {\r\n      this._modeling.editVariableType(undefined);\r\n\r\n      this.setState({\r\n        typeRef: undefined\r\n      });\r\n    } else {\r\n      this._modeling.editVariableType(typeRef);\r\n\r\n      this.setState({\r\n        typeRef\r\n      });\r\n    }\r\n  }\r\n\r\n  setExpressionLanguage(expressionLanguage) {\r\n    if (expressionLanguage === '') {\r\n      this._modeling.editExpressionLanguage(undefined);\r\n\r\n      this.setState({\r\n        expressionLanguage: undefined\r\n      });\r\n    } else {\r\n      this._modeling.editExpressionLanguage(expressionLanguage);\r\n\r\n      this.setState({\r\n        expressionLanguage\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { expressionLanguage, name, typeRef } = this.state;\r\n\r\n    const languageOptions = this._expressionLanguages.getAll();\r\n\r\n    return (\r\n      <div className=\"literal-expression-properties\">\r\n        <table>\r\n          <tr>\r\n            <td>Variable Name:</td>\r\n            <td>\r\n              <Input\r\n                className=\"variable-name-input\"\r\n                onInput={ this.setVariableName }\r\n                placeholder={ 'name' }\r\n                value={ name || '' } />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Variable Type:</td>\r\n            <td>\r\n              <div className=\"dms-fill-row\">\r\n                <InputSelect\r\n                  onChange={ this.setVariableType }\r\n                  options={ TYPE_REF_OPTIONS }\r\n                  value={ typeRef }\r\n                  className=\"variable-type-select dms-block\" />\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Expression Language:</td>\r\n            <td>\r\n              <div className=\"dms-fill-row\">\r\n                <InputSelect\r\n                  onChange={ this.setExpressionLanguage }\r\n                  options={ languageOptions }\r\n                  value={ expressionLanguage }\r\n                  className=\"expression-language-select dms-block\" />\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getExpressionLanguage(literalExpression) {\r\n  return (literalExpression && literalExpression.expressionLanguage)\r\n    ? literalExpression.expressionLanguage.toLowerCase()\r\n    : undefined;\r\n}","import LiteralExpressionPropertiesEditorComponent\r\n  from './components/LiteralExpressionPropertiesEditorComponent';\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nexport default class LiteralExpressionPropertiesEditor {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', LOW_PRIORITY, () => {\r\n      return LiteralExpressionPropertiesEditorComponent;\r\n    });\r\n  }\r\n}\r\n\r\nLiteralExpressionPropertiesEditor.$inject = [ 'components' ];","import LiteralExpressionPropertiesEditor from './LiteralExpressionPropertiesEditor';\r\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\r\nimport Keyboard from '../keyboard';\r\n\r\nexport default {\r\n  __depends__: [ DebounceInput, Keyboard ],\r\n  __init__: [ 'literalExpressionProperties' ],\r\n  literalExpressionProperties: [ 'type', LiteralExpressionPropertiesEditor ]\r\n};","import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\n\r\nexport default class TextareaEditorComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n\r\n    this.editLiteralExpressionText = this.editLiteralExpressionText.bind(this);\r\n    this.onElementsChanged = this.onElementsChanged.bind(this);\r\n\r\n    // there is only one single element\r\n    const { id } = this.getLiteralExpression();\r\n\r\n    context.changeSupport.onElementsChanged(id, this.onElementsChanged);\r\n  }\r\n\r\n  getLiteralExpression() {\r\n    return this._viewer.getDecision().decisionLogic;\r\n  }\r\n\r\n  onElementsChanged() {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  editLiteralExpressionText(text) {\r\n    this._modeling.editLiteralExpressionText(text);\r\n  }\r\n\r\n  render() {\r\n\r\n    // there is only one single element\r\n    const { text } = this.getLiteralExpression();\r\n\r\n    return (\r\n      <Editor\r\n        className=\"textarea editor\"\r\n        value={ text }\r\n        onChange={ this.editLiteralExpressionText } />\r\n    );\r\n  }\r\n}\r\n\r\nclass Editor extends EditableComponent {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className={ this.getClassName() }>\r\n        { this.getEditor() }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import TextareaEditorComponent from './components/TextareaEditorComponent';\r\n\r\nexport default class Textarea {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', () => TextareaEditorComponent);\r\n  }\r\n}\r\n\r\nTextarea.$inject = [ 'components' ];","import TextareaEditor from './TextareaEditor';\r\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\r\n\r\nexport default {\r\n  __depends__: [ DebounceInput ],\r\n  __init__: [ 'textarea' ],\r\n  textarea: [ 'type', TextareaEditor ]\r\n};","import { store } from \"../redux/store\";\nimport { createZoomInAction, createZoomOutAction, createZoomToFitAction } from \"../redux/editoractions\";\n\nexport function zoomIn() {\n    store.dispatch(createZoomInAction());\n}\n\nexport function zoomOut() {\n    store.dispatch(createZoomOutAction());\n}\n\nexport function zoomToFit() {\n    store.dispatch(createZoomToFitAction());\n}\n","import DMNModeler from 'dmn-js/lib/Modeler';\nimport { zoomToFit, zoomIn, zoomOut } from '../api/service';\nimport { saveDocument } from '../api/googleservice';\n\nlet dmnEditor = new DMNModeler({ container: '#editor', position: 'absolute' });\n\nexport function initEditorAction() {\n    document.getElementById('bt_fit_to_viewport').addEventListener('click',zoomToFit);\n    document.getElementById('bt_zoom_in').addEventListener('click', zoomIn);\n    document.getElementById('bt_zoom_out').addEventListener('click', zoomOut);\n    document.getElementById('bt_save').addEventListener('click', editorSave);\n}\n\nexport function showDocument(xml) {\n\n    dmnEditor.importXML(xml, function (err) {\n\n        if (err) {\n            console.log('error rendering', err);\n        } else {\n            console.log('rendered');\n        }\n    });\n}\n\nexport function editorZoomIn() {\n    console.log(dmnEditor);\n    dmnEditor.zoomScroll.stepZoom(1);\n}\n\nexport function editorZoomOut() {\n    dmnEditor.get('zoomScroll').stepZoom(-1);    \n}\n\nexport function editorZoomToFit() {\n    dmnEditor.get('canvas').zoom('fit-viewport', 'auto');\n}\n\nfunction editorSave() {\n    dmnEditor.saveXML({ format: true }, function (err, xml) {\n        saveDocument(xml);\n    });\n}","\nexport function showErrorMessage(message) {\n  var notification = document.querySelector('.mdl-js-snackbar');\n  notification.MaterialSnackbar.showSnackbar(\n    {\n      message: message,\n      timeout: 10000\n    }\n  );\n}\n\nexport function showInfoMessage(message) {\n  var notification = document.querySelector('.mdl-js-snackbar');\n  notification.MaterialSnackbar.showSnackbar(\n    {\n      message: message,\n      timeout: 1500\n    }\n  );\n}\n","import MarterialDesign from 'material-design-lite';\nimport { initGoogle, login, loadGoogleDocument } from './api/googleservice';\nimport { showUserImage } from './ui/userimage';\nimport { setDocumentInfo } from './ui/fileinfo';\nimport { hideSplash } from './ui/splash';\nimport { store } from './redux/store';\nimport { GOOGLE_INIT_SUCCESS, GOOGLE_LOGIN_SUCCESS, GOOGLE_LOADDOCUMENT_SUCCESS, GOOGLE_FILEINFO_SUCCESS, GOOGLE_SAVEDOCUMENT_SUCCESS } from './redux/googleaction';\nimport { showDocument, editorZoomIn, editorZoomOut, editorZoomToFit, initEditorAction } from './ui/dmn';\nimport { ZOOM_IN, ZOOM_OUT, ZOOM_TO_FIT } from './redux/editoractions';\nimport { showInfoMessage } from './ui/notification';\n\n\nlet options = {\n    \"clientId\": \"157875625953-8r93qu5o4fl2tfjs8viefhcqrcbv76d6.apps.googleusercontent.com\",\n    \"scope\": [\n        \"profile\",\n        \"https://www.googleapis.com/auth/drive.file\",\n        \"https://www.googleapis.com/auth/drive.install\"\n    ]\n};\n\nlet processFlowListener = () => {\n    let state = store.getState();\n    let actionType = state.get('actionType');\n    if (actionType === GOOGLE_INIT_SUCCESS) {\n      login();\n    }\n    else if (actionType === GOOGLE_LOGIN_SUCCESS) {\n      showUserImage();\n      if (window.location.search) {\n        hideSplash();\n        let searchString = window.location.search;\n        if (searchString.startsWith(\"?id=\")) {\n          loadGoogleDocument(searchString.substr(4));\n        }\n        else {\n          let stateURL = JSON.parse(decodeURI(searchString.substr(7)));\n          if (stateURL.action === \"open\") {\n            loadGoogleDocument(stateURL.ids[0]);\n          }\n          else if (stateURL.action === 'create') {\n            //createNewPasswordDB(\"New Password DB\", stateURL.folderId);\n            \n          }\n        }\n      }\n    }\n    else if (actionType === GOOGLE_LOADDOCUMENT_SUCCESS) {\n      history.pushState(\"{}\", \"Load document\", location.origin + \"/?id=\" + state.get(\"googleDocument\").get(\"id\"));\n      showDocument(state.get('googleDocument').get('text'));\n    }\n    else if (actionType === GOOGLE_FILEINFO_SUCCESS) {\n      setDocumentInfo(state.get('googleDocument').get('fileinfo').name);\n    }\n    else if (actionType === ZOOM_IN) {\n      editorZoomIn();\n    }\n    else if (actionType === ZOOM_OUT) {\n      editorZoomOut();\n    }\n    else if (actionType === ZOOM_TO_FIT) {\n      editorZoomToFit();\n    }\n  };\n  store.subscribe(processFlowListener);\n\n  let notificationListener = () => {\n    let state = store.getState();\n    let actionType = state.get('actionType');\n    if (actionType === GOOGLE_INIT_SUCCESS) {\n      showInfoMessage(\"Google API loaded\")\n    }\n    else if (actionType === GOOGLE_LOGIN_SUCCESS) {\n      showInfoMessage(\"Google login succeded\");\n    }\n    else if (actionType === GOOGLE_LOADDOCUMENT_SUCCESS) {\n      showInfoMessage('Document loaded');\n    }\n    else if (actionType === GOOGLE_SAVEDOCUMENT_SUCCESS) {\n      showInfoMessage('Document saved');      \n    }\n\n  };\n  store.subscribe(notificationListener);\n  \n  initEditorAction();\n  initGoogle(options);\n  \n\n"]}