{"version":3,"sources":["ripple.js","tabs.js","layout.js","mdlComponentHandler.js","rAF.js","button.js","checkbox.js","icon-toggle.js","menu.js","progress.js","radio.js","slider.js","snackbar.js","spinner.js","switch.js","textfield.js","tooltip.js","data-table.js","../node_modules/symbol-observable/es/ponyfill.js","../node_modules/symbol-observable/es/index.js","../node_modules/redux/es/redux.js","js/redux/googleaction.js","../node_modules/immutable/dist/immutable.es.js","js/redux/editoractions.js","js/redux/reducer.js","js/redux/store.js","../node_modules/load-google-api/lib/load-google-api.min.js","../node_modules/drive-apps-util/src/driveappsutil.js","js/api/googleservice.js","js/ui/userimage.js","js/ui/fileinfo.js","js/ui/splash.js","../node_modules/min-dash/dist/index.esm.js","../node_modules/diagram-js/lib/core/EventBus.js","../node_modules/moddle/dist/index.esm.js","../node_modules/saxen/dist/index.esm.js","../node_modules/moddle-xml/dist/index.esm.js","../node_modules/dmn-moddle/dist/index.esm.js","../node_modules/camunda-dmn-moddle/resources/camunda.json","../node_modules/min-dom/dist/index.esm.js","../../src/base/Manager.js","../node_modules/hat/index.js","../node_modules/ids/index.js","../../src/util/ModelUtil.js","../../src/base/EditingManager.js","../node_modules/inherits/inherits_browser.js","../node_modules/didi/dist/index.esm.js","../node_modules/diagram-js/lib/draw/BaseRenderer.js","../node_modules/tiny-svg/dist/index.esm.js","../node_modules/diagram-js/lib/util/RenderUtil.js","../node_modules/diagram-js/lib/util/Elements.js","../node_modules/diagram-js/lib/draw/DefaultRenderer.js","../node_modules/diagram-js/lib/draw/Styles.js","../node_modules/diagram-js/lib/draw/index.js","../node_modules/diagram-js/lib/util/Collections.js","../node_modules/diagram-js/lib/core/Canvas.js","../node_modules/diagram-js/lib/core/ElementRegistry.js","../node_modules/object-refs/lib/collection.js","../node_modules/object-refs/lib/refs.js","../node_modules/object-refs/index.js","../node_modules/diagram-js/lib/model/index.js","../node_modules/diagram-js/lib/core/ElementFactory.js","../node_modules/diagram-js/lib/util/GraphicsUtil.js","../node_modules/diagram-js/lib/util/SvgTransformUtil.js","../node_modules/diagram-js/lib/core/GraphicsFactory.js","../node_modules/diagram-js/lib/core/index.js","../node_modules/diagram-js/lib/Diagram.js","../node_modules/diagram-js/index.js","../../src/import/DrdTreeWalker.js","../../src/import/Importer.js","../../src/draw/DrdRenderer.js","../node_modules/diagram-js/lib/util/Text.js","../../src/draw/TextRenderer.js","../../src/draw/PathMap.js","../../src/draw/index.js","../../src/import/DrdImporter.js","../../src/import/index.js","../../src/core/index.js","../node_modules/diagram-js/lib/i18n/translate/translate.js","../node_modules/diagram-js/lib/i18n/translate/index.js","../node_modules/diagram-js/lib/util/Event.js","../node_modules/diagram-js/lib/util/Platform.js","../node_modules/diagram-js/lib/util/Mouse.js","../node_modules/diagram-js/lib/features/interaction-events/InteractionEvents.js","../node_modules/diagram-js/lib/features/interaction-events/index.js","../node_modules/diagram-js/lib/features/outline/Outline.js","../node_modules/diagram-js/lib/features/outline/index.js","../node_modules/diagram-js/lib/features/selection/Selection.js","../node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","../node_modules/diagram-js/lib/features/selection/SelectionBehavior.js","../node_modules/diagram-js/lib/features/selection/index.js","../node_modules/diagram-js/lib/util/IdGenerator.js","../node_modules/diagram-js/lib/features/overlays/Overlays.js","../node_modules/diagram-js/lib/features/overlays/index.js","../../../src/features/definition-properties/DefinitionPropertiesView.js","../../../src/features/definition-properties/PaletteAdapter.js","../../../src/features/definition-properties/viewer.js","../../../src/features/drill-down/DrillDown.js","../../../src/features/drill-down/index.js","../../src/util/PoweredByUtil.js","../src/Viewer.js","../node_modules/diagram-js/lib/util/PositionUtil.js","../node_modules/diagram-js/lib/util/Math.js","../node_modules/diagram-js/lib/navigation/zoomscroll/ZoomUtil.js","../node_modules/diagram-js/lib/navigation/zoomscroll/ZoomScroll.js","../node_modules/diagram-js/lib/navigation/zoomscroll/index.js","../node_modules/diagram-js/lib/util/Cursor.js","../node_modules/diagram-js/lib/util/ClickTrap.js","../node_modules/diagram-js/lib/navigation/movecanvas/MoveCanvas.js","../node_modules/diagram-js/lib/navigation/movecanvas/index.js","../node_modules/hammerjs/hammer.js","../node_modules/diagram-js/lib/features/touch/TouchInteractionEvents.js","../node_modules/diagram-js/lib/features/touch/TouchFix.js","../node_modules/diagram-js/lib/features/touch/index.js","../node_modules/diagram-js/lib/navigation/touch/index.js","../src/NavigatedViewer.js","../node_modules/diagram-js/lib/features/align-elements/AlignElements.js","../node_modules/diagram-js/lib/features/align-elements/index.js","../node_modules/diagram-js/lib/util/Geometry.js","../node_modules/path-intersection/intersect.js","../node_modules/diagram-js/lib/layout/LayoutUtil.js","../node_modules/diagram-js/lib/features/auto-place/AutoPlaceUtil.js","../node_modules/diagram-js/lib/features/auto-place/AutoPlace.js","../node_modules/diagram-js/lib/features/auto-place/AutoPlaceSelectionBehavior.js","../node_modules/diagram-js/lib/features/auto-place/index.js","../../../src/features/modeling/ElementFactory.js","../../../src/features/auto-place/DmnAutoPlaceUtil.js","../../../src/features/auto-place/DmnAutoPlace.js","../../../src/features/auto-place/index.js","../node_modules/diagram-js/lib/features/dragging/Dragging.js","../node_modules/diagram-js/lib/features/dragging/HoverFix.js","../node_modules/diagram-js/lib/features/dragging/index.js","../node_modules/diagram-js/lib/features/auto-scroll/AutoScroll.js","../node_modules/diagram-js/lib/features/auto-scroll/index.js","../node_modules/diagram-js/lib/features/rules/Rules.js","../node_modules/diagram-js/lib/features/rules/index.js","../node_modules/diagram-js/lib/util/LineIntersection.js","../node_modules/diagram-js/lib/features/bendpoints/BendpointUtil.js","../node_modules/css.escape/css.escape.js","../node_modules/diagram-js/lib/util/EscapeUtil.js","../node_modules/diagram-js/lib/features/bendpoints/Bendpoints.js","../node_modules/diagram-js/lib/features/bendpoints/BendpointMove.js","../node_modules/diagram-js/lib/features/bendpoints/BendpointMovePreview.js","../node_modules/diagram-js/lib/features/bendpoints/ConnectionSegmentMove.js","../node_modules/diagram-js/lib/features/snapping/SnapUtil.js","../node_modules/diagram-js/lib/features/bendpoints/BendpointSnapping.js","../node_modules/diagram-js/lib/features/bendpoints/index.js","../node_modules/diagram-js/lib/features/context-pad/ContextPad.js","../node_modules/diagram-js/lib/features/context-pad/index.js","../node_modules/diagram-js/lib/features/connect/Connect.js","../node_modules/diagram-js/lib/features/connect/ConnectPreview.js","../node_modules/diagram-js/lib/features/connect/index.js","../node_modules/diagram-js/lib/features/preview-support/PreviewSupport.js","../node_modules/diagram-js/lib/features/preview-support/index.js","../node_modules/diagram-js/lib/features/create/Create.js","../node_modules/diagram-js/lib/features/create/CreatePreview.js","../node_modules/diagram-js/lib/features/create/index.js","../node_modules/diagram-js/lib/features/popup-menu/PopupMenu.js","../node_modules/diagram-js/lib/features/popup-menu/index.js","../node_modules/diagram-js/lib/features/replace/Replace.js","../node_modules/diagram-js/lib/features/replace/index.js","../../../src/features/replace/DrdReplace.js","../../../src/features/replace/index.js","../../../src/features/replace/ReplaceOptions.js","../../../src/features/popup-menu/ReplaceMenuProvider.js","../../../src/features/popup-menu/index.js","../../../src/features/context-pad/ContextPadProvider.js","../../../src/features/context-pad/index.js","../node_modules/diagram-js/lib/features/connection-preview/ConnectionPreview.js","../node_modules/diagram-js/lib/features/connection-preview/index.js","../../../src/features/definition-properties/DefinitionPropertiesEdit.js","../../../src/features/definition-properties/modeler.js","../node_modules/diagram-js/lib/features/distribute-elements/DistributeElements.js","../node_modules/diagram-js/lib/features/distribute-elements/index.js","../../../src/features/distribute-elements/DrdDistributeElements.js","../../../src/features/distribute-elements/index.js","../node_modules/diagram-js/lib/features/editor-actions/EditorActions.js","../node_modules/diagram-js/lib/features/editor-actions/index.js","../../../src/features/editor-actions/DrdEditorActions.js","../../../src/features/editor-actions/index.js","../../src/util/DiUtil.js","../../../src/features/generate-di/DiGenerator.js","../../../src/features/generate-di/index.js","../node_modules/diagram-js/lib/features/keyboard/KeyboardUtil.js","../node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js","../node_modules/diagram-js/lib/features/grid-snapping/GridSnapping.js","../node_modules/diagram-js/lib/command/CommandInterceptor.js","../node_modules/diagram-js/lib/features/grid-snapping/behavior/ResizeBehavior.js","../node_modules/diagram-js/lib/features/grid-snapping/behavior/SpaceToolBehavior.js","../node_modules/diagram-js/lib/features/grid-snapping/behavior/index.js","../node_modules/diagram-js/lib/features/grid-snapping/index.js","../node_modules/diagram-js/lib/features/keyboard/Keyboard.js","../node_modules/diagram-js/lib/features/keyboard/KeyboardBindings.js","../node_modules/diagram-js/lib/features/keyboard/index.js","../../../src/features/keyboard/DrdKeyboardBindings.js","../../../src/features/keyboard/index.js","../node_modules/diagram-js/lib/navigation/keyboard-move/KeyboardMove.js","../node_modules/diagram-js/lib/navigation/keyboard-move/index.js","../node_modules/diagram-js/lib/features/keyboard-move-selection/KeyboardMoveSelection.js","../node_modules/diagram-js/lib/features/keyboard-move-selection/index.js","../node_modules/diagram-js/lib/command/CommandStack.js","../node_modules/diagram-js/lib/command/index.js","../node_modules/diagram-js/lib/features/change-support/ChangeSupport.js","../node_modules/diagram-js/lib/features/change-support/index.js","../node_modules/diagram-js-direct-editing/lib/TextBox.js","../node_modules/diagram-js-direct-editing/lib/DirectEditing.js","../node_modules/diagram-js-direct-editing/index.js","../../../src/features/label-editing/LabelUtil.js","../../../src/features/label-editing/LabelEditingProvider.js","../../../src/features/label-editing/index.js","../../../../src/features/modeling/behavior/CreateConnectionBehavior.js","../../../../src/features/modeling/behavior/LayoutConnectionBehavior.js","../../../../src/features/modeling/behavior/ReplaceConnectionBehavior.js","../../../../src/features/modeling/behavior/ReplaceElementBehavior.js","../../../../src/features/modeling/behavior/IdChangeBehavior.js","../../../../src/features/modeling/behavior/index.js","../node_modules/diagram-js/lib/features/rules/RuleProvider.js","../../../src/features/rules/DrdRules.js","../../../src/features/rules/index.js","../../../src/features/modeling/DrdFactory.js","../../../src/features/modeling/DrdUpdater.js","../node_modules/diagram-js/lib/features/modeling/cmd/AlignElementsHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/AppendShapeHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/CreateConnectionHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/CreateElementsHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/CreateShapeHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/CreateLabelHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/DeleteConnectionHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/DeleteElementsHandler.js","../node_modules/diagram-js/lib/util/Removal.js","../node_modules/diagram-js/lib/features/modeling/cmd/DeleteShapeHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/DistributeElementsHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/LayoutConnectionHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/MoveConnectionHandler.js","../node_modules/diagram-js/lib/util/AttachUtil.js","../node_modules/diagram-js/lib/features/modeling/cmd/helper/AnchorsHelper.js","../node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveClosure.js","../node_modules/diagram-js/lib/features/modeling/cmd/helper/MoveHelper.js","../node_modules/diagram-js/lib/features/modeling/cmd/MoveElementsHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/MoveShapeHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/ReconnectConnectionHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/ReplaceShapeHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/ResizeShapeHandler.js","../node_modules/diagram-js/lib/features/space-tool/SpaceUtil.js","../node_modules/diagram-js/lib/features/modeling/cmd/SpaceToolHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","../node_modules/diagram-js/lib/features/modeling/cmd/UpdateWaypointsHandler.js","../node_modules/diagram-js/lib/features/modeling/Modeling.js","../../../../src/features/modeling/cmd/IdClaimHandler.js","../../../../src/features/label-editing/cmd/UpdateLabelHandler.js","../../../../src/features/modeling/cmd/UpdatePropertiesHandler.js","../../../src/features/modeling/Modeling.js","../node_modules/diagram-js/lib/layout/BaseLayouter.js","../../../src/features/modeling/DrdLayouter.js","../node_modules/diagram-js/lib/layout/CroppingConnectionDocking.js","../../../src/features/modeling/index.js","../node_modules/diagram-js/lib/features/move/Move.js","../node_modules/diagram-js/lib/features/move/MovePreview.js","../node_modules/diagram-js/lib/features/move/index.js","../node_modules/diagram-js/lib/features/palette/Palette.js","../node_modules/diagram-js/lib/features/palette/index.js","../node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","../node_modules/diagram-js/lib/features/tool-manager/index.js","../node_modules/diagram-js/lib/features/lasso-tool/LassoTool.js","../node_modules/diagram-js/lib/features/lasso-tool/index.js","../../../src/features/palette/PaletteProvider.js","../../../src/features/palette/index.js","../node_modules/diagram-js/lib/features/resize/ResizeUtil.js","../node_modules/diagram-js/lib/features/resize/Resize.js","../node_modules/diagram-js/lib/features/resize/ResizePreview.js","../node_modules/diagram-js/lib/features/resize/ResizeHandles.js","../node_modules/diagram-js/lib/features/resize/index.js","../../../src/features/snapping/DrdBendpointSnapping.js","../../../src/features/snapping/DrdConnectSnapping.js","../node_modules/diagram-js/lib/features/snapping/SnapContext.js","../node_modules/diagram-js/lib/features/snapping/CreateMoveSnapping.js","../node_modules/diagram-js/lib/features/snapping/ResizeSnapping.js","../node_modules/diagram-js/lib/features/snapping/Snapping.js","../node_modules/diagram-js/lib/features/snapping/index.js","../../../src/features/snapping/index.js","../src/Modeler.js","../../src/model/index.js","../../src/core/ElementFactory.js","../../src/core/ElementRegistry.js","../../src/render/ChangeSupport.js","../../src/render/Components.js","../node_modules/inferno/dist/index.esm.js","../node_modules/inferno/index.esm.js","../../../src/render/components/TableComponent.js","../../src/render/Renderer.js","../../src/render/index.js","../../src/core/Sheet.js","../src/Table.js","../src/index.js","../../src/import/Util.js","../../src/import/TableTreeWalker.js","../../../src/components/utils/classNames.js","../../../src/components/utils/inject.js","../../../src/components/utils/compose.js","../../../src/components/utils/mixin.js","../../../src/components/utils/index.js","../../../src/components/mixins/SelectionAware.js","../../../src/components/mixins/index.js","../../src/components/BaseCell.js","../../src/components/Cell.js","../../src/components/DiContainer.js","../../src/components/HeaderCell.js","../../src/components/index.js","../../../src/components/mixins/ComponentWithSlots.js","../../../../src/features/annotations/components/AnnotationHeader.js","../../../../src/features/annotations/components/AnnotationCell.js","../../../src/features/annotations/AnnotationsProvider.js","../../../src/features/annotations/index.js","../../src/import/TableImporter.js","../../../../src/features/decision-table-head/components/DecisionTableHead.js","../../../src/features/decision-table-head/DecisionTableHeadProvider.js","../../../src/features/decision-table-head/index.js","../../../../src/features/decision-table-properties/components/DecisionTablePropertiesComponent.js","../../../src/features/decision-table-properties/DecisionTableProperties.js","../../../src/features/decision-table-properties/index.js","../../../../src/features/decision-rule-indices/components/DecisionRuleIndexCellComponent.js","../../../src/features/decision-rule-indices/DecisionRuleIndices.js","../../../src/features/decision-rule-indices/index.js","../../../src/features/expression-languages/ExpressionLanguages.js","../../../src/features/expression-languages/index.js","../../../../src/features/decision-rules/components/DecisionRulesBodyComponent.js","../../../../src/features/decision-rules/components/DecisionRulesRowComponent.js","../../../../src/features/decision-rules/components/DecisionRulesCellComponent.js","../../../src/features/decision-rules/DecisionRules.js","../../../src/features/decision-rules/index.js","../../../src/features/hit-policy/HitPolicies.js","../../../../src/features/hit-policy/components/HitPolicy.js","../../../src/features/hit-policy/HitPolicyProvider.js","../../../src/features/hit-policy/index.js","../../../../src/features/view-drd/components/ViewDrdComponent.js","../../../src/features/view-drd/ViewDrd.js","../../../src/features/view-drd/index.js","../../src/components/Logo.js","../../../../src/features/powered-by/components/PoweredByLogoComponent.js","../../../../src/features/powered-by/components/PoweredByOverlayComponent.js","../../../src/features/powered-by/PoweredBy.js","../../../src/features/powered-by/index.js","../../../../src/features/add-rule/components/AddRuleFootComponent.js","../../../src/features/add-rule/AddRule.js","../../../src/features/selection/Selection.js","../../../src/features/selection/SelectionBehavior.js","../../../src/features/selection/index.js","../../../src/features/interaction-events/InteractionEvents.js","../../../src/features/interaction-events/index.js","../node_modules/selection-ranges/dist/index.esm.js","../../../src/features/cell-selection/CellSelectionUtil.js","../../../src/features/cell-selection/CellSelection.js","../../../src/features/cell-selection/index.js","../node_modules/diagram-js/lib/features/clipboard/Clipboard.js","../node_modules/diagram-js/lib/features/clipboard/index.js","../../../src/features/rules/DecisionTableModelingRules.js","../../../../src/features/copy-cut-paste/cmd/CutHandler.js","../../../src/features/copy-cut-paste/DescriptorUtil.js","../../../../src/features/copy-cut-paste/cmd/PasteHandler.js","../../../src/features/copy-cut-paste/CopyCutPaste.js","../../../src/features/copy-cut-paste/index.js","../../../src/features/editor-actions/DecisionTableEditorActions.js","../../../src/features/editor-actions/EditorActions.js","../../../src/features/add-rule/index.js","../node_modules/escape-html/index.js","../node_modules/selection-update/index.js","../../src/components/ContentEditable.js","../../src/components/EditableComponent.js","../../../../../src/features/annotations/editor/components/AnnotationCell.js","../../../../src/features/annotations/editor/AnnotationsEditingProvider.js","../../../src/features/debounce-input/debounceInput.js","../../../src/features/debounce-input/index.js","../../../../src/features/annotations/editor/index.js","../../../../src/features/context-menu/components/ContextMenuComponent.js","../../../src/features/context-menu/ContextMenu.js","../../../src/features/context-menu/index.js","../../../src/features/keyboard/KeyboardUtil.js","../../../../src/features/copy-cut-paste/key-bindings/CopyCutPasteKeyBindings.js","../../../../src/features/copy-cut-paste/key-bindings/index.js","../../../../src/features/create-inputs/components/CreateInputHeaderCell.js","../../../../src/features/create-inputs/components/CreateInputCell.js","../../../src/features/create-inputs/CreateInputsProvider.js","../../../src/features/create-inputs/index.js","../../../src/features/context-menu/ContextMenuCloseBehavior.js","../../../../../src/features/decision-table-head/editor/components/OutputCell.js","../../src/components/Input.js","../../../../../src/features/decision-table-head/editor/components/OutputEditor.js","../../../../../src/features/decision-table-head/editor/components/OutputCellContextMenu.js","../../../../src/features/decision-table-head/editor/OutputEditingProvider.js","../../../../../src/features/decision-table-head/editor/components/InputCell.js","../../src/components/InputSelect.js","../../../../../src/features/decision-table-head/editor/components/InputEditor.js","../../../../../src/features/decision-table-head/editor/components/InputCellContextMenu.js","../../../../src/features/decision-table-head/editor/InputEditingProvider.js","../../../../src/features/type-ref/components/TypeRefCellContextMenu.js","../../../src/features/type-ref/TypeRefEditingProvider.js","../../../src/features/type-ref/index.js","../../../../src/features/allowed-values/behavior/AllowedValuesUpdateBehavior.js","../../src/components/List.js","../../src/components/ValidatedInput.js","../../../src/features/allowed-values/Utils.js","../../../../src/features/allowed-values/components/AllowedValuesEditing.js","../../../src/features/allowed-values/AllowedValuesEditingProvider.js","../../../src/features/allowed-values/index.js","../../../../src/features/add-input-output/components/AddInput.js","../../../../src/features/add-input-output/components/AddOutput.js","../../../src/features/add-input-output/AddInputOutputProvider.js","../../../src/features/add-input-output/index.js","../../../src/features/keyboard/Keyboard.js","../../../../src/features/decision-table-head/editor/index.js","../../../src/features/drag-and-drop/DragAndDrop.js","../../../src/features/drag-and-drop/index.js","../../../../src/features/description/components/DescriptionEditor.js","../../../src/features/description/Description.js","../../../src/features/description/index.js","../../../src/features/expression-language/ExpressionLanguage.js","../../../src/features/expression-language/index.js","../../../../src/features/decision-table-properties/components/DecisionTablePropertiesEditorComponent.js","../../../src/features/decision-table-properties/DecisionTablePropertiesEditor.js","../../../src/features/decision-table-properties/editor.js","../../../../../src/features/hit-policy/editor/components/EditableHitPolicy.js","../../../../src/features/hit-policy/editor/HitPolicyEditingProvider.js","../../../../src/features/hit-policy/editor/index.js","../../src/command/index.js","../../../src/features/modeling/DmnUpdater.js","../../../src/features/modeling/DmnFactory.js","../../../../src/features/modeling/cmd/AddRowHandler.js","../../../../src/features/modeling/cmd/RemoveRowHandler.js","../../../../src/features/modeling/cmd/MoveRowHandler.js","../../../../src/features/modeling/cmd/AddColHandler.js","../../../../src/features/modeling/cmd/RemoveColHandler.js","../../../../src/features/modeling/cmd/MoveColHandler.js","../../../../src/features/modeling/cmd/EditCellHandler.js","../../../../src/features/modeling/cmd/UpdateAllowedValuesHandler.js","../../../../src/features/modeling/behavior/IdClaimBehavior.js","../../../../src/features/modeling/behavior/IdUnclaimBehavior.js","../../../../src/features/decision-rules/components/DecisionRulesCellEditorComponent.js","../../../src/features/decision-rules/DecisionRulesEditor.js","../../../src/features/decision-rules/editor.js","../../../../src/features/simple-mode/components/SimpleModeButtonComponent.js","../../../src/features/simple-mode/SimpleMode.js","../../../src/features/simple-mode/index.js","../../../src/features/simple-boolean-edit/Utils.js","../../../../src/features/simple-boolean-edit/components/BooleanEdit.js","../../../src/features/simple-boolean-edit/SimpleBooleanEdit.js","../../../src/features/simple-boolean-edit/index.js","../../../src/features/simple-date-edit/Utils.js","../../../../src/features/simple-date-edit/components/InputDateEdit.js","../../../../src/features/simple-date-edit/components/OutputDateEdit.js","../../../src/features/simple-date-edit/SimpleDateEdit.js","../../../src/features/simple-date-edit/index.js","../../../src/features/simple-number-edit/Utils.js","../../../../src/features/simple-number-edit/components/InputNumberEdit.js","../../../../src/features/simple-number-edit/components/OutputNumberEdit.js","../../../src/features/simple-number-edit/SimpleNumberEdit.js","../../../src/features/simple-number-edit/index.js","../../../src/features/simple-string-edit/Utils.js","../../../../src/features/simple-string-edit/components/SimpleStringEditContextMenuComponent.js","../../../src/features/simple-string-edit/SimpleStringEdit.js","../../../src/features/simple-string-edit/index.js","../../../../src/features/column-resize/components/ResizeColumn.js","../../../src/features/column-resize/ColumnResizeProvider.js","../../../src/features/column-resize/index.js","../src/Editor.js","../../../../src/base/viewer/core/ChangeSupport.js","../../../../src/base/viewer/core/Components.js","../../../../../src/base/viewer/core/components/ViewerComponent.js","../../../../src/base/viewer/core/Renderer.js","../../../../src/base/viewer/core/index.js","../../../src/base/viewer/Viewer.js","../../../../src/features/decision-properties/components/DecisionPropertiesComponent.js","../../../src/features/decision-properties/DecisionProperties.js","../../../src/features/decision-properties/index.js","../../../../src/features/literal-expression-properties/components/LiteralExpressionPropertiesComponent.js","../../../src/features/literal-expression-properties/LiteralExpressionProperties.js","../../../src/features/literal-expression-properties/index.js","../../../../src/features/textarea/components/TextareaComponent.js","../../../src/features/textarea/Textarea.js","../../../src/features/textarea/index.js","../../../../src/features/decision-properties/components/DecisionPropertiesEditorComponent.js","../../../src/features/decision-properties/DecisionPropertiesEditor.js","../../../src/features/decision-properties/editor.js","../../../../src/features/literal-expression-properties/components/LiteralExpressionPropertiesEditorComponent.js","../../../src/features/literal-expression-properties/LiteralExpressionPropertiesEditor.js","../../../src/features/literal-expression-properties/editor.js","../../../../src/features/textarea/components/TextareaEditorComponent.js","../../../src/features/textarea/TextareaEditor.js","../../../src/features/textarea/editor.js","js/api/service.js","js/ui/dmn.js","js/ui/notification.js","js/index.js"],"names":["MaterialTab","tab","ctx","element_","classList","contains","CssClasses_","MDL_JS_RIPPLE_EFFECT","rippleContainer","document","createElement","add","MDL_RIPPLE_CONTAINER","ripple","MDL_RIPPLE","appendChild","addEventListener","e","getAttribute","charAt","preventDefault","href","split","panel","querySelector","resetTabState_","resetPanelState_","ACTIVE_CLASS","MaterialLayoutTab","tabs","panels","layout","selectTab","content_","IS_ACTIVE","tabBar_","JS_RIPPLE_EFFECT","RIPPLE_CONTAINER","RIPPLE","TAB_MANUAL_SWITCH","show","componentHandler","upgradeDom","optJsClass","optCssClass","upgradeElement","element","upgradeElements","elements","upgradeAllRegistered","registerUpgradedCallback","jsClass","callback","register","config","downgradeElements","nodes","findRegisteredClass_","name","optReplace","i","registeredComponents_","length","className","getUpgradedListOfElement_","dataUpgraded","isElementUpgraded_","upgradedList","indexOf","createEvent_","eventType","bubbles","cancelable","window","CustomEvent","ev","createEvent","initEvent","upgradeDomInternal","cssClass","registeredClass","querySelectorAll","n","upgradeElementInternal","Element","Error","upgradingEv","dispatchEvent","defaultPrevented","classesToUpgrade","push","forEach","component","setAttribute","join","instance","classConstructor","componentConfigProperty_","createdComponents_","j","m","callbacks","widget","upgradedEv","deconstructComponentInternal","componentIndex","splice","upgrades","componentPlace","classAsString","upgradeElementsInternal","Array","isArray","prototype","slice","call","HTMLElement","children","upgradeAllRegisteredInternal","registerUpgradedCallbackInternal","regClass","registerInternal","widgetMissing","newConfig","constructor","item","hasOwnProperty","downgradeNodesInternal","downgradeNode","node","filter","NodeList","Node","ComponentConfigPublic","ComponentConfig","Component","documentElement","Date","now","getTime","vendors","requestAnimationFrame","vp","cancelAnimationFrame","test","navigator","userAgent","lastTime","nextTime","Math","max","setTimeout","clearTimeout","MaterialButton","this","init","Constant_","RIPPLE_EFFECT","blurHandler_","event","blur","disable","disabled","enable","rippleElement_","boundRippleBlurHandler","bind","boundButtonBlurHandler","MaterialCheckbox","TINY_TIMEOUT","INPUT","BOX_OUTLINE","FOCUS_HELPER","TICK_OUTLINE","RIPPLE_IGNORE_EVENTS","RIPPLE_CENTER","IS_FOCUSED","IS_DISABLED","IS_CHECKED","IS_UPGRADED","onChange_","updateClasses_","onFocus_","onBlur_","remove","onMouseUp_","blur_","checkDisabled","checkToggleState","inputElement_","checked","check","uncheck","boxOutline","tickContainer","tickOutline","rippleContainerElement_","boundRippleMouseUp","boundInputOnChange","boundInputOnFocus","boundInputOnBlur","boundElementMouseUp","MaterialIconToggle","boundElementOnMouseUp","MaterialMenu","TRANSITION_DURATION_SECONDS","TRANSITION_DURATION_FRACTION","CLOSE_TIMEOUT","Keycodes_","ENTER","ESCAPE","SPACE","UP_ARROW","DOWN_ARROW","CONTAINER","OUTLINE","ITEM","ITEM_RIPPLE_CONTAINER","IS_VISIBLE","IS_ANIMATING","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","UNALIGNED","container","parentElement","insertBefore","removeChild","container_","outline","outline_","forElId","forEl","getElementById","forElement_","handleForClick_","handleForKeyboardEvent_","items","boundItemKeydown_","handleItemKeyboardEvent_","boundItemClick_","handleItemClick_","tabIndex","evt","rect","getBoundingClientRect","forRect","style","right","top","offsetTop","offsetHeight","left","offsetLeft","bottom","toggle","keyCode","focus","currentIndex","target","MouseEvent","click","hide","hasAttribute","stopPropagation","closing_","applyClip_","height","width","clip","removeAnimationEndListener_","addAnimationEndListener_","transitionDuration","itemDelay","transitionDelay","parentNode","removeEventListener","removeProperty","MaterialProgress","INDETERMINATE_CLASS","setProgress","p","progressbar_","setBuffer","bufferbar_","auxbar_","el","MaterialRadio","JS_RADIO","RADIO_BTN","RADIO_OUTER_CIRCLE","RADIO_INNER_CIRCLE","radios","getElementsByClassName","btnElement_","onMouseup_","boundChangeHandler_","boundFocusHandler_","boundBlurHandler_","boundMouseUpHandler_","outerCircle","innerCircle","MaterialSlider","isIE_","msPointerEnabled","IE_CONTAINER","SLIDER_CONTAINER","BACKGROUND_FLEX","BACKGROUND_LOWER","BACKGROUND_UPPER","IS_LOWEST_VALUE","onInput_","updateValueStyles_","onContainerMouseDown_","newEvent","buttons","clientX","clientY","y","fraction","value","min","backgroundLower_","flex","webkitFlex","backgroundUpper_","change","containerIE","backgroundFlex","boundInputHandler","boundChangeHandler","boundMouseUpHandler","boundContainerMouseDownHandler","MaterialSnackbar","textElement_","cssClasses_","MESSAGE","actionElement_","ACTION","active","actionHandler_","undefined","message_","actionText_","queuedNotifications_","setActionHidden_","ANIMATION_LENGTH","SNACKBAR","ACTIVE","displaySnackbar_","textContent","cleanup_","timeout_","showSnackbar","data","checkQueue_","shift","Boolean","removeAttribute","MaterialSpinner","MDL_SPINNER_LAYER_COUNT","MDL_SPINNER_LAYER","MDL_SPINNER_CIRCLE_CLIPPER","MDL_SPINNER_CIRCLE","MDL_SPINNER_GAP_PATCH","MDL_SPINNER_LEFT","MDL_SPINNER_RIGHT","createLayer","index","layer","leftClipper","gapPatch","rightClipper","circleOwners","circle","stop","start","MaterialSwitch","TRACK","THUMB","on","off","track","thumb","focusHelper","boundFocusHandler","boundBlurHandler","MaterialTabs","TAB_CLASS","PANEL_CLASS","UPGRADED_CLASS","MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS","initTabs_","tabs_","panels_","k","MaterialTextfield","maxRows","NO_MAX_ROWS","MAX_ROWS_ATTRIBUTE","LABEL","IS_DIRTY","IS_INVALID","HAS_PLACEHOLDER","onKeyDown_","currentRowCount","onReset_","checkValidity","checkDirty","checkFocus","input_","validity","valid","label_","parseInt","isNaN","boundUpdateClassesHandler","boundResetHandler","boundKeyDownHandler","invalid","MaterialTooltip","BOTTOM","LEFT","RIGHT","TOP","handleMouseEnter_","props","marginLeft","offsetWidth","marginTop","hideTooltip_","boundMouseEnterHandler","boundMouseLeaveAndScrollHandler","MaterialLayout","MAX_WIDTH","TAB_SCROLL_PIXELS","RESIZE_TIMEOUT","MENU_ICON","CHEVRON_LEFT","CHEVRON_RIGHT","Mode_","STANDARD","SEAMED","WATERFALL","SCROLL","HEADER","DRAWER","CONTENT","DRAWER_BTN","ICON","HEADER_SEAMED","HEADER_WATERFALL","HEADER_SCROLL","FIXED_HEADER","OBFUSCATOR","TAB_BAR","TAB_CONTAINER","TAB","TAB_BAR_BUTTON","TAB_BAR_LEFT_BUTTON","TAB_BAR_RIGHT_BUTTON","PANEL","HAS_DRAWER","HAS_TABS","HAS_SCROLLING_HEADER","CASTING_SHADOW","IS_COMPACT","IS_SMALL_SCREEN","IS_DRAWER_OPEN","ON_LARGE_SCREEN","ON_SMALL_SCREEN","contentScrollHandler_","header_","headerVisible","scrollTop","keyboardEventHandler_","drawer_","toggleDrawer","screenSizeHandler_","screenSizeMediaQuery_","matches","obfuscator_","drawerToggleHandler_","type","headerTransitionEndHandler_","headerClickHandler_","tabBar","drawerButton","focusedElement","directChildren","childNodes","numChildren","c","child","persisted","overflowY","mode","drawerButtonIcon","innerHTML","firstChild","obfuscator","matchMedia","addListener","tabContainer","leftButton","leftButtonIcon","scrollLeft","rightButton","rightButtonIcon","tabUpdateHandler","scrollWidth","windowResizeHandler","resizeTimeoutId_","MaterialDataTable","DATA_TABLE","SELECTABLE","SELECT_ELEMENT","IS_SELECTED","selectRow_","checkbox","row","opt_rows","createCheckbox_","label","labelClasses","firstHeader","bodyRows","footRows","rows","concat","th","headerCheckbox","firstCell","td","nodeName","toUpperCase","rowCheckbox","MaterialRipple","INITIAL_SCALE","INITIAL_SIZE","INITIAL_OPACITY","FINAL_OPACITY","FINAL_SCALE","RIPPLE_EFFECT_IGNORE_EVENTS","downHandler_","boundHeight","boundWidth","rippleSize_","sqrt","ignoringMouseDown_","frameCount","getFrameCount","setFrameCount","x","bound","currentTarget","round","touches","setRippleXY","setRippleStyles","animFrameHandler","upHandler_","detail","recentering","frameCount_","x_","y_","boundDownHandler","boundUpHandler","fC","getRippleElement","newX","newY","transformString","scale","offset","webkitTransform","msTransform","transform","symbolObservablePonyfill","root","result","Symbol","observable","self","global","module","Function","randomString","random","toString","substring","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","Object","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","arguments","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","dispatch","action","listeners","replaceReducer","nextReducer","$$observable","_ref","outerSubscribe","observer","TypeError","observeState","next","unsubscribe","warning","message","console","error","getUndefinedStateErrorMessage","key","actionType","String","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","keys","argumentName","match","unexpectedKeys","assertReducerShape","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","state","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","apply","bindActionCreators","actionCreators","boundActionCreators","_defineProperty","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","compose","_len","funcs","arg","reduce","a","b","applyMiddleware","middlewares","store","_dispatch","middlewareAPI","chain","map","middleware","isCrushed","GOOGLE_INIT","GOOGLE_INIT_SUCCESS","GOOGLE_INIT_ERROR","GOOGLE_LOGIN","GOOGLE_LOGIN_SUCCESS","GOOGLE_LOGIN_ERROR","GOOGLE_LOADDOCUMENT","GOOGLE_LOADNEWDOCUMENT","GOOGLE_LOADDOCUMENT_SUCCESS","GOOGLE_LOADDOCUMENT_ERROR","GOOGLE_FILEINFO","GOOGLE_FILEINFO_SUCCESS","GOOGLE_FILEINFO_ERROR","GOOGLE_SAVEDOCUMENT","GOOGLE_SAVEDOCUMENT_SUCCESS","GOOGLE_SAVEDOCUMENT_ERROR","createGoogleInitAction","options","createGoogleInitSuccessAction","createGoogleInitErrorAction","createGoogleLoginAction","createGoogleLoginSuccessAction","user","createGoogleLoginErrorAction","createGoogleLoadDocumentAction","id","createGoogleLoadNewDocumentAction","createGoogleLoadDocumentSuccessAction","text","createGoogleLoadDocumentErrorAction","createGoogleFileInfoAction","createGoogleFileInfoSuccessAction","fileinfo","createGoogleFileInfoErrorAction","createGoogleSaveDocumentAction","createGoogleSaveDocumentSuccessAction","createGoogleSaveDocumentErrorAction","Immutable","DELETE","SHIFT","SIZE","MASK","NOT_SET","MakeRef","SetRef","ref","OwnerID","ensureSize","iter","size","__iterate","returnTrue","wrapIndex","uint32Index","NaN","wholeSlice","begin","end","isNeg","resolveBegin","resolveIndex","resolveEnd","defaultIndex","Infinity","IS_COLLECTION_SYMBOL","isCollection","maybeCollection","IS_KEYED_SYMBOL","isKeyed","maybeKeyed","IS_INDEXED_SYMBOL","isIndexed","maybeIndexed","isAssociative","maybeAssociative","Collection","Seq","KeyedCollection","KeyedSeq","__proto__","create","IndexedCollection","IndexedSeq","SetCollection","SetSeq","Keyed","Indexed","Set","IS_SEQ_SYMBOL","isSeq","maybeSeq","IS_RECORD_SYMBOL","isRecord","maybeRecord","isImmutable","maybeImmutable","IS_ORDERED_SYMBOL","isOrdered","maybeOrdered","ITERATE_KEYS","ITERATE_VALUES","ITERATE_ENTRIES","REAL_ITERATOR_SYMBOL","iterator","FAUX_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","iteratorValue","v","iteratorResult","done","iteratorDone","hasIterator","maybeIterable","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","KEYS","VALUES","ENTRIES","inspect","toSource","isArrayLike","Number","isInteger","Collection$$1","emptySequence","toSeq","seqFromValue","__toString","cacheResult","_cache","__iterateUncached","entrySeq","toArray","fn","reverse","cache","entry","__iterator","__iteratorUncached","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","toIndexedSeq","indexedSeqFromValue","of","toSetSeq","ArraySeq","array","_array","get","notSetValue","has","ii","ObjectSeq","_object","_keys","EMPTY_SEQ","CollectionSeq","collection","_collection","iterations","step","seq","maybeIndexedSeqFromValue","IS_MAP_SYMBOL","isMap","maybeMap","isOrderedMap","maybeOrderedMap","isValueObject","maybeValue","equals","hashCode","is","valueA","valueB","valueOf","imul","d","smi","i32","defaultValueOf","hash","o","hashNumber","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashJSObj","string","hashed","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","charCodeAt","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","getIENodeHash","objHashUID","set","isExtensible","nodeType","uniqueID","WeakMap","ToKeyedSequence","KeyedSeq$$1","indexed","useKeys","_iter","_useKeys","valueSeq","this$1","reversedSequence","reverseFactory","mapper","context","mappedSequence","mapFactory","ToIndexedSequence","IndexedSeq$$1","includes","ToSetSequence","SetSeq$$1","FromEntriesSequence","entries","validateEntry","indexedCollection","flipFactory","flipSequence","makeSequence","flip","cacheResultThrough","filterFactory","predicate","filterSequence","countByFactory","grouper","groups","Map","asMutable","update","asImmutable","groupByFactory","isKeyedIter","OrderedMap","coerce","collectionClass","arr","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","resolvedSize","sliceSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","values","isKeyedCollection","iters","singleton","concatSeq","flatten","sum","flattenFactory","depth","flatSequence","stopped","flatDeep","currentDepth","stack","pop","flatMapFactory","interposeFactory","separator","interposedSequence","sortFactory","comparator","defaultComparator","sort","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipAll","zipSequence","sizes","iterators","isDone","steps","every","s","some","arrCopy","len","newArr","invariant","condition","assertNotInfinite","coerceKeyPath","keyPath","isPlainObj","isDataStructure","quoteString","JSON","stringify","_ignoreError","shallowCopy","from","to","collectionCopy","updateIn","updater","updatedValue","updateInDeeply","inImmutable","existing","wasNotSet","existingValue","newValue","nextExisting","nextUpdated","emptyMap","setIn","setIn$1","removeIn","deleteIn","update$1","updateIn$1","merge","mergeIntoKeyedWith","mergeWith","merger","collections","collection$1","__ownerID","withMutations","mergeIntoCollection","oldVal","merge$1","sources","mergeWithSources","mergeWith$1","mergeDeep","mergeDeepWithSources","mergeDeepWith","deepMergerWith","merged","mergeItem","hasVal","nextVal","deepMerger","oldValue","mergeDeep$1","mergeDeepWith$1","mergeIn","mergeDeepIn","mutable","wasAltered","__ensureOwner","__altered","KeyedCollection$$1","keyValues","_root","updateMap","deleteAll","clear","__hash","sortBy","MapIterator","iterate","ownerID","makeMap","MapPrototype","removeAll","ArrayMapNode","keyHash","didChangeSize","didAlter","idx","removed","exists","MAX_ARRAY_MAP_SIZE","createNodes","isEditable","newEntries","BitmapIndexedNode","bitmap","bit","popCount","keyHashFrag","newNode","updateNode","MAX_BITMAP_INDEXED_SIZE","expandNodes","isLeafNode","newBitmap","newNodes","setAt","spliceOut","spliceIn","HashArrayMapNode","count","newCount","MIN_HASH_ARRAY_MAP_SIZE","packNodes","HashCollisionNode","mergeIntoNode","ValueNode","keyMatch","maxIndex","EMPTY_MAP","Iterator$$1","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","subNode","__prev","prev","hash$$1","newRoot","newSize","idx1","idx2","excluding","packedII","packedNodes","including","expandedNodes","val","canEdit","newArray","newLen","after","IS_LIST_SYMBOL","isList","maybeList","List","IndexedCollection$$1","empty","emptyList","makeList","VNode","list","setSize","listNodeFor","_origin","updateList","insert","_capacity","_level","_tail","oldSize","setListBounds","unshift","arguments$1","seqs","argument","iterateList","DONE","ListPrototype","removeBefore","level","originIndex","removingFirst","newChild","oldChild","editable","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","tailPos","getTailOffset","tail","iterateNodeOrLeaf","iterateLeaf","iterateNode","origin","capacity","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","newTailOffset","oldTailOffset","oldTail","beginIndex","EMPTY_ORDERED_MAP","Map$$1","emptyOrderedMap","_map","_list","updateOrderedMap","newMap","newList","makeOrderedMap","omap","toMap","IS_STACK_SYMBOL","isStack","maybeStack","Stack","emptyStack","pushAll","head","_head","peek","makeStack","EMPTY_STACK","StackPrototype","unshiftAll","IS_SET_SYMBOL","isSet","maybeSet","isOrderedSet","maybeOrderedSet","deepEqual","notAssociative","flipped","_","allEqual","bSize","mixin","ctor","methods","keyCopier","toJS","result$1","SetCollection$$1","emptySet","fromKeys","keySeq","intersect","sets","SetPrototype","union","updateSet","removes","adds","mapped","toRemove","subtract","OrderedSet","__make","__empty","EMPTY_SET","makeSet","EMPTY_RANGE","Range","abs","_start","_end","_step","ceil","searchValue","possibleIndex","floor","offsetValue","lastIndexOf","other","getIn","searchKeyPath","getIn$1","hasIn","hasIn$1","toObject","isIterable","useTuples","toOrderedMap","toOrderedSet","toSet","toStack","toList","__toStringMapper","returnValue","find","findEntry","sideEffect","joined","isFirst","initialReduction","reduceRight","not","butLast","isEmpty","countBy","entriesSequence","entryMapper","filterNot","found","findKey","findLast","findLastEntry","findLastKey","first","flatMap","searchKey","groupBy","isSubset","isSuperset","keyOf","keyMapper","last","lastKeyOf","maxBy","neg","defaultNegComparator","minBy","rest","skip","amount","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","hashCollection","CollectionPrototype","toJSON","mapEntries","mapKeys","KeyedCollectionPrototype","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zip","defaultZipper","zipWith","IndexedCollectionPrototype","reduction","useFirst","ordered","keyed","h","murmurHashOfSize","hashMerge","Set$$1","emptyOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","Record","defaultValues","hasInitialized","RecordType","indices","RecordTypePrototype","_indices","_name","_defaultValues","propName","warn","recordName","setProp","_values","l","RecordPrototype","displayName","str","recordSeq","newValues","makeRecord","getDescriptiveName","likeRecord","record","EMPTY_REPEAT","Repeat","times","_value","fromJS","converter","fromJSWith","defaultConverter","parentValue","converted","version","Iterable","ZOOM_TO_FIT","ZOOM_IN","ZOOM_OUT","createZoomToFitAction","createZoomInAction","createZoomOutAction","initialState","status","googleDocument","isLoaded","DMNEditorApp","newState","debug","DriveAppsUtil","logtoconsole","loadGoogleApi","LoadGoogleApi","log","Promise","resolve","reject","loadGoogleAPI","then","login","auth","gapi","auth2","getAuthInstance","currentUser","isSignedIn","signIn","logout","disconnect","getDocumentContent","client","request","response","body","getDocumentMeta","parse","updateDocumentMeta","metadata","updateDocument","content","contentlength","headers","location","mimeType","createDocument","driveAppsUtil","initGoogle","loadGoogleDocument","isNew","saveDocument","showUserImage","src","getBasicProfile","getImageUrl","setDocumentInfo","title","initFileInfo","changeFileName","hideSplash","display","nativeToString","nativeHasOwnProperty","isUndefined","isDefined","isNil","isObject","isNumber","isFunction","tag","isString","ensureArray","matcher","toMatcher","convertKey","toNum","identity","without","extractor","grouped","toExtractor","discriminator","group","uniqueBy","unionBy","sorted","disc","matchPattern","pattern","debounce","timeout","timer","lastArgs","lastThis","lastNow","fire","scheduledDiff","schedule","args","throttle","interval","throttling","_extends","assign","others","pick","properties","prop","omit","_len2","_key2","sourceVal","targetVal","FN_REF","DEFAULT_PRIORITY","EventBus","_listeners","_destroy","InternalEvent","invokeFunction","events","priority","that","actualCallback","_addListener","once","wrappedCallback","_removeListener","firstListener","originalType","_invokeListeners","handleError","cancelBubble","_invokeListener","newListener","previousListener","_getListeners","_setListeners","nextListener","listenerCallback","Base","Factory","model","$model","createType","descriptor","isMany","default","defineModel","defineDescriptor","ns","ModdleElement","attrs","define","hasType","$instanceOf","BUILTINS","Integer","Real","TYPE_CONVERTERS","parseFloat","coerceType","isBuiltIn","isSimple","parseName","defaultPrefix","parts","localName","prefix","DescriptorBuilder","nameNs","allTypes","allTypesByName","propertiesByName","Registry","packages","packageMap","typeMap","registerPackage","ensureAvailable","pkg","identifierKey","Properties","property","isReference","Moddle","factory","registry","typeCache","build","addProperty","validate","addNamedProperty","replaceProperty","oldProperty","newProperty","replace","oldNameNs","rename","isId","setIdProperty","isBody","setBodyProperty","redefineProperty","targetPropertyName","nsPrefix","attrName","redefinedProperty","redefines","propsByName","assertNotDefined","removeNamedProperty","bodyProperty","idProperty","propertyName","definedProperty","definedBy","hasProperty","addTrait","t","inherited","typesByName","types","typeName","replaces","getPackage","uriOrPrefix","getPackages","pkgMap","registerType","uri","superClass","extends","meta","propertyNs","extendsName","extended","traits","definePackage","mapTypes","nsName","trait","traverseTrait","cls","traverseSuper","parentNs","getEffectiveDescriptor","builder","$pkg","getPropertyDescriptor","$attrs","Type","getType","createAny","nsUri","$type","isGeneric","getElementDescriptor","$descriptor","getTypeDescriptor","fromCharCode","ENTITY_PATTERN","ENTITY_MAPPING","replaceEntities","z","decodeEntities","XSI_URI","XSI_PREFIX","XSI_TYPE","NON_WHITESPACE_OUTSIDE_ROOT_NODE","msg","missingNamespaceForPrefix","getter","getFn","cloneNsMatrix","nsMatrix","clone","uriPrefix","buildNsMatrix","nsUriToPrefix","noopGetContext","throwFunc","err","Parser","proxy","onText","onOpenTag","onCloseTag","onCDATA","onWarning","onComment","onQuestion","onAttention","onError","getContext","maybeNS","isNamespace","returnError","parseStop","handleWarning","cb","nsMap","_nsUriToPrefix","xml","nsMatrixStack","_nsMatrix","q","w","xmlns","elementName","_elementName","elementProxy","cachedAttrs","nodeStack","anonymousNsCount","tagStart","tagEnd","attrsString","attrsStart","getAttrs","nsUriPrefix","hasNewMatrix","newalias","alias","skipAttr","defaultAlias","attrList","seenAttrs","parseAttr","substr","getParseContext","splitsRe","line","column","startOfLine","endOfLine","exec","trim","hasLowerCaseAlias","tagAlias","DEFAULT_NS_MAP","serializeFormat","serialize","serializeAsType","serializeAsProperty","capitalize","aliasToName","aliasNs","prefixedToName","typePrefix","normalizeXsiTypeName","getModdleDescriptor","defer","Context","elementsById","references","warnings","addReference","reference","addElement","addWarning","BaseHandler","NoopHandler","BodyHandler","ReferenceHandler","ValueHandler","propertyDesc","BaseElementHandler","ElementHandler","RootElementHandler","GenericElementHandler","Reader","lax","createStack","handleEnd","handleText","handleNode","createReference","parser","handleChild","attributes","propNameNs","getPropertyForNode","elementTypeName","elementType","isAttr","effectiveType","isVirtual","isAttribute","valueHandler","referenceHandler","handler","childHandler","newElement","$parent","originalName","$children","$body","fromXML","rootHandler","PREAMBLE_START_PATTERN","ENCODING_PATTERN","UTF_8_PATTERN","handleCData","uriMap","decodeStr","selfClosing","decodedAttrs","handleOpen","handleQuestion","question","encoding","handleClose","resolveReferences","r","XML_PREAMBLE","ESCAPE_ATTR_CHARS","ESCAPE_CHARS","Namespaces","parent","prefixMap","used","wellknown","custom","byUri","isWellknown","mapPrefix","uriByPrefix","getNSKey","logUsed","nsKey","getUsed","allNs","isUsed","lower","toLowerCase","nameToAlias","inherits","superCtor","super_","getNsAttrs","namespaces","getElementNs","getPropertyNs","getSerializableProperties","ESCAPE_ATTR_MAP","ESCAPE_MAP","escape","charPattern","replaceMap","escapeAttr","escapeBody","filterAttributes","filterContained","ReferenceSerializer","tagName","BodySerializer","ValueSerializer","ElementSerializer","propertyDescriptor","TypeSerializer","SavingWriter","write","FormatingWriter","out","format","indent","append","appendNewLine","appendIndent","unindent","Writer","preamble","toXML","tree","writer","internalWriter","formatingWriter","serializeTo","serializeValue","search","elementDescriptor","otherAttrs","parseGeneric","parseNsAttributes","nsPropertyTagName","nsTagName","addTagName","parseAttributes","parseContainments","parseGenericAttributes","logNamespaceUsed","isLocalNs","nsAttributeName","effectiveNs","getNamespaces","parseNsAttribute","logNamespace","actualNs","genericAttrs","nonNsAttr","attr","addAttribute","asType","asProperty","serializer","local","parentNamespaces","newPrefix","wellknownUri","serializeAttributes","firstBody","typeNs","simple","DmnModdle","xmlStr","reader","associations","enumerations","literalValues","DcPackage","name$1","prefix$1","uri$1","types$1","isAbstract","associations$1","enumerations$1","DiPackage","name$2","prefix$2","uri$2","types$2","enumerations$2","associations$2","xml$1","DmnPackage","name$3","prefix$3","uri$3","types$3","associations$3","enumerations$3","DmnDiPackage","name$4","uri$4","prefix$4","xml$2","types$4","BioDiPackage","dc","di","dmn","dmndi","biodi","additionalPackages","indexof","re","classes","ClassList","removeMatching","force","vendor","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","selector","closest","checkYourSelf","currentElem","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","unbind","bind_1","capture","unbind_1","componentEvent","forceCaptureEvents","bind$1","srcElement","delegateTarget","unbind$1","delegate","domify","bugTestDiv","innerHTMLBug","getElementsByTagName","legend","tr","col","_default","html","doc","createTextNode","lastChild","wrap","suffix","fragment","createDocumentFragment","query","all","option","optgroup","thead","tbody","colgroup","caption","tfoot","polyline","ellipse","polygon","path","g","DEFAULT_CONTAINER_OPTIONS","position","Manager","_emit","views","_views","activeView","_activeView","_eventBus","_viewsChanged","_viewers","_init","open","noop","_moddle","definitions","parseWarnings","_setDefinitions","checkDMNCompatibilityError","checkValidationError","warmings","view","_getInitialView","allWarnings","_definitions","getActiveView","_getViewer","jquery","domQuery","_container","viewerId","safeExecute","_options","_createModdle","containerOptions","ensureUnit","attachTo","_switchView","_updateViews","viewProviders","_getViewProviders","displayableElements","drgElement","newViews","provider","opens","newActiveView","viewsEqual","activeViewChanged","viewNameChanged","viewsChanged","newView","activeViewer","complete","newViewer","detach","viewer","_createViewer","Viewer","providerOptions","common","additionalModules","_parent","moddle","camunda","CamundaModdle","moddleExtensions","olderDMNVersion","method","bo","getBusinessObject","isInput","isOutput","isRule","businessObject","getName","isAny","EditingManager","_collectIds","ids","claim","Ids","CLASS_PATTERN","isClass","annotate","$inject","CONSTRUCTOR_ARGS","FN_ARGS","FN_ARG","Module","providers","_typeof","_toConsumableArray","arr2","Injector","modules","strict","currentlyResolving","_providers","instances","_instances","injector","pivot","hasProp","fnDef","locals","dependencies","dep","instantiate","_fnDef","invoke","func","_fnDef2","createPrivateInjectorFactory","privateChildInjector","factoryMap","arrayUnwrap","__exports__","clonedModule","privateInjector","__modules__","getFromPrivateInjector","createChild","forceNewInstances","fromParentModule","cacheIdx","privateChildInjectorFactory","matchedScopes","privateInjectorsCache","privateChildInjectors","privateChildFactories","$scope","scope","DEFAULT_RENDER_PRIORITY","BaseRenderer","eventBus","renderPriority","visuals","gfx","canRender","drawShape","drawConnection","getShapePath","getConnectionPath","ensureImported","ownerDocument","importNode","appendTo","LENGTH_ATTR","CSS_PROPERTIES","getAttributeNS","hyphenated","setAttributeNS","setAttributes","names","defined","cloneNode","baseVal","svg","SVG_START","unwrap","parsed","parseDocument","DOMParser","async","parseFromString","createElementNS","useCapture","extend","createPoint","point","createSVGPoint","createMatrix","f","matrix","createSVGMatrix","createTransform","createSVGTransformFromMatrix","createSVGTransform","TEXT_ENTITIES","ATTR_ENTITIES","ENTITY_REPLACEMENT","replaceFn","entity","output","attrMap","attrNode","hasAttributes","hasChildNodes","nodeValue","isFragment","nextSibling","innerSVG","select","selectAll","prependTo","prepend","replacement","replaceChild","wrapMatrix","transformList","SVGMatrix","setTransforms","transforms","appendItem","consolidate","componentsToPath","toSVGPoints","points","createLine","updateLine","getParents","getParent","unique","canAdd","eachElement","selfAndChildren","maxDepth","processedChildren","selfAndDirectChildren","allowDuplicates","selfAndAllChildren","getClosure","isTopLevel","closure","allShapes","copyObject","allConnections","enclosedElements","enclosedConnections","topLevel","handleConnection","handleElement","waypoints","incoming","outgoing","getBBox","stopRecursion","minX","minY","maxX","maxY","bbox","getEnclosedElements","filteredElements","isFrameElement","isFrame","src1","src2","DefaultRenderer","styles","CONNECTION_STYLE","strokeWidth","stroke","SHAPE_STYLE","fill","FRAME_STYLE","strokeDasharray","connection","shape","shapePath","connectionPath","original","Styles","defaultTraits","strokeOpacity","pointerEvents","additionalAttrs","computeStyle","defaultStyles","__init__","defaultRenderer","currentIdx","number","resolution","ensurePx","createContainer","overflow","createGroup","childIndex","BASE_LAYER","REQUIRED_MODEL_ATTRS","Canvas","graphicsFactory","elementRegistry","_elementRegistry","_graphicsFactory","setCTM","mstr","_svg","viewport","_viewport","_layers","deferUpdate","_viewboxChanged","_cachedViewbox","_clear","emit","_rootElement","getAll","setRootElement","_removeElement","getDefaultLayer","getLayer","_createLayer","getContainer","_updateMarker","marker","_elements","secondaryGfx","addMarker","removeMarker","hasMarker","getGraphics","toggleMarker","getRootElement","override","_ensureValid","currentRoot","requiredAttrs","_setParent","parentIndex","_addElement","addShape","addConnection","removeShape","removeConnection","secondary","_changeViewbox","changeFn","viewbox","box","innerBox","outerBox","getSize","translate","inner","outer","scroll","delta","getCTM","dx","dy","multiply","zoom","newScale","center","_fitViewport","_setZoom","vbox","newViewbox","originalPoint","currentMatrix","scaleMatrix","newMatrix","currentScale","matrixTransform","inverse","clientWidth","clientHeight","getAbsoluteBBox","resized","ELEMENT_ID","ElementRegistry","_validateId","updateId","newId","filtered","parentRefs","Refs","labelRefs","attacherRefs","outgoingRefs","incomingRefs","labels","newLabel","Shape","Root","Label","Connection","ElementFactory","_uid","createRoot","createLabel","createShape","createConnection","getVisual","getChildren","angle","setTranslate","rotate","setRotate","setScale","GraphicsFactory","siblingNode","_getChildrenContainer","childrenGfx","visual","_createContainer","outerGfx","updateContainments","parents","hidden","__depends__","DrawModule","canvas","elementFactory","bootstrap","bootstrapModules","components","hasModule","visit","addModule","createInjector","CoreModule","Diagram","destroy","diRefs","DRDTreeWalker","deferred","visitIfDi","logError","handleDiagramElement","diagramElement","registerDi","dmnElement","dmnElementRef","handleDefinitions","diagram","dmnDI","diagrams","handleDiagram","diagramElements","handleRequirements","requirements","requirement","handleArtifacts","handleAssociation","importDRD","drd","importer","render","visitor","DrdTreeWalker","DrdRenderer","pathMap","textRenderer","markers","initMarkers","createMarker","strokeLinecap","svgCreate","viewBox","refX","refY","markerWidth","markerHeight","orient","defs","associationStart","associationEnd","informationRequirementEnd","knowledgeRequirementEnd","authorityRequirementEnd","cx","cy","drawRect","rx","ry","renderLabel","createText","renderEmbeddedLabel","align","padding","drawPath","handlers","pathData","knowledgeSource","getScaledPath","xScaleFactor","yScaleFactor","containerWidth","containerHeight","mx","my","businessKnowledge","textElement","getSemantic","semantic","drawLine","strokeLinejoin","associationDirection","markerEnd","markerStart","DEFAULT_BOX_PADDING","DEFAULT_LABEL_SIZE","parseAlign","horizontal","vertical","parsePadding","getTextBBox","fakeText","textBBox","emptyLine","layoutNext","lines","maxWidth","originalLine","fitLine","fit","shortenLine","remainder","semanticShorten","maxLength","part","shortenedParts","shortenedLine","getHelperSvg","helperSvg","Text","_config","getLineHeight","lineHeight","fontSize","layoutText","getDimensions","dimensions","fitBox","layouted","helperText","totalHeight","maxLineWidth","tspan","TextRenderer","DEFAULT_FONT_SIZE","LINE_HEIGHT_RATIO","MIN_TEXT_ANNOTATION_HEIGHT","defaultStyle","fontFamily","fontWeight","externalStyle","textUtil","TextUtil","getExternalLabelBounds","bounds","layoutedDimensions","getTextAnnotationBounds","getDefaultStyle","getExternalStyle","PathMap","widthElements","heightElements","getRawPath","pathId","param","rawPath","abspos","coordinates","heightRatio","widthRatio","heightIndex","widthIndex","tokenRegex","objNotationRegex","replacer","res","quote","quotedName","isFunc","drdRenderer","DrdImporter","_canvas","_elementFactory","elementData","collectWaypoints","edge","waypoint","getIdFromHref","elementDefinition","_getSource","_getTarget","elementReference","sourceRef","requiredDecision","requiredInput","requiredKnowledge","requiredAuthority","_getShape","targetRef","drdImporter","ImportModule","template","replacements","__stopPropagation","getOriginal","originalEvent","srcEvent","immediate","toPoint","pointers","isMac","platform","isPrimaryButton","button","hasPrimaryModifier","metaKey","ctrlKey","hasSecondaryModifier","shiftKey","allowAll","LOW_PRIORITY","InteractionEvents","isIgnored","localEventName","ignoredFilters","mouseHandler","bindings","contextmenu","dblclick","mousedown","mousemove","mouseover","mouseout","mouseup","ELEMENT_SELECTOR","registerEvent","localEvent","ignoredFilter","$delegate","domDelegate","unregisterEvent","unregisterEvents","registerEvents","createDefaultHit","updateDefaultHit","STROKE_HIT_STYLE","createHitStyle","CLICK_STROKE_HIT_STYLE","HIT_TYPES","ALL_HIT_STYLE","classNames","applyStyle","hit","appendHit","removeHits","hits","svgRemove","boxType","createWaypointsHit","createBoxHit","triggerMouseEvent","eventName","targetElement","interactionEvents","Outline","OUTLINE_STYLE","createOutline","updateShapeOutline","updateConnectionOutline","Selection","_selectedElements","deselect","selectedElements","oldSelection","newSelection","isSelected","MARKER_HOVER","MARKER_SELECTED","SelectionVisuals","selection","_multiSelectionBox","SelectionBehavior","canExecute","autoSelect","hints","isShown","hover","previousSelection","selectedShape","isMultiSelect","InteractionEventsModule","OutlineModule","selectionVisuals","selectionBehavior","IdGenerator","_counter","_prefix","Overlays","_ids","_overlayDefaults","defaults","_overlays","_overlayContainers","_overlayRoot","setPosition","setVisible","visible","setTransform","_getOverlayContainer","overlays","overlay","_addOverlay","htmlContainer","_updateOverlayContainer","_updateOverlay","_createOverlayContainer","_updateRoot","raw","overlayContainer","_updateOverlayVisibilty","minZoom","maxZoom","_updateOverlayScale","shouldScale","minScale","maxScale","_updateOverlaysVisibilty","updateViewbox","DefinitionPropertiesView","HTML_MARKUP","nameElement","idElement","PaletteAdapter","twoColumn","definitionPropertiesView","definitionPropertiesPaletteAdapter","DrillDown","PROVIDERS","decisionLogic","_injector","enabled","addOverlay","overlayId","bindEventListener","overlaysRoot","drillDown","getView","OverlaysModule","BPMNIO_LOGO_SVG","BPMNIO_IMG","css","LINK_STYLES","lightbox","LIGHTBOX_STYLES","BACKDROP_STYLES","NOTICE_STYLES","LIGHTBOX_MARKUP","addProjectLogo","linkMarkup","linkElement","openPoweredBy","saveSVG","contentNode","defsNode","contents","outerHTML","getModules","_modules","additionalOptions","baseModules","diagramOptions","TranslateModule","SelectionModule","DefinitionPropertiesModule","DrillDownModule","log10","getStepSize","range","minLinearRange","maxLinearRange","absoluteLinearRange","cap","sign","RANGE","NUM_STEPS","DELTA_THRESHOLD","DEFAULT_SCALE","ZoomScroll","_enabled","_handleWheel","_totalDelta","_scale","reset","stepSize","_zoom","isZoom","isHorizontalScroll","factor","deltaMode","elementRect","pow","deltaY","deltaX","stepZoom","direction","currentLinearZoomLevel","newLinearZoomLevel","newLogZoomLevel","newEnabled","handleWheel","oldEnabled","zoomScroll","CURSOR_CLS_PATTERN","unset","TRAP_PRIORITY","install","trap","THRESHOLD","MoveCanvas","handleMove","dragging","lastPosition","handleStart","altKey","moveCanvas","exportName","VENDOR_PREFIXES","TEST_ELEMENT","TYPE_FUNCTION","setTimeoutContext","bindFn","invokeArrayArg","each","deprecate","deprecationMessage","nextKey","dest","inherit","base","baseP","childP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","splitStr","removeEventListeners","hasParent","inStr","inArray","findByKey","uniqueArray","results","prefixed","camelProp","_uniqueId","getWindowForElement","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","inputHandler","input","pointersLen","changedPointersLen","changedPointers","isFinal","session","computeInputData","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","getCenter","timeStamp","deltaTime","getAngle","distance","getDistance","computeDeltaXY","offsetDelta","prevDelta","prevInput","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","rotation","getRotation","maxPointers","computeIntervalInputData","velocity","velocityX","velocityY","lastInterval","getScale","recognize","p1","p2","atan2","PI","evEl","evTarget","evWin","MOUSE_INPUT_MAP","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","changed","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","TouchMouseInput","mouse","primaryTouch","lastTouches","setLastTouch","eventData","lastTouch","lts","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","recordTouches","isSyntheticEvent","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","touchMap","cssSupports","CSS","supports","TouchAction","compute","actions","touchAction","cleanTouchActions","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","Recognizer","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","preset","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","process","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","STATE_FAILED","taps","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","createInputInstance","oldCssProps","toggleCssProps","curRecognizer","triggerDomEvent","gestureEvent","gesture","Tap","Pan","Swipe","Pinch","Rotate","Press","amd","exports","MIN_ZOOM","MAX_ZOOM","mouseEvents","service","stopEvent","stopImmediatePropagation","createTouchRecognizer","allowMouse","stopMouse","tap","pan","press","pinch","doubleTap","TouchInteractionEvents","move","contextPad","palette","getGfx","initEvents","startGrab","startGrabCanvas","lx","ly","startZoom","mid","ratio","newZoom","elementFromPoint","hoverGfx","padRecognizer","pad","trigger","TouchFix","addBBoxMarker","markerStyle","class","rect1","rect2","touchInteractionEvents","touchFix","TouchModule","NavigatedViewer","_navigationModules","sortTopOrMiddle","sortLeftOrCenter","ALIGNMENT_SORTING","middle","AlignElements","modeling","_modeling","_getOrientationDetails","axis","dimension","_isType","_alignmentPosition","sortedElements","orientation","centeredElements","firstElement","lastElement","alignment","centers","hasSharedCenters","getMiddleOrTop","host","labelTarget","sortFn","alignElements","pointDistance","pointsOnLine","accuracy","dist","ALIGNED_THRESHOLD","pointsAligned","pointsAlignedHorizontally","pointsAlignedVertically","firstPoint","pointInRect","tolerance","getMidPoint","roundBounds","roundPoint","asTRBL","asBounds","trbl","getMid","getOrientation","rectOrientation","referenceOrientation","getElementLineIntersection","elementPath","linePath","cropStart","intersections","getIntersections","t2","segment2","filterRedundantWaypoints","previousPoint","nextPoint","PLACEMENT_DETECTION_PAD","DEFAULT_DISTANCE","DEFAULT_MAX_DISTANCE","findFreePosition","getNextPosition","connectedAtPosition","getConnectedAtPosition","generateGetNextPosition","nextPositionDirection","previousPosition","nextPosition","nextPositionDirectionForAxis","margin","minDistance","getAutoPlaceClosure","getConnectedDistance","defaultDistance","getWeight","getDefaultWeight","maxDistance","noneFilter","sourcesDistances","weight","targetsDistances","distances","accumulator","currentValue","distancesGrouped","allConnected","getConnected","attachers","shapes","attacher","getTargets","getSources","AutoPlace","getNewShapePosition","newShape","appendShape","sourceMid","AutoPlaceSelectionBehavior","autoPlace","autoPlaceSelectionBehavior","BUSINESS_KNOWLEDGE_MODEL_SIZE","DECISION_SIZE","INPUT_DATA_SIZE","KNOWLEDGE_SOURCE_SIZE","drdFactory","_drdFactory","BaseElementFactory","baseCreate","createDrdElement","createDiEdge","createDiShape","_getDefaultSize","DRG_ELEMENT_MARGIN","DRG_ELEMENT_ROW_SIZE","getTextAnnotationPosition","getDRGElementPosition","sourceTrbl","verticalDistance","generateGetNextDRGElementPosition","getHorizontalDistance","connectedAtPositionLeft","connectedAtPositionRight","connectedAtPreviousPosition","AutoPlaceModule","dmnAutoPlace","DmnAutoPlace","DRAG_ACTIVE_CLS","isTouchEvent","TouchEvent","getLength","Dragging","defaultOptions","trapClick","toLocalPoint","globalPosition","clientRect","dragContext","payload","activate","displacement","globalStart","globalCurrent","globalDelta","localStart","localCurrent","localDelta","cancel","keepSelection","cursor","previousContext","cleanup","checkCancel","trapClickAndEnd","untrap","trapTouch","restore","wasActive","endDrag","restoreSelection","existingSelection","relativeTo","manual","autoActivate","setOptions","HIGH_PRIORITY","HoverFix","ensureHover","_findTargetGfx","setDragHover","unsetHover","ensureOut","hoverFix","AutoScroll","_opts","scrollThresholdIn","scrollThresholdOut","scrollRepeatTimeout","scrollStep","_toBorderPoint","startScroll","stopScroll","between","opts","diff","_scrolling","DraggingModule","autoScroll","Rules","_commandStack","allowed","commandStack","rules","circlePath","segments","INTERSECTION_THRESHOLD","getBendpointIntersection","bendpoint","getPathIntersection","getApproxIntersection","BENDPOINT_CLS","SEGMENT_DRAGGER_CLS","toCanvasCoordinates","getConnectionIntersection","localPosition","intersection","addBendpoint","parentGfx","groupGfx","createParallelDragger","segmentStart","segmentEnd","draggerGfx","hitWidth","calculateHitWidth","addSegmentDragger","calculateSegmentMoveRegion","segmentLength","segmentLengthXAxis","segmentLengthYAxis","HTML_ESCAPE_MAP","escapeHTML","Bendpoints","bendpointMove","connectionSegmentMove","activateBendpointMove","isIntersectionMiddle","treshold","p0","aligned","xDelta","yDelta","calculateIntersectionThreshold","relevantSegment","bindInteractionEvents","getBendpointsContainer","getSegmentDragger","createBendpoints","createSegmentDraggers","segmentDraggerGfx","addHandles","updateHandles","clearSegmentDraggers","clearBendpoints","bendpointsGfx","updateFloatingBendpointPosition","floating","updateSegmentDraggerPosition","draggerVisual","relativePosition","getDraggerVisual","primary","bendpointContainer","RECONNECT_START","RECONNECT_END","UPDATE_WAYPOINTS","BendpointMove","bendpointIndex","command","connectionGfx","newWaypoints","docking","cropWaypoints","updateWaypoints","isReverse","reconnect","connectionDocking","getCroppedWaypoints","MARKER_OK","MARKER_NOT_OK","MARKER_CONNECT_HOVER","MARKER_CONNECT_UPDATING","MARKER_ELEMENT_HIDDEN","BendpointMovePreview","connectionPreview","drawPreviewHints","connectionStart","connectionEnd","noCropping","noLayout","drawPreview","cleanUp","axisAdd","axisSet","axisFenced","maxValue","minValue","flipAxis","getDocking","referenceElement","moveAxis","referenceMid","inverseAxis","ConnectionSegmentMove","cropConnection","oldWaypoints","croppedWaypoints","redrawConnection","dragPosition","segmentStartIndex","segmentEndIndex","originalWaypoints","sourceToSegmentOrientation","targetToSegmentOrientation","newSegmentStart","newSegmentEnd","waypointCount","segmentOffset","updateDragger","draggerPosition","newSegmentStartIndex","segmentMove","snapTo","snapValue","topLeft","topRight","bottomLeft","bottomRight","defaultValue","isSnapped","snapped","setSnapped","previousValue","TOLERANCE","BendpointSnapping","rem","sx","sy","snapPoints","getConnectionSegmentSnaps","referenceWaypoints","getBendpointSnaps","hoverMid","RulesModule","bendpoints","bendpointMovePreview","bendpointSnapping","entrySelector","ContextPad","_overlaysConfig","_current","addClasses","close","isOpen","current","registerProvider","getEntries","_getProviders","entriesOrUpdater","getContextPadEntries","_updateAndOpen","getPad","grouping","control","imageUrl","overlaysConfig","_overlayId","Connect","canConnect","connect","ConnectPreview","startPosition","connectPreview","MARKER_TYPES","NODES_CAN_HAVE_MARKER","PreviewSupport","_styles","_clonedMarkers","clonedMarker","getMarker","markerType","referenceToId","idToReference","canHaveMarker","addDragger","dragger","_cloneMarkers","addFrame","frame","_cloneMarker","markerId","clonedMarkerId","previewSupport","MARKER_ATTACH","MARKER_NEW_PARENT","PREFIX","Create","setMarker","ensureConstraints","canCreate","isLabel","isConnection","attach","isSingleShape","connectionTarget","targetParent","targetAttach","createElements","createConstraints","CreatePreview","defaultLayer","dragGroup","createDragGroup","PreviewSupportModule","createPreview","DATA_REF","CLOSE_EVENTS","PopupMenu","providerId","_getEntries","headerEntries","_getHeaderEntries","hasEntries","hasHeaderEntries","_createEntries","_attachContainer","_bindAutoClose","_unbindAutoClose","entryId","_getEntry","getPopupMenuEntries","getPopupMenuHeaderEntries","getHeaderEntries","visibility","_updateScale","_assureIsInbounds","scaleConfig","containerX","containerY","scrollHeight","overAxis","cursorPosition","entriesContainer","entryContainer","_createEntry","entryClasses","popupMenu","Replace","replaceElement","oldElement","newElementData","centerX","centerY","replaceShape","DrdReplace","oldBusinessObject","newBusinessObject","table","typeRef","inputExpression","expression","variable","DiagramReplace","DiagramSelection","drdReplace","DECISION","actionName","ReplaceMenuProvider","_popupMenu","_drdReplace","_rules","_translate","replaceOptions","notEmpty","notTable","notExp","menuEntries","definition","_createMenuEntry","menuEntry","DiagramTranslate","DiagramPopupMenu","replaceMenuProvider","ContextPadProvider","_contextPad","_connect","_create","_autoPlace","startConnect","appendAction","appendStart","dragstart","getReplaceMenuPosition","Y_OFFSET","diagramContainer","diagramRect","padRect","pos","deleteAllowed","removeElement","removeElements","DiagramContextPad","DiagramConnect","DiagramCreate","contextPadProvider","MARKER_CONNECTION_PREVIEW","ConnectionPreview","_connectionDocking","_layouter","cacheReturnValues","returnValues","firstArgument","ensureConnectionAttrs","connectionPreviewGfx","getConnection","noNoop","createConnectionPreviewGfx","layoutConnection","drawNoopPreview","createNoopConnection","sourcePath","targetPath","DefinitionIdEdit","DEBOUNCE_DELAY","_setup","newProperties","updateProperties","getSelection","removeAllRanges","definitionPropertiesEdit","DefinitionPropertiesEdit","AXIS_DIMENSIONS","DistributeElements","_filters","registerFilter","elementsSize","avgDimension","numOfShapes","filterFn","distributableElements","_setOrientation","_filterElements","_createGroups","distributeElements","_axis","_dimension","filters","rangeGroups","elementRange","_findRange","previous","_hasIntersection","rangeA","rangeB","DrdDistributeElements","cannotDistribute","DistributeElementsModule","drdDistributeElements","NOT_REGISTERED_ERROR","IS_REGISTERED_ERROR","EditorActions","_actions","_registerDefaultActions","editorActions","copyPaste","keyboardMove","keyboardMoveSelection","undo","redo","copy","paste","removableElements","moveSelection","accelerated","_registerAction","isRegistered","unregister","getActions","DrdEditorActions","lassoTool","directEditing","rootElement","currentSelection","EditorActionsModule","containsDi","hasDi","DiGenerator","drdUpdater","createDi","updateDiParent","diGenerator","hasModifier","isCmd","isKey","isShift","SPACING","quantize","quantum","LOWER_PRIORITY","GridSnapping","setActive","gridSnappingContext","snapOffset","getSnapOffset","snapConstraints","getSnapConstraints","snapEvent","resizeConstraints","isHorizontal","minResizeConstraints","maxResizeConstraints","isWest","isNorth","snapLocation","snappedValue","getGridSpacing","isActive","toggleActive","CommandInterceptor","unwrapEvent","hook","handlerFn","fullEvent","hooks","ResizeBehavior","gridSnapping","_gridSnapping","preExecute","autoResize","newBounds","snapComplex","snapSimple","directions","snapHorizontally","snapVertically","west","east","snappedNewBounds","north","south","SpaceToolBehavior","initialized","gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior","GridSnappingBehaviorModule","KEYDOWN_EVENT","KEYUP_EVENT","Keyboard","_keydownHandler","_keyupHandler","_fire","bindTo","contentEditable","_keyHandler","keyEvent","_node","getBinding","removeListener","KEYCODE_C","KEYCODE_V","KEYCODE_Y","KEYCODE_Z","KEYS_COPY","KEYS_PASTE","KEYS_REDO","KEYS_UNDO","KeyboardBindings","keyboard","registerBindings","keyboardBindings","DrdKeyboardBindings","KeyboardModule","DEFAULT_CONFIG","moveSpeed","moveSpeedAccelerated","KeyboardMove","arrowsListener","speed","actualSpeed","HIGHER_PRIORITY","UP","DOWN","KEY_TO_DIRECTION","ArrowLeft","Left","ArrowUp","Up","ArrowRight","Right","ArrowDown","Down","DIRECTIONS_DELTA","up","down","KeyboardMoveSelection","moveElements","CommandStack","_handlerMap","_stackIdx","_currentExecution","dirty","execute","_pushAction","_internalExecute","_popAction","_getHandler","_getUndoAction","_internalUndo","_getRedoAction","_setHandler","registerHandler","handlerCls","canUndo","canRedo","_atomicDo","revert","_markDirty","_revertedAction","qualifier","_createId","execution","atomic","_executedAction","postExecute","baseAction","stackIdx","ChangeSupport","changeSupport","isTextNode","TEXT_NODE","nodeList","TextBox","keyHandler","resizeHandler","handlePaste","parentStyle","maxHeight","minWidth","minHeight","backgroundColor","border","boxSizing","wordWrap","textAlign","contentStyle","centerVertically","innerText","resizable","setSelection","clipboardData","getData","insertText","hasResized","execCommand","_insertTextIE","startContainer","endContainer","startOffset","endOffset","commonAncestorContainer","childNodesArray","containerTextContent","textNode","startContainerChildIndex","endContainerChildIndex","childNode","resizeHandle","startX","startY","startWidth","startHeight","onMouseDown","onMouseMove","newWidth","newHeight","onMouseUp","borderTop","borderRight","borderBottom","borderLeft","getValue","getRangeAt","createRange","selectNodeContents","setStart","setEnd","addRange","DirectEditing","_textbox","_handleKey","_handleResize","_active","containerBounds","previousBounds","$textbox","newText","charCode","getLabelAttr","getLabel","setLabel","isExternal","LabelEditingProvider","_textRenderer","isEmptyText","editingBBox","getEditingBBox","defaultFontSize","defaultLineHeight","paddingTop","paddingBottom","paddingLeft","paddingRight","activeContextText","updateLabel","DiagramCommand","DiagramChangeSupport","DiagramDirectEditing","labelEditingProvider","CreateConnectionBehavior","connectionBo","getRequirementType","LayoutConnectionBehavior","layouter","updateInformationRequirements","informationRequirements","incomingInformationRequirementsByOrientation","getInformationRequirementsByOrientation","connectionStartEnd","getConnectionsStartEnd","sortInformationRequirements","informationRequirement","newSource","newTarget","getConnectionHints","postExecuted","incomingOrientation","isSameOrientation","incomingInformationRequirements","targetTrbl","orientationA","orientationB","ReplaceConnectionBehavior","ReplaceElementBehaviour","oldShape","unclaimId","ID","IdChangeBehavior","executed","updateIds","oldProperties","shouldSkipUpdate","getDefinitions","updateElementReferences","artifact","updateAssociationReferences","isIdChange","oldId","authorityRequirement","knowledgeRequirement","createConnectionBehavior","idChangeBehavior","layoutConnectionBehavior","replaceConnectionBehavior","replaceElementBehavior","ReplaceElementBehavior","RuleProvider","addRule","DrdRules","canMove","DiagramRulesModule","drdRules","DrdFactory","_model","_needsId","_ensureId","nextPrefixed","createDiBounds","createDiWaypoints","createDiWaypoint","createExtensionElements","DrdUpdater","_definitionPropertiesView","_drdRules","updateParent","reverseUpdateParent","oldParent","newParent","updateBounds","updateConnectionWaypoints","cropped","reverted","targetBo","updateSemanticParent","newTargetBo","oldTargetBo","oldTarget","parentBo","containment","parentDi","AppendShapeHandler","existsConnection","CreateConnectionHandler","CreateElementsHandler","createShapeHints","CreateShapeHandler","positionOrBounds","CreateLabelHandler","originalExecute","ensureValidDimensions","originalRevert","DeleteConnectionHandler","DeleteElementsHandler","saveClear","removeFn","DeleteShapeHandler","nested","oldParentIndex","OFF_AXIS","updateRange","lastIdx","rangeDiff","firstGroup","spaceInBetween","lastGroupIdx","lastGroup","groupsSize","refElem","refCenter","centerElement","groupIdx","prevGroup","LayoutConnectionHandler","MoveConnectionHandler","newParentIndex","getNewAttachPoint","oldBounds","oldCenter","newCenter","oldDelta","newDelta","getNewAttachShapeDelta","shapeCenter","shapeDelta","oldCenterDelta","stickyPositionDelta","getStickyPositionDelta","newCenterDelta","newShapeCenter","oldShapeCenter","oldTRBL","newTRBL","isMoved","oldOrientation","newOrientation","isHorizontallyMoved","isVerticallyMoved","getResizedSourceAnchor","safeGetWaypoints","waypointsInsideNewBounds","getWaypointsInsideBounds","oldAnchor","getResizedTargetAnchor","getMovedSourceAnchor","moveDelta","getMovedTargetAnchor","isInsideBounds","MoveClosure","addAll","newClosure","MoveHelper","moveRecursive","moveClosure","newHost","primaryShape","keepParent","moveShape","recurse","sourceMoved","targetMoved","moveConnection","MoveElementsHandler","_helper","MoveShapeHandler","moveChildren","getNewParent","ReconnectConnectionHandler","dockingOrPoints","oldSource","layoutConnectionHints","ReplaceShapeHandler","newData","canReconnect","updateAttachment","reconnectEnd","reconnectStart","dockingPoint","ResizeShapeHandler","minBounds","getWaypointsUpdatingConnections","movingShapes","resizingShapes","waypointsUpdatingConnections","resizeBounds","SpaceToolHandler","copyWaypoint","copyWaypoints","getAxisFromDirection","shouldMoveWaypoint","relevantAxis","getBounds","moveShapes","resizeShapes","resizeShape","attachSupport","connections","affectedShapes","layoutHints","labelBehavior","ToggleShapeCollapseHandler","getElementsVisibilityRecursive","setHiddenRecursive","newHidden","collapsed","restoreVisibilityRecursive","lastState","oldChildrenVisibility","UpdateAttachmentHandler","removeAttacher","addAttacher","oldHost","attacherIdx","UpdateWaypointsHandler","Modeling","registerHandlers","getHandlers","DistributeElementsHandler","AlignElementsHandler","connectionParent","createSpace","toggleCollapse","IdClaimHandler","claiming","unclaim","UpdateLabelHandler","setText","oldLabel","NAME","UpdatePropertiesHandler","getProperties","propertyNames","setProperties","BaseModeling","claimId","moddleElement","BaseLayouter","ADDITIONAL_WAYPOINT_DISTANCE","DrdLayouter","getConnectionDocking","additionalWaypoint","dockingToPoint","actual","CroppingConnectionDocking","sourceDocking","getDockingPoint","targetDocking","dockStart","dockingIdx","_getIntersection","takeFirst","_getShapePath","_getConnectionPath","_getGfx","ModelingBehavior","DefinitionPropertiesViewer","MEDIUM_PRIORITY","MoveEvents","referencePoint","removeNested","validatedShapes","isAttach","MARKER_DRAGGING","MovePreview","getAllDraggedElements","dragShapes","allDraggedElements","visuallyDraggedShapes","removeEdges","differentParents","haveDifferentParents","makeDraggable","Move","movePreview","TOGGLE_SELECTOR","ENTRY_SELECTOR","PALETTE_OPEN_CLS","PALETTE_TWO_COLUMN_CLS","Palette","tool","updateToolHighlight","_update","_diagramInitialized","_rebuild","addPaletteEntries","getPaletteEntries","parentContainer","_getParentContainer","_layoutChanged","_toggleState","_needsCollapse","_entries","availableHeight","isActiveTool","_activeTool","toolsContainer","_toolsContainer","toolClasses","ToolManager","_dragging","_tools","registerTool","tools","bindEvents","eventsToRegister","reactivate","toolManager","LASSO_TOOL_CURSOR","LassoTool","_selection","SVGElement","activateLasso","toBBox","activateSelection","ToolManagerModule","PaletteProvider","_palette","_lassoTool","createAction","createListener","DiagramPalette","DiagramLasso","paletteProvider","DEFAULT_CHILD_BOX_PADDING","substractTRBL","trblA","trblB","resizeTRBL","resize","reattachPoint","applyConstraints","currentBounds","currentTrbl","getMinResizeBounds","minDimensions","childrenBounds","currentBox","minBox","childrenBox","combinedBox","asPadding","mayBePadding","addPadding","isBBoxChild","computeChildrenBBox","shapeOrChildren","DEFAULT_MIN_WIDTH","Resize","computeMinResizeBox","canResize","boundsChanged","getReferencePoint","getCursor","contextOrDirection","childrenBoxPadding","MARKER_RESIZING","MARKER_RESIZE_NOT_OK","ResizePreview","updateFrame","removeFrame","HANDLE_OFFSET","HANDLE_SIZE","HANDLE_HIT_SIZE","CLS_RESIZER","ResizeHandles","_resize","removeResizers","addResizer","getHandleOffset","startResize","_createResizer","resizersParent","_getResizersParent","createResizer","resizer","resizePreview","resizeHandles","DrdBendpointSnapping","snapToSource","getConnectionEnd","getConnectionStart","snapToTarget","DrdConnectSnapping","SnapContext","_targets","_snapOrigins","_snapLocations","_defaultSnaps","SnapPoints","defaultSnaps","_snapValues","getSnapOrigin","setSnapOrigin","initialValue","addDefaultSnap","snapValues","getSnapLocations","setSnapLocations","snapLocations","pointsForTarget","targetId","initDefaults","snap","snappingValues","CreateMoveSnapping","snapping","initSnap","snapContext","addSnapTargetPoints","isHidden","shapeMid","shapeTopLeft","shapeBottomRight","snapTargets","getSnapTargets","snapTarget","ResizeSnapping","isVertical","snapOrigin","isAttached","SNAP_TOLERANCE","SNAP_LINE_HIDE_DELAY","Snapping","_asyncHide","snapCurrent","locationSnapping","originValue","showSnapLine","axisSnapping","_createLine","_createSnapLines","_snapLines","getSnapLine","snapLine","createMoveSnapping","resizeSnapping","SnappingModule","connectSnapping","Modeler","_modelingModules","AlignElementsModule","AutoScrollModule","BendpointsModule","ContextPadModule","ConnectPreviewModule","GenerateDiModule","GridSnappingModule","KeyboardMoveModule","KeyboardMoveSelectionModule","LabelEditingModule","ModelingModule","MoveModule","PaletteModule","ResizeModule","cols","Row","cells","Col","Cell","TYPES","cell","elementsChanged","oldRootId","newRootId","invoked","elementsLength","listenersLength","Components","existingListener","NO_OP","ERROR_MSG","isBrowser","isStringOrNumber","isNullOrUndef","isNull","isInvalid","isTrue","throwError","combineFrom","second","key$1","keyPrefix","getVNode","childFlags","flags","dom","parentVNode","createVNode","childFlag","vNode","normalizeChildren","createComponentVNode","defaultProps","defaultHooks","prop$1","optsVNode","createTextVNode","normalizeProps","directClone","vNodeToClone","newVNode","propsToClone","createVoidVNode","_normalizeVNodes","currentKey","newKey","oldKey","isPrefixedKey","getFlagsForElementVnode","newChildren","newChildFlags","isFrozen","isNullDom","isNullKey","isPrefixed","$","afterMount","afterRender","afterUpdate","beforeRender","beforeUnmount","roots","linkEvent","xlinkNS","xmlNS","svgNS","EMPTY_OBJ","LIFECYCLE","parentDom","insertOrAppend","nextNode","documentCreateElement","isSVG","newDom","lastDom","callAll","arrayFn","attachedEventCounts","attachedEvents","handleEvent","nextEvent","eventsLeft","eventsObject","$EV","attachEventToDocument","normalizeEventName","dispatchEvents","isClick","currentEvent","immediatePropagationStopped","docEvent","isSameInnerHTML","tempdom","isSamePropsInnerHTML","dangerouslySetInnerHTML","__html","triggerEventListener","methodName","nativeListenerName","createWrappedFunction","applyValue","fnMethod","$V","newProps","isCheckedType","onTextInputChange","applyValueInput","wrappedOnChange","emptywrapper","inputEvents","nextPropsOrEmpty","onchange","onclick","oninput","multiple","hasValue","updateChildOptionGroup","updateChildOption","selected","wrapped","onSelectChange","applyValueSelect","selectEvents","mounting","multiplePropInBoolean","onTextareaInputChange","applyValueTextArea","wrappedOnChange$1","textAreaEvents","onChange","domValue","processElement","isControlled","addFormElementEventHandlers","isControlledFormElement","unmount","unmountAllChildren","ref$1","componentWillUnmount","$UN","$LI","onComponentWillUnmount","children$1","removeAllChildren","createLinkEvent","nextValue","patchEvent","lastValue","nameLowerCase","domEvent","getNumberStyleValue","patchStyle","lastAttrValue","nextAttrValue","domStyle","cssText","patchProp","hasControlledValue","lastVNode","lastHtml","nextHtml","mountProps","isFormElement","createClassComponentInstance","$BS","componentWillMount","$BR","$PSS","pending","$PS","childContext","handleComponentInput","getChildContext","$CX","componentVNode","mount","lifecycle","mountElement","mountComponent","mountText","childrenIsSVG","mountArrayChildren","mountRef","mountClassComponentCallbacks","$UPD","mountFunctionalComponentCallbacks","createClassMountCallback","hasAfterMount","hasDidMount","componentDidMount","createOnMountCallback","onComponentDidMount","onComponentWillMount","hydrateComponent","hydrateVNode","input$1","hydrateElement","hydrateText","hydrate","replaceWithNewNode","lastNode","patch","nextVNode","nextFlags","patchElement","patchComponent","patchText","patchPortal","lastContainer","nextContainer","nextChildren","patchChildren","nextTag","lastProps","nextProps","lastPropsOrEmpty","lastChildren","nextRef","lastClassName","nextClassName","lastChildFlags","nextChildFlags","parentDOM","lastLength","nextLength","patchKeyedChildren","patchNonKeyedChildren","updateClassComponent","fromSetState","renderOutput","componentWillReceiveProps","hasSCU","shouldComponentUpdate","componentWillUpdate","didUpdate","componentDidUpdate","nextType","lastKey","shouldUpdate","nextHooks","nextHooksDefined","lastInput","onComponentShouldUpdate","onComponentWillUpdate","nextInput","onComponentDidUpdate","nextText","lastChildrenLength","nextChildrenLength","commonLength","nextChild","aLength","bLength","aEnd","nextPos","bEnd","aStart","bStart","aNode","bNode","aLeft","bLeft","canRemoveWholeContent","moved","patched","keyIndex","lis_algorithm","u","arrI","documentBody","rootLen","rootInput","createRenderer","createPortal","resolvedPromise","fallbackMethod","nextTick","queueStateChanges","stateKey","queue","$QU","promiseCallback","applyState","pendingState","forceUpdate","setState","nextContext","JSX","freeze","TableComponent","_sheet","_changeSupport","_components","onElementsChanged","getRoot","offElementsChanged","beforeTableComponents","getComponents","afterTableComponents","Head","getComponent","Body","Foot","Renderer","renderer","Sheet","setRoot","oldRoot","addAtIndex","removeAtIndex","renderModule","sheet","Table","core","elementToString","TableTreeWalker","handleClauses","clauses","handleEntry","handleDecision","decision","rule","inputEntry","outputEntry","importDecision","decisionTable","hasModeling","clause","parentShape","canAddMissingEntries","newSet","inject","injectType","annotation","setupFn","fns","mixinDef","mixinFn","componentFn","__init","SelectionAware","getSelectionClasses","selectedSecondary","focussed","selectionChanged","elementId","updateSelectionSubscription","oldProps","BaseCell","coords","baseProps","HeaderCell","getRenderProps","DiContainer","ComponentWithSlots","slotFill","slotProps","DefaultFill","Fill","slotFills","fills","AnnotationHeader","MIN_WIDTH","cellType","AnnotationCell","description","AnnotationsProvider","onGetComponent","annotationsProvider","TableImporter","createCol","addCol","createCell","createRow","addRow","tableImporter","importModule","DecisionTableHead","inputs","outputs","inputsLength","DefaultInputHeaderCell","outputsLength","DefaultOutputHeaderCell","inputValues","actualClassName","outputValues","DecisionTableHeadProvider","decisionTableHeadProvider","DecisionTablePropertiesComponent","HitPolicy","NullComponent","DecisionTableProperties","decisionTableProperties","DecisionRulesIndexCellComponent","rowIndex","innerComponents","InnerComponent","DecisionRuleIndices","DecisionRuleIndexCellComponent","decisionRuleIndices","ExpressionLanguages","EXPRESSION_LANGUAGE_OPTIONS","editor","legacyDefaults","_getLegacyDefaults","componentName","defaultFromConfig","_getLanguageByValue","expressionLanguageValue","langauge","inputCellValue","outputCellValue","inputCell","outputCell","language","expressionLanguages","DecisionRulesBodyComponent","RowComponent","rowType","DecisionRulesRowComponent","colIndex","DecisionRulesCellComponent","ExpressionLanguagesModule","decisionRules","DecisionRules","HIT_POLICIES","hitPolicy","aggregation","explanation","hitPolicyEntry","isEqualHitPolicy","HitPolicyProvider","hitPolicyProvider","ViewDrdComponent","onClick","ViewDrd","canViewDrd","viewDrd","Logo","PoweredByLogoComponent","PoweredByOverlayComponent","onShow","PoweredBy","poweredBy","_decision","extraModules","staticModules","PoweredByModule","_getModules","annotationsModule","coreModule","decisionTableHeadModule","decisionTablePropertiesModule","decisionRuleIndicesModule","decisoinRulesModule","hitPolicyModule","viewDrdModule","AddRuleFootComponent","placeholder","handleClick","AddRule","_renderer","EVENTS","findClosestCell","_addEventListeners","_removeEventListeners","_handleEvent","domClosest","componentXor","xor","globals","componentProps","ret","domIterator","peeked","closingTag","_revisit","_selects","_rejects","higher","traverse","dir","expr","compile","closing","revisit","selects","rejects","opening","atOpening","atClosing","exprs","peak","use","applyRange","getWindowSelection","rangeCount","focusNode","isText","setRange","getRange","selectionStart","isClosing","isBeforeEnd","referenceNode","isBeforeStart","isBr","isDiv","isParagraph","annotateRange","setStartAfter","setStartBefore","setEndAfter","setEndBefore","previousSibling","SELECTABLE_SELECTOR","getElementId","getElementCoords","coordsAttr","getNodeByCoords","elementCoords","cssEscape","getNodeById","isUnselectableNode","findSelectableAncestor","getFocusableNode","ensureFocus","focusEl","activeElement","VALID_DIRECTIONS","above","below","CellSelection","lastSelection","realSelect","selectableNode","unfocus","actualElement","oldElementId","isCellSelected","getCellSelection","selectCell","selectionEl","nextCoords","getNextCoords","nextElId","cellSelection","Clipboard","_data","clipboard","DecisionTableModelingRules","canPasteRows","canPasteCols","cellDescriptor","targetCol","decisionTableModelingRules","CutHandler","_clipboard","oldData","removeRow","removeCol","createHooks","copyTableProperties","copyBusinessObjectProperties","reviveHooks","reviveBusinessObject","reviveTableElement","createDescriptor","createDescriptors0","createDescriptor0","currentCache","descriptorCache","currentDescriptors","existingDescriptor","element0","evaluateHooks","newDesc","cells0","bo0","createBoDescriptor","boCache","existingBoDesc","value0","reviveDescriptor","reviveCache","reviveDescriptors0","reviveDescriptor0","descriptors","existingElement","evaluateReviveHooks","revive","createCache","elementAttrs","Constructor","getConstructor","createBo","boDescriptor","existingBo","newBoAttrs","val0","_keepIds","assigned","newBo","_dmnFactory","newBoAttr","PasteHandler","dmnFactory","keepIds","oldElements","CutPaste","_paste","before","ClipboardModule","copyCutPaste","CopyCutPaste","DecisionTableEditorActions","addRuleAbove","hasSelection","addRuleBelow","removeRule","addInput","addInputLeft","addInputRight","removeInput","addOutput","addOutputLeft","addOutputRight","removeOutput","addClause","addClauseLeft","addClauseRight","removeClause","selectCellAbove","selectCellBelow","cut","pasteBefore","pasteAfter","moveRow","moveCol","decisionTableEditorActions","ContentEditable","propsFocus","onFocus","propsBlur","onBlur","ctrlForNewline","singleLine","insertLineBreak","onInput","propsInput","onInputIEPolyfill","isIE","oldText","newRange","selectionUpdate","escapeHtml","getClassName","onKeypress","onPaste","onKeydown","brTag","cloneRange","br","deleteContents","insertNode","ua","EditableComponent","changing","debounceInput","inputChanged","getDisplayValue","EditableAnnotationCell","editAnnotation","setAnnotationValue","AnnotationEditor","getEditor","AnnotationsEditingProvider","DEFAULT_DEBOUNCE_TIME","shouldDebounce","debounceTime","DebounceInput","ContextMenuComponent","autoFocus","autoClose","triggerClose","ContextMenu","checkClose","updatePosition","onClose","focusTarget","onFocusChanged","onGlobalKey","onGlobalMouseDown","scrollX","clampNumber","scrollY","setNode","SELECTABLE_ELEMENTS","contextMenu","modifiers","CopyPasteKeyBindings","_getSelectedCell","_editorActions","pasted","_cellSelection","_keyboard","_registerBindings","_clearClipboard","focusableNode","CellSelectionModule","copyCutPasteKeyBindings","CopyCutPasteKeyBindings","CreateInputsHeaderCell","CreateInputsCell","CreateInputsProvider","createInputsProvider","_contextMenu","contextMenuType","additionalCellEntries","isCell","cellEntriesGroup","pageX","pageY","canPaste","canRemove","ContextMenuCloseBehavior","COMMANDS","TableContextMenu","ModelingRules","decisionTableContextMenu","contextMenuCloseBehavior","OutputCell","onContextmenu","onKeyDown","onKeyUp","OutputEditor","noopTranslate","setName","handleChange","changes","OutputCellContextMenu","unsaved","persistChanges","OutputEditingProvider","getOffset","domMatches","InputCell","InputSelect","setOptionsVisible","optionsVisible","focusInput","code","keycode","_portalEl","onGlobalClick","onKeyboard","removePortalEl","addPortalEl","inputNode","optionsBounds","getOptionsBounds","containerTop","containerLeft","inputTop","inputLeft","nextIdx","nextOption","activeOption","onOptionClick","noInput","renderOptions","onInputClick","InputEditor","defaultExpressionLanguage","setExpressionLanguage","expressionLanguage","handleValue","isMultiLine","handleLanguageChange","handleLabelChange","handleInputVariableChange","inputVariable","InputCellContextMenu","inputExpressionProperties","hasKeys","_expressionLanguages","defaultLanguage","getDefault","InputCellProvider","TypeRefCellContextMenu","getElement","typeRefOptions","onTypeChange","TypeRef","typeRefEditingProvider","TypeRefEditingProvider","AllowedValuesUpdateBehavior","actualProperties","editAllowedValues","RADIO","REMOVE_BTN_CLS","removeItem","toggleItem","newItems","isChecked","labelComponent","groupedItems","asPairs","toPairs","pair","groupTitle","groupItems","getToggleClickHandler","isRemovable","getRemoveClickHandler","entrys","ValidatedInput","validationWarning","parentClasses","inputClasses","parseString","isEmptyString","openString","getValuesArray","AllowedValuesEditing","getAllowedValuesTarget","setPredefinedValues","inputValue","isEnter","parsedString","onListChange","isCheckable","removePredefinedValues","handleRemovePredifinedValuesClick","InputOutputValues","allowedValuesUpdateBehavior","allowedValuesEditingProvider","AllowedValuesEditingProvider","AddInput","AddOutput","AddInputOutputProvider","addInputOutputProvider","_registerDefaultBindings","selectedCell","isDecisionNameCell","listenerFn","AddInputOutput","TypeRefEditing","inputEditingProvider","InputEditingProvider","outputEditingProvider","TARGET_SELECTOR","DragAndDrop","targetEl","cellEl","hoverEl","_dragContext","dataTransfer","dropEffect","draggedElement","handleDragEnd","_unbindListeners","handleDragOver","handleDrop","effectAllowed","setData","_bindListeners","dragAndDrop","removeHighlight","removeFadeOut","_dragImage","_dragAndDrop","startDrag","dropIndex","getTargetColIndex","newPosition","getVerticalPosition","getHorizontalPosition","highlightRow","highlightCol","verticalPosition","rowId","dataset","targetRow","getTargetRow","horizontalPosition","colId","getTargetCol","_cleanup","setDragImage","fadeOutRow","fadeOutCol","dragOverCell","domQueryAll","isNode","dragOverElement","draggedRow","getRowBelow","getRowAbove","draggedCol","getColRight","getColLeft","firstOutput","firstOutputIndex","lastInputIndex","dmnDragAndDrop","DmnDragAndDrop","DescriptionEditor","_element","changeDescription","Editor","OFFSET_X","Description","getPosition","getDescription","existingDescription","removeDescription","addDescription","ContextMenuModule","InteractionModule","ExpressionLanguage","openMenu","clickEvent","editExpressionLanguage","editDecisionTableName","setupChangeListeners","resetScroll","setDecisionTableName","DecisionTableName","DecisionTablePropertiesEditor","EditableHitPolicy","editHitPolicy","HitPolicyEditingProvider","DmnUpdater","ifDmn","updateRoot","oldTable","oldRules","oldIdx","newTable","newIdx","wireCell","collectionIdx","cel","rowIdx","unwireCell","colIdx","oldRow","cellBo","oldRowBo","inputEntries","outputEntries","rowBo","DmnFactory","tType","AddRowHandler","RemoveRowHandler","oldIndex","MoveRowHandler","AddColHandler","RemoveColHandler","MoveColHandler","EditCellHandler","_getHandlers","changedAttrs","UpdateAllowedValuesHandler","allowedValues","oldAllowedValues","EditPropertiesHandler","propertyValue","isContainer","IdClaimBehavior","IdUnclaimBehavior","idClaimBehavior","idUnclaimBehavior","Behavior","dmnUpdater","DecisionRulesEditorCellComponent","isFocussed","changeCellValue","editCell","isUnaryTest","TableCellEditor","getDefaultExpressionLanguage","isDefaultExpressionLanguage","expressionLanguageLabel","getExpressionLanguageLabel","isScript","RulesEditor","DecisionRulesCellEditorComponent","decisionRulesEditor","DecisionRulesEditor","OFFSET","SimpleModeButtonComponent","isVisible","isDisabled","simpleMode","canSimpleEdit","getExpressionLanguage","cellBounds","nodeBounds","nodePosition","SimpleMode","TRUE","FALSE","NONE","BooleanEdit","SimpleBooleanEdit","getTypeRef","simpleBooleanEdit","ISO_DATE_REGEX","BETWEEN_DATE_REGEX","BEFORE_AFTER_DATE_REGEX","EXACT_DATE_REGEX","EXACT","BEFORE","AFTER","BETWEEN","validateISOString","getDateString","dates","getSampleDate","date","setUTCHours","toISOString","InputDateEdit","debouncedEditCell","onSetStartDateTodayClick","onSetEndDateTodayClick","onStartDateInput","onEndDateInput","OutputDateEdit","SimpleDateEdit","isDate","simpleDateEdit","COMPARISON_REGULAR_EXPRESSION","RANGE_REGULAR_EXPRESSION","operators","less","lessEquals","greater","greaterEquals","getOperatorName","comparisonMatches","rangeMatches","operator","isComparison","getComparisonString","comparisonOperator","comparisonValue","getRangeString","rangeStartValue","rangeEndValue","rangeStartType","rangeEndType","rangeStartChar","rangeEndChar","COMPARISON","InputNumberEdit","onComparisonOperatorChange","onComparisonValueChange","onRangeStartTypeChange","onRangeStartValueChange","onRangeEndTypeChange","onRangeEndValueChange","comparisonOperatorOptions","rangeTypeOptions","typeOptions","renderComparison","renderRange","OutputNumberEdit","SimpleNumberEdit","simpleNumberEdit","getInputOrOutputValues","inputOrOutput","inputOrOutputValues","DISJUNCTION","NEGATION","INPUT_VALUES_LABEL","OUTPUT_VALUES_LABEL","INPUT_ENTRY_VALUES_LABEL","SimpleStringEditContextMenuComponent","filteredValues","isInputClause","unaryTestsType","isOutputValueInputChecked","addUnaryTestsListItem","onOutputValueInputClick","onUnaryTestsListChanged","onUnaryTestsTypeChange","getValues","parsedInput","isNegation","showRadio","selectNode","marginRight","SimpleStringEdit","simpleStringEdit","ResizeColumn","onEnd","saveWidth","annotationsWidth","isLastInputOrOutput","handleMouseDown","initialWidth","currentUpdate","initialX","handleMouseMove","currentWidth","getResizedWidth","currentX","handleMouseUp","ColumnResizeProvider","columnResizeProvider","addRuleModule","annotationsEditorModule","cellSelectionModule","contextMenuModule","copyCutPasteModule","copyCutPasteKeybindingsModule","createInputsModule","decisionTableEditorActionsModule","decisionTableHeadEditorModule","columnResizeModule","dragAndDropModule","descriptionModule","expressionLanguageModule","expressionLanguagesModule","keyboardModule","tablePropertiesEditorModule","editorActionsModule","hitPolicyEditorModule","interactionEventsModule","modelingModule","decisionRulesEditorModule","selectionModule","simpleModeModule","simpleBooleanEditModule","simpleDateEditModule","simpleNumberEditModule","simpleStringEditModule","ViewerComponent","_viewer","getDecision","DecisionPropertiesComponent","DecisionProperties","decisionProperties","LiteralExpressionPropertiesComponent","literalExpression","literalExpressionProperties","LiteralExpressionProperties","TextareaComponent","Textarea","textarea","VERY_HIGH_PRIORITY","BaseViewer","DecisionPropertiesModule","LiteralExpressionPropertiesModule","TextareaModule","ViewDrdModule","DecisionPropertiesEditorComponent","editDecisionName","setDecisionName","DecisionName","DecisionPropertiesEditor","TYPE_REF_OPTIONS","setVariableName","setVariableType","editVariableName","editVariableType","languageOptions","LiteralExpressionPropertiesEditor","LiteralExpressionPropertiesEditorComponent","TextareaEditorComponent","editLiteralExpressionText","getLiteralExpression","TextareaEditor","DecisionPropertiesEditorModule","LiteralExpressionPropertiesEditorModule","DrdModeler","DecisionTableEditor","LiteralExpressionEditor","definitionsView","zoomIn","zoomOut","zoomToFit","dmnEditor","DMNModeler","initEditorAction","editorSave","showDocument","importXML","editorZoomIn","editorZoomOut","editorZoomToFit","saveXML","showErrorMessage","showInfoMessage","processFlowListener","searchString","startsWith","stateURL","decodeURI","history","pushState","notificationListener"],"mappings":"AoVKuDuI,ALFTA,A0CmB7C,arCjBsDA,ALFTA,A0CHvC,OrCKgDA,ALFTA,E0CH9BsiH,EAAY22C,GAExBA,OAAAA,CrCGmDj5J,ALFTA,C0CDhCu8E,OrCGyCv8E,ALFTA,E0CA1Ci5J,EAAU38E,SrCEyCt8E,ALFTA,A0CC1Ci5J,CrCCmDj5J,ALFTA,C0CChCy8E,MrCCyCz8E,ALFTA,IKESA,ALFTA,A0CE1Ci5J,EAAU3vE,MrCAyCtpF,ALFTA,C0CMvC,SAASuiH,EAAM02C,CrCJiCj5J,ALFTA,EKESA,ALFTA,A0CUxCi5J,IrCRiDj5J,ALFTA,EKESA,ALFTA,C0CUxCi5J,EAAU3vE,KrCRuCtpF,ALFTA,I0CcrCi5J,EAAU18E,KrCfnB,ALC8Cv8E,EKD9C,EAAA,AqCe8Bi5J,EAAU38E,G1CdMt8E,EAAAA,CKD9C,ELC8CA,C0CiBvC,M1CjBuCA,EAAAA,C0CiB9ByiH,EAAQw2C,GACfA,OAAAA,EAAUx8E,I1ClB2Bz8E,K0CmB7C,GrCjBsDA,ALFTA,I0CmB7C,KrCjBsDA,EAAAA,GAAAA,GLFTA,E0CmB7C,ErCjBsDA,GAAAA,ALFTA,EKESA,CqCiBtD,M1CnB6CA,IKESA,EAAAA,CAAAA,AqCiBtD,CAAA,C1CnB6CA,GAAAA,GKESA,AqCiBtD,GrCjBsDA,CqCiBtD,O1CnB6CA,CKESA,AqCiBtD,ErCjBsDA,ALFTA,GKESA,MLFTA,CKESA,AqCiBtD,ErCjBsDA,ALFTA,A0CmB7C,O1CnB6CA,C0CmB7C,E1CnB6CA,I0CmB7C,EAAA,GrCjBsDA,KqCiBtD,GrCjBsDA,ELFTA,G0CmB7C,K1CnB6CA,EAAAA,KKESA,OAAAA,ELFTA,OKESA,CLFTA,IAAAA,IKESA,GAAAA,ALFTA,UAAAA,IKESA,GAAAA,SAAAA,ALFTA,GKESA,CLFTA,GAAAA,GKESA,GAAAA,GLFTA,EAAAA,EAAAA,GAAAA,KAAAA,IKESA,QAAAA,CLFTA,CKESA,ELFTA,MAAAA,IAAAA,EKESA,QAAAA,ALFTA,IKESA,OAAAA,UAAAA,gBAAAA,ALFTA,IKESA,GAAAA,ELFTA,EAAAA,EAAAA,GKESA,ALFTA,EKESA,EAAAA,ALFTA,GKESA,CLFTA,EAAAA,EKESA,ALFTA,EAAAA,EAAAA,OAAAA,EKESA,ELFTA,CKESA,ALFTA,IAAAA,EKESA,ALFTA,EAAAA,EKESA,CLFTA,EAAAA,OKESA,ILFTA,EAAAA,aAAAA,EAAAA,EAAAA,cKESA,ALFTA,EAAAA,OKESA,EAAAA,CLFTA,CKESA,GAAAA,ALFTA,EAAAA,EKESA,IAAAA,EAAAA,EAAAA,ALFTA,EKESA,CLFTA,CKESA,MLFTA,CKESA,IAAAA,CAAAA,IAAAA,EAAAA,EAAAA,CLFTA,EKESA,ALFTA,EKESA,ALFTA,IAAAA,IAAAA,GKESA,EAAAA,ILFTA,EAAAA,EAAAA,EAAAA,GKESA,ALFTA,EKESA,EAAAA,GLFTA,GAAAA,EAAAA,EAAAA,IKESA,EAAAA,ILFTA,GAAAA,GKESA,ALFTA,EAAAA,EKESA,ALFTA,EKESA,CLFTA,EAAAA,OKESA,ELFTA,CKESA,CLFTA,EAAAA,GAAAA,CKESA,MLFTA,GAAAA,MKESA,EAAAA,EAAAA,CLFTA,EAAAA,CKESA,GLFTA,CKESA,SAAAA,EAAAA,EAAAA,EAAAA,GAAAA,ALFTA,EAAAA,EAAAA,GKESA,ALFTA,EAAAA,CKESA,EAAAA,EAAAA,ILFTA,EAAAA,GAAAA,CKESA,GAAAA,GAAAA,ALFTA,EKESA,ALFTA,EKESA,GAAAA,EAAAA,ALFTA,SKESA,EAAAA,EAAAA,ELFTA,CKESA,MLFTA,CKESA,GAAAA,WAAAA,ALFTA,EKESA,IAAAA,GLFTA,GAAAA,OAAAA,EAAAA,IKESA,EAAAA,EAAAA,GAAAA,ALFTA,EKESA,KLFTA,IKESA,EAAAA,GAAAA,MLFTA,CKESA,EAAAA,ELFTA,GAAAA,EKESA,OLFTA,EAAAA,GAAAA,GKESA,KLFTA,EKESA,ELFTA,EAAAA,MAAAA,IAAAA,CKESA,SAAAA,GAAAA,ELFTA,KKESA,EAAAA,WAAAA,OAAAA,eAAAA,KAAAA,GAAAA,SAAAA,EAAAA,ELFTA,CKESA,MLFTA,EKESA,ALFTA,IKESA,EAAAA,GLFTA,EAAAA,CKESA,CLFTA,GKESA,ALFTA,GAAAA,YKESA,OLFTA,GAAAA,OAAAA,EAAAA,MAAAA,IAAAA,UAAAA,sBKESA,OAAAA,EAAAA,SAAAA,EAAAA,EAAAA,GAAAA,GAAAA,ILFTA,EAAAA,UAAAA,GKESA,GAAAA,CLFTA,MKESA,CLFTA,CKESA,ELFTA,EAAAA,EKESA,IAAAA,ILFTA,CAAAA,KKESA,OLFTA,CAAAA,MAAAA,EAAAA,UAAAA,EAAAA,cAAAA,KAAAA,GAAAA,EAAAA,EKESA,ALFTA,EKESA,CLFTA,SKESA,ALFTA,EAAAA,EAAAA,GKESA,ALFTA,OKESA,ALFTA,EAAAA,CKESA,EAAAA,ILFTA,MKESA,CAAAA,SLFTA,GKESA,CAAAA,KLFTA,CKESA,CLFTA,CKESA,ELFTA,OAAAA,CKESA,CLFTA,CKESA,SLFTA,EAAAA,GKESA,CLFTA,EAAAA,EKESA,CLFTA,EKESA,EAAAA,EAAAA,GAAAA,ALFTA,EAAAA,EAAAA,EAAAA,GKESA,ALFTA,EKESA,EAAAA,GAAAA,ALFTA,KAAAA,EKESA,ALFTA,EKESA,KLFTA,EKESA,aLFTA,EAAAA,CKESA,CLFTA,CAAAA,MAAAA,CKESA,CLFTA,CKESA,GAAAA,OAAAA,CLFTA,CKESA,CLFTA,SKESA,EAAAA,GLFTA,CKESA,CLFTA,CKESA,GAAlC8oJ,IAAAA,EAAAA,ALFyB9oJ,IAAAA,EAAAA,GKEzB8oJ,ALFyB9oJ,EAAAA,CKI5C,CLJmBuoJ,IAAAA,EAAAA,EKInB,EAAYn2I,GAAO,ELJAm2I,EKIA,CLFnB,CKEmB,OAAA,CLFnB,CKEmB,CLFPn2I,EAAO+e,EKEA,CLFS,GKG1B,CLH0B,CKG1B,CLH0B,CKG1B,CLH0B,IKG1B,CLH0B,CKG1B,ELH0B,CKG1B,CLH0B,EAC1B,EKEA,ALFA,EAAA,GKEM/e,ELFN,EAAA,CKIKkO,ELJL,IKIa,CACXrmB,ALLF,KAAMmY,CKKE,CLLK+e,EKQb,EAAKq3H,CLTqB,OKSX,EAAKA,CLDZ,OKCoBzmJ,ILA5B,CKAe,CLAVk1D,CKAU,IACf,EAAK8xF,GLDU9yG,IKCD,CLDM,CKCD8yG,OAAOhnJ,KAAZ,ALPN+6D,EKOM,ELPNA,EKDS,ALCI3rC,EKH8B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","file":"js.c5cd265c.js","sourceRoot":"../src","sourcesContent":["/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Ripple MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialRipple = function MaterialRipple(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialRipple'] = MaterialRipple;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialRipple.prototype.Constant_ = {\n    INITIAL_SCALE: 'scale(0.0001, 0.0001)',\n    INITIAL_SIZE: '1px',\n    INITIAL_OPACITY: '0.4',\n    FINAL_OPACITY: '0',\n    FINAL_SCALE: ''\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialRipple.prototype.CssClasses_ = {\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE_EFFECT_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE: 'mdl-ripple',\n    IS_ANIMATING: 'is-animating',\n    IS_VISIBLE: 'is-visible'\n};\n/**\n   * Handle mouse / finger down on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRipple.prototype.downHandler_ = function (event) {\n    if (!this.rippleElement_.style.width && !this.rippleElement_.style.height) {\n        var rect = this.element_.getBoundingClientRect();\n        this.boundHeight = rect.height;\n        this.boundWidth = rect.width;\n        this.rippleSize_ = Math.sqrt(rect.width * rect.width + rect.height * rect.height) * 2 + 2;\n        this.rippleElement_.style.width = this.rippleSize_ + 'px';\n        this.rippleElement_.style.height = this.rippleSize_ + 'px';\n    }\n    this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE);\n    if (event.type === 'mousedown' && this.ignoringMouseDown_) {\n        this.ignoringMouseDown_ = false;\n    } else {\n        if (event.type === 'touchstart') {\n            this.ignoringMouseDown_ = true;\n        }\n        var frameCount = this.getFrameCount();\n        if (frameCount > 0) {\n            return;\n        }\n        this.setFrameCount(1);\n        var bound = event.currentTarget.getBoundingClientRect();\n        var x;\n        var y;\n        // Check if we are handling a keyboard click.\n        if (event.clientX === 0 && event.clientY === 0) {\n            x = Math.round(bound.width / 2);\n            y = Math.round(bound.height / 2);\n        } else {\n            var clientX = event.clientX !== undefined ? event.clientX : event.touches[0].clientX;\n            var clientY = event.clientY !== undefined ? event.clientY : event.touches[0].clientY;\n            x = Math.round(clientX - bound.left);\n            y = Math.round(clientY - bound.top);\n        }\n        this.setRippleXY(x, y);\n        this.setRippleStyles(true);\n        window.requestAnimationFrame(this.animFrameHandler.bind(this));\n    }\n};\n/**\n   * Handle mouse / finger up on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRipple.prototype.upHandler_ = function (event) {\n    // Don't fire for the artificial \"mouseup\" generated by a double-click.\n    if (event && event.detail !== 2) {\n        // Allow a repaint to occur before removing this class, so the animation\n        // shows for tap events, which seem to trigger a mouseup too soon after\n        // mousedown.\n        window.setTimeout(function () {\n            this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE);\n        }.bind(this), 0);\n    }\n};\n/**\n   * Initialize element.\n   */\nMaterialRipple.prototype.init = function () {\n    if (this.element_) {\n        var recentering = this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);\n        if (!this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)) {\n            this.rippleElement_ = this.element_.querySelector('.' + this.CssClasses_.RIPPLE);\n            this.frameCount_ = 0;\n            this.rippleSize_ = 0;\n            this.x_ = 0;\n            this.y_ = 0;\n            // Touch start produces a compat mouse down event, which would cause a\n            // second ripples. To avoid that, we use this property to ignore the first\n            // mouse down after a touch start.\n            this.ignoringMouseDown_ = false;\n            this.boundDownHandler = this.downHandler_.bind(this);\n            this.element_.addEventListener('mousedown', this.boundDownHandler);\n            this.element_.addEventListener('touchstart', this.boundDownHandler);\n            this.boundUpHandler = this.upHandler_.bind(this);\n            this.element_.addEventListener('mouseup', this.boundUpHandler);\n            this.element_.addEventListener('mouseleave', this.boundUpHandler);\n            this.element_.addEventListener('touchend', this.boundUpHandler);\n            this.element_.addEventListener('blur', this.boundUpHandler);\n            /**\n         * Getter for frameCount_.\n         * @return {number} the frame count.\n         */\n            this.getFrameCount = function () {\n                return this.frameCount_;\n            };\n            /**\n         * Setter for frameCount_.\n         * @param {number} fC the frame count.\n         */\n            this.setFrameCount = function (fC) {\n                this.frameCount_ = fC;\n            };\n            /**\n         * Getter for rippleElement_.\n         * @return {Element} the ripple element.\n         */\n            this.getRippleElement = function () {\n                return this.rippleElement_;\n            };\n            /**\n         * Sets the ripple X and Y coordinates.\n         * @param  {number} newX the new X coordinate\n         * @param  {number} newY the new Y coordinate\n         */\n            this.setRippleXY = function (newX, newY) {\n                this.x_ = newX;\n                this.y_ = newY;\n            };\n            /**\n         * Sets the ripple styles.\n         * @param  {boolean} start whether or not this is the start frame.\n         */\n            this.setRippleStyles = function (start) {\n                if (this.rippleElement_ !== null) {\n                    var transformString;\n                    var scale;\n                    var size;\n                    var offset = 'translate(' + this.x_ + 'px, ' + this.y_ + 'px)';\n                    if (start) {\n                        scale = this.Constant_.INITIAL_SCALE;\n                        size = this.Constant_.INITIAL_SIZE;\n                    } else {\n                        scale = this.Constant_.FINAL_SCALE;\n                        size = this.rippleSize_ + 'px';\n                        if (recentering) {\n                            offset = 'translate(' + this.boundWidth / 2 + 'px, ' + this.boundHeight / 2 + 'px)';\n                        }\n                    }\n                    transformString = 'translate(-50%, -50%) ' + offset + scale;\n                    this.rippleElement_.style.webkitTransform = transformString;\n                    this.rippleElement_.style.msTransform = transformString;\n                    this.rippleElement_.style.transform = transformString;\n                    if (start) {\n                        this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING);\n                    } else {\n                        this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING);\n                    }\n                }\n            };\n            /**\n         * Handles an animation frame.\n         */\n            this.animFrameHandler = function () {\n                if (this.frameCount_-- > 0) {\n                    window.requestAnimationFrame(this.animFrameHandler.bind(this));\n                } else {\n                    this.setRippleStyles(false);\n                }\n            };\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialRipple,\n    classAsString: 'MaterialRipple',\n    cssClass: 'mdl-js-ripple-effect',\n    widget: false\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Tabs MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {Element} element The element that will be upgraded.\n   */\nvar MaterialTabs = function MaterialTabs(element) {\n    // Stores the HTML element.\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialTabs'] = MaterialTabs;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTabs.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTabs.prototype.CssClasses_ = {\n    TAB_CLASS: 'mdl-tabs__tab',\n    PANEL_CLASS: 'mdl-tabs__panel',\n    ACTIVE_CLASS: 'is-active',\n    UPGRADED_CLASS: 'is-upgraded',\n    MDL_JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    MDL_RIPPLE_CONTAINER: 'mdl-tabs__ripple-container',\n    MDL_RIPPLE: 'mdl-ripple',\n    MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events'\n};\n/**\n   * Handle clicks to a tabs component\n   *\n   * @private\n   */\nMaterialTabs.prototype.initTabs_ = function () {\n    if (this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)) {\n        this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS);\n    }\n    // Select element tabs, document panels\n    this.tabs_ = this.element_.querySelectorAll('.' + this.CssClasses_.TAB_CLASS);\n    this.panels_ = this.element_.querySelectorAll('.' + this.CssClasses_.PANEL_CLASS);\n    // Create new tabs for each tab element\n    for (var i = 0; i < this.tabs_.length; i++) {\n        new MaterialTab(this.tabs_[i], this);\n    }\n    this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS);\n};\n/**\n   * Reset tab state, dropping active classes\n   *\n   * @private\n   */\nMaterialTabs.prototype.resetTabState_ = function () {\n    for (var k = 0; k < this.tabs_.length; k++) {\n        this.tabs_[k].classList.remove(this.CssClasses_.ACTIVE_CLASS);\n    }\n};\n/**\n   * Reset panel state, droping active classes\n   *\n   * @private\n   */\nMaterialTabs.prototype.resetPanelState_ = function () {\n    for (var j = 0; j < this.panels_.length; j++) {\n        this.panels_[j].classList.remove(this.CssClasses_.ACTIVE_CLASS);\n    }\n};\n/**\n   * Initialize element.\n   */\nMaterialTabs.prototype.init = function () {\n    if (this.element_) {\n        this.initTabs_();\n    }\n};\n/**\n   * Constructor for an individual tab.\n   *\n   * @constructor\n   * @param {Element} tab The HTML element for the tab.\n   * @param {MaterialTabs} ctx The MaterialTabs object that owns the tab.\n   */\nfunction MaterialTab(tab, ctx) {\n    if (tab) {\n        if (ctx.element_.classList.contains(ctx.CssClasses_.MDL_JS_RIPPLE_EFFECT)) {\n            var rippleContainer = document.createElement('span');\n            rippleContainer.classList.add(ctx.CssClasses_.MDL_RIPPLE_CONTAINER);\n            rippleContainer.classList.add(ctx.CssClasses_.MDL_JS_RIPPLE_EFFECT);\n            var ripple = document.createElement('span');\n            ripple.classList.add(ctx.CssClasses_.MDL_RIPPLE);\n            rippleContainer.appendChild(ripple);\n            tab.appendChild(rippleContainer);\n        }\n        tab.addEventListener('click', function (e) {\n            if (tab.getAttribute('href').charAt(0) === '#') {\n                e.preventDefault();\n                var href = tab.href.split('#')[1];\n                var panel = ctx.element_.querySelector('#' + href);\n                ctx.resetTabState_();\n                ctx.resetPanelState_();\n                tab.classList.add(ctx.CssClasses_.ACTIVE_CLASS);\n                panel.classList.add(ctx.CssClasses_.ACTIVE_CLASS);\n            }\n        });\n    }\n}\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialTabs,\n    classAsString: 'MaterialTabs',\n    cssClass: 'mdl-js-tabs'\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Layout MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialLayout = function MaterialLayout(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialLayout'] = MaterialLayout;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialLayout.prototype.Constant_ = {\n    MAX_WIDTH: '(max-width: 1024px)',\n    TAB_SCROLL_PIXELS: 100,\n    RESIZE_TIMEOUT: 100,\n    MENU_ICON: '&#xE5D2;',\n    CHEVRON_LEFT: 'chevron_left',\n    CHEVRON_RIGHT: 'chevron_right'\n};\n/**\n   * Keycodes, for code readability.\n   *\n   * @enum {number}\n   * @private\n   */\nMaterialLayout.prototype.Keycodes_ = {\n    ENTER: 13,\n    ESCAPE: 27,\n    SPACE: 32\n};\n/**\n   * Modes.\n   *\n   * @enum {number}\n   * @private\n   */\nMaterialLayout.prototype.Mode_ = {\n    STANDARD: 0,\n    SEAMED: 1,\n    WATERFALL: 2,\n    SCROLL: 3\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialLayout.prototype.CssClasses_ = {\n    CONTAINER: 'mdl-layout__container',\n    HEADER: 'mdl-layout__header',\n    DRAWER: 'mdl-layout__drawer',\n    CONTENT: 'mdl-layout__content',\n    DRAWER_BTN: 'mdl-layout__drawer-button',\n    ICON: 'material-icons',\n    JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_CONTAINER: 'mdl-layout__tab-ripple-container',\n    RIPPLE: 'mdl-ripple',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    HEADER_SEAMED: 'mdl-layout__header--seamed',\n    HEADER_WATERFALL: 'mdl-layout__header--waterfall',\n    HEADER_SCROLL: 'mdl-layout__header--scroll',\n    FIXED_HEADER: 'mdl-layout--fixed-header',\n    OBFUSCATOR: 'mdl-layout__obfuscator',\n    TAB_BAR: 'mdl-layout__tab-bar',\n    TAB_CONTAINER: 'mdl-layout__tab-bar-container',\n    TAB: 'mdl-layout__tab',\n    TAB_BAR_BUTTON: 'mdl-layout__tab-bar-button',\n    TAB_BAR_LEFT_BUTTON: 'mdl-layout__tab-bar-left-button',\n    TAB_BAR_RIGHT_BUTTON: 'mdl-layout__tab-bar-right-button',\n    TAB_MANUAL_SWITCH: 'mdl-layout__tab-manual-switch',\n    PANEL: 'mdl-layout__tab-panel',\n    HAS_DRAWER: 'has-drawer',\n    HAS_TABS: 'has-tabs',\n    HAS_SCROLLING_HEADER: 'has-scrolling-header',\n    CASTING_SHADOW: 'is-casting-shadow',\n    IS_COMPACT: 'is-compact',\n    IS_SMALL_SCREEN: 'is-small-screen',\n    IS_DRAWER_OPEN: 'is-visible',\n    IS_ACTIVE: 'is-active',\n    IS_UPGRADED: 'is-upgraded',\n    IS_ANIMATING: 'is-animating',\n    ON_LARGE_SCREEN: 'mdl-layout--large-screen-only',\n    ON_SMALL_SCREEN: 'mdl-layout--small-screen-only'\n};\n/**\n   * Handles scrolling on the content.\n   *\n   * @private\n   */\nMaterialLayout.prototype.contentScrollHandler_ = function () {\n    if (this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)) {\n        return;\n    }\n    var headerVisible = !this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN) || this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);\n    if (this.content_.scrollTop > 0 && !this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n        this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);\n        this.header_.classList.add(this.CssClasses_.IS_COMPACT);\n        if (headerVisible) {\n            this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n        }\n    } else if (this.content_.scrollTop <= 0 && this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n        this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n        this.header_.classList.remove(this.CssClasses_.IS_COMPACT);\n        if (headerVisible) {\n            this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n        }\n    }\n};\n/**\n   * Handles a keyboard event on the drawer.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialLayout.prototype.keyboardEventHandler_ = function (evt) {\n    // Only react when the drawer is open.\n    if (evt.keyCode === this.Keycodes_.ESCAPE && this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)) {\n        this.toggleDrawer();\n    }\n};\n/**\n   * Handles changes in screen size.\n   *\n   * @private\n   */\nMaterialLayout.prototype.screenSizeHandler_ = function () {\n    if (this.screenSizeMediaQuery_.matches) {\n        this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN);\n        // Collapse drawer (if any) when moving to a large screen size.\n        if (this.drawer_) {\n            this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);\n            this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);\n        }\n    }\n};\n/**\n   * Handles events of drawer button.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialLayout.prototype.drawerToggleHandler_ = function (evt) {\n    if (evt && evt.type === 'keydown') {\n        if (evt.keyCode === this.Keycodes_.SPACE || evt.keyCode === this.Keycodes_.ENTER) {\n            // prevent scrolling in drawer nav\n            evt.preventDefault();\n        } else {\n            // prevent other keys\n            return;\n        }\n    }\n    this.toggleDrawer();\n};\n/**\n   * Handles (un)setting the `is-animating` class\n   *\n   * @private\n   */\nMaterialLayout.prototype.headerTransitionEndHandler_ = function () {\n    this.header_.classList.remove(this.CssClasses_.IS_ANIMATING);\n};\n/**\n   * Handles expanding the header on click\n   *\n   * @private\n   */\nMaterialLayout.prototype.headerClickHandler_ = function () {\n    if (this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {\n        this.header_.classList.remove(this.CssClasses_.IS_COMPACT);\n        this.header_.classList.add(this.CssClasses_.IS_ANIMATING);\n    }\n};\n/**\n   * Reset tab state, dropping active classes\n   *\n   * @private\n   */\nMaterialLayout.prototype.resetTabState_ = function (tabBar) {\n    for (var k = 0; k < tabBar.length; k++) {\n        tabBar[k].classList.remove(this.CssClasses_.IS_ACTIVE);\n    }\n};\n/**\n   * Reset panel state, droping active classes\n   *\n   * @private\n   */\nMaterialLayout.prototype.resetPanelState_ = function (panels) {\n    for (var j = 0; j < panels.length; j++) {\n        panels[j].classList.remove(this.CssClasses_.IS_ACTIVE);\n    }\n};\n/**\n  * Toggle drawer state\n  *\n  * @public\n  */\nMaterialLayout.prototype.toggleDrawer = function () {\n    var drawerButton = this.element_.querySelector('.' + this.CssClasses_.DRAWER_BTN);\n    this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);\n    this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);\n    // Set accessibility properties.\n    if (this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)) {\n        this.drawer_.setAttribute('aria-hidden', 'false');\n        drawerButton.setAttribute('aria-expanded', 'true');\n    } else {\n        this.drawer_.setAttribute('aria-hidden', 'true');\n        drawerButton.setAttribute('aria-expanded', 'false');\n    }\n};\nMaterialLayout.prototype['toggleDrawer'] = MaterialLayout.prototype.toggleDrawer;\n/**\n   * Initialize element.\n   */\nMaterialLayout.prototype.init = function () {\n    if (this.element_) {\n        var container = document.createElement('div');\n        container.classList.add(this.CssClasses_.CONTAINER);\n        var focusedElement = this.element_.querySelector(':focus');\n        this.element_.parentElement.insertBefore(container, this.element_);\n        this.element_.parentElement.removeChild(this.element_);\n        container.appendChild(this.element_);\n        if (focusedElement) {\n            focusedElement.focus();\n        }\n        var directChildren = this.element_.childNodes;\n        var numChildren = directChildren.length;\n        for (var c = 0; c < numChildren; c++) {\n            var child = directChildren[c];\n            if (child.classList && child.classList.contains(this.CssClasses_.HEADER)) {\n                this.header_ = child;\n            }\n            if (child.classList && child.classList.contains(this.CssClasses_.DRAWER)) {\n                this.drawer_ = child;\n            }\n            if (child.classList && child.classList.contains(this.CssClasses_.CONTENT)) {\n                this.content_ = child;\n            }\n        }\n        window.addEventListener('pageshow', function (e) {\n            if (e.persisted) {\n                // when page is loaded from back/forward cache\n                // trigger repaint to let layout scroll in safari\n                this.element_.style.overflowY = 'hidden';\n                requestAnimationFrame(function () {\n                    this.element_.style.overflowY = '';\n                }.bind(this));\n            }\n        }.bind(this), false);\n        if (this.header_) {\n            this.tabBar_ = this.header_.querySelector('.' + this.CssClasses_.TAB_BAR);\n        }\n        var mode = this.Mode_.STANDARD;\n        if (this.header_) {\n            if (this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)) {\n                mode = this.Mode_.SEAMED;\n            } else if (this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)) {\n                mode = this.Mode_.WATERFALL;\n                this.header_.addEventListener('transitionend', this.headerTransitionEndHandler_.bind(this));\n                this.header_.addEventListener('click', this.headerClickHandler_.bind(this));\n            } else if (this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)) {\n                mode = this.Mode_.SCROLL;\n                container.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER);\n            }\n            if (mode === this.Mode_.STANDARD) {\n                this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);\n                if (this.tabBar_) {\n                    this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW);\n                }\n            } else if (mode === this.Mode_.SEAMED || mode === this.Mode_.SCROLL) {\n                this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n                if (this.tabBar_) {\n                    this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW);\n                }\n            } else if (mode === this.Mode_.WATERFALL) {\n                // Add and remove shadows depending on scroll position.\n                // Also add/remove auxiliary class for styling of the compact version of\n                // the header.\n                this.content_.addEventListener('scroll', this.contentScrollHandler_.bind(this));\n                this.contentScrollHandler_();\n            }\n        }\n        // Add drawer toggling button to our layout, if we have an openable drawer.\n        if (this.drawer_) {\n            var drawerButton = this.element_.querySelector('.' + this.CssClasses_.DRAWER_BTN);\n            if (!drawerButton) {\n                drawerButton = document.createElement('div');\n                drawerButton.setAttribute('aria-expanded', 'false');\n                drawerButton.setAttribute('role', 'button');\n                drawerButton.setAttribute('tabindex', '0');\n                drawerButton.classList.add(this.CssClasses_.DRAWER_BTN);\n                var drawerButtonIcon = document.createElement('i');\n                drawerButtonIcon.classList.add(this.CssClasses_.ICON);\n                drawerButtonIcon.innerHTML = this.Constant_.MENU_ICON;\n                drawerButton.appendChild(drawerButtonIcon);\n            }\n            if (this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)) {\n                //If drawer has ON_LARGE_SCREEN class then add it to the drawer toggle button as well.\n                drawerButton.classList.add(this.CssClasses_.ON_LARGE_SCREEN);\n            } else if (this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)) {\n                //If drawer has ON_SMALL_SCREEN class then add it to the drawer toggle button as well.\n                drawerButton.classList.add(this.CssClasses_.ON_SMALL_SCREEN);\n            }\n            drawerButton.addEventListener('click', this.drawerToggleHandler_.bind(this));\n            drawerButton.addEventListener('keydown', this.drawerToggleHandler_.bind(this));\n            // Add a class if the layout has a drawer, for altering the left padding.\n            // Adds the HAS_DRAWER to the elements since this.header_ may or may\n            // not be present.\n            this.element_.classList.add(this.CssClasses_.HAS_DRAWER);\n            // If we have a fixed header, add the button to the header rather than\n            // the layout.\n            if (this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)) {\n                this.header_.insertBefore(drawerButton, this.header_.firstChild);\n            } else {\n                this.element_.insertBefore(drawerButton, this.content_);\n            }\n            var obfuscator = document.createElement('div');\n            obfuscator.classList.add(this.CssClasses_.OBFUSCATOR);\n            this.element_.appendChild(obfuscator);\n            obfuscator.addEventListener('click', this.drawerToggleHandler_.bind(this));\n            this.obfuscator_ = obfuscator;\n            this.drawer_.addEventListener('keydown', this.keyboardEventHandler_.bind(this));\n            this.drawer_.setAttribute('aria-hidden', 'true');\n        }\n        // Keep an eye on screen size, and add/remove auxiliary class for styling\n        // of small screens.\n        this.screenSizeMediaQuery_ = window.matchMedia(this.Constant_.MAX_WIDTH);\n        this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this));\n        this.screenSizeHandler_();\n        // Initialize tabs, if any.\n        if (this.header_ && this.tabBar_) {\n            this.element_.classList.add(this.CssClasses_.HAS_TABS);\n            var tabContainer = document.createElement('div');\n            tabContainer.classList.add(this.CssClasses_.TAB_CONTAINER);\n            this.header_.insertBefore(tabContainer, this.tabBar_);\n            this.header_.removeChild(this.tabBar_);\n            var leftButton = document.createElement('div');\n            leftButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);\n            leftButton.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);\n            var leftButtonIcon = document.createElement('i');\n            leftButtonIcon.classList.add(this.CssClasses_.ICON);\n            leftButtonIcon.textContent = this.Constant_.CHEVRON_LEFT;\n            leftButton.appendChild(leftButtonIcon);\n            leftButton.addEventListener('click', function () {\n                this.tabBar_.scrollLeft -= this.Constant_.TAB_SCROLL_PIXELS;\n            }.bind(this));\n            var rightButton = document.createElement('div');\n            rightButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);\n            rightButton.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);\n            var rightButtonIcon = document.createElement('i');\n            rightButtonIcon.classList.add(this.CssClasses_.ICON);\n            rightButtonIcon.textContent = this.Constant_.CHEVRON_RIGHT;\n            rightButton.appendChild(rightButtonIcon);\n            rightButton.addEventListener('click', function () {\n                this.tabBar_.scrollLeft += this.Constant_.TAB_SCROLL_PIXELS;\n            }.bind(this));\n            tabContainer.appendChild(leftButton);\n            tabContainer.appendChild(this.tabBar_);\n            tabContainer.appendChild(rightButton);\n            // Add and remove tab buttons depending on scroll position and total\n            // window size.\n            var tabUpdateHandler = function () {\n                if (this.tabBar_.scrollLeft > 0) {\n                    leftButton.classList.add(this.CssClasses_.IS_ACTIVE);\n                } else {\n                    leftButton.classList.remove(this.CssClasses_.IS_ACTIVE);\n                }\n                if (this.tabBar_.scrollLeft < this.tabBar_.scrollWidth - this.tabBar_.offsetWidth) {\n                    rightButton.classList.add(this.CssClasses_.IS_ACTIVE);\n                } else {\n                    rightButton.classList.remove(this.CssClasses_.IS_ACTIVE);\n                }\n            }.bind(this);\n            this.tabBar_.addEventListener('scroll', tabUpdateHandler);\n            tabUpdateHandler();\n            // Update tabs when the window resizes.\n            var windowResizeHandler = function () {\n                // Use timeouts to make sure it doesn't happen too often.\n                if (this.resizeTimeoutId_) {\n                    clearTimeout(this.resizeTimeoutId_);\n                }\n                this.resizeTimeoutId_ = setTimeout(function () {\n                    tabUpdateHandler();\n                    this.resizeTimeoutId_ = null;\n                }.bind(this), this.Constant_.RESIZE_TIMEOUT);\n            }.bind(this);\n            window.addEventListener('resize', windowResizeHandler);\n            if (this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)) {\n                this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            }\n            // Select element tabs, document panels\n            var tabs = this.tabBar_.querySelectorAll('.' + this.CssClasses_.TAB);\n            var panels = this.content_.querySelectorAll('.' + this.CssClasses_.PANEL);\n            // Create new tabs for each tab element\n            for (var i = 0; i < tabs.length; i++) {\n                new MaterialLayoutTab(tabs[i], tabs, panels, this);\n            }\n        }\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n/**\n   * Constructor for an individual tab.\n   *\n   * @constructor\n   * @param {HTMLElement} tab The HTML element for the tab.\n   * @param {!Array<HTMLElement>} tabs Array with HTML elements for all tabs.\n   * @param {!Array<HTMLElement>} panels Array with HTML elements for all panels.\n   * @param {MaterialLayout} layout The MaterialLayout object that owns the tab.\n   */\nfunction MaterialLayoutTab(tab, tabs, panels, layout) {\n    /**\n     * Auxiliary method to programmatically select a tab in the UI.\n     */\n    function selectTab() {\n        var href = tab.href.split('#')[1];\n        var panel = layout.content_.querySelector('#' + href);\n        layout.resetTabState_(tabs);\n        layout.resetPanelState_(panels);\n        tab.classList.add(layout.CssClasses_.IS_ACTIVE);\n        panel.classList.add(layout.CssClasses_.IS_ACTIVE);\n    }\n    if (layout.tabBar_.classList.contains(layout.CssClasses_.JS_RIPPLE_EFFECT)) {\n        var rippleContainer = document.createElement('span');\n        rippleContainer.classList.add(layout.CssClasses_.RIPPLE_CONTAINER);\n        rippleContainer.classList.add(layout.CssClasses_.JS_RIPPLE_EFFECT);\n        var ripple = document.createElement('span');\n        ripple.classList.add(layout.CssClasses_.RIPPLE);\n        rippleContainer.appendChild(ripple);\n        tab.appendChild(rippleContainer);\n    }\n    if (!layout.tabBar_.classList.contains(layout.CssClasses_.TAB_MANUAL_SWITCH)) {\n        tab.addEventListener('click', function (e) {\n            if (tab.getAttribute('href').charAt(0) === '#') {\n                e.preventDefault();\n                selectTab();\n            }\n        });\n    }\n    tab.show = selectTab;\n}\nwindow['MaterialLayoutTab'] = MaterialLayoutTab;\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialLayout,\n    classAsString: 'MaterialLayout',\n    cssClass: 'mdl-js-layout'\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A component handler interface using the revealing module design pattern.\n * More details on this design pattern here:\n * https://github.com/jasonmayes/mdl-component-design-pattern\n *\n * @author Jason Mayes.\n */\n/* exported componentHandler */\n\n// Pre-defining the componentHandler interface, for closure documentation and\n// static verification.\nvar componentHandler = {\n  /**\n   * Searches existing DOM for elements of our component type and upgrades them\n   * if they have not already been upgraded.\n   *\n   * @param {string=} optJsClass the programatic name of the element class we\n   * need to create a new instance of.\n   * @param {string=} optCssClass the name of the CSS class elements of this\n   * type will have.\n   */\n  upgradeDom: function(optJsClass, optCssClass) {},\n  /**\n   * Upgrades a specific element rather than all in the DOM.\n   *\n   * @param {!Element} element The element we wish to upgrade.\n   * @param {string=} optJsClass Optional name of the class we want to upgrade\n   * the element to.\n   */\n  upgradeElement: function(element, optJsClass) {},\n  /**\n   * Upgrades a specific list of elements rather than all in the DOM.\n   *\n   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n   * The elements we wish to upgrade.\n   */\n  upgradeElements: function(elements) {},\n  /**\n   * Upgrades all registered components found in the current DOM. This is\n   * automatically called on window load.\n   */\n  upgradeAllRegistered: function() {},\n  /**\n   * Allows user to be alerted to any upgrades that are performed for a given\n   * component type\n   *\n   * @param {string} jsClass The class name of the MDL component we wish\n   * to hook into for any upgrades performed.\n   * @param {function(!HTMLElement)} callback The function to call upon an\n   * upgrade. This function should expect 1 parameter - the HTMLElement which\n   * got upgraded.\n   */\n  registerUpgradedCallback: function(jsClass, callback) {},\n  /**\n   * Registers a class for future use and attempts to upgrade existing DOM.\n   *\n   * @param {componentHandler.ComponentConfigPublic} config the registration configuration\n   */\n  register: function(config) {},\n  /**\n   * Downgrade either a given node, an array of nodes, or a NodeList.\n   *\n   * @param {!Node|!Array<!Node>|!NodeList} nodes\n   */\n  downgradeElements: function(nodes) {}\n};\n\ncomponentHandler = (function() {\n  'use strict';\n\n  /** @type {!Array<componentHandler.ComponentConfig>} */\n  var registeredComponents_ = [];\n\n  /** @type {!Array<componentHandler.Component>} */\n  var createdComponents_ = [];\n\n  var componentConfigProperty_ = 'mdlComponentConfigInternal_';\n\n  /**\n   * Searches registered components for a class we are interested in using.\n   * Optionally replaces a match with passed object if specified.\n   *\n   * @param {string} name The name of a class we want to use.\n   * @param {componentHandler.ComponentConfig=} optReplace Optional object to replace match with.\n   * @return {!Object|boolean}\n   * @private\n   */\n  function findRegisteredClass_(name, optReplace) {\n    for (var i = 0; i < registeredComponents_.length; i++) {\n      if (registeredComponents_[i].className === name) {\n        if (typeof optReplace !== 'undefined') {\n          registeredComponents_[i] = optReplace;\n        }\n        return registeredComponents_[i];\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Returns an array of the classNames of the upgraded classes on the element.\n   *\n   * @param {!Element} element The element to fetch data from.\n   * @return {!Array<string>}\n   * @private\n   */\n  function getUpgradedListOfElement_(element) {\n    var dataUpgraded = element.getAttribute('data-upgraded');\n    // Use `['']` as default value to conform the `,name,name...` style.\n    return dataUpgraded === null ? [''] : dataUpgraded.split(',');\n  }\n\n  /**\n   * Returns true if the given element has already been upgraded for the given\n   * class.\n   *\n   * @param {!Element} element The element we want to check.\n   * @param {string} jsClass The class to check for.\n   * @returns {boolean}\n   * @private\n   */\n  function isElementUpgraded_(element, jsClass) {\n    var upgradedList = getUpgradedListOfElement_(element);\n    return upgradedList.indexOf(jsClass) !== -1;\n  }\n\n  /**\n   * Create an event object.\n   *\n   * @param {string} eventType The type name of the event.\n   * @param {boolean} bubbles Whether the event should bubble up the DOM.\n   * @param {boolean} cancelable Whether the event can be canceled.\n   * @returns {!Event}\n   */\n  function createEvent_(eventType, bubbles, cancelable) {\n    if ('CustomEvent' in window && typeof window.CustomEvent === 'function') {\n      return new CustomEvent(eventType, {\n        bubbles: bubbles,\n        cancelable: cancelable\n      });\n    } else {\n      var ev = document.createEvent('Events');\n      ev.initEvent(eventType, bubbles, cancelable);\n      return ev;\n    }\n  }\n\n  /**\n   * Searches existing DOM for elements of our component type and upgrades them\n   * if they have not already been upgraded.\n   *\n   * @param {string=} optJsClass the programatic name of the element class we\n   * need to create a new instance of.\n   * @param {string=} optCssClass the name of the CSS class elements of this\n   * type will have.\n   */\n  function upgradeDomInternal(optJsClass, optCssClass) {\n    if (typeof optJsClass === 'undefined' &&\n        typeof optCssClass === 'undefined') {\n      for (var i = 0; i < registeredComponents_.length; i++) {\n        upgradeDomInternal(registeredComponents_[i].className,\n            registeredComponents_[i].cssClass);\n      }\n    } else {\n      var jsClass = /** @type {string} */ (optJsClass);\n      if (typeof optCssClass === 'undefined') {\n        var registeredClass = findRegisteredClass_(jsClass);\n        if (registeredClass) {\n          optCssClass = registeredClass.cssClass;\n        }\n      }\n\n      var elements = document.querySelectorAll('.' + optCssClass);\n      for (var n = 0; n < elements.length; n++) {\n        upgradeElementInternal(elements[n], jsClass);\n      }\n    }\n  }\n\n  /**\n   * Upgrades a specific element rather than all in the DOM.\n   *\n   * @param {!Element} element The element we wish to upgrade.\n   * @param {string=} optJsClass Optional name of the class we want to upgrade\n   * the element to.\n   */\n  function upgradeElementInternal(element, optJsClass) {\n    // Verify argument type.\n    if (!(typeof element === 'object' && element instanceof Element)) {\n      throw new Error('Invalid argument provided to upgrade MDL element.');\n    }\n    // Allow upgrade to be canceled by canceling emitted event.\n    var upgradingEv = createEvent_('mdl-componentupgrading', true, true);\n    element.dispatchEvent(upgradingEv);\n    if (upgradingEv.defaultPrevented) {\n      return;\n    }\n\n    var upgradedList = getUpgradedListOfElement_(element);\n    var classesToUpgrade = [];\n    // If jsClass is not provided scan the registered components to find the\n    // ones matching the element's CSS classList.\n    if (!optJsClass) {\n      var classList = element.classList;\n      registeredComponents_.forEach(function(component) {\n        // Match CSS & Not to be upgraded & Not upgraded.\n        if (classList.contains(component.cssClass) &&\n            classesToUpgrade.indexOf(component) === -1 &&\n            !isElementUpgraded_(element, component.className)) {\n          classesToUpgrade.push(component);\n        }\n      });\n    } else if (!isElementUpgraded_(element, optJsClass)) {\n      classesToUpgrade.push(findRegisteredClass_(optJsClass));\n    }\n\n    // Upgrade the element for each classes.\n    for (var i = 0, n = classesToUpgrade.length, registeredClass; i < n; i++) {\n      registeredClass = classesToUpgrade[i];\n      if (registeredClass) {\n        // Mark element as upgraded.\n        upgradedList.push(registeredClass.className);\n        element.setAttribute('data-upgraded', upgradedList.join(','));\n        var instance = new registeredClass.classConstructor(element);\n        instance[componentConfigProperty_] = registeredClass;\n        createdComponents_.push(instance);\n        // Call any callbacks the user has registered with this component type.\n        for (var j = 0, m = registeredClass.callbacks.length; j < m; j++) {\n          registeredClass.callbacks[j](element);\n        }\n\n        if (registeredClass.widget) {\n          // Assign per element instance for control over API\n          element[registeredClass.className] = instance;\n        }\n      } else {\n        throw new Error(\n          'Unable to find a registered component for the given class.');\n      }\n\n      var upgradedEv = createEvent_('mdl-componentupgraded', true, false);\n      element.dispatchEvent(upgradedEv);\n    }\n  }\n\n  /**\n   * Upgrades a specific list of elements rather than all in the DOM.\n   *\n   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements\n   * The elements we wish to upgrade.\n   */\n  function upgradeElementsInternal(elements) {\n    if (!Array.isArray(elements)) {\n      if (elements instanceof Element) {\n        elements = [elements];\n      } else {\n        elements = Array.prototype.slice.call(elements);\n      }\n    }\n    for (var i = 0, n = elements.length, element; i < n; i++) {\n      element = elements[i];\n      if (element instanceof HTMLElement) {\n        upgradeElementInternal(element);\n        if (element.children.length > 0) {\n          upgradeElementsInternal(element.children);\n        }\n      }\n    }\n  }\n\n  /**\n   * Registers a class for future use and attempts to upgrade existing DOM.\n   *\n   * @param {componentHandler.ComponentConfigPublic} config\n   */\n  function registerInternal(config) {\n    // In order to support both Closure-compiled and uncompiled code accessing\n    // this method, we need to allow for both the dot and array syntax for\n    // property access. You'll therefore see the `foo.bar || foo['bar']`\n    // pattern repeated across this method.\n    var widgetMissing = (typeof config.widget === 'undefined' &&\n        typeof config['widget'] === 'undefined');\n    var widget = true;\n\n    if (!widgetMissing) {\n      widget = config.widget || config['widget'];\n    }\n\n    var newConfig = /** @type {componentHandler.ComponentConfig} */ ({\n      classConstructor: config.constructor || config['constructor'],\n      className: config.classAsString || config['classAsString'],\n      cssClass: config.cssClass || config['cssClass'],\n      widget: widget,\n      callbacks: []\n    });\n\n    registeredComponents_.forEach(function(item) {\n      if (item.cssClass === newConfig.cssClass) {\n        throw new Error('The provided cssClass has already been registered: ' + item.cssClass);\n      }\n      if (item.className === newConfig.className) {\n        throw new Error('The provided className has already been registered');\n      }\n    });\n\n    if (config.constructor.prototype\n        .hasOwnProperty(componentConfigProperty_)) {\n      throw new Error(\n          'MDL component classes must not have ' + componentConfigProperty_ +\n          ' defined as a property.');\n    }\n\n    var found = findRegisteredClass_(config.classAsString, newConfig);\n\n    if (!found) {\n      registeredComponents_.push(newConfig);\n    }\n  }\n\n  /**\n   * Allows user to be alerted to any upgrades that are performed for a given\n   * component type\n   *\n   * @param {string} jsClass The class name of the MDL component we wish\n   * to hook into for any upgrades performed.\n   * @param {function(!HTMLElement)} callback The function to call upon an\n   * upgrade. This function should expect 1 parameter - the HTMLElement which\n   * got upgraded.\n   */\n  function registerUpgradedCallbackInternal(jsClass, callback) {\n    var regClass = findRegisteredClass_(jsClass);\n    if (regClass) {\n      regClass.callbacks.push(callback);\n    }\n  }\n\n  /**\n   * Upgrades all registered components found in the current DOM. This is\n   * automatically called on window load.\n   */\n  function upgradeAllRegisteredInternal() {\n    for (var n = 0; n < registeredComponents_.length; n++) {\n      upgradeDomInternal(registeredComponents_[n].className);\n    }\n  }\n\n  /**\n   * Check the component for the downgrade method.\n   * Execute if found.\n   * Remove component from createdComponents list.\n   *\n   * @param {?componentHandler.Component} component\n   */\n  function deconstructComponentInternal(component) {\n    if (component) {\n      var componentIndex = createdComponents_.indexOf(component);\n      createdComponents_.splice(componentIndex, 1);\n\n      var upgrades = component.element_.getAttribute('data-upgraded').split(',');\n      var componentPlace = upgrades.indexOf(component[componentConfigProperty_].classAsString);\n      upgrades.splice(componentPlace, 1);\n      component.element_.setAttribute('data-upgraded', upgrades.join(','));\n\n      var ev = createEvent_('mdl-componentdowngraded', true, false);\n      component.element_.dispatchEvent(ev);\n    }\n  }\n\n  /**\n   * Downgrade either a given node, an array of nodes, or a NodeList.\n   *\n   * @param {!Node|!Array<!Node>|!NodeList} nodes\n   */\n  function downgradeNodesInternal(nodes) {\n    /**\n     * Auxiliary function to downgrade a single node.\n     * @param  {!Node} node the node to be downgraded\n     */\n    var downgradeNode = function(node) {\n      createdComponents_.filter(function(item) {\n        return item.element_ === node;\n      }).forEach(deconstructComponentInternal);\n    };\n    if (nodes instanceof Array || nodes instanceof NodeList) {\n      for (var n = 0; n < nodes.length; n++) {\n        downgradeNode(nodes[n]);\n      }\n    } else if (nodes instanceof Node) {\n      downgradeNode(nodes);\n    } else {\n      throw new Error('Invalid argument provided to downgrade MDL nodes.');\n    }\n  }\n\n  // Now return the functions that should be made public with their publicly\n  // facing names...\n  return {\n    upgradeDom: upgradeDomInternal,\n    upgradeElement: upgradeElementInternal,\n    upgradeElements: upgradeElementsInternal,\n    upgradeAllRegistered: upgradeAllRegisteredInternal,\n    registerUpgradedCallback: registerUpgradedCallbackInternal,\n    register: registerInternal,\n    downgradeElements: downgradeNodesInternal\n  };\n})();\n\n/**\n * Describes the type of a registered component type managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   constructor: Function,\n *   classAsString: string,\n *   cssClass: string,\n *   widget: (string|boolean|undefined)\n * }}\n */\ncomponentHandler.ComponentConfigPublic;  // jshint ignore:line\n\n/**\n * Describes the type of a registered component type managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   constructor: !Function,\n *   className: string,\n *   cssClass: string,\n *   widget: (string|boolean),\n *   callbacks: !Array<function(!HTMLElement)>\n * }}\n */\ncomponentHandler.ComponentConfig;  // jshint ignore:line\n\n/**\n * Created component (i.e., upgraded element) type as managed by\n * componentHandler. Provided for benefit of the Closure compiler.\n *\n * @typedef {{\n *   element_: !HTMLElement,\n *   className: string,\n *   classAsString: string,\n *   cssClass: string,\n *   widget: string\n * }}\n */\ncomponentHandler.Component;  // jshint ignore:line\n\n// Export all symbols, for the benefit of Closure compiler.\n// No effect on uncompiled code.\ncomponentHandler['upgradeDom'] = componentHandler.upgradeDom;\ncomponentHandler['upgradeElement'] = componentHandler.upgradeElement;\ncomponentHandler['upgradeElements'] = componentHandler.upgradeElements;\ncomponentHandler['upgradeAllRegistered'] =\n    componentHandler.upgradeAllRegistered;\ncomponentHandler['registerUpgradedCallback'] =\n    componentHandler.registerUpgradedCallback;\ncomponentHandler['register'] = componentHandler.register;\ncomponentHandler['downgradeElements'] = componentHandler.downgradeElements;\nwindow.componentHandler = componentHandler;\nwindow['componentHandler'] = componentHandler;\n\nwindow.addEventListener('load', function() {\n  'use strict';\n\n  /**\n   * Performs a \"Cutting the mustard\" test. If the browser supports the features\n   * tested, adds a mdl-js class to the <html> element. It then upgrades all MDL\n   * components requiring JavaScript.\n   */\n  if ('classList' in document.createElement('div') &&\n      'querySelector' in document &&\n      'addEventListener' in window && Array.prototype.forEach) {\n    document.documentElement.classList.add('mdl-js');\n    componentHandler.upgradeAllRegistered();\n  } else {\n    /**\n     * Dummy function to avoid JS errors.\n     */\n    componentHandler.upgradeElement = function() {};\n    /**\n     * Dummy function to avoid JS errors.\n     */\n    componentHandler.register = function() {};\n  }\n});\n","// Source: https://github.com/darius/requestAnimationFrame/blob/master/requestAnimationFrame.js\n// Adapted from https://gist.github.com/paulirish/1579671 which derived from\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n// requestAnimationFrame polyfill by Erik Mller.\n// Fixes from Paul Irish, Tino Zijdel, Andrew Mao, Klemen Slavi, Darius Bacon\n// MIT license\nif (!Date.now) {\n    /**\n     * Date.now polyfill.\n     * @return {number} the current Date\n     */\n    Date.now = function () {\n        return new Date().getTime();\n    };\n    Date['now'] = Date.now;\n}\nvar vendors = [\n    'webkit',\n    'moz'\n];\nfor (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n    var vp = vendors[i];\n    window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n    window['requestAnimationFrame'] = window.requestAnimationFrame;\n    window['cancelAnimationFrame'] = window.cancelAnimationFrame;\n}\nif (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n    var lastTime = 0;\n    /**\n     * requestAnimationFrame polyfill.\n     * @param  {!Function} callback the callback function.\n     */\n    window.requestAnimationFrame = function (callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function () {\n            callback(lastTime = nextTime);\n        }, nextTime - now);\n    };\n    window.cancelAnimationFrame = clearTimeout;\n    window['requestAnimationFrame'] = window.requestAnimationFrame;\n    window['cancelAnimationFrame'] = window.cancelAnimationFrame;\n}","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Button MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialButton = function MaterialButton(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialButton'] = MaterialButton;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialButton.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialButton.prototype.CssClasses_ = {\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_CONTAINER: 'mdl-button__ripple-container',\n    RIPPLE: 'mdl-ripple'\n};\n/**\n   * Handle blur of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialButton.prototype.blurHandler_ = function (event) {\n    if (event) {\n        this.element_.blur();\n    }\n};\n// Public methods.\n/**\n   * Disable button.\n   *\n   * @public\n   */\nMaterialButton.prototype.disable = function () {\n    this.element_.disabled = true;\n};\nMaterialButton.prototype['disable'] = MaterialButton.prototype.disable;\n/**\n   * Enable button.\n   *\n   * @public\n   */\nMaterialButton.prototype.enable = function () {\n    this.element_.disabled = false;\n};\nMaterialButton.prototype['enable'] = MaterialButton.prototype.enable;\n/**\n   * Initialize element.\n   */\nMaterialButton.prototype.init = function () {\n    if (this.element_) {\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            var rippleContainer = document.createElement('span');\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleElement_ = document.createElement('span');\n            this.rippleElement_.classList.add(this.CssClasses_.RIPPLE);\n            rippleContainer.appendChild(this.rippleElement_);\n            this.boundRippleBlurHandler = this.blurHandler_.bind(this);\n            this.rippleElement_.addEventListener('mouseup', this.boundRippleBlurHandler);\n            this.element_.appendChild(rippleContainer);\n        }\n        this.boundButtonBlurHandler = this.blurHandler_.bind(this);\n        this.element_.addEventListener('mouseup', this.boundButtonBlurHandler);\n        this.element_.addEventListener('mouseleave', this.boundButtonBlurHandler);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialButton,\n    classAsString: 'MaterialButton',\n    cssClass: 'mdl-js-button',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Checkbox MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialCheckbox = function MaterialCheckbox(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialCheckbox'] = MaterialCheckbox;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialCheckbox.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialCheckbox.prototype.CssClasses_ = {\n    INPUT: 'mdl-checkbox__input',\n    BOX_OUTLINE: 'mdl-checkbox__box-outline',\n    FOCUS_HELPER: 'mdl-checkbox__focus-helper',\n    TICK_OUTLINE: 'mdl-checkbox__tick-outline',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-checkbox__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked',\n    IS_UPGRADED: 'is-upgraded'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onChange_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialCheckbox.prototype.onMouseUp_ = function (event) {\n    this.blur_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialCheckbox.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialCheckbox.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.inputElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the inputs toggle state and update display.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.checkToggleState = function () {\n    if (this.inputElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialCheckbox.prototype['checkToggleState'] = MaterialCheckbox.prototype.checkToggleState;\n/**\n   * Check the inputs disabled state and update display.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.checkDisabled = function () {\n    if (this.inputElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialCheckbox.prototype['checkDisabled'] = MaterialCheckbox.prototype.checkDisabled;\n/**\n   * Disable checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.disable = function () {\n    this.inputElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['disable'] = MaterialCheckbox.prototype.disable;\n/**\n   * Enable checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.enable = function () {\n    this.inputElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['enable'] = MaterialCheckbox.prototype.enable;\n/**\n   * Check checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.check = function () {\n    this.inputElement_.checked = true;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['check'] = MaterialCheckbox.prototype.check;\n/**\n   * Uncheck checkbox.\n   *\n   * @public\n   */\nMaterialCheckbox.prototype.uncheck = function () {\n    this.inputElement_.checked = false;\n    this.updateClasses_();\n};\nMaterialCheckbox.prototype['uncheck'] = MaterialCheckbox.prototype.uncheck;\n/**\n   * Initialize element.\n   */\nMaterialCheckbox.prototype.init = function () {\n    if (this.element_) {\n        this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        var boxOutline = document.createElement('span');\n        boxOutline.classList.add(this.CssClasses_.BOX_OUTLINE);\n        var tickContainer = document.createElement('span');\n        tickContainer.classList.add(this.CssClasses_.FOCUS_HELPER);\n        var tickOutline = document.createElement('span');\n        tickOutline.classList.add(this.CssClasses_.TICK_OUTLINE);\n        boxOutline.appendChild(tickOutline);\n        this.element_.appendChild(tickContainer);\n        this.element_.appendChild(boxOutline);\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            this.rippleContainerElement_ = document.createElement('span');\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            this.boundRippleMouseUp = this.onMouseUp_.bind(this);\n            this.rippleContainerElement_.addEventListener('mouseup', this.boundRippleMouseUp);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            this.rippleContainerElement_.appendChild(ripple);\n            this.element_.appendChild(this.rippleContainerElement_);\n        }\n        this.boundInputOnChange = this.onChange_.bind(this);\n        this.boundInputOnFocus = this.onFocus_.bind(this);\n        this.boundInputOnBlur = this.onBlur_.bind(this);\n        this.boundElementMouseUp = this.onMouseUp_.bind(this);\n        this.inputElement_.addEventListener('change', this.boundInputOnChange);\n        this.inputElement_.addEventListener('focus', this.boundInputOnFocus);\n        this.inputElement_.addEventListener('blur', this.boundInputOnBlur);\n        this.element_.addEventListener('mouseup', this.boundElementMouseUp);\n        this.updateClasses_();\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialCheckbox,\n    classAsString: 'MaterialCheckbox',\n    cssClass: 'mdl-js-checkbox',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for icon toggle MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialIconToggle = function MaterialIconToggle(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialIconToggle'] = MaterialIconToggle;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialIconToggle.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialIconToggle.prototype.CssClasses_ = {\n    INPUT: 'mdl-icon-toggle__input',\n    JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-icon-toggle__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onChange_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialIconToggle.prototype.onMouseUp_ = function (event) {\n    this.blur_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialIconToggle.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialIconToggle.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.inputElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the inputs toggle state and update display.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.checkToggleState = function () {\n    if (this.inputElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialIconToggle.prototype['checkToggleState'] = MaterialIconToggle.prototype.checkToggleState;\n/**\n   * Check the inputs disabled state and update display.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.checkDisabled = function () {\n    if (this.inputElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialIconToggle.prototype['checkDisabled'] = MaterialIconToggle.prototype.checkDisabled;\n/**\n   * Disable icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.disable = function () {\n    this.inputElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['disable'] = MaterialIconToggle.prototype.disable;\n/**\n   * Enable icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.enable = function () {\n    this.inputElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['enable'] = MaterialIconToggle.prototype.enable;\n/**\n   * Check icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.check = function () {\n    this.inputElement_.checked = true;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['check'] = MaterialIconToggle.prototype.check;\n/**\n   * Uncheck icon toggle.\n   *\n   * @public\n   */\nMaterialIconToggle.prototype.uncheck = function () {\n    this.inputElement_.checked = false;\n    this.updateClasses_();\n};\nMaterialIconToggle.prototype['uncheck'] = MaterialIconToggle.prototype.uncheck;\n/**\n   * Initialize element.\n   */\nMaterialIconToggle.prototype.init = function () {\n    if (this.element_) {\n        this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        if (this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            this.rippleContainerElement_ = document.createElement('span');\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            this.boundRippleMouseUp = this.onMouseUp_.bind(this);\n            this.rippleContainerElement_.addEventListener('mouseup', this.boundRippleMouseUp);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            this.rippleContainerElement_.appendChild(ripple);\n            this.element_.appendChild(this.rippleContainerElement_);\n        }\n        this.boundInputOnChange = this.onChange_.bind(this);\n        this.boundInputOnFocus = this.onFocus_.bind(this);\n        this.boundInputOnBlur = this.onBlur_.bind(this);\n        this.boundElementOnMouseUp = this.onMouseUp_.bind(this);\n        this.inputElement_.addEventListener('change', this.boundInputOnChange);\n        this.inputElement_.addEventListener('focus', this.boundInputOnFocus);\n        this.inputElement_.addEventListener('blur', this.boundInputOnBlur);\n        this.element_.addEventListener('mouseup', this.boundElementOnMouseUp);\n        this.updateClasses_();\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialIconToggle,\n    classAsString: 'MaterialIconToggle',\n    cssClass: 'mdl-js-icon-toggle',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for dropdown MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialMenu = function MaterialMenu(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialMenu'] = MaterialMenu;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialMenu.prototype.Constant_ = {\n    // Total duration of the menu animation.\n    TRANSITION_DURATION_SECONDS: 0.3,\n    // The fraction of the total duration we want to use for menu item animations.\n    TRANSITION_DURATION_FRACTION: 0.8,\n    // How long the menu stays open after choosing an option (so the user can see\n    // the ripple).\n    CLOSE_TIMEOUT: 150\n};\n/**\n   * Keycodes, for code readability.\n   *\n   * @enum {number}\n   * @private\n   */\nMaterialMenu.prototype.Keycodes_ = {\n    ENTER: 13,\n    ESCAPE: 27,\n    SPACE: 32,\n    UP_ARROW: 38,\n    DOWN_ARROW: 40\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialMenu.prototype.CssClasses_ = {\n    CONTAINER: 'mdl-menu__container',\n    OUTLINE: 'mdl-menu__outline',\n    ITEM: 'mdl-menu__item',\n    ITEM_RIPPLE_CONTAINER: 'mdl-menu__item-ripple-container',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE: 'mdl-ripple',\n    // Statuses\n    IS_UPGRADED: 'is-upgraded',\n    IS_VISIBLE: 'is-visible',\n    IS_ANIMATING: 'is-animating',\n    // Alignment options\n    BOTTOM_LEFT: 'mdl-menu--bottom-left',\n    // This is the default.\n    BOTTOM_RIGHT: 'mdl-menu--bottom-right',\n    TOP_LEFT: 'mdl-menu--top-left',\n    TOP_RIGHT: 'mdl-menu--top-right',\n    UNALIGNED: 'mdl-menu--unaligned'\n};\n/**\n   * Initialize element.\n   */\nMaterialMenu.prototype.init = function () {\n    if (this.element_) {\n        // Create container for the menu.\n        var container = document.createElement('div');\n        container.classList.add(this.CssClasses_.CONTAINER);\n        this.element_.parentElement.insertBefore(container, this.element_);\n        this.element_.parentElement.removeChild(this.element_);\n        container.appendChild(this.element_);\n        this.container_ = container;\n        // Create outline for the menu (shadow and background).\n        var outline = document.createElement('div');\n        outline.classList.add(this.CssClasses_.OUTLINE);\n        this.outline_ = outline;\n        container.insertBefore(outline, this.element_);\n        // Find the \"for\" element and bind events to it.\n        var forElId = this.element_.getAttribute('for') || this.element_.getAttribute('data-mdl-for');\n        var forEl = null;\n        if (forElId) {\n            forEl = document.getElementById(forElId);\n            if (forEl) {\n                this.forElement_ = forEl;\n                forEl.addEventListener('click', this.handleForClick_.bind(this));\n                forEl.addEventListener('keydown', this.handleForKeyboardEvent_.bind(this));\n            }\n        }\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n        this.boundItemKeydown_ = this.handleItemKeyboardEvent_.bind(this);\n        this.boundItemClick_ = this.handleItemClick_.bind(this);\n        for (var i = 0; i < items.length; i++) {\n            // Add a listener to each menu item.\n            items[i].addEventListener('click', this.boundItemClick_);\n            // Add a tab index to each menu item.\n            items[i].tabIndex = '-1';\n            // Add a keyboard listener to each menu item.\n            items[i].addEventListener('keydown', this.boundItemKeydown_);\n        }\n        // Add ripple classes to each item, if the user has enabled ripples.\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            for (i = 0; i < items.length; i++) {\n                var item = items[i];\n                var rippleContainer = document.createElement('span');\n                rippleContainer.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);\n                var ripple = document.createElement('span');\n                ripple.classList.add(this.CssClasses_.RIPPLE);\n                rippleContainer.appendChild(ripple);\n                item.appendChild(rippleContainer);\n                item.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            }\n        }\n        // Copy alignment classes to the container, so the outline can use them.\n        if (this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)) {\n            this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n            this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n            this.outline_.classList.add(this.CssClasses_.TOP_LEFT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n            this.outline_.classList.add(this.CssClasses_.TOP_RIGHT);\n        }\n        if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n            this.outline_.classList.add(this.CssClasses_.UNALIGNED);\n        }\n        container.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n/**\n   * Handles a click on the \"for\" element, by positioning the menu and then\n   * toggling it.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleForClick_ = function (evt) {\n    if (this.element_ && this.forElement_) {\n        var rect = this.forElement_.getBoundingClientRect();\n        var forRect = this.forElement_.parentElement.getBoundingClientRect();\n        if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n        } else if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n            // Position below the \"for\" element, aligned to its right.\n            this.container_.style.right = forRect.right - rect.right + 'px';\n            this.container_.style.top = this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';\n        } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n            // Position above the \"for\" element, aligned to its left.\n            this.container_.style.left = this.forElement_.offsetLeft + 'px';\n            this.container_.style.bottom = forRect.bottom - rect.top + 'px';\n        } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n            // Position above the \"for\" element, aligned to its right.\n            this.container_.style.right = forRect.right - rect.right + 'px';\n            this.container_.style.bottom = forRect.bottom - rect.top + 'px';\n        } else {\n            // Default: position below the \"for\" element, aligned to its left.\n            this.container_.style.left = this.forElement_.offsetLeft + 'px';\n            this.container_.style.top = this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';\n        }\n    }\n    this.toggle(evt);\n};\n/**\n   * Handles a keyboard event on the \"for\" element.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleForKeyboardEvent_ = function (evt) {\n    if (this.element_ && this.container_ && this.forElement_) {\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM + ':not([disabled])');\n        if (items && items.length > 0 && this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n            if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n                evt.preventDefault();\n                items[items.length - 1].focus();\n            } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n                evt.preventDefault();\n                items[0].focus();\n            }\n        }\n    }\n};\n/**\n   * Handles a keyboard event on an item.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleItemKeyboardEvent_ = function (evt) {\n    if (this.element_ && this.container_) {\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM + ':not([disabled])');\n        if (items && items.length > 0 && this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n            var currentIndex = Array.prototype.slice.call(items).indexOf(evt.target);\n            if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n                evt.preventDefault();\n                if (currentIndex > 0) {\n                    items[currentIndex - 1].focus();\n                } else {\n                    items[items.length - 1].focus();\n                }\n            } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n                evt.preventDefault();\n                if (items.length > currentIndex + 1) {\n                    items[currentIndex + 1].focus();\n                } else {\n                    items[0].focus();\n                }\n            } else if (evt.keyCode === this.Keycodes_.SPACE || evt.keyCode === this.Keycodes_.ENTER) {\n                evt.preventDefault();\n                // Send mousedown and mouseup to trigger ripple.\n                var e = new MouseEvent('mousedown');\n                evt.target.dispatchEvent(e);\n                e = new MouseEvent('mouseup');\n                evt.target.dispatchEvent(e);\n                // Send click.\n                evt.target.click();\n            } else if (evt.keyCode === this.Keycodes_.ESCAPE) {\n                evt.preventDefault();\n                this.hide();\n            }\n        }\n    }\n};\n/**\n   * Handles a click event on an item.\n   *\n   * @param {Event} evt The event that fired.\n   * @private\n   */\nMaterialMenu.prototype.handleItemClick_ = function (evt) {\n    if (evt.target.hasAttribute('disabled')) {\n        evt.stopPropagation();\n    } else {\n        // Wait some time before closing menu, so the user can see the ripple.\n        this.closing_ = true;\n        window.setTimeout(function (evt) {\n            this.hide();\n            this.closing_ = false;\n        }.bind(this), this.Constant_.CLOSE_TIMEOUT);\n    }\n};\n/**\n   * Calculates the initial clip (for opening the menu) or final clip (for closing\n   * it), and applies it. This allows us to animate from or to the correct point,\n   * that is, the point it's aligned to in the \"for\" element.\n   *\n   * @param {number} height Height of the clip rectangle\n   * @param {number} width Width of the clip rectangle\n   * @private\n   */\nMaterialMenu.prototype.applyClip_ = function (height, width) {\n    if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {\n        // Do not clip.\n        this.element_.style.clip = '';\n    } else if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {\n        // Clip to the top right corner of the menu.\n        this.element_.style.clip = 'rect(0 ' + width + 'px ' + '0 ' + width + 'px)';\n    } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {\n        // Clip to the bottom left corner of the menu.\n        this.element_.style.clip = 'rect(' + height + 'px 0 ' + height + 'px 0)';\n    } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n        // Clip to the bottom right corner of the menu.\n        this.element_.style.clip = 'rect(' + height + 'px ' + width + 'px ' + height + 'px ' + width + 'px)';\n    } else {\n        // Default: do not clip (same as clipping to the top left corner).\n        this.element_.style.clip = '';\n    }\n};\n/**\n   * Cleanup function to remove animation listeners.\n   *\n   * @param {Event} evt\n   * @private\n   */\nMaterialMenu.prototype.removeAnimationEndListener_ = function (evt) {\n    evt.target.classList.remove(MaterialMenu.prototype.CssClasses_.IS_ANIMATING);\n};\n/**\n   * Adds an event listener to clean up after the animation ends.\n   *\n   * @private\n   */\nMaterialMenu.prototype.addAnimationEndListener_ = function () {\n    this.element_.addEventListener('transitionend', this.removeAnimationEndListener_);\n    this.element_.addEventListener('webkitTransitionEnd', this.removeAnimationEndListener_);\n};\n/**\n   * Displays the menu.\n   *\n   * @public\n   */\nMaterialMenu.prototype.show = function (evt) {\n    if (this.element_ && this.container_ && this.outline_) {\n        // Measure the inner element.\n        var height = this.element_.getBoundingClientRect().height;\n        var width = this.element_.getBoundingClientRect().width;\n        // Apply the inner element's size to the container and outline.\n        this.container_.style.width = width + 'px';\n        this.container_.style.height = height + 'px';\n        this.outline_.style.width = width + 'px';\n        this.outline_.style.height = height + 'px';\n        var transitionDuration = this.Constant_.TRANSITION_DURATION_SECONDS * this.Constant_.TRANSITION_DURATION_FRACTION;\n        // Calculate transition delays for individual menu items, so that they fade\n        // in one at a time.\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n        for (var i = 0; i < items.length; i++) {\n            var itemDelay = null;\n            if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT) || this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {\n                itemDelay = (height - items[i].offsetTop - items[i].offsetHeight) / height * transitionDuration + 's';\n            } else {\n                itemDelay = items[i].offsetTop / height * transitionDuration + 's';\n            }\n            items[i].style.transitionDelay = itemDelay;\n        }\n        // Apply the initial clip to the text before we start animating.\n        this.applyClip_(height, width);\n        // Wait for the next frame, turn on animation, and apply the final clip.\n        // Also make it visible. This triggers the transitions.\n        window.requestAnimationFrame(function () {\n            this.element_.classList.add(this.CssClasses_.IS_ANIMATING);\n            this.element_.style.clip = 'rect(0 ' + width + 'px ' + height + 'px 0)';\n            this.container_.classList.add(this.CssClasses_.IS_VISIBLE);\n        }.bind(this));\n        // Clean up after the animation is complete.\n        this.addAnimationEndListener_();\n        // Add a click listener to the document, to close the menu.\n        var callback = function (e) {\n            // Check to see if the document is processing the same event that\n            // displayed the menu in the first place. If so, do nothing.\n            // Also check to see if the menu is in the process of closing itself, and\n            // do nothing in that case.\n            // Also check if the clicked element is a menu item\n            // if so, do nothing.\n            if (e !== evt && !this.closing_ && e.target.parentNode !== this.element_) {\n                document.removeEventListener('click', callback);\n                this.hide();\n            }\n        }.bind(this);\n        document.addEventListener('click', callback);\n    }\n};\nMaterialMenu.prototype['show'] = MaterialMenu.prototype.show;\n/**\n   * Hides the menu.\n   *\n   * @public\n   */\nMaterialMenu.prototype.hide = function () {\n    if (this.element_ && this.container_ && this.outline_) {\n        var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);\n        // Remove all transition delays; menu items fade out concurrently.\n        for (var i = 0; i < items.length; i++) {\n            items[i].style.removeProperty('transition-delay');\n        }\n        // Measure the inner element.\n        var rect = this.element_.getBoundingClientRect();\n        var height = rect.height;\n        var width = rect.width;\n        // Turn on animation, and apply the final clip. Also make invisible.\n        // This triggers the transitions.\n        this.element_.classList.add(this.CssClasses_.IS_ANIMATING);\n        this.applyClip_(height, width);\n        this.container_.classList.remove(this.CssClasses_.IS_VISIBLE);\n        // Clean up after the animation is complete.\n        this.addAnimationEndListener_();\n    }\n};\nMaterialMenu.prototype['hide'] = MaterialMenu.prototype.hide;\n/**\n   * Displays or hides the menu, depending on current state.\n   *\n   * @public\n   */\nMaterialMenu.prototype.toggle = function (evt) {\n    if (this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {\n        this.hide();\n    } else {\n        this.show(evt);\n    }\n};\nMaterialMenu.prototype['toggle'] = MaterialMenu.prototype.toggle;\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialMenu,\n    classAsString: 'MaterialMenu',\n    cssClass: 'mdl-js-menu',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Progress MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialProgress = function MaterialProgress(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialProgress'] = MaterialProgress;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialProgress.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialProgress.prototype.CssClasses_ = { INDETERMINATE_CLASS: 'mdl-progress__indeterminate' };\n/**\n   * Set the current progress of the progressbar.\n   *\n   * @param {number} p Percentage of the progress (0-100)\n   * @public\n   */\nMaterialProgress.prototype.setProgress = function (p) {\n    if (this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)) {\n        return;\n    }\n    this.progressbar_.style.width = p + '%';\n};\nMaterialProgress.prototype['setProgress'] = MaterialProgress.prototype.setProgress;\n/**\n   * Set the current progress of the buffer.\n   *\n   * @param {number} p Percentage of the buffer (0-100)\n   * @public\n   */\nMaterialProgress.prototype.setBuffer = function (p) {\n    this.bufferbar_.style.width = p + '%';\n    this.auxbar_.style.width = 100 - p + '%';\n};\nMaterialProgress.prototype['setBuffer'] = MaterialProgress.prototype.setBuffer;\n/**\n   * Initialize element.\n   */\nMaterialProgress.prototype.init = function () {\n    if (this.element_) {\n        var el = document.createElement('div');\n        el.className = 'progressbar bar bar1';\n        this.element_.appendChild(el);\n        this.progressbar_ = el;\n        el = document.createElement('div');\n        el.className = 'bufferbar bar bar2';\n        this.element_.appendChild(el);\n        this.bufferbar_ = el;\n        el = document.createElement('div');\n        el.className = 'auxbar bar bar3';\n        this.element_.appendChild(el);\n        this.auxbar_ = el;\n        this.progressbar_.style.width = '0%';\n        this.bufferbar_.style.width = '100%';\n        this.auxbar_.style.width = '0%';\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialProgress,\n    classAsString: 'MaterialProgress',\n    cssClass: 'mdl-js-progress',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Radio MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialRadio = function MaterialRadio(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialRadio'] = MaterialRadio;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialRadio.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialRadio.prototype.CssClasses_ = {\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked',\n    IS_UPGRADED: 'is-upgraded',\n    JS_RADIO: 'mdl-js-radio',\n    RADIO_BTN: 'mdl-radio__button',\n    RADIO_OUTER_CIRCLE: 'mdl-radio__outer-circle',\n    RADIO_INNER_CIRCLE: 'mdl-radio__inner-circle',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-radio__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onChange_ = function (event) {\n    // Since other radio buttons don't get change events, we need to look for\n    // them to update their classes.\n    var radios = document.getElementsByClassName(this.CssClasses_.JS_RADIO);\n    for (var i = 0; i < radios.length; i++) {\n        var button = radios[i].querySelector('.' + this.CssClasses_.RADIO_BTN);\n        // Different name == different group, so no point updating those.\n        if (button.getAttribute('name') === this.btnElement_.getAttribute('name')) {\n            if (typeof radios[i]['MaterialRadio'] !== 'undefined') {\n                radios[i]['MaterialRadio'].updateClasses_();\n            }\n        }\n    }\n};\n/**\n   * Handle focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialRadio.prototype.onMouseup_ = function (event) {\n    this.blur_();\n};\n/**\n   * Update classes.\n   *\n   * @private\n   */\nMaterialRadio.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialRadio.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.btnElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the components disabled state.\n   *\n   * @public\n   */\nMaterialRadio.prototype.checkDisabled = function () {\n    if (this.btnElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialRadio.prototype['checkDisabled'] = MaterialRadio.prototype.checkDisabled;\n/**\n   * Check the components toggled state.\n   *\n   * @public\n   */\nMaterialRadio.prototype.checkToggleState = function () {\n    if (this.btnElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialRadio.prototype['checkToggleState'] = MaterialRadio.prototype.checkToggleState;\n/**\n   * Disable radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.disable = function () {\n    this.btnElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialRadio.prototype['disable'] = MaterialRadio.prototype.disable;\n/**\n   * Enable radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.enable = function () {\n    this.btnElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialRadio.prototype['enable'] = MaterialRadio.prototype.enable;\n/**\n   * Check radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.check = function () {\n    this.btnElement_.checked = true;\n    this.onChange_(null);\n};\nMaterialRadio.prototype['check'] = MaterialRadio.prototype.check;\n/**\n   * Uncheck radio.\n   *\n   * @public\n   */\nMaterialRadio.prototype.uncheck = function () {\n    this.btnElement_.checked = false;\n    this.onChange_(null);\n};\nMaterialRadio.prototype['uncheck'] = MaterialRadio.prototype.uncheck;\n/**\n   * Initialize element.\n   */\nMaterialRadio.prototype.init = function () {\n    if (this.element_) {\n        this.btnElement_ = this.element_.querySelector('.' + this.CssClasses_.RADIO_BTN);\n        this.boundChangeHandler_ = this.onChange_.bind(this);\n        this.boundFocusHandler_ = this.onChange_.bind(this);\n        this.boundBlurHandler_ = this.onBlur_.bind(this);\n        this.boundMouseUpHandler_ = this.onMouseup_.bind(this);\n        var outerCircle = document.createElement('span');\n        outerCircle.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);\n        var innerCircle = document.createElement('span');\n        innerCircle.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE);\n        this.element_.appendChild(outerCircle);\n        this.element_.appendChild(innerCircle);\n        var rippleContainer;\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            rippleContainer = document.createElement('span');\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            rippleContainer.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            rippleContainer.addEventListener('mouseup', this.boundMouseUpHandler_);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            rippleContainer.appendChild(ripple);\n            this.element_.appendChild(rippleContainer);\n        }\n        this.btnElement_.addEventListener('change', this.boundChangeHandler_);\n        this.btnElement_.addEventListener('focus', this.boundFocusHandler_);\n        this.btnElement_.addEventListener('blur', this.boundBlurHandler_);\n        this.element_.addEventListener('mouseup', this.boundMouseUpHandler_);\n        this.updateClasses_();\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialRadio,\n    classAsString: 'MaterialRadio',\n    cssClass: 'mdl-js-radio',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Slider MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialSlider = function MaterialSlider(element) {\n    this.element_ = element;\n    // Browser feature detection.\n    this.isIE_ = window.navigator.msPointerEnabled;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialSlider'] = MaterialSlider;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSlider.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSlider.prototype.CssClasses_ = {\n    IE_CONTAINER: 'mdl-slider__ie-container',\n    SLIDER_CONTAINER: 'mdl-slider__container',\n    BACKGROUND_FLEX: 'mdl-slider__background-flex',\n    BACKGROUND_LOWER: 'mdl-slider__background-lower',\n    BACKGROUND_UPPER: 'mdl-slider__background-upper',\n    IS_LOWEST_VALUE: 'is-lowest-value',\n    IS_UPGRADED: 'is-upgraded'\n};\n/**\n   * Handle input on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSlider.prototype.onInput_ = function (event) {\n    this.updateValueStyles_();\n};\n/**\n   * Handle change on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSlider.prototype.onChange_ = function (event) {\n    this.updateValueStyles_();\n};\n/**\n   * Handle mouseup on element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSlider.prototype.onMouseUp_ = function (event) {\n    event.target.blur();\n};\n/**\n   * Handle mousedown on container element.\n   * This handler is purpose is to not require the use to click\n   * exactly on the 2px slider element, as FireFox seems to be very\n   * strict about this.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   * @suppress {missingProperties}\n   */\nMaterialSlider.prototype.onContainerMouseDown_ = function (event) {\n    // If this click is not on the parent element (but rather some child)\n    // ignore. It may still bubble up.\n    if (event.target !== this.element_.parentElement) {\n        return;\n    }\n    // Discard the original event and create a new event that\n    // is on the slider element.\n    event.preventDefault();\n    var newEvent = new MouseEvent('mousedown', {\n        target: event.target,\n        buttons: event.buttons,\n        clientX: event.clientX,\n        clientY: this.element_.getBoundingClientRect().y\n    });\n    this.element_.dispatchEvent(newEvent);\n};\n/**\n   * Handle updating of values.\n   *\n   * @private\n   */\nMaterialSlider.prototype.updateValueStyles_ = function () {\n    // Calculate and apply percentages to div structure behind slider.\n    var fraction = (this.element_.value - this.element_.min) / (this.element_.max - this.element_.min);\n    if (fraction === 0) {\n        this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE);\n    }\n    if (!this.isIE_) {\n        this.backgroundLower_.style.flex = fraction;\n        this.backgroundLower_.style.webkitFlex = fraction;\n        this.backgroundUpper_.style.flex = 1 - fraction;\n        this.backgroundUpper_.style.webkitFlex = 1 - fraction;\n    }\n};\n// Public methods.\n/**\n   * Disable slider.\n   *\n   * @public\n   */\nMaterialSlider.prototype.disable = function () {\n    this.element_.disabled = true;\n};\nMaterialSlider.prototype['disable'] = MaterialSlider.prototype.disable;\n/**\n   * Enable slider.\n   *\n   * @public\n   */\nMaterialSlider.prototype.enable = function () {\n    this.element_.disabled = false;\n};\nMaterialSlider.prototype['enable'] = MaterialSlider.prototype.enable;\n/**\n   * Update slider value.\n   *\n   * @param {number} value The value to which to set the control (optional).\n   * @public\n   */\nMaterialSlider.prototype.change = function (value) {\n    if (typeof value !== 'undefined') {\n        this.element_.value = value;\n    }\n    this.updateValueStyles_();\n};\nMaterialSlider.prototype['change'] = MaterialSlider.prototype.change;\n/**\n   * Initialize element.\n   */\nMaterialSlider.prototype.init = function () {\n    if (this.element_) {\n        if (this.isIE_) {\n            // Since we need to specify a very large height in IE due to\n            // implementation limitations, we add a parent here that trims it down to\n            // a reasonable size.\n            var containerIE = document.createElement('div');\n            containerIE.classList.add(this.CssClasses_.IE_CONTAINER);\n            this.element_.parentElement.insertBefore(containerIE, this.element_);\n            this.element_.parentElement.removeChild(this.element_);\n            containerIE.appendChild(this.element_);\n        } else {\n            // For non-IE browsers, we need a div structure that sits behind the\n            // slider and allows us to style the left and right sides of it with\n            // different colors.\n            var container = document.createElement('div');\n            container.classList.add(this.CssClasses_.SLIDER_CONTAINER);\n            this.element_.parentElement.insertBefore(container, this.element_);\n            this.element_.parentElement.removeChild(this.element_);\n            container.appendChild(this.element_);\n            var backgroundFlex = document.createElement('div');\n            backgroundFlex.classList.add(this.CssClasses_.BACKGROUND_FLEX);\n            container.appendChild(backgroundFlex);\n            this.backgroundLower_ = document.createElement('div');\n            this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER);\n            backgroundFlex.appendChild(this.backgroundLower_);\n            this.backgroundUpper_ = document.createElement('div');\n            this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER);\n            backgroundFlex.appendChild(this.backgroundUpper_);\n        }\n        this.boundInputHandler = this.onInput_.bind(this);\n        this.boundChangeHandler = this.onChange_.bind(this);\n        this.boundMouseUpHandler = this.onMouseUp_.bind(this);\n        this.boundContainerMouseDownHandler = this.onContainerMouseDown_.bind(this);\n        this.element_.addEventListener('input', this.boundInputHandler);\n        this.element_.addEventListener('change', this.boundChangeHandler);\n        this.element_.addEventListener('mouseup', this.boundMouseUpHandler);\n        this.element_.parentElement.addEventListener('mousedown', this.boundContainerMouseDownHandler);\n        this.updateValueStyles_();\n        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSlider,\n    classAsString: 'MaterialSlider',\n    cssClass: 'mdl-js-slider',\n    widget: true\n});","/**\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Snackbar MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialSnackbar = function MaterialSnackbar(element) {\n    this.element_ = element;\n    this.textElement_ = this.element_.querySelector('.' + this.cssClasses_.MESSAGE);\n    this.actionElement_ = this.element_.querySelector('.' + this.cssClasses_.ACTION);\n    if (!this.textElement_) {\n        throw new Error('There must be a message element for a snackbar.');\n    }\n    if (!this.actionElement_) {\n        throw new Error('There must be an action element for a snackbar.');\n    }\n    this.active = false;\n    this.actionHandler_ = undefined;\n    this.message_ = undefined;\n    this.actionText_ = undefined;\n    this.queuedNotifications_ = [];\n    this.setActionHidden_(true);\n};\nwindow['MaterialSnackbar'] = MaterialSnackbar;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSnackbar.prototype.Constant_ = {\n    // The duration of the snackbar show/hide animation, in ms.\n    ANIMATION_LENGTH: 250\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSnackbar.prototype.cssClasses_ = {\n    SNACKBAR: 'mdl-snackbar',\n    MESSAGE: 'mdl-snackbar__text',\n    ACTION: 'mdl-snackbar__action',\n    ACTIVE: 'mdl-snackbar--active'\n};\n/**\n   * Display the snackbar.\n   *\n   * @private\n   */\nMaterialSnackbar.prototype.displaySnackbar_ = function () {\n    this.element_.setAttribute('aria-hidden', 'true');\n    if (this.actionHandler_) {\n        this.actionElement_.textContent = this.actionText_;\n        this.actionElement_.addEventListener('click', this.actionHandler_);\n        this.setActionHidden_(false);\n    }\n    this.textElement_.textContent = this.message_;\n    this.element_.classList.add(this.cssClasses_.ACTIVE);\n    this.element_.setAttribute('aria-hidden', 'false');\n    setTimeout(this.cleanup_.bind(this), this.timeout_);\n};\n/**\n   * Show the snackbar.\n   *\n   * @param {Object} data The data for the notification.\n   * @public\n   */\nMaterialSnackbar.prototype.showSnackbar = function (data) {\n    if (data === undefined) {\n        throw new Error('Please provide a data object with at least a message to display.');\n    }\n    if (data['message'] === undefined) {\n        throw new Error('Please provide a message to be displayed.');\n    }\n    if (data['actionHandler'] && !data['actionText']) {\n        throw new Error('Please provide action text with the handler.');\n    }\n    if (this.active) {\n        this.queuedNotifications_.push(data);\n    } else {\n        this.active = true;\n        this.message_ = data['message'];\n        if (data['timeout']) {\n            this.timeout_ = data['timeout'];\n        } else {\n            this.timeout_ = 2750;\n        }\n        if (data['actionHandler']) {\n            this.actionHandler_ = data['actionHandler'];\n        }\n        if (data['actionText']) {\n            this.actionText_ = data['actionText'];\n        }\n        this.displaySnackbar_();\n    }\n};\nMaterialSnackbar.prototype['showSnackbar'] = MaterialSnackbar.prototype.showSnackbar;\n/**\n   * Check if the queue has items within it.\n   * If it does, display the next entry.\n   *\n   * @private\n   */\nMaterialSnackbar.prototype.checkQueue_ = function () {\n    if (this.queuedNotifications_.length > 0) {\n        this.showSnackbar(this.queuedNotifications_.shift());\n    }\n};\n/**\n   * Cleanup the snackbar event listeners and accessiblity attributes.\n   *\n   * @private\n   */\nMaterialSnackbar.prototype.cleanup_ = function () {\n    this.element_.classList.remove(this.cssClasses_.ACTIVE);\n    setTimeout(function () {\n        this.element_.setAttribute('aria-hidden', 'true');\n        this.textElement_.textContent = '';\n        if (!Boolean(this.actionElement_.getAttribute('aria-hidden'))) {\n            this.setActionHidden_(true);\n            this.actionElement_.textContent = '';\n            this.actionElement_.removeEventListener('click', this.actionHandler_);\n        }\n        this.actionHandler_ = undefined;\n        this.message_ = undefined;\n        this.actionText_ = undefined;\n        this.active = false;\n        this.checkQueue_();\n    }.bind(this), this.Constant_.ANIMATION_LENGTH);\n};\n/**\n   * Set the action handler hidden state.\n   *\n   * @param {boolean} value\n   * @private\n   */\nMaterialSnackbar.prototype.setActionHidden_ = function (value) {\n    if (value) {\n        this.actionElement_.setAttribute('aria-hidden', 'true');\n    } else {\n        this.actionElement_.removeAttribute('aria-hidden');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSnackbar,\n    classAsString: 'MaterialSnackbar',\n    cssClass: 'mdl-js-snackbar',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Spinner MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @param {HTMLElement} element The element that will be upgraded.\n   * @constructor\n   */\nvar MaterialSpinner = function MaterialSpinner(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialSpinner'] = MaterialSpinner;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSpinner.prototype.Constant_ = { MDL_SPINNER_LAYER_COUNT: 4 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSpinner.prototype.CssClasses_ = {\n    MDL_SPINNER_LAYER: 'mdl-spinner__layer',\n    MDL_SPINNER_CIRCLE_CLIPPER: 'mdl-spinner__circle-clipper',\n    MDL_SPINNER_CIRCLE: 'mdl-spinner__circle',\n    MDL_SPINNER_GAP_PATCH: 'mdl-spinner__gap-patch',\n    MDL_SPINNER_LEFT: 'mdl-spinner__left',\n    MDL_SPINNER_RIGHT: 'mdl-spinner__right'\n};\n/**\n   * Auxiliary method to create a spinner layer.\n   *\n   * @param {number} index Index of the layer to be created.\n   * @public\n   */\nMaterialSpinner.prototype.createLayer = function (index) {\n    var layer = document.createElement('div');\n    layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER);\n    layer.classList.add(this.CssClasses_.MDL_SPINNER_LAYER + '-' + index);\n    var leftClipper = document.createElement('div');\n    leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n    leftClipper.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);\n    var gapPatch = document.createElement('div');\n    gapPatch.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);\n    var rightClipper = document.createElement('div');\n    rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER);\n    rightClipper.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);\n    var circleOwners = [\n        leftClipper,\n        gapPatch,\n        rightClipper\n    ];\n    for (var i = 0; i < circleOwners.length; i++) {\n        var circle = document.createElement('div');\n        circle.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE);\n        circleOwners[i].appendChild(circle);\n    }\n    layer.appendChild(leftClipper);\n    layer.appendChild(gapPatch);\n    layer.appendChild(rightClipper);\n    this.element_.appendChild(layer);\n};\nMaterialSpinner.prototype['createLayer'] = MaterialSpinner.prototype.createLayer;\n/**\n   * Stops the spinner animation.\n   * Public method for users who need to stop the spinner for any reason.\n   *\n   * @public\n   */\nMaterialSpinner.prototype.stop = function () {\n    this.element_.classList.remove('is-active');\n};\nMaterialSpinner.prototype['stop'] = MaterialSpinner.prototype.stop;\n/**\n   * Starts the spinner animation.\n   * Public method for users who need to manually start the spinner for any reason\n   * (instead of just adding the 'is-active' class to their markup).\n   *\n   * @public\n   */\nMaterialSpinner.prototype.start = function () {\n    this.element_.classList.add('is-active');\n};\nMaterialSpinner.prototype['start'] = MaterialSpinner.prototype.start;\n/**\n   * Initialize element.\n   */\nMaterialSpinner.prototype.init = function () {\n    if (this.element_) {\n        for (var i = 1; i <= this.Constant_.MDL_SPINNER_LAYER_COUNT; i++) {\n            this.createLayer(i);\n        }\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSpinner,\n    classAsString: 'MaterialSpinner',\n    cssClass: 'mdl-js-spinner',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Checkbox MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialSwitch = function MaterialSwitch(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialSwitch'] = MaterialSwitch;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialSwitch.prototype.Constant_ = { TINY_TIMEOUT: 0.001 };\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialSwitch.prototype.CssClasses_ = {\n    INPUT: 'mdl-switch__input',\n    TRACK: 'mdl-switch__track',\n    THUMB: 'mdl-switch__thumb',\n    FOCUS_HELPER: 'mdl-switch__focus-helper',\n    RIPPLE_EFFECT: 'mdl-js-ripple-effect',\n    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',\n    RIPPLE_CONTAINER: 'mdl-switch__ripple-container',\n    RIPPLE_CENTER: 'mdl-ripple--center',\n    RIPPLE: 'mdl-ripple',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_CHECKED: 'is-checked'\n};\n/**\n   * Handle change of state.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onChange_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus of element.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle mouseup.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialSwitch.prototype.onMouseUp_ = function (event) {\n    this.blur_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialSwitch.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkToggleState();\n};\n/**\n   * Add blur.\n   *\n   * @private\n   */\nMaterialSwitch.prototype.blur_ = function () {\n    // TODO: figure out why there's a focus event being fired after our blur,\n    // so that we can avoid this hack.\n    window.setTimeout(function () {\n        this.inputElement_.blur();\n    }.bind(this), this.Constant_.TINY_TIMEOUT);\n};\n// Public methods.\n/**\n   * Check the components disabled state.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.checkDisabled = function () {\n    if (this.inputElement_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialSwitch.prototype['checkDisabled'] = MaterialSwitch.prototype.checkDisabled;\n/**\n   * Check the components toggled state.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.checkToggleState = function () {\n    if (this.inputElement_.checked) {\n        this.element_.classList.add(this.CssClasses_.IS_CHECKED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_CHECKED);\n    }\n};\nMaterialSwitch.prototype['checkToggleState'] = MaterialSwitch.prototype.checkToggleState;\n/**\n   * Disable switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.disable = function () {\n    this.inputElement_.disabled = true;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['disable'] = MaterialSwitch.prototype.disable;\n/**\n   * Enable switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.enable = function () {\n    this.inputElement_.disabled = false;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['enable'] = MaterialSwitch.prototype.enable;\n/**\n   * Activate switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.on = function () {\n    this.inputElement_.checked = true;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['on'] = MaterialSwitch.prototype.on;\n/**\n   * Deactivate switch.\n   *\n   * @public\n   */\nMaterialSwitch.prototype.off = function () {\n    this.inputElement_.checked = false;\n    this.updateClasses_();\n};\nMaterialSwitch.prototype['off'] = MaterialSwitch.prototype.off;\n/**\n   * Initialize element.\n   */\nMaterialSwitch.prototype.init = function () {\n    if (this.element_) {\n        this.inputElement_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        var track = document.createElement('div');\n        track.classList.add(this.CssClasses_.TRACK);\n        var thumb = document.createElement('div');\n        thumb.classList.add(this.CssClasses_.THUMB);\n        var focusHelper = document.createElement('span');\n        focusHelper.classList.add(this.CssClasses_.FOCUS_HELPER);\n        thumb.appendChild(focusHelper);\n        this.element_.appendChild(track);\n        this.element_.appendChild(thumb);\n        this.boundMouseUpHandler = this.onMouseUp_.bind(this);\n        if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {\n            this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);\n            this.rippleContainerElement_ = document.createElement('span');\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT);\n            this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER);\n            this.rippleContainerElement_.addEventListener('mouseup', this.boundMouseUpHandler);\n            var ripple = document.createElement('span');\n            ripple.classList.add(this.CssClasses_.RIPPLE);\n            this.rippleContainerElement_.appendChild(ripple);\n            this.element_.appendChild(this.rippleContainerElement_);\n        }\n        this.boundChangeHandler = this.onChange_.bind(this);\n        this.boundFocusHandler = this.onFocus_.bind(this);\n        this.boundBlurHandler = this.onBlur_.bind(this);\n        this.inputElement_.addEventListener('change', this.boundChangeHandler);\n        this.inputElement_.addEventListener('focus', this.boundFocusHandler);\n        this.inputElement_.addEventListener('blur', this.boundBlurHandler);\n        this.element_.addEventListener('mouseup', this.boundMouseUpHandler);\n        this.updateClasses_();\n        this.element_.classList.add('is-upgraded');\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialSwitch,\n    classAsString: 'MaterialSwitch',\n    cssClass: 'mdl-js-switch',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Textfield MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialTextfield = function MaterialTextfield(element) {\n    this.element_ = element;\n    this.maxRows = this.Constant_.NO_MAX_ROWS;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialTextfield'] = MaterialTextfield;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialTextfield.prototype.Constant_ = {\n    NO_MAX_ROWS: -1,\n    MAX_ROWS_ATTRIBUTE: 'maxrows'\n};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTextfield.prototype.CssClasses_ = {\n    LABEL: 'mdl-textfield__label',\n    INPUT: 'mdl-textfield__input',\n    IS_DIRTY: 'is-dirty',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_INVALID: 'is-invalid',\n    IS_UPGRADED: 'is-upgraded',\n    HAS_PLACEHOLDER: 'has-placeholder'\n};\n/**\n   * Handle input being entered.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onKeyDown_ = function (event) {\n    var currentRowCount = event.target.value.split('\\n').length;\n    if (event.keyCode === 13) {\n        if (currentRowCount >= this.maxRows) {\n            event.preventDefault();\n        }\n    }\n};\n/**\n   * Handle focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onFocus_ = function (event) {\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle lost focus.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n/**\n   * Handle reset event from out side.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTextfield.prototype.onReset_ = function (event) {\n    this.updateClasses_();\n};\n/**\n   * Handle class updates.\n   *\n   * @private\n   */\nMaterialTextfield.prototype.updateClasses_ = function () {\n    this.checkDisabled();\n    this.checkValidity();\n    this.checkDirty();\n    this.checkFocus();\n};\n// Public methods.\n/**\n   * Check the disabled state and update field accordingly.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.checkDisabled = function () {\n    if (this.input_.disabled) {\n        this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n};\nMaterialTextfield.prototype['checkDisabled'] = MaterialTextfield.prototype.checkDisabled;\n/**\n  * Check the focus state and update field accordingly.\n  *\n  * @public\n  */\nMaterialTextfield.prototype.checkFocus = function () {\n    if (Boolean(this.element_.querySelector(':focus'))) {\n        this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n    }\n};\nMaterialTextfield.prototype['checkFocus'] = MaterialTextfield.prototype.checkFocus;\n/**\n   * Check the validity state and update field accordingly.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.checkValidity = function () {\n    if (this.input_.validity) {\n        if (this.input_.validity.valid) {\n            this.element_.classList.remove(this.CssClasses_.IS_INVALID);\n        } else {\n            this.element_.classList.add(this.CssClasses_.IS_INVALID);\n        }\n    }\n};\nMaterialTextfield.prototype['checkValidity'] = MaterialTextfield.prototype.checkValidity;\n/**\n   * Check the dirty state and update field accordingly.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.checkDirty = function () {\n    if (this.input_.value && this.input_.value.length > 0) {\n        this.element_.classList.add(this.CssClasses_.IS_DIRTY);\n    } else {\n        this.element_.classList.remove(this.CssClasses_.IS_DIRTY);\n    }\n};\nMaterialTextfield.prototype['checkDirty'] = MaterialTextfield.prototype.checkDirty;\n/**\n   * Disable text field.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.disable = function () {\n    this.input_.disabled = true;\n    this.updateClasses_();\n};\nMaterialTextfield.prototype['disable'] = MaterialTextfield.prototype.disable;\n/**\n   * Enable text field.\n   *\n   * @public\n   */\nMaterialTextfield.prototype.enable = function () {\n    this.input_.disabled = false;\n    this.updateClasses_();\n};\nMaterialTextfield.prototype['enable'] = MaterialTextfield.prototype.enable;\n/**\n   * Update text field value.\n   *\n   * @param {string} value The value to which to set the control (optional).\n   * @public\n   */\nMaterialTextfield.prototype.change = function (value) {\n    this.input_.value = value || '';\n    this.updateClasses_();\n};\nMaterialTextfield.prototype['change'] = MaterialTextfield.prototype.change;\n/**\n   * Initialize element.\n   */\nMaterialTextfield.prototype.init = function () {\n    if (this.element_) {\n        this.label_ = this.element_.querySelector('.' + this.CssClasses_.LABEL);\n        this.input_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n        if (this.input_) {\n            if (this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)) {\n                this.maxRows = parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE), 10);\n                if (isNaN(this.maxRows)) {\n                    this.maxRows = this.Constant_.NO_MAX_ROWS;\n                }\n            }\n            if (this.input_.hasAttribute('placeholder')) {\n                this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER);\n            }\n            this.boundUpdateClassesHandler = this.updateClasses_.bind(this);\n            this.boundFocusHandler = this.onFocus_.bind(this);\n            this.boundBlurHandler = this.onBlur_.bind(this);\n            this.boundResetHandler = this.onReset_.bind(this);\n            this.input_.addEventListener('input', this.boundUpdateClassesHandler);\n            this.input_.addEventListener('focus', this.boundFocusHandler);\n            this.input_.addEventListener('blur', this.boundBlurHandler);\n            this.input_.addEventListener('reset', this.boundResetHandler);\n            if (this.maxRows !== this.Constant_.NO_MAX_ROWS) {\n                // TODO: This should handle pasting multi line text.\n                // Currently doesn't.\n                this.boundKeyDownHandler = this.onKeyDown_.bind(this);\n                this.input_.addEventListener('keydown', this.boundKeyDownHandler);\n            }\n            var invalid = this.element_.classList.contains(this.CssClasses_.IS_INVALID);\n            this.updateClasses_();\n            this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n            if (invalid) {\n                this.element_.classList.add(this.CssClasses_.IS_INVALID);\n            }\n            if (this.input_.hasAttribute('autofocus')) {\n                this.element_.focus();\n                this.checkFocus();\n            }\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialTextfield,\n    classAsString: 'MaterialTextfield',\n    cssClass: 'mdl-js-textfield',\n    widget: true\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Tooltip MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {HTMLElement} element The element that will be upgraded.\n   */\nvar MaterialTooltip = function MaterialTooltip(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialTooltip'] = MaterialTooltip;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialTooltip.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialTooltip.prototype.CssClasses_ = {\n    IS_ACTIVE: 'is-active',\n    BOTTOM: 'mdl-tooltip--bottom',\n    LEFT: 'mdl-tooltip--left',\n    RIGHT: 'mdl-tooltip--right',\n    TOP: 'mdl-tooltip--top'\n};\n/**\n   * Handle mouseenter for tooltip.\n   *\n   * @param {Event} event The event that fired.\n   * @private\n   */\nMaterialTooltip.prototype.handleMouseEnter_ = function (event) {\n    var props = event.target.getBoundingClientRect();\n    var left = props.left + props.width / 2;\n    var top = props.top + props.height / 2;\n    var marginLeft = -1 * (this.element_.offsetWidth / 2);\n    var marginTop = -1 * (this.element_.offsetHeight / 2);\n    if (this.element_.classList.contains(this.CssClasses_.LEFT) || this.element_.classList.contains(this.CssClasses_.RIGHT)) {\n        left = props.width / 2;\n        if (top + marginTop < 0) {\n            this.element_.style.top = '0';\n            this.element_.style.marginTop = '0';\n        } else {\n            this.element_.style.top = top + 'px';\n            this.element_.style.marginTop = marginTop + 'px';\n        }\n    } else {\n        if (left + marginLeft < 0) {\n            this.element_.style.left = '0';\n            this.element_.style.marginLeft = '0';\n        } else {\n            this.element_.style.left = left + 'px';\n            this.element_.style.marginLeft = marginLeft + 'px';\n        }\n    }\n    if (this.element_.classList.contains(this.CssClasses_.TOP)) {\n        this.element_.style.top = props.top - this.element_.offsetHeight - 10 + 'px';\n    } else if (this.element_.classList.contains(this.CssClasses_.RIGHT)) {\n        this.element_.style.left = props.left + props.width + 10 + 'px';\n    } else if (this.element_.classList.contains(this.CssClasses_.LEFT)) {\n        this.element_.style.left = props.left - this.element_.offsetWidth - 10 + 'px';\n    } else {\n        this.element_.style.top = props.top + props.height + 10 + 'px';\n    }\n    this.element_.classList.add(this.CssClasses_.IS_ACTIVE);\n};\n/**\n   * Hide tooltip on mouseleave or scroll\n   *\n   * @private\n   */\nMaterialTooltip.prototype.hideTooltip_ = function () {\n    this.element_.classList.remove(this.CssClasses_.IS_ACTIVE);\n};\n/**\n   * Initialize element.\n   */\nMaterialTooltip.prototype.init = function () {\n    if (this.element_) {\n        var forElId = this.element_.getAttribute('for') || this.element_.getAttribute('data-mdl-for');\n        if (forElId) {\n            this.forElement_ = document.getElementById(forElId);\n        }\n        if (this.forElement_) {\n            // It's left here because it prevents accidental text selection on Android\n            if (!this.forElement_.hasAttribute('tabindex')) {\n                this.forElement_.setAttribute('tabindex', '0');\n            }\n            this.boundMouseEnterHandler = this.handleMouseEnter_.bind(this);\n            this.boundMouseLeaveAndScrollHandler = this.hideTooltip_.bind(this);\n            this.forElement_.addEventListener('mouseenter', this.boundMouseEnterHandler, false);\n            this.forElement_.addEventListener('touchend', this.boundMouseEnterHandler, false);\n            this.forElement_.addEventListener('mouseleave', this.boundMouseLeaveAndScrollHandler, false);\n            window.addEventListener('scroll', this.boundMouseLeaveAndScrollHandler, true);\n            window.addEventListener('touchstart', this.boundMouseLeaveAndScrollHandler);\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialTooltip,\n    classAsString: 'MaterialTooltip',\n    cssClass: 'mdl-tooltip'\n});","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n   * Class constructor for Data Table Card MDL component.\n   * Implements MDL component design pattern defined at:\n   * https://github.com/jasonmayes/mdl-component-design-pattern\n   *\n   * @constructor\n   * @param {Element} element The element that will be upgraded.\n   */\nvar MaterialDataTable = function MaterialDataTable(element) {\n    this.element_ = element;\n    // Initialize instance.\n    this.init();\n};\nwindow['MaterialDataTable'] = MaterialDataTable;\n/**\n   * Store constants in one place so they can be updated easily.\n   *\n   * @enum {string | number}\n   * @private\n   */\nMaterialDataTable.prototype.Constant_ = {};\n/**\n   * Store strings for class names defined by this component that are used in\n   * JavaScript. This allows us to simply change it in one place should we\n   * decide to modify at a later date.\n   *\n   * @enum {string}\n   * @private\n   */\nMaterialDataTable.prototype.CssClasses_ = {\n    DATA_TABLE: 'mdl-data-table',\n    SELECTABLE: 'mdl-data-table--selectable',\n    SELECT_ELEMENT: 'mdl-data-table__select',\n    IS_SELECTED: 'is-selected',\n    IS_UPGRADED: 'is-upgraded'\n};\n/**\n   * Generates and returns a function that toggles the selection state of a\n   * single row (or multiple rows).\n   *\n   * @param {Element} checkbox Checkbox that toggles the selection state.\n   * @param {Element} row Row to toggle when checkbox changes.\n   * @param {(Array<Object>|NodeList)=} opt_rows Rows to toggle when checkbox changes.\n   * @private\n   */\nMaterialDataTable.prototype.selectRow_ = function (checkbox, row, opt_rows) {\n    if (row) {\n        return function () {\n            if (checkbox.checked) {\n                row.classList.add(this.CssClasses_.IS_SELECTED);\n            } else {\n                row.classList.remove(this.CssClasses_.IS_SELECTED);\n            }\n        }.bind(this);\n    }\n    if (opt_rows) {\n        return function () {\n            var i;\n            var el;\n            if (checkbox.checked) {\n                for (i = 0; i < opt_rows.length; i++) {\n                    el = opt_rows[i].querySelector('td').querySelector('.mdl-checkbox');\n                    el['MaterialCheckbox'].check();\n                    opt_rows[i].classList.add(this.CssClasses_.IS_SELECTED);\n                }\n            } else {\n                for (i = 0; i < opt_rows.length; i++) {\n                    el = opt_rows[i].querySelector('td').querySelector('.mdl-checkbox');\n                    el['MaterialCheckbox'].uncheck();\n                    opt_rows[i].classList.remove(this.CssClasses_.IS_SELECTED);\n                }\n            }\n        }.bind(this);\n    }\n};\n/**\n   * Creates a checkbox for a single or or multiple rows and hooks up the\n   * event handling.\n   *\n   * @param {Element} row Row to toggle when checkbox changes.\n   * @param {(Array<Object>|NodeList)=} opt_rows Rows to toggle when checkbox changes.\n   * @private\n   */\nMaterialDataTable.prototype.createCheckbox_ = function (row, opt_rows) {\n    var label = document.createElement('label');\n    var labelClasses = [\n        'mdl-checkbox',\n        'mdl-js-checkbox',\n        'mdl-js-ripple-effect',\n        this.CssClasses_.SELECT_ELEMENT\n    ];\n    label.className = labelClasses.join(' ');\n    var checkbox = document.createElement('input');\n    checkbox.type = 'checkbox';\n    checkbox.classList.add('mdl-checkbox__input');\n    if (row) {\n        checkbox.checked = row.classList.contains(this.CssClasses_.IS_SELECTED);\n        checkbox.addEventListener('change', this.selectRow_(checkbox, row));\n    } else if (opt_rows) {\n        checkbox.addEventListener('change', this.selectRow_(checkbox, null, opt_rows));\n    }\n    label.appendChild(checkbox);\n    componentHandler.upgradeElement(label, 'MaterialCheckbox');\n    return label;\n};\n/**\n   * Initialize element.\n   */\nMaterialDataTable.prototype.init = function () {\n    if (this.element_) {\n        var firstHeader = this.element_.querySelector('th');\n        var bodyRows = Array.prototype.slice.call(this.element_.querySelectorAll('tbody tr'));\n        var footRows = Array.prototype.slice.call(this.element_.querySelectorAll('tfoot tr'));\n        var rows = bodyRows.concat(footRows);\n        if (this.element_.classList.contains(this.CssClasses_.SELECTABLE)) {\n            var th = document.createElement('th');\n            var headerCheckbox = this.createCheckbox_(null, rows);\n            th.appendChild(headerCheckbox);\n            firstHeader.parentElement.insertBefore(th, firstHeader);\n            for (var i = 0; i < rows.length; i++) {\n                var firstCell = rows[i].querySelector('td');\n                if (firstCell) {\n                    var td = document.createElement('td');\n                    if (rows[i].parentNode.nodeName.toUpperCase() === 'TBODY') {\n                        var rowCheckbox = this.createCheckbox_(rows[i]);\n                        td.appendChild(rowCheckbox);\n                    }\n                    rows[i].insertBefore(td, firstCell);\n                }\n            }\n            this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n        }\n    }\n};\n// The component registers itself. It can assume componentHandler is available\n// in the global scope.\ncomponentHandler.register({\n    constructor: MaterialDataTable,\n    classAsString: 'MaterialDataTable',\n    cssClass: 'mdl-js-data-table'\n});","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","export const GOOGLE_INIT = 'GOOGLE_INIT';\nexport const GOOGLE_INIT_SUCCESS = 'GOOGLE_INIT_SUCCESS';\nexport const GOOGLE_INIT_ERROR = 'GOOGLE_INIT_ERROR';\n\nexport const GOOGLE_LOGIN = 'GOOGLE_LOGIN';\nexport const GOOGLE_LOGIN_SUCCESS = 'GOOGLE_LOGIN_SUCCESS';\nexport const GOOGLE_LOGIN_ERROR = 'GOOGLE_LOGIN_ERROR';\n\nexport const GOOGLE_LOADDOCUMENT = 'GOOGLE_LOADDOCUMENT';\nexport const GOOGLE_LOADNEWDOCUMENT = 'GOOGLE_LOADNEWDOCUMENT';\nexport const GOOGLE_LOADDOCUMENT_SUCCESS = 'GOOGLE_LOADDOCUMENT_SUCCESS';\nexport const GOOGLE_LOADDOCUMENT_ERROR = 'GOOGLE_LOADDOCUMENT_ERROR';\n\nexport const GOOGLE_FILEINFO = 'GOOGLE_FILEINFO';\nexport const GOOGLE_FILEINFO_SUCCESS = 'GOOGLE_FILEINFO_SUCCESS';\nexport const GOOGLE_FILEINFO_ERROR = 'GOOGLE_FILEINFO_ERROR';\n\nexport const GOOGLE_SAVEDOCUMENT = 'GOOGLE_SAVEDOCUMENT';\nexport const GOOGLE_SAVEDOCUMENT_SUCCESS = 'GOOGLE_SAVEDOCUMENT_SUCCESS';\nexport const GOOGLE_SAVEDOCUMENT_ERROR = 'GOOGLE_SAVEDOCUMENT_ERROR';\n\nexport function createGoogleInitAction(options) {\n    return { type: GOOGLE_INIT };\n}\n\nexport function createGoogleInitSuccessAction() {\n    return { type: GOOGLE_INIT_SUCCESS };\n}\n\nexport function createGoogleInitErrorAction(error) {\n    return { type: GOOGLE_INIT_ERROR,  error };\n}\n\nexport function createGoogleLoginAction() {\n    return { type: GOOGLE_LOGIN };\n}\n\nexport function createGoogleLoginSuccessAction(user) {\n    return { type: GOOGLE_LOGIN_SUCCESS, user };\n}\n\nexport function createGoogleLoginErrorAction(error) {\n    return { type: GOOGLE_LOGIN_ERROR,  error };\n}\n\nexport function createGoogleLoadDocumentAction(id) {\n    return { type: GOOGLE_LOADDOCUMENT, id};\n}\n\nexport function createGoogleLoadNewDocumentAction(id) {\n    return { type: GOOGLE_LOADNEWDOCUMENT, id};\n}\n\nexport function createGoogleLoadDocumentSuccessAction(text) {\n    return { type: GOOGLE_LOADDOCUMENT_SUCCESS, text };\n}\n\nexport function createGoogleLoadDocumentErrorAction(error) {\n    return { type: GOOGLE_LOADDOCUMENT_ERROR,  error };\n}\n\nexport function createGoogleFileInfoAction() {\n    return { type: GOOGLE_FILEINFO};\n}\n\nexport function createGoogleFileInfoSuccessAction(fileinfo) {\n    return { type: GOOGLE_FILEINFO_SUCCESS, fileinfo };\n}\n\nexport function createGoogleFileInfoErrorAction(error) {\n    return { type: GOOGLE_FILEINFO_ERROR,  error };\n}\n\nexport function createGoogleSaveDocumentAction() {\n    return { type: GOOGLE_SAVEDOCUMENT};\n}\n\nexport function createGoogleSaveDocumentSuccessAction(fileinfo) {\n    return { type: GOOGLE_SAVEDOCUMENT_SUCCESS, fileinfo };\n}\n\nexport function createGoogleSaveDocumentErrorAction(error) {\n    return { type: GOOGLE_SAVEDOCUMENT_ERROR,  error };\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Used for setting prototype methods that IE8 chokes on.\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nfunction MakeRef() {\n  return { value: false };\n}\n\nfunction SetRef(ref) {\n  if (ref) {\n    ref.value = true;\n  }\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^321.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (\n    ((begin === 0 && !isNeg(begin)) ||\n      (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size))\n  );\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : isNeg(index)\n      ? size === Infinity\n        ? size\n        : Math.max(0, size + index) | 0\n      : size === undefined || size === index\n        ? index\n        : Math.min(size, index) | 0;\n}\n\nfunction isNeg(value) {\n  // Account for -0 which is negative, but not less than 0.\n  return value < 0 || (value === 0 && 1 / value === -Infinity);\n}\n\n// Note: value is unchanged to not break immutable-devtools.\nvar IS_COLLECTION_SYMBOL = '@@__IMMUTABLE_ITERABLE__@@';\n\nfunction isCollection(maybeCollection) {\n  return Boolean(maybeCollection && maybeCollection[IS_COLLECTION_SYMBOL]);\n}\n\nvar IS_KEYED_SYMBOL = '@@__IMMUTABLE_KEYED__@@';\n\nfunction isKeyed(maybeKeyed) {\n  return Boolean(maybeKeyed && maybeKeyed[IS_KEYED_SYMBOL]);\n}\n\nvar IS_INDEXED_SYMBOL = '@@__IMMUTABLE_INDEXED__@@';\n\nfunction isIndexed(maybeIndexed) {\n  return Boolean(maybeIndexed && maybeIndexed[IS_INDEXED_SYMBOL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = /*@__PURE__*/(function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = /*@__PURE__*/(function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = /*@__PURE__*/(function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar IS_SEQ_SYMBOL = '@@__IMMUTABLE_SEQ__@@';\n\nfunction isSeq(maybeSeq) {\n  return Boolean(maybeSeq && maybeSeq[IS_SEQ_SYMBOL]);\n}\n\nvar IS_RECORD_SYMBOL = '@@__IMMUTABLE_RECORD__@@';\n\nfunction isRecord(maybeRecord) {\n  return Boolean(maybeRecord && maybeRecord[IS_RECORD_SYMBOL]);\n}\n\nfunction isImmutable(maybeImmutable) {\n  return isCollection(maybeImmutable) || isRecord(maybeImmutable);\n}\n\nvar IS_ORDERED_SYMBOL = '@@__IMMUTABLE_ORDERED__@@';\n\nfunction isOrdered(maybeOrdered) {\n  return Boolean(maybeOrdered && maybeOrdered[IS_ORDERED_SYMBOL]);\n}\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = Iterator.prototype.toSource = function() {\n  return this.toString();\n};\nIterator.prototype[ITERATOR_SYMBOL] = function() {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false,\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn =\n    iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isArrayLike(value) {\n  if (Array.isArray(value) || typeof value === 'string') {\n    return true;\n  }\n\n  return (\n    value &&\n    typeof value === 'object' &&\n    Number.isInteger(value.length) &&\n    value.length >= 0 &&\n    (value.length === 0\n      ? // Only {length: 0} is considered Array-like.\n        Object.keys(value).length === 1\n      : // An object is only Array-like if it has a property where the last value\n        // in the array-like may be found (which could be undefined).\n        value.hasOwnProperty(value.length - 1))\n  );\n}\n\nvar Seq = /*@__PURE__*/(function (Collection$$1) {\n  function Seq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isImmutable(value)\n        ? value.toSeq()\n        : seqFromValue(value);\n  }\n\n  if ( Collection$$1 ) Seq.__proto__ = Collection$$1;\n  Seq.prototype = Object.create( Collection$$1 && Collection$$1.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = /*@__PURE__*/(function (Seq) {\n  function KeyedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n        ? isKeyed(value)\n          ? value.toSeq()\n          : value.fromEntrySeq()\n        : isRecord(value)\n          ? value.toSeq()\n          : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = /*@__PURE__*/(function (Seq) {\n  function IndexedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value)\n        ? isKeyed(value)\n          ? value.entrySeq()\n          : value.toIndexedSeq()\n        : isRecord(value)\n          ? value.toSeq().entrySeq()\n          : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = /*@__PURE__*/(function (Seq) {\n  function SetSeq(value) {\n    return (isCollection(value) && !isAssociative(value)\n      ? value\n      : IndexedSeq(value)\n    ).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nSeq.prototype[IS_SEQ_SYMBOL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = /*@__PURE__*/(function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = /*@__PURE__*/(function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return hasOwnProperty.call(this._object, key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar CollectionSeq = /*@__PURE__*/(function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = Array.isArray(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n}\n\nvar IS_MAP_SYMBOL = '@@__IMMUTABLE_MAP__@@';\n\nfunction isMap(maybeMap) {\n  return Boolean(maybeMap && maybeMap[IS_MAP_SYMBOL]);\n}\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nfunction isValueObject(maybeValue) {\n  return Boolean(\n    maybeValue &&\n      typeof maybeValue.equals === 'function' &&\n      typeof maybeValue.hashCode === 'function'\n  );\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' &&\n    typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(\n    isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB)\n  );\n}\n\nvar imul =\n  typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2\n    ? Math.imul\n    : function imul(a, b) {\n        a |= 0; // int\n        b |= 0; // int\n        var c = a & 0xffff;\n        var d = b & 0xffff;\n        // Shift by 0 fixes the sign on the high part.\n        return (c * d + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0)) | 0; // int\n      };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return ((i32 >>> 1) & 0x40000000) | (i32 & 0xbfffffff);\n}\n\nvar defaultValueOf = Object.prototype.valueOf;\n\nfunction hash(o) {\n  switch (typeof o) {\n    case 'boolean':\n      // The hash values for built-in constants are a 1 value for each 5-byte\n      // shift region expect for the first, which encodes the value. This\n      // reduces the odds of a hash collision for these common values.\n      return o ? 0x42108421 : 0x42108420;\n    case 'number':\n      return hashNumber(o);\n    case 'string':\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN\n        ? cachedHashString(o)\n        : hashString(o);\n    case 'object':\n    case 'function':\n      if (o === null) {\n        return 0x42108422;\n      }\n      if (typeof o.hashCode === 'function') {\n        // Drop any high bits from accidentally long hash codes.\n        return smi(o.hashCode(o));\n      }\n      if (o.valueOf !== defaultValueOf && typeof o.valueOf === 'function') {\n        o = o.valueOf(o);\n      }\n      return hashJSObj(o);\n    case 'undefined':\n      return 0x42108423;\n    default:\n      if (typeof o.toString === 'function') {\n        return hashString(o.toString());\n      }\n      throw new Error('Value type ' + typeof o + ' cannot be hashed.');\n  }\n}\n\n// Compress arbitrarily large numbers into smi hashes.\nfunction hashNumber(n) {\n  if (n !== n || n === Infinity) {\n    return 0;\n  }\n  var hash = n | 0;\n  if (hash !== n) {\n    hash ^= n * 0xffffffff;\n  }\n  while (n > 0xffffffff) {\n    n /= 0xffffffff;\n    hash ^= n;\n  }\n  return smi(hash);\n}\n\nfunction cachedHashString(string) {\n  var hashed = stringHashCache[string];\n  if (hashed === undefined) {\n    hashed = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hashed;\n  }\n  return hashed;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hashed = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hashed = (31 * hashed + string.charCodeAt(ii)) | 0;\n  }\n  return smi(hashed);\n}\n\nfunction hashJSObj(obj) {\n  var hashed;\n  if (usingWeakMap) {\n    hashed = weakMap.get(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = obj[UID_HASH_KEY];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  if (!canDefineProperty) {\n    hashed = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hashed !== undefined) {\n      return hashed;\n    }\n\n    hashed = getIENodeHash(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = ++objHashUID;\n  if (objHashUID & 0x40000000) {\n    objHashUID = 0;\n  }\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hashed);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hashed,\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function() {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hashed;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hashed;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hashed;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function() {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = /*@__PURE__*/(function (KeyedSeq$$1) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq$$1 ) ToKeyedSequence.__proto__ = KeyedSeq$$1;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar ToIndexedSequence = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq$$1 ) ToIndexedSequence.__proto__ = IndexedSeq$$1;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1.size - ++i : i++, this$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = /*@__PURE__*/(function (SetSeq$$1) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq$$1 ) ToSetSequence.__proto__ = SetSeq$$1;\n  ToSetSequence.prototype = Object.create( SetSeq$$1 && SetSeq$$1.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = /*@__PURE__*/(function (KeyedSeq$$1) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq$$1 ) FromEntriesSequence.__proto__ = KeyedSeq$$1;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedCollection = isCollection(entry);\n        return fn(\n          indexedCollection ? entry.get(1) : entry[1],\n          indexedCollection ? entry.get(0) : entry[0],\n          this$1\n        );\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult = ToKeyedSequence.prototype.cacheResult = ToSetSequence.prototype.cacheResult = FromEntriesSequence.prototype.cacheResult = cacheResultThrough;\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function() {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function(type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function() {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1.size - ++i : i++, this$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    }, reverse);\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); }).asImmutable();\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size =\n    sliceSize === 0 ? sliceSize : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return (\n          fn(v, useKeys ? k : iterations - 1, this$1) !== false &&\n          iterations !== sliceSize\n        );\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function(type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    if (sliceSize === 0) {\n      return new Iterator(iteratorDone);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES || step.done) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(function (sum, seq) {\n    if (sum !== undefined) {\n      var size = seq.size;\n      if (size !== undefined) {\n        return sum + size;\n      }\n    }\n  }, 0);\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function(fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(function (v, k) {\n        if ((!depth || currentDepth < depth) && isCollection(v)) {\n          flatDeep(v, currentDepth + 1);\n        } else {\n          iterations++;\n          if (fn(v, useKeys ? k : iterations - 1, flatSequence) === false) {\n            stopped = true;\n          }\n        }\n        return !stopped;\n      }, reverse);\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1) !== false) &&\n        fn(v, iterations++, this$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .valueSeq()\n    .toArray();\n  entries.sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; }).forEach(\n    isKeyedCollection\n      ? function (v, i) {\n          entries[i].length = 2;\n        }\n      : function (v, i) {\n          entries[i] = v[1];\n        }\n  );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection)\n      ? IndexedSeq(entries)\n      : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return (maxCompare(comparator, a[1], b[1]) ? b : a); });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return (maxCompare(comparator, a, b) ? b : a); });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (\n    (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) ||\n    comp > 0\n  );\n}\n\nfunction zipWithFactory(keyIter, zipper, iters, zipAll) {\n  var zipSequence = makeSequence(keyIter);\n  var sizes = new ArraySeq(iters).map(function (i) { return i.size; });\n  zipSequence.size = zipAll ? sizes.max() : sizes.min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function(fn, reverse) {\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function(type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = zipAll ? steps.every(function (s) { return s.done; }) : steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(null, steps.map(function (s) { return s.value; }))\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection)\n      ? IndexedCollection\n      : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection)\n        ? IndexedSeq\n        : SetSeq\n    ).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\n// http://jsperf.com/copy-array-inline\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nfunction isPlainObj(value) {\n  return (\n    value &&\n    (typeof value.constructor !== 'function' ||\n      value.constructor.name === 'Object')\n  );\n}\n\n/**\n * Returns true if the value is a potentially-persistent data structure, either\n * provided by Immutable.js or a plain Array or Object.\n */\nfunction isDataStructure(value) {\n  return (\n    typeof value === 'object' &&\n    (isImmutable(value) || Array.isArray(value) || isPlainObj(value))\n  );\n}\n\n/**\n * Converts a value to a string, adding quotes if a string was provided.\n */\nfunction quoteString(value) {\n  try {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  } catch (_ignoreError) {\n    return JSON.stringify(value);\n  }\n}\n\nfunction has(collection, key) {\n  return isImmutable(collection)\n    ? collection.has(key)\n    : isDataStructure(collection) && hasOwnProperty.call(collection, key);\n}\n\nfunction get(collection, key, notSetValue) {\n  return isImmutable(collection)\n    ? collection.get(key, notSetValue)\n    : !has(collection, key)\n      ? notSetValue\n      : typeof collection.get === 'function'\n        ? collection.get(key)\n        : collection[key];\n}\n\nfunction shallowCopy(from) {\n  if (Array.isArray(from)) {\n    return arrCopy(from);\n  }\n  var to = {};\n  for (var key in from) {\n    if (hasOwnProperty.call(from, key)) {\n      to[key] = from[key];\n    }\n  }\n  return to;\n}\n\nfunction remove(collection, key) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.remove) {\n      throw new TypeError(\n        'Cannot update immutable value without .remove() method: ' + collection\n      );\n    }\n    return collection.remove(key);\n  }\n  if (!hasOwnProperty.call(collection, key)) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  if (Array.isArray(collectionCopy)) {\n    collectionCopy.splice(key, 1);\n  } else {\n    delete collectionCopy[key];\n  }\n  return collectionCopy;\n}\n\nfunction set(collection, key, value) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.set) {\n      throw new TypeError(\n        'Cannot update immutable value without .set() method: ' + collection\n      );\n    }\n    return collection.set(key, value);\n  }\n  if (hasOwnProperty.call(collection, key) && value === collection[key]) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  collectionCopy[key] = value;\n  return collectionCopy;\n}\n\nfunction updateIn(collection, keyPath, notSetValue, updater) {\n  if (!updater) {\n    updater = notSetValue;\n    notSetValue = undefined;\n  }\n  var updatedValue = updateInDeeply(\n    isImmutable(collection),\n    collection,\n    coerceKeyPath(keyPath),\n    0,\n    notSetValue,\n    updater\n  );\n  return updatedValue === NOT_SET ? notSetValue : updatedValue;\n}\n\nfunction updateInDeeply(\n  inImmutable,\n  existing,\n  keyPath,\n  i,\n  notSetValue,\n  updater\n) {\n  var wasNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = wasNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!wasNotSet && !isDataStructure(existing)) {\n    throw new TypeError(\n      'Cannot update within non-data-structure value in path [' +\n        keyPath.slice(0, i).map(quoteString) +\n        ']: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = wasNotSet ? NOT_SET : get(existing, key, NOT_SET);\n  var nextUpdated = updateInDeeply(\n    nextExisting === NOT_SET ? inImmutable : isImmutable(nextExisting),\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n      ? remove(existing, key)\n      : set(\n          wasNotSet ? (inImmutable ? emptyMap() : {}) : existing,\n          key,\n          nextUpdated\n        );\n}\n\nfunction setIn(collection, keyPath, value) {\n  return updateIn(collection, keyPath, NOT_SET, function () { return value; });\n}\n\nfunction setIn$1(keyPath, v) {\n  return setIn(this, keyPath, v);\n}\n\nfunction removeIn(collection, keyPath) {\n  return updateIn(collection, keyPath, function () { return NOT_SET; });\n}\n\nfunction deleteIn(keyPath) {\n  return removeIn(this, keyPath);\n}\n\nfunction update(collection, key, notSetValue, updater) {\n  return updateIn(collection, [key], notSetValue, updater);\n}\n\nfunction update$1(key, notSetValue, updater) {\n  return arguments.length === 1\n    ? key(this)\n    : update(this, key, notSetValue, updater);\n}\n\nfunction updateIn$1(keyPath, notSetValue, updater) {\n  return updateIn(this, keyPath, notSetValue, updater);\n}\n\nfunction merge() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeIntoKeyedWith(this, iters);\n}\n\nfunction mergeWith(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  if (typeof merger !== 'function') {\n    throw new TypeError('Invalid merger function: ' + merger);\n  }\n  return mergeIntoKeyedWith(this, iters, merger);\n}\n\nfunction mergeIntoKeyedWith(collection, collections, merger) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var collection$1 = KeyedCollection(collections[ii]);\n    if (collection$1.size !== 0) {\n      iters.push(collection$1);\n    }\n  }\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (\n    collection.toSeq().size === 0 &&\n    !collection.__ownerID &&\n    iters.length === 1\n  ) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoCollection = merger\n      ? function (value, key) {\n          update(\n            collection,\n            key,\n            NOT_SET,\n            function (oldVal) { return (oldVal === NOT_SET ? value : merger(oldVal, value, key)); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoCollection);\n    }\n  });\n}\n\nfunction merge$1(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeWithSources(collection, sources);\n}\n\nfunction mergeWith$1(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeWithSources(collection, sources, merger);\n}\n\nfunction mergeDeep(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(collection, sources);\n}\n\nfunction mergeDeepWith(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeDeepWithSources(collection, sources, merger);\n}\n\nfunction mergeDeepWithSources(collection, sources, merger) {\n  return mergeWithSources(collection, sources, deepMergerWith(merger));\n}\n\nfunction mergeWithSources(collection, sources, merger) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot merge into non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    return typeof merger === 'function' && collection.mergeWith\n      ? collection.mergeWith.apply(collection, [ merger ].concat( sources ))\n      : collection.merge\n        ? collection.merge.apply(collection, sources)\n        : collection.concat.apply(collection, sources);\n  }\n  var isArray = Array.isArray(collection);\n  var merged = collection;\n  var Collection$$1 = isArray ? IndexedCollection : KeyedCollection;\n  var mergeItem = isArray\n    ? function (value) {\n        // Copy on write\n        if (merged === collection) {\n          merged = shallowCopy(merged);\n        }\n        merged.push(value);\n      }\n    : function (value, key) {\n        var hasVal = hasOwnProperty.call(merged, key);\n        var nextVal =\n          hasVal && merger ? merger(merged[key], value, key) : value;\n        if (!hasVal || nextVal !== merged[key]) {\n          // Copy on write\n          if (merged === collection) {\n            merged = shallowCopy(merged);\n          }\n          merged[key] = nextVal;\n        }\n      };\n  for (var i = 0; i < sources.length; i++) {\n    Collection$$1(sources[i]).forEach(mergeItem);\n  }\n  return merged;\n}\n\nfunction deepMergerWith(merger) {\n  function deepMerger(oldValue, newValue, key) {\n    return isDataStructure(oldValue) && isDataStructure(newValue)\n      ? mergeWithSources(oldValue, [newValue], deepMerger)\n      : merger\n        ? merger(oldValue, newValue, key)\n        : newValue;\n  }\n  return deepMerger;\n}\n\nfunction mergeDeep$1() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeDeepWithSources(this, iters);\n}\n\nfunction mergeDeepWith$1(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(this, iters, merger);\n}\n\nfunction mergeIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn(this, keyPath, emptyMap(), function (m) { return mergeWithSources(m, iters); });\n}\n\nfunction mergeDeepIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn(this, keyPath, emptyMap(), function (m) { return mergeDeepWithSources(m, iters); }\n  );\n}\n\nfunction withMutations(fn) {\n  var mutable = this.asMutable();\n  fn(mutable);\n  return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n}\n\nfunction asMutable() {\n  return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n}\n\nfunction asImmutable() {\n  return this.__ensureOwner();\n}\n\nfunction wasAltered() {\n  return this.__altered;\n}\n\nvar Map = /*@__PURE__*/(function (KeyedCollection$$1) {\n  function Map(value) {\n    return value === null || value === undefined\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n        ? value\n        : emptyMap().withMutations(function (map) {\n            var iter = KeyedCollection$$1(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n  }\n\n  if ( KeyedCollection$$1 ) Map.__proto__ = KeyedCollection$$1;\n  Map.prototype = Object.create( KeyedCollection$$1 && KeyedCollection$$1.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  Map.prototype.map = function map (mapper, context) {\n    return this.withMutations(function (map) {\n      map.forEach(function (value, key) {\n        map.set(key, mapper.call(context, value, key, map));\n      });\n    });\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(function (entry) {\n        iterations++;\n        return fn(entry[1], entry[0], this$1);\n      }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nMap.isMap = isMap;\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SYMBOL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeAll = MapPrototype.deleteAll;\nMapPrototype.setIn = setIn$1;\nMapPrototype.removeIn = MapPrototype.deleteIn = deleteIn;\nMapPrototype.update = update$1;\nMapPrototype.updateIn = updateIn$1;\nMapPrototype.merge = MapPrototype.concat = merge;\nMapPrototype.mergeWith = mergeWith;\nMapPrototype.mergeDeep = mergeDeep$1;\nMapPrototype.mergeDeepWith = mergeDeepWith$1;\nMapPrototype.mergeIn = mergeIn;\nMapPrototype.mergeDeepIn = mergeDeepIn;\nMapPrototype.withMutations = withMutations;\nMapPrototype.wasAltered = wasAltered;\nMapPrototype.asImmutable = asImmutable;\nMapPrototype['@@transducer/init'] = MapPrototype.asMutable = asMutable;\nMapPrototype['@@transducer/step'] = function(result, arr) {\n  return result.set(arr[0], arr[1]);\n};\nMapPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & (bit - 1))].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & (bit - 1));\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists &&\n    !newNode &&\n    nodes.length === 2 &&\n    isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? (newNode ? bitmap : bitmap ^ bit) : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n      ? setAt(nodes, idx, newNode, isEditable)\n      : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setAt(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var entries = this.entries;\n  for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n    if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n      return false;\n    }\n  }\n};\n\nBitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var nodes = this.nodes;\n  for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n    var node = nodes[reverse ? maxIndex - ii : ii];\n    if (node && node.iterate(fn, reverse) === false) {\n      return false;\n    }\n  }\n};\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function(fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = /*@__PURE__*/(function (Iterator$$1) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator$$1 ) MapIterator.__proto__ = Iterator$$1;\n  MapIterator.prototype = Object.create( Iterator$$1 && Iterator$$1.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev,\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash$$1) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash$$1;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef();\n    var didAlter = MakeRef();\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? (v === NOT_SET ? -1 : 1) : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return (\n    node.constructor === ValueNode || node.constructor === HashCollisionNode\n  );\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes =\n    idx1 === idx2\n      ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n      : ((newNode = new ValueNode(ownerID, keyHash, entry)),\n        idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction popCount(x) {\n  x -= (x >> 1) & 0x55555555;\n  x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n  x = (x + (x >> 4)) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setAt(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar IS_LIST_SYMBOL = '@@__IMMUTABLE_LIST__@@';\n\nfunction isList(maybeList) {\n  return Boolean(maybeList && maybeList[IS_LIST_SYMBOL]);\n}\n\nvar List = /*@__PURE__*/(function (IndexedCollection$$1) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === null || value === undefined) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection$$1(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection$$1 ) List.__proto__ = IndexedCollection$$1;\n  List.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n        ? this.shift()\n        : index === this.size - 1\n          ? this.pop()\n          : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.concat = function concat (/*...collections*/) {\n    var arguments$1 = arguments;\n\n    var seqs = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var argument = arguments$1[i];\n      var seq = IndexedCollection$$1(\n        typeof argument !== 'string' && hasIterator(argument)\n          ? argument\n          : [argument]\n      );\n      if (seq.size !== 0) {\n        seqs.push(seq);\n      }\n    }\n    if (seqs.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && seqs.length === 1) {\n      return this.constructor(seqs[0]);\n    }\n    return this.withMutations(function (list) {\n      seqs.forEach(function (seq) { return seq.forEach(function (value) { return list.push(value); }); });\n    });\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  List.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    return this.withMutations(function (list) {\n      for (var i = 0; i < this$1.size; i++) {\n        list.set(i, mapper.call(context, list.get(i), i, list));\n      }\n    });\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nList.isList = isList;\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SYMBOL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.merge = ListPrototype.concat;\nListPrototype.setIn = setIn$1;\nListPrototype.deleteIn = ListPrototype.removeIn = deleteIn;\nListPrototype.update = update$1;\nListPrototype.updateIn = updateIn$1;\nListPrototype.mergeIn = mergeIn;\nListPrototype.mergeDeepIn = mergeDeepIn;\nListPrototype.withMutations = withMutations;\nListPrototype.wasAltered = wasAltered;\nListPrototype.asImmutable = asImmutable;\nListPrototype['@@transducer/init'] = ListPrototype.asMutable = asMutable;\nListPrototype['@@transducer/step'] = function(result, arr) {\n  return result.push(arr);\n};\nListPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : this.array.length === 0) {\n    return this;\n  }\n  var originIndex = (index >>> level) & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild =\n      oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = ((index - 1) >>> level) & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild =\n      oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : (left - offset) >> level;\n    var to = ((right - offset) >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef();\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = (index >>> level) & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  if (didAlter) {\n    SetRef(didAlter);\n  }\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << (list._level + SHIFT)) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[(rawIndex >>> level) & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity =\n    end === undefined\n      ? oldCapacity\n      : end < 0\n        ? oldCapacity + end\n        : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail =\n    newTailOffset < oldTailOffset\n      ? listNodeFor(list, newCapacity - 1)\n      : newTailOffset > oldTailOffset\n        ? new VNode([], owner)\n        : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = (oldTailOffset >>> level) & MASK;\n      node = node.array[idx] = editableVNode(node.array[idx], owner);\n    }\n    node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = (newOrigin >>> newLevel) & MASK;\n      if ((beginIndex !== newTailOffset >>> newLevel) & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : ((size - 1) >>> SHIFT) << SHIFT;\n}\n\nvar OrderedMap = /*@__PURE__*/(function (Map$$1) {\n  function OrderedMap(value) {\n    return value === null || value === undefined\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n        ? value\n        : emptyOrderedMap().withMutations(function (map) {\n            var iter = KeyedCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n  }\n\n  if ( Map$$1 ) OrderedMap.__proto__ = Map$$1;\n  OrderedMap.prototype = Object.create( Map$$1 && Map$$1.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SYMBOL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return (\n    EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()))\n  );\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList\n        .toKeyedSeq()\n        .map(function (entry) { return entry[0]; })\n        .flip()\n        .toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar IS_STACK_SYMBOL = '@@__IMMUTABLE_STACK__@@';\n\nfunction isStack(maybeStack) {\n  return Boolean(maybeStack && maybeStack[IS_STACK_SYMBOL]);\n}\n\nvar Stack = /*@__PURE__*/(function (IndexedCollection$$1) {\n  function Stack(value) {\n    return value === null || value === undefined\n      ? emptyStack()\n      : isStack(value)\n        ? value\n        : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection$$1 ) Stack.__proto__ = IndexedCollection$$1;\n  Stack.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head,\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection$$1(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head,\n      };\n    }, /* reverse */ true);\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection$$1.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nStack.isStack = isStack;\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SYMBOL] = true;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\nStackPrototype.withMutations = withMutations;\nStackPrototype.wasAltered = wasAltered;\nStackPrototype.asImmutable = asImmutable;\nStackPrototype['@@transducer/init'] = StackPrototype.asMutable = asMutable;\nStackPrototype['@@transducer/step'] = function(result, arr) {\n  return result.unshift(arr);\n};\nStackPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nvar IS_SET_SYMBOL = '@@__IMMUTABLE_SET__@@';\n\nfunction isSet(maybeSet) {\n  return Boolean(maybeSet && maybeSet[IS_SET_SYMBOL]);\n}\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return (\n      b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done\n    );\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped\n          ? !is(v, a.get(k, NOT_SET))\n          : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\n/**\n * Contributes additional methods to a constructor\n */\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nfunction toJS(value) {\n  if (!value || typeof value !== 'object') {\n    return value;\n  }\n  if (!isCollection(value)) {\n    if (!isDataStructure(value)) {\n      return value;\n    }\n    value = Seq(value);\n  }\n  if (isKeyed(value)) {\n    var result$1 = {};\n    value.__iterate(function (v, k) {\n      result$1[k] = toJS(v);\n    });\n    return result$1;\n  }\n  var result = [];\n  value.__iterate(function (v) {\n    result.push(toJS(v));\n  });\n  return result;\n}\n\nvar Set = /*@__PURE__*/(function (SetCollection$$1) {\n  function Set(value) {\n    return value === null || value === undefined\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n        ? value\n        : emptySet().withMutations(function (set) {\n            var iter = SetCollection$$1(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n  }\n\n  if ( SetCollection$$1 ) Set.__proto__ = SetCollection$$1;\n  Set.prototype = Object.create( SetCollection$$1 && SetCollection$$1.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, value));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var removes = [];\n    var adds = [];\n    this.forEach(function (value) {\n      var mapped = mapper.call(context, value, value, this$1);\n      if (mapped !== value) {\n        removes.push(value);\n        adds.push(mapped);\n      }\n    });\n    return this.withMutations(function (set) {\n      removes.forEach(function (value) { return set.remove(value); });\n      adds.forEach(function (value) { return set.add(value); });\n    });\n  };\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetCollection$$1(iters[ii]).forEach(function (value) { return set.add(value); });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._map.__iterate(function (k) { return fn(k, k, this$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return this.__empty();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nSet.isSet = isSet;\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SYMBOL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.merge = SetPrototype.concat = SetPrototype.union;\nSetPrototype.withMutations = withMutations;\nSetPrototype.asImmutable = asImmutable;\nSetPrototype['@@transducer/init'] = SetPrototype.asMutable = asMutable;\nSetPrototype['@@transducer/step'] = function(result, arr) {\n  return result.add(arr);\n};\nSetPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0\n      ? set.__empty()\n      : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Range.__proto__ = IndexedSeq$$1;\n  Range.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return (\n      'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]'\n    );\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return (\n      possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex)\n    );\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\nfunction getIn(collection, searchKeyPath, notSetValue) {\n  var keyPath = coerceKeyPath(searchKeyPath);\n  var i = 0;\n  while (i !== keyPath.length) {\n    collection = get(collection, keyPath[i++], NOT_SET);\n    if (collection === NOT_SET) {\n      return notSetValue;\n    }\n  }\n  return collection;\n}\n\nfunction getIn$1(searchKeyPath, notSetValue) {\n  return getIn(this, searchKeyPath, notSetValue);\n}\n\nfunction hasIn(collection, keyPath) {\n  return getIn(collection, keyPath, NOT_SET) !== NOT_SET;\n}\n\nfunction hasIn$1(searchKeyPath) {\n  return hasIn(this, searchKeyPath);\n}\n\nfunction toObject() {\n  assertNotInfinite(this.size);\n  var object = {};\n  this.__iterate(function (v, k) {\n    object[k] = v;\n  });\n  return object;\n}\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    var useTuples = isKeyed(this);\n    var i = 0;\n    this.__iterate(function (v, k) {\n      // Keyed collections produce an array of tuples.\n      array[i++] = useTuples ? [k, v] : v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return toJS(this);\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: toObject,\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this)\n        ? this.toKeyedSeq()\n        : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return (\n      head +\n      ' ' +\n      this.toSeq()\n        .map(this.__toStringMapper)\n        .join(', ') +\n      ' ' +\n      tail\n    );\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection\n      .toSeq()\n      .map(entryMapper)\n      .toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findKey(predicate, context);\n  },\n\n  first: function first(notSetValue) {\n    return this.find(returnTrue, null, notSetValue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: getIn$1,\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: hasIn$1,\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq()\n      .map(keyMapper)\n      .toIndexedSeq();\n  },\n\n  last: function last(notSetValue) {\n    return this.toSeq()\n      .reverse()\n      .first(notSetValue);\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  },\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_COLLECTION_SYMBOL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = CollectionPrototype.toSource = function() {\n  return this.toString();\n};\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1 = this;\n\n    return reify(\n      this,\n      this.toSeq()\n        .flip()\n        .map(function (k, v) { return mapper.call(context, k, v, this$1); })\n        .flip()\n    );\n  },\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SYMBOL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first(notSetValue) {\n    return this.get(0, notSetValue);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      (this.size === Infinity || (this.size !== undefined && index > this.size))\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return (\n      index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1)\n    );\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last(notSetValue) {\n    return this.get(-1, notSetValue);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipAll: function zipAll(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections, true));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  },\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SYMBOL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SYMBOL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  },\n});\n\nSetCollection.prototype.has = CollectionPrototype.includes;\nSetCollection.prototype.contains = SetCollection.prototype.includes;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollection.prototype);\nmixin(IndexedSeq, IndexedCollection.prototype);\nmixin(SetSeq, SetCollection.prototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(function (v, k, c) {\n    if (useFirst) {\n      useFirst = false;\n      reduction = v;\n    } else {\n      reduction = reducer.call(context, reduction, v, k, c);\n    }\n  }, reverse);\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction not(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function() {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n        ? function (v, k) {\n            h = (31 * h + hashMerge(hash(v), hash(k))) | 0;\n          }\n        : function (v, k) {\n            h = (h + hashMerge(hash(v), hash(k))) | 0;\n          }\n      : ordered\n        ? function (v) {\n            h = (31 * h + hash(v)) | 0;\n          }\n        : function (v) {\n            h = (h + hash(v)) | 0;\n          }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul((h << 15) | (h >>> -15), 0x1b873593);\n  h = imul((h << 13) | (h >>> -13), 5);\n  h = ((h + 0xe6546b64) | 0) ^ size;\n  h = imul(h ^ (h >>> 16), 0x85ebca6b);\n  h = imul(h ^ (h >>> 13), 0xc2b2ae35);\n  h = smi(h ^ (h >>> 16));\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return (a ^ (b + 0x9e3779b9 + (a << 6) + (a >> 2))) | 0; // int\n}\n\nvar OrderedSet = /*@__PURE__*/(function (Set$$1) {\n  function OrderedSet(value) {\n    return value === null || value === undefined\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n        ? value\n        : emptyOrderedSet().withMutations(function (set) {\n            var iter = SetCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n  }\n\n  if ( Set$$1 ) OrderedSet.__proto__ = Set$$1;\n  OrderedSet.prototype = Object.create( Set$$1 && Set$$1.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SYMBOL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return (\n    EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()))\n  );\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  var RecordType = function Record(values) {\n    var this$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      // Deprecated: left to attempt not to break any external code which\n      // relies on a ._name property existing on record instances.\n      // Use Record.getDescriptiveName() instead\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1._indices[k], v === this$1._defaultValues[k] ? undefined : v);\n      });\n    });\n  };\n\n  var RecordTypePrototype = (RecordType.prototype = Object.create(\n    RecordPrototype\n  ));\n  RecordTypePrototype.constructor = RecordType;\n\n  if (name) {\n    RecordType.displayName = name;\n  }\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return (\n    this === other ||\n    (other &&\n      this._keys === other._keys &&\n      recordSeq(this).equals(recordSeq(other)))\n  );\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS$1 () {\n  return toJS(this);\n};\n\nRecord.prototype.entries = function entries () {\n  return this.__iterator(ITERATE_ENTRIES);\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SYMBOL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.deleteIn = RecordPrototype.removeIn = deleteIn;\nRecordPrototype.getIn = getIn$1;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = merge;\nRecordPrototype.mergeWith = mergeWith;\nRecordPrototype.mergeIn = mergeIn;\nRecordPrototype.mergeDeep = mergeDeep$1;\nRecordPrototype.mergeDeepWith = mergeDeepWith$1;\nRecordPrototype.mergeDeepIn = mergeDeepIn;\nRecordPrototype.setIn = setIn$1;\nRecordPrototype.update = update$1;\nRecordPrototype.updateIn = updateIn$1;\nRecordPrototype.withMutations = withMutations;\nRecordPrototype.asMutable = asMutable;\nRecordPrototype.asImmutable = asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = RecordPrototype.entries;\nRecordPrototype.toJSON = RecordPrototype.toObject =\n  CollectionPrototype.toObject;\nRecordPrototype.inspect = RecordPrototype.toSource = function() {\n  return this.toString();\n};\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record.constructor.displayName || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      },\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Repeat.__proto__ = IndexedSeq$$1;\n  Repeat.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this._value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(\n      function () { return i === size\n          ? iteratorDone()\n          : iteratorValue(type, reverse ? size - ++i : i++, this$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  var toSeq = Array.isArray(value)\n    ? IndexedSeq\n    : isPlainObj(value)\n      ? KeyedSeq\n      : null;\n  if (toSeq) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      toSeq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }\n      ),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  return isKeyed(v) ? v.toMap() : v.toList();\n}\n\nvar version = \"4.0.0-rc.11\";\n\nvar Immutable = {\n  version: version,\n\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject,\n  isSeq: isSeq,\n  isList: isList,\n  isMap: isMap,\n  isOrderedMap: isOrderedMap,\n  isStack: isStack,\n  isSet: isSet,\n  isOrderedSet: isOrderedSet,\n  isRecord: isRecord,\n\n  get: get,\n  getIn: getIn,\n  has: has,\n  hasIn: hasIn,\n  merge: merge$1,\n  mergeDeep: mergeDeep,\n  mergeWith: mergeWith$1,\n  mergeDeepWith: mergeDeepWith,\n  remove: remove,\n  removeIn: removeIn,\n  set: set,\n  setIn: setIn,\n  update: update,\n  updateIn: updateIn,\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexport default Immutable;\nexport { version, Collection, Iterable, Seq, Map, OrderedMap, List, Stack, Set, OrderedSet, Record, Range, Repeat, is, fromJS, hash, isImmutable, isCollection, isKeyed, isIndexed, isAssociative, isOrdered, isValueObject, get, getIn, has, hasIn, merge$1 as merge, mergeDeep, mergeWith$1 as mergeWith, mergeDeepWith, remove, removeIn, set, setIn, update, updateIn };\n","export const ZOOM_TO_FIT = 'ZOOM_TO_FIT';\nexport const ZOOM_IN = 'ZOOM_IN';\nexport const ZOOM_OUT = 'ZOOM_OUT';\n\nexport function createZoomToFitAction() {\n    return { type: ZOOM_TO_FIT };\n}\n\nexport function createZoomInAction(error) {\n    return { type: ZOOM_IN };\n}\n\nexport function createZoomOutAction() {\n    return { type: ZOOM_OUT };\n}\n\n","import {\n    GOOGLE_INIT,\n    GOOGLE_INIT_SUCCESS,\n    GOOGLE_INIT_ERROR,\n    GOOGLE_LOGIN,\n    GOOGLE_LOGIN_SUCCESS,\n    GOOGLE_LOGIN_ERROR,\n    GOOGLE_LOADDOCUMENT,\n    GOOGLE_LOADNEWDOCUMENT,\n    GOOGLE_LOADDOCUMENT_SUCCESS,\n    GOOGLE_LOADDOCUMENT_ERROR,\n    GOOGLE_FILEINFO_SUCCESS,\n    GOOGLE_SAVEDOCUMENT_SUCCESS\n} from './googleaction';\n\nimport { Map, List } from 'immutable';\nimport { ZOOM_IN } from './editoractions';\n\n\nexport const initialState = Map({\n    status: \"uninitialized\",\n    googleDocument: Map({\n        id: \"\",\n        fileinfo: \"\",\n        text: \"\",\n        isLoaded: false\n    }),\n    actionType: ''\n});\n\n\n\nfunction DMNEditorApp(state = initialState, action) {\n    let newState = state;\n\n    switch (action.type) {\n        case GOOGLE_INIT:\n            newState = state.set('status', 'google-init-pending');\n            break;\n        case GOOGLE_INIT_SUCCESS:\n            newState = state.set('status', 'google-init').set('infomsg', \"Google API initialized\");\n            break;\n        case GOOGLE_INIT_ERROR:\n            newState = state.set('status', 'google-init-error').set('errormsg', action.error);\n            break;\n        case GOOGLE_LOGIN:\n            newState = state.set('status', 'google-login-pending');\n            break;\n        case GOOGLE_LOGIN_SUCCESS:\n            newState = state.set('status', 'google-login')\n                .set('user', action.user)\n                .set('infomsg', \"Google Login successful\");\n            break;\n        case GOOGLE_LOGIN_ERROR:\n            newState = state.set('status', 'google-login-error').set('errormsg', action.error);\n            break;\n        case GOOGLE_LOADNEWDOCUMENT:\n            newState = state.set('status', 'google-loaddocument-pending')\n                .set('googleDocument', state.get('googleDocument')\n                    .set('id', action.id)\n                    .set('isLoaded', false)\n                    .set('isnew', true)\n                );\n            break;\n        case GOOGLE_LOADDOCUMENT:\n            newState = state.set('status', 'google-loaddocument-pending')\n                .set('googleDocument', state.get('googleDocument')\n                    .set('id', action.id)\n                    .set('isLoaded', false)\n                );\n            break;\n        case GOOGLE_LOADDOCUMENT_SUCCESS:\n            newState = state.set('status', 'google-loaddocument')\n                .set('infomsg', \"DMN Document loaded\")\n                .set('googleDocument', state.get('googleDocument')\n                    .set('fileinfo', action.fileinfo)\n                    .set('text', action.text)\n                    .set('isLoaded', true)\n                );\n            break;\n        case GOOGLE_LOADDOCUMENT_ERROR:\n            newState = state.set('status', 'google-loaddocument-error').set('errormsg', action.error);\n            break;\n        case GOOGLE_FILEINFO_SUCCESS:\n            newState = state.set('status', 'google-fileinfo')\n                .set('infomsg', \"FileInfo loaded\")\n                .set('googleDocument', state.get('googleDocument')\n                    .set('fileinfo', action.fileinfo)\n                );\n            break;\n        case GOOGLE_SAVEDOCUMENT_SUCCESS:\n            newState = state.set('status', 'google-filesaved')\n                .set('infomsg', \"DMN Document saved\")\n                .set('googleDocument', state.get('googleDocument')\n                    .set('fileinfo', action.fileinfo)\n                );\n            break;\n        default:\n            break;\n    }\n    return newState.set('actionType', action.type);\n}\n\nexport { DMNEditorApp };","import { createStore } from 'redux';\nimport { DMNEditorApp, initialState } from './reducer'; \n \nexport const store = createStore(DMNEditorApp, initialState);\n","!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(\"load-google-api\",[],n):\"object\"==typeof exports?exports[\"load-google-api\"]=n():e[\"load-google-api\"]=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p=\"\",n(n.s=1)}([function(e,n,t){\"use strict\";function o(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(n,\"__esModule\",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=function(){function e(n){o(this,e),this._callbackName=\"__googleApiOnLoadCallback\",this._clientURL=\"https://apis.google.com/js/client.js?onload=\"+this._callbackName,this._apiKey=n.apiKey,this._clientId=n.clientId,this._scope=n.scope.join(\" \"),this.name=\"load-google-api\"}return i(e,[{key:\"loadGoogleAPI\",value:function(){var e=this;return new Promise(function(n,t){var o=document.createElement(\"script\");o.src=e._clientURL,window[e._callbackName]=function(){n()},document.body.appendChild(o)})}},{key:\"init\",value:function(){var e=this,n=new Promise(function(e,n){window.gapi.load(\"client:auth2\",e)}),t=new Promise(function(n,t){window.gapi.client.init({apiKey:e._apiKey,client_id:e._clientId,scope:e._scope}).then(n)});return Promise.all([n,t])}}]),e}();n.default=r,e.exports=n.default},function(e,n,t){e.exports=t(0)}])});","import LoadGoogleApi from \"load-google-api\";\n\nlet debug = false;\n\nexport default class DriveAppsUtil {\n\n    constructor(options,logtoconsole) {\n        if( logtoconsole != undefined ){\n            debug = true;\n        }\n        this.loadGoogleApi = new LoadGoogleApi(options);\n    }\n\n    init() {\n        if (debug) console.log(\"drive-apps-util_init\");\n        var loadGoogleApi = this.loadGoogleApi;\n        return new Promise((resolve, reject) => {\n            try{\n                loadGoogleApi.loadGoogleAPI().then(\n                    () => {\n                        loadGoogleApi.init().then(\n                            () => {\n                                resolve();\n                            },\n                            (error) => {\n                                reject(error);\n                            }\n                        )\n                    },\n                    (error) => {\n                        reject(error);\n                    }\n                );\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    login() {\n        if (debug) console.log(\"drive-apps-util_login\");\n        return new Promise(function (resolve, reject) {\n            try{\n                var auth = window.gapi.auth2.getAuthInstance();\n                if (auth.currentUser.get() == undefined || !auth.currentUser.get().isSignedIn()) {\n                    auth.signIn().then(\n                        (user) => {\n                            resolve(auth.currentUser);\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    )\n                }\n                else {\n                    resolve(auth.currentUser);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    logout() {\n        if (debug) console.log(\"drive-apps-util_logout\");\n        window.gapi.auth2.getAuthInstance().currentUser.get().disconnect();\n    }\n\n    getDocumentContent(id) {\n        if (debug) console.log(\"drive-apps-util_getDocumentContent\");\n        return new Promise((resolve, reject) => {\n            try{\n                gapi.client.request({ 'path': 'https://www.googleapis.com/drive/v3/files/' + id, 'params': { 'alt': 'media' } })\n                    .then(\n                        (response) => {\n                            resolve(response.body);\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    getDocumentMeta(id) {\n        if (debug) console.log(\"drive-apps-util_getDocumentMeta\");\n        return new Promise((resolve, reject) => {\n            try {\n                gapi.client.request({ 'path': 'https://www.googleapis.com/drive/v3/files/' + id, 'params': { 'supportsTeamDrives': true } })\n                    .then(\n                        (response) => {\n                            let fileinfo = JSON.parse(response.body);\n                            resolve(fileinfo);\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    updateDocumentMeta(id, metadata) {\n        if (debug) console.log(\"drive-apps-util_updateDocumentMeta\");\n        return new Promise((resolve, reject) => {\n            try {\n                gapi.client.request({\n                    'method': 'PATCH',\n                    'body': metadata,\n                    'path': 'https://www.googleapis.com/drive/v3/files/' + id,\n                    'params': { 'supportsTeamDrives': true }\n                }).then(\n                    (response) => {\n                        let fileinfo = JSON.parse(response.body);\n                        resolve(fileinfo);\n                    },\n                    (error) => {\n                        reject(error);\n                    }\n                );\n            } catch(e) {\n                reject(e);\n            }\n        });\n    }\n\n    updateDocument(id, metadata, content) {\n        if (debug) console.log(\"drive-apps-util_updateDocument\");\n        return new Promise((resolve, reject) => {\n            try {\n                let contentlength = 0;\n                if (metadata) {\n                    contentlength = JSON.stringify(metadata).length;\n                }\n                if (content) {\n                    gapi.client.request({\n                        'method': 'PATCH',\n                        'body': metadata,\n                        'path': 'https://www.googleapis.com/upload/drive/v3/files/' + id,\n                        'params': {\n                            'uploadType': 'resumable', 'supportsTeamDrives': true,\n                            'headers': {\n                                'Content-Type': 'application/json; charset=UTF-8',\n                                'Content-Length': contentlength\n                            }\n                        }\n                    }).then(\n                        (response) => {\n                            let contentlength = 0;\n                            if (content) {\n                                contentlength = content.length;\n                            }\n                            gapi.client.request({\n                                'method': 'PUT',\n                                'body': content,\n                                'path': response.headers.location,\n                                'headers': {\n                                    'Content-Type': metadata.mimeType,\n                                    'Content-Length': contentlength\n                                }\n                            }).then(\n                                (response) => {\n                                    let fileinfo = JSON.parse(response.body);\n                                    resolve(fileinfo);\n                                },\n                                (error) => {\n                                    reject(error);\n                                }\n                            );\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n                }\n                else {\n                    gapi.client.request({\n                        'method': 'PATCH',\n                        'body': metadata,\n                        'path': 'https://www.googleapis.com/drive/v3/files/' + id,\n                        'params': {\n                            'supportsTeamDrives': true\n                        }\n                    }).then(\n                        (response) => {\n                            let fileinfo = JSON.parse(response.body);\n                            resolve(fileinfo);\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    createDocument(metadata, content) {\n        if (debug) console.log(\"drive-apps-util_createDocument\");\n        return new Promise((resolve, reject) => {\n            try {\n                let contentlength = 0;\n                if (metadata) {\n                    contentlength = JSON.stringify(metadata).length;\n                }\n                if (content) {\n                    gapi.client.request({\n                        'method': 'POST',\n                        'body': metadata,\n                        'path': 'https://www.googleapis.com/upload/drive/v3/files',\n                        'params': {\n                            'uploadType': 'resumable', 'supportsTeamDrives': true,\n                            'headers': {\n                                'Content-Type': 'application/json; charset=UTF-8',\n                                'Content-Length': contentlength\n                            }\n                        }\n                    }).then(\n                        (response) => {\n                            let contentlength = 0;\n                            if (content) {\n                                contentlength = content.length;\n                            }\n                            gapi.client.request({\n                                'method': 'PUT',\n                                'body': content,\n                                'path': response.headers.location,\n                                'headers': {\n                                    'Content-Type': metadata.mimeType,\n                                    'Content-Length': contentlength\n                                }\n                            }).then(\n                                (response) => {\n                                    let fileinfo = JSON.parse(response.body);\n                                    resolve(fileinfo);\n                                },\n                                (error) => {\n                                    reject(error);\n                                }\n                            );\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n                }\n                else {\n                    gapi.client.request({\n                        'method': 'POST',\n                        'body': metadata,\n                        'path': 'https://www.googleapis.com/drive/v3/files',\n                        'params': {\n                            'supportsTeamDrives': true\n                        }\n                    }).then(\n                        (response) => {\n                            let fileinfo = JSON.parse(response.body);\n                            resolve(fileinfo);\n                        },\n                        (error) => {\n                            reject(error);\n                        }\n                    );\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n}\n","import { store } from '../redux/store';\nimport {\n    createGoogleInitAction,\n    createGoogleInitSuccessAction,\n    createGoogleInitErrorAction,\n    createGoogleLoginAction,\n    createGoogleLoginSuccessAction,\n    createGoogleLoginErrorAction,\n    createGoogleLoadDocumentAction,\n    createGoogleLoadNewDocumentAction,\n    createGoogleLoadDocumentSuccessAction,\n    createGoogleLoadDocumentErrorAction,\n    createGoogleFileInfoAction,\n    createGoogleFileInfoSuccessAction,\n    createGoogleFileInfoErrorAction,\n    createGoogleSaveDocumentAction,\n    createGoogleSaveDocumentSuccessAction,\n    createGoogleSaveDocumentErrorAction\n} from '../redux/googleaction';\nimport DriveAppsUtil from 'drive-apps-util';\n\nlet driveAppsUtil;\n\nexport function initGoogle(options) {\n    store.dispatch(createGoogleInitAction(options));\n    driveAppsUtil = new DriveAppsUtil(options);\n    driveAppsUtil.init().then(() => {\n        store.dispatch(createGoogleInitSuccessAction());\n    }, (error) => {\n        store.dispatch(createGoogleInitErrorAction(error));\n    });\n}\n\nexport function login() {\n    if (driveAppsUtil != undefined) {\n        store.dispatch(createGoogleLoginAction());\n        driveAppsUtil.login().then((user) => {\n            store.dispatch(createGoogleLoginSuccessAction(user));\n        },\n            (error) => {\n                store.dispatch(createGoogleLoginErrorAction(error));\n            });\n    }\n}\n\nexport function loadGoogleDocument(id, isNew) {\n    if (driveAppsUtil != undefined) {\n        if (isNew) {\n            store.dispatch(createGoogleLoadNewDocumentAction(id));\n        }\n        else {\n            store.dispatch(createGoogleLoadDocumentAction(id));\n        }\n        driveAppsUtil.getDocumentContent(id).then((text) => {\n            store.dispatch(createGoogleLoadDocumentSuccessAction(text));\n            store.dispatch(createGoogleFileInfoAction());\n            driveAppsUtil.getDocumentMeta(id).then((fileinfo) => {\n                store.dispatch(createGoogleFileInfoSuccessAction(fileinfo));\n            },\n                (error) => {\n                    store.dispatch(createGoogleFileInfoErrorAction(error));\n                });\n        },\n            (error) => {\n                store.dispatch(createGoogleLoadDocumentErrorAction(error));\n            });\n    }\n}\n\n\nexport function saveDocument(content) {\n    let googleDocument = store.getState().get('googleDocument');\n    store.dispatch(createGoogleSaveDocumentAction());\n    let metadata = JSON.stringify({\n        name: googleDocument.get('fileinfo').name,\n        mimeType: \"application/dmn+xml\",\n    });\n\n    driveAppsUtil.updateDocument(googleDocument.get('id'), metadata, content).then((fileinfo) => {\n        store.dispatch(createGoogleSaveDocumentSuccessAction(fileinfo));\n    }, (error) => {\n        store.dispatch(createGoogleSaveDocumentErrorAction(error));\n    });\n}\n","export function showUserImage() {\n    document.getElementById('userimage').classList.remove(\"is-hidden\");\n    document.getElementById('userimage').classList.add(\"visible\");\n    document.getElementById('userimage').src = window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getImageUrl();\n  }\n  ","//import { changeFileName } from \"../api/service\";\n\nexport function setDocumentInfo(name) {\n    document.getElementById('docinfo').value = name;\n    document.getElementById('docinfodrawer').value = name;\n    document.title = name;\n}\n\nexport function initFileInfo() {\n    document.getElementById('docinfo').addEventListener('change', (e) => {\n        changeFileName(e.currentTarget.value);\n    });\n    document.getElementById('docinfodrawer').addEventListener('change', (e) => {\n        changeFileName(e.currentTarget.value);\n    });\n}","export function hideSplash() {\n    document.getElementById('splash').style.display = \"none\";\n}","/**\n * Flatten array, one level deep.\n *\n * @param {Array<?>} arr\n *\n * @return {Array<?>}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nvar nativeToString = Object.prototype.toString;\nvar nativeHasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\nfunction isNil(obj) {\n  return obj == null;\n}\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\nfunction isFunction(obj) {\n  var tag = nativeToString.call(obj);\n  return tag === '[object Function]' || tag === '[object AsyncFunction]' || tag === '[object GeneratorFunction]' || tag === '[object AsyncGeneratorFunction]' || tag === '[object Proxy]';\n}\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\n\nfunction ensureArray(obj) {\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\n\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function|Object} matcher\n *\n * @return {Object}\n */\n\nfunction find(collection, matcher) {\n  matcher = toMatcher(matcher);\n  var match;\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      match = val;\n      return false;\n    }\n  });\n  return match;\n}\n/**\n * Find element index in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Object}\n */\n\nfunction findIndex(collection, matcher) {\n  matcher = toMatcher(matcher);\n  var idx = isArray(collection) ? -1 : undefined;\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      idx = key;\n      return false;\n    }\n  });\n  return idx;\n}\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Array} result\n */\n\nfunction filter(collection, matcher) {\n  var result = [];\n  forEach(collection, function (val, key) {\n    if (matcher(val, key)) {\n      result.push(val);\n    }\n  });\n  return result;\n}\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @param  {Array|Object} collection\n * @param  {Function} iterator\n *\n * @return {Object} return result that stopped the iteration\n */\n\nfunction forEach(collection, iterator) {\n  var val, result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  var convertKey = isArray(collection) ? toNum : identity;\n\n  for (var key in collection) {\n    if (has(collection, key)) {\n      val = collection[key];\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n/**\n * Return collection without element.\n *\n * @param  {Array} arr\n * @param  {Function} matcher\n *\n * @return {Array}\n */\n\nfunction without(arr, matcher) {\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n  matcher = toMatcher(matcher);\n  return arr.filter(function (el, idx) {\n    return !matcher(el, idx);\n  });\n}\n/**\n * Reduce collection, returning a single result.\n *\n * @param  {Object|Array} collection\n * @param  {Function} iterator\n * @param  {Any} result\n *\n * @return {Any} result returned from last iterator\n */\n\nfunction reduce(collection, iterator, result) {\n  forEach(collection, function (value, idx) {\n    result = iterator(result, value, idx);\n  });\n  return result;\n}\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\n\nfunction every(collection, matcher) {\n  return !!reduce(collection, function (matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\n\nfunction some(collection, matcher) {\n  return !!find(collection, matcher);\n}\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\n\nfunction map(collection, fn) {\n  var result = [];\n  forEach(collection, function (val, key) {\n    result.push(fn(val, key));\n  });\n  return result;\n}\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\n\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\n\nfunction size(collection) {\n  return keys(collection).length;\n}\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\n\nfunction values(collection) {\n  return map(collection, function (val) {\n    return val;\n  });\n}\n/**\n * Group collection members by attribute.\n *\n * @param  {Object|Array} collection\n * @param  {Function} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\n\nfunction groupBy(collection, extractor) {\n  var grouped = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  extractor = toExtractor(extractor);\n  forEach(collection, function (val) {\n    var discriminator = extractor(val) || '_';\n    var group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n  return grouped;\n}\nfunction uniqueBy(extractor) {\n  extractor = toExtractor(extractor);\n  var grouped = {};\n\n  for (var _len = arguments.length, collections = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    collections[_key - 1] = arguments[_key];\n  }\n\n  forEach(collections, function (c) {\n    return groupBy(c, extractor, grouped);\n  });\n  var result = map(grouped, function (val, key) {\n    return val[0];\n  });\n  return result;\n}\nvar unionBy = uniqueBy;\n/**\n * Sort collection by criteria.\n *\n * @param  {Object|Array} collection\n * @param  {String|Function} extractor\n *\n * @return {Array}\n */\n\nfunction sortBy(collection, extractor) {\n  extractor = toExtractor(extractor);\n  var sorted = [];\n  forEach(collection, function (value, key) {\n    var disc = extractor(value, key);\n    var entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      var d = sorted[idx].d;\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    } // not inserted, append (!)\n\n\n    sorted.push(entry);\n  });\n  return map(sorted, function (e) {\n    return e.v;\n  });\n}\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * const matcher = matchPattern({ id: 1 });\n *\n * var element = find(elements, matcher);\n *\n * @param  {Object} pattern\n *\n * @return {Function} matcherFn\n */\n\nfunction matchPattern(pattern) {\n  return function (el) {\n    return every(pattern, function (val, key) {\n      return el[key] === val;\n    });\n  };\n}\n\nfunction toExtractor(extractor) {\n  return isFunction(extractor) ? extractor : function (e) {\n    return e[extractor];\n  };\n}\n\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : function (e) {\n    return e === matcher;\n  };\n}\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/**\n * Debounce fn, calling it only once if\n * the given time elapsed between calls.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {Function} debounced function\n */\nfunction debounce(fn, timeout) {\n  var timer;\n  var lastArgs;\n  var lastThis;\n  var lastNow;\n\n  function fire() {\n    var now = Date.now();\n    var scheduledDiff = lastNow + timeout - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  return function () {\n    lastNow = Date.now();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n    lastThis = this; // ensure an execution is scheduled\n\n    if (!timer) {\n      schedule(timeout);\n    }\n  };\n}\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\n\nfunction throttle(fn, interval) {\n  var throttling = false;\n  return function () {\n    if (throttling) {\n      return;\n    }\n\n    fn.apply(void 0, arguments);\n    throttling = true;\n    setTimeout(function () {\n      throttling = false;\n    }, interval);\n  };\n}\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\n\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\n\nfunction assign(target) {\n  for (var _len = arguments.length, others = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    others[_key - 1] = arguments[_key];\n  }\n\n  return _extends.apply(void 0, [target].concat(others));\n}\n/**\n * Pick given properties from the target object.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\n\nfunction pick(target, properties) {\n  var result = {};\n  var obj = Object(target);\n  forEach(properties, function (prop) {\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n  return result;\n}\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\n\nfunction omit(target, properties) {\n  var result = {};\n  var obj = Object(target);\n  forEach(obj, function (prop, key) {\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n  return result;\n}\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\n\nfunction merge(target) {\n  for (var _len2 = arguments.length, sources = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    sources[_key2 - 1] = arguments[_key2];\n  }\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function (source) {\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function (sourceVal, key) {\n      if (key === '__proto__') {\n        return;\n      }\n\n      var targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n        if (!isObject(targetVal)) {\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n    });\n  });\n  return target;\n}\n\nexport { flatten, find, findIndex, filter, forEach, without, reduce, every, some, map, keys, size, values, groupBy, uniqueBy, unionBy, sortBy, matchPattern, debounce, throttle, bind, isUndefined, isDefined, isNil, isArray, isObject, isNumber, isFunction, isString, ensureArray, has, assign, pick, omit, merge };\n","import {\n  isFunction,\n  isArray,\n  isNumber,\n  bind,\n  assign\n} from 'min-dash';\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n */\nexport default function EventBus() {\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @param {string|Array<string>} events\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback\n * @param {Object} [that] Pass context (`this`) to the callback\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = isArray(events) ? events : [ events ];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n\n/**\n * Register an event listener that is executed only once.\n *\n * @param {string} event the event name to register for\n * @param {number} [priority=1000] the priority in which this listener is called, larger is higher\n * @param {Function} callback the callback to execute\n * @param {Object} [that] Pass context (`this`) to the callback\n */\nEventBus.prototype.once = function(event, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    var result = callback.apply(that, arguments);\n\n    self.off(event, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(event, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|Array<string>} events\n * @param {Function} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = isArray(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an EventBus event.\n *\n * @param {Object} data\n *\n * @return {Object} event, recognized by the eventBus\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires a named event.\n *\n * @example\n *\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n *\n * @param {string} [name] the optional event name\n * @param {Object} [event] the event object\n * @param {...Object} additional arguments to be passed to the callback functions\n *\n * @return {boolean} the events return value, if specified or false if the\n *                   default action was prevented by listeners\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (e) {\n    if (!this.handleError(e)) {\n      console.error('unhandled error in event listener');\n      console.error(e.stack);\n\n      throw e;\n    }\n  }\n\n  return returnValue;\n};\n\n/*\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {Object} listener { priority, callback }\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  assign(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {Array<Object>} args\n *\n * @return {Any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n","import { forEach, bind, pick, assign, isString, isObject } from 'min-dash';\n\n/**\n * Moddle base element.\n */\nfunction Base() { }\n\nBase.prototype.get = function(name) {\n  return this.$model.properties.get(this, name);\n};\n\nBase.prototype.set = function(name, value) {\n  this.$model.properties.set(this, name, value);\n};\n\n/**\n * A model element factory.\n *\n * @param {Moddle} model\n * @param {Properties} properties\n */\nfunction Factory(model, properties) {\n  this.model = model;\n  this.properties = properties;\n}\n\n\nFactory.prototype.createType = function(descriptor) {\n\n  var model = this.model;\n\n  var props = this.properties,\n      prototype = Object.create(Base.prototype);\n\n  // initialize default values\n  forEach(descriptor.properties, function(p) {\n    if (!p.isMany && p.default !== undefined) {\n      prototype[p.name] = p.default;\n    }\n  });\n\n  props.defineModel(prototype, model);\n  props.defineDescriptor(prototype, descriptor);\n\n  var name = descriptor.ns.name;\n\n  /**\n   * The new type constructor\n   */\n  function ModdleElement(attrs) {\n    props.define(this, '$type', { value: name, enumerable: true });\n    props.define(this, '$attrs', { value: {} });\n    props.define(this, '$parent', { writable: true });\n\n    forEach(attrs, bind(function(val, key) {\n      this.set(key, val);\n    }, this));\n  }\n\n  ModdleElement.prototype = prototype;\n\n  ModdleElement.hasType = prototype.$instanceOf = this.model.hasType;\n\n  // static links\n  props.defineModel(ModdleElement, model);\n  props.defineDescriptor(ModdleElement, descriptor);\n\n  return ModdleElement;\n};\n\n/**\n * Built-in moddle types\n */\nvar BUILTINS = {\n  String: true,\n  Boolean: true,\n  Integer: true,\n  Real: true,\n  Element: true\n};\n\n/**\n * Converters for built in types from string representations\n */\nvar TYPE_CONVERTERS = {\n  String: function(s) { return s; },\n  Boolean: function(s) { return s === 'true'; },\n  Integer: function(s) { return parseInt(s, 10); },\n  Real: function(s) { return parseFloat(s, 10); }\n};\n\n/**\n * Convert a type to its real representation\n */\nfunction coerceType(type, value) {\n\n  var converter = TYPE_CONVERTERS[type];\n\n  if (converter) {\n    return converter(value);\n  } else {\n    return value;\n  }\n}\n\n/**\n * Return whether the given type is built-in\n */\nfunction isBuiltIn(type) {\n  return !!BUILTINS[type];\n}\n\n/**\n * Return whether the given type is simple\n */\nfunction isSimple(type) {\n  return !!TYPE_CONVERTERS[type];\n}\n\n/**\n * Parses a namespaced attribute name of the form (ns:)localName to an object,\n * given a default prefix to assume in case no explicit namespace is given.\n *\n * @param {String} name\n * @param {String} [defaultPrefix] the default prefix to take, if none is present.\n *\n * @return {Object} the parsed name\n */\nfunction parseName(name, defaultPrefix) {\n  var parts = name.split(/:/),\n      localName, prefix;\n\n  // no prefix (i.e. only local name)\n  if (parts.length === 1) {\n    localName = name;\n    prefix = defaultPrefix;\n  } else\n  // prefix + local name\n  if (parts.length === 2) {\n    localName = parts[1];\n    prefix = parts[0];\n  } else {\n    throw new Error('expected <prefix:localName> or <localName>, got ' + name);\n  }\n\n  name = (prefix ? prefix + ':' : '') + localName;\n\n  return {\n    name: name,\n    prefix: prefix,\n    localName: localName\n  };\n}\n\n/**\n * A utility to build element descriptors.\n */\nfunction DescriptorBuilder(nameNs) {\n  this.ns = nameNs;\n  this.name = nameNs.name;\n  this.allTypes = [];\n  this.allTypesByName = {};\n  this.properties = [];\n  this.propertiesByName = {};\n}\n\n\nDescriptorBuilder.prototype.build = function() {\n  return pick(this, [\n    'ns',\n    'name',\n    'allTypes',\n    'allTypesByName',\n    'properties',\n    'propertiesByName',\n    'bodyProperty',\n    'idProperty'\n  ]);\n};\n\n/**\n * Add property at given index.\n *\n * @param {Object} p\n * @param {Number} [idx]\n * @param {Boolean} [validate=true]\n */\nDescriptorBuilder.prototype.addProperty = function(p, idx, validate) {\n\n  if (typeof idx === 'boolean') {\n    validate = idx;\n    idx = undefined;\n  }\n\n  this.addNamedProperty(p, validate !== false);\n\n  var properties = this.properties;\n\n  if (idx !== undefined) {\n    properties.splice(idx, 0, p);\n  } else {\n    properties.push(p);\n  }\n};\n\n\nDescriptorBuilder.prototype.replaceProperty = function(oldProperty, newProperty, replace) {\n  var oldNameNs = oldProperty.ns;\n\n  var props = this.properties,\n      propertiesByName = this.propertiesByName,\n      rename = oldProperty.name !== newProperty.name;\n\n  if (oldProperty.isId) {\n    if (!newProperty.isId) {\n      throw new Error(\n        'property <' + newProperty.ns.name + '> must be id property ' +\n        'to refine <' + oldProperty.ns.name + '>');\n    }\n\n    this.setIdProperty(newProperty, false);\n  }\n\n  if (oldProperty.isBody) {\n\n    if (!newProperty.isBody) {\n      throw new Error(\n        'property <' + newProperty.ns.name + '> must be body property ' +\n        'to refine <' + oldProperty.ns.name + '>');\n    }\n\n    // TODO: Check compatibility\n    this.setBodyProperty(newProperty, false);\n  }\n\n  // validate existence and get location of old property\n  var idx = props.indexOf(oldProperty);\n  if (idx === -1) {\n    throw new Error('property <' + oldNameNs.name + '> not found in property list');\n  }\n\n  // remove old property\n  props.splice(idx, 1);\n\n  // replacing the named property is intentional\n  //\n  //  * validate only if this is a \"rename\" operation\n  //  * add at specific index unless we \"replace\"\n  //\n  this.addProperty(newProperty, replace ? undefined : idx, rename);\n\n  // make new property available under old name\n  propertiesByName[oldNameNs.name] = propertiesByName[oldNameNs.localName] = newProperty;\n};\n\n\nDescriptorBuilder.prototype.redefineProperty = function(p, targetPropertyName, replace) {\n\n  var nsPrefix = p.ns.prefix;\n  var parts = targetPropertyName.split('#');\n\n  var name = parseName(parts[0], nsPrefix);\n  var attrName = parseName(parts[1], name.prefix).name;\n\n  var redefinedProperty = this.propertiesByName[attrName];\n  if (!redefinedProperty) {\n    throw new Error('refined property <' + attrName + '> not found');\n  } else {\n    this.replaceProperty(redefinedProperty, p, replace);\n  }\n\n  delete p.redefines;\n};\n\nDescriptorBuilder.prototype.addNamedProperty = function(p, validate) {\n  var ns = p.ns,\n      propsByName = this.propertiesByName;\n\n  if (validate) {\n    this.assertNotDefined(p, ns.name);\n    this.assertNotDefined(p, ns.localName);\n  }\n\n  propsByName[ns.name] = propsByName[ns.localName] = p;\n};\n\nDescriptorBuilder.prototype.removeNamedProperty = function(p) {\n  var ns = p.ns,\n      propsByName = this.propertiesByName;\n\n  delete propsByName[ns.name];\n  delete propsByName[ns.localName];\n};\n\nDescriptorBuilder.prototype.setBodyProperty = function(p, validate) {\n\n  if (validate && this.bodyProperty) {\n    throw new Error(\n      'body property defined multiple times ' +\n      '(<' + this.bodyProperty.ns.name + '>, <' + p.ns.name + '>)');\n  }\n\n  this.bodyProperty = p;\n};\n\nDescriptorBuilder.prototype.setIdProperty = function(p, validate) {\n\n  if (validate && this.idProperty) {\n    throw new Error(\n      'id property defined multiple times ' +\n      '(<' + this.idProperty.ns.name + '>, <' + p.ns.name + '>)');\n  }\n\n  this.idProperty = p;\n};\n\nDescriptorBuilder.prototype.assertNotDefined = function(p, name) {\n  var propertyName = p.name,\n      definedProperty = this.propertiesByName[propertyName];\n\n  if (definedProperty) {\n    throw new Error(\n      'property <' + propertyName + '> already defined; ' +\n      'override of <' + definedProperty.definedBy.ns.name + '#' + definedProperty.ns.name + '> by ' +\n      '<' + p.definedBy.ns.name + '#' + p.ns.name + '> not allowed without redefines');\n  }\n};\n\nDescriptorBuilder.prototype.hasProperty = function(name) {\n  return this.propertiesByName[name];\n};\n\nDescriptorBuilder.prototype.addTrait = function(t, inherited) {\n\n  var typesByName = this.allTypesByName,\n      types = this.allTypes;\n\n  var typeName = t.name;\n\n  if (typeName in typesByName) {\n    return;\n  }\n\n  forEach(t.properties, bind(function(p) {\n\n    // clone property to allow extensions\n    p = assign({}, p, {\n      name: p.ns.localName,\n      inherited: inherited\n    });\n\n    Object.defineProperty(p, 'definedBy', {\n      value: t\n    });\n\n    var replaces = p.replaces,\n        redefines = p.redefines;\n\n    // add replace/redefine support\n    if (replaces || redefines) {\n      this.redefineProperty(p, replaces || redefines, replaces);\n    } else {\n      if (p.isBody) {\n        this.setBodyProperty(p);\n      }\n      if (p.isId) {\n        this.setIdProperty(p);\n      }\n      this.addProperty(p);\n    }\n  }, this));\n\n  types.push(t);\n  typesByName[typeName] = t;\n};\n\n/**\n * A registry of Moddle packages.\n *\n * @param {Array<Package>} packages\n * @param {Properties} properties\n */\nfunction Registry(packages, properties) {\n  this.packageMap = {};\n  this.typeMap = {};\n\n  this.packages = [];\n\n  this.properties = properties;\n\n  forEach(packages, bind(this.registerPackage, this));\n}\n\n\nRegistry.prototype.getPackage = function(uriOrPrefix) {\n  return this.packageMap[uriOrPrefix];\n};\n\nRegistry.prototype.getPackages = function() {\n  return this.packages;\n};\n\n\nRegistry.prototype.registerPackage = function(pkg) {\n\n  // copy package\n  pkg = assign({}, pkg);\n\n  var pkgMap = this.packageMap;\n\n  ensureAvailable(pkgMap, pkg, 'prefix');\n  ensureAvailable(pkgMap, pkg, 'uri');\n\n  // register types\n  forEach(pkg.types, bind(function(descriptor) {\n    this.registerType(descriptor, pkg);\n  }, this));\n\n  pkgMap[pkg.uri] = pkgMap[pkg.prefix] = pkg;\n  this.packages.push(pkg);\n};\n\n\n/**\n * Register a type from a specific package with us\n */\nRegistry.prototype.registerType = function(type, pkg) {\n\n  type = assign({}, type, {\n    superClass: (type.superClass || []).slice(),\n    extends: (type.extends || []).slice(),\n    properties: (type.properties || []).slice(),\n    meta: assign((type.meta || {}))\n  });\n\n  var ns = parseName(type.name, pkg.prefix),\n      name = ns.name,\n      propertiesByName = {};\n\n  // parse properties\n  forEach(type.properties, bind(function(p) {\n\n    // namespace property names\n    var propertyNs = parseName(p.name, ns.prefix),\n        propertyName = propertyNs.name;\n\n    // namespace property types\n    if (!isBuiltIn(p.type)) {\n      p.type = parseName(p.type, propertyNs.prefix).name;\n    }\n\n    assign(p, {\n      ns: propertyNs,\n      name: propertyName\n    });\n\n    propertiesByName[propertyName] = p;\n  }, this));\n\n  // update ns + name\n  assign(type, {\n    ns: ns,\n    name: name,\n    propertiesByName: propertiesByName\n  });\n\n  forEach(type.extends, bind(function(extendsName) {\n    var extended = this.typeMap[extendsName];\n\n    extended.traits = extended.traits || [];\n    extended.traits.push(name);\n  }, this));\n\n  // link to package\n  this.definePackage(type, pkg);\n\n  // register\n  this.typeMap[name] = type;\n};\n\n\n/**\n * Traverse the type hierarchy from bottom to top,\n * calling iterator with (type, inherited) for all elements in\n * the inheritance chain.\n *\n * @param {Object} nsName\n * @param {Function} iterator\n * @param {Boolean} [trait=false]\n */\nRegistry.prototype.mapTypes = function(nsName, iterator, trait) {\n\n  var type = isBuiltIn(nsName.name) ? { name: nsName.name } : this.typeMap[nsName.name];\n\n  var self = this;\n\n  /**\n   * Traverse the selected trait.\n   *\n   * @param {String} cls\n   */\n  function traverseTrait(cls) {\n    return traverseSuper(cls, true);\n  }\n\n  /**\n   * Traverse the selected super type or trait\n   *\n   * @param {String} cls\n   * @param {Boolean} [trait=false]\n   */\n  function traverseSuper(cls, trait) {\n    var parentNs = parseName(cls, isBuiltIn(cls) ? '' : nsName.prefix);\n    self.mapTypes(parentNs, iterator, trait);\n  }\n\n  if (!type) {\n    throw new Error('unknown type <' + nsName.name + '>');\n  }\n\n  forEach(type.superClass, trait ? traverseTrait : traverseSuper);\n\n  // call iterator with (type, inherited=!trait)\n  iterator(type, !trait);\n\n  forEach(type.traits, traverseTrait);\n};\n\n\n/**\n * Returns the effective descriptor for a type.\n *\n * @param  {String} type the namespaced name (ns:localName) of the type\n *\n * @return {Descriptor} the resulting effective descriptor\n */\nRegistry.prototype.getEffectiveDescriptor = function(name) {\n\n  var nsName = parseName(name);\n\n  var builder = new DescriptorBuilder(nsName);\n\n  this.mapTypes(nsName, function(type, inherited) {\n    builder.addTrait(type, inherited);\n  });\n\n  var descriptor = builder.build();\n\n  // define package link\n  this.definePackage(descriptor, descriptor.allTypes[descriptor.allTypes.length - 1].$pkg);\n\n  return descriptor;\n};\n\n\nRegistry.prototype.definePackage = function(target, pkg) {\n  this.properties.define(target, '$pkg', { value: pkg });\n};\n\n\n\n///////// helpers ////////////////////////////\n\nfunction ensureAvailable(packageMap, pkg, identifierKey) {\n\n  var value = pkg[identifierKey];\n\n  if (value in packageMap) {\n    throw new Error('package with ' + identifierKey + ' <' + value + '> already defined');\n  }\n}\n\n/**\n * A utility that gets and sets properties of model elements.\n *\n * @param {Model} model\n */\nfunction Properties(model) {\n  this.model = model;\n}\n\n\n/**\n * Sets a named property on the target element.\n * If the value is undefined, the property gets deleted.\n *\n * @param {Object} target\n * @param {String} name\n * @param {Object} value\n */\nProperties.prototype.set = function(target, name, value) {\n\n  var property = this.model.getPropertyDescriptor(target, name);\n\n  var propertyName = property && property.name;\n\n  if (isUndefined(value)) {\n    // unset the property, if the specified value is undefined;\n    // delete from $attrs (for extensions) or the target itself\n    if (property) {\n      delete target[propertyName];\n    } else {\n      delete target.$attrs[name];\n    }\n  } else {\n    // set the property, defining well defined properties on the fly\n    // or simply updating them in target.$attrs (for extensions)\n    if (property) {\n      if (propertyName in target) {\n        target[propertyName] = value;\n      } else {\n        defineProperty(target, property, value);\n      }\n    } else {\n      target.$attrs[name] = value;\n    }\n  }\n};\n\n/**\n * Returns the named property of the given element\n *\n * @param  {Object} target\n * @param  {String} name\n *\n * @return {Object}\n */\nProperties.prototype.get = function(target, name) {\n\n  var property = this.model.getPropertyDescriptor(target, name);\n\n  if (!property) {\n    return target.$attrs[name];\n  }\n\n  var propertyName = property.name;\n\n  // check if access to collection property and lazily initialize it\n  if (!target[propertyName] && property.isMany) {\n    defineProperty(target, property, []);\n  }\n\n  return target[propertyName];\n};\n\n\n/**\n * Define a property on the target element\n *\n * @param  {Object} target\n * @param  {String} name\n * @param  {Object} options\n */\nProperties.prototype.define = function(target, name, options) {\n  Object.defineProperty(target, name, options);\n};\n\n\n/**\n * Define the descriptor for an element\n */\nProperties.prototype.defineDescriptor = function(target, descriptor) {\n  this.define(target, '$descriptor', { value: descriptor });\n};\n\n/**\n * Define the model for an element\n */\nProperties.prototype.defineModel = function(target, model) {\n  this.define(target, '$model', { value: model });\n};\n\n\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\nfunction defineProperty(target, property, value) {\n  Object.defineProperty(target, property.name, {\n    enumerable: !property.isReference,\n    writable: true,\n    value: value,\n    configurable: true\n  });\n}\n\n//// Moddle implementation /////////////////////////////////////////////////\n\n/**\n * @class Moddle\n *\n * A model that can be used to create elements of a specific type.\n *\n * @example\n *\n * var Moddle = require('moddle');\n *\n * var pkg = {\n *   name: 'mypackage',\n *   prefix: 'my',\n *   types: [\n *     { name: 'Root' }\n *   ]\n * };\n *\n * var moddle = new Moddle([pkg]);\n *\n * @param {Array<Package>} packages the packages to contain\n */\nfunction Moddle(packages) {\n\n  this.properties = new Properties(this);\n\n  this.factory = new Factory(this, this.properties);\n  this.registry = new Registry(packages, this.properties);\n\n  this.typeCache = {};\n}\n\n\n/**\n * Create an instance of the specified type.\n *\n * @method Moddle#create\n *\n * @example\n *\n * var foo = moddle.create('my:Foo');\n * var bar = moddle.create('my:Bar', { id: 'BAR_1' });\n *\n * @param  {String|Object} descriptor the type descriptor or name know to the model\n * @param  {Object} attrs   a number of attributes to initialize the model instance with\n * @return {Object}         model instance\n */\nModdle.prototype.create = function(descriptor, attrs) {\n  var Type = this.getType(descriptor);\n\n  if (!Type) {\n    throw new Error('unknown type <' + descriptor + '>');\n  }\n\n  return new Type(attrs);\n};\n\n\n/**\n * Returns the type representing a given descriptor\n *\n * @method Moddle#getType\n *\n * @example\n *\n * var Foo = moddle.getType('my:Foo');\n * var foo = new Foo({ 'id' : 'FOO_1' });\n *\n * @param  {String|Object} descriptor the type descriptor or name know to the model\n * @return {Object}         the type representing the descriptor\n */\nModdle.prototype.getType = function(descriptor) {\n\n  var cache = this.typeCache;\n\n  var name = isString(descriptor) ? descriptor : descriptor.ns.name;\n\n  var type = cache[name];\n\n  if (!type) {\n    descriptor = this.registry.getEffectiveDescriptor(name);\n    type = cache[name] = this.factory.createType(descriptor);\n  }\n\n  return type;\n};\n\n\n/**\n * Creates an any-element type to be used within model instances.\n *\n * This can be used to create custom elements that lie outside the meta-model.\n * The created element contains all the meta-data required to serialize it\n * as part of meta-model elements.\n *\n * @method Moddle#createAny\n *\n * @example\n *\n * var foo = moddle.createAny('vendor:Foo', 'http://vendor', {\n *   value: 'bar'\n * });\n *\n * var container = moddle.create('my:Container', 'http://my', {\n *   any: [ foo ]\n * });\n *\n * // go ahead and serialize the stuff\n *\n *\n * @param  {String} name  the name of the element\n * @param  {String} nsUri the namespace uri of the element\n * @param  {Object} [properties] a map of properties to initialize the instance with\n * @return {Object} the any type instance\n */\nModdle.prototype.createAny = function(name, nsUri, properties) {\n\n  var nameNs = parseName(name);\n\n  var element = {\n    $type: name,\n    $instanceOf: function(type) {\n      return type === this.$type;\n    }\n  };\n\n  var descriptor = {\n    name: name,\n    isGeneric: true,\n    ns: {\n      prefix: nameNs.prefix,\n      localName: nameNs.localName,\n      uri: nsUri\n    }\n  };\n\n  this.properties.defineDescriptor(element, descriptor);\n  this.properties.defineModel(element, this);\n  this.properties.define(element, '$parent', { enumerable: false, writable: true });\n\n  forEach(properties, function(a, key) {\n    if (isObject(a) && a.value !== undefined) {\n      element[a.name] = a.value;\n    } else {\n      element[key] = a;\n    }\n  });\n\n  return element;\n};\n\n/**\n * Returns a registered package by uri or prefix\n *\n * @return {Object} the package\n */\nModdle.prototype.getPackage = function(uriOrPrefix) {\n  return this.registry.getPackage(uriOrPrefix);\n};\n\n/**\n * Returns a snapshot of all known packages\n *\n * @return {Object} the package\n */\nModdle.prototype.getPackages = function() {\n  return this.registry.getPackages();\n};\n\n/**\n * Returns the descriptor for an element\n */\nModdle.prototype.getElementDescriptor = function(element) {\n  return element.$descriptor;\n};\n\n/**\n * Returns true if the given descriptor or instance\n * represents the given type.\n *\n * May be applied to this, if element is omitted.\n */\nModdle.prototype.hasType = function(element, type) {\n  if (type === undefined) {\n    type = element;\n    element = this;\n  }\n\n  var descriptor = element.$model.getElementDescriptor(element);\n\n  return (type in descriptor.allTypesByName);\n};\n\n/**\n * Returns the descriptor of an elements named property\n */\nModdle.prototype.getPropertyDescriptor = function(element, property) {\n  return this.getElementDescriptor(element).propertiesByName[property];\n};\n\n/**\n * Returns a mapped type's descriptor\n */\nModdle.prototype.getTypeDescriptor = function(type) {\n  return this.registry.typeMap[type];\n};\n\nexport { Moddle, coerceType, isBuiltIn as isBuiltInType, isSimple as isSimpleType, parseName as parseNameNS };\n","var fromCharCode = String.fromCharCode;\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar ENTITY_PATTERN = /&#(\\d+);|&#x([0-9a-f]+);|&(\\w+);/ig;\n\nvar ENTITY_MAPPING = {\n  'amp': '&',\n  'apos': '\\'',\n  'gt': '>',\n  'lt': '<',\n  'quot': '\"'\n};\n\n// map UPPERCASE variants of supported special chars\nObject.keys(ENTITY_MAPPING).forEach(function(k) {\n  ENTITY_MAPPING[k.toUpperCase()] = ENTITY_MAPPING[k];\n});\n\n\nfunction replaceEntities(_, d, x, z) {\n\n  // reserved names, i.e. &nbsp;\n  if (z) {\n    if (hasOwnProperty.call(ENTITY_MAPPING, z)) {\n      return ENTITY_MAPPING[z];\n    } else {\n\n      // fall back to original value\n      return '&' + z + ';';\n    }\n  }\n\n  // decimal encoded char\n  if (d) {\n    return fromCharCode(d);\n  }\n\n  // hex encoded char\n  return fromCharCode(parseInt(x, 16));\n}\n\n\n/**\n * A basic entity decoder that can decode a minimal\n * sub-set of reserved names (&amp;) as well as\n * hex (&#xaaf;) and decimal (&#1231;) encoded characters.\n *\n * @param {string} str\n *\n * @return {string} decoded string\n */\nfunction decodeEntities(s) {\n  if (s.length > 3 && s.indexOf('&') !== -1) {\n    return s.replace(ENTITY_PATTERN, replaceEntities);\n  }\n\n  return s;\n}\n\nvar XSI_URI = 'http://www.w3.org/2001/XMLSchema-instance';\nvar XSI_PREFIX = 'xsi';\nvar XSI_TYPE = 'xsi:type';\n\nvar NON_WHITESPACE_OUTSIDE_ROOT_NODE = 'non-whitespace outside of root node';\n\nfunction error(msg) {\n  return new Error(msg);\n}\n\nfunction missingNamespaceForPrefix(prefix) {\n  return 'missing namespace for prefix <' + prefix + '>';\n}\n\nfunction getter(getFn) {\n  return {\n    'get': getFn,\n    'enumerable': true\n  };\n}\n\nfunction cloneNsMatrix(nsMatrix) {\n  var clone = {}, key;\n  for (key in nsMatrix) {\n    clone[key] = nsMatrix[key];\n  }\n  return clone;\n}\n\nfunction uriPrefix(prefix) {\n  return prefix + '$uri';\n}\n\nfunction buildNsMatrix(nsUriToPrefix) {\n  var nsMatrix = {},\n      uri,\n      prefix;\n\n  for (uri in nsUriToPrefix) {\n    prefix = nsUriToPrefix[uri];\n    nsMatrix[prefix] = prefix;\n    nsMatrix[uriPrefix(prefix)] = uri;\n  }\n\n  return nsMatrix;\n}\n\nfunction noopGetContext() {\n  return { 'line': 0, 'column': 0 };\n}\n\nfunction throwFunc(err) {\n  throw err;\n}\n\n/**\n * Creates a new parser with the given options.\n *\n * @constructor\n *\n * @param  {!Object<string, ?>=} options\n */\nfunction Parser(options) {\n\n  if (!this) {\n    return new Parser(options);\n  }\n\n  var proxy = options && options['proxy'];\n\n  var onText,\n      onOpenTag,\n      onCloseTag,\n      onCDATA,\n      onError = throwFunc,\n      onWarning,\n      onComment,\n      onQuestion,\n      onAttention;\n\n  var getContext = noopGetContext;\n\n  /**\n   * Do we need to parse the current elements attributes for namespaces?\n   *\n   * @type {boolean}\n   */\n  var maybeNS = false;\n\n  /**\n   * Do we process namespaces at all?\n   *\n   * @type {boolean}\n   */\n  var isNamespace = false;\n\n  /**\n   * The caught error returned on parse end\n   *\n   * @type {Error}\n   */\n  var returnError = null;\n\n  /**\n   * Should we stop parsing?\n   *\n   * @type {boolean}\n   */\n  var parseStop = false;\n\n  /**\n   * A map of { uri: prefix } used by the parser.\n   *\n   * This map will ensure we can normalize prefixes during processing;\n   * for each uri, only one prefix will be exposed to the handlers.\n   *\n   * @type {!Object<string, string>}}\n   */\n  var nsUriToPrefix;\n\n  /**\n   * Handle parse error.\n   *\n   * @param  {string|Error} err\n   */\n  function handleError(err) {\n    if (!(err instanceof Error)) {\n      err = error(err);\n    }\n\n    returnError = err;\n\n    onError(err, getContext);\n  }\n\n  /**\n   * Handle parse error.\n   *\n   * @param  {string|Error} err\n   */\n  function handleWarning(err) {\n\n    if (!onWarning) {\n      return;\n    }\n\n    if (!(err instanceof Error)) {\n      err = error(err);\n    }\n\n    onWarning(err, getContext);\n  }\n\n  /**\n   * Register parse listener.\n   *\n   * @param  {string}   name\n   * @param  {Function} cb\n   *\n   * @return {Parser}\n   */\n  this['on'] = function(name, cb) {\n\n    if (typeof cb !== 'function') {\n      throw error('required args <name, cb>');\n    }\n\n    switch (name) {\n    case 'openTag': onOpenTag = cb; break;\n    case 'text': onText = cb; break;\n    case 'closeTag': onCloseTag = cb; break;\n    case 'error': onError = cb; break;\n    case 'warn': onWarning = cb; break;\n    case 'cdata': onCDATA = cb; break;\n    case 'attention': onAttention = cb; break; // <!XXXXX zzzz=\"eeee\">\n    case 'question': onQuestion = cb; break; // <? ....  ?>\n    case 'comment': onComment = cb; break;\n    default:\n      throw error('unsupported event: ' + name);\n    }\n\n    return this;\n  };\n\n  /**\n   * Set the namespace to prefix mapping.\n   *\n   * @example\n   *\n   * parser.ns({\n   *   'http://foo': 'foo',\n   *   'http://bar': 'bar'\n   * });\n   *\n   * @param  {!Object<string, string>} nsMap\n   *\n   * @return {Parser}\n   */\n  this['ns'] = function(nsMap) {\n\n    if (typeof nsMap === 'undefined') {\n      nsMap = {};\n    }\n\n    if (typeof nsMap !== 'object') {\n      throw error('required args <nsMap={}>');\n    }\n\n    var _nsUriToPrefix = {}, k;\n\n    for (k in nsMap) {\n      _nsUriToPrefix[k] = nsMap[k];\n    }\n\n    // FORCE default mapping for schema instance\n    _nsUriToPrefix[XSI_URI] = XSI_PREFIX;\n\n    isNamespace = true;\n    nsUriToPrefix = _nsUriToPrefix;\n\n    return this;\n  };\n\n  /**\n   * Parse xml string.\n   *\n   * @param  {string} xml\n   *\n   * @return {Error} returnError, if not thrown\n   */\n  this['parse'] = function(xml) {\n    if (typeof xml !== 'string') {\n      throw error('required args <xml=string>');\n    }\n\n    returnError = null;\n\n    parse(xml);\n\n    getContext = noopGetContext;\n    parseStop = false;\n\n    return returnError;\n  };\n\n  /**\n   * Stop parsing.\n   */\n  this['stop'] = function() {\n    parseStop = true;\n  };\n\n  /**\n   * Parse string, invoking configured listeners on element.\n   *\n   * @param  {string} xml\n   */\n  function parse(xml) {\n    var nsMatrixStack = isNamespace ? [] : null,\n        nsMatrix = isNamespace ? buildNsMatrix(nsUriToPrefix) : null,\n        _nsMatrix,\n        nodeStack = [],\n        anonymousNsCount = 0,\n        tagStart = false,\n        tagEnd = false,\n        i = 0, j = 0,\n        x, y, q, w, v,\n        xmlns,\n        elementName,\n        _elementName,\n        elementProxy\n        ;\n\n    var attrsString = '',\n        attrsStart = 0,\n        cachedAttrs // false = parsed with errors, null = needs parsing\n        ;\n\n    /**\n     * Parse attributes on demand and returns the parsed attributes.\n     *\n     * Return semantics: (1) `false` on attribute parse error,\n     * (2) object hash on extracted attrs.\n     *\n     * @return {boolean|Object}\n     */\n    function getAttrs() {\n      if (cachedAttrs !== null) {\n        return cachedAttrs;\n      }\n\n      var nsUri,\n          nsUriPrefix,\n          nsName,\n          defaultAlias = isNamespace && nsMatrix['xmlns'],\n          attrList = isNamespace && maybeNS ? [] : null,\n          i = attrsStart,\n          s = attrsString,\n          l = s.length,\n          hasNewMatrix,\n          newalias,\n          value,\n          alias,\n          name,\n          attrs = {},\n          seenAttrs = {},\n          skipAttr,\n          w,\n          j;\n\n      parseAttr:\n      for (; i < l; i++) {\n        skipAttr = false;\n        w = s.charCodeAt(i);\n\n        if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE={ \\f\\n\\r\\t\\v}\n          continue;\n        }\n\n        // wait for non whitespace character\n        if (w < 65 || w > 122 || (w > 90 && w < 97)) {\n          if (w !== 95 && w !== 58) { // char 95\"_\" 58\":\"\n            handleWarning('illegal first char attribute name');\n            skipAttr = true;\n          }\n        }\n\n        // parse attribute name\n        for (j = i + 1; j < l; j++) {\n          w = s.charCodeAt(j);\n\n          if (\n            w > 96 && w < 123 ||\n            w > 64 && w < 91 ||\n            w > 47 && w < 59 ||\n            w === 46 || // '.'\n            w === 45 || // '-'\n            w === 95 // '_'\n          ) {\n            continue;\n          }\n\n          // unexpected whitespace\n          if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE\n            handleWarning('missing attribute value');\n            i = j;\n\n            continue parseAttr;\n          }\n\n          // expected \"=\"\n          if (w === 61) { // \"=\" == 61\n            break;\n          }\n\n          handleWarning('illegal attribute name char');\n          skipAttr = true;\n        }\n\n        name = s.substring(i, j);\n\n        if (name === 'xmlns:xmlns') {\n          handleWarning('illegal declaration of xmlns');\n          skipAttr = true;\n        }\n\n        w = s.charCodeAt(j + 1);\n\n        if (w === 34) { // '\"'\n          j = s.indexOf('\"', i = j + 2);\n\n          if (j === -1) {\n            j = s.indexOf('\\'', i);\n\n            if (j !== -1) {\n              handleWarning('attribute value quote missmatch');\n              skipAttr = true;\n            }\n          }\n\n        } else if (w === 39) { // \"'\"\n          j = s.indexOf('\\'', i = j + 2);\n\n          if (j === -1) {\n            j = s.indexOf('\"', i);\n\n            if (j !== -1) {\n              handleWarning('attribute value quote missmatch');\n              skipAttr = true;\n            }\n          }\n\n        } else {\n          handleWarning('missing attribute value quotes');\n          skipAttr = true;\n\n          // skip to next space\n          for (j = j + 1; j < l; j++) {\n            w = s.charCodeAt(j + 1);\n\n            if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE\n              break;\n            }\n          }\n\n        }\n\n        if (j === -1) {\n          handleWarning('missing closing quotes');\n\n          j = l;\n          skipAttr = true;\n        }\n\n        if (!skipAttr) {\n          value = s.substring(i, j);\n        }\n\n        i = j;\n\n        // ensure SPACE follows attribute\n        // skip illegal content otherwise\n        // example a=\"b\"c\n        for (; j + 1 < l; j++) {\n          w = s.charCodeAt(j + 1);\n\n          if (w === 32 || (w < 14 && w > 8)) { // WHITESPACE\n            break;\n          }\n\n          // FIRST ILLEGAL CHAR\n          if (i === j) {\n            handleWarning('illegal character after attribute end');\n            skipAttr = true;\n          }\n        }\n\n        // advance cursor to next attribute\n        i = j + 1;\n\n        if (skipAttr) {\n          continue parseAttr;\n        }\n\n        // check attribute re-declaration\n        if (name in seenAttrs) {\n          handleWarning('attribute <' + name + '> already defined');\n          continue;\n        }\n\n        seenAttrs[name] = true;\n\n        if (!isNamespace) {\n          attrs[name] = value;\n          continue;\n        }\n\n        // try to extract namespace information\n        if (maybeNS) {\n          newalias = (\n            name === 'xmlns'\n              ? 'xmlns'\n              : (name.charCodeAt(0) === 120 && name.substr(0, 6) === 'xmlns:')\n                ? name.substr(6)\n                : null\n          );\n\n          // handle xmlns(:alias) assignment\n          if (newalias !== null) {\n            nsUri = decodeEntities(value);\n            nsUriPrefix = uriPrefix(newalias);\n\n            alias = nsUriToPrefix[nsUri];\n\n            if (!alias) {\n\n              // no prefix defined or prefix collision\n              if (\n                (newalias === 'xmlns') ||\n                (nsUriPrefix in nsMatrix && nsMatrix[nsUriPrefix] !== nsUri)\n              ) {\n\n                // alocate free ns prefix\n                do {\n                  alias = 'ns' + (anonymousNsCount++);\n                } while (typeof nsMatrix[alias] !== 'undefined');\n              } else {\n                alias = newalias;\n              }\n\n              nsUriToPrefix[nsUri] = alias;\n            }\n\n            if (nsMatrix[newalias] !== alias) {\n              if (!hasNewMatrix) {\n                nsMatrix = cloneNsMatrix(nsMatrix);\n                hasNewMatrix = true;\n              }\n\n              nsMatrix[newalias] = alias;\n              if (newalias === 'xmlns') {\n                nsMatrix[uriPrefix(alias)] = nsUri;\n                defaultAlias = alias;\n              }\n\n              nsMatrix[nsUriPrefix] = nsUri;\n            }\n\n            // expose xmlns(:asd)=\"...\" in attributes\n            attrs[name] = value;\n            continue;\n          }\n\n          // collect attributes until all namespace\n          // declarations are processed\n          attrList.push(name, value);\n          continue;\n\n        } /** end if (maybeNs) */\n\n        // handle attributes on element without\n        // namespace declarations\n        w = name.indexOf(':');\n        if (w === -1) {\n          attrs[name] = value;\n          continue;\n        }\n\n        // normalize ns attribute name\n        if (!(nsName = nsMatrix[name.substring(0, w)])) {\n          handleWarning(missingNamespaceForPrefix(name.substring(0, w)));\n          continue;\n        }\n\n        name = defaultAlias === nsName\n          ? name.substr(w + 1)\n          : nsName + name.substr(w);\n\n        // end: normalize ns attribute name\n\n        // normalize xsi:type ns attribute value\n        if (name === XSI_TYPE) {\n          w = value.indexOf(':');\n\n          if (w !== -1) {\n            nsName = value.substring(0, w);\n\n            // handle default prefixes, i.e. xs:String gracefully\n            nsName = nsMatrix[nsName] || nsName;\n            value = nsName + value.substring(w);\n          } else {\n            value = defaultAlias + ':' + value;\n          }\n        }\n\n        // end: normalize xsi:type ns attribute value\n\n        attrs[name] = value;\n      }\n\n\n      // handle deferred, possibly namespaced attributes\n      if (maybeNS) {\n\n        // normalize captured attributes\n        for (i = 0, l = attrList.length; i < l; i++) {\n\n          name = attrList[i++];\n          value = attrList[i];\n\n          w = name.indexOf(':');\n\n          if (w !== -1) {\n\n            // normalize ns attribute name\n            if (!(nsName = nsMatrix[name.substring(0, w)])) {\n              handleWarning(missingNamespaceForPrefix(name.substring(0, w)));\n              continue;\n            }\n\n            name = defaultAlias === nsName\n              ? name.substr(w + 1)\n              : nsName + name.substr(w);\n\n            // end: normalize ns attribute name\n\n            // normalize xsi:type ns attribute value\n            if (name === XSI_TYPE) {\n              w = value.indexOf(':');\n\n              if (w !== -1) {\n                nsName = value.substring(0, w);\n\n                // handle default prefixes, i.e. xs:String gracefully\n                nsName = nsMatrix[nsName] || nsName;\n                value = nsName + value.substring(w);\n              } else {\n                value = defaultAlias + ':' + value;\n              }\n            }\n\n            // end: normalize xsi:type ns attribute value\n          }\n\n          attrs[name] = value;\n        }\n\n        // end: normalize captured attributes\n      }\n\n      return cachedAttrs = attrs;\n    }\n\n    /**\n     * Extract the parse context { line, column, part }\n     * from the current parser position.\n     *\n     * @return {Object} parse context\n     */\n    function getParseContext() {\n      var splitsRe = /(\\r\\n|\\r|\\n)/g;\n\n      var line = 0;\n      var column = 0;\n      var startOfLine = 0;\n      var endOfLine = j;\n      var match;\n      var data;\n\n      while (i >= startOfLine) {\n\n        match = splitsRe.exec(xml);\n\n        if (!match) {\n          break;\n        }\n\n        // end of line = (break idx + break chars)\n        endOfLine = match[0].length + match.index;\n\n        if (endOfLine > i) {\n          break;\n        }\n\n        // advance to next line\n        line += 1;\n\n        startOfLine = endOfLine;\n      }\n\n      // EOF errors\n      if (i == -1) {\n        column = endOfLine;\n        data = xml.substring(j);\n      } else\n\n      // start errors\n      if (j === 0) {\n        data = xml.substring(j, i);\n      }\n\n      // other errors\n      else {\n        column = i - startOfLine;\n        data = (j == -1 ? xml.substring(i) : xml.substring(i, j + 1));\n      }\n\n      return {\n        'data': data,\n        'line': line,\n        'column': column\n      };\n    }\n\n    getContext = getParseContext;\n\n\n    if (proxy) {\n      elementProxy = Object.create({}, {\n        'name': getter(function() {\n          return elementName;\n        }),\n        'originalName': getter(function() {\n          return _elementName;\n        }),\n        'attrs': getter(getAttrs),\n        'ns': getter(function() {\n          return nsMatrix;\n        })\n      });\n    }\n\n    // actual parse logic\n    while (j !== -1) {\n\n      if (xml.charCodeAt(j) === 60) { // \"<\"\n        i = j;\n      } else {\n        i = xml.indexOf('<', j);\n      }\n\n      // parse end\n      if (i === -1) {\n        if (nodeStack.length) {\n          return handleError('unexpected end of file');\n        }\n\n        if (j === 0) {\n          return handleError('missing start tag');\n        }\n\n        if (j < xml.length) {\n          if (xml.substring(j).trim()) {\n            handleWarning(NON_WHITESPACE_OUTSIDE_ROOT_NODE);\n          }\n        }\n\n        return;\n      }\n\n      // parse text\n      if (j !== i) {\n\n        if (nodeStack.length) {\n          if (onText) {\n            onText(xml.substring(j, i), decodeEntities, getContext);\n\n            if (parseStop) {\n              return;\n            }\n          }\n        } else {\n          if (xml.substring(j, i).trim()) {\n            handleWarning(NON_WHITESPACE_OUTSIDE_ROOT_NODE);\n\n            if (parseStop) {\n              return;\n            }\n          }\n        }\n      }\n\n      w = xml.charCodeAt(i+1);\n\n      // parse comments + CDATA\n      if (w === 33) { // \"!\"\n        q = xml.charCodeAt(i+2);\n\n        // CDATA section\n        if (q === 91 && xml.substr(i + 3, 6) === 'CDATA[') { // 91 == \"[\"\n          j = xml.indexOf(']]>', i);\n          if (j === -1) {\n            return handleError('unclosed cdata');\n          }\n\n          if (onCDATA) {\n            onCDATA(xml.substring(i + 9, j), getContext);\n            if (parseStop) {\n              return;\n            }\n          }\n\n          j += 3;\n          continue;\n        }\n\n        // comment\n        if (q === 45 && xml.charCodeAt(i + 3) === 45) { // 45 == \"-\"\n          j = xml.indexOf('-->', i);\n          if (j === -1) {\n            return handleError('unclosed comment');\n          }\n\n\n          if (onComment) {\n            onComment(xml.substring(i + 4, j), decodeEntities, getContext);\n            if (parseStop) {\n              return;\n            }\n          }\n\n          j += 3;\n          continue;\n        }\n      }\n\n      // parse question <? ... ?>\n      if (w === 63) { // \"?\"\n        j = xml.indexOf('?>', i);\n        if (j === -1) {\n          return handleError('unclosed question');\n        }\n\n        if (onQuestion) {\n          onQuestion(xml.substring(i, j + 2), getContext);\n          if (parseStop) {\n            return;\n          }\n        }\n\n        j += 2;\n        continue;\n      }\n\n      // find matching closing tag for attention or standard tags\n      // for that we must skip through attribute values\n      // (enclosed in single or double quotes)\n      for (x = i + 1; ; x++) {\n        v = xml.charCodeAt(x);\n        if (isNaN(v)) {\n          j = -1;\n          return handleError('unclosed tag');\n        }\n\n        // [10] AttValue ::= '\"' ([^<&\"] | Reference)* '\"' | \"'\" ([^<&'] | Reference)* \"'\"\n        // skips the quoted string\n        // (double quotes) does not appear in a literal enclosed by (double quotes)\n        // (single quote) does not appear in a literal enclosed by (single quote)\n        if (v === 34) { //  '\"'\n          q = xml.indexOf('\"', x + 1);\n          x = q !== -1 ? q : x;\n        } else if (v === 39) { // \"'\"\n          q = xml.indexOf(\"'\", x + 1);\n          x = q !== -1 ? q : x;\n        } else if (v === 62) { // '>'\n          j = x;\n          break;\n        }\n      }\n\n\n      // parse attention <! ...>\n      // previously comment and CDATA have already been parsed\n      if (w === 33) { // \"!\"\n\n        if (onAttention) {\n          onAttention(xml.substring(i, j + 1), decodeEntities, getContext);\n          if (parseStop) {\n            return;\n          }\n        }\n\n        j += 1;\n        continue;\n      }\n\n      // don't process attributes;\n      // there are none\n      cachedAttrs = {};\n\n      // if (xml.charCodeAt(i+1) === 47) { // </...\n      if (w === 47) { // </...\n        tagStart = false;\n        tagEnd = true;\n\n        if (!nodeStack.length) {\n          return handleError('missing open tag');\n        }\n\n        // verify open <-> close tag match\n        x = elementName = nodeStack.pop();\n        q = i + 2 + x.length;\n\n        if (xml.substring(i + 2, q) !== x) {\n          return handleError('closing tag mismatch');\n        }\n\n        // verify chars in close tag\n        for (; q < j; q++) {\n          w = xml.charCodeAt(q);\n\n          if (w === 32 || (w > 8 && w < 14)) { // \\f\\n\\r\\t\\v space\n            continue;\n          }\n\n          return handleError('close tag');\n        }\n\n      } else {\n        if (xml.charCodeAt(j - 1) === 47) { // .../>\n          x = elementName = xml.substring(i + 1, j - 1);\n\n          tagStart = true;\n          tagEnd = true;\n\n        } else {\n          x = elementName = xml.substring(i + 1, j);\n\n          tagStart = true;\n          tagEnd = false;\n        }\n\n        if (!(w > 96 && w < 123 || w > 64 && w < 91 || w === 95 || w === 58)) { // char 95\"_\" 58\":\"\n          return handleError('illegal first char nodeName');\n        }\n\n        for (q = 1, y = x.length; q < y; q++) {\n          w = x.charCodeAt(q);\n\n          if (w > 96 && w < 123 || w > 64 && w < 91 || w > 47 && w < 59 || w === 45 || w === 95 || w == 46) {\n            continue;\n          }\n\n          if (w === 32 || (w < 14 && w > 8)) { // \\f\\n\\r\\t\\v space\n            elementName = x.substring(0, q);\n\n            // maybe there are attributes\n            cachedAttrs = null;\n            break;\n          }\n\n          return handleError('invalid nodeName');\n        }\n\n        if (!tagEnd) {\n          nodeStack.push(elementName);\n        }\n      }\n\n      if (isNamespace) {\n\n        _nsMatrix = nsMatrix;\n\n        if (tagStart) {\n\n          // remember old namespace\n          // unless we're self-closing\n          if (!tagEnd) {\n            nsMatrixStack.push(_nsMatrix);\n          }\n\n          if (cachedAttrs === null) {\n\n            // quick check, whether there may be namespace\n            // declarations on the node; if that is the case\n            // we need to eagerly parse the node attributes\n            if ((maybeNS = x.indexOf('xmlns', q) !== -1)) {\n              attrsStart = q;\n              attrsString = x;\n\n              getAttrs();\n\n              maybeNS = false;\n            }\n          }\n        }\n\n        _elementName = elementName;\n\n        w = elementName.indexOf(':');\n        if (w !== -1) {\n          xmlns = nsMatrix[elementName.substring(0, w)];\n\n          // prefix given; namespace must exist\n          if (!xmlns) {\n            return handleError('missing namespace on <' + _elementName + '>');\n          }\n\n          elementName = elementName.substr(w + 1);\n        } else {\n          xmlns = nsMatrix['xmlns'];\n\n          // if no default namespace is defined,\n          // we'll import the element as anonymous.\n          //\n          // it is up to users to correct that to the document defined\n          // targetNamespace, or whatever their undersanding of the\n          // XML spec mandates.\n        }\n\n        // adjust namespace prefixs as configured\n        if (xmlns) {\n          elementName = xmlns + ':' + elementName;\n        }\n\n      }\n\n      if (tagStart) {\n        attrsStart = q;\n        attrsString = x;\n\n        if (onOpenTag) {\n          if (proxy) {\n            onOpenTag(elementProxy, decodeEntities, tagEnd, getContext);\n          } else {\n            onOpenTag(elementName, getAttrs, decodeEntities, tagEnd, getContext);\n          }\n\n          if (parseStop) {\n            return;\n          }\n        }\n\n      }\n\n      if (tagEnd) {\n\n        if (onCloseTag) {\n          onCloseTag(proxy ? elementProxy : elementName, decodeEntities, tagStart, getContext);\n\n          if (parseStop) {\n            return;\n          }\n        }\n\n        // restore old namespace\n        if (isNamespace) {\n          if (!tagStart) {\n            nsMatrix = nsMatrixStack.pop();\n          } else {\n            nsMatrix = _nsMatrix;\n          }\n        }\n      }\n\n      j += 1;\n    }\n  } /** end parse */\n\n}\n\nexport { Parser, decodeEntities as decode };\n","import { forEach, assign, find, filter, isString, map } from 'min-dash';\nimport { Parser } from 'saxen';\nimport { coerceType, parseNameNS, isSimpleType, Moddle } from 'moddle';\n\nfunction hasLowerCaseAlias(pkg) {\n  return pkg.xml && pkg.xml.tagAlias === 'lowerCase';\n}\n\nvar DEFAULT_NS_MAP = {\n  'xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n  'xml': 'http://www.w3.org/XML/1998/namespace'\n};\n\nvar XSI_TYPE = 'xsi:type';\n\nfunction serializeFormat(element) {\n  return element.xml && element.xml.serialize;\n}\n\nfunction serializeAsType(element) {\n  return serializeFormat(element) === XSI_TYPE;\n}\n\nfunction serializeAsProperty(element) {\n  return serializeFormat(element) === 'property';\n}\n\nfunction capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction aliasToName(aliasNs, pkg) {\n\n  if (!hasLowerCaseAlias(pkg)) {\n    return aliasNs.name;\n  }\n\n  return aliasNs.prefix + ':' + capitalize(aliasNs.localName);\n}\n\nfunction prefixedToName(nameNs, pkg) {\n\n  var name = nameNs.name,\n      localName = nameNs.localName;\n\n  var typePrefix = pkg.xml && pkg.xml.typePrefix;\n\n  if (typePrefix && localName.indexOf(typePrefix) === 0) {\n    return nameNs.prefix + ':' + localName.slice(typePrefix.length);\n  } else {\n    return name;\n  }\n}\n\nfunction normalizeXsiTypeName(name, model) {\n\n  var nameNs = parseNameNS(name);\n  var pkg = model.getPackage(nameNs.prefix);\n\n  return prefixedToName(nameNs, pkg);\n}\n\nfunction error(message) {\n  return new Error(message);\n}\n\n/**\n * Get the moddle descriptor for a given instance or type.\n *\n * @param  {ModdleElement|Function} element\n *\n * @return {Object} the moddle descriptor\n */\nfunction getModdleDescriptor(element) {\n  return element.$descriptor;\n}\n\nfunction defer(fn) {\n  setTimeout(fn, 0);\n}\n\n/**\n * A parse context.\n *\n * @class\n *\n * @param {Object} options\n * @param {ElementHandler} options.rootHandler the root handler for parsing a document\n * @param {boolean} [options.lax=false] whether or not to ignore invalid elements\n */\nfunction Context(options) {\n\n  /**\n   * @property {ElementHandler} rootHandler\n   */\n\n  /**\n   * @property {Boolean} lax\n   */\n\n  assign(this, options);\n\n  this.elementsById = {};\n  this.references = [];\n  this.warnings = [];\n\n  /**\n   * Add an unresolved reference.\n   *\n   * @param {Object} reference\n   */\n  this.addReference = function(reference) {\n    this.references.push(reference);\n  };\n\n  /**\n   * Add a processed element.\n   *\n   * @param {ModdleElement} element\n   */\n  this.addElement = function(element) {\n\n    if (!element) {\n      throw error('expected element');\n    }\n\n    var elementsById = this.elementsById;\n\n    var descriptor = getModdleDescriptor(element);\n\n    var idProperty = descriptor.idProperty,\n        id;\n\n    if (idProperty) {\n      id = element.get(idProperty.name);\n\n      if (id) {\n        // for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\n        if (!/^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i.test(id)) {\n          throw new Error('illegal ID <' + id + '>');\n        }\n\n        if (elementsById[id]) {\n          throw error('duplicate ID <' + id + '>');\n        }\n\n        elementsById[id] = element;\n      }\n    }\n  };\n\n  /**\n   * Add an import warning.\n   *\n   * @param {Object} warning\n   * @param {String} warning.message\n   * @param {Error} [warning.error]\n   */\n  this.addWarning = function(warning) {\n    this.warnings.push(warning);\n  };\n}\n\nfunction BaseHandler() {}\n\nBaseHandler.prototype.handleEnd = function() {};\nBaseHandler.prototype.handleText = function() {};\nBaseHandler.prototype.handleNode = function() {};\n\n\n/**\n * A simple pass through handler that does nothing except for\n * ignoring all input it receives.\n *\n * This is used to ignore unknown elements and\n * attributes.\n */\nfunction NoopHandler() { }\n\nNoopHandler.prototype = Object.create(BaseHandler.prototype);\n\nNoopHandler.prototype.handleNode = function() {\n  return this;\n};\n\nfunction BodyHandler() {}\n\nBodyHandler.prototype = Object.create(BaseHandler.prototype);\n\nBodyHandler.prototype.handleText = function(text) {\n  this.body = (this.body || '') + text;\n};\n\nfunction ReferenceHandler(property, context) {\n  this.property = property;\n  this.context = context;\n}\n\nReferenceHandler.prototype = Object.create(BodyHandler.prototype);\n\nReferenceHandler.prototype.handleNode = function(node) {\n\n  if (this.element) {\n    throw error('expected no sub nodes');\n  } else {\n    this.element = this.createReference(node);\n  }\n\n  return this;\n};\n\nReferenceHandler.prototype.handleEnd = function() {\n  this.element.id = this.body;\n};\n\nReferenceHandler.prototype.createReference = function(node) {\n  return {\n    property: this.property.ns.name,\n    id: ''\n  };\n};\n\nfunction ValueHandler(propertyDesc, element) {\n  this.element = element;\n  this.propertyDesc = propertyDesc;\n}\n\nValueHandler.prototype = Object.create(BodyHandler.prototype);\n\nValueHandler.prototype.handleEnd = function() {\n\n  var value = this.body || '',\n      element = this.element,\n      propertyDesc = this.propertyDesc;\n\n  value = coerceType(propertyDesc.type, value);\n\n  if (propertyDesc.isMany) {\n    element.get(propertyDesc.name).push(value);\n  } else {\n    element.set(propertyDesc.name, value);\n  }\n};\n\n\nfunction BaseElementHandler() {}\n\nBaseElementHandler.prototype = Object.create(BodyHandler.prototype);\n\nBaseElementHandler.prototype.handleNode = function(node) {\n  var parser = this,\n      element = this.element;\n\n  if (!element) {\n    element = this.element = this.createElement(node);\n\n    this.context.addElement(element);\n  } else {\n    parser = this.handleChild(node);\n  }\n\n  return parser;\n};\n\n/**\n * @class Reader.ElementHandler\n *\n */\nfunction ElementHandler(model, typeName, context) {\n  this.model = model;\n  this.type = model.getType(typeName);\n  this.context = context;\n}\n\nElementHandler.prototype = Object.create(BaseElementHandler.prototype);\n\nElementHandler.prototype.addReference = function(reference) {\n  this.context.addReference(reference);\n};\n\nElementHandler.prototype.handleText = function(text) {\n\n  var element = this.element,\n      descriptor = getModdleDescriptor(element),\n      bodyProperty = descriptor.bodyProperty;\n\n  if (!bodyProperty) {\n    throw error('unexpected body text <' + text + '>');\n  }\n\n  BodyHandler.prototype.handleText.call(this, text);\n};\n\nElementHandler.prototype.handleEnd = function() {\n\n  var value = this.body,\n      element = this.element,\n      descriptor = getModdleDescriptor(element),\n      bodyProperty = descriptor.bodyProperty;\n\n  if (bodyProperty && value !== undefined) {\n    value = coerceType(bodyProperty.type, value);\n    element.set(bodyProperty.name, value);\n  }\n};\n\n/**\n * Create an instance of the model from the given node.\n *\n * @param  {Element} node the xml node\n */\nElementHandler.prototype.createElement = function(node) {\n  var attributes = node.attributes,\n      Type = this.type,\n      descriptor = getModdleDescriptor(Type),\n      context = this.context,\n      instance = new Type({}),\n      model = this.model,\n      propNameNs;\n\n  forEach(attributes, function(value, name) {\n\n    var prop = descriptor.propertiesByName[name],\n        values;\n\n    if (prop && prop.isReference) {\n\n      if (!prop.isMany) {\n        context.addReference({\n          element: instance,\n          property: prop.ns.name,\n          id: value\n        });\n      } else {\n        // IDREFS: parse references as whitespace-separated list\n        values = value.split(' ');\n\n        forEach(values, function(v) {\n          context.addReference({\n            element: instance,\n            property: prop.ns.name,\n            id: v\n          });\n        });\n      }\n\n    } else {\n      if (prop) {\n        value = coerceType(prop.type, value);\n      } else\n      if (name !== 'xmlns') {\n        propNameNs = parseNameNS(name, descriptor.ns.prefix);\n\n        // check whether attribute is defined in a well-known namespace\n        // if that is the case we emit a warning to indicate potential misuse\n        if (model.getPackage(propNameNs.prefix)) {\n\n          context.addWarning({\n            message: 'unknown attribute <' + name + '>',\n            element: instance,\n            property: name,\n            value: value\n          });\n        }\n      }\n\n      instance.set(name, value);\n    }\n  });\n\n  return instance;\n};\n\nElementHandler.prototype.getPropertyForNode = function(node) {\n\n  var name = node.name;\n  var nameNs = parseNameNS(name);\n\n  var type = this.type,\n      model = this.model,\n      descriptor = getModdleDescriptor(type);\n\n  var propertyName = nameNs.name,\n      property = descriptor.propertiesByName[propertyName],\n      elementTypeName,\n      elementType;\n\n  // search for properties by name first\n\n  if (property && !property.isAttr) {\n\n    if (serializeAsType(property)) {\n      elementTypeName = node.attributes[XSI_TYPE];\n\n      // xsi type is optional, if it does not exists the\n      // default type is assumed\n      if (elementTypeName) {\n\n        // take possible type prefixes from XML\n        // into account, i.e.: xsi:type=\"t{ActualType}\"\n        elementTypeName = normalizeXsiTypeName(elementTypeName, model);\n\n        elementType = model.getType(elementTypeName);\n\n        return assign({}, property, {\n          effectiveType: getModdleDescriptor(elementType).name\n        });\n      }\n    }\n\n    // search for properties by name first\n    return property;\n  }\n\n  var pkg = model.getPackage(nameNs.prefix);\n\n  if (pkg) {\n    elementTypeName = aliasToName(nameNs, pkg);\n    elementType = model.getType(elementTypeName);\n\n    // search for collection members later\n    property = find(descriptor.properties, function(p) {\n      return !p.isVirtual && !p.isReference && !p.isAttribute && elementType.hasType(p.type);\n    });\n\n    if (property) {\n      return assign({}, property, {\n        effectiveType: getModdleDescriptor(elementType).name\n      });\n    }\n  } else {\n    // parse unknown element (maybe extension)\n    property = find(descriptor.properties, function(p) {\n      return !p.isReference && !p.isAttribute && p.type === 'Element';\n    });\n\n    if (property) {\n      return property;\n    }\n  }\n\n  throw error('unrecognized element <' + nameNs.name + '>');\n};\n\nElementHandler.prototype.toString = function() {\n  return 'ElementDescriptor[' + getModdleDescriptor(this.type).name + ']';\n};\n\nElementHandler.prototype.valueHandler = function(propertyDesc, element) {\n  return new ValueHandler(propertyDesc, element);\n};\n\nElementHandler.prototype.referenceHandler = function(propertyDesc) {\n  return new ReferenceHandler(propertyDesc, this.context);\n};\n\nElementHandler.prototype.handler = function(type) {\n  if (type === 'Element') {\n    return new GenericElementHandler(this.model, type, this.context);\n  } else {\n    return new ElementHandler(this.model, type, this.context);\n  }\n};\n\n/**\n * Handle the child element parsing\n *\n * @param  {Element} node the xml node\n */\nElementHandler.prototype.handleChild = function(node) {\n  var propertyDesc, type, element, childHandler;\n\n  propertyDesc = this.getPropertyForNode(node);\n  element = this.element;\n\n  type = propertyDesc.effectiveType || propertyDesc.type;\n\n  if (isSimpleType(type)) {\n    return this.valueHandler(propertyDesc, element);\n  }\n\n  if (propertyDesc.isReference) {\n    childHandler = this.referenceHandler(propertyDesc).handleNode(node);\n  } else {\n    childHandler = this.handler(type).handleNode(node);\n  }\n\n  var newElement = childHandler.element;\n\n  // child handles may decide to skip elements\n  // by not returning anything\n  if (newElement !== undefined) {\n\n    if (propertyDesc.isMany) {\n      element.get(propertyDesc.name).push(newElement);\n    } else {\n      element.set(propertyDesc.name, newElement);\n    }\n\n    if (propertyDesc.isReference) {\n      assign(newElement, {\n        element: element\n      });\n\n      this.context.addReference(newElement);\n    } else {\n      // establish child -> parent relationship\n      newElement.$parent = element;\n    }\n  }\n\n  return childHandler;\n};\n\n/**\n * An element handler that performs special validation\n * to ensure the node it gets initialized with matches\n * the handlers type (namespace wise).\n *\n * @param {Moddle} model\n * @param {String} typeName\n * @param {Context} context\n */\nfunction RootElementHandler(model, typeName, context) {\n  ElementHandler.call(this, model, typeName, context);\n}\n\nRootElementHandler.prototype = Object.create(ElementHandler.prototype);\n\nRootElementHandler.prototype.createElement = function(node) {\n\n  var name = node.name,\n      nameNs = parseNameNS(name),\n      model = this.model,\n      type = this.type,\n      pkg = model.getPackage(nameNs.prefix),\n      typeName = pkg && aliasToName(nameNs, pkg) || name;\n\n  // verify the correct namespace if we parse\n  // the first element in the handler tree\n  //\n  // this ensures we don't mistakenly import wrong namespace elements\n  if (!type.hasType(typeName)) {\n    throw error('unexpected element <' + node.originalName + '>');\n  }\n\n  return ElementHandler.prototype.createElement.call(this, node);\n};\n\n\nfunction GenericElementHandler(model, typeName, context) {\n  this.model = model;\n  this.context = context;\n}\n\nGenericElementHandler.prototype = Object.create(BaseElementHandler.prototype);\n\nGenericElementHandler.prototype.createElement = function(node) {\n\n  var name = node.name,\n      ns = parseNameNS(name),\n      prefix = ns.prefix,\n      uri = node.ns[prefix + '$uri'],\n      attributes = node.attributes;\n\n  return this.model.createAny(name, uri, attributes);\n};\n\nGenericElementHandler.prototype.handleChild = function(node) {\n\n  var handler = new GenericElementHandler(this.model, 'Element', this.context).handleNode(node),\n      element = this.element;\n\n  var newElement = handler.element,\n      children;\n\n  if (newElement !== undefined) {\n    children = element.$children = element.$children || [];\n    children.push(newElement);\n\n    // establish child -> parent relationship\n    newElement.$parent = element;\n  }\n\n  return handler;\n};\n\nGenericElementHandler.prototype.handleEnd = function() {\n  if (this.body) {\n    this.element.$body = this.body;\n  }\n};\n\n/**\n * A reader for a meta-model\n *\n * @param {Object} options\n * @param {Model} options.model used to read xml files\n * @param {Boolean} options.lax whether to make parse errors warnings\n */\nfunction Reader(options) {\n\n  if (options instanceof Moddle) {\n    options = {\n      model: options\n    };\n  }\n\n  assign(this, { lax: false }, options);\n}\n\n\n/**\n * Parse the given XML into a moddle document tree.\n *\n * @param {String} xml\n * @param {ElementHandler|Object} options or rootHandler\n * @param  {Function} done\n */\nReader.prototype.fromXML = function(xml, options, done) {\n\n  var rootHandler = options.rootHandler;\n\n  if (options instanceof ElementHandler) {\n    // root handler passed via (xml, { rootHandler: ElementHandler }, ...)\n    rootHandler = options;\n    options = {};\n  } else {\n    if (typeof options === 'string') {\n      // rootHandler passed via (xml, 'someString', ...)\n      rootHandler = this.handler(options);\n      options = {};\n    } else if (typeof rootHandler === 'string') {\n      // rootHandler passed via (xml, { rootHandler: 'someString' }, ...)\n      rootHandler = this.handler(rootHandler);\n    }\n  }\n\n  var model = this.model,\n      lax = this.lax;\n\n  var context = new Context(assign({}, options, { rootHandler: rootHandler })),\n      parser = new Parser({ proxy: true }),\n      stack = createStack();\n\n  rootHandler.context = context;\n\n  // push root handler\n  stack.push(rootHandler);\n\n\n  /**\n   * Handle error.\n   *\n   * @param  {Error} err\n   * @param  {Function} getContext\n   * @param  {boolean} lax\n   *\n   * @return {boolean} true if handled\n   */\n  function handleError(err, getContext, lax) {\n\n    var ctx = getContext();\n\n    var line = ctx.line,\n        column = ctx.column,\n        data = ctx.data;\n\n    // we receive the full context data here,\n    // for elements trim down the information\n    // to the tag name, only\n    if (data.charAt(0) === '<' && data.indexOf(' ') !== -1) {\n      data = data.slice(0, data.indexOf(' ')) + '>';\n    }\n\n    var message =\n      'unparsable content ' + (data ? data + ' ' : '') + 'detected\\n\\t' +\n        'line: ' + line + '\\n\\t' +\n        'column: ' + column + '\\n\\t' +\n        'nested error: ' + err.message;\n\n    if (lax) {\n      context.addWarning({\n        message: message,\n        error: err\n      });\n\n      return true;\n    } else {\n      throw error(message);\n    }\n  }\n\n  function handleWarning(err, getContext) {\n    // just like handling errors in <lax=true> mode\n    return handleError(err, getContext, true);\n  }\n\n  /**\n   * Resolve collected references on parse end.\n   */\n  function resolveReferences() {\n\n    var elementsById = context.elementsById;\n    var references = context.references;\n\n    var i, r;\n\n    for (i = 0; (r = references[i]); i++) {\n      var element = r.element;\n      var reference = elementsById[r.id];\n      var property = getModdleDescriptor(element).propertiesByName[r.property];\n\n      if (!reference) {\n        context.addWarning({\n          message: 'unresolved reference <' + r.id + '>',\n          element: r.element,\n          property: r.property,\n          value: r.id\n        });\n      }\n\n      if (property.isMany) {\n        var collection = element.get(property.name),\n            idx = collection.indexOf(r);\n\n        // we replace an existing place holder (idx != -1) or\n        // append to the collection instead\n        if (idx === -1) {\n          idx = collection.length;\n        }\n\n        if (!reference) {\n          // remove unresolvable reference\n          collection.splice(idx, 1);\n        } else {\n          // add or update reference in collection\n          collection[idx] = reference;\n        }\n      } else {\n        element.set(property.name, reference);\n      }\n    }\n  }\n\n  function handleClose() {\n    stack.pop().handleEnd();\n  }\n\n  var PREAMBLE_START_PATTERN = /^<\\?xml /i;\n\n  var ENCODING_PATTERN = / encoding=\"([^\"]+)\"/i;\n\n  var UTF_8_PATTERN = /^utf-8$/i;\n\n  function handleQuestion(question) {\n\n    if (!PREAMBLE_START_PATTERN.test(question)) {\n      return;\n    }\n\n    var match = ENCODING_PATTERN.exec(question);\n    var encoding = match && match[1];\n\n    if (!encoding || UTF_8_PATTERN.test(encoding)) {\n      return;\n    }\n\n    context.addWarning({\n      message:\n        'unsupported document encoding <' + encoding + '>, ' +\n        'falling back to UTF-8'\n    });\n  }\n\n  function handleOpen(node, getContext) {\n    var handler = stack.peek();\n\n    try {\n      stack.push(handler.handleNode(node));\n    } catch (err) {\n\n      if (handleError(err, getContext, lax)) {\n        stack.push(new NoopHandler());\n      }\n    }\n  }\n\n  function handleCData(text, getContext) {\n\n    try {\n      stack.peek().handleText(text);\n    } catch (err) {\n      handleWarning(err, getContext);\n    }\n  }\n\n  function handleText(text, getContext) {\n    // strip whitespace only nodes, i.e. before\n    // <!CDATA[ ... ]> sections and in between tags\n    text = text.trim();\n\n    if (!text) {\n      return;\n    }\n\n    handleCData(text, getContext);\n  }\n\n  var uriMap = model.getPackages().reduce(function(uriMap, p) {\n    uriMap[p.uri] = p.prefix;\n\n    return uriMap;\n  }, {\n    'http://www.w3.org/XML/1998/namespace': 'xml' // add default xml ns\n  });\n  parser\n    .ns(uriMap)\n    .on('openTag', function(obj, decodeStr, selfClosing, getContext) {\n\n      // gracefully handle unparsable attributes (attrs=false)\n      var attrs = obj.attrs || {};\n\n      var decodedAttrs = Object.keys(attrs).reduce(function(d, key) {\n        var value = decodeStr(attrs[key]);\n\n        d[key] = value;\n\n        return d;\n      }, {});\n\n      var node = {\n        name: obj.name,\n        originalName: obj.originalName,\n        attributes: decodedAttrs,\n        ns: obj.ns\n      };\n\n      handleOpen(node, getContext);\n    })\n    .on('question', handleQuestion)\n    .on('closeTag', handleClose)\n    .on('cdata', handleCData)\n    .on('text', function(text, decodeEntities, getContext) {\n      handleText(decodeEntities(text), getContext);\n    })\n    .on('error', handleError)\n    .on('warn', handleWarning);\n\n  // deferred parse XML to make loading really ascnchronous\n  // this ensures the execution environment (node or browser)\n  // is kept responsive and that certain optimization strategies\n  // can kick in\n  defer(function() {\n    var err;\n\n    try {\n      parser.parse(xml);\n\n      resolveReferences();\n    } catch (e) {\n      err = e;\n    }\n\n    var element = rootHandler.element;\n\n    // handle the situation that we could not extract\n    // the desired root element from the document\n    if (!err && !element) {\n      err = error('failed to parse document as <' + rootHandler.type.$descriptor.name + '>');\n    }\n\n    done(err, err ? undefined : element, context);\n  });\n};\n\nReader.prototype.handler = function(name) {\n  return new RootElementHandler(this.model, name);\n};\n\n\n// helpers //////////////////////////\n\nfunction createStack() {\n  var stack = [];\n\n  Object.defineProperty(stack, 'peek', {\n    value: function() {\n      return this[this.length - 1];\n    }\n  });\n\n  return stack;\n}\n\nvar XML_PREAMBLE = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\n\nvar ESCAPE_ATTR_CHARS = /<|>|'|\"|&|\\n\\r|\\n/g;\nvar ESCAPE_CHARS = /<|>|&/g;\n\n\nfunction Namespaces(parent) {\n\n  var prefixMap = {};\n  var uriMap = {};\n  var used = {};\n\n  var wellknown = [];\n  var custom = [];\n\n  // API\n\n  this.byUri = function(uri) {\n    return uriMap[uri] || (\n      parent && parent.byUri(uri)\n    );\n  };\n\n  this.add = function(ns, isWellknown) {\n\n    uriMap[ns.uri] = ns;\n\n    if (isWellknown) {\n      wellknown.push(ns);\n    } else {\n      custom.push(ns);\n    }\n\n    this.mapPrefix(ns.prefix, ns.uri);\n  };\n\n  this.uriByPrefix = function(prefix) {\n    return prefixMap[prefix || 'xmlns'];\n  };\n\n  this.mapPrefix = function(prefix, uri) {\n    prefixMap[prefix || 'xmlns'] = uri;\n  };\n\n  this.getNSKey = function(ns) {\n    return (ns.prefix !== undefined) ? (ns.uri + '|' + ns.prefix) : ns.uri;\n  };\n\n  this.logUsed = function(ns) {\n\n    var uri = ns.uri;\n    var nsKey = this.getNSKey(ns);\n\n    used[nsKey] = this.byUri(uri);\n\n    // Inform parent recursively about the usage of this NS\n    if (parent) {\n      parent.logUsed(ns);\n    }\n  };\n\n  this.getUsed = function(ns) {\n\n    function isUsed(ns) {\n      var nsKey = self.getNSKey(ns);\n\n      return used[nsKey];\n    }\n\n    var self = this;\n\n    var allNs = [].concat(wellknown, custom);\n\n    return allNs.filter(isUsed);\n  };\n\n}\n\nfunction lower(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1);\n}\n\nfunction nameToAlias(name, pkg) {\n  if (hasLowerCaseAlias(pkg)) {\n    return lower(name);\n  } else {\n    return name;\n  }\n}\n\nfunction inherits(ctor, superCtor) {\n  ctor.super_ = superCtor;\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nfunction nsName(ns) {\n  if (isString(ns)) {\n    return ns;\n  } else {\n    return (ns.prefix ? ns.prefix + ':' : '') + ns.localName;\n  }\n}\n\nfunction getNsAttrs(namespaces) {\n\n  return map(namespaces.getUsed(), function(ns) {\n    var name = 'xmlns' + (ns.prefix ? ':' + ns.prefix : '');\n    return { name: name, value: ns.uri };\n  });\n\n}\n\nfunction getElementNs(ns, descriptor) {\n  if (descriptor.isGeneric) {\n    return assign({ localName: descriptor.ns.localName }, ns);\n  } else {\n    return assign({ localName: nameToAlias(descriptor.ns.localName, descriptor.$pkg) }, ns);\n  }\n}\n\nfunction getPropertyNs(ns, descriptor) {\n  return assign({ localName: descriptor.ns.localName }, ns);\n}\n\nfunction getSerializableProperties(element) {\n  var descriptor = element.$descriptor;\n\n  return filter(descriptor.properties, function(p) {\n    var name = p.name;\n\n    if (p.isVirtual) {\n      return false;\n    }\n\n    // do not serialize defaults\n    if (!element.hasOwnProperty(name)) {\n      return false;\n    }\n\n    var value = element[name];\n\n    // do not serialize default equals\n    if (value === p.default) {\n      return false;\n    }\n\n    // do not serialize null properties\n    if (value === null) {\n      return false;\n    }\n\n    return p.isMany ? value.length : true;\n  });\n}\n\nvar ESCAPE_ATTR_MAP = {\n  '\\n': '#10',\n  '\\n\\r': '#10',\n  '\"': '#34',\n  '\\'': '#39',\n  '<': '#60',\n  '>': '#62',\n  '&': '#38'\n};\n\nvar ESCAPE_MAP = {\n  '<': 'lt',\n  '>': 'gt',\n  '&': 'amp'\n};\n\nfunction escape(str, charPattern, replaceMap) {\n\n  // ensure we are handling strings here\n  str = isString(str) ? str : '' + str;\n\n  return str.replace(charPattern, function(s) {\n    return '&' + replaceMap[s] + ';';\n  });\n}\n\n/**\n * Escape a string attribute to not contain any bad values (line breaks, '\"', ...)\n *\n * @param {String} str the string to escape\n * @return {String} the escaped string\n */\nfunction escapeAttr(str) {\n  return escape(str, ESCAPE_ATTR_CHARS, ESCAPE_ATTR_MAP);\n}\n\nfunction escapeBody(str) {\n  return escape(str, ESCAPE_CHARS, ESCAPE_MAP);\n}\n\nfunction filterAttributes(props) {\n  return filter(props, function(p) { return p.isAttr; });\n}\n\nfunction filterContained(props) {\n  return filter(props, function(p) { return !p.isAttr; });\n}\n\n\nfunction ReferenceSerializer(tagName) {\n  this.tagName = tagName;\n}\n\nReferenceSerializer.prototype.build = function(element) {\n  this.element = element;\n  return this;\n};\n\nReferenceSerializer.prototype.serializeTo = function(writer) {\n  writer\n    .appendIndent()\n    .append('<' + this.tagName + '>' + this.element.id + '</' + this.tagName + '>')\n    .appendNewLine();\n};\n\nfunction BodySerializer() {}\n\nBodySerializer.prototype.serializeValue =\nBodySerializer.prototype.serializeTo = function(writer) {\n  writer.append(\n    this.escape\n      ? escapeBody(this.value)\n      : this.value\n  );\n};\n\nBodySerializer.prototype.build = function(prop, value) {\n  this.value = value;\n\n  if (prop.type === 'String' && value.search(ESCAPE_CHARS) !== -1) {\n    this.escape = true;\n  }\n\n  return this;\n};\n\nfunction ValueSerializer(tagName) {\n  this.tagName = tagName;\n}\n\ninherits(ValueSerializer, BodySerializer);\n\nValueSerializer.prototype.serializeTo = function(writer) {\n\n  writer\n    .appendIndent()\n    .append('<' + this.tagName + '>');\n\n  this.serializeValue(writer);\n\n  writer\n    .append('</' + this.tagName + '>')\n    .appendNewLine();\n};\n\nfunction ElementSerializer(parent, propertyDescriptor) {\n  this.body = [];\n  this.attrs = [];\n\n  this.parent = parent;\n  this.propertyDescriptor = propertyDescriptor;\n}\n\nElementSerializer.prototype.build = function(element) {\n  this.element = element;\n\n  var elementDescriptor = element.$descriptor,\n      propertyDescriptor = this.propertyDescriptor;\n\n  var otherAttrs,\n      properties;\n\n  var isGeneric = elementDescriptor.isGeneric;\n\n  if (isGeneric) {\n    otherAttrs = this.parseGeneric(element);\n  } else {\n    otherAttrs = this.parseNsAttributes(element);\n  }\n\n  if (propertyDescriptor) {\n    this.ns = this.nsPropertyTagName(propertyDescriptor);\n  } else {\n    this.ns = this.nsTagName(elementDescriptor);\n  }\n\n  // compute tag name\n  this.tagName = this.addTagName(this.ns);\n\n  if (!isGeneric) {\n    properties = getSerializableProperties(element);\n\n    this.parseAttributes(filterAttributes(properties));\n    this.parseContainments(filterContained(properties));\n  }\n\n  this.parseGenericAttributes(element, otherAttrs);\n\n  return this;\n};\n\nElementSerializer.prototype.nsTagName = function(descriptor) {\n  var effectiveNs = this.logNamespaceUsed(descriptor.ns);\n  return getElementNs(effectiveNs, descriptor);\n};\n\nElementSerializer.prototype.nsPropertyTagName = function(descriptor) {\n  var effectiveNs = this.logNamespaceUsed(descriptor.ns);\n  return getPropertyNs(effectiveNs, descriptor);\n};\n\nElementSerializer.prototype.isLocalNs = function(ns) {\n  return ns.uri === this.ns.uri;\n};\n\n/**\n * Get the actual ns attribute name for the given element.\n *\n * @param {Object} element\n * @param {Boolean} [element.inherited=false]\n *\n * @return {Object} nsName\n */\nElementSerializer.prototype.nsAttributeName = function(element) {\n\n  var ns;\n\n  if (isString(element)) {\n    ns = parseNameNS(element);\n  } else {\n    ns = element.ns;\n  }\n\n  // return just local name for inherited attributes\n  if (element.inherited) {\n    return { localName: ns.localName };\n  }\n\n  // parse + log effective ns\n  var effectiveNs = this.logNamespaceUsed(ns);\n\n  // LOG ACTUAL namespace use\n  this.getNamespaces().logUsed(effectiveNs);\n\n  // strip prefix if same namespace like parent\n  if (this.isLocalNs(effectiveNs)) {\n    return { localName: ns.localName };\n  } else {\n    return assign({ localName: ns.localName }, effectiveNs);\n  }\n};\n\nElementSerializer.prototype.parseGeneric = function(element) {\n\n  var self = this,\n      body = this.body;\n\n  var attributes = [];\n\n  forEach(element, function(val, key) {\n\n    var nonNsAttr;\n\n    if (key === '$body') {\n      body.push(new BodySerializer().build({ type: 'String' }, val));\n    } else\n    if (key === '$children') {\n      forEach(val, function(child) {\n        body.push(new ElementSerializer(self).build(child));\n      });\n    } else\n    if (key.indexOf('$') !== 0) {\n      nonNsAttr = self.parseNsAttribute(element, key, val);\n\n      if (nonNsAttr) {\n        attributes.push({ name: key, value: val });\n      }\n    }\n  });\n\n  return attributes;\n};\n\nElementSerializer.prototype.parseNsAttribute = function(element, name, value) {\n  var model = element.$model;\n\n  var nameNs = parseNameNS(name);\n\n  var ns;\n\n  // parse xmlns:foo=\"http://foo.bar\"\n  if (nameNs.prefix === 'xmlns') {\n    ns = { prefix: nameNs.localName, uri: value };\n  }\n\n  // parse xmlns=\"http://foo.bar\"\n  if (!nameNs.prefix && nameNs.localName === 'xmlns') {\n    ns = { uri: value };\n  }\n\n  if (!ns) {\n    return {\n      name: name,\n      value: value\n    };\n  }\n\n  if (model && model.getPackage(value)) {\n    // register well known namespace\n    this.logNamespace(ns, true, true);\n  } else {\n    // log custom namespace directly as used\n    var actualNs = this.logNamespaceUsed(ns, true);\n\n    this.getNamespaces().logUsed(actualNs);\n  }\n};\n\n\n/**\n * Parse namespaces and return a list of left over generic attributes\n *\n * @param  {Object} element\n * @return {Array<Object>}\n */\nElementSerializer.prototype.parseNsAttributes = function(element, attrs) {\n  var self = this;\n\n  var genericAttrs = element.$attrs;\n\n  var attributes = [];\n\n  // parse namespace attributes first\n  // and log them. push non namespace attributes to a list\n  // and process them later\n  forEach(genericAttrs, function(value, name) {\n\n    var nonNsAttr = self.parseNsAttribute(element, name, value);\n\n    if (nonNsAttr) {\n      attributes.push(nonNsAttr);\n    }\n  });\n\n  return attributes;\n};\n\nElementSerializer.prototype.parseGenericAttributes = function(element, attributes) {\n\n  var self = this;\n\n  forEach(attributes, function(attr) {\n\n    // do not serialize xsi:type attribute\n    // it is set manually based on the actual implementation type\n    if (attr.name === XSI_TYPE) {\n      return;\n    }\n\n    try {\n      self.addAttribute(self.nsAttributeName(attr.name), attr.value);\n    } catch (e) {\n      console.warn(\n        'missing namespace information for ',\n        attr.name, '=', attr.value, 'on', element,\n        e);\n    }\n  });\n};\n\nElementSerializer.prototype.parseContainments = function(properties) {\n\n  var self = this,\n      body = this.body,\n      element = this.element;\n\n  forEach(properties, function(p) {\n    var value = element.get(p.name),\n        isReference = p.isReference,\n        isMany = p.isMany;\n\n    if (!isMany) {\n      value = [ value ];\n    }\n\n    if (p.isBody) {\n      body.push(new BodySerializer().build(p, value[0]));\n    } else\n    if (isSimpleType(p.type)) {\n      forEach(value, function(v) {\n        body.push(new ValueSerializer(self.addTagName(self.nsPropertyTagName(p))).build(p, v));\n      });\n    } else\n    if (isReference) {\n      forEach(value, function(v) {\n        body.push(new ReferenceSerializer(self.addTagName(self.nsPropertyTagName(p))).build(v));\n      });\n    } else {\n      // allow serialization via type\n      // rather than element name\n      var asType = serializeAsType(p),\n          asProperty = serializeAsProperty(p);\n\n      forEach(value, function(v) {\n        var serializer;\n\n        if (asType) {\n          serializer = new TypeSerializer(self, p);\n        } else\n        if (asProperty) {\n          serializer = new ElementSerializer(self, p);\n        } else {\n          serializer = new ElementSerializer(self);\n        }\n\n        body.push(serializer.build(v));\n      });\n    }\n  });\n};\n\nElementSerializer.prototype.getNamespaces = function(local) {\n\n  var namespaces = this.namespaces,\n      parent = this.parent,\n      parentNamespaces;\n\n  if (!namespaces) {\n    parentNamespaces = parent && parent.getNamespaces();\n\n    if (local || !parentNamespaces) {\n      this.namespaces = namespaces = new Namespaces(parentNamespaces);\n    } else {\n      namespaces = parentNamespaces;\n    }\n  }\n\n  return namespaces;\n};\n\nElementSerializer.prototype.logNamespace = function(ns, wellknown, local) {\n  var namespaces = this.getNamespaces(local);\n\n  var nsUri = ns.uri,\n      nsPrefix = ns.prefix;\n\n  var existing = namespaces.byUri(nsUri);\n\n  if (nsPrefix !== 'xml' && (!existing || local)) {\n    namespaces.add(ns, wellknown);\n  }\n\n  namespaces.mapPrefix(nsPrefix, nsUri);\n\n  return ns;\n};\n\nElementSerializer.prototype.logNamespaceUsed = function(ns, local) {\n  var element = this.element,\n      model = element.$model,\n      namespaces = this.getNamespaces(local);\n\n  // ns may be\n  //\n  //   * prefix only\n  //   * prefix:uri\n  //   * localName only\n\n  var prefix = ns.prefix,\n      uri = ns.uri,\n      newPrefix, idx,\n      wellknownUri;\n\n  // handle anonymous namespaces (elementForm=unqualified), cf. #23\n  if (!prefix && !uri) {\n    return { localName: ns.localName };\n  }\n\n  wellknownUri = DEFAULT_NS_MAP[prefix] || model && (model.getPackage(prefix) || {}).uri;\n\n  uri = uri || wellknownUri || namespaces.uriByPrefix(prefix);\n\n  if (!uri) {\n    throw new Error('no namespace uri given for prefix <' + prefix + '>');\n  }\n\n  ns = namespaces.byUri(uri);\n\n  if (!ns) {\n    newPrefix = prefix;\n    idx = 1;\n\n    // find a prefix that is not mapped yet\n    while (namespaces.uriByPrefix(newPrefix)) {\n      newPrefix = prefix + '_' + idx++;\n    }\n\n    ns = this.logNamespace({ prefix: newPrefix, uri: uri }, wellknownUri === uri);\n  }\n\n  if (prefix) {\n    namespaces.mapPrefix(prefix, uri);\n  }\n\n  return ns;\n};\n\nElementSerializer.prototype.parseAttributes = function(properties) {\n  var self = this,\n      element = this.element;\n\n  forEach(properties, function(p) {\n\n    var value = element.get(p.name);\n\n    if (p.isReference) {\n\n      if (!p.isMany) {\n        value = value.id;\n      }\n      else {\n        var values = [];\n        forEach(value, function(v) {\n          values.push(v.id);\n        });\n        // IDREFS is a whitespace-separated list of references.\n        value = values.join(' ');\n      }\n\n    }\n\n    self.addAttribute(self.nsAttributeName(p), value);\n  });\n};\n\nElementSerializer.prototype.addTagName = function(nsTagName) {\n  var actualNs = this.logNamespaceUsed(nsTagName);\n\n  this.getNamespaces().logUsed(actualNs);\n\n  return nsName(nsTagName);\n};\n\nElementSerializer.prototype.addAttribute = function(name, value) {\n  var attrs = this.attrs;\n\n  if (isString(value)) {\n    value = escapeAttr(value);\n  }\n\n  attrs.push({ name: name, value: value });\n};\n\nElementSerializer.prototype.serializeAttributes = function(writer) {\n  var attrs = this.attrs,\n      namespaces = this.namespaces;\n\n  if (namespaces) {\n    attrs = getNsAttrs(namespaces).concat(attrs);\n  }\n\n  forEach(attrs, function(a) {\n    writer\n      .append(' ')\n      .append(nsName(a.name)).append('=\"').append(a.value).append('\"');\n  });\n};\n\nElementSerializer.prototype.serializeTo = function(writer) {\n  var firstBody = this.body[0],\n      indent = firstBody && firstBody.constructor !== BodySerializer;\n\n  writer\n    .appendIndent()\n    .append('<' + this.tagName);\n\n  this.serializeAttributes(writer);\n\n  writer.append(firstBody ? '>' : ' />');\n\n  if (firstBody) {\n\n    if (indent) {\n      writer\n        .appendNewLine()\n        .indent();\n    }\n\n    forEach(this.body, function(b) {\n      b.serializeTo(writer);\n    });\n\n    if (indent) {\n      writer\n        .unindent()\n        .appendIndent();\n    }\n\n    writer.append('</' + this.tagName + '>');\n  }\n\n  writer.appendNewLine();\n};\n\n/**\n * A serializer for types that handles serialization of data types\n */\nfunction TypeSerializer(parent, propertyDescriptor) {\n  ElementSerializer.call(this, parent, propertyDescriptor);\n}\n\ninherits(TypeSerializer, ElementSerializer);\n\nTypeSerializer.prototype.parseNsAttributes = function(element) {\n\n  // extracted attributes\n  var attributes = ElementSerializer.prototype.parseNsAttributes.call(this, element);\n\n  var descriptor = element.$descriptor;\n\n  // only serialize xsi:type if necessary\n  if (descriptor.name === this.propertyDescriptor.type) {\n    return attributes;\n  }\n\n  var typeNs = this.typeNs = this.nsTagName(descriptor);\n  this.getNamespaces().logUsed(this.typeNs);\n\n  // add xsi:type attribute to represent the elements\n  // actual type\n\n  var pkg = element.$model.getPackage(typeNs.uri),\n      typePrefix = (pkg.xml && pkg.xml.typePrefix) || '';\n\n  this.addAttribute(\n    this.nsAttributeName(XSI_TYPE),\n    (typeNs.prefix ? typeNs.prefix + ':' : '') + typePrefix + descriptor.ns.localName\n  );\n\n  return attributes;\n};\n\nTypeSerializer.prototype.isLocalNs = function(ns) {\n  return ns.uri === (this.typeNs || this.ns).uri;\n};\n\nfunction SavingWriter() {\n  this.value = '';\n\n  this.write = function(str) {\n    this.value += str;\n  };\n}\n\nfunction FormatingWriter(out, format) {\n\n  var indent = [''];\n\n  this.append = function(str) {\n    out.write(str);\n\n    return this;\n  };\n\n  this.appendNewLine = function() {\n    if (format) {\n      out.write('\\n');\n    }\n\n    return this;\n  };\n\n  this.appendIndent = function() {\n    if (format) {\n      out.write(indent.join('  '));\n    }\n\n    return this;\n  };\n\n  this.indent = function() {\n    indent.push('');\n    return this;\n  };\n\n  this.unindent = function() {\n    indent.pop();\n    return this;\n  };\n}\n\n/**\n * A writer for meta-model backed document trees\n *\n * @param {Object} options output options to pass into the writer\n */\nfunction Writer(options) {\n\n  options = assign({ format: false, preamble: true }, options || {});\n\n  function toXML(tree, writer) {\n    var internalWriter = writer || new SavingWriter();\n    var formatingWriter = new FormatingWriter(internalWriter, options.format);\n\n    if (options.preamble) {\n      formatingWriter.append(XML_PREAMBLE);\n    }\n\n    new ElementSerializer().build(tree).serializeTo(formatingWriter);\n\n    if (!writer) {\n      return internalWriter.value;\n    }\n  }\n\n  return {\n    toXML: toXML\n  };\n}\n\nexport { Reader, Writer };\n","import { isString, isFunction, assign } from 'min-dash';\nimport { Moddle } from 'moddle';\nimport { Reader, Writer } from 'moddle-xml';\n\n/**\n * A sub class of {@link Moddle} with support for import and export of DMN xml files.\n *\n * @class DmnModdle\n * @extends Moddle\n *\n * @param {Object|Array} packages to use for instantiating the model\n * @param {Object} [options] additional options to pass over\n */\nfunction DmnModdle(packages, options) {\n  Moddle.call(this, packages, options);\n}\n\nDmnModdle.prototype = Object.create(Moddle.prototype);\n\n\n/**\n * Instantiates a DMN model tree from a given xml string.\n *\n * @param {String}   xmlStr\n * @param {String}   [typeName='dmn:Definitions'] name of the root element\n * @param {Object}   [options]  options to pass to the underlying reader\n * @param {Function} done       callback that is invoked with (err, result, parseContext)\n *                              once the import completes\n */\nDmnModdle.prototype.fromXML = function(xmlStr, typeName, options, done) {\n\n  if (!isString(typeName)) {\n    done = options;\n    options = typeName;\n    typeName = 'dmn:Definitions';\n  }\n\n  if (isFunction(options)) {\n    done = options;\n    options = {};\n  }\n\n  var reader = new Reader(assign({ model: this, lax: true }, options));\n  var rootHandler = reader.handler(typeName);\n\n  reader.fromXML(xmlStr, rootHandler, done);\n};\n\n\n/**\n * Serializes a DMN object tree to XML.\n *\n * @param {String}   element    the root element, typically an instance of `Definitions`\n * @param {Object}   [options]  to pass to the underlying writer\n * @param {Function} done       callback invoked with (err, xmlStr) once the import completes\n */\nDmnModdle.prototype.toXML = function(element, options, done) {\n\n  if (isFunction(options)) {\n    done = options;\n    options = {};\n  }\n\n  var writer = new Writer(options);\n\n  var result;\n  var err;\n\n  try {\n    result = writer.toXML(element);\n  } catch (e) {\n    err = e;\n  }\n\n  return done(err, result);\n};\n\nvar name = \"DC\";\nvar prefix = \"dc\";\nvar uri = \"http://www.omg.org/spec/DMN/20180521/DC/\";\nvar types = [\n\t{\n\t\tname: \"Dimension\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"height\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Bounds\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"height\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"x\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"y\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Point\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"x\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"y\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Color\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"red\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"green\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"blue\",\n\t\t\t\ttype: \"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations = [\n];\nvar enumerations = [\n\t{\n\t\tname: \"AlignmentKind\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"center\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"end\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar DcPackage = {\n\tname: name,\n\tprefix: prefix,\n\turi: uri,\n\ttypes: types,\n\tassociations: associations,\n\tenumerations: enumerations\n};\n\nvar name$1 = \"DI\";\nvar prefix$1 = \"di\";\nvar uri$1 = \"http://www.omg.org/spec/DMN/20180521/DI/\";\nvar types$1 = [\n\t{\n\t\tname: \"DiagramElement\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"style\",\n\t\t\t\tisReference: true,\n\t\t\t\ttype: \"Style\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\tisReference: true,\n\t\t\t\tisVirtual: true,\n\t\t\t\ttype: \"Style\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Diagram\",\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"documentation\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"resolution\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Shape\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"bounds\",\n\t\t\t\ttype: \"dc:Bounds\"\n\t\t\t}\n\t\t],\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Edge\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"waypoint\",\n\t\t\t\ttype: \"dc:Point\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\tsuperClass: [\n\t\t\t\"DiagramElement\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Style\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations$1 = [\n];\nvar enumerations$1 = [\n];\nvar xml = {\n\ttagAlias: \"lowerCase\"\n};\nvar DiPackage = {\n\tname: name$1,\n\tprefix: prefix$1,\n\turi: uri$1,\n\ttypes: types$1,\n\tassociations: associations$1,\n\tenumerations: enumerations$1,\n\txml: xml\n};\n\nvar name$2 = \"DMN\";\nvar prefix$2 = \"dmn\";\nvar uri$2 = \"https://www.omg.org/spec/DMN/20191111/MODEL/\";\nvar types$2 = [\n\t{\n\t\tname: \"AuthorityRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredAuthority\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredInput\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ItemDefinition\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"allowedValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"itemComponent\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"functionItem\",\n\t\t\t\ttype: \"FunctionItem\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"isCollection\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Definitions\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"import\",\n\t\t\t\ttype: \"Import\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"itemDefinition\",\n\t\t\t\ttype: \"ItemDefinition\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"drgElement\",\n\t\t\t\ttype: \"DRGElement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"artifact\",\n\t\t\t\ttype: \"Artifact\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"elementCollection\",\n\t\t\t\ttype: \"ElementCollection\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"businessContextElement\",\n\t\t\t\ttype: \"BusinessContextElement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"namespace\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"exporter\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"exporterVersion\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"dmnDI\",\n\t\t\t\ttype: \"dmndi:DMNDI\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"KnowledgeSource\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"type\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"owner\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"locationURI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionRule\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"inputEntry\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputEntry\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"annotationEntry\",\n\t\t\t\ttype: \"RuleAnnotation\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Expression\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InformationItem\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Decision\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"question\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"allowedAnswers\",\n\t\t\t\ttype: \"String\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"informationRequirement\",\n\t\t\t\ttype: \"InformationRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"knowledgeRequirement\",\n\t\t\t\ttype: \"KnowledgeRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"supportedObjective\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"impactedPerformanceIndicator\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionMaker\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionOwner\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"usingProcess\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"usingTask\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionLogic\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Invocation\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"calledFunction\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"binding\",\n\t\t\t\ttype: \"Binding\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OrganisationalUnit\",\n\t\tsuperClass: [\n\t\t\t\"BusinessContextElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"decisionMade\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionOwned\",\n\t\t\t\ttype: \"Decision\",\n\t\t\t\tisReference: true,\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Import\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"importType\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"locationURI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"namespace\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InformationRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"requiredInput\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ElementCollection\",\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"drgElement\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DRGElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t]\n\t},\n\t{\n\t\tname: \"InputData\",\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNElement\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"description\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"extensionElements\",\n\t\t\t\ttype: \"ExtensionElements\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"id\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisId: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"extensionAttribute\",\n\t\t\t\ttype: \"ExtensionAttribute\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"label\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InputClause\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"inputExpression\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionTable\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"input\",\n\t\t\t\ttype: \"InputClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"output\",\n\t\t\t\ttype: \"OutputClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"annotation\",\n\t\t\t\ttype: \"RuleAnnotationClause\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"rule\",\n\t\t\t\ttype: \"DecisionRule\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"hitPolicy\",\n\t\t\t\ttype: \"HitPolicy\",\n\t\t\t\tisAttr: true,\n\t\t\t\t\"default\": \"UNIQUE\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"aggregation\",\n\t\t\t\ttype: \"BuiltinAggregator\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"preferredOrientation\",\n\t\t\t\ttype: \"DecisionTableOrientation\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputLabel\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"LiteralExpression\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"importedValues\",\n\t\t\t\ttype: \"ImportedValues\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Binding\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"parameter\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"bindingFormula\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"KnowledgeRequirement\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"requiredKnowledge\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BusinessKnowledgeModel\",\n\t\tsuperClass: [\n\t\t\t\"Invocable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"encapsulatedLogic\",\n\t\t\t\ttype: \"FunctionDefinition\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"knowledgeRequirement\",\n\t\t\t\ttype: \"KnowledgeRequirement\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"authorityRequirement\",\n\t\t\t\ttype: \"AuthorityRequirement\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BusinessContextElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"NamedElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"URI\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"PerformanceIndicator\",\n\t\tsuperClass: [\n\t\t\t\"BusinessContextElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"impactingDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionDefinition\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"formalParameter\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"body\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"kind\",\n\t\t\t\ttype: \"FunctionKind\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Context\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"contextEntry\",\n\t\t\t\ttype: \"ContextEntry\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ContextEntry\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"value\",\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"List\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"elements\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"Expression\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Relation\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"column\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"row\",\n\t\t\t\ttype: \"List\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OutputClause\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"outputValues\",\n\t\t\t\ttype: \"UnaryTests\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"defaultOutputEntry\",\n\t\t\t\ttype: \"LiteralExpression\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"typeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"UnaryTests\",\n\t\tsuperClass: [\n\t\t\t\"Expression\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"NamedElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ImportedValues\",\n\t\tsuperClass: [\n\t\t\t\"Import\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"importedElement\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"expressionLanguage\",\n\t\t\t\ttype: \"String\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionService\",\n\t\tsuperClass: [\n\t\t\t\"Invocable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"outputDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"encapsulatedDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputDecision\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"inputData\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\tisMany: true,\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ExtensionElements\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"values\",\n\t\t\t\ttype: \"Element\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"ExtensionAttribute\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"value\",\n\t\t\t\ttype: \"Element\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"valueRef\",\n\t\t\t\ttype: \"Element\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Element\",\n\t\tisAbstract: true,\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"extensionAttribute\",\n\t\t\t\ttype: \"ExtensionAttribute\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"elements\",\n\t\t\t\ttype: \"ExtensionElements\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Artifact\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t]\n\t},\n\t{\n\t\tname: \"Association\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"sourceRef\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"targetRef\",\n\t\t\t\ttype: \"DMNElementReference\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"associationDirection\",\n\t\t\t\ttype: \"AssociationDirection\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"TextAnnotation\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"textFormat\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\",\n\t\t\t\t\"default\": \"text/plain\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"RuleAnnotationClause\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"RuleAnnotation\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Invocable\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"DRGElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"variable\",\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Group\",\n\t\tsuperClass: [\n\t\t\t\"Artifact\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"name\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionItem\",\n\t\tsuperClass: [\n\t\t\t\"DMNElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"parameters\",\n\t\t\t\tisMany: true,\n\t\t\t\ttype: \"InformationItem\",\n\t\t\t\txml: {\n\t\t\t\t\tserialize: \"property\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"outputTypeRef\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNElementReference\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tisAttr: true,\n\t\t\t\tname: \"href\",\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar enumerations$2 = [\n\t{\n\t\tname: \"HitPolicy\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"UNIQUE\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"FIRST\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"PRIORITY\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"ANY\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"COLLECT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"RULE ORDER\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"OUTPUT ORDER\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"BuiltinAggregator\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"SUM\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"COUNT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"MIN\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"MAX\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DecisionTableOrientation\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"Rule-as-Row\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Rule-as-Column\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"CrossTable\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"AssociationDirection\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"None\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"One\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Both\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"FunctionKind\",\n\t\tliteralValues: [\n\t\t\t{\n\t\t\t\tname: \"FEEL\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Java\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"PMML\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar associations$2 = [\n];\nvar xml$1 = {\n\ttagAlias: \"lowerCase\"\n};\nvar DmnPackage = {\n\tname: name$2,\n\tprefix: prefix$2,\n\turi: uri$2,\n\ttypes: types$2,\n\tenumerations: enumerations$2,\n\tassociations: associations$2,\n\txml: xml$1\n};\n\nvar name$3 = \"DMNDI\";\nvar prefix$3 = \"dmndi\";\nvar uri$3 = \"https://www.omg.org/spec/DMN/20191111/DMNDI/\";\nvar types$3 = [\n\t{\n\t\tname: \"DMNDI\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"diagrams\",\n\t\t\t\ttype: \"DMNDiagram\",\n\t\t\t\tisMany: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"styles\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNStyle\",\n\t\tsuperClass: [\n\t\t\t\"di:Style\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"fillColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"strokeColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontColor\",\n\t\t\t\ttype: \"dc:Color\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontSize\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Real\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontFamily\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"String\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontItalic\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontBold\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontUnderline\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"fontStrikeThrough\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"labelHorizontalAlignment\",\n\t\t\t\ttype: \"dc:AlignmentKind\",\n\t\t\t\tisAttr: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"labelVerticalAlignment\",\n\t\t\t\ttype: \"dc:AlignmentKind\",\n\t\t\t\tisAttr: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDiagram\",\n\t\tsuperClass: [\n\t\t\t\"di:Diagram\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"dmnElementRef\",\n\t\t\t\ttype: \"dmn:DMNElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"size\",\n\t\t\t\ttype: \"Size\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"localStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true,\n\t\t\t\tredefines: \"di:DiagramElement#sharedStyle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"diagramElements\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisMany: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDiagramElement\",\n\t\tisAbstract: true,\n\t\tsuperClass: [\n\t\t\t\"di:DiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"dmnElementRef\",\n\t\t\t\ttype: \"dmn:DMNElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"sharedStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true,\n\t\t\t\tisReference: true,\n\t\t\t\tredefines: \"di:DiagramElement#sharedStyle\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"localStyle\",\n\t\t\t\ttype: \"DMNStyle\",\n\t\t\t\tisVirtual: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"label\",\n\t\t\t\ttype: \"DMNLabel\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNLabel\",\n\t\tsuperClass: [\n\t\t\t\"di:Shape\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\ttype: \"Text\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNShape\",\n\t\tsuperClass: [\n\t\t\t\"di:Shape\",\n\t\t\t\"DMNDiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"isListedInputData\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decisionServiceDividerLine\",\n\t\t\t\ttype: \"DMNDecisionServiceDividerLine\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"isCollapsed\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Boolean\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNEdge\",\n\t\tsuperClass: [\n\t\t\t\"di:Edge\",\n\t\t\t\"DMNDiagramElement\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"sourceElement\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"targetElement\",\n\t\t\t\ttype: \"DMNDiagramElement\",\n\t\t\t\tisAttr: true,\n\t\t\t\tisReference: true\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"DMNDecisionServiceDividerLine\",\n\t\tsuperClass: [\n\t\t\t\"di:Edge\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Text\",\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"text\",\n\t\t\t\tisBody: true,\n\t\t\t\ttype: \"String\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"Size\",\n\t\tsuperClass: [\n\t\t\t\"dc:Dimension\"\n\t\t]\n\t}\n];\nvar associations$3 = [\n];\nvar enumerations$3 = [\n];\nvar DmnDiPackage = {\n\tname: name$3,\n\tprefix: prefix$3,\n\turi: uri$3,\n\ttypes: types$3,\n\tassociations: associations$3,\n\tenumerations: enumerations$3\n};\n\nvar name$4 = \"bpmn.io DI for DMN\";\nvar uri$4 = \"http://bpmn.io/schema/dmn/biodi/2.0\";\nvar prefix$4 = \"biodi\";\nvar xml$2 = {\n\ttagAlias: \"lowerCase\"\n};\nvar types$4 = [\n\t{\n\t\tname: \"DecisionTable\",\n\t\tisAbstract: true,\n\t\t\"extends\": [\n\t\t\t\"dmn:DecisionTable\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"annotationsWidth\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Integer\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"OutputClause\",\n\t\tisAbstract: true,\n\t\t\"extends\": [\n\t\t\t\"dmn:OutputClause\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Integer\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tname: \"InputClause\",\n\t\tisAbstract: true,\n\t\t\"extends\": [\n\t\t\t\"dmn:InputClause\"\n\t\t],\n\t\tproperties: [\n\t\t\t{\n\t\t\t\tname: \"width\",\n\t\t\t\tisAttr: true,\n\t\t\t\ttype: \"Integer\"\n\t\t\t}\n\t\t]\n\t}\n];\nvar BioDiPackage = {\n\tname: name$4,\n\turi: uri$4,\n\tprefix: prefix$4,\n\txml: xml$2,\n\ttypes: types$4\n};\n\nvar packages = {\n  dc: DcPackage,\n  di: DiPackage,\n  dmn: DmnPackage,\n  dmndi: DmnDiPackage,\n  biodi: BioDiPackage\n};\n\nfunction simple(additionalPackages, options) {\n  var pks = assign({}, packages, additionalPackages);\n\n  return new DmnModdle(pks, options);\n}\n\nexport default simple;\n","module.exports={name:\"Camunda\",uri:\"http://camunda.org/schema/1.0/dmn\",prefix:\"camunda\",xml:{tagAlias:\"lowerCase\"},associations:[],types:[{name:\"Decision\",isAbstract:!0,extends:[\"dmn:Decision\"],properties:[{name:\"versionTag\",isAttr:!0,type:\"String\"},{name:\"historyTimeToLive\",isAttr:!0,type:\"String\"}]},{name:\"InputClause\",extends:[\"dmn:InputClause\"],properties:[{name:\"inputVariable\",isAttr:!0,type:\"String\"}]}],emumerations:[]};","/**\n * Set attribute `name` to `val`, or get attr `name`.\n *\n * @param {Element} el\n * @param {String} name\n * @param {String} [val]\n * @api public\n */\nfunction attr(el, name, val) {\n  // get\n  if (arguments.length == 2) {\n    return el.getAttribute(name);\n  }\n\n  // remove\n  if (val === null) {\n    return el.removeAttribute(name);\n  }\n\n  // set\n  el.setAttribute(name, val);\n\n  return el;\n}\n\nvar indexOf = [].indexOf;\n\nvar indexof = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n\n/**\n * Taken from https://github.com/component/classes\n *\n * Without the component bits.\n */\n\n/**\n * Whitespace regexp.\n */\n\nvar re = /\\s+/;\n\n/**\n * toString reference.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nfunction classes(el) {\n  return new ClassList(el);\n}\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n  this.el = el;\n  this.list = el.classList;\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function (name) {\n  // classList\n  if (this.list) {\n    this.list.add(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = indexof(arr, name);\n  if (!~i) arr.push(name);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function (name) {\n  if ('[object RegExp]' == toString.call(name)) {\n    return this.removeMatching(name);\n  }\n\n  // classList\n  if (this.list) {\n    this.list.remove(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = indexof(arr, name);\n  if (~i) arr.splice(i, 1);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove all classes matching `re`.\n *\n * @param {RegExp} re\n * @return {ClassList}\n * @api private\n */\n\nClassList.prototype.removeMatching = function (re) {\n  var arr = this.array();\n  for (var i = 0; i < arr.length; i++) {\n    if (re.test(arr[i])) {\n      this.remove(arr[i]);\n    }\n  }\n  return this;\n};\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function (name, force) {\n  // classList\n  if (this.list) {\n    if ('undefined' !== typeof force) {\n      if (force !== this.list.toggle(name, force)) {\n        this.list.toggle(name); // toggle again to correct\n      }\n    } else {\n      this.list.toggle(name);\n    }\n    return this;\n  }\n\n  // fallback\n  if ('undefined' !== typeof force) {\n    if (!force) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  } else {\n    if (this.has(name)) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function () {\n  var className = this.el.getAttribute('class') || '';\n  var str = className.replace(/^\\s+|\\s+$/g, '');\n  var arr = str.split(re);\n  if ('' === arr[0]) arr.shift();\n  return arr;\n};\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has = ClassList.prototype.contains = function (name) {\n  return this.list ? this.list.contains(name) : !!~indexof(this.array(), name);\n};\n\n/**\n * Remove all children from the given element.\n */\nfunction clear(el) {\n\n  var c;\n\n  while (el.childNodes.length) {\n    c = el.childNodes[0];\n    el.removeChild(c);\n  }\n\n  return el;\n}\n\nvar proto = typeof Element !== 'undefined' ? Element.prototype : {};\nvar vendor = proto.matches\n  || proto.matchesSelector\n  || proto.webkitMatchesSelector\n  || proto.mozMatchesSelector\n  || proto.msMatchesSelector\n  || proto.oMatchesSelector;\n\nvar matchesSelector = match;\n\n/**\n * Match `el` to `selector`.\n *\n * @param {Element} el\n * @param {String} selector\n * @return {Boolean}\n * @api public\n */\n\nfunction match(el, selector) {\n  if (!el || el.nodeType !== 1) return false;\n  if (vendor) return vendor.call(el, selector);\n  var nodes = el.parentNode.querySelectorAll(selector);\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i] == el) return true;\n  }\n  return false;\n}\n\n/**\n * Closest\n *\n * @param {Element} el\n * @param {String} selector\n * @param {Boolean} checkYourSelf (optional)\n */\nfunction closest (element, selector, checkYourSelf) {\n  var currentElem = checkYourSelf ? element : element.parentNode;\n\n  while (currentElem && currentElem.nodeType !== document.DOCUMENT_NODE && currentElem.nodeType !== document.DOCUMENT_FRAGMENT_NODE) {\n\n    if (matchesSelector(currentElem, selector)) {\n      return currentElem;\n    }\n\n    currentElem = currentElem.parentNode;\n  }\n\n  return matchesSelector(currentElem, selector) ? currentElem : null;\n}\n\nvar bind = window.addEventListener ? 'addEventListener' : 'attachEvent',\n    unbind = window.removeEventListener ? 'removeEventListener' : 'detachEvent',\n    prefix = bind !== 'addEventListener' ? 'on' : '';\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar bind_1 = function(el, type, fn, capture){\n  el[bind](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar unbind_1 = function(el, type, fn, capture){\n  el[unbind](prefix + type, fn, capture || false);\n  return fn;\n};\n\nvar componentEvent = {\n\tbind: bind_1,\n\tunbind: unbind_1\n};\n\n/**\n * Module dependencies.\n */\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = ['focus', 'blur'];\n\nfunction bind$1(el, selector, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return componentEvent.bind(el, type, function (e) {\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true, el);\n    if (e.delegateTarget) {\n      fn.call(el, e);\n    }\n  }, capture);\n}\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\nfunction unbind$1(el, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return componentEvent.unbind(el, type, fn, capture);\n}\n\nvar delegate = {\n  bind: bind$1,\n  unbind: unbind$1\n};\n\n/**\n * Expose `parse`.\n */\n\nvar domify = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = map[tag] || map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n\nfunction query(selector, el) {\n  el = el || document;\n\n  return el.querySelector(selector);\n}\n\nfunction all(selector, el) {\n  el = el || document;\n\n  return el.querySelectorAll(selector);\n}\n\nfunction remove(el) {\n  el.parentNode && el.parentNode.removeChild(el);\n}\n\nexport { attr, classes, clear, closest, delegate, domify, componentEvent as event, matchesSelector as matches, query, all as queryAll, remove };\n","import EventBus from 'diagram-js/lib/core/EventBus';\n\nimport DmnModdle from 'dmn-moddle';\n\nimport CamundaModdle from 'camunda-dmn-moddle/resources/camunda.json';\n\nimport {\n  domify,\n  query as domQuery,\n  remove as domRemove\n} from 'min-dom';\n\nimport {\n  assign,\n  debounce,\n  every,\n  find,\n  isDefined,\n  isFunction,\n  isNumber\n} from 'min-dash';\n\n\nconst DEFAULT_CONTAINER_OPTIONS = {\n  width: '100%',\n  height: '100%',\n  position: 'relative'\n};\n\n/**\n * The base class for DMN viewers and editors.\n *\n * @abstract\n */\nexport default class Manager {\n\n  /**\n   * Create a new instance with the given options.\n   *\n   * @param  {Object} options\n   *\n   * @return {Manager}\n   */\n  constructor(options={}) {\n    this._eventBus = new EventBus();\n\n    this._viewsChanged = debounce(this._viewsChanged, 0);\n\n    this._views = [];\n    this._viewers = {};\n\n    this._init(options);\n  }\n\n  /**\n   * Parse and render a DMN diagram.\n   *\n   * Once finished the viewer reports back the result to the\n   * provided callback function with (err, warnings).\n   *\n   * ## Life-Cycle Events\n   *\n   * During import the viewer will fire life-cycle events:\n   *\n   *   * import.parse.start (about to read model from xml)\n   *   * import.parse.complete (model read; may have worked or not)\n   *   * import.render.start (graphical import start)\n   *   * import.render.complete (graphical import finished)\n   *   * import.done (everything done)\n   *\n   * You can use these events to hook into the life-cycle.\n   *\n   * @param {string} xml the DMN xml\n   * @param {Object} [options]\n   * @param {boolean} [options.open=true]\n   * @param {Function} [done] invoked with (err, warnings=[])\n   */\n  importXML(xml, options, done) {\n\n    if (typeof options !== 'object') {\n      done = options;\n      options = { open: true };\n    }\n\n    if (typeof done !== 'function') {\n      done = noop;\n    }\n\n    // hook in pre-parse listeners +\n    // allow xml manipulation\n    xml = this._emit('import.parse.start', { xml: xml }) || xml;\n\n    this._moddle.fromXML(xml, 'dmn:Definitions', (err, definitions, context) => {\n\n      // hook in post parse listeners +\n      // allow definitions manipulation\n      definitions = this._emit('import.parse.complete', {\n        error: err,\n        definitions: definitions,\n        context: context\n      }) || definitions;\n\n      var parseWarnings = context.warnings;\n\n      this._setDefinitions(definitions);\n\n      if (err) {\n        err = checkDMNCompatibilityError(err, xml) || checkValidationError(err) || err;\n      }\n\n      if (err || !options.open) {\n        this._emit('import.done', { error: err, warmings: parseWarnings });\n\n        return done(err, parseWarnings);\n      }\n\n      var view = this._activeView || this._getInitialView(this._views);\n\n      if (!view) {\n        return done(new Error('no displayable contents'));\n      }\n\n      this.open(view, (err, warnings) => {\n\n        var allWarnings = [].concat(parseWarnings, warnings || []);\n\n        this._emit('import.done', { error: err, warnings: allWarnings });\n\n        done(err, allWarnings);\n      });\n    });\n  }\n\n  getDefinitions() {\n    return this._definitions;\n  }\n\n  /**\n   * Return active view.\n   *\n   * @return {View}\n   */\n  getActiveView() {\n    return this._activeView;\n  }\n\n  /**\n   * Get the currently active viewer instance.\n   *\n   * @return {View}\n   */\n  getActiveViewer() {\n    var activeView = this.getActiveView();\n\n    return activeView && this._getViewer(activeView);\n  }\n\n  getView(element) {\n    return this._views.filter(function(v) {\n      return v.element === element;\n    })[0];\n  }\n\n  getViews() {\n    return this._views;\n  }\n\n  /**\n   * Export the currently displayed DMN diagram as\n   * a DMN XML document.\n   *\n   * ## Life-Cycle Events\n   *\n   * During XML saving the viewer will fire life-cycle events:\n   *\n   *   * saveXML.start (before serialization)\n   *   * saveXML.serialized (after xml generation)\n   *   * saveXML.done (everything done)\n   *\n   * You can use these events to hook into the life-cycle.\n   *\n   * @param {Object} [options] export options\n   * @param {boolean} [options.format=false] output formated XML\n   * @param {boolean} [options.preamble=true] output preamble\n   * @param {Function} done invoked with (err, xml)\n   */\n  saveXML(options, done) {\n\n    if (typeof options === 'function') {\n      done = options;\n      options = {};\n    }\n\n    var definitions = this._definitions;\n\n    if (!definitions) {\n      return done(new Error('no definitions loaded'));\n    }\n\n    // allow to fiddle around with definitions\n    definitions = this._emit('saveXML.start', {\n      definitions: definitions\n    }) || definitions;\n\n    this._moddle.toXML(definitions, options, (err, xml) => {\n\n      try {\n        xml = this._emit('saveXML.serialized', {\n          error: err,\n          xml: xml\n        }) || xml;\n\n        this._emit('saveXML.done', {\n          error: err,\n          xml: xml\n        });\n      } catch (e) {\n        console.error('error in saveXML life-cycle listener', e);\n      }\n\n      done(err, xml);\n    });\n  }\n\n  /**\n   * Register an event listener\n   *\n   * Remove a previously added listener via {@link #off(event, callback)}.\n   *\n   * @param {string} event\n   * @param {number} [priority]\n   * @param {Function} callback\n   * @param {Object} [that]\n   */\n  on(...args) {\n    this._eventBus.on(...args);\n  }\n\n  /**\n   * De-register an event listener\n   *\n   * @param {string} event\n   * @param {Function} callback\n   */\n  off(...args) {\n    this._eventBus.off(...args);\n  }\n\n  /**\n   * Register a listener to be invoked once only.\n   *\n   * @param {string} event\n   * @param {number} [priority]\n   * @param {Function} callback\n   * @param {Object} [that]\n   */\n  once(...args) {\n    this._eventBus.once(...args);\n  }\n\n  attachTo(parentNode) {\n\n    // unwrap jQuery if provided\n    if (parentNode.get && parentNode.constructor.prototype.jquery) {\n      parentNode = parentNode.get(0);\n    }\n\n    if (typeof parentNode === 'string') {\n      parentNode = domQuery(parentNode);\n    }\n\n    parentNode.appendChild(this._container);\n\n    this._emit('attach', {});\n  }\n\n  detach() {\n    this._emit('detach', {});\n\n    domRemove(this._container);\n  }\n\n  destroy() {\n    Object.keys(this._viewers).forEach((viewerId) => {\n      var viewer = this._viewers[viewerId];\n\n      safeExecute(viewer, 'destroy');\n    });\n\n    domRemove(this._container);\n  }\n\n  _init(options) {\n    this._options = options;\n\n    this._moddle = this._createModdle(options);\n\n    this._viewers = {};\n    this._views = [];\n\n    const container = domify('<div class=\"dmn-js-parent\"></div>');\n\n    const containerOptions = assign({}, DEFAULT_CONTAINER_OPTIONS, options);\n\n    assign(container.style, {\n      width: ensureUnit(containerOptions.width),\n      height: ensureUnit(containerOptions.height),\n      position: containerOptions.position\n    });\n\n    this._container = container;\n\n    if (options.container) {\n      this.attachTo(options.container);\n    }\n  }\n\n  /**\n   * Open diagram element.\n   *\n   * @param  {ModdleElement}   element\n   * @param  {Function} [done]\n   */\n  open(view, done=noop) {\n    this._switchView(view, done);\n  }\n\n  _setDefinitions(definitions) {\n    this._definitions = definitions;\n\n    this._updateViews();\n  }\n\n  _viewsChanged = () => {\n    this._emit('views.changed', {\n      views: this._views,\n      activeView: this._activeView\n    });\n  }\n\n  /**\n   * Recompute changed views after elements in\n   * the DMN diagram have changed.\n   */\n  _updateViews() {\n\n    var definitions = this._definitions;\n\n    if (!definitions) {\n      this._views = [];\n      this._switchView(null);\n\n      return;\n    }\n\n    var viewProviders = this._getViewProviders();\n\n    var displayableElements = [ definitions, ...(definitions.drgElement || []) ];\n\n    // compute list of available views\n    var views = this._views,\n        newViews = [];\n\n    for (var element of displayableElements) {\n      var provider = find(viewProviders, function(provider) {\n        if (typeof provider.opens === 'string') {\n          return provider.opens === element.$type;\n        } else {\n          return provider.opens(element);\n        }\n      });\n\n      if (!provider) {\n        continue;\n      }\n\n      var view = {\n        element,\n        id: element.id,\n        name: element.name,\n        type: provider.id\n      };\n\n      newViews.push(view);\n    }\n\n    var activeView = this._activeView,\n        newActiveView;\n\n    if (activeView) {\n\n      // check the new active view\n      newActiveView = find(newViews, function(view) {\n        return viewsEqual(activeView, view);\n      }) || this._getInitialView(newViews);\n\n      if (!newActiveView) {\n        return this._switchView(null);\n      }\n    }\n\n    // Views have changed if\n    // active view has changed OR\n    // number of views has changed OR\n    // not all views equal\n    var activeViewChanged = !viewsEqual(activeView, newActiveView)\n      || viewNameChanged(activeView, newActiveView);\n\n    var viewsChanged = views.length !== newViews.length\n        || !every(newViews, function(newView) {\n          return find(views, function(view) {\n            return viewsEqual(view, newView) && !viewNameChanged(view, newView);\n          });\n        });\n\n    this._activeView = newActiveView;\n    this._views = newViews;\n\n    if (activeViewChanged || viewsChanged) {\n      this._viewsChanged();\n    }\n  }\n\n  _getInitialView(views) {\n    return views[0];\n  }\n\n  /**\n   * Switch to another view.\n   *\n   * @param  {View} newView\n   * @param  {Function} [done]\n   */\n  _switchView(newView, done=noop) {\n\n    var complete = (err, warnings) => {\n      this._viewsChanged();\n\n      done(err, warnings);\n    };\n\n    var activeView = this.getActiveView(),\n        activeViewer;\n\n    var newViewer = newView && this._getViewer(newView),\n        element = newView && newView.element;\n\n    if (activeView) {\n      activeViewer = this._getViewer(activeView);\n\n      if (activeViewer !== newViewer) {\n        safeExecute(activeViewer, 'clear');\n\n        activeViewer.detach();\n      }\n    }\n\n    this._activeView = newView;\n\n    if (newViewer) {\n\n      if (activeViewer !== newViewer) {\n        newViewer.attachTo(this._container);\n      }\n\n      this._emit('import.render.start', {\n        view: newView,\n        element: element\n      });\n\n      return newViewer.open(element, (err, warnings) => {\n\n        this._emit('import.render.complete', {\n          view: newView,\n          error: err,\n          warnings: warnings\n        });\n\n        complete(err, warnings);\n      });\n    }\n\n    // no active view\n    complete();\n  }\n\n  _getViewer(view) {\n\n    var type = view.type;\n\n    var viewer = this._viewers[type];\n\n    if (!viewer) {\n      viewer = this._viewers[type] = this._createViewer(view.type);\n\n      this._emit('viewer.created', {\n        type: type,\n        viewer: viewer\n      });\n    }\n\n    return viewer;\n  }\n\n  _createViewer(id) {\n\n    var provider = find(this._getViewProviders(), function(provider) {\n      return provider.id === id;\n    });\n\n    if (!provider) {\n      throw new Error('no provider for view type <' + id + '>');\n    }\n\n    var Viewer = provider.constructor;\n\n    var providerOptions = this._options[id] || {};\n    var commonOptions = this._options.common || {};\n\n    return new Viewer({\n      ...commonOptions,\n      ...providerOptions,\n      additionalModules: [\n        ...(providerOptions.additionalModules || []), {\n          _parent: [ 'value', this ],\n          moddle: [ 'value', this._moddle ]\n        }\n      ]\n    });\n  }\n\n  /**\n   * Emit an event.\n   */\n  _emit(...args) {\n    return this._eventBus.fire(...args);\n  }\n\n  _createModdle(options) {\n    return new DmnModdle(assign({\n      camunda: CamundaModdle\n    }, options.moddleExtensions));\n  }\n\n  /**\n   * Return the list of available view providers.\n   *\n   * @abstract\n   *\n   * @return {Array<ViewProvider>}\n   */\n  _getViewProviders() {\n    return [];\n  }\n\n}\n\n\n// helpers //////////////////////\n\nfunction noop() {}\n\n/**\n * Ensure the passed argument is a proper unit (defaulting to px)\n */\nfunction ensureUnit(val) {\n  return val + (isNumber(val) ? 'px' : '');\n}\n\nfunction checkDMNCompatibilityError(err, xml) {\n\n  // check if we can indicate opening of old DMN 1.1 or DMN 1.2 diagrams\n\n  if (err.message !== 'failed to parse document as <dmn:Definitions>') {\n    return null;\n  }\n\n  var olderDMNVersion = (\n    (xml.indexOf('\"http://www.omg.org/spec/DMN/20151101/dmn.xsd\"') !== -1 && '1.1') ||\n    (xml.indexOf('\"http://www.omg.org/spec/DMN/20180521/MODEL/\"') !== -1 && '1.2')\n  );\n\n  if (!olderDMNVersion) {\n    return null;\n  }\n\n  err = new Error(\n    'unsupported DMN ' + olderDMNVersion + ' file detected; ' +\n    'only DMN 1.3 files can be opened'\n  );\n\n  console.error(\n    'Cannot open what looks like a DMN ' + olderDMNVersion + ' diagram. ' +\n    'Please refer to https://bpmn.io/l/dmn-compatibility.html ' +\n    'to learn how to make the toolkit compatible with older DMN files',\n    err\n  );\n\n  return err;\n}\n\nfunction checkValidationError(err) {\n\n  // check if we can help the user by indicating wrong DMN 1.3 xml\n  // (in case he or the exporting tool did not get that right)\n\n  var pattern = /unparsable content <([^>]+)> detected([\\s\\S]*)$/,\n      match = pattern.exec(err.message);\n\n  if (!match) {\n    return null;\n  }\n\n  err.message =\n    'unparsable content <' + match[ 1 ] + '> detected; ' +\n    'this may indicate an invalid DMN 1.3 diagram file' + match[ 2 ];\n\n  return err;\n}\n\nfunction viewsEqual(a, b) {\n  if (!isDefined(a)) {\n    if (!isDefined(b)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  if (!isDefined(b)) {\n    return false;\n  }\n\n  // compare by element OR element ID equality\n  return a.element === b.element || a.id === b.id;\n}\n\nfunction viewNameChanged(a, b) {\n  return !a || !b || a.name !== b.name;\n}\n\nfunction safeExecute(viewer, method) {\n  if (isFunction(viewer[ method ])) {\n    viewer[ method ]();\n  }\n}\n","var hat = module.exports = function (bits, base) {\n    if (!base) base = 16;\n    if (bits === undefined) bits = 128;\n    if (bits <= 0) return '0';\n    \n    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n    for (var i = 2; digits === Infinity; i *= 2) {\n        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n    }\n    \n    var rem = digits - Math.floor(digits);\n    \n    var res = '';\n    \n    for (var i = 0; i < Math.floor(digits); i++) {\n        var x = Math.floor(Math.random() * base).toString(base);\n        res = x + res;\n    }\n    \n    if (rem) {\n        var b = Math.pow(base, rem);\n        var x = Math.floor(Math.random() * b).toString(base);\n        res = x + res;\n    }\n    \n    var parsed = parseInt(res, base);\n    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n        return hat(bits, base)\n    }\n    else return res;\n};\n\nhat.rack = function (bits, base, expandBy) {\n    var fn = function (data) {\n        var iters = 0;\n        do {\n            if (iters ++ > 10) {\n                if (expandBy) bits += expandBy;\n                else throw new Error('too many ID collisions, use more bits')\n            }\n            \n            var id = hat(bits, base);\n        } while (Object.hasOwnProperty.call(hats, id));\n        \n        hats[id] = data;\n        return id;\n    };\n    var hats = fn.hats = {};\n    \n    fn.get = function (id) {\n        return fn.hats[id];\n    };\n    \n    fn.set = function (id, value) {\n        fn.hats[id] = value;\n        return fn;\n    };\n    \n    fn.bits = bits || 128;\n    fn.base = base || 16;\n    return fn;\n};\n","'use strict';\n\nvar hat = require('hat');\n\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} seed\n */\nfunction Ids(seed) {\n\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n\n  seed = seed || [ 128, 36, 1 ];\n  this._seed = seed.length ? hat.rack(seed[0], seed[1], seed[2]) : seed;\n}\n\nmodule.exports = Ids;\n\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.next = function(element) {\n  return this._seed(element || true);\n};\n\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.nextPrefixed = function(prefix, element) {\n  var id;\n\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id));\n\n  // claim {prefix}{random}\n  this.claim(id, element);\n\n  // return\n  return id;\n};\n\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\nIds.prototype.claim = function(id, element) {\n  this._seed.set(id, element || true);\n};\n\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\nIds.prototype.assigned = function(id) {\n  return this._seed.get(id) || false;\n};\n\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\nIds.prototype.unclaim = function(id) {\n  delete this._seed.hats[id];\n};\n\n\n/**\n * Clear all claimed ids.\n */\nIds.prototype.clear = function() {\n\n  var hats = this._seed.hats,\n      id;\n\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};","import { some } from 'min-dash';\n\n/**\n * Is an element of the given DMN type?\n *\n * @param  {tjs.model.Base|ModdleElement} element\n * @param  {string} type\n *\n * @return {boolean}\n */\nexport function is(element, type) {\n  var bo = getBusinessObject(element);\n\n  return bo && (typeof bo.$instanceOf === 'function') && bo.$instanceOf(type);\n}\n\n\nexport function isInput(element) {\n  return is(element, 'dmn:InputClause');\n}\n\n\nexport function isOutput(element) {\n  return is(element, 'dmn:OutputClause');\n}\n\n\nexport function isRule(element) {\n  return is(element, 'dmn:DecisionRule');\n}\n\n\n/**\n * Return the business object for a given element.\n *\n * @param  {tjs.model.Base|ModdleElement} element\n *\n * @return {ModdleElement}\n */\nexport function getBusinessObject(element) {\n  return (element && element.businessObject) || element;\n}\n\n\nexport function getName(element) {\n  return getBusinessObject(element).name;\n}\n\n\n/**\n * Return true if element has any of the given types.\n *\n * @param {djs.model.Base} element\n * @param {Array<string>} types\n *\n * @return {boolean}\n */\nexport function isAny(element, types) {\n  return some(types, function(t) {\n    return is(element, t);\n  });\n}\n","import Manager from './Manager';\n\nimport Ids from 'ids';\n\nimport { isAny } from '../util/ModelUtil';\n\n\nexport default class EditingManager extends Manager {\n\n  _init(options) {\n\n    super._init(options);\n\n    // hook ID collection into the modeler\n    this.on('import.parse.complete', (event) => {\n      if (!event.error) {\n        this._collectIds(event.definitions, event.context);\n      }\n    });\n\n    this.on('destroy', () => {\n      this._moddle.ids.clear();\n    });\n\n    this.on('viewer.created', ({ viewer }) => {\n\n      viewer.on('elements.changed', ({ elements }) => {\n\n        var viewsChanged = elements.some(function(e) {\n          return isAny(e, [ 'dmn:Decision', 'dmn:Definitions' ]);\n        });\n\n        if (viewsChanged) {\n          this._updateViews();\n        }\n      });\n    });\n  }\n\n  /**\n   * Collect ids processed during parsing of the\n   * definitions object.\n   *\n   * @param {ModdleElement} definitions\n   * @param {Context} context\n   */\n  _collectIds(definitions, context) {\n\n    var moddle = definitions.$model,\n        ids = moddle.ids,\n        id;\n\n    // remove references from previous import\n    ids.clear();\n\n    for (id in context.elementsById) {\n      ids.claim(id, context.elementsById[id]);\n    }\n  }\n\n  _createModdle(options) {\n    var moddle = super._createModdle(options);\n\n    // attach ids to moddle to be able to track\n    // and validated ids in the DMN XML document\n    // tree\n    moddle.ids = new Ids([ 32, 36, 1 ]);\n\n    return moddle;\n  }\n\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var CLASS_PATTERN = /^class /;\n\nfunction isClass(fn) {\n  return CLASS_PATTERN.test(fn.toString());\n}\n\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nfunction annotate() {\n  var args = Array.prototype.slice.call(arguments);\n\n  if (args.length === 1 && isArray(args[0])) {\n    args = args[0];\n  }\n\n  var fn = args.pop();\n\n  fn.$inject = args;\n\n  return fn;\n}\n\n// Current limitations:\n// - can't put into \"function arg\" comments\n// function /* (no parenthesis like this) */ (){}\n// function abc( /* xx (no parenthesis like this) */ a, b) {}\n//\n// Just put the comment before function or inside:\n// /* (((this is fine))) */ function(a, b) {}\n// function abc(a) { /* (((this is fine))) */}\n//\n// - can't reliably auto-annotate constructor; we'll match the\n// first constructor(...) pattern found which may be the one\n// of a nested class, too.\n\nvar CONSTRUCTOR_ARGS = /constructor\\s*[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARGS = /^function\\s*[^(]*\\(\\s*([^)]*)\\)/m;\nvar FN_ARG = /\\/\\*([^*]*)\\*\\//m;\n\nfunction parse(fn) {\n\n  if (typeof fn !== 'function') {\n    throw new Error('Cannot annotate \"' + fn + '\". Expected a function!');\n  }\n\n  var match = fn.toString().match(isClass(fn) ? CONSTRUCTOR_ARGS : FN_ARGS);\n\n  // may parse class without constructor\n  if (!match) {\n    return [];\n  }\n\n  return match[1] && match[1].split(',').map(function (arg) {\n    match = arg.match(FN_ARG);\n    return match ? match[1].trim() : arg.trim();\n  }) || [];\n}\n\nfunction Module() {\n  var providers = [];\n\n  this.factory = function (name, factory) {\n    providers.push([name, 'factory', factory]);\n    return this;\n  };\n\n  this.value = function (name, value) {\n    providers.push([name, 'value', value]);\n    return this;\n  };\n\n  this.type = function (name, type) {\n    providers.push([name, 'type', type]);\n    return this;\n  };\n\n  this.forEach = function (iterator) {\n    providers.forEach(iterator);\n  };\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction Injector(modules, parent) {\n  parent = parent || {\n    get: function get(name, strict) {\n      currentlyResolving.push(name);\n\n      if (strict === false) {\n        return null;\n      } else {\n        throw error('No provider for \"' + name + '\"!');\n      }\n    }\n  };\n\n  var currentlyResolving = [];\n  var providers = this._providers = Object.create(parent._providers || null);\n  var instances = this._instances = Object.create(null);\n\n  var self = instances.injector = this;\n\n  var error = function error(msg) {\n    var stack = currentlyResolving.join(' -> ');\n    currentlyResolving.length = 0;\n    return new Error(stack ? msg + ' (Resolving: ' + stack + ')' : msg);\n  };\n\n  /**\n   * Return a named service.\n   *\n   * @param {String} name\n   * @param {Boolean} [strict=true] if false, resolve missing services to null\n   *\n   * @return {Object}\n   */\n  var get = function get(name, strict) {\n    if (!providers[name] && name.indexOf('.') !== -1) {\n      var parts = name.split('.');\n      var pivot = get(parts.shift());\n\n      while (parts.length) {\n        pivot = pivot[parts.shift()];\n      }\n\n      return pivot;\n    }\n\n    if (hasProp(instances, name)) {\n      return instances[name];\n    }\n\n    if (hasProp(providers, name)) {\n      if (currentlyResolving.indexOf(name) !== -1) {\n        currentlyResolving.push(name);\n        throw error('Cannot resolve circular dependency!');\n      }\n\n      currentlyResolving.push(name);\n      instances[name] = providers[name][0](providers[name][1]);\n      currentlyResolving.pop();\n\n      return instances[name];\n    }\n\n    return parent.get(name, strict);\n  };\n\n  var fnDef = function fnDef(fn) {\n    var locals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (typeof fn !== 'function') {\n      if (isArray(fn)) {\n        fn = annotate(fn.slice());\n      } else {\n        throw new Error('Cannot invoke \"' + fn + '\". Expected a function!');\n      }\n    }\n\n    var inject = fn.$inject || parse(fn);\n    var dependencies = inject.map(function (dep) {\n      if (hasProp(locals, dep)) {\n        return locals[dep];\n      } else {\n        return get(dep);\n      }\n    });\n\n    return {\n      fn: fn,\n      dependencies: dependencies\n    };\n  };\n\n  var instantiate = function instantiate(Type) {\n    var _fnDef = fnDef(Type),\n        dependencies = _fnDef.dependencies,\n        fn = _fnDef.fn;\n\n    return new (Function.prototype.bind.apply(fn, [null].concat(_toConsumableArray(dependencies))))();\n  };\n\n  var invoke = function invoke(func, context, locals) {\n    var _fnDef2 = fnDef(func, locals),\n        dependencies = _fnDef2.dependencies,\n        fn = _fnDef2.fn;\n\n    return fn.call.apply(fn, [context].concat(_toConsumableArray(dependencies)));\n  };\n\n  var createPrivateInjectorFactory = function createPrivateInjectorFactory(privateChildInjector) {\n    return annotate(function (key) {\n      return privateChildInjector.get(key);\n    });\n  };\n\n  var createChild = function createChild(modules, forceNewInstances) {\n    if (forceNewInstances && forceNewInstances.length) {\n      var fromParentModule = Object.create(null);\n      var matchedScopes = Object.create(null);\n\n      var privateInjectorsCache = [];\n      var privateChildInjectors = [];\n      var privateChildFactories = [];\n\n      var provider;\n      var cacheIdx;\n      var privateChildInjector;\n      var privateChildInjectorFactory;\n      for (var name in providers) {\n        provider = providers[name];\n\n        if (forceNewInstances.indexOf(name) !== -1) {\n          if (provider[2] === 'private') {\n            cacheIdx = privateInjectorsCache.indexOf(provider[3]);\n            if (cacheIdx === -1) {\n              privateChildInjector = provider[3].createChild([], forceNewInstances);\n              privateChildInjectorFactory = createPrivateInjectorFactory(privateChildInjector);\n              privateInjectorsCache.push(provider[3]);\n              privateChildInjectors.push(privateChildInjector);\n              privateChildFactories.push(privateChildInjectorFactory);\n              fromParentModule[name] = [privateChildInjectorFactory, name, 'private', privateChildInjector];\n            } else {\n              fromParentModule[name] = [privateChildFactories[cacheIdx], name, 'private', privateChildInjectors[cacheIdx]];\n            }\n          } else {\n            fromParentModule[name] = [provider[2], provider[1]];\n          }\n          matchedScopes[name] = true;\n        }\n\n        if ((provider[2] === 'factory' || provider[2] === 'type') && provider[1].$scope) {\n          /* jshint -W083 */\n          forceNewInstances.forEach(function (scope) {\n            if (provider[1].$scope.indexOf(scope) !== -1) {\n              fromParentModule[name] = [provider[2], provider[1]];\n              matchedScopes[scope] = true;\n            }\n          });\n        }\n      }\n\n      forceNewInstances.forEach(function (scope) {\n        if (!matchedScopes[scope]) {\n          throw new Error('No provider for \"' + scope + '\". Cannot use provider from the parent!');\n        }\n      });\n\n      modules.unshift(fromParentModule);\n    }\n\n    return new Injector(modules, self);\n  };\n\n  var factoryMap = {\n    factory: invoke,\n    type: instantiate,\n    value: function value(_value) {\n      return _value;\n    }\n  };\n\n  modules.forEach(function (module) {\n\n    function arrayUnwrap(type, value) {\n      if (type !== 'value' && isArray(value)) {\n        value = annotate(value.slice());\n      }\n\n      return value;\n    }\n\n    // TODO(vojta): handle wrong inputs (modules)\n    if (module instanceof Module) {\n      module.forEach(function (provider) {\n        var name = provider[0];\n        var type = provider[1];\n        var value = provider[2];\n\n        providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n      });\n    } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object') {\n      if (module.__exports__) {\n        var clonedModule = Object.keys(module).reduce(function (m, key) {\n          if (key.substring(0, 2) !== '__') {\n            m[key] = module[key];\n          }\n          return m;\n        }, Object.create(null));\n\n        var privateInjector = new Injector((module.__modules__ || []).concat([clonedModule]), self);\n        var getFromPrivateInjector = annotate(function (key) {\n          return privateInjector.get(key);\n        });\n        module.__exports__.forEach(function (key) {\n          providers[key] = [getFromPrivateInjector, key, 'private', privateInjector];\n        });\n      } else {\n        Object.keys(module).forEach(function (name) {\n          if (module[name][2] === 'private') {\n            providers[name] = module[name];\n            return;\n          }\n\n          var type = module[name][0];\n          var value = module[name][1];\n\n          providers[name] = [factoryMap[type], arrayUnwrap(type, value), type];\n        });\n      }\n    }\n  });\n\n  // public API\n  this.get = get;\n  this.invoke = invoke;\n  this.instantiate = instantiate;\n  this.createChild = createChild;\n}\n\n// helpers /////////////////\n\nfunction hasProp(obj, prop) {\n  return Object.hasOwnProperty.call(obj, prop);\n}\n\nexport { annotate, Module, Injector };\n","var DEFAULT_RENDER_PRIORITY = 1000;\n\n/**\n * The base implementation of shape and connection renderers.\n *\n * @param {EventBus} eventBus\n * @param {number} [renderPriority=1000]\n */\nexport default function BaseRenderer(eventBus, renderPriority) {\n  var self = this;\n\n  renderPriority = renderPriority || DEFAULT_RENDER_PRIORITY;\n\n  eventBus.on([ 'render.shape', 'render.connection' ], renderPriority, function(evt, context) {\n    var type = evt.type,\n        element = context.element,\n        visuals = context.gfx;\n\n    if (self.canRender(element)) {\n      if (type === 'render.shape') {\n        return self.drawShape(visuals, element);\n      } else {\n        return self.drawConnection(visuals, element);\n      }\n    }\n  });\n\n  eventBus.on([ 'render.getShapePath', 'render.getConnectionPath'], renderPriority, function(evt, element) {\n    if (self.canRender(element)) {\n      if (evt.type === 'render.getShapePath') {\n        return self.getShapePath(element);\n      } else {\n        return self.getConnectionPath(element);\n      }\n    }\n  });\n}\n\n/**\n * Should check whether *this* renderer can render\n * the element/connection.\n *\n * @param {element} element\n *\n * @returns {boolean}\n */\nBaseRenderer.prototype.canRender = function() {};\n\n/**\n * Provides the shape's snap svg element to be drawn on the `canvas`.\n *\n * @param {djs.Graphics} visuals\n * @param {Shape} shape\n *\n * @returns {Snap.svg} [returns a Snap.svg paper element ]\n */\nBaseRenderer.prototype.drawShape = function() {};\n\n/**\n * Provides the shape's snap svg element to be drawn on the `canvas`.\n *\n * @param {djs.Graphics} visuals\n * @param {Connection} connection\n *\n * @returns {Snap.svg} [returns a Snap.svg paper element ]\n */\nBaseRenderer.prototype.drawConnection = function() {};\n\n/**\n * Gets the SVG path of a shape that represents it's visual bounds.\n *\n * @param {Shape} shape\n *\n * @return {string} svg path\n */\nBaseRenderer.prototype.getShapePath = function() {};\n\n/**\n * Gets the SVG path of a connection that represents it's visual bounds.\n *\n * @param {Connection} connection\n *\n * @return {string} svg path\n */\nBaseRenderer.prototype.getConnectionPath = function() {};\n","function ensureImported(element, target) {\n\n  if (element.ownerDocument !== target.ownerDocument) {\n    try {\n      // may fail on webkit\n      return target.ownerDocument.importNode(element, true);\n    } catch (e) {\n      // ignore\n    }\n  }\n\n  return element;\n}\n\n/**\n * appendTo utility\n */\n\n/**\n * Append a node to a target element and return the appended node.\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the appended node\n */\nfunction appendTo(element, target) {\n  return target.appendChild(ensureImported(element, target));\n}\n\n/**\n * append utility\n */\n\n/**\n * Append a node to an element\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the element\n */\nfunction append(target, node) {\n  appendTo(node, target);\n  return target;\n}\n\n/**\n * attribute accessor utility\n */\n\nvar LENGTH_ATTR = 2;\n\nvar CSS_PROPERTIES = {\n  'alignment-baseline': 1,\n  'baseline-shift': 1,\n  'clip': 1,\n  'clip-path': 1,\n  'clip-rule': 1,\n  'color': 1,\n  'color-interpolation': 1,\n  'color-interpolation-filters': 1,\n  'color-profile': 1,\n  'color-rendering': 1,\n  'cursor': 1,\n  'direction': 1,\n  'display': 1,\n  'dominant-baseline': 1,\n  'enable-background': 1,\n  'fill': 1,\n  'fill-opacity': 1,\n  'fill-rule': 1,\n  'filter': 1,\n  'flood-color': 1,\n  'flood-opacity': 1,\n  'font': 1,\n  'font-family': 1,\n  'font-size': LENGTH_ATTR,\n  'font-size-adjust': 1,\n  'font-stretch': 1,\n  'font-style': 1,\n  'font-variant': 1,\n  'font-weight': 1,\n  'glyph-orientation-horizontal': 1,\n  'glyph-orientation-vertical': 1,\n  'image-rendering': 1,\n  'kerning': 1,\n  'letter-spacing': 1,\n  'lighting-color': 1,\n  'marker': 1,\n  'marker-end': 1,\n  'marker-mid': 1,\n  'marker-start': 1,\n  'mask': 1,\n  'opacity': 1,\n  'overflow': 1,\n  'pointer-events': 1,\n  'shape-rendering': 1,\n  'stop-color': 1,\n  'stop-opacity': 1,\n  'stroke': 1,\n  'stroke-dasharray': 1,\n  'stroke-dashoffset': 1,\n  'stroke-linecap': 1,\n  'stroke-linejoin': 1,\n  'stroke-miterlimit': 1,\n  'stroke-opacity': 1,\n  'stroke-width': LENGTH_ATTR,\n  'text-anchor': 1,\n  'text-decoration': 1,\n  'text-rendering': 1,\n  'unicode-bidi': 1,\n  'visibility': 1,\n  'word-spacing': 1,\n  'writing-mode': 1\n};\n\n\nfunction getAttribute(node, name) {\n  if (CSS_PROPERTIES[name]) {\n    return node.style[name];\n  } else {\n    return node.getAttributeNS(null, name);\n  }\n}\n\nfunction setAttribute(node, name, value) {\n  var hyphenated = name.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\n  var type = CSS_PROPERTIES[hyphenated];\n\n  if (type) {\n    // append pixel unit, unless present\n    if (type === LENGTH_ATTR && typeof value === 'number') {\n      value = String(value) + 'px';\n    }\n\n    node.style[hyphenated] = value;\n  } else {\n    node.setAttributeNS(null, name, value);\n  }\n}\n\nfunction setAttributes(node, attrs) {\n\n  var names = Object.keys(attrs), i, name;\n\n  for (i = 0, name; (name = names[i]); i++) {\n    setAttribute(node, name, attrs[name]);\n  }\n}\n\n/**\n * Gets or sets raw attributes on a node.\n *\n * @param  {SVGElement} node\n * @param  {Object} [attrs]\n * @param  {String} [name]\n * @param  {String} [value]\n *\n * @return {String}\n */\nfunction attr(node, name, value) {\n  if (typeof name === 'string') {\n    if (value !== undefined) {\n      setAttribute(node, name, value);\n    } else {\n      return getAttribute(node, name);\n    }\n  } else {\n    setAttributes(node, name);\n  }\n\n  return node;\n}\n\n/**\r\n * Clear utility\r\n */\r\nfunction index(arr, obj) {\r\n  if (arr.indexOf) {\r\n    return arr.indexOf(obj);\r\n  }\r\n\r\n\r\n  for (var i = 0; i < arr.length; ++i) {\r\n    if (arr[i] === obj) {\r\n      return i;\r\n    }\r\n  }\r\n\r\n  return -1;\r\n}\r\n\r\nvar re = /\\s+/;\r\n\r\nvar toString = Object.prototype.toString;\r\n\r\nfunction defined(o) {\r\n  return typeof o !== 'undefined';\r\n}\r\n\r\n/**\r\n * Wrap `el` in a `ClassList`.\r\n *\r\n * @param {Element} el\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nfunction classes(el) {\r\n  return new ClassList(el);\r\n}\r\n\r\nfunction ClassList(el) {\r\n  if (!el || !el.nodeType) {\r\n    throw new Error('A DOM element reference is required');\r\n  }\r\n  this.el = el;\r\n  this.list = el.classList;\r\n}\r\n\r\n/**\r\n * Add class `name` if not already present.\r\n *\r\n * @param {String} name\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.add = function(name) {\r\n\r\n  // classList\r\n  if (this.list) {\r\n    this.list.add(name);\r\n    return this;\r\n  }\r\n\r\n  // fallback\r\n  var arr = this.array();\r\n  var i = index(arr, name);\r\n  if (!~i) {\r\n    arr.push(name);\r\n  }\r\n\r\n  if (defined(this.el.className.baseVal)) {\r\n    this.el.className.baseVal = arr.join(' ');\r\n  } else {\r\n    this.el.className = arr.join(' ');\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove class `name` when present, or\r\n * pass a regular expression to remove\r\n * any which match.\r\n *\r\n * @param {String|RegExp} name\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.remove = function(name) {\r\n  if ('[object RegExp]' === toString.call(name)) {\r\n    return this.removeMatching(name);\r\n  }\r\n\r\n  // classList\r\n  if (this.list) {\r\n    this.list.remove(name);\r\n    return this;\r\n  }\r\n\r\n  // fallback\r\n  var arr = this.array();\r\n  var i = index(arr, name);\r\n  if (~i) {\r\n    arr.splice(i, 1);\r\n  }\r\n  this.el.className.baseVal = arr.join(' ');\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove all classes matching `re`.\r\n *\r\n * @param {RegExp} re\r\n * @return {ClassList}\r\n * @api private\r\n */\r\n\r\nClassList.prototype.removeMatching = function(re) {\r\n  var arr = this.array();\r\n  for (var i = 0; i < arr.length; i++) {\r\n    if (re.test(arr[i])) {\r\n      this.remove(arr[i]);\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Toggle class `name`, can force state via `force`.\r\n *\r\n * For browsers that support classList, but do not support `force` yet,\r\n * the mistake will be detected and corrected.\r\n *\r\n * @param {String} name\r\n * @param {Boolean} force\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.toggle = function(name, force) {\r\n  // classList\r\n  if (this.list) {\r\n    if (defined(force)) {\r\n      if (force !== this.list.toggle(name, force)) {\r\n        this.list.toggle(name); // toggle again to correct\r\n      }\r\n    } else {\r\n      this.list.toggle(name);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  // fallback\r\n  if (defined(force)) {\r\n    if (!force) {\r\n      this.remove(name);\r\n    } else {\r\n      this.add(name);\r\n    }\r\n  } else {\r\n    if (this.has(name)) {\r\n      this.remove(name);\r\n    } else {\r\n      this.add(name);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return an array of classes.\r\n *\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.array = function() {\r\n  var className = this.el.getAttribute('class') || '';\r\n  var str = className.replace(/^\\s+|\\s+$/g, '');\r\n  var arr = str.split(re);\r\n  if ('' === arr[0]) {\r\n    arr.shift();\r\n  }\r\n  return arr;\r\n};\r\n\r\n/**\r\n * Check if class `name` is present.\r\n *\r\n * @param {String} name\r\n * @return {ClassList}\r\n * @api public\r\n */\r\n\r\nClassList.prototype.has =\r\nClassList.prototype.contains = function(name) {\r\n  return (\r\n    this.list ?\r\n      this.list.contains(name) :\r\n      !! ~index(this.array(), name)\r\n  );\r\n};\n\nfunction remove(element) {\n  var parent = element.parentNode;\n\n  if (parent) {\n    parent.removeChild(element);\n  }\n\n  return element;\n}\n\n/**\n * Clear utility\n */\n\n/**\n * Removes all children from the given element\n *\n * @param  {DOMElement} element\n * @return {DOMElement} the element (for chaining)\n */\nfunction clear(element) {\n  var child;\n\n  while ((child = element.firstChild)) {\n    remove(child);\n  }\n\n  return element;\n}\n\nfunction clone(element) {\n  return element.cloneNode(true);\n}\n\nvar ns = {\n  svg: 'http://www.w3.org/2000/svg'\n};\n\n/**\n * DOM parsing utility\n */\n\nvar SVG_START = '<svg xmlns=\"' + ns.svg + '\"';\n\nfunction parse(svg) {\n\n  var unwrap = false;\n\n  // ensure we import a valid svg document\n  if (svg.substring(0, 4) === '<svg') {\n    if (svg.indexOf(ns.svg) === -1) {\n      svg = SVG_START + svg.substring(4);\n    }\n  } else {\n    // namespace svg\n    svg = SVG_START + '>' + svg + '</svg>';\n    unwrap = true;\n  }\n\n  var parsed = parseDocument(svg);\n\n  if (!unwrap) {\n    return parsed;\n  }\n\n  var fragment = document.createDocumentFragment();\n\n  var parent = parsed.firstChild;\n\n  while (parent.firstChild) {\n    fragment.appendChild(parent.firstChild);\n  }\n\n  return fragment;\n}\n\nfunction parseDocument(svg) {\n\n  var parser;\n\n  // parse\n  parser = new DOMParser();\n  parser.async = false;\n\n  return parser.parseFromString(svg, 'text/xml');\n}\n\n/**\n * Create utility for SVG elements\n */\n\n\n/**\n * Create a specific type from name or SVG markup.\n *\n * @param {String} name the name or markup of the element\n * @param {Object} [attrs] attributes to set on the element\n *\n * @returns {SVGElement}\n */\nfunction create(name, attrs) {\n  var element;\n\n  if (name.charAt(0) === '<') {\n    element = parse(name).firstChild;\n    element = document.importNode(element, true);\n  } else {\n    element = document.createElementNS(ns.svg, name);\n  }\n\n  if (attrs) {\n    attr(element, attrs);\n  }\n\n  return element;\n}\n\n/**\n * Events handling utility\n */\n\nfunction on(node, event, listener, useCapture) {\n  node.addEventListener(event, listener, useCapture);\n}\n\nfunction off(node, event, listener, useCapture) {\n  node.removeEventListener(event, listener, useCapture);\n}\n\n/**\n * Geometry helpers\n */\n\n// fake node used to instantiate svg geometry elements\nvar node = create('svg');\n\nfunction extend(object, props) {\n  var i, k, keys = Object.keys(props);\n\n  for (i = 0; (k = keys[i]); i++) {\n    object[k] = props[k];\n  }\n\n  return object;\n}\n\n\nfunction createPoint(x, y) {\n  var point = node.createSVGPoint();\n\n  switch (arguments.length) {\n  case 0:\n    return point;\n  case 2:\n    x = {\n      x: x,\n      y: y\n    };\n    break;\n  }\n\n  return extend(point, x);\n}\n\n/**\n * Create matrix via args.\n *\n * @example\n *\n * createMatrix({ a: 1, b: 1 });\n * createMatrix();\n * createMatrix(1, 2, 0, 0, 30, 20);\n *\n * @return {SVGMatrix}\n */\nfunction createMatrix(a, b, c, d, e, f) {\n  var matrix = node.createSVGMatrix();\n\n  switch (arguments.length) {\n  case 0:\n    return matrix;\n  case 1:\n    return extend(matrix, a);\n  case 6:\n    return extend(matrix, {\n      a: a,\n      b: b,\n      c: c,\n      d: d,\n      e: e,\n      f: f\n    });\n  }\n}\n\nfunction createTransform(matrix) {\n  if (matrix) {\n    return node.createSVGTransformFromMatrix(matrix);\n  } else {\n    return node.createSVGTransform();\n  }\n}\n\n/**\n * Serialization util\n */\n\nvar TEXT_ENTITIES = /([&<>]{1})/g;\nvar ATTR_ENTITIES = /([\\n\\r\"]{1})/g;\n\nvar ENTITY_REPLACEMENT = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '\\''\n};\n\nfunction escape(str, pattern) {\n\n  function replaceFn(match, entity) {\n    return ENTITY_REPLACEMENT[entity] || entity;\n  }\n\n  return str.replace(pattern, replaceFn);\n}\n\nfunction serialize(node, output) {\n\n  var i, len, attrMap, attrNode, childNodes;\n\n  switch (node.nodeType) {\n  // TEXT\n  case 3:\n    // replace special XML characters\n    output.push(escape(node.textContent, TEXT_ENTITIES));\n    break;\n\n  // ELEMENT\n  case 1:\n    output.push('<', node.tagName);\n\n    if (node.hasAttributes()) {\n      attrMap = node.attributes;\n      for (i = 0, len = attrMap.length; i < len; ++i) {\n        attrNode = attrMap.item(i);\n        output.push(' ', attrNode.name, '=\"', escape(attrNode.value, ATTR_ENTITIES), '\"');\n      }\n    }\n\n    if (node.hasChildNodes()) {\n      output.push('>');\n      childNodes = node.childNodes;\n      for (i = 0, len = childNodes.length; i < len; ++i) {\n        serialize(childNodes.item(i), output);\n      }\n      output.push('</', node.tagName, '>');\n    } else {\n      output.push('/>');\n    }\n    break;\n\n  // COMMENT\n  case 8:\n    output.push('<!--', escape(node.nodeValue, TEXT_ENTITIES), '-->');\n    break;\n\n  // CDATA\n  case 4:\n    output.push('<![CDATA[', node.nodeValue, ']]>');\n    break;\n\n  default:\n    throw new Error('unable to handle node ' + node.nodeType);\n  }\n\n  return output;\n}\n\n/**\n * innerHTML like functionality for SVG elements.\n * based on innerSVG (https://code.google.com/p/innersvg)\n */\n\n\nfunction set(element, svg) {\n\n  var parsed = parse(svg);\n\n  // clear element contents\n  clear(element);\n\n  if (!svg) {\n    return;\n  }\n\n  if (!isFragment(parsed)) {\n    // extract <svg> from parsed document\n    parsed = parsed.documentElement;\n  }\n\n  var nodes = slice(parsed.childNodes);\n\n  // import + append each node\n  for (var i = 0; i < nodes.length; i++) {\n    appendTo(nodes[i], element);\n  }\n\n}\n\nfunction get(element) {\n  var child = element.firstChild,\n      output = [];\n\n  while (child) {\n    serialize(child, output);\n    child = child.nextSibling;\n  }\n\n  return output.join('');\n}\n\nfunction isFragment(node) {\n  return node.nodeName === '#document-fragment';\n}\n\nfunction innerSVG(element, svg) {\n\n  if (svg !== undefined) {\n\n    try {\n      set(element, svg);\n    } catch (e) {\n      throw new Error('error parsing SVG: ' + e.message);\n    }\n\n    return element;\n  } else {\n    return get(element);\n  }\n}\n\n\nfunction slice(arr) {\n  return Array.prototype.slice.call(arr);\n}\n\n/**\n * Selection utilities\n */\n\nfunction select(node, selector) {\n  return node.querySelector(selector);\n}\n\nfunction selectAll(node, selector) {\n  var nodes = node.querySelectorAll(selector);\n\n  return [].map.call(nodes, function(element) {\n    return element;\n  });\n}\n\n/**\n * prependTo utility\n */\n\n/**\n * Prepend a node to a target element and return the prepended node.\n *\n * @param  {SVGElement} node\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the prepended node\n */\nfunction prependTo(node, target) {\n  return target.insertBefore(ensureImported(node, target), target.firstChild || null);\n}\n\n/**\n * prepend utility\n */\n\n/**\n * Prepend a node to a target element\n *\n * @param  {SVGElement} target\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the target element\n */\nfunction prepend(target, node) {\n  prependTo(node, target);\n  return target;\n}\n\n/**\n * Replace utility\n */\n\nfunction replace(element, replacement) {\n  element.parentNode.replaceChild(ensureImported(replacement, element), element);\n  return replacement;\n}\n\n/**\n * transform accessor utility\n */\n\nfunction wrapMatrix(transformList, transform) {\n  if (transform instanceof SVGMatrix) {\n    return transformList.createSVGTransformFromMatrix(transform);\n  }\n\n  return transform;\n}\n\n\nfunction setTransforms(transformList, transforms) {\n  var i, t;\n\n  transformList.clear();\n\n  for (i = 0; (t = transforms[i]); i++) {\n    transformList.appendItem(wrapMatrix(transformList, t));\n  }\n}\n\n/**\n * Get or set the transforms on the given node.\n *\n * @param {SVGElement} node\n * @param  {SVGTransform|SVGMatrix|Array<SVGTransform|SVGMatrix>} [transforms]\n *\n * @return {SVGTransform} the consolidated transform\n */\nfunction transform(node, transforms) {\n  var transformList = node.transform.baseVal;\n\n  if (transforms) {\n\n    if (!Array.isArray(transforms)) {\n      transforms = [ transforms ];\n    }\n\n    setTransforms(transformList, transforms);\n  }\n\n  return transformList.consolidate();\n}\n\nexport { append, appendTo, attr, classes, clear, clone, create, innerSVG, prepend, prependTo, remove, replace, transform, on, off, createPoint, createMatrix, createTransform, select, selectAll };\n","import {\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\n\nexport function componentsToPath(elements) {\n  return elements.join(',').replace(/,?([A-z]),?/g, '$1');\n}\n\nexport function toSVGPoints(points) {\n  var result = '';\n\n  for (var i = 0, p; (p = points[i]); i++) {\n    result += p.x + ',' + p.y + ' ';\n  }\n\n  return result;\n}\n\nexport function createLine(points, attrs) {\n\n  var line = svgCreate('polyline');\n  svgAttr(line, { points: toSVGPoints(points) });\n\n  if (attrs) {\n    svgAttr(line, attrs);\n  }\n\n  return line;\n}\n\nexport function updateLine(gfx, points) {\n  svgAttr(gfx, { points: toSVGPoints(points) });\n\n  return gfx;\n}\n","import {\n  assign,\n  filter,\n  find,\n  isArray,\n  isNumber,\n  isObject,\n  isUndefined,\n  groupBy,\n  forEach\n} from 'min-dash';\n\n\n/**\n * Get parent elements.\n *\n * @param {Array<djs.model.base>} elements\n *\n * @returns {Array<djs.model.Base>}\n */\nexport function getParents(elements) {\n\n  // find elements that are not children of any other elements\n  return filter(elements, function(element) {\n    return !find(elements, function(e) {\n      return e !== element && getParent(element, e);\n    });\n  });\n}\n\n\nfunction getParent(element, parent) {\n  if (!parent) {\n    return;\n  }\n\n  if (element === parent) {\n    return parent;\n  }\n\n  if (!element.parent) {\n    return;\n  }\n\n  return getParent(element.parent, parent);\n}\n\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Array<Object>} elements\n * @param {Object} e\n * @param {boolean} unique\n */\nexport function add(elements, e, unique) {\n  var canAdd = !unique || elements.indexOf(e) === -1;\n\n  if (canAdd) {\n    elements.push(e);\n  }\n\n  return canAdd;\n}\n\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param  {Object|Array<Object>} elements\n * @param  {Function} fn iterator function called with (element, index, recursionDepth)\n * @param  {number} [depth] maximum recursion depth\n */\nexport function eachElement(elements, fn, depth) {\n\n  depth = depth || 0;\n\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  forEach(elements, function(s, i) {\n    var filter = fn(s, i, depth);\n\n    if (isArray(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n\n/**\n * Collects self + child elements up to a given depth from a list of elements.\n *\n * @param  {djs.model.Base|Array<djs.model.Base>} elements the elements to select the children from\n * @param  {boolean} unique whether to return a unique result set (no duplicates)\n * @param  {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Array<djs.model.Base>} found elements\n */\nexport function selfAndChildren(elements, unique, maxDepth) {\n  var result = [],\n      processedChildren = [];\n\n  eachElement(elements, function(element, i, depth) {\n    add(result, element, unique);\n\n    var children = element.children;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n\n      // children exist && children not yet processed\n      if (children && add(processedChildren, children, unique)) {\n        return children;\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return self + direct children for a number of elements\n *\n * @param  {Array<djs.model.Base>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<djs.model.Base>} the collected elements\n */\nexport function selfAndDirectChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, 1);\n}\n\n\n/**\n * Return self + ALL children for a number of elements\n *\n * @param  {Array<djs.model.Base>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<djs.model.Base>} the collected elements\n */\nexport function selfAndAllChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, -1);\n}\n\n\n/**\n * Gets the the closure for all selected elements,\n * their enclosed children and connections.\n *\n * @param {Array<djs.model.Base>} elements\n * @param {boolean} [isTopLevel=true]\n * @param {Object} [existingClosure]\n *\n * @return {Object} newClosure\n */\nexport function getClosure(elements, isTopLevel, closure) {\n\n  if (isUndefined(isTopLevel)) {\n    isTopLevel = true;\n  }\n\n  if (isObject(isTopLevel)) {\n    closure = isTopLevel;\n    isTopLevel = true;\n  }\n\n\n  closure = closure || {};\n\n  var allShapes = copyObject(closure.allShapes),\n      allConnections = copyObject(closure.allConnections),\n      enclosedElements = copyObject(closure.enclosedElements),\n      enclosedConnections = copyObject(closure.enclosedConnections);\n\n  var topLevel = copyObject(\n    closure.topLevel,\n    isTopLevel && groupBy(elements, function(e) { return e.id; })\n  );\n\n\n  function handleConnection(c) {\n    if (topLevel[c.source.id] && topLevel[c.target.id]) {\n      topLevel[c.id] = [ c ];\n    }\n\n    // not enclosed as a child, but maybe logically\n    // (connecting two moved elements?)\n    if (allShapes[c.source.id] && allShapes[c.target.id]) {\n      enclosedConnections[c.id] = enclosedElements[c.id] = c;\n    }\n\n    allConnections[c.id] = c;\n  }\n\n  function handleElement(element) {\n\n    enclosedElements[element.id] = element;\n\n    if (element.waypoints) {\n\n      // remember connection\n      enclosedConnections[element.id] = allConnections[element.id] = element;\n    } else {\n\n      // remember shape\n      allShapes[element.id] = element;\n\n      // remember all connections\n      forEach(element.incoming, handleConnection);\n\n      forEach(element.outgoing, handleConnection);\n\n      // recurse into children\n      return element.children;\n    }\n  }\n\n  eachElement(elements, handleElement);\n\n  return {\n    allShapes: allShapes,\n    allConnections: allConnections,\n    topLevel: topLevel,\n    enclosedConnections: enclosedConnections,\n    enclosedElements: enclosedElements\n  };\n}\n\n/**\n * Returns the surrounding bbox for all elements in\n * the array or the element primitive.\n *\n * @param {Array<djs.model.Shape>|djs.model.Shape} elements\n * @param {boolean} stopRecursion\n */\nexport function getBBox(elements, stopRecursion) {\n\n  stopRecursion = !!stopRecursion;\n  if (!isArray(elements)) {\n    elements = [elements];\n  }\n\n  var minX,\n      minY,\n      maxX,\n      maxY;\n\n  forEach(elements, function(element) {\n\n    // If element is a connection the bbox must be computed first\n    var bbox = element;\n    if (element.waypoints && !stopRecursion) {\n      bbox = getBBox(element.waypoints, true);\n    }\n\n    var x = bbox.x,\n        y = bbox.y,\n        height = bbox.height || 0,\n        width = bbox.width || 0;\n\n    if (x < minX || minX === undefined) {\n      minX = x;\n    }\n    if (y < minY || minY === undefined) {\n      minY = y;\n    }\n\n    if ((x + width) > maxX || maxX === undefined) {\n      maxX = x + width;\n    }\n    if ((y + height) > maxY || maxY === undefined) {\n      maxY = y + height;\n    }\n  });\n\n  return {\n    x: minX,\n    y: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n}\n\n\n/**\n * Returns all elements that are enclosed from the bounding box.\n *\n *   * If bbox.(width|height) is not specified the method returns\n *     all elements with element.x/y > bbox.x/y\n *   * If only bbox.x or bbox.y is specified, method return all elements with\n *     e.x > bbox.x or e.y > bbox.y\n *\n * @param {Array<djs.model.Shape>} elements List of Elements to search through\n * @param {djs.model.Shape} bbox the enclosing bbox.\n *\n * @return {Array<djs.model.Shape>} enclosed elements\n */\nexport function getEnclosedElements(elements, bbox) {\n\n  var filteredElements = {};\n\n  forEach(elements, function(element) {\n\n    var e = element;\n\n    if (e.waypoints) {\n      e = getBBox(e);\n    }\n\n    if (!isNumber(bbox.y) && (e.x > bbox.x)) {\n      filteredElements[element.id] = element;\n    }\n    if (!isNumber(bbox.x) && (e.y > bbox.y)) {\n      filteredElements[element.id] = element;\n    }\n    if (e.x > bbox.x && e.y > bbox.y) {\n      if (isNumber(bbox.width) && isNumber(bbox.height) &&\n          e.width + e.x < bbox.width + bbox.x &&\n          e.height + e.y < bbox.height + bbox.y) {\n\n        filteredElements[element.id] = element;\n      } else if (!isNumber(bbox.width) || !isNumber(bbox.height)) {\n        filteredElements[element.id] = element;\n      }\n    }\n  });\n\n  return filteredElements;\n}\n\n\nexport function getType(element) {\n\n  if ('waypoints' in element) {\n    return 'connection';\n  }\n\n  if ('x' in element) {\n    return 'shape';\n  }\n\n  return 'root';\n}\n\nexport function isFrameElement(element) {\n\n  return !!(element && element.isFrame);\n}\n\n// helpers ///////////////////////////////\n\nfunction copyObject(src1, src2) {\n  return assign({}, src1 || {}, src2 || {});\n}","import inherits from 'inherits';\n\nimport BaseRenderer from './BaseRenderer';\n\nimport {\n  componentsToPath,\n  createLine\n} from '../util/RenderUtil';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  isFrameElement\n} from '../util/Elements';\n\n// apply default renderer with lowest possible priority\n// so that it only kicks in if noone else could render\nvar DEFAULT_RENDER_PRIORITY = 1;\n\n/**\n * The default renderer used for shapes and connections.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n */\nexport default function DefaultRenderer(eventBus, styles) {\n\n  //\n  BaseRenderer.call(this, eventBus, DEFAULT_RENDER_PRIORITY);\n\n  this.CONNECTION_STYLE = styles.style([ 'no-fill' ], { strokeWidth: 5, stroke: 'fuchsia' });\n  this.SHAPE_STYLE = styles.style({ fill: 'white', stroke: 'fuchsia', strokeWidth: 2 });\n  this.FRAME_STYLE = styles.style([ 'no-fill' ], { stroke: 'fuchsia', strokeDasharray: 4, strokeWidth: 2 });\n}\n\ninherits(DefaultRenderer, BaseRenderer);\n\n\nDefaultRenderer.prototype.canRender = function() {\n  return true;\n};\n\nDefaultRenderer.prototype.drawShape = function drawShape(visuals, element) {\n  var rect = svgCreate('rect');\n\n  svgAttr(rect, {\n    x: 0,\n    y: 0,\n    width: element.width || 0,\n    height: element.height || 0\n  });\n\n  if (isFrameElement(element)) {\n    svgAttr(rect, this.FRAME_STYLE);\n  } else {\n    svgAttr(rect, this.SHAPE_STYLE);\n  }\n\n  svgAppend(visuals, rect);\n\n  return rect;\n};\n\nDefaultRenderer.prototype.drawConnection = function drawConnection(visuals, connection) {\n\n  var line = createLine(connection.waypoints, this.CONNECTION_STYLE);\n  svgAppend(visuals, line);\n\n  return line;\n};\n\nDefaultRenderer.prototype.getShapePath = function getShapePath(shape) {\n\n  var x = shape.x,\n      y = shape.y,\n      width = shape.width,\n      height = shape.height;\n\n  var shapePath = [\n    ['M', x, y],\n    ['l', width, 0],\n    ['l', 0, height],\n    ['l', -width, 0],\n    ['z']\n  ];\n\n  return componentsToPath(shapePath);\n};\n\nDefaultRenderer.prototype.getConnectionPath = function getConnectionPath(connection) {\n  var waypoints = connection.waypoints;\n\n  var idx, point, connectionPath = [];\n\n  for (idx = 0; (point = waypoints[idx]); idx++) {\n\n    // take invisible docking into account\n    // when creating the path\n    point = point.original || point;\n\n    connectionPath.push([ idx === 0 ? 'M' : 'L', point.x, point.y ]);\n  }\n\n  return componentsToPath(connectionPath);\n};\n\n\nDefaultRenderer.$inject = [ 'eventBus', 'styles' ];\n","import {\n  isArray,\n  assign,\n  reduce\n} from 'min-dash';\n\n\n/**\n * A component that manages shape styles\n */\nexport default function Styles() {\n\n  var defaultTraits = {\n\n    'no-fill': {\n      fill: 'none'\n    },\n    'no-border': {\n      strokeOpacity: 0.0\n    },\n    'no-events': {\n      pointerEvents: 'none'\n    }\n  };\n\n  var self = this;\n\n  /**\n   * Builds a style definition from a className, a list of traits and an object of additional attributes.\n   *\n   * @param  {string} className\n   * @param  {Array<string>} traits\n   * @param  {Object} additionalAttrs\n   *\n   * @return {Object} the style defintion\n   */\n  this.cls = function(className, traits, additionalAttrs) {\n    var attrs = this.style(traits, additionalAttrs);\n\n    return assign(attrs, { 'class': className });\n  };\n\n  /**\n   * Builds a style definition from a list of traits and an object of additional attributes.\n   *\n   * @param  {Array<string>} traits\n   * @param  {Object} additionalAttrs\n   *\n   * @return {Object} the style defintion\n   */\n  this.style = function(traits, additionalAttrs) {\n\n    if (!isArray(traits) && !additionalAttrs) {\n      additionalAttrs = traits;\n      traits = [];\n    }\n\n    var attrs = reduce(traits, function(attrs, t) {\n      return assign(attrs, defaultTraits[t] || {});\n    }, {});\n\n    return additionalAttrs ? assign(attrs, additionalAttrs) : attrs;\n  };\n\n  this.computeStyle = function(custom, traits, defaultStyles) {\n    if (!isArray(traits)) {\n      defaultStyles = traits;\n      traits = [];\n    }\n\n    return self.style(traits || [], assign({}, defaultStyles, custom || {}));\n  };\n}\n","import DefaultRenderer from './DefaultRenderer';\nimport Styles from './Styles';\n\nexport default {\n  __init__: [ 'defaultRenderer' ],\n  defaultRenderer: [ 'type', DefaultRenderer ],\n  styles: [ 'type', Styles ]\n};\n","/**\n * Failsafe remove an element from a collection\n *\n * @param  {Array<Object>} [collection]\n * @param  {Object} [element]\n *\n * @return {number} the previous index of the element\n */\nexport function remove(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  var idx = collection.indexOf(element);\n\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  }\n\n  return idx;\n}\n\n/**\n * Fail save add an element to the given connection, ensuring\n * it does not yet exist.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n * @param {number} idx\n */\nexport function add(collection, element, idx) {\n\n  if (!collection || !element) {\n    return;\n  }\n\n  if (typeof idx !== 'number') {\n    idx = -1;\n  }\n\n  var currentIdx = collection.indexOf(element);\n\n  if (currentIdx !== -1) {\n\n    if (currentIdx === idx) {\n\n      // nothing to do, position has not changed\n      return;\n    } else {\n\n      if (idx !== -1) {\n\n        // remove from current position\n        collection.splice(currentIdx, 1);\n      } else {\n\n        // already exists in collection\n        return;\n      }\n    }\n  }\n\n  if (idx !== -1) {\n\n    // insert at specified position\n    collection.splice(idx, 0, element);\n  } else {\n\n    // push to end\n    collection.push(element);\n  }\n}\n\n\n/**\n * Fail save get the index of an element in a collection.\n *\n * @param {Array<Object>} collection\n * @param {Object} element\n *\n * @return {number} the index or -1 if collection or element do\n *                  not exist or the element is not contained.\n */\nexport function indexOf(collection, element) {\n\n  if (!collection || !element) {\n    return -1;\n  }\n\n  return collection.indexOf(element);\n}\n","import {\n  isNumber,\n  assign,\n  forEach,\n  every,\n  debounce,\n  bind,\n  reduce\n} from 'min-dash';\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../util/Collections';\n\nimport {\n  getType\n} from '../util/Elements';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  transform as svgTransform\n} from 'tiny-svg';\n\nimport { createMatrix as createMatrix } from 'tiny-svg';\n\n\nfunction round(number, resolution) {\n  return Math.round(number * resolution) / resolution;\n}\n\nfunction ensurePx(number) {\n  return isNumber(number) ? number + 'px' : number;\n}\n\n/**\n * Creates a HTML container element for a SVG element with\n * the given configuration\n *\n * @param  {Object} options\n * @return {HTMLElement} the container element\n */\nfunction createContainer(options) {\n\n  options = assign({}, { width: '100%', height: '100%' }, options);\n\n  var container = options.container || document.body;\n\n  // create a <div> around the svg element with the respective size\n  // this way we can always get the correct container size\n  // (this is impossible for <svg> elements at the moment)\n  var parent = document.createElement('div');\n  parent.setAttribute('class', 'djs-container');\n\n  assign(parent.style, {\n    position: 'relative',\n    overflow: 'hidden',\n    width: ensurePx(options.width),\n    height: ensurePx(options.height)\n  });\n\n  container.appendChild(parent);\n\n  return parent;\n}\n\nfunction createGroup(parent, cls, childIndex) {\n  var group = svgCreate('g');\n  svgClasses(group).add(cls);\n\n  var index = childIndex !== undefined ? childIndex : parent.childNodes.length - 1;\n\n  // must ensure second argument is node or _null_\n  // cf. https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\n  parent.insertBefore(group, parent.childNodes[index] || null);\n\n  return group;\n}\n\nvar BASE_LAYER = 'base';\n\n\nvar REQUIRED_MODEL_ATTRS = {\n  shape: [ 'x', 'y', 'width', 'height' ],\n  connection: [ 'waypoints' ]\n};\n\n/**\n * The main drawing canvas.\n *\n * @class\n * @constructor\n *\n * @emits Canvas#canvas.init\n *\n * @param {Object} config\n * @param {EventBus} eventBus\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Canvas(config, eventBus, graphicsFactory, elementRegistry) {\n\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n  this._graphicsFactory = graphicsFactory;\n\n  this._init(config || {});\n}\n\nCanvas.$inject = [\n  'config.canvas',\n  'eventBus',\n  'graphicsFactory',\n  'elementRegistry'\n];\n\n\nCanvas.prototype._init = function(config) {\n\n  var eventBus = this._eventBus;\n\n  // Creates a <svg> element that is wrapped into a <div>.\n  // This way we are always able to correctly figure out the size of the svg element\n  // by querying the parent node.\n  //\n  // (It is not possible to get the size of a svg element cross browser @ 2014-04-01)\n  //\n  // <div class=\"djs-container\" style=\"width: {desired-width}, height: {desired-height}\">\n  //   <svg width=\"100%\" height=\"100%\">\n  //    ...\n  //   </svg>\n  // </div>\n\n  // html container\n  var container = this._container = createContainer(config);\n\n  var svg = this._svg = svgCreate('svg');\n  svgAttr(svg, { width: '100%', height: '100%' });\n\n  svgAppend(container, svg);\n\n  var viewport = this._viewport = createGroup(svg, 'viewport');\n\n  this._layers = {};\n\n  // debounce canvas.viewbox.changed events\n  // for smoother diagram interaction\n  if (config.deferUpdate !== false) {\n    this._viewboxChanged = debounce(bind(this._viewboxChanged, this), 300);\n  }\n\n  eventBus.on('diagram.init', function() {\n\n    /**\n     * An event indicating that the canvas is ready to be drawn on.\n     *\n     * @memberOf Canvas\n     *\n     * @event canvas.init\n     *\n     * @type {Object}\n     * @property {SVGElement} svg the created svg element\n     * @property {SVGElement} viewport the direct parent of diagram elements and shapes\n     */\n    eventBus.fire('canvas.init', {\n      svg: svg,\n      viewport: viewport\n    });\n\n  }, this);\n\n  // reset viewbox on shape changes to\n  // recompute the viewbox\n  eventBus.on([\n    'shape.added',\n    'connection.added',\n    'shape.removed',\n    'connection.removed',\n    'elements.changed'\n  ], function() {\n    delete this._cachedViewbox;\n  }, this);\n\n  eventBus.on('diagram.destroy', 500, this._destroy, this);\n  eventBus.on('diagram.clear', 500, this._clear, this);\n};\n\nCanvas.prototype._destroy = function(emit) {\n  this._eventBus.fire('canvas.destroy', {\n    svg: this._svg,\n    viewport: this._viewport\n  });\n\n  var parent = this._container.parentNode;\n\n  if (parent) {\n    parent.removeChild(this._container);\n  }\n\n  delete this._svg;\n  delete this._container;\n  delete this._layers;\n  delete this._rootElement;\n  delete this._viewport;\n};\n\nCanvas.prototype._clear = function() {\n\n  var self = this;\n\n  var allElements = this._elementRegistry.getAll();\n\n  // remove all elements\n  allElements.forEach(function(element) {\n    var type = getType(element);\n\n    if (type === 'root') {\n      self.setRootElement(null, true);\n    } else {\n      self._removeElement(element, type);\n    }\n  });\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n};\n\n/**\n * Returns the default layer on which\n * all elements are drawn.\n *\n * @returns {SVGElement}\n */\nCanvas.prototype.getDefaultLayer = function() {\n  return this.getLayer(BASE_LAYER, 0);\n};\n\n/**\n * Returns a layer that is used to draw elements\n * or annotations on it.\n *\n * Non-existing layers retrieved through this method\n * will be created. During creation, the optional index\n * may be used to create layers below or above existing layers.\n * A layer with a certain index is always created above all\n * existing layers with the same index.\n *\n * @param {string} name\n * @param {number} index\n *\n * @returns {SVGElement}\n */\nCanvas.prototype.getLayer = function(name, index) {\n\n  if (!name) {\n    throw new Error('must specify a name');\n  }\n\n  var layer = this._layers[name];\n\n  if (!layer) {\n    layer = this._layers[name] = this._createLayer(name, index);\n  }\n\n  // throw an error if layer creation / retrival is\n  // requested on different index\n  if (typeof index !== 'undefined' && layer.index !== index) {\n    throw new Error('layer <' + name + '> already created at index <' + index + '>');\n  }\n\n  return layer.group;\n};\n\n/**\n * Creates a given layer and returns it.\n *\n * @param {string} name\n * @param {number} [index=0]\n *\n * @return {Object} layer descriptor with { index, group: SVGGroup }\n */\nCanvas.prototype._createLayer = function(name, index) {\n\n  if (!index) {\n    index = 0;\n  }\n\n  var childIndex = reduce(this._layers, function(childIndex, layer) {\n    if (index >= layer.index) {\n      childIndex++;\n    }\n\n    return childIndex;\n  }, 0);\n\n  return {\n    group: createGroup(this._viewport, 'layer-' + name, childIndex),\n    index: index\n  };\n\n};\n\n/**\n * Returns the html element that encloses the\n * drawing canvas.\n *\n * @return {DOMNode}\n */\nCanvas.prototype.getContainer = function() {\n  return this._container;\n};\n\n\n// markers //////////////////////\n\nCanvas.prototype._updateMarker = function(element, marker, add) {\n  var container;\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  // we need to access all\n  container = this._elementRegistry._elements[element.id];\n\n  if (!container) {\n    return;\n  }\n\n  forEach([ container.gfx, container.secondaryGfx ], function(gfx) {\n    if (gfx) {\n\n      // invoke either addClass or removeClass based on mode\n      if (add) {\n        svgClasses(gfx).add(marker);\n      } else {\n        svgClasses(gfx).remove(marker);\n      }\n    }\n  });\n\n  /**\n   * An event indicating that a marker has been updated for an element\n   *\n   * @event element.marker.update\n   * @type {Object}\n   * @property {djs.model.Element} element the shape\n   * @property {Object} gfx the graphical representation of the shape\n   * @property {string} marker\n   * @property {boolean} add true if the marker was added, false if it got removed\n   */\n  this._eventBus.fire('element.marker.update', { element: element, gfx: container.gfx, marker: marker, add: !!add });\n};\n\n\n/**\n * Adds a marker to an element (basically a css class).\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @example\n * canvas.addMarker('foo', 'some-marker');\n *\n * var fooGfx = canvas.getGraphics('foo');\n *\n * fooGfx; // <g class=\"... some-marker\"> ... </g>\n *\n * @param {string|djs.model.Base} element\n * @param {string} marker\n */\nCanvas.prototype.addMarker = function(element, marker) {\n  this._updateMarker(element, marker, true);\n};\n\n\n/**\n * Remove a marker from an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param  {string|djs.model.Base} element\n * @param  {string} marker\n */\nCanvas.prototype.removeMarker = function(element, marker) {\n  this._updateMarker(element, marker, false);\n};\n\n/**\n * Check the existence of a marker on element.\n *\n * @param  {string|djs.model.Base} element\n * @param  {string} marker\n */\nCanvas.prototype.hasMarker = function(element, marker) {\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  var gfx = this.getGraphics(element);\n\n  return svgClasses(gfx).has(marker);\n};\n\n/**\n * Toggles a marker on an element.\n *\n * Fires the element.marker.update event, making it possible to\n * integrate extension into the marker life-cycle, too.\n *\n * @param  {string|djs.model.Base} element\n * @param  {string} marker\n */\nCanvas.prototype.toggleMarker = function(element, marker) {\n  if (this.hasMarker(element, marker)) {\n    this.removeMarker(element, marker);\n  } else {\n    this.addMarker(element, marker);\n  }\n};\n\nCanvas.prototype.getRootElement = function() {\n  if (!this._rootElement) {\n    this.setRootElement({ id: '__implicitroot', children: [] });\n  }\n\n  return this._rootElement;\n};\n\n\n\n// root element handling //////////////////////\n\n/**\n * Sets a given element as the new root element for the canvas\n * and returns the new root element.\n *\n * @param {Object|djs.model.Root} element\n * @param {boolean} [override] whether to override the current root element, if any\n *\n * @return {Object|djs.model.Root} new root element\n */\nCanvas.prototype.setRootElement = function(element, override) {\n\n  if (element) {\n    this._ensureValid('root', element);\n  }\n\n  var currentRoot = this._rootElement,\n      elementRegistry = this._elementRegistry,\n      eventBus = this._eventBus;\n\n  if (currentRoot) {\n    if (!override) {\n      throw new Error('rootElement already set, need to specify override');\n    }\n\n    // simulate element remove event sequence\n    eventBus.fire('root.remove', { element: currentRoot });\n    eventBus.fire('root.removed', { element: currentRoot });\n\n    elementRegistry.remove(currentRoot);\n  }\n\n  if (element) {\n    var gfx = this.getDefaultLayer();\n\n    // resemble element add event sequence\n    eventBus.fire('root.add', { element: element });\n\n    elementRegistry.add(element, gfx, this._svg);\n\n    eventBus.fire('root.added', { element: element, gfx: gfx });\n  }\n\n  this._rootElement = element;\n\n  return element;\n};\n\n\n\n// add functionality //////////////////////\n\nCanvas.prototype._ensureValid = function(type, element) {\n  if (!element.id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elementRegistry.get(element.id)) {\n    throw new Error('element with id ' + element.id + ' already exists');\n  }\n\n  var requiredAttrs = REQUIRED_MODEL_ATTRS[type];\n\n  var valid = every(requiredAttrs, function(attr) {\n    return typeof element[attr] !== 'undefined';\n  });\n\n  if (!valid) {\n    throw new Error(\n      'must supply { ' + requiredAttrs.join(', ') + ' } with ' + type);\n  }\n};\n\nCanvas.prototype._setParent = function(element, parent, parentIndex) {\n  collectionAdd(parent.children, element, parentIndex);\n  element.parent = parent;\n};\n\n/**\n * Adds an element to the canvas.\n *\n * This wires the parent <-> child relationship between the element and\n * a explicitly specified parent or an implicit root element.\n *\n * During add it emits the events\n *\n *  * <{type}.add> (element, parent)\n *  * <{type}.added> (element, gfx)\n *\n * Extensions may hook into these events to perform their magic.\n *\n * @param {string} type\n * @param {Object|djs.model.Base} element\n * @param {Object|djs.model.Base} [parent]\n * @param {number} [parentIndex]\n *\n * @return {Object|djs.model.Base} the added element\n */\nCanvas.prototype._addElement = function(type, element, parent, parentIndex) {\n\n  parent = parent || this.getRootElement();\n\n  var eventBus = this._eventBus,\n      graphicsFactory = this._graphicsFactory;\n\n  this._ensureValid(type, element);\n\n  eventBus.fire(type + '.add', { element: element, parent: parent });\n\n  this._setParent(element, parent, parentIndex);\n\n  // create graphics\n  var gfx = graphicsFactory.create(type, element, parentIndex);\n\n  this._elementRegistry.add(element, gfx);\n\n  // update its visual\n  graphicsFactory.update(type, element, gfx);\n\n  eventBus.fire(type + '.added', { element: element, gfx: gfx });\n\n  return element;\n};\n\n/**\n * Adds a shape to the canvas\n *\n * @param {Object|djs.model.Shape} shape to add to the diagram\n * @param {djs.model.Base} [parent]\n * @param {number} [parentIndex]\n *\n * @return {djs.model.Shape} the added shape\n */\nCanvas.prototype.addShape = function(shape, parent, parentIndex) {\n  return this._addElement('shape', shape, parent, parentIndex);\n};\n\n/**\n * Adds a connection to the canvas\n *\n * @param {Object|djs.model.Connection} connection to add to the diagram\n * @param {djs.model.Base} [parent]\n * @param {number} [parentIndex]\n *\n * @return {djs.model.Connection} the added connection\n */\nCanvas.prototype.addConnection = function(connection, parent, parentIndex) {\n  return this._addElement('connection', connection, parent, parentIndex);\n};\n\n\n/**\n * Internal remove element\n */\nCanvas.prototype._removeElement = function(element, type) {\n\n  var elementRegistry = this._elementRegistry,\n      graphicsFactory = this._graphicsFactory,\n      eventBus = this._eventBus;\n\n  element = elementRegistry.get(element.id || element);\n\n  if (!element) {\n\n    // element was removed already\n    return;\n  }\n\n  eventBus.fire(type + '.remove', { element: element });\n\n  graphicsFactory.remove(element);\n\n  // unset parent <-> child relationship\n  collectionRemove(element.parent && element.parent.children, element);\n  element.parent = null;\n\n  eventBus.fire(type + '.removed', { element: element });\n\n  elementRegistry.remove(element);\n\n  return element;\n};\n\n\n/**\n * Removes a shape from the canvas\n *\n * @param {string|djs.model.Shape} shape or shape id to be removed\n *\n * @return {djs.model.Shape} the removed shape\n */\nCanvas.prototype.removeShape = function(shape) {\n\n  /**\n   * An event indicating that a shape is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event shape.remove\n   * @type {Object}\n   * @property {djs.model.Shape} element the shape descriptor\n   * @property {Object} gfx the graphical representation of the shape\n   */\n\n  /**\n   * An event indicating that a shape has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event shape.removed\n   * @type {Object}\n   * @property {djs.model.Shape} element the shape descriptor\n   * @property {Object} gfx the graphical representation of the shape\n   */\n  return this._removeElement(shape, 'shape');\n};\n\n\n/**\n * Removes a connection from the canvas\n *\n * @param {string|djs.model.Connection} connection or connection id to be removed\n *\n * @return {djs.model.Connection} the removed connection\n */\nCanvas.prototype.removeConnection = function(connection) {\n\n  /**\n   * An event indicating that a connection is about to be removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event connection.remove\n   * @type {Object}\n   * @property {djs.model.Connection} element the connection descriptor\n   * @property {Object} gfx the graphical representation of the connection\n   */\n\n  /**\n   * An event indicating that a connection has been removed from the canvas.\n   *\n   * @memberOf Canvas\n   *\n   * @event connection.removed\n   * @type {Object}\n   * @property {djs.model.Connection} element the connection descriptor\n   * @property {Object} gfx the graphical representation of the connection\n   */\n  return this._removeElement(connection, 'connection');\n};\n\n\n/**\n * Return the graphical object underlaying a certain diagram element\n *\n * @param {string|djs.model.Base} element descriptor of the element\n * @param {boolean} [secondary=false] whether to return the secondary connected element\n *\n * @return {SVGElement}\n */\nCanvas.prototype.getGraphics = function(element, secondary) {\n  return this._elementRegistry.getGraphics(element, secondary);\n};\n\n\n/**\n * Perform a viewbox update via a given change function.\n *\n * @param {Function} changeFn\n */\nCanvas.prototype._changeViewbox = function(changeFn) {\n\n  // notify others of the upcoming viewbox change\n  this._eventBus.fire('canvas.viewbox.changing');\n\n  // perform actual change\n  changeFn.apply(this);\n\n  // reset the cached viewbox so that\n  // a new get operation on viewbox or zoom\n  // triggers a viewbox re-computation\n  this._cachedViewbox = null;\n\n  // notify others of the change; this step\n  // may or may not be debounced\n  this._viewboxChanged();\n};\n\nCanvas.prototype._viewboxChanged = function() {\n  this._eventBus.fire('canvas.viewbox.changed', { viewbox: this.viewbox() });\n};\n\n\n/**\n * Gets or sets the view box of the canvas, i.e. the\n * area that is currently displayed.\n *\n * The getter may return a cached viewbox (if it is currently\n * changing). To force a recomputation, pass `false` as the first argument.\n *\n * @example\n *\n * canvas.viewbox({ x: 100, y: 100, width: 500, height: 500 })\n *\n * // sets the visible area of the diagram to (100|100) -> (600|100)\n * // and and scales it according to the diagram width\n *\n * var viewbox = canvas.viewbox(); // pass `false` to force recomputing the box.\n *\n * console.log(viewbox);\n * // {\n * //   inner: Dimensions,\n * //   outer: Dimensions,\n * //   scale,\n * //   x, y,\n * //   width, height\n * // }\n *\n * // if the current diagram is zoomed and scrolled, you may reset it to the\n * // default zoom via this method, too:\n *\n * var zoomedAndScrolledViewbox = canvas.viewbox();\n *\n * canvas.viewbox({\n *   x: 0,\n *   y: 0,\n *   width: zoomedAndScrolledViewbox.outer.width,\n *   height: zoomedAndScrolledViewbox.outer.height\n * });\n *\n * @param  {Object} [box] the new view box to set\n * @param  {number} box.x the top left X coordinate of the canvas visible in view box\n * @param  {number} box.y the top left Y coordinate of the canvas visible in view box\n * @param  {number} box.width the visible width\n * @param  {number} box.height\n *\n * @return {Object} the current view box\n */\nCanvas.prototype.viewbox = function(box) {\n\n  if (box === undefined && this._cachedViewbox) {\n    return this._cachedViewbox;\n  }\n\n  var viewport = this._viewport,\n      innerBox,\n      outerBox = this.getSize(),\n      matrix,\n      transform,\n      scale,\n      x, y;\n\n  if (!box) {\n\n    // compute the inner box based on the\n    // diagrams default layer. This allows us to exclude\n    // external components, such as overlays\n    innerBox = this.getDefaultLayer().getBBox();\n\n    transform = svgTransform(viewport);\n    matrix = transform ? transform.matrix : createMatrix();\n    scale = round(matrix.a, 1000);\n\n    x = round(-matrix.e || 0, 1000);\n    y = round(-matrix.f || 0, 1000);\n\n    box = this._cachedViewbox = {\n      x: x ? x / scale : 0,\n      y: y ? y / scale : 0,\n      width: outerBox.width / scale,\n      height: outerBox.height / scale,\n      scale: scale,\n      inner: {\n        width: innerBox.width,\n        height: innerBox.height,\n        x: innerBox.x,\n        y: innerBox.y\n      },\n      outer: outerBox\n    };\n\n    return box;\n  } else {\n\n    this._changeViewbox(function() {\n      scale = Math.min(outerBox.width / box.width, outerBox.height / box.height);\n\n      var matrix = this._svg.createSVGMatrix()\n        .scale(scale)\n        .translate(-box.x, -box.y);\n\n      svgTransform(viewport, matrix);\n    });\n  }\n\n  return box;\n};\n\n\n/**\n * Gets or sets the scroll of the canvas.\n *\n * @param {Object} [delta] the new scroll to apply.\n *\n * @param {number} [delta.dx]\n * @param {number} [delta.dy]\n */\nCanvas.prototype.scroll = function(delta) {\n\n  var node = this._viewport;\n  var matrix = node.getCTM();\n\n  if (delta) {\n    this._changeViewbox(function() {\n      delta = assign({ dx: 0, dy: 0 }, delta || {});\n\n      matrix = this._svg.createSVGMatrix().translate(delta.dx, delta.dy).multiply(matrix);\n\n      setCTM(node, matrix);\n    });\n  }\n\n  return { x: matrix.e, y: matrix.f };\n};\n\n\n/**\n * Gets or sets the current zoom of the canvas, optionally zooming\n * to the specified position.\n *\n * The getter may return a cached zoom level. Call it with `false` as\n * the first argument to force recomputation of the current level.\n *\n * @param {string|number} [newScale] the new zoom level, either a number, i.e. 0.9,\n *                                   or `fit-viewport` to adjust the size to fit the current viewport\n * @param {string|Point} [center] the reference point { x: .., y: ..} to zoom to, 'auto' to zoom into mid or null\n *\n * @return {number} the current scale\n */\nCanvas.prototype.zoom = function(newScale, center) {\n\n  if (!newScale) {\n    return this.viewbox(newScale).scale;\n  }\n\n  if (newScale === 'fit-viewport') {\n    return this._fitViewport(center);\n  }\n\n  var outer,\n      matrix;\n\n  this._changeViewbox(function() {\n\n    if (typeof center !== 'object') {\n      outer = this.viewbox().outer;\n\n      center = {\n        x: outer.width / 2,\n        y: outer.height / 2\n      };\n    }\n\n    matrix = this._setZoom(newScale, center);\n  });\n\n  return round(matrix.a, 1000);\n};\n\nfunction setCTM(node, m) {\n  var mstr = 'matrix(' + m.a + ',' + m.b + ',' + m.c + ',' + m.d + ',' + m.e + ',' + m.f + ')';\n  node.setAttribute('transform', mstr);\n}\n\nCanvas.prototype._fitViewport = function(center) {\n\n  var vbox = this.viewbox(),\n      outer = vbox.outer,\n      inner = vbox.inner,\n      newScale,\n      newViewbox;\n\n  // display the complete diagram without zooming in.\n  // instead of relying on internal zoom, we perform a\n  // hard reset on the canvas viewbox to realize this\n  //\n  // if diagram does not need to be zoomed in, we focus it around\n  // the diagram origin instead\n\n  if (inner.x >= 0 &&\n      inner.y >= 0 &&\n      inner.x + inner.width <= outer.width &&\n      inner.y + inner.height <= outer.height &&\n      !center) {\n\n    newViewbox = {\n      x: 0,\n      y: 0,\n      width: Math.max(inner.width + inner.x, outer.width),\n      height: Math.max(inner.height + inner.y, outer.height)\n    };\n  } else {\n\n    newScale = Math.min(1, outer.width / inner.width, outer.height / inner.height);\n    newViewbox = {\n      x: inner.x + (center ? inner.width / 2 - outer.width / newScale / 2 : 0),\n      y: inner.y + (center ? inner.height / 2 - outer.height / newScale / 2 : 0),\n      width: outer.width / newScale,\n      height: outer.height / newScale\n    };\n  }\n\n  this.viewbox(newViewbox);\n\n  return this.viewbox(false).scale;\n};\n\n\nCanvas.prototype._setZoom = function(scale, center) {\n\n  var svg = this._svg,\n      viewport = this._viewport;\n\n  var matrix = svg.createSVGMatrix();\n  var point = svg.createSVGPoint();\n\n  var centerPoint,\n      originalPoint,\n      currentMatrix,\n      scaleMatrix,\n      newMatrix;\n\n  currentMatrix = viewport.getCTM();\n\n  var currentScale = currentMatrix.a;\n\n  if (center) {\n    centerPoint = assign(point, center);\n\n    // revert applied viewport transformations\n    originalPoint = centerPoint.matrixTransform(currentMatrix.inverse());\n\n    // create scale matrix\n    scaleMatrix = matrix\n      .translate(originalPoint.x, originalPoint.y)\n      .scale(1 / currentScale * scale)\n      .translate(-originalPoint.x, -originalPoint.y);\n\n    newMatrix = currentMatrix.multiply(scaleMatrix);\n  } else {\n    newMatrix = matrix.scale(scale);\n  }\n\n  setCTM(this._viewport, newMatrix);\n\n  return newMatrix;\n};\n\n\n/**\n * Returns the size of the canvas\n *\n * @return {Dimensions}\n */\nCanvas.prototype.getSize = function() {\n  return {\n    width: this._container.clientWidth,\n    height: this._container.clientHeight\n  };\n};\n\n\n/**\n * Return the absolute bounding box for the given element\n *\n * The absolute bounding box may be used to display overlays in the\n * callers (browser) coordinate system rather than the zoomed in/out\n * canvas coordinates.\n *\n * @param  {ElementDescriptor} element\n * @return {Bounds} the absolute bounding box\n */\nCanvas.prototype.getAbsoluteBBox = function(element) {\n  var vbox = this.viewbox();\n  var bbox;\n\n  // connection\n  // use svg bbox\n  if (element.waypoints) {\n    var gfx = this.getGraphics(element);\n\n    bbox = gfx.getBBox();\n  }\n\n  // shapes\n  // use data\n  else {\n    bbox = element;\n  }\n\n  var x = bbox.x * vbox.scale - vbox.x * vbox.scale;\n  var y = bbox.y * vbox.scale - vbox.y * vbox.scale;\n\n  var width = bbox.width * vbox.scale;\n  var height = bbox.height * vbox.scale;\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n};\n\n/**\n * Fires an event in order other modules can react to the\n * canvas resizing\n */\nCanvas.prototype.resized = function() {\n\n  // force recomputation of view box\n  delete this._cachedViewbox;\n\n  this._eventBus.fire('canvas.resized');\n};\n","var ELEMENT_ID = 'data-element-id';\n\nimport { attr as svgAttr } from 'tiny-svg';\n\n\n/**\n * @class\n *\n * A registry that keeps track of all shapes in the diagram.\n */\nexport default function ElementRegistry(eventBus) {\n  this._elements = {};\n\n  this._eventBus = eventBus;\n}\n\nElementRegistry.$inject = [ 'eventBus' ];\n\n/**\n * Register a pair of (element, gfx, (secondaryGfx)).\n *\n * @param {djs.model.Base} element\n * @param {SVGElement} gfx\n * @param {SVGElement} [secondaryGfx] optional other element to register, too\n */\nElementRegistry.prototype.add = function(element, gfx, secondaryGfx) {\n\n  var id = element.id;\n\n  this._validateId(id);\n\n  // associate dom node with element\n  svgAttr(gfx, ELEMENT_ID, id);\n\n  if (secondaryGfx) {\n    svgAttr(secondaryGfx, ELEMENT_ID, id);\n  }\n\n  this._elements[id] = { element: element, gfx: gfx, secondaryGfx: secondaryGfx };\n};\n\n/**\n * Removes an element from the registry.\n *\n * @param {djs.model.Base} element\n */\nElementRegistry.prototype.remove = function(element) {\n  var elements = this._elements,\n      id = element.id || element,\n      container = id && elements[id];\n\n  if (container) {\n\n    // unset element id on gfx\n    svgAttr(container.gfx, ELEMENT_ID, '');\n\n    if (container.secondaryGfx) {\n      svgAttr(container.secondaryGfx, ELEMENT_ID, '');\n    }\n\n    delete elements[id];\n  }\n};\n\n/**\n * Update the id of an element\n *\n * @param {djs.model.Base} element\n * @param {string} newId\n */\nElementRegistry.prototype.updateId = function(element, newId) {\n\n  this._validateId(newId);\n\n  if (typeof element === 'string') {\n    element = this.get(element);\n  }\n\n  this._eventBus.fire('element.updateId', {\n    element: element,\n    newId: newId\n  });\n\n  var gfx = this.getGraphics(element),\n      secondaryGfx = this.getGraphics(element, true);\n\n  this.remove(element);\n\n  element.id = newId;\n\n  this.add(element, gfx, secondaryGfx);\n};\n\n/**\n * Return the model element for a given id or graphics.\n *\n * @example\n *\n * elementRegistry.get('SomeElementId_1');\n * elementRegistry.get(gfx);\n *\n *\n * @param {string|SVGElement} filter for selecting the element\n *\n * @return {djs.model.Base}\n */\nElementRegistry.prototype.get = function(filter) {\n  var id;\n\n  if (typeof filter === 'string') {\n    id = filter;\n  } else {\n    id = filter && svgAttr(filter, ELEMENT_ID);\n  }\n\n  var container = this._elements[id];\n  return container && container.element;\n};\n\n/**\n * Return all elements that match a given filter function.\n *\n * @param {Function} fn\n *\n * @return {Array<djs.model.Base>}\n */\nElementRegistry.prototype.filter = function(fn) {\n\n  var filtered = [];\n\n  this.forEach(function(element, gfx) {\n    if (fn(element, gfx)) {\n      filtered.push(element);\n    }\n  });\n\n  return filtered;\n};\n\n/**\n * Return the first element that satisfies the provided testing function.\n *\n * @param {Function} fn\n *\n * @return {djs.model.Base}\n */\nElementRegistry.prototype.find = function(fn) {\n  var map = this._elements,\n      keys = Object.keys(map);\n\n  for (var i = 0; i < keys.length; i++) {\n    var id = keys[i],\n        container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    if (fn(element, gfx)) {\n      return element;\n    }\n  }\n};\n\n/**\n * Return all rendered model elements.\n *\n * @return {Array<djs.model.Base>}\n */\nElementRegistry.prototype.getAll = function() {\n  return this.filter(function(e) { return e; });\n};\n\n/**\n * Iterate over all diagram elements.\n *\n * @param {Function} fn\n */\nElementRegistry.prototype.forEach = function(fn) {\n\n  var map = this._elements;\n\n  Object.keys(map).forEach(function(id) {\n    var container = map[id],\n        element = container.element,\n        gfx = container.gfx;\n\n    return fn(element, gfx);\n  });\n};\n\n/**\n * Return the graphical representation of an element or its id.\n *\n * @example\n * elementRegistry.getGraphics('SomeElementId_1');\n * elementRegistry.getGraphics(rootElement); // <g ...>\n *\n * elementRegistry.getGraphics(rootElement, true); // <svg ...>\n *\n *\n * @param {string|djs.model.Base} filter\n * @param {boolean} [secondary=false] whether to return the secondary connected element\n *\n * @return {SVGElement}\n */\nElementRegistry.prototype.getGraphics = function(filter, secondary) {\n  var id = filter.id || filter;\n\n  var container = this._elements[id];\n  return container && (secondary ? container.secondaryGfx : container.gfx);\n};\n\n/**\n * Validate the suitability of the given id and signals a problem\n * with an exception.\n *\n * @param {string} id\n *\n * @throws {Error} if id is empty or already assigned\n */\nElementRegistry.prototype._validateId = function(id) {\n  if (!id) {\n    throw new Error('element must have an id');\n  }\n\n  if (this._elements[id]) {\n    throw new Error('element with id ' + id + ' already added');\n  }\n};\n","'use strict';\n\n/**\n * An empty collection stub. Use {@link RefsCollection.extend} to extend a\n * collection with ref semantics.\n *\n * @class RefsCollection\n */\n\n/**\n * Extends a collection with {@link Refs} aware methods\n *\n * @memberof RefsCollection\n * @static\n *\n * @param  {Array<Object>} collection\n * @param  {Refs} refs instance\n * @param  {Object} property represented by the collection\n * @param  {Object} target object the collection is attached to\n *\n * @return {RefsCollection<Object>} the extended array\n */\nfunction extend(collection, refs, property, target) {\n\n  var inverseProperty = property.inverse;\n\n  /**\n   * Removes the given element from the array and returns it.\n   *\n   * @method RefsCollection#remove\n   *\n   * @param {Object} element the element to remove\n   */\n  Object.defineProperty(collection, 'remove', {\n    value: function(element) {\n      var idx = this.indexOf(element);\n      if (idx !== -1) {\n        this.splice(idx, 1);\n\n        // unset inverse\n        refs.unset(element, inverseProperty, target);\n      }\n\n      return element;\n    }\n  });\n\n  /**\n   * Returns true if the collection contains the given element\n   *\n   * @method RefsCollection#contains\n   *\n   * @param {Object} element the element to check for\n   */\n  Object.defineProperty(collection, 'contains', {\n    value: function(element) {\n      return this.indexOf(element) !== -1;\n    }\n  });\n\n  /**\n   * Adds an element to the array, unless it exists already (set semantics).\n   *\n   * @method RefsCollection#add\n   *\n   * @param {Object} element the element to add\n   * @param {Number} optional index to add element to\n   *                 (possibly moving other elements around)\n   */\n  Object.defineProperty(collection, 'add', {\n    value: function(element, idx) {\n\n      var currentIdx = this.indexOf(element);\n\n      if (typeof idx === 'undefined') {\n\n        if (currentIdx !== -1) {\n          // element already in collection (!)\n          return;\n        }\n\n        // add to end of array, as no idx is specified\n        idx = this.length;\n      }\n\n      // handle already in collection\n      if (currentIdx !== -1) {\n\n        // remove element from currentIdx\n        this.splice(currentIdx, 1);\n      }\n\n      // add element at idx\n      this.splice(idx, 0, element);\n\n      if (currentIdx === -1) {\n        // set inverse, unless element was\n        // in collection already\n        refs.set(element, inverseProperty, target);\n      }\n    }\n  });\n\n  // a simple marker, identifying this element\n  // as being a refs collection\n  Object.defineProperty(collection, '__refs_collection', {\n    value: true\n  });\n\n  return collection;\n}\n\n\nfunction isExtended(collection) {\n  return collection.__refs_collection === true;\n}\n\nmodule.exports.extend = extend;\n\nmodule.exports.isExtended = isExtended;","'use strict';\n\nvar Collection = require('./collection');\n\nfunction hasOwnProperty(e, property) {\n  return Object.prototype.hasOwnProperty.call(e, property.name || property);\n}\n\nfunction defineCollectionProperty(ref, property, target) {\n\n  var collection = Collection.extend(target[property.name] || [], ref, property, target);\n\n  Object.defineProperty(target, property.name, {\n    enumerable: property.enumerable,\n    value: collection\n  });\n\n  if (collection.length) {\n\n    collection.forEach(function(o) {\n      ref.set(o, property.inverse, target);\n    });\n  }\n}\n\n\nfunction defineProperty(ref, property, target) {\n\n  var inverseProperty = property.inverse;\n\n  var _value = target[property.name];\n\n  Object.defineProperty(target, property.name, {\n    configurable: property.configurable,\n    enumerable: property.enumerable,\n\n    get: function() {\n      return _value;\n    },\n\n    set: function(value) {\n\n      // return if we already performed all changes\n      if (value === _value) {\n        return;\n      }\n\n      var old = _value;\n\n      // temporary set null\n      _value = null;\n\n      if (old) {\n        ref.unset(old, inverseProperty, target);\n      }\n\n      // set new value\n      _value = value;\n\n      // set inverse value\n      ref.set(_value, inverseProperty, target);\n    }\n  });\n\n}\n\n/**\n * Creates a new references object defining two inversly related\n * attribute descriptors a and b.\n *\n * <p>\n *   When bound to an object using {@link Refs#bind} the references\n *   get activated and ensure that add and remove operations are applied\n *   reversely, too.\n * </p>\n *\n * <p>\n *   For attributes represented as collections {@link Refs} provides the\n *   {@link RefsCollection#add}, {@link RefsCollection#remove} and {@link RefsCollection#contains} extensions\n *   that must be used to properly hook into the inverse change mechanism.\n * </p>\n *\n * @class Refs\n *\n * @classdesc A bi-directional reference between two attributes.\n *\n * @param {Refs.AttributeDescriptor} a property descriptor\n * @param {Refs.AttributeDescriptor} b property descriptor\n *\n * @example\n *\n * var refs = Refs({ name: 'wheels', collection: true, enumerable: true }, { name: 'car' });\n *\n * var car = { name: 'toyota' };\n * var wheels = [{ pos: 'front-left' }, { pos: 'front-right' }];\n *\n * refs.bind(car, 'wheels');\n *\n * car.wheels // []\n * car.wheels.add(wheels[0]);\n * car.wheels.add(wheels[1]);\n *\n * car.wheels // [{ pos: 'front-left' }, { pos: 'front-right' }]\n *\n * wheels[0].car // { name: 'toyota' };\n * car.wheels.remove(wheels[0]);\n *\n * wheels[0].car // undefined\n */\nfunction Refs(a, b) {\n\n  if (!(this instanceof Refs)) {\n    return new Refs(a, b);\n  }\n\n  // link\n  a.inverse = b;\n  b.inverse = a;\n\n  this.props = {};\n  this.props[a.name] = a;\n  this.props[b.name] = b;\n}\n\n/**\n * Binds one side of a bi-directional reference to a\n * target object.\n *\n * @memberOf Refs\n *\n * @param  {Object} target\n * @param  {String} property\n */\nRefs.prototype.bind = function(target, property) {\n  if (typeof property === 'string') {\n    if (!this.props[property]) {\n      throw new Error('no property <' + property + '> in ref');\n    }\n    property = this.props[property];\n  }\n\n  if (property.collection) {\n    defineCollectionProperty(this, property, target);\n  } else {\n    defineProperty(this, property, target);\n  }\n};\n\nRefs.prototype.ensureRefsCollection = function(target, property) {\n\n  var collection = target[property.name];\n\n  if (!Collection.isExtended(collection)) {\n    defineCollectionProperty(this, property, target);\n  }\n\n  return collection;\n};\n\nRefs.prototype.ensureBound = function(target, property) {\n  if (!hasOwnProperty(target, property)) {\n    this.bind(target, property);\n  }\n};\n\nRefs.prototype.unset = function(target, property, value) {\n\n  if (target) {\n    this.ensureBound(target, property);\n\n    if (property.collection) {\n      this.ensureRefsCollection(target, property).remove(value);\n    } else {\n      target[property.name] = undefined;\n    }\n  }\n};\n\nRefs.prototype.set = function(target, property, value) {\n\n  if (target) {\n    this.ensureBound(target, property);\n\n    if (property.collection) {\n      this.ensureRefsCollection(target, property).add(value);\n    } else {\n      target[property.name] = value;\n    }\n  }\n};\n\nmodule.exports = Refs;\n\n\n/**\n * An attribute descriptor to be used specify an attribute in a {@link Refs} instance\n *\n * @typedef {Object} Refs.AttributeDescriptor\n * @property {String} name\n * @property {boolean} [collection=false]\n * @property {boolean} [enumerable=false]\n */","module.exports = require('./lib/refs');\n\nmodule.exports.Collection = require('./lib/collection');","import { assign } from 'min-dash';\nimport inherits from 'inherits';\n\nimport Refs from 'object-refs';\n\nvar parentRefs = new Refs({ name: 'children', enumerable: true, collection: true }, { name: 'parent' }),\n    labelRefs = new Refs({ name: 'labels', enumerable: true, collection: true }, { name: 'labelTarget' }),\n    attacherRefs = new Refs({ name: 'attachers', collection: true }, { name: 'host' }),\n    outgoingRefs = new Refs({ name: 'outgoing', collection: true }, { name: 'source' }),\n    incomingRefs = new Refs({ name: 'incoming', collection: true }, { name: 'target' });\n\n/**\n * @namespace djs.model\n */\n\n/**\n * @memberOf djs.model\n */\n\n/**\n * The basic graphical representation\n *\n * @class\n *\n * @abstract\n */\nexport function Base() {\n\n  /**\n   * The object that backs up the shape\n   *\n   * @name Base#businessObject\n   * @type Object\n   */\n  Object.defineProperty(this, 'businessObject', {\n    writable: true\n  });\n\n\n  /**\n   * Single label support, will mapped to multi label array\n   *\n   * @name Base#label\n   * @type Object\n   */\n  Object.defineProperty(this, 'label', {\n    get: function() {\n      return this.labels[0];\n    },\n    set: function(newLabel) {\n\n      var label = this.label,\n          labels = this.labels;\n\n      if (!newLabel && label) {\n        labels.remove(label);\n      } else {\n        labels.add(newLabel, 0);\n      }\n    }\n  });\n\n  /**\n   * The parent shape\n   *\n   * @name Base#parent\n   * @type Shape\n   */\n  parentRefs.bind(this, 'parent');\n\n  /**\n   * The list of labels\n   *\n   * @name Base#labels\n   * @type Label\n   */\n  labelRefs.bind(this, 'labels');\n\n  /**\n   * The list of outgoing connections\n   *\n   * @name Base#outgoing\n   * @type Array<Connection>\n   */\n  outgoingRefs.bind(this, 'outgoing');\n\n  /**\n   * The list of incoming connections\n   *\n   * @name Base#incoming\n   * @type Array<Connection>\n   */\n  incomingRefs.bind(this, 'incoming');\n}\n\n\n/**\n * A graphical object\n *\n * @class\n * @constructor\n *\n * @extends Base\n */\nexport function Shape() {\n  Base.call(this);\n\n  /**\n   * Indicates frame shapes\n   *\n   * @name Shape#isFrame\n   * @type boolean\n   */\n\n  /**\n   * The list of children\n   *\n   * @name Shape#children\n   * @type Array<Base>\n   */\n  parentRefs.bind(this, 'children');\n\n  /**\n   * @name Shape#host\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'host');\n\n  /**\n   * @name Shape#attachers\n   * @type Shape\n   */\n  attacherRefs.bind(this, 'attachers');\n}\n\ninherits(Shape, Base);\n\n\n/**\n * A root graphical object\n *\n * @class\n * @constructor\n *\n * @extends Shape\n */\nexport function Root() {\n  Shape.call(this);\n}\n\ninherits(Root, Shape);\n\n\n/**\n * A label for an element\n *\n * @class\n * @constructor\n *\n * @extends Shape\n */\nexport function Label() {\n  Shape.call(this);\n\n  /**\n   * The labeled element\n   *\n   * @name Label#labelTarget\n   * @type Base\n   */\n  labelRefs.bind(this, 'labelTarget');\n}\n\ninherits(Label, Shape);\n\n\n/**\n * A connection between two elements\n *\n * @class\n * @constructor\n *\n * @extends Base\n */\nexport function Connection() {\n  Base.call(this);\n\n  /**\n   * The element this connection originates from\n   *\n   * @name Connection#source\n   * @type Base\n   */\n  outgoingRefs.bind(this, 'source');\n\n  /**\n   * The element this connection points to\n   *\n   * @name Connection#target\n   * @type Base\n   */\n  incomingRefs.bind(this, 'target');\n}\n\ninherits(Connection, Base);\n\n\nvar types = {\n  connection: Connection,\n  shape: Shape,\n  label: Label,\n  root: Root\n};\n\n/**\n * Creates a new model element of the specified type\n *\n * @method create\n *\n * @example\n *\n * var shape1 = Model.create('shape', { x: 10, y: 10, width: 100, height: 100 });\n * var shape2 = Model.create('shape', { x: 210, y: 210, width: 100, height: 100 });\n *\n * var connection = Model.create('connection', { waypoints: [ { x: 110, y: 55 }, {x: 210, y: 55 } ] });\n *\n * @param  {string} type lower-cased model name\n * @param  {Object} attrs attributes to initialize the new model instance with\n *\n * @return {Base} the new model instance\n */\nexport function create(type, attrs) {\n  var Type = types[type];\n  if (!Type) {\n    throw new Error('unknown type: <' + type + '>');\n  }\n  return assign(new Type(), attrs);\n}","import {\n  create\n} from '../model';\n\nimport { assign } from 'min-dash';\n\n/**\n * A factory for diagram-js shapes\n */\nexport default function ElementFactory() {\n  this._uid = 12;\n}\n\n\nElementFactory.prototype.createRoot = function(attrs) {\n  return this.create('root', attrs);\n};\n\nElementFactory.prototype.createLabel = function(attrs) {\n  return this.create('label', attrs);\n};\n\nElementFactory.prototype.createShape = function(attrs) {\n  return this.create('shape', attrs);\n};\n\nElementFactory.prototype.createConnection = function(attrs) {\n  return this.create('connection', attrs);\n};\n\n/**\n * Create a model element with the given type and\n * a number of pre-set attributes.\n *\n * @param  {string} type\n * @param  {Object} attrs\n * @return {djs.model.Base} the newly created model instance\n */\nElementFactory.prototype.create = function(type, attrs) {\n\n  attrs = assign({}, attrs || {});\n\n  if (!attrs.id) {\n    attrs.id = type + '_' + (this._uid++);\n  }\n\n  return create(type, attrs);\n};","/**\n * SVGs for elements are generated by the {@link GraphicsFactory}.\n *\n * This utility gives quick access to the important semantic\n * parts of an element.\n */\n\n/**\n * Returns the visual part of a diagram element\n *\n * @param {Snap<SVGElement>} gfx\n *\n * @return {Snap<SVGElement>}\n */\nexport function getVisual(gfx) {\n  return gfx.childNodes[0];\n}\n\n/**\n * Returns the children for a given diagram element.\n *\n * @param {Snap<SVGElement>} gfx\n * @return {Snap<SVGElement>}\n */\nexport function getChildren(gfx) {\n  return gfx.parentNode.childNodes[1];\n}","import {\r\n  transform as svgTransform,\r\n  createTransform\r\n} from 'tiny-svg';\r\n\r\n\r\n/**\r\n * @param {<SVGElement>} element\r\n * @param {number} x\r\n * @param {number} y\r\n * @param {number} angle\r\n * @param {number} amount\r\n */\r\nexport function transform(gfx, x, y, angle, amount) {\r\n  var translate = createTransform();\r\n  translate.setTranslate(x, y);\r\n\r\n  var rotate = createTransform();\r\n  rotate.setRotate(angle || 0, 0, 0);\r\n\r\n  var scale = createTransform();\r\n  scale.setScale(amount || 1, amount || 1);\r\n\r\n  svgTransform(gfx, [ translate, rotate, scale ]);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} element\r\n * @param {number} x\r\n * @param {number} y\r\n */\r\nexport function translate(gfx, x, y) {\r\n  var translate = createTransform();\r\n  translate.setTranslate(x, y);\r\n\r\n  svgTransform(gfx, translate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} element\r\n * @param {number} angle\r\n */\r\nexport function rotate(gfx, angle) {\r\n  var rotate = createTransform();\r\n  rotate.setRotate(angle, 0, 0);\r\n\r\n  svgTransform(gfx, rotate);\r\n}\r\n\r\n\r\n/**\r\n * @param {SVGElement} element\r\n * @param {number} amount\r\n */\r\nexport function scale(gfx, amount) {\r\n  var scale = createTransform();\r\n  scale.setScale(amount, amount);\r\n\r\n  svgTransform(gfx, scale);\r\n}","import {\n  forEach,\n  reduce\n} from 'min-dash';\n\nimport {\n  getChildren,\n  getVisual\n} from '../util/GraphicsUtil';\n\nimport { translate } from '../util/SvgTransformUtil';\n\nimport { clear as domClear } from 'min-dom';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  isFrameElement\n} from '../util/Elements';\n\n/**\n * A factory that creates graphical elements\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n */\nexport default function GraphicsFactory(eventBus, elementRegistry) {\n  this._eventBus = eventBus;\n  this._elementRegistry = elementRegistry;\n}\n\nGraphicsFactory.$inject = [ 'eventBus' , 'elementRegistry' ];\n\n\nGraphicsFactory.prototype._getChildrenContainer = function(element) {\n\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  var childrenGfx;\n\n  // root element\n  if (!element.parent) {\n    childrenGfx = gfx;\n  } else {\n    childrenGfx = getChildren(gfx);\n    if (!childrenGfx) {\n      childrenGfx = svgCreate('g');\n      svgClasses(childrenGfx).add('djs-children');\n\n      svgAppend(gfx.parentNode, childrenGfx);\n    }\n  }\n\n  return childrenGfx;\n};\n\n/**\n * Clears the graphical representation of the element and returns the\n * cleared visual (the <g class=\"djs-visual\" /> element).\n */\nGraphicsFactory.prototype._clear = function(gfx) {\n  var visual = getVisual(gfx);\n\n  domClear(visual);\n\n  return visual;\n};\n\n/**\n * Creates a gfx container for shapes and connections\n *\n * The layout is as follows:\n *\n * <g class=\"djs-group\">\n *\n *   <!-- the gfx -->\n *   <g class=\"djs-element djs-(shape|connection|frame)\">\n *     <g class=\"djs-visual\">\n *       <!-- the renderer draws in here -->\n *     </g>\n *\n *     <!-- extensions (overlays, click box, ...) goes here\n *   </g>\n *\n *   <!-- the gfx child nodes -->\n *   <g class=\"djs-children\"></g>\n * </g>\n *\n * @param {string} type the type of the element, i.e. shape | connection\n * @param {SVGElement} [childrenGfx]\n * @param {number} [parentIndex] position to create container in parent\n * @param {boolean} [isFrame] is frame element\n *\n * @return {SVGElement}\n */\nGraphicsFactory.prototype._createContainer = function(\n    type, childrenGfx, parentIndex, isFrame\n) {\n  var outerGfx = svgCreate('g');\n  svgClasses(outerGfx).add('djs-group');\n\n  // insert node at position\n  if (typeof parentIndex !== 'undefined') {\n    prependTo(outerGfx, childrenGfx, childrenGfx.childNodes[parentIndex]);\n  } else {\n    svgAppend(childrenGfx, outerGfx);\n  }\n\n  var gfx = svgCreate('g');\n  svgClasses(gfx).add('djs-element');\n  svgClasses(gfx).add('djs-' + type);\n\n  if (isFrame) {\n    svgClasses(gfx).add('djs-frame');\n  }\n\n  svgAppend(outerGfx, gfx);\n\n  // create visual\n  var visual = svgCreate('g');\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(gfx, visual);\n\n  return gfx;\n};\n\nGraphicsFactory.prototype.create = function(type, element, parentIndex) {\n  var childrenGfx = this._getChildrenContainer(element.parent);\n  return this._createContainer(type, childrenGfx, parentIndex, isFrameElement(element));\n};\n\nGraphicsFactory.prototype.updateContainments = function(elements) {\n\n  var self = this,\n      elementRegistry = this._elementRegistry,\n      parents;\n\n  parents = reduce(elements, function(map, e) {\n\n    if (e.parent) {\n      map[e.parent.id] = e.parent;\n    }\n\n    return map;\n  }, {});\n\n  // update all parents of changed and reorganized their children\n  // in the correct order (as indicated in our model)\n  forEach(parents, function(parent) {\n\n    var children = parent.children;\n\n    if (!children) {\n      return;\n    }\n\n    var childrenGfx = self._getChildrenContainer(parent);\n\n    forEach(children.slice().reverse(), function(child) {\n      var childGfx = elementRegistry.getGraphics(child);\n\n      prependTo(childGfx.parentNode, childrenGfx);\n    });\n  });\n};\n\nGraphicsFactory.prototype.drawShape = function(visual, element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.shape', { gfx: visual, element: element });\n};\n\nGraphicsFactory.prototype.getShapePath = function(element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getShapePath', element);\n};\n\nGraphicsFactory.prototype.drawConnection = function(visual, element) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.connection', { gfx: visual, element: element });\n};\n\nGraphicsFactory.prototype.getConnectionPath = function(waypoints) {\n  var eventBus = this._eventBus;\n\n  return eventBus.fire('render.getConnectionPath', waypoints);\n};\n\nGraphicsFactory.prototype.update = function(type, element, gfx) {\n\n  // do NOT update root element\n  if (!element.parent) {\n    return;\n  }\n\n  var visual = this._clear(gfx);\n\n  // redraw\n  if (type === 'shape') {\n    this.drawShape(visual, element);\n\n    // update positioning\n    translate(gfx, element.x, element.y);\n  } else\n  if (type === 'connection') {\n    this.drawConnection(visual, element);\n  } else {\n    throw new Error('unknown type: ' + type);\n  }\n\n  if (element.hidden) {\n    svgAttr(gfx, 'display', 'none');\n  } else {\n    svgAttr(gfx, 'display', 'block');\n  }\n};\n\nGraphicsFactory.prototype.remove = function(element) {\n  var gfx = this._elementRegistry.getGraphics(element);\n\n  // remove\n  svgRemove(gfx.parentNode);\n};\n\n\n// helpers //////////\n\nfunction prependTo(newNode, parentNode, siblingNode) {\n  var node = siblingNode || parentNode.firstChild;\n\n  // do not prepend node to itself to prevent IE from crashing\n  // https://github.com/bpmn-io/bpmn-js/issues/746\n  if (newNode === node) {\n    return;\n  }\n\n  parentNode.insertBefore(newNode, node);\n}\n","import DrawModule from '../draw';\n\nimport Canvas from './Canvas';\nimport ElementRegistry from './ElementRegistry';\nimport ElementFactory from './ElementFactory';\nimport EventBus from './EventBus';\nimport GraphicsFactory from './GraphicsFactory';\n\nexport default {\n  __depends__: [ DrawModule ],\n  __init__: [ 'canvas' ],\n  canvas: [ 'type', Canvas ],\n  elementRegistry: [ 'type', ElementRegistry ],\n  elementFactory: [ 'type', ElementFactory ],\n  eventBus: [ 'type', EventBus ],\n  graphicsFactory: [ 'type', GraphicsFactory ]\n};","import { Injector } from 'didi';\n\nimport CoreModule from './core';\n\n\n/**\n * Bootstrap an injector from a list of modules, instantiating a number of default components\n *\n * @ignore\n * @param {Array<didi.Module>} bootstrapModules\n *\n * @return {didi.Injector} a injector to use to access the components\n */\nfunction bootstrap(bootstrapModules) {\n\n  var modules = [],\n      components = [];\n\n  function hasModule(m) {\n    return modules.indexOf(m) >= 0;\n  }\n\n  function addModule(m) {\n    modules.push(m);\n  }\n\n  function visit(m) {\n    if (hasModule(m)) {\n      return;\n    }\n\n    (m.__depends__ || []).forEach(visit);\n\n    if (hasModule(m)) {\n      return;\n    }\n\n    addModule(m);\n\n    (m.__init__ || []).forEach(function(c) {\n      components.push(c);\n    });\n  }\n\n  bootstrapModules.forEach(visit);\n\n  var injector = new Injector(modules);\n\n  components.forEach(function(c) {\n\n    try {\n\n      // eagerly resolve component (fn or string)\n      injector[typeof c === 'string' ? 'get' : 'invoke'](c);\n    } catch (e) {\n      console.error('Failed to instantiate component');\n      console.error(e.stack);\n\n      throw e;\n    }\n  });\n\n  return injector;\n}\n\n/**\n * Creates an injector from passed options.\n *\n * @ignore\n * @param  {Object} options\n * @return {didi.Injector}\n */\nfunction createInjector(options) {\n\n  options = options || {};\n\n  var configModule = {\n    'config': ['value', options]\n  };\n\n  var modules = [ configModule, CoreModule ].concat(options.modules || []);\n\n  return bootstrap(modules);\n}\n\n\n/**\n * The main diagram-js entry point that bootstraps the diagram with the given\n * configuration.\n *\n * To register extensions with the diagram, pass them as Array<didi.Module> to the constructor.\n *\n * @class djs.Diagram\n * @memberOf djs\n * @constructor\n *\n * @example\n *\n * <caption>Creating a plug-in that logs whenever a shape is added to the canvas.</caption>\n *\n * // plug-in implemenentation\n * function MyLoggingPlugin(eventBus) {\n *   eventBus.on('shape.added', function(event) {\n *     console.log('shape ', event.shape, ' was added to the diagram');\n *   });\n * }\n *\n * // export as module\n * export default {\n *   __init__: [ 'myLoggingPlugin' ],\n *     myLoggingPlugin: [ 'type', MyLoggingPlugin ]\n * };\n *\n *\n * // instantiate the diagram with the new plug-in\n *\n * import MyLoggingModule from 'path-to-my-logging-plugin';\n *\n * var diagram = new Diagram({\n *   modules: [\n *     MyLoggingModule\n *   ]\n * });\n *\n * diagram.invoke([ 'canvas', function(canvas) {\n *   // add shape to drawing canvas\n *   canvas.addShape({ x: 10, y: 10 });\n * });\n *\n * // 'shape ... was added to the diagram' logged to console\n *\n * @param {Object} options\n * @param {Array<didi.Module>} [options.modules] external modules to instantiate with the diagram\n * @param {didi.Injector} [injector] an (optional) injector to bootstrap the diagram with\n */\nexport default function Diagram(options, injector) {\n\n  // create injector unless explicitly specified\n  this.injector = injector = injector || createInjector(options);\n\n  // API\n\n  /**\n   * Resolves a diagram service\n   *\n   * @method Diagram#get\n   *\n   * @param {string} name the name of the diagram service to be retrieved\n   * @param {boolean} [strict=true] if false, resolve missing services to null\n   */\n  this.get = injector.get;\n\n  /**\n   * Executes a function into which diagram services are injected\n   *\n   * @method Diagram#invoke\n   *\n   * @param {Function|Object[]} fn the function to resolve\n   * @param {Object} locals a number of locals to use to resolve certain dependencies\n   */\n  this.invoke = injector.invoke;\n\n  // init\n\n  // indicate via event\n\n\n  /**\n   * An event indicating that all plug-ins are loaded.\n   *\n   * Use this event to fire other events to interested plug-ins\n   *\n   * @memberOf Diagram\n   *\n   * @event diagram.init\n   *\n   * @example\n   *\n   * eventBus.on('diagram.init', function() {\n   *   eventBus.fire('my-custom-event', { foo: 'BAR' });\n   * });\n   *\n   * @type {Object}\n   */\n  this.get('eventBus').fire('diagram.init');\n}\n\n\n/**\n * Destroys the diagram\n *\n * @method  Diagram#destroy\n */\nDiagram.prototype.destroy = function() {\n  this.get('eventBus').fire('diagram.destroy');\n};\n\n/**\n * Clear the diagram, removing all contents.\n */\nDiagram.prototype.clear = function() {\n  this.get('eventBus').fire('diagram.clear');\n};\n","export { default } from './lib/Diagram';","import {\n  forEach\n} from 'min-dash';\n\nimport Refs from 'object-refs';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nvar diRefs = new Refs(\n  { name: 'dmnElementRef', enumerable: true },\n  { name: 'di', configurable: true }\n);\n\nexport default function DRDTreeWalker(handler, options) {\n\n  // list of elements to handle deferred to ensure\n  // prerequisites are drawn\n  var deferred = [];\n\n  function visit(element) {\n\n    var gfx = element.gfx;\n\n    // avoid multiple rendering of elements\n    if (gfx) {\n      throw new Error('already rendered ' + element.id);\n    }\n\n    // call handler\n    return handler.element(element);\n  }\n\n  function visitRoot(element) {\n    return handler.root(element);\n  }\n\n  function visitIfDi(element) {\n\n    try {\n      var gfx = element.di && visit(element);\n\n      return gfx;\n    } catch (e) {\n      logError(e.message, { element: element, error: e });\n    }\n  }\n\n\n  // Semantic handling //////////////////////\n\n  /**\n   * Handle definitions and return the rendered diagram (if any)\n   *\n   * @param {ModdleElement} definitions to walk and import\n   * @param {ModdleElement} [diagram] specific diagram to import and display\n   *\n   * @throws {Error} if no diagram to display could be found\n   */\n  function handleDefinitions(definitions, diagram) {\n\n    // make sure we walk the correct dmnElement\n    var dmnDI = definitions.dmnDI;\n\n    if (!dmnDI) {\n      throw new Error('no dmndi:DMNDI');\n    }\n\n    var diagrams = dmnDI.diagrams || [];\n\n    if (diagram && diagrams.indexOf(diagram) === -1) {\n      throw new Error('diagram not part of dmndi:DMNDI');\n    }\n\n    if (!diagram && diagrams && diagrams.length) {\n      diagram = diagrams[0];\n    }\n\n    // no diagram -> nothing to import\n    if (!diagram) {\n      throw new Error('no diagram to display');\n    }\n\n    // assign current diagram to definitions so that it can accessed later\n    definitions.di = diagram;\n\n    // load DI from selected diagram only\n    handleDiagram(diagram);\n\n    visitRoot(definitions);\n\n    handleDrgElements(definitions.get('drgElement'));\n    handleArtifacts(definitions.get('artifact'));\n\n    handleDeferred();\n  }\n\n  function handleDrgElements(elements) {\n    forEach(elements, function(element) {\n      visitIfDi(element);\n\n      handleRequirements(element);\n    });\n  }\n\n  function handleArtifacts(elements) {\n    forEach(elements, function(element) {\n      if (is(element, 'dmn:Association')) {\n        handleAssociation(element);\n      } else {\n        visitIfDi(element);\n      }\n    });\n  }\n\n  /**\n   * Defer association visit until all shapes are visited.\n   *\n   * @param {ModdleElement} element\n   */\n  function handleAssociation(element) {\n    defer(function() {\n      visitIfDi(element);\n    });\n  }\n\n  /**\n   * Defer requirements visiting until all shapes are visited.\n   *\n   * @param {ModdleElement} element\n   */\n  function handleRequirements(element) {\n    forEach([\n      'informationRequirement',\n      'knowledgeRequirement',\n      'authorityRequirement'\n    ], function(requirements) {\n      forEach(element[requirements], function(requirement) {\n        defer(function() {\n          visitIfDi(requirement);\n        });\n      });\n    });\n  }\n\n  // DI handling //////////////////////\n  function handleDiagram(diagram) {\n    forEach(diagram.diagramElements, handleDiagramElement);\n  }\n\n  function handleDiagramElement(diagramElement) {\n    registerDi(diagramElement);\n  }\n\n  function registerDi(di) {\n    var dmnElement = di.dmnElementRef;\n\n    if (dmnElement) {\n      if (dmnElement.di) {\n        logError('multiple DI elements defined for element', { element: dmnElement });\n      } else {\n        diRefs.bind(dmnElement, 'di');\n        dmnElement.di = di;\n      }\n    } else {\n      logError('no DMN element referenced in element', { element: di });\n    }\n  }\n\n  function defer(fn) {\n    deferred.push(fn);\n  }\n\n  function handleDeferred() {\n    forEach(deferred, function(d) {\n      d();\n    });\n  }\n\n  function logError(message, context) {\n    handler.error(message, context);\n  }\n\n  // API //////////////////////\n\n  return {\n    handleDefinitions: handleDefinitions\n  };\n}\n","import DrdTreeWalker from './DrdTreeWalker';\n\n\n/**\n * Import the definitions into a diagram.\n *\n * Errors and warnings are reported through the specified callback.\n *\n * @param  {Drd} drd\n * @param  {ModdleElement} definitions\n * @param  {Function} done\n *         the callback, invoked with (err, [ warning ]) once the import is done\n */\nexport function importDRD(drd, definitions, done) {\n\n  var importer = drd.get('drdImporter'),\n      eventBus = drd.get('eventBus');\n\n  var error,\n      warnings = [];\n\n  function render(definitions) {\n\n    var visitor = {\n      root: function(element) {\n        return importer.root(element);\n      },\n\n      element: function(element, di) {\n        return importer.add(element, di);\n      },\n\n      error: function(message, context) {\n        warnings.push({ message: message, context: context });\n      }\n    };\n\n    var walker = new DrdTreeWalker(visitor);\n\n    // import\n    walker.handleDefinitions(definitions);\n  }\n\n  eventBus.fire('import.start', { definitions: definitions });\n\n  try {\n    render(definitions);\n  } catch (e) {\n    error = e;\n  }\n\n  eventBus.fire('import.done', { error: error, warnings: warnings });\n\n  done(error, warnings);\n}","import inherits from 'inherits';\n\nimport {\n  isArray,\n  isObject,\n  assign\n} from 'min-dash';\n\nimport {\n  attr as domAttr,\n  query as domQuery\n} from 'min-dom';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport BaseRenderer from 'diagram-js/lib/draw/BaseRenderer';\n\nimport {\n  createLine\n} from 'diagram-js/lib/util/RenderUtil';\n\nimport {\n  is,\n  getName\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default function DrdRenderer(eventBus, pathMap, styles, textRenderer) {\n\n  BaseRenderer.call(this, eventBus);\n\n  var markers = {};\n\n  function addMarker(id, element) {\n    markers[id] = element;\n  }\n\n  function marker(id) {\n    var marker = markers[id];\n\n    return 'url(#' + marker.id + ')';\n  }\n\n  function initMarkers(svg) {\n\n    function createMarker(id, options) {\n      var attrs = assign({\n        strokeWidth: 1,\n        strokeLinecap: 'round',\n        strokeDasharray: 'none'\n      }, options.attrs);\n\n      var ref = options.ref || { x: 0, y: 0 };\n\n      var scale = options.scale || 1;\n\n      // fix for safari / chrome / firefox bug not correctly\n      // resetting stroke dash array\n      if (attrs.strokeDasharray === 'none') {\n        attrs.strokeDasharray = [10000, 1];\n      }\n\n      var marker = svgCreate('marker');\n\n      svgAttr(options.element, attrs);\n\n      svgAppend(marker, options.element);\n\n      svgAttr(marker, {\n        id: id,\n        viewBox: '0 0 20 20',\n        refX: ref.x,\n        refY: ref.y,\n        markerWidth: 20 * scale,\n        markerHeight: 20 * scale,\n        orient: 'auto'\n      });\n\n      var defs = domQuery('defs', svg);\n\n      if (!defs) {\n        defs = svgCreate('defs');\n\n        svgAppend(svg, defs);\n      }\n\n      svgAppend(defs, marker);\n\n      return addMarker(id, marker);\n    }\n\n    var associationStart = svgCreate('path');\n    svgAttr(associationStart, { d: 'M 11 5 L 1 10 L 11 15' });\n\n    createMarker('association-start', {\n      element: associationStart,\n      attrs: {\n        fill: 'none',\n        stroke: 'black',\n        strokeWidth: 1.5\n      },\n      ref: { x: 1, y: 10 },\n      scale: 0.5\n    });\n\n    var associationEnd = svgCreate('path');\n    svgAttr(associationEnd, { d: 'M 1 5 L 11 10 L 1 15' });\n\n    createMarker('association-end', {\n      element: associationEnd,\n      attrs: {\n        fill: 'none',\n        stroke: 'black',\n        strokeWidth: 1.5\n      },\n      ref: { x: 12, y: 10 },\n      scale: 0.5\n    });\n\n    var informationRequirementEnd = svgCreate('path');\n    svgAttr(informationRequirementEnd, { d: 'M 1 5 L 11 10 L 1 15 Z' });\n\n    createMarker('information-requirement-end', {\n      element: informationRequirementEnd,\n      ref: { x: 11, y: 10 },\n      scale: 1\n    });\n\n    var knowledgeRequirementEnd = svgCreate('path');\n    svgAttr(knowledgeRequirementEnd, { d: 'M 1 3 L 11 10 L 1 17' });\n\n    createMarker('knowledge-requirement-end', {\n      element: knowledgeRequirementEnd,\n      attrs: {\n        fill: 'none',\n        stroke: 'black',\n        strokeWidth: 2\n      },\n      ref: { x: 11, y: 10 },\n      scale: 0.8\n    });\n\n    var authorityRequirementEnd = svgCreate('circle');\n    svgAttr(authorityRequirementEnd, { cx: 3, cy: 3, r: 3 });\n\n    createMarker('authority-requirement-end', {\n      element: authorityRequirementEnd,\n      ref: { x: 3, y: 3 },\n      scale: 0.9\n    });\n  }\n\n  function computeStyle(custom, traits, defaultStyles) {\n    if (!isArray(traits)) {\n      defaultStyles = traits;\n      traits = [];\n    }\n\n    return styles.style(traits || [], assign(defaultStyles, custom || {}));\n  }\n\n\n  function drawRect(p, width, height, r, offset, attrs) {\n\n    if (isObject(offset)) {\n      attrs = offset;\n      offset = 0;\n    }\n\n    offset = offset || 0;\n\n    attrs = computeStyle(attrs, {\n      stroke: 'black',\n      strokeWidth: 2,\n      fill: 'white'\n    });\n\n    var rect = svgCreate('rect');\n    svgAttr(rect, {\n      x: offset,\n      y: offset,\n      width: width - offset * 2,\n      height: height - offset * 2,\n      rx: r,\n      ry: r\n    });\n    svgAttr(rect, attrs);\n\n    svgAppend(p, rect);\n\n    return rect;\n  }\n\n  function renderLabel(p, label, options) {\n    var text = textRenderer.createText(label || '', options);\n\n    domAttr(text, 'class', 'djs-label');\n\n    svgAppend(p, text);\n\n    return text;\n  }\n\n  function renderEmbeddedLabel(p, element, align) {\n    var name = getName(element);\n    return renderLabel(p, name, { box: element, align: align, padding: 5 });\n  }\n\n  function drawPath(p, d, attrs) {\n\n    attrs = computeStyle(attrs, [ 'no-fill' ], {\n      strokeWidth: 2,\n      stroke: 'black'\n    });\n\n    var path = svgCreate('path');\n    svgAttr(path, { d: d });\n    svgAttr(path, attrs);\n\n    svgAppend(p, path);\n\n    return path;\n  }\n\n\n  var handlers = {\n    'dmn:Decision': function(p, element, attrs) {\n      var rect = drawRect(p, element.width, element.height, 0, attrs);\n\n      renderEmbeddedLabel(p, element, 'center-middle');\n\n      return rect;\n    },\n    'dmn:KnowledgeSource': function(p, element, attrs) {\n\n      var pathData = pathMap.getScaledPath('KNOWLEDGE_SOURCE', {\n        xScaleFactor: 1.021,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: element.height,\n        position: {\n          mx: 0.0,\n          my: 0.075\n        }\n      });\n\n      var knowledgeSource = drawPath(p, pathData, {\n        strokeWidth: 2,\n        fill: 'white',\n        stroke: 'black'\n      });\n\n      renderEmbeddedLabel(p, element, 'center-middle');\n\n      return knowledgeSource;\n    },\n    'dmn:BusinessKnowledgeModel': function(p, element, attrs) {\n\n      var pathData = pathMap.getScaledPath('BUSINESS_KNOWLEDGE_MODEL', {\n        xScaleFactor: 1,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: element.height,\n        position: {\n          mx: 0.0,\n          my: 0.3\n        }\n      });\n\n      var businessKnowledge = drawPath(p, pathData, {\n        strokeWidth: 2,\n        fill: 'white',\n        stroke: 'black'\n      });\n\n      renderEmbeddedLabel(p, element, 'center-middle');\n\n      return businessKnowledge;\n    },\n    'dmn:InputData': function(p, element, attrs) {\n\n      var rect = drawRect(p, element.width, element.height, 22, attrs);\n\n      renderEmbeddedLabel(p, element, 'center-middle');\n\n      return rect;\n    },\n    'dmn:TextAnnotation': function(p, element, attrs) {\n      var style = {\n        'fill': 'none',\n        'stroke': 'none'\n      };\n\n      var textElement = drawRect(p, element.width, element.height, 0, 0, style);\n\n      var textPathData = pathMap.getScaledPath('TEXT_ANNOTATION', {\n        xScaleFactor: 1,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: element.height,\n        position: {\n          mx: 0.0,\n          my: 0.0\n        }\n      });\n\n      drawPath(p, textPathData);\n\n      var text = getSemantic(element).text || '';\n\n      renderLabel(p, text, {\n        box: element,\n        align: 'left-top',\n        padding: 5\n      });\n\n      return textElement;\n    },\n    'dmn:Association': function(p, element, attrs) {\n      var semantic = getSemantic(element);\n\n      attrs = assign({\n        strokeDasharray: '0.5, 5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        fill: 'none'\n      }, attrs || {});\n\n      if (semantic.associationDirection === 'One' ||\n          semantic.associationDirection === 'Both') {\n        attrs.markerEnd = marker('association-end');\n      }\n\n      if (semantic.associationDirection === 'Both') {\n        attrs.markerStart = marker('association-start');\n      }\n\n      return drawLine(p, element.waypoints, attrs);\n    },\n    'dmn:InformationRequirement': function(p, element, attrs) {\n\n      attrs = assign({\n        strokeWidth: 1,\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        markerEnd: marker('information-requirement-end')\n      }, attrs || {});\n\n      return drawLine(p, element.waypoints, attrs);\n    },\n    'dmn:KnowledgeRequirement': function(p, element, attrs) {\n\n      attrs = assign({\n        strokeWidth: 1,\n        strokeDasharray: 5,\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        markerEnd: marker('knowledge-requirement-end')\n      }, attrs || {});\n\n      return drawLine(p, element.waypoints, attrs);\n    },\n    'dmn:AuthorityRequirement': function(p, element, attrs) {\n\n      attrs = assign({\n        strokeWidth: 1.5,\n        strokeDasharray: 5,\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        markerEnd: marker('authority-requirement-end')\n      }, attrs || {});\n\n      return drawLine(p, element.waypoints, attrs);\n    }\n  };\n\n\n  // draw shape and connection //////////////////\n\n  function drawShape(parent, element) {\n    var h = handlers[element.type];\n\n    if (!h) {\n      return BaseRenderer.prototype.drawShape.apply(this, [ parent, element ]);\n    } else {\n      return h(parent, element);\n    }\n  }\n\n  function drawConnection(parent, element) {\n    var type = element.type;\n    var h = handlers[type];\n\n    if (!h) {\n      return BaseRenderer.prototype.drawConnection.apply(this, [ parent, element ]);\n    } else {\n      return h(parent, element);\n    }\n  }\n\n  function drawLine(p, waypoints, attrs) {\n    attrs = computeStyle(attrs, [ 'no-fill' ], {\n      stroke: 'black',\n      strokeWidth: 2,\n      fill: 'none'\n    });\n\n    var line = createLine(waypoints, attrs);\n\n    svgAppend(p, line);\n\n    return line;\n  }\n\n  this.canRender = function(element) {\n    return is(element, 'dmn:DMNElement') ||\n           is(element, 'dmn:InformationRequirement') ||\n           is(element, 'dmn:KnowledgeRequirement') ||\n           is(element, 'dmn:AuthorityRequirement');\n  };\n\n  this.drawShape = drawShape;\n  this.drawConnection = drawConnection;\n\n\n  // hook onto canvas init event to initialize\n  // connection start/end markers on svg\n  eventBus.on('canvas.init', function(event) {\n    initMarkers(event.svg);\n  });\n\n}\n\ninherits(DrdRenderer, BaseRenderer);\n\nDrdRenderer.$inject = [\n  'eventBus',\n  'pathMap',\n  'styles',\n  'textRenderer'\n];\n\n\n// helper functions //////////////////////\n\nfunction getSemantic(element) {\n  return element.businessObject;\n}\n","import {\n  isObject,\n  assign,\n  forEach,\n  reduce\n} from 'min-dash';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nvar DEFAULT_BOX_PADDING = 0;\n\nvar DEFAULT_LABEL_SIZE = {\n  width: 150,\n  height: 50\n};\n\n\nfunction parseAlign(align) {\n\n  var parts = align.split('-');\n\n  return {\n    horizontal: parts[0] || 'center',\n    vertical: parts[1] || 'top'\n  };\n}\n\nfunction parsePadding(padding) {\n\n  if (isObject(padding)) {\n    return assign({ top: 0, left: 0, right: 0, bottom: 0 }, padding);\n  } else {\n    return {\n      top: padding,\n      left: padding,\n      right: padding,\n      bottom: padding\n    };\n  }\n}\n\nfunction getTextBBox(text, fakeText) {\n\n  fakeText.textContent = text;\n\n  var textBBox;\n\n  try {\n    var bbox,\n        emptyLine = text === '';\n\n    // add dummy text, when line is empty to\n    // determine correct height\n    fakeText.textContent = emptyLine ? 'dummy' : text;\n\n    textBBox = fakeText.getBBox();\n\n    // take text rendering related horizontal\n    // padding into account\n    bbox = {\n      width: textBBox.width + textBBox.x * 2,\n      height: textBBox.height\n    };\n\n    if (emptyLine) {\n\n      // correct width\n      bbox.width = 0;\n    }\n\n    return bbox;\n  } catch (e) {\n    return { width: 0, height: 0 };\n  }\n}\n\n\n/**\n * Layout the next line and return the layouted element.\n *\n * Alters the lines passed.\n *\n * @param  {Array<string>} lines\n * @return {Object} the line descriptor, an object { width, height, text }\n */\nfunction layoutNext(lines, maxWidth, fakeText) {\n\n  var originalLine = lines.shift(),\n      fitLine = originalLine;\n\n  var textBBox;\n\n  for (;;) {\n    textBBox = getTextBBox(fitLine, fakeText);\n\n    textBBox.width = fitLine ? textBBox.width : 0;\n\n    // try to fit\n    if (fitLine === ' ' || fitLine === '' || textBBox.width < Math.round(maxWidth) || fitLine.length < 2) {\n      return fit(lines, fitLine, originalLine, textBBox);\n    }\n\n    fitLine = shortenLine(fitLine, textBBox.width, maxWidth);\n  }\n}\n\nfunction fit(lines, fitLine, originalLine, textBBox) {\n  if (fitLine.length < originalLine.length) {\n    var remainder = originalLine.slice(fitLine.length).trim();\n\n    lines.unshift(remainder);\n  }\n\n  return {\n    width: textBBox.width,\n    height: textBBox.height,\n    text: fitLine\n  };\n}\n\n\n/**\n * Shortens a line based on spacing and hyphens.\n * Returns the shortened result on success.\n *\n * @param  {string} line\n * @param  {number} maxLength the maximum characters of the string\n * @return {string} the shortened string\n */\nfunction semanticShorten(line, maxLength) {\n  var parts = line.split(/(\\s|-)/g),\n      part,\n      shortenedParts = [],\n      length = 0;\n\n  // try to shorten via spaces + hyphens\n  if (parts.length > 1) {\n    while ((part = parts.shift())) {\n      if (part.length + length < maxLength) {\n        shortenedParts.push(part);\n        length += part.length;\n      } else {\n\n        // remove previous part, too if hyphen does not fit anymore\n        if (part === '-') {\n          shortenedParts.pop();\n        }\n\n        break;\n      }\n    }\n  }\n\n  return shortenedParts.join('');\n}\n\n\nfunction shortenLine(line, width, maxWidth) {\n  var length = Math.max(line.length * (maxWidth / width), 1);\n\n  // try to shorten semantically (i.e. based on spaces and hyphens)\n  var shortenedLine = semanticShorten(line, length);\n\n  if (!shortenedLine) {\n\n    // force shorten by cutting the long word\n    shortenedLine = line.slice(0, Math.max(Math.round(length - 1), 1));\n  }\n\n  return shortenedLine;\n}\n\n\nfunction getHelperSvg() {\n  var helperSvg = document.getElementById('helper-svg');\n\n  if (!helperSvg) {\n    helperSvg = svgCreate('svg');\n\n    svgAttr(helperSvg, {\n      id: 'helper-svg',\n      width: 0,\n      height: 0,\n      style: 'visibility: hidden; position: fixed'\n    });\n\n    document.body.appendChild(helperSvg);\n  }\n\n  return helperSvg;\n}\n\n\n/**\n * Creates a new label utility\n *\n * @param {Object} config\n * @param {Dimensions} config.size\n * @param {number} config.padding\n * @param {Object} config.style\n * @param {string} config.align\n */\nexport default function Text(config) {\n\n  this._config = assign({}, {\n    size: DEFAULT_LABEL_SIZE,\n    padding: DEFAULT_BOX_PADDING,\n    style: {},\n    align: 'center-top'\n  }, config || {});\n}\n\n/**\n * Returns the layouted text as an SVG element.\n *\n * @param {string} text\n * @param {Object} options\n *\n * @return {SVGElement}\n */\nText.prototype.createText = function(text, options) {\n  return this.layoutText(text, options).element;\n};\n\n/**\n * Returns a labels layouted dimensions.\n *\n * @param {string} text to layout\n * @param {Object} options\n *\n * @return {Dimensions}\n */\nText.prototype.getDimensions = function(text, options) {\n  return this.layoutText(text, options).dimensions;\n};\n\n/**\n * Creates and returns a label and its bounding box.\n *\n * @method Text#createText\n *\n * @param {string} text the text to render on the label\n * @param {Object} options\n * @param {string} options.align how to align in the bounding box.\n *                               Any of { 'center-middle', 'center-top' },\n *                               defaults to 'center-top'.\n * @param {string} options.style style to be applied to the text\n * @param {boolean} options.fitBox indicates if box will be recalculated to\n *                                 fit text\n *\n * @return {Object} { element, dimensions }\n */\nText.prototype.layoutText = function(text, options) {\n  var box = assign({}, this._config.size, options.box),\n      style = assign({}, this._config.style, options.style),\n      align = parseAlign(options.align || this._config.align),\n      padding = parsePadding(options.padding !== undefined ? options.padding : this._config.padding),\n      fitBox = options.fitBox || false;\n\n  var lineHeight = getLineHeight(style);\n\n  var lines = text.split(/\\r?\\n/g),\n      layouted = [];\n\n  var maxWidth = box.width - padding.left - padding.right;\n\n  // ensure correct rendering by attaching helper text node to invisible SVG\n  var helperText = svgCreate('text');\n  svgAttr(helperText, { x: 0, y: 0 });\n  svgAttr(helperText, style);\n\n  var helperSvg = getHelperSvg();\n\n  svgAppend(helperSvg, helperText);\n\n  while (lines.length) {\n    layouted.push(layoutNext(lines, maxWidth, helperText));\n  }\n\n  if (align.vertical === 'middle') {\n    padding.top = padding.bottom = 0;\n  }\n\n  var totalHeight = reduce(layouted, function(sum, line, idx) {\n    return sum + (lineHeight || line.height);\n  }, 0) + padding.top + padding.bottom;\n\n  var maxLineWidth = reduce(layouted, function(sum, line, idx) {\n    return line.width > sum ? line.width : sum;\n  }, 0);\n\n  // the y position of the next line\n  var y = padding.top;\n\n  if (align.vertical === 'middle') {\n    y += (box.height - totalHeight) / 2;\n  }\n\n  // magic number initial offset\n  y -= (lineHeight || layouted[0].height) / 4;\n\n\n  var textElement = svgCreate('text');\n\n  svgAttr(textElement, style);\n\n  // layout each line taking into account that parent\n  // shape might resize to fit text size\n  forEach(layouted, function(line) {\n\n    var x;\n\n    y += (lineHeight || line.height);\n\n    switch (align.horizontal) {\n    case 'left':\n      x = padding.left;\n      break;\n\n    case 'right':\n      x = ((fitBox ? maxLineWidth : maxWidth)\n        - padding.right - line.width);\n      break;\n\n    default:\n\n      // aka center\n      x = Math.max((((fitBox ? maxLineWidth : maxWidth)\n        - line.width) / 2 + padding.left), 0);\n    }\n\n    var tspan = svgCreate('tspan');\n    svgAttr(tspan, { x: x, y: y });\n\n    tspan.textContent = line.text;\n\n    svgAppend(textElement, tspan);\n  });\n\n  svgRemove(helperText);\n\n  var dimensions = {\n    width: maxLineWidth,\n    height: totalHeight\n  };\n\n  return {\n    dimensions: dimensions,\n    element: textElement\n  };\n};\n\n\nfunction getLineHeight(style) {\n  if ('fontSize' in style && 'lineHeight' in style) {\n    return style.lineHeight * parseInt(style.fontSize, 10);\n  }\n}","import { assign } from 'min-dash';\n\nimport TextUtil from 'diagram-js/lib/util/Text';\n\nvar DEFAULT_FONT_SIZE = 12;\nvar LINE_HEIGHT_RATIO = 1.2;\n\nvar MIN_TEXT_ANNOTATION_HEIGHT = 30;\n\n\nexport default function TextRenderer(config) {\n\n  var defaultStyle = assign({\n    fontFamily: 'Arial, sans-serif',\n    fontSize: DEFAULT_FONT_SIZE,\n    fontWeight: 'normal',\n    lineHeight: LINE_HEIGHT_RATIO\n  }, config && config.defaultStyle || {});\n\n  var fontSize = parseInt(defaultStyle.fontSize, 10) - 1;\n\n  var externalStyle = assign({}, defaultStyle, {\n    fontSize: fontSize\n  }, config && config.externalStyle || {});\n\n  var textUtil = new TextUtil({\n    style: defaultStyle\n  });\n\n  /**\n   * Get the new bounds of an externally rendered,\n   * layouted label.\n   *\n   * @param  {Bounds} bounds\n   * @param  {string} text\n   *\n   * @return {Bounds}\n   */\n  this.getExternalLabelBounds = function(bounds, text) {\n\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: {\n        width: 90,\n        height: 30,\n        x: bounds.width / 2 + bounds.x,\n        y: bounds.height / 2 + bounds.y\n      },\n      style: externalStyle\n    });\n\n    // resize label shape to fit label text\n    return {\n      x: Math.round(bounds.x + bounds.width / 2 - layoutedDimensions.width / 2),\n      y: Math.round(bounds.y),\n      width: Math.ceil(layoutedDimensions.width),\n      height: Math.ceil(layoutedDimensions.height)\n    };\n\n  };\n\n  /**\n   * Get the new bounds of text annotation.\n   *\n   * @param  {Bounds} bounds\n   * @param  {string} text\n   *\n   * @return {Bounds}\n   */\n  this.getTextAnnotationBounds = function(bounds, text) {\n\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: bounds,\n      style: defaultStyle,\n      align: 'left-top',\n      padding: 5\n    });\n\n    return {\n      x: bounds.x,\n      y: bounds.y,\n      width: bounds.width,\n      height: Math.max(MIN_TEXT_ANNOTATION_HEIGHT, Math.round(layoutedDimensions.height))\n    };\n  };\n\n  /**\n   * Create a layouted text element.\n   *\n   * @param {string} text\n   * @param {Object} [options]\n   *\n   * @return {SVGElement} rendered text\n   */\n  this.createText = function(text, options) {\n    return textUtil.createText(text, options || {});\n  };\n\n  /**\n   * Get default text style.\n   */\n  this.getDefaultStyle = function() {\n    return defaultStyle;\n  };\n\n  /**\n   * Get the external text style.\n   */\n  this.getExternalStyle = function() {\n    return externalStyle;\n  };\n\n}\n\nTextRenderer.$inject = [\n  'config.textRenderer'\n];","/* eslint-disable max-len */\n\n/**\n * Map containing SVG paths needed by BpmnRenderer.\n */\n\nexport default function PathMap() {\n\n  /**\n   * Contains a map of path elements\n   *\n   * <h1>Path definition</h1>\n   * A parameterized path is defined like this:\n   * <pre>\n   * 'GATEWAY_PARALLEL': {\n   *   d: 'm {mx},{my} {e.x0},0 0,{e.x1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} ' +\n          '-{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z',\n   *   height: 17.5,\n   *   width:  17.5,\n   *   heightElements: [2.5, 7.5],\n   *   widthElements: [2.5, 7.5]\n   * }\n   * </pre>\n   * <p>It's important to specify a correct <b>height and width</b> for the path as the scaling\n   * is based on the ratio between the specified height and width in this object and the\n   * height and width that is set as scale target (Note x,y coordinates will be scaled with\n   * individual ratios).</p>\n   * <p>The '<b>heightElements</b>' and '<b>widthElements</b>' array must contain the values that will be scaled.\n   * The scaling is based on the computed ratios.\n   * Coordinates on the y axis should be in the <b>heightElement</b>'s array, they will be scaled using\n   * the computed ratio coefficient.\n   * In the parameterized path the scaled values can be accessed through the 'e' object in {} brackets.\n   *   <ul>\n   *    <li>The values for the y axis can be accessed in the path string using {e.y0}, {e.y1}, ....</li>\n   *    <li>The values for the x axis can be accessed in the path string using {e.x0}, {e.x1}, ....</li>\n   *   </ul>\n   *   The numbers x0, x1 respectively y0, y1, ... map to the corresponding array index.\n   * </p>\n    m1,1\n    l 0,55.3\n    c 29.8,19.7 48.4,-4.2 67.2,-6.7\n    c 12.2,-2.3 19.8,1.6 30.8,6.2\n    l 0,-54.6\n    z\n    */\n  this.pathMap = {\n    'KNOWLEDGE_SOURCE': {\n      d: 'm {mx},{my} ' +\n         'l 0,{e.y0} ' +\n         'c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} ' +\n         'c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} ' +\n         'l 0,-{e.y7}z',\n      width:  100,\n      height: 65,\n      widthElements: [ 29.8, 48.4, 67.2, 12.2, 19.8, 30.8 ],\n      heightElements: [ 55.3, 19.7, 4.2, 6.7, 2.3, 1.6, 6.2, 54.6 ]\n    },\n    'BUSINESS_KNOWLEDGE_MODEL': {\n      d: 'm {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z',\n      width:  125,\n      height: 45,\n      widthElements: [ 13.8, 109.2, 13.8, 109.1 ],\n      heightElements: [ 13.2, 29.8, 13.2 ]\n    },\n    'TEXT_ANNOTATION': {\n      d: 'm {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0',\n      width: 10,\n      height: 30,\n      widthElements: [ 10 ],\n      heightElements: [ 30 ]\n    }\n  };\n\n  this.getRawPath = function getRawPath(pathId) {\n    return this.pathMap[pathId].d;\n  };\n\n  /**\n   * Scales the path to the given height and width.\n   * <h1>Use case</h1>\n   * <p>Use case is to scale the content of elements (event, gateways) based\n   * on the element bounding box's size.\n   * </p>\n   * <h1>Why not transform</h1>\n   * <p>Scaling a path with transform() will also scale the stroke and IE does not support\n   * the option 'non-scaling-stroke' to prevent this.\n   * Also there are use cases where only some parts of a path should be\n   * scaled.</p>\n   *\n   * @param {string} pathId The ID of the path.\n   * @param {Object} param <p>\n   *   Example param object scales the path to 60% size of the container (data.width, data.height).\n   *   <pre>\n   *   {\n   *     xScaleFactor: 0.6,\n   *     yScaleFactor:0.6,\n   *     containerWidth: data.width,\n   *     containerHeight: data.height,\n   *     position: {\n   *       mx: 0.46,\n   *       my: 0.2,\n   *     }\n   *   }\n   *   </pre>\n   *   <ul>\n   *    <li>targetpathwidth = xScaleFactor * containerWidth</li>\n   *    <li>targetpathheight = yScaleFactor * containerHeight</li>\n   *    <li>Position is used to set the starting coordinate of the path. M is computed:\n    *    <ul>\n    *      <li>position.x * containerWidth</li>\n    *      <li>position.y * containerHeight</li>\n    *    </ul>\n    *    Center of the container <pre> position: {\n   *       mx: 0.5,\n   *       my: 0.5,\n   *     }</pre>\n   *     Upper left corner of the container\n   *     <pre> position: {\n   *       mx: 0.0,\n   *       my: 0.0,\n   *     }</pre>\n   *    </li>\n   *   </ul>\n   * </p>\n   *\n   */\n  this.getScaledPath = function getScaledPath(pathId, param) {\n    var rawPath = this.pathMap[pathId];\n\n    // positioning\n    // compute the start point of the path\n    var mx, my;\n\n    if (param.abspos) {\n      mx = param.abspos.x;\n      my = param.abspos.y;\n    } else {\n      mx = param.containerWidth * param.position.mx;\n      my = param.containerHeight * param.position.my;\n    }\n\n    var coordinates = {}; // map for the scaled coordinates\n    if (param.position) {\n\n      // path\n      var heightRatio = (param.containerHeight / rawPath.height) * param.yScaleFactor;\n      var widthRatio = (param.containerWidth / rawPath.width) * param.xScaleFactor;\n\n\n      // Apply height ratio\n      for (var heightIndex = 0; heightIndex < rawPath.heightElements.length; heightIndex++) {\n        coordinates['y' + heightIndex] = rawPath.heightElements[heightIndex] * heightRatio;\n      }\n\n      // Apply width ratio\n      for (var widthIndex = 0; widthIndex < rawPath.widthElements.length; widthIndex++) {\n        coordinates['x' + widthIndex] = rawPath.widthElements[widthIndex] * widthRatio;\n      }\n    }\n\n    // Apply value to raw path\n    var path = format(\n      rawPath.d, {\n        mx: mx,\n        my: my,\n        e: coordinates\n      }\n    );\n    return path;\n  };\n}\n\n\n// helpers //////////////////////\n\n// copied from https://github.com/adobe-webplatform/Snap.svg/blob/master/src/svg.js\nvar tokenRegex = /\\{([^}]+)\\}/g,\n    objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g; // matches .xxxxx or [\"xxxxx\"] to run over object properties\n\nfunction replacer(all, key, obj) {\n  var res = obj;\n  key.replace(objNotationRegex, function(all, name, quote, quotedName, isFunc) {\n    name = name || quotedName;\n    if (res) {\n      if (name in res) {\n        res = res[name];\n      }\n      typeof res == 'function' && isFunc && (res = res());\n    }\n  });\n  res = (res == null || res == obj ? all : res) + '';\n\n  return res;\n}\n\nfunction format(str, obj) {\n  return String(str).replace(tokenRegex, function(all, key) {\n    return replacer(all, key, obj);\n  });\n}\n","import DrdRenderer from './DrdRenderer';\nimport TextRenderer from './TextRenderer';\n\nimport PathMap from './PathMap';\n\nexport default {\n  __init__: [ 'drdRenderer' ],\n  drdRenderer: [ 'type', DrdRenderer ],\n  textRenderer: [ 'type', TextRenderer ],\n  pathMap: [ 'type', PathMap ]\n};\n","import {\n  assign,\n  map\n} from 'min-dash';\n\nimport {\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default function DrdImporter(\n    eventBus,\n    canvas,\n    elementFactory,\n    elementRegistry) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n  this._elementFactory = elementFactory;\n}\n\nDrdImporter.$inject = [\n  'eventBus',\n  'canvas',\n  'elementFactory',\n  'elementRegistry'\n];\n\n\nDrdImporter.prototype.root = function(semantic) {\n  var element = this._elementFactory.createRoot(elementData(semantic));\n\n  this._canvas.setRootElement(element);\n\n  return element;\n};\n\n/**\n * Add drd element (semantic) to the canvas.\n */\nDrdImporter.prototype.add = function(semantic) {\n  var elementFactory = this._elementFactory,\n      canvas = this._canvas,\n      eventBus = this._eventBus,\n      di = semantic.di;\n\n  var element, waypoints, source, target, elementDefinition, bounds;\n\n  if (di.$instanceOf('dmndi:DMNShape')) {\n    bounds = di.bounds;\n\n    elementDefinition = elementData(semantic, {\n      x: Math.round(bounds.x),\n      y: Math.round(bounds.y),\n      width: Math.round(bounds.width),\n      height: Math.round(bounds.height)\n    });\n\n    element = elementFactory.createShape(elementDefinition);\n\n    canvas.addShape(element);\n\n    eventBus.fire('drdElement.added', { element: element, di: di });\n\n  } else if (di.$instanceOf('dmndi:DMNEdge')) {\n    waypoints = collectWaypoints(di);\n\n    source = this._getSource(semantic);\n    target = this._getTarget(semantic);\n\n    if (source && target) {\n      elementDefinition = elementData(semantic, {\n        hidden: false,\n        source: source,\n        target: target,\n        waypoints: waypoints\n      });\n\n      element = elementFactory.createConnection(elementDefinition);\n\n      canvas.addConnection(element);\n\n      eventBus.fire('drdElement.added', { element: element, di: di });\n    }\n\n  } else {\n    throw new Error('unknown di for element ' + semantic.id);\n  }\n\n  return element;\n};\n\nDrdImporter.prototype._getSource = function(semantic) {\n  var href, elementReference;\n\n  if (is(semantic, 'dmn:Association')) {\n    elementReference = semantic.sourceRef;\n  } else if (is(semantic, 'dmn:InformationRequirement')) {\n    elementReference = semantic.requiredDecision || semantic.requiredInput;\n  } else if (is(semantic, 'dmn:KnowledgeRequirement')) {\n    elementReference = semantic.requiredKnowledge;\n  } else if (is(semantic, 'dmn:AuthorityRequirement')) {\n    elementReference = semantic.requiredDecision ||\n      semantic.requiredInput || semantic.requiredAuthority;\n  }\n\n  if (elementReference) {\n    href = elementReference.href;\n  }\n\n  if (href) {\n    return this._getShape(getIdFromHref(href));\n  }\n};\n\nDrdImporter.prototype._getTarget = function(semantic) {\n  if (is(semantic, 'dmn:Association')) {\n    return semantic.targetRef && this._getShape(getIdFromHref(semantic.targetRef.href));\n  }\n\n  return this._getShape(semantic.$parent.id);\n};\n\nDrdImporter.prototype._getShape = function(id) {\n  return this._elementRegistry.get(id);\n};\n\n\n\n// helper /////\nfunction elementData(semantic, attrs) {\n  return assign({\n    id: semantic.id,\n    type: semantic.$type,\n    businessObject: semantic\n  }, attrs);\n}\n\nfunction collectWaypoints(edge) {\n  var waypoints = edge.waypoint;\n\n  if (waypoints) {\n    return map(waypoints, function(waypoint) {\n      var position = { x: waypoint.x, y: waypoint.y };\n\n      return assign({ original: position }, position);\n    });\n  }\n}\n\nfunction getIdFromHref(href) {\n  return href.split('#').pop();\n}\n","import DrdImporter from './DrdImporter';\n\nexport default {\n  drdImporter: [ 'type', DrdImporter ]\n};","import DrawModule from '../draw';\nimport ImportModule from '../import';\n\nexport default {\n  __depends__: [\n    DrawModule,\n    ImportModule\n  ]\n};\n","/**\n * A simple translation stub to be used for multi-language support\n * in diagrams. Can be easily replaced with a more sophisticated\n * solution.\n *\n * @example\n *\n * // use it inside any diagram component by injecting `translate`.\n *\n * function MyService(translate) {\n *   alert(translate('HELLO {you}', { you: 'You!' }));\n * }\n *\n * @param {string} template to interpolate\n * @param {Object} [replacements] a map with substitutes\n *\n * @return {string} the translated string\n */\nexport default function translate(template, replacements) {\n\n  replacements = replacements || {};\n\n  return template.replace(/{([^}]+)}/g, function(_, key) {\n    return replacements[key] || '{' + key + '}';\n  });\n}","import translate from './translate';\n\nexport default {\n  translate: [ 'value', translate ]\n};","function __stopPropagation(event) {\n  if (!event || typeof event.stopPropagation !== 'function') {\n    return;\n  }\n\n  event.stopPropagation();\n}\n\n\nexport function getOriginal(event) {\n  return event.originalEvent || event.srcEvent;\n}\n\n\nexport function stopPropagation(event, immediate) {\n  __stopPropagation(event, immediate);\n  __stopPropagation(getOriginal(event), immediate);\n}\n\n\nexport function toPoint(event) {\n\n  if (event.pointers && event.pointers.length) {\n    event = event.pointers[0];\n  }\n\n  if (event.touches && event.touches.length) {\n    event = event.touches[0];\n  }\n\n  return event ? {\n    x: event.clientX,\n    y: event.clientY\n  } : null;\n}","export function isMac() {\n  return (/mac/i).test(navigator.platform);\n}","import {\n  getOriginal as getOriginalEvent\n} from './Event';\n\nimport {\n  isMac\n} from './Platform';\n\nexport {\n  isMac\n} from './Platform';\n\n\nexport function isPrimaryButton(event) {\n\n  // button === 0 -> left ka primary mouse button\n  return !(getOriginalEvent(event) || event).button;\n}\n\nexport function hasPrimaryModifier(event) {\n  var originalEvent = getOriginalEvent(event) || event;\n\n  if (!isPrimaryButton(event)) {\n    return false;\n  }\n\n  // Use alt as primary modifier key for mac OS\n  if (isMac()) {\n    return originalEvent.metaKey;\n  } else {\n    return originalEvent.ctrlKey;\n  }\n}\n\n\nexport function hasSecondaryModifier(event) {\n  var originalEvent = getOriginalEvent(event) || event;\n\n  return isPrimaryButton(event) && originalEvent.shiftKey;\n}","import {\n  forEach,\n  assign\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  query as domQuery,\n  queryAll as domQueryAll\n} from 'min-dom';\n\nimport { isPrimaryButton } from '../../util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  createLine,\n  updateLine\n} from '../../util/RenderUtil';\n\nfunction allowAll(e) { return true; }\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * A plugin that provides interaction events for diagram elements.\n *\n * It emits the following events:\n *\n *   * element.click\n *   * element.contextmenu\n *   * element.dblclick\n *   * element.hover\n *   * element.mousedown\n *   * element.mousemove\n *   * element.mouseup\n *   * element.out\n *\n * Each event is a tuple { element, gfx, originalEvent }.\n *\n * Canceling the event via Event#preventDefault()\n * prevents the original DOM operation.\n *\n * @param {EventBus} eventBus\n */\nexport default function InteractionEvents(eventBus, elementRegistry, styles) {\n\n  var self = this;\n\n  /**\n   * Fire an interaction event.\n   *\n   * @param {string} type local event name, e.g. element.click.\n   * @param {DOMEvent} event native event\n   * @param {djs.model.Base} [element] the diagram element to emit the event on;\n   *                                   defaults to the event target\n   */\n  function fire(type, event, element) {\n\n    if (isIgnored(type, event)) {\n      return;\n    }\n\n    var target, gfx, returnValue;\n\n    if (!element) {\n      target = event.delegateTarget || event.target;\n\n      if (target) {\n        gfx = target;\n        element = elementRegistry.get(gfx);\n      }\n    } else {\n      gfx = elementRegistry.getGraphics(element);\n    }\n\n    if (!gfx || !element) {\n      return;\n    }\n\n    returnValue = eventBus.fire(type, {\n      element: element,\n      gfx: gfx,\n      originalEvent: event\n    });\n\n    if (returnValue === false) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  // TODO(nikku): document this\n  var handlers = {};\n\n  function mouseHandler(localEventName) {\n    return handlers[localEventName];\n  }\n\n  function isIgnored(localEventName, event) {\n\n    var filter = ignoredFilters[localEventName] || isPrimaryButton;\n\n    // only react on left mouse button interactions\n    // except for interaction events that are enabled\n    // for secundary mouse button\n    return !filter(event);\n  }\n\n  var bindings = {\n    click: 'element.click',\n    contextmenu: 'element.contextmenu',\n    dblclick: 'element.dblclick',\n    mousedown: 'element.mousedown',\n    mousemove: 'element.mousemove',\n    mouseover: 'element.hover',\n    mouseout: 'element.out',\n    mouseup: 'element.mouseup',\n  };\n\n  var ignoredFilters = {\n    'element.contextmenu': allowAll\n  };\n\n\n  // manual event trigger //////////\n\n  /**\n   * Trigger an interaction event (based on a native dom event)\n   * on the target shape or connection.\n   *\n   * @param {string} eventName the name of the triggered DOM event\n   * @param {MouseEvent} event\n   * @param {djs.model.Base} targetElement\n   */\n  function triggerMouseEvent(eventName, event, targetElement) {\n\n    // i.e. element.mousedown...\n    var localEventName = bindings[eventName];\n\n    if (!localEventName) {\n      throw new Error('unmapped DOM event name <' + eventName + '>');\n    }\n\n    return fire(localEventName, event, targetElement);\n  }\n\n\n  var ELEMENT_SELECTOR = 'svg, .djs-element';\n\n  // event handling ///////\n\n  function registerEvent(node, event, localEvent, ignoredFilter) {\n\n    var handler = handlers[localEvent] = function(event) {\n      fire(localEvent, event);\n    };\n\n    if (ignoredFilter) {\n      ignoredFilters[localEvent] = ignoredFilter;\n    }\n\n    handler.$delegate = domDelegate.bind(node, ELEMENT_SELECTOR, event, handler);\n  }\n\n  function unregisterEvent(node, event, localEvent) {\n\n    var handler = mouseHandler(localEvent);\n\n    if (!handler) {\n      return;\n    }\n\n    domDelegate.unbind(node, event, handler.$delegate);\n  }\n\n  function registerEvents(svg) {\n    forEach(bindings, function(val, key) {\n      registerEvent(svg, key, val);\n    });\n  }\n\n  function unregisterEvents(svg) {\n    forEach(bindings, function(val, key) {\n      unregisterEvent(svg, key, val);\n    });\n  }\n\n  eventBus.on('canvas.destroy', function(event) {\n    unregisterEvents(event.svg);\n  });\n\n  eventBus.on('canvas.init', function(event) {\n    registerEvents(event.svg);\n  });\n\n\n  // hit box updating ////////////////\n\n  eventBus.on([ 'shape.added', 'connection.added' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.createHit', { element: element, gfx: gfx });\n  });\n\n  // Update djs-hit on change.\n  // A low priortity is necessary, because djs-hit of labels has to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([\n    'shape.changed',\n    'connection.changed'\n  ], LOW_PRIORITY, function(event) {\n\n    var element = event.element,\n        gfx = event.gfx;\n\n    eventBus.fire('interactionEvents.updateHit', { element: element, gfx: gfx });\n  });\n\n  eventBus.on('interactionEvents.createHit', LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.createDefaultHit(element, gfx);\n  });\n\n  eventBus.on('interactionEvents.updateHit', function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    self.updateDefaultHit(element, gfx);\n  });\n\n\n  // hit styles ////////////\n\n  var STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-stroke');\n\n  var CLICK_STROKE_HIT_STYLE = createHitStyle('djs-hit djs-hit-click-stroke');\n\n  var ALL_HIT_STYLE = createHitStyle('djs-hit djs-hit-all');\n\n  var HIT_TYPES = {\n    'all': ALL_HIT_STYLE,\n    'click-stroke': CLICK_STROKE_HIT_STYLE,\n    'stroke': STROKE_HIT_STYLE\n  };\n\n  function createHitStyle(classNames, attrs) {\n\n    attrs = assign({\n      stroke: 'white',\n      strokeWidth: 15\n    }, attrs || {});\n\n    return styles.cls(classNames, [ 'no-fill', 'no-border' ], attrs);\n  }\n\n\n  // style helpers ///////////////\n\n  function applyStyle(hit, type) {\n\n    var attrs = HIT_TYPES[type];\n\n    if (!attrs) {\n      throw new Error('invalid hit type <' + type + '>');\n    }\n\n    svgAttr(hit, attrs);\n\n    return hit;\n  }\n\n  function appendHit(gfx, hit) {\n    svgAppend(gfx, hit);\n  }\n\n\n  // API\n\n  /**\n   * Remove hints on the given graphics.\n   *\n   * @param {SVGElement} gfx\n   */\n  this.removeHits = function(gfx) {\n    var hits = domQueryAll('.djs-hit', gfx);\n\n    forEach(hits, svgRemove);\n  };\n\n  /**\n   * Create default hit for the given element.\n   *\n   * @param {djs.model.Base} element\n   * @param {SVGElement} gfx\n   *\n   * @return {SVGElement} created hit\n   */\n  this.createDefaultHit = function(element, gfx) {\n    var waypoints = element.waypoints,\n        isFrame = element.isFrame,\n        boxType;\n\n    if (waypoints) {\n      return this.createWaypointsHit(gfx, waypoints);\n    } else {\n\n      boxType = isFrame ? 'stroke' : 'all';\n\n      return this.createBoxHit(gfx, boxType, {\n        width: element.width,\n        height: element.height\n      });\n    }\n  };\n\n  /**\n   * Create hits for the given waypoints.\n   *\n   * @param {SVGElement} gfx\n   * @param {Array<Point>} waypoints\n   *\n   * @return {SVGElement}\n   */\n  this.createWaypointsHit = function(gfx, waypoints) {\n\n    var hit = createLine(waypoints);\n\n    applyStyle(hit, 'stroke');\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Create hits for a box.\n   *\n   * @param {SVGElement} gfx\n   * @param {string} hitType\n   * @param {Object} attrs\n   *\n   * @return {SVGElement}\n   */\n  this.createBoxHit = function(gfx, type, attrs) {\n\n    attrs = assign({\n      x: 0,\n      y: 0\n    }, attrs);\n\n    var hit = svgCreate('rect');\n\n    applyStyle(hit, type);\n\n    svgAttr(hit, attrs);\n\n    appendHit(gfx, hit);\n\n    return hit;\n  };\n\n  /**\n   * Update default hit of the element.\n   *\n   * @param  {djs.model.Base} element\n   * @param  {SVGElement} gfx\n   *\n   * @return {SVGElement} updated hit\n   */\n  this.updateDefaultHit = function(element, gfx) {\n\n    var hit = domQuery('.djs-hit', gfx);\n\n    if (!hit) {\n      return;\n    }\n\n    if (element.waypoints) {\n      updateLine(hit, element.waypoints);\n    } else {\n      svgAttr(hit, {\n        width: element.width,\n        height: element.height\n      });\n    }\n\n    return hit;\n  };\n\n  this.fire = fire;\n\n  this.triggerMouseEvent = triggerMouseEvent;\n\n  this.mouseHandler = mouseHandler;\n\n  this.registerEvent = registerEvent;\n  this.unregisterEvent = unregisterEvent;\n}\n\n\nInteractionEvents.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'styles'\n];\n\n\n/**\n * An event indicating that the mouse hovered over an element\n *\n * @event element.hover\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has left an element\n *\n * @event element.out\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has clicked an element\n *\n * @event element.click\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has double clicked an element\n *\n * @event element.dblclick\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone down on an element.\n *\n * @event element.mousedown\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the mouse has gone up on an element.\n *\n * @event element.mouseup\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */\n\n/**\n * An event indicating that the context menu action is triggered\n * via mouse or touch controls.\n *\n * @event element.contextmenu\n *\n * @type {Object}\n * @property {djs.model.Base} element\n * @property {SVGElement} gfx\n * @property {Event} originalEvent\n */","import InteractionEvents from './InteractionEvents';\n\nexport default {\n  __init__: [ 'interactionEvents' ],\n  interactionEvents: [ 'type', InteractionEvents ]\n};","import { getBBox } from '../../util/Elements';\n\nvar LOW_PRIORITY = 500;\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  query as domQuery\n} from 'min-dom';\n\nimport {\n  assign\n} from 'min-dash';\n\n\n/**\n * @class\n *\n * A plugin that adds an outline to shapes and connections that may be activated and styled\n * via CSS classes.\n *\n * @param {EventBus} eventBus\n * @param {Styles} styles\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Outline(eventBus, styles, elementRegistry) {\n\n  this.offset = 6;\n\n  var OUTLINE_STYLE = styles.cls('djs-outline', [ 'no-fill' ]);\n\n  var self = this;\n\n  function createOutline(gfx, bounds) {\n    var outline = svgCreate('rect');\n\n    svgAttr(outline, assign({\n      x: 10,\n      y: 10,\n      width: 100,\n      height: 100\n    }, OUTLINE_STYLE));\n\n    svgAppend(gfx, outline);\n\n    return outline;\n  }\n\n  // A low priortity is necessary, because outlines of labels have to be updated\n  // after the label bounds have been updated in the renderer.\n  eventBus.on([ 'shape.added', 'shape.changed' ], LOW_PRIORITY, function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    var outline = domQuery('.djs-outline', gfx);\n\n    if (!outline) {\n      outline = createOutline(gfx, element);\n    }\n\n    self.updateShapeOutline(outline, element);\n  });\n\n  eventBus.on([ 'connection.added', 'connection.changed' ], function(event) {\n    var element = event.element,\n        gfx = event.gfx;\n\n    var outline = domQuery('.djs-outline', gfx);\n\n    if (!outline) {\n      outline = createOutline(gfx, element);\n    }\n\n    self.updateConnectionOutline(outline, element);\n  });\n}\n\n\n/**\n * Updates the outline of a shape respecting the dimension of the\n * element and an outline offset.\n *\n * @param  {SVGElement} outline\n * @param  {djs.model.Base} element\n */\nOutline.prototype.updateShapeOutline = function(outline, element) {\n\n  svgAttr(outline, {\n    x: -this.offset,\n    y: -this.offset,\n    width: element.width + this.offset * 2,\n    height: element.height + this.offset * 2\n  });\n\n};\n\n\n/**\n * Updates the outline of a connection respecting the bounding box of\n * the connection and an outline offset.\n *\n * @param  {SVGElement} outline\n * @param  {djs.model.Base} element\n */\nOutline.prototype.updateConnectionOutline = function(outline, connection) {\n\n  var bbox = getBBox(connection);\n\n  svgAttr(outline, {\n    x: bbox.x - this.offset,\n    y: bbox.y - this.offset,\n    width: bbox.width + this.offset * 2,\n    height: bbox.height + this.offset * 2\n  });\n\n};\n\n\nOutline.$inject = ['eventBus', 'styles', 'elementRegistry'];","import Outline from './Outline';\n\nexport default {\n  __init__: [ 'outline' ],\n  outline: [ 'type', Outline ]\n};","import {\n  isArray,\n  forEach\n} from 'min-dash';\n\n\n/**\n * A service that offers the current selection in a diagram.\n * Offers the api to control the selection, too.\n *\n * @class\n *\n * @param {EventBus} eventBus the event bus\n */\nexport default function Selection(eventBus) {\n\n  this._eventBus = eventBus;\n\n  this._selectedElements = [];\n\n  var self = this;\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    self.deselect(element);\n  });\n\n  eventBus.on([ 'diagram.clear' ], function(e) {\n    self.select(null);\n  });\n}\n\nSelection.$inject = [ 'eventBus' ];\n\n\nSelection.prototype.deselect = function(element) {\n  var selectedElements = this._selectedElements;\n\n  var idx = selectedElements.indexOf(element);\n\n  if (idx !== -1) {\n    var oldSelection = selectedElements.slice();\n\n    selectedElements.splice(idx, 1);\n\n    this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n  }\n};\n\n\nSelection.prototype.get = function() {\n  return this._selectedElements;\n};\n\nSelection.prototype.isSelected = function(element) {\n  return this._selectedElements.indexOf(element) !== -1;\n};\n\n\n/**\n * This method selects one or more elements on the diagram.\n *\n * By passing an additional add parameter you can decide whether or not the element(s)\n * should be added to the already existing selection or not.\n *\n * @method Selection#select\n *\n * @param  {Object|Object[]} elements element or array of elements to be selected\n * @param  {boolean} [add] whether the element(s) should be appended to the current selection, defaults to false\n */\nSelection.prototype.select = function(elements, add) {\n  var selectedElements = this._selectedElements,\n      oldSelection = selectedElements.slice();\n\n  if (!isArray(elements)) {\n    elements = elements ? [ elements ] : [];\n  }\n\n  // selection may be cleared by passing an empty array or null\n  // to the method\n  if (add) {\n    forEach(elements, function(element) {\n      if (selectedElements.indexOf(element) !== -1) {\n\n        // already selected\n        return;\n      } else {\n        selectedElements.push(element);\n      }\n    });\n  } else {\n    this._selectedElements = selectedElements = elements.slice();\n  }\n\n  this._eventBus.fire('selection.changed', { oldSelection: oldSelection, newSelection: selectedElements });\n};\n","import {\n  forEach\n} from 'min-dash';\n\nvar MARKER_HOVER = 'hover',\n    MARKER_SELECTED = 'selected';\n\n\n/**\n * A plugin that adds a visible selection UI to shapes and connections\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\n *\n * @class\n *\n * Makes elements selectable, too.\n *\n * @param {EventBus} events\n * @param {SelectionService} selection\n * @param {Canvas} canvas\n */\nexport default function SelectionVisuals(events, canvas, selection, styles) {\n\n  this._multiSelectionBox = null;\n\n  function addMarker(e, cls) {\n    canvas.addMarker(e, cls);\n  }\n\n  function removeMarker(e, cls) {\n    canvas.removeMarker(e, cls);\n  }\n\n  events.on('element.hover', function(event) {\n    addMarker(event.element, MARKER_HOVER);\n  });\n\n  events.on('element.out', function(event) {\n    removeMarker(event.element, MARKER_HOVER);\n  });\n\n  events.on('selection.changed', function(event) {\n\n    function deselect(s) {\n      removeMarker(s, MARKER_SELECTED);\n    }\n\n    function select(s) {\n      addMarker(s, MARKER_SELECTED);\n    }\n\n    var oldSelection = event.oldSelection,\n        newSelection = event.newSelection;\n\n    forEach(oldSelection, function(e) {\n      if (newSelection.indexOf(e) === -1) {\n        deselect(e);\n      }\n    });\n\n    forEach(newSelection, function(e) {\n      if (oldSelection.indexOf(e) === -1) {\n        select(e);\n      }\n    });\n  });\n}\n\nSelectionVisuals.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'styles'\n];","import {\n  hasPrimaryModifier,\n  hasSecondaryModifier\n} from '../../util/Mouse';\n\nimport {\n  find,\n  isArray\n} from 'min-dash';\n\n\nexport default function SelectionBehavior(eventBus, selection, canvas, elementRegistry) {\n\n  // Select elements on create\n  eventBus.on('create.end', 500, function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        elements = context.elements,\n        hints = context.hints || {},\n        autoSelect = hints.autoSelect;\n\n    if (canExecute) {\n      if (autoSelect === false) {\n\n        // Select no elements\n        return;\n      }\n\n      if (isArray(autoSelect)) {\n        selection.select(autoSelect);\n      } else {\n\n        // Select all elements by default\n        selection.select(elements.filter(isShown));\n      }\n    }\n  });\n\n  // Select connection targets on connect\n  eventBus.on('connect.end', 500, function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        hover = context.hover;\n\n    if (canExecute && hover) {\n      selection.select(hover);\n    }\n  });\n\n  // Select shapes on move\n  eventBus.on('shape.move.end', 500, function(event) {\n    var previousSelection = event.previousSelection || [];\n\n    var shape = elementRegistry.get(event.context.shape.id);\n\n    // Always select main shape on move\n    var isSelected = find(previousSelection, function(selectedShape) {\n      return shape.id === selectedShape.id;\n    });\n\n    if (!isSelected) {\n      selection.select(shape);\n    }\n  });\n\n  // Select elements on click\n  eventBus.on('element.click', function(event) {\n    var element = event.element;\n\n    if (element === canvas.getRootElement()) {\n      element = null;\n    }\n\n    var isSelected = selection.isSelected(element),\n        isMultiSelect = selection.get().length > 1;\n\n    // Add to selection if CTRL or SHIFT pressed\n    var add = hasPrimaryModifier(event) || hasSecondaryModifier(event);\n\n    if (isSelected && isMultiSelect) {\n      if (add) {\n\n        // Deselect element\n        return selection.deselect(element);\n      } else {\n\n        // Select element only\n        return selection.select(element);\n      }\n    } else if (!isSelected) {\n\n      // Select element\n      selection.select(element, add);\n    } else {\n\n      // Deselect element\n      selection.deselect(element);\n    }\n  });\n}\n\nSelectionBehavior.$inject = [\n  'eventBus',\n  'selection',\n  'canvas',\n  'elementRegistry'\n];\n\n\nfunction isShown(element) {\n  return !element.hidden;\n}\n","import InteractionEventsModule from '../interaction-events';\nimport OutlineModule from '../outline';\n\nimport Selection from './Selection';\nimport SelectionVisuals from './SelectionVisuals';\nimport SelectionBehavior from './SelectionBehavior';\n\n\nexport default {\n  __init__: [ 'selectionVisuals', 'selectionBehavior' ],\n  __depends__: [\n    InteractionEventsModule,\n    OutlineModule\n  ],\n  selection: [ 'type', Selection ],\n  selectionVisuals: [ 'type', SelectionVisuals ],\n  selectionBehavior: [ 'type', SelectionBehavior ]\n};\n","/**\n * Util that provides unique IDs.\n *\n * @class djs.util.IdGenerator\n * @constructor\n * @memberOf djs.util\n *\n * The ids can be customized via a given prefix and contain a random value to avoid collisions.\n *\n * @param {string} prefix a prefix to prepend to generated ids (for better readability)\n */\nexport default function IdGenerator(prefix) {\n\n  this._counter = 0;\n  this._prefix = (prefix ? prefix + '-' : '') + Math.floor(Math.random() * 1000000000) + '-';\n}\n\n/**\n * Returns a next unique ID.\n *\n * @method djs.util.IdGenerator#next\n *\n * @returns {string} the id\n */\nIdGenerator.prototype.next = function() {\n  return this._prefix + (++this._counter);\n};\n","import {\n  isArray,\n  isString,\n  isObject,\n  assign,\n  forEach,\n  find,\n  filter,\n  matchPattern,\n  isDefined\n} from 'min-dash';\n\nimport {\n  domify,\n  classes as domClasses,\n  attr as domAttr,\n  remove as domRemove,\n  clear as domClear\n} from 'min-dom';\n\nimport {\n  getBBox\n} from '../../util/Elements';\n\nimport Ids from '../../util/IdGenerator';\n\n// document wide unique overlay ids\nvar ids = new Ids('ov');\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * A service that allows users to attach overlays to diagram elements.\n *\n * The overlay service will take care of overlay positioning during updates.\n *\n * @example\n *\n * // add a pink badge on the top left of the shape\n * overlays.add(someShape, {\n *   position: {\n *     top: -5,\n *     left: -5\n *   },\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add via shape id\n *\n * overlays.add('some-element-id', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n * // or add with optional type\n *\n * overlays.add(someShape, 'badge', {\n *   position: {\n *     top: -5,\n *     left: -5\n *   }\n *   html: '<div style=\"width: 10px; background: fuchsia; color: white;\">0</div>'\n * });\n *\n *\n * // remove an overlay\n *\n * var id = overlays.add(...);\n * overlays.remove(id);\n *\n *\n * You may configure overlay defaults during tool by providing a `config` module\n * with `overlays.defaults` as an entry:\n *\n * {\n *   overlays: {\n *     defaults: {\n *       show: {\n *         minZoom: 0.7,\n *         maxZoom: 5.0\n *       },\n *       scale: {\n *         min: 1\n *       }\n *     }\n * }\n *\n * @param {Object} config\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n */\nexport default function Overlays(config, eventBus, canvas, elementRegistry) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._elementRegistry = elementRegistry;\n\n  this._ids = ids;\n\n  this._overlayDefaults = assign({\n\n    // no show constraints\n    show: null,\n\n    // always scale\n    scale: true\n  }, config && config.defaults);\n\n  /**\n   * Mapping overlayId -> overlay\n   */\n  this._overlays = {};\n\n  /**\n   * Mapping elementId -> overlay container\n   */\n  this._overlayContainers = [];\n\n  // root html element for all overlays\n  this._overlayRoot = createRoot(canvas.getContainer());\n\n  this._init();\n}\n\n\nOverlays.$inject = [\n  'config.overlays',\n  'eventBus',\n  'canvas',\n  'elementRegistry'\n];\n\n\n/**\n * Returns the overlay with the specified id or a list of overlays\n * for an element with a given type.\n *\n * @example\n *\n * // return the single overlay with the given id\n * overlays.get('some-id');\n *\n * // return all overlays for the shape\n * overlays.get({ element: someShape });\n *\n * // return all overlays on shape with type 'badge'\n * overlays.get({ element: someShape, type: 'badge' });\n *\n * // shape can also be specified as id\n * overlays.get({ element: 'element-id', type: 'badge' });\n *\n *\n * @param {Object} search\n * @param {string} [search.id]\n * @param {string|djs.model.Base} [search.element]\n * @param {string} [search.type]\n *\n * @return {Object|Array<Object>} the overlay(s)\n */\nOverlays.prototype.get = function(search) {\n\n  if (isString(search)) {\n    search = { id: search };\n  }\n\n  if (isString(search.element)) {\n    search.element = this._elementRegistry.get(search.element);\n  }\n\n  if (search.element) {\n    var container = this._getOverlayContainer(search.element, true);\n\n    // return a list of overlays when searching by element (+type)\n    if (container) {\n      return search.type ? filter(container.overlays, matchPattern({ type: search.type })) : container.overlays.slice();\n    } else {\n      return [];\n    }\n  } else\n  if (search.type) {\n    return filter(this._overlays, matchPattern({ type: search.type }));\n  } else {\n\n    // return single element when searching by id\n    return search.id ? this._overlays[search.id] : null;\n  }\n};\n\n/**\n * Adds a HTML overlay to an element.\n *\n * @param {string|djs.model.Base}   element   attach overlay to this shape\n * @param {string}                  [type]    optional type to assign to the overlay\n * @param {Object}                  overlay   the overlay configuration\n *\n * @param {string|DOMElement}       overlay.html                 html element to use as an overlay\n * @param {Object}                  [overlay.show]               show configuration\n * @param {number}                  [overlay.show.minZoom]       minimal zoom level to show the overlay\n * @param {number}                  [overlay.show.maxZoom]       maximum zoom level to show the overlay\n * @param {Object}                  overlay.position             where to attach the overlay\n * @param {number}                  [overlay.position.left]      relative to element bbox left attachment\n * @param {number}                  [overlay.position.top]       relative to element bbox top attachment\n * @param {number}                  [overlay.position.bottom]    relative to element bbox bottom attachment\n * @param {number}                  [overlay.position.right]     relative to element bbox right attachment\n * @param {boolean|Object}          [overlay.scale=true]         false to preserve the same size regardless of\n *                                                               diagram zoom\n * @param {number}                  [overlay.scale.min]\n * @param {number}                  [overlay.scale.max]\n *\n * @return {string}                 id that may be used to reference the overlay for update or removal\n */\nOverlays.prototype.add = function(element, type, overlay) {\n\n  if (isObject(type)) {\n    overlay = type;\n    type = null;\n  }\n\n  if (!element.id) {\n    element = this._elementRegistry.get(element);\n  }\n\n  if (!overlay.position) {\n    throw new Error('must specifiy overlay position');\n  }\n\n  if (!overlay.html) {\n    throw new Error('must specifiy overlay html');\n  }\n\n  if (!element) {\n    throw new Error('invalid element specified');\n  }\n\n  var id = this._ids.next();\n\n  overlay = assign({}, this._overlayDefaults, overlay, {\n    id: id,\n    type: type,\n    element: element,\n    html: overlay.html\n  });\n\n  this._addOverlay(overlay);\n\n  return id;\n};\n\n\n/**\n * Remove an overlay with the given id or all overlays matching the given filter.\n *\n * @see Overlays#get for filter options.\n *\n * @param {string} [id]\n * @param {Object} [filter]\n */\nOverlays.prototype.remove = function(filter) {\n\n  var overlays = this.get(filter) || [];\n\n  if (!isArray(overlays)) {\n    overlays = [ overlays ];\n  }\n\n  var self = this;\n\n  forEach(overlays, function(overlay) {\n\n    var container = self._getOverlayContainer(overlay.element, true);\n\n    if (overlay) {\n      domRemove(overlay.html);\n      domRemove(overlay.htmlContainer);\n\n      delete overlay.htmlContainer;\n      delete overlay.element;\n\n      delete self._overlays[overlay.id];\n    }\n\n    if (container) {\n      var idx = container.overlays.indexOf(overlay);\n      if (idx !== -1) {\n        container.overlays.splice(idx, 1);\n      }\n    }\n  });\n\n};\n\n\nOverlays.prototype.show = function() {\n  setVisible(this._overlayRoot);\n};\n\n\nOverlays.prototype.hide = function() {\n  setVisible(this._overlayRoot, false);\n};\n\nOverlays.prototype.clear = function() {\n  this._overlays = {};\n\n  this._overlayContainers = [];\n\n  domClear(this._overlayRoot);\n};\n\nOverlays.prototype._updateOverlayContainer = function(container) {\n  var element = container.element,\n      html = container.html;\n\n  // update container left,top according to the elements x,y coordinates\n  // this ensures we can attach child elements relative to this container\n\n  var x = element.x,\n      y = element.y;\n\n  if (element.waypoints) {\n    var bbox = getBBox(element);\n    x = bbox.x;\n    y = bbox.y;\n  }\n\n  setPosition(html, x, y);\n\n  domAttr(container.html, 'data-container-id', element.id);\n};\n\n\nOverlays.prototype._updateOverlay = function(overlay) {\n\n  var position = overlay.position,\n      htmlContainer = overlay.htmlContainer,\n      element = overlay.element;\n\n  // update overlay html relative to shape because\n  // it is already positioned on the element\n\n  // update relative\n  var left = position.left,\n      top = position.top;\n\n  if (position.right !== undefined) {\n\n    var width;\n\n    if (element.waypoints) {\n      width = getBBox(element).width;\n    } else {\n      width = element.width;\n    }\n\n    left = position.right * -1 + width;\n  }\n\n  if (position.bottom !== undefined) {\n\n    var height;\n\n    if (element.waypoints) {\n      height = getBBox(element).height;\n    } else {\n      height = element.height;\n    }\n\n    top = position.bottom * -1 + height;\n  }\n\n  setPosition(htmlContainer, left || 0, top || 0);\n};\n\n\nOverlays.prototype._createOverlayContainer = function(element) {\n  var html = domify('<div class=\"djs-overlays\" style=\"position: absolute\" />');\n\n  this._overlayRoot.appendChild(html);\n\n  var container = {\n    html: html,\n    element: element,\n    overlays: []\n  };\n\n  this._updateOverlayContainer(container);\n\n  this._overlayContainers.push(container);\n\n  return container;\n};\n\n\nOverlays.prototype._updateRoot = function(viewbox) {\n  var scale = viewbox.scale || 1;\n\n  var matrix = 'matrix(' +\n  [\n    scale,\n    0,\n    0,\n    scale,\n    -1 * viewbox.x * scale,\n    -1 * viewbox.y * scale\n  ].join(',') +\n  ')';\n\n  setTransform(this._overlayRoot, matrix);\n};\n\n\nOverlays.prototype._getOverlayContainer = function(element, raw) {\n  var container = find(this._overlayContainers, function(c) {\n    return c.element === element;\n  });\n\n\n  if (!container && !raw) {\n    return this._createOverlayContainer(element);\n  }\n\n  return container;\n};\n\n\nOverlays.prototype._addOverlay = function(overlay) {\n\n  var id = overlay.id,\n      element = overlay.element,\n      html = overlay.html,\n      htmlContainer,\n      overlayContainer;\n\n  // unwrap jquery (for those who need it)\n  if (html.get && html.constructor.prototype.jquery) {\n    html = html.get(0);\n  }\n\n  // create proper html elements from\n  // overlay HTML strings\n  if (isString(html)) {\n    html = domify(html);\n  }\n\n  overlayContainer = this._getOverlayContainer(element);\n\n  htmlContainer = domify('<div class=\"djs-overlay\" data-overlay-id=\"' + id + '\" style=\"position: absolute\">');\n\n  htmlContainer.appendChild(html);\n\n  if (overlay.type) {\n    domClasses(htmlContainer).add('djs-overlay-' + overlay.type);\n  }\n\n  overlay.htmlContainer = htmlContainer;\n\n  overlayContainer.overlays.push(overlay);\n  overlayContainer.html.appendChild(htmlContainer);\n\n  this._overlays[id] = overlay;\n\n  this._updateOverlay(overlay);\n  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());\n};\n\n\nOverlays.prototype._updateOverlayVisibilty = function(overlay, viewbox) {\n  var show = overlay.show,\n      minZoom = show && show.minZoom,\n      maxZoom = show && show.maxZoom,\n      htmlContainer = overlay.htmlContainer,\n      visible = true;\n\n  if (show) {\n    if (\n      (isDefined(minZoom) && minZoom > viewbox.scale) ||\n      (isDefined(maxZoom) && maxZoom < viewbox.scale)\n    ) {\n      visible = false;\n    }\n\n    setVisible(htmlContainer, visible);\n  }\n\n  this._updateOverlayScale(overlay, viewbox);\n};\n\n\nOverlays.prototype._updateOverlayScale = function(overlay, viewbox) {\n  var shouldScale = overlay.scale,\n      minScale,\n      maxScale,\n      htmlContainer = overlay.htmlContainer;\n\n  var scale, transform = '';\n\n  if (shouldScale !== true) {\n\n    if (shouldScale === false) {\n      minScale = 1;\n      maxScale = 1;\n    } else {\n      minScale = shouldScale.min;\n      maxScale = shouldScale.max;\n    }\n\n    if (isDefined(minScale) && viewbox.scale < minScale) {\n      scale = (1 / viewbox.scale || 1) * minScale;\n    }\n\n    if (isDefined(maxScale) && viewbox.scale > maxScale) {\n      scale = (1 / viewbox.scale || 1) * maxScale;\n    }\n  }\n\n  if (isDefined(scale)) {\n    transform = 'scale(' + scale + ',' + scale + ')';\n  }\n\n  setTransform(htmlContainer, transform);\n};\n\n\nOverlays.prototype._updateOverlaysVisibilty = function(viewbox) {\n\n  var self = this;\n\n  forEach(this._overlays, function(overlay) {\n    self._updateOverlayVisibilty(overlay, viewbox);\n  });\n};\n\n\nOverlays.prototype._init = function() {\n\n  var eventBus = this._eventBus;\n\n  var self = this;\n\n\n  // scroll/zoom integration\n\n  function updateViewbox(viewbox) {\n    self._updateRoot(viewbox);\n    self._updateOverlaysVisibilty(viewbox);\n\n    self.show();\n  }\n\n  eventBus.on('canvas.viewbox.changing', function(event) {\n    self.hide();\n  });\n\n  eventBus.on('canvas.viewbox.changed', function(event) {\n    updateViewbox(event.viewbox);\n  });\n\n\n  // remove integration\n\n  eventBus.on([ 'shape.remove', 'connection.remove' ], function(e) {\n    var element = e.element;\n    var overlays = self.get({ element: element });\n\n    forEach(overlays, function(o) {\n      self.remove(o.id);\n    });\n\n    var container = self._getOverlayContainer(element);\n\n    if (container) {\n      domRemove(container.html);\n      var i = self._overlayContainers.indexOf(container);\n      if (i !== -1) {\n        self._overlayContainers.splice(i, 1);\n      }\n    }\n  });\n\n\n  // move integration\n\n  eventBus.on('element.changed', LOW_PRIORITY, function(e) {\n    var element = e.element;\n\n    var container = self._getOverlayContainer(element, true);\n\n    if (container) {\n      forEach(container.overlays, function(overlay) {\n        self._updateOverlay(overlay);\n      });\n\n      self._updateOverlayContainer(container);\n    }\n  });\n\n\n  // marker integration, simply add them on the overlays as classes, too.\n\n  eventBus.on('element.marker.update', function(e) {\n    var container = self._getOverlayContainer(e.element, true);\n    if (container) {\n      domClasses(container.html)[e.add ? 'add' : 'remove'](e.marker);\n    }\n  });\n\n\n  // clear overlays with diagram\n\n  eventBus.on('diagram.clear', this.clear, this);\n};\n\n\n\n// helpers /////////////////////////////\n\nfunction createRoot(parentNode) {\n  var root = domify(\n    '<div class=\"djs-overlay-container\" style=\"position: absolute; width: 0; height: 0;\" />'\n  );\n\n  parentNode.insertBefore(root, parentNode.firstChild);\n\n  return root;\n}\n\nfunction setPosition(el, x, y) {\n  assign(el.style, { left: x + 'px', top: y + 'px' });\n}\n\nfunction setVisible(el, visible) {\n  el.style.display = visible === false ? 'none' : '';\n}\n\nfunction setTransform(el, transform) {\n\n  el.style['transform-origin'] = 'top left';\n\n  [ '', '-ms-', '-webkit-' ].forEach(function(prefix) {\n    el.style[prefix + 'transform'] = transform;\n  });\n}","import Overlays from './Overlays';\n\nexport default {\n  __init__: [ 'overlays' ],\n  overlays: [ 'type', Overlays ]\n};","import {\n  domify,\n  query as domQuery,\n  delegate as domDelegate\n} from 'min-dom';\n\n\nexport default function DefinitionPropertiesView(eventBus, canvas) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  eventBus.on('diagram.init', function() {\n    this._init();\n  }, this);\n\n  eventBus.on('import.done', function(event) {\n    if (!event.error) {\n      this.update();\n    }\n  }, this);\n}\n\nDefinitionPropertiesView.$inject = [ 'eventBus', 'canvas' ];\n\n/**\n * Initialize\n */\nDefinitionPropertiesView.prototype._init = function() {\n  var canvas = this._canvas,\n      eventBus = this._eventBus;\n\n  var parent = canvas.getContainer(),\n      container = this._container = domify(DefinitionPropertiesView.HTML_MARKUP);\n\n  parent.appendChild(container);\n\n  this.nameElement = domQuery('.dmn-definitions-name', this._container);\n  this.idElement = domQuery('.dmn-definitions-id', this._container);\n\n  domDelegate.bind(\n    container,\n    '.dmn-definitions-name, .dmn-definitions-id', 'mousedown',\n    function(event) {\n      event.stopPropagation();\n    }\n  );\n\n  eventBus.fire('definitionIdView.create', {\n    html: container\n  });\n};\n\nDefinitionPropertiesView.prototype.update = function() {\n  var businessObject = this._canvas.getRootElement().businessObject;\n\n  this.nameElement.textContent = businessObject.name;\n  this.idElement.textContent = businessObject.id;\n};\n\n\n/* markup definition */\n\nDefinitionPropertiesView.HTML_MARKUP =\n  '<div class=\"dmn-definitions\">' +\n    '<div class=\"dmn-definitions-name\" title=\"Definition Name\"></div>' +\n    '<div class=\"dmn-definitions-id\" title=\"Definition ID\"></div>' +\n  '</div>';\n","import {\n  classes as domClasses\n} from 'min-dom';\n\n\nexport default function PaletteAdapter(eventBus, canvas) {\n\n  function toggleMarker(cls, on) {\n    var container = canvas.getContainer();\n\n    domClasses(container).toggle(cls, on);\n  }\n\n  eventBus.on('palette.create', function() {\n    toggleMarker('with-palette', true);\n  });\n\n  eventBus.on('palette.changed', function(event) {\n    toggleMarker('with-palette-two-column', event.twoColumn);\n  });\n\n}\n\nPaletteAdapter.$inject = [\n  'eventBus',\n  'canvas'\n];","import DefinitionPropertiesView from './DefinitionPropertiesView';\nimport PaletteAdapter from './PaletteAdapter';\n\nexport default {\n  __init__: [\n    'definitionPropertiesView',\n    'definitionPropertiesPaletteAdapter'\n  ],\n  definitionPropertiesView: [ 'type', DefinitionPropertiesView ],\n  definitionPropertiesPaletteAdapter: [ 'type', PaletteAdapter ]\n};\n","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport {\n  domify,\n  classes as domClasses,\n  delegate as domDelegate\n} from 'min-dom';\n\n\nvar PROVIDERS = [\n  {\n    className: 'dmn-icon-decision-table',\n    matches: function(el) {\n      var businessObject = el.businessObject;\n\n      return (\n        is(businessObject, 'dmn:Decision') &&\n        is(businessObject.decisionLogic, 'dmn:DecisionTable')\n      );\n    }\n  },\n  {\n    className: 'dmn-icon-literal-expression',\n    matches: function(el) {\n      var businessObject = el.businessObject;\n\n      return (\n        is(businessObject, 'dmn:Decision') &&\n        is(businessObject.decisionLogic, 'dmn:LiteralExpression')\n      );\n    }\n  }\n];\n\n\n/**\n * Displays overlays that can be clicked in order to drill\n * down into a DMN element.\n */\nexport default class DrillDown {\n\n  constructor(injector, eventBus, overlays, config) {\n    this._injector = injector;\n    this._eventBus = eventBus;\n    this._overlays = overlays;\n\n    this._config = config || { enabled: true };\n\n    eventBus.on([ 'shape.added' ], ({ element }) => {\n\n      for (let i = 0; i < PROVIDERS.length; i++) {\n\n        const { matches, className } = PROVIDERS[i];\n\n        var editable = matches && matches(element);\n\n        if (editable) {\n          this.addOverlay(element, className);\n        }\n      }\n    });\n  }\n\n  /**\n   * Add overlay to an element that enables drill down.\n   *\n   * @param {Object} element Element to add overlay to.\n   * @param {string} className\n   *        CSS class that will be added to overlay in order to display icon.\n   */\n  addOverlay(element, className) {\n    const html = domify(`\n      <div class=\"drill-down-overlay\">\n        <span class=\"${className}\"></span>\n      </div>\n    `);\n\n    const overlayId = this._overlays.add(element, {\n      position: {\n        top: 2,\n        left: 2\n      },\n      html\n    });\n\n    // TODO(nikku): can we remove renamed to drillDown.enabled\n    if (this._config.enabled !== false) {\n      domClasses(html).add('interactive');\n\n      this.bindEventListener(element, html, overlayId);\n    }\n  }\n\n  /**\n   * @param {Object} element\n   * @param {Object} overlay\n   * @param {string} id\n   */\n  bindEventListener(element, overlay, id) {\n    const overlays = this._overlays,\n          eventBus = this._eventBus;\n\n    const overlaysRoot = overlays._overlayRoot;\n\n    domDelegate.bind(overlaysRoot, '[data-overlay-id=\"' + id + '\"]', 'click', () => {\n\n      const triggerDefault = eventBus.fire('drillDown.click', {\n        element\n      });\n\n      if (triggerDefault === false) {\n        return;\n      }\n\n      this.drillDown(element);\n    });\n  }\n\n\n  /**\n   * Drill down into the specific element.\n   *\n   * @param  {djs.model.Base} element\n   *\n   * @return {boolean} whether drill down was executed\n   */\n  drillDown(element) {\n\n    const parent = this._injector.get('_parent', false);\n\n    // no parent; skip drill down\n    if (!parent) {\n      return false;\n    }\n\n    const view = parent.getView(element.businessObject);\n\n    // no view to drill down to\n    if (!view) {\n      return false;\n    }\n\n    parent.open(view);\n\n    return true;\n  }\n\n}\n\nDrillDown.$inject = [\n  'injector',\n  'eventBus',\n  'overlays',\n  'config.drillDown'\n];","import OverlaysModule from 'diagram-js/lib/features/overlays';\n\nimport DrillDown from './DrillDown';\n\nexport default {\n  __depends__: [\n    OverlaysModule\n  ],\n  __init__: [ 'drillDown' ],\n  drillDown: [ 'type', DrillDown ]\n};\n","/**\n * This file must not be changed or exchanged.\n *\n * @see http://bpmn.io/license for more information.\n */\n\nimport {\n  domify,\n  delegate as domDelegate\n} from 'min-dom';\n\n// inlined ../../../../resources/logo.svg\n// eslint-disable-next-line\nvar BPMNIO_LOGO_SVG = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.02 5.57\" width=\"53\" height=\"21\" style=\"vertical-align:middle\"><path fill=\"currentColor\" d=\"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z\"/><path fill=\"currentColor\" d=\"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z\"/></svg>';\n\nexport var BPMNIO_IMG = BPMNIO_LOGO_SVG;\n\nfunction css(attrs) {\n  return attrs.join(';');\n}\n\nexport var LINK_STYLES = css([\n  'color: #404040'\n]);\n\nvar LIGHTBOX_STYLES = css([\n  'z-index: 1001',\n  'position: fixed',\n  'top: 0',\n  'left: 0',\n  'right: 0',\n  'bottom: 0'\n]);\n\nvar BACKDROP_STYLES = css([\n  'width: 100%',\n  'height: 100%',\n  'background: rgba(40,40,40,0.2)'\n]);\n\nvar NOTICE_STYLES = css([\n  'position: absolute',\n  'left: 50%',\n  'top: 40%',\n  'transform: translate(-50%)',\n  'width: 260px',\n  'padding: 10px',\n  'background: white',\n  'box-shadow: 0 1px 4px rgba(0,0,0,0.3)',\n  'font-family: Helvetica, Arial, sans-serif',\n  'font-size: 14px',\n  'display: flex',\n  'line-height: 1.3'\n]);\n\n/* eslint-disable max-len */\nvar LIGHTBOX_MARKUP =\n  '<div class=\"bjs-powered-by-lightbox\" style=\"' + LIGHTBOX_STYLES + '\">' +\n    '<div class=\"backdrop\" style=\"' + BACKDROP_STYLES + '\"></div>' +\n    '<div class=\"notice\" style=\"' + NOTICE_STYLES + '\">' +\n      '<a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\" style=\"margin: 15px 20px 15px 10px; align-self: center;' + LINK_STYLES + '\">' +\n        BPMNIO_IMG +\n      '</a>' +\n      '<span>' +\n        'Web-based tooling for BPMN, DMN and CMMN diagrams ' +\n        'powered by <a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\">bpmn.io</a>.' +\n      '</span>' +\n    '</div>' +\n  '</div>';\n/* eslint-enable */\n\nvar lightbox;\n\nexport function open() {\n\n  if (!lightbox) {\n    lightbox = domify(LIGHTBOX_MARKUP);\n\n    domDelegate.bind(lightbox, '.backdrop', 'click', function(event) {\n      document.body.removeChild(lightbox);\n    });\n  }\n\n  document.body.appendChild(lightbox);\n}","/**\n * The code in the <project-logo></project-logo> area\n * must not be changed.\n *\n * @see http://bpmn.io/license for more information.\n */\n\nimport {\n  domify,\n  query as domQuery,\n  remove as domRemove\n} from 'min-dom';\n\nimport Diagram from 'diagram-js';\n\nimport inherits from 'inherits';\n\nimport {\n  importDRD\n} from './import/Importer';\n\nimport {\n  innerSVG\n} from 'tiny-svg';\n\n\n/**\n * A viewer for DMN diagrams.\n *\n * Have a look at {@link NavigatedViewer} or {@link Modeler} for bundles that include\n * additional features.\n *\n *\n * ## Extending the Viewer\n *\n * In order to extend the viewer pass extension modules to bootstrap via the\n * `additionalModules` option. An extension module is an object that exposes\n * named services.\n *\n * The following example depicts the integration of a simple\n * logging component that integrates with interaction events:\n *\n *\n * ```javascript\n *\n * // logging component\n * function InteractionLogger(eventBus) {\n *   eventBus.on('element.hover', function(event) {\n *     console.log()\n *   })\n * }\n *\n * InteractionLogger.$inject = [ 'eventBus' ]; // minification save\n *\n * // extension module\n * var extensionModule = {\n *   __init__: [ 'interactionLogger' ],\n *   interactionLogger: [ 'type', InteractionLogger ]\n * };\n *\n * // extend the viewer\n * var drdViewer = new Viewer({ additionalModules: [ extensionModule ] });\n * drdViewer.importXML(...);\n * ```\n *\n * @param {Object} options configuration options to pass to the viewer\n * @param {DOMElement} [options.container]\n *        the container to render the viewer in, defaults to body\n * @param {Array<didi.Module>} [options.modules]\n *        a list of modules to override the default modules\n * @param {Array<didi.Module>} [options.additionalModules]\n *        a list of modules to use with the default modules\n */\nexport default function Viewer(options) {\n\n  this._container = this._createContainer();\n\n  /* <project-logo> */\n\n  addProjectLogo(this._container);\n\n  /* </project-logo> */\n\n  this._init(this._container, options);\n}\n\ninherits(Viewer, Diagram);\n\n/**\n * Export the currently displayed DMN diagram as\n * an SVG image.\n *\n * @param {Object} [options]\n * @param {Function} done invoked with (err, svgStr)\n */\nViewer.prototype.saveSVG = function(options, done) {\n\n  if (!done) {\n    done = options;\n    options = {};\n  }\n\n  var canvas = this.get('canvas');\n\n  var contentNode = canvas.getDefaultLayer(),\n      defsNode = domQuery('defs', canvas._svg);\n\n  var contents = innerSVG(contentNode),\n      defs = (defsNode && defsNode.outerHTML) || '';\n\n  var bbox = contentNode.getBBox();\n\n  /* eslint-disable max-len */\n  var svg =\n    '<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' +\n    '<!-- created with dmn-js / http://bpmn.io -->\\n' +\n    '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' +\n         'width=\"' + bbox.width + '\" height=\"' + bbox.height + '\" ' +\n         'viewBox=\"' + bbox.x + ' ' + bbox.y + ' ' + bbox.width + ' ' + bbox.height + '\" version=\"1.1\">' +\n      defs + contents +\n    '</svg>';\n  /* eslint-enable */\n\n  done(null, svg);\n};\n\nViewer.prototype.getModules = function() {\n  return this._modules;\n};\n\n/**\n * Destroy the viewer instance and remove all its\n * remainders from the document tree.\n */\nViewer.prototype.destroy = function() {\n\n  // diagram destroy\n  Diagram.prototype.destroy.call(this);\n\n  // dom detach\n  domRemove(this._container);\n};\n\n/**\n * Register an event listener\n *\n * Remove a previously added listener via {@link #off(event, callback)}.\n *\n * @param {string} event\n * @param {number} [priority]\n * @param {Function} callback\n * @param {Object} [that]\n */\nViewer.prototype.on = function(event, priority, callback, target) {\n  return this.get('eventBus').on(event, priority, callback, target);\n};\n\n/**\n * De-register an event listener\n *\n * @param {string} event\n * @param {Function} callback\n */\nViewer.prototype.off = function(event, callback) {\n  this.get('eventBus').off(event, callback);\n};\n\n\nViewer.prototype._init = function(container, options) {\n\n  var {\n    additionalModules,\n    canvas,\n    ...additionalOptions\n  } = options;\n\n  var baseModules = options.modules || this.getModules(),\n      staticModules = [\n        {\n          drd: [ 'value', this ]\n        }\n      ];\n\n  var modules = [\n    ...staticModules,\n    ...baseModules,\n    ...(additionalModules || [])\n  ];\n\n  var diagramOptions = {\n    ...additionalOptions,\n    canvas: {\n      ...canvas,\n      container\n    },\n    modules\n  };\n\n\n  // invoke diagram constructor\n  Diagram.call(this, diagramOptions);\n\n  if (options && options.container) {\n    this.attachTo(options.container);\n  }\n};\n\n/**\n * Emit an event on the underlying {@link EventBus}\n *\n * @param  {string} type\n * @param  {Object} event\n *\n * @return {Object} event processing result (if any)\n */\nViewer.prototype._emit = function(type, event) {\n  return this.get('eventBus').fire(type, event);\n};\n\nViewer.prototype._createContainer = function() {\n  return domify(\n    '<div class=\"dmn-drd-container\"></div>'\n  );\n};\n\nViewer.prototype.open = function(definitions, done) {\n\n  var err;\n\n  // use try/catch to not swallow synchronous exceptions\n  // that may be raised during model parsing\n  try {\n\n    if (this._definitions) {\n\n      // clear existing rendered diagram\n      this.clear();\n    }\n\n    // update definitions\n    this._definitions = definitions;\n\n    // perform graphical import\n    return importDRD(this, definitions, done);\n  } catch (e) {\n    err = e;\n  }\n\n  return done(err);\n};\n\n/**\n * Attach viewer to given parent node.\n *\n * @param  {Element} parentNode\n */\nViewer.prototype.attachTo = function(parentNode) {\n\n  if (!parentNode) {\n    throw new Error('parentNode required');\n  }\n\n  // ensure we detach from the\n  // previous, old parent\n  this.detach();\n\n  var container = this._container;\n\n  parentNode.appendChild(container);\n\n  this._emit('attach', {});\n\n  this.get('canvas').resized();\n};\n\n/**\n * Detach viewer from parent node, if attached.\n */\nViewer.prototype.detach = function() {\n\n  var container = this._container,\n      parentNode = container.parentNode;\n\n  if (!parentNode) {\n    return;\n  }\n\n  this._emit('detach', {});\n\n  parentNode.removeChild(container);\n};\n\nimport CoreModule from './core';\nimport TranslateModule from 'diagram-js/lib/i18n/translate';\nimport SelectionModule from 'diagram-js/lib/features/selection';\nimport OverlaysModule from 'diagram-js/lib/features/overlays';\nimport DefinitionPropertiesModule from './features/definition-properties/viewer';\nimport DrillDownModule from './features/drill-down';\n\nViewer.prototype._modules = [\n  CoreModule,\n  TranslateModule,\n  SelectionModule,\n  OverlaysModule,\n  DefinitionPropertiesModule,\n  DrillDownModule\n];\n\n/* <project-logo> */\n\nimport {\n  BPMNIO_IMG,\n  LINK_STYLES,\n  open as openPoweredBy\n} from './util/PoweredByUtil';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\n/**\n * Adds the project logo to the diagram container as\n * required by the bpmn.io license.\n *\n * @see http://bpmn.io/license\n *\n * @param {Element} container\n */\nfunction addProjectLogo(container) {\n  var linkMarkup =\n    '<a href=\"http://bpmn.io\" ' +\n       'target=\"_blank\" ' +\n       'class=\"bjs-powered-by\" ' +\n       'title=\"Powered by bpmn.io\" ' +\n       'style=\"position: absolute; bottom: 15px; right: 15px; z-index: 100; ' +\n       LINK_STYLES +\n      '\">' +\n      BPMNIO_IMG +\n    '</a>';\n\n  var linkElement = domify(linkMarkup);\n\n  container.appendChild(linkElement);\n\n  domEvent.bind(linkElement, 'click', function(event) {\n    openPoweredBy();\n\n    event.preventDefault();\n  });\n}\n\n/* </project-logo> */\n","export function center(bounds) {\n  return {\n    x: bounds.x + (bounds.width / 2),\n    y: bounds.y + (bounds.height / 2)\n  };\n}\n\n\nexport function delta(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}","/**\n * Get the logarithm of x with base 10\n * @param  {Integer} value\n */\nexport function log10(x) {\n  return Math.log(x) / Math.log(10);\n}\n\nexport { delta as substract } from './PositionUtil';\n","import {\n  log10\n} from '../../util/Math';\n\n/**\n * Get step size for given range and number of steps.\n *\n * @param {Object} range\n * @param {number} range.min\n * @param {number} range.max\n */\nexport function getStepSize(range, steps) {\n\n  var minLinearRange = log10(range.min),\n      maxLinearRange = log10(range.max);\n\n  var absoluteLinearRange = Math.abs(minLinearRange) + Math.abs(maxLinearRange);\n\n  return absoluteLinearRange / steps;\n}\n\nexport function cap(range, scale) {\n  return Math.max(range.min, Math.min(range.max, scale));\n}\n","import {\n  event as domEvent,\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  getStepSize,\n  cap\n} from './ZoomUtil';\n\nimport {\n  log10\n} from '../../util/Math';\n\nimport {\n  bind\n} from 'min-dash';\n\nvar sign = Math.sign || function(n) {\n  return n >= 0 ? 1 : -1;\n};\n\nvar RANGE = { min: 0.2, max: 4 },\n    NUM_STEPS = 10;\n\nvar DELTA_THRESHOLD = 0.1;\n\nvar DEFAULT_SCALE = 0.75;\n\n/**\n * An implementation of zooming and scrolling within the\n * {@link Canvas} via the mouse wheel.\n *\n * Mouse wheel zooming / scrolling may be disabled using\n * the {@link toggle(enabled)} method.\n *\n * @param {Object} [config]\n * @param {boolean} [config.enabled=true] default enabled state\n * @param {number} [config.scale=.75] scroll sensivity\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function ZoomScroll(config, eventBus, canvas) {\n\n  config = config || {};\n\n  this._enabled = false;\n\n  this._canvas = canvas;\n  this._container = canvas._container;\n\n  this._handleWheel = bind(this._handleWheel, this);\n\n  this._totalDelta = 0;\n  this._scale = config.scale || DEFAULT_SCALE;\n\n  var self = this;\n\n  eventBus.on('canvas.init', function(e) {\n    self._init(config.enabled !== false);\n  });\n}\n\nZoomScroll.$inject = [\n  'config.zoomScroll',\n  'eventBus',\n  'canvas'\n];\n\nZoomScroll.prototype.scroll = function scroll(delta) {\n  this._canvas.scroll(delta);\n};\n\n\nZoomScroll.prototype.reset = function reset() {\n  this._canvas.zoom('fit-viewport');\n};\n\n/**\n * Zoom depending on delta.\n *\n * @param {number} delta\n * @param {Object} position\n */\nZoomScroll.prototype.zoom = function zoom(delta, position) {\n\n  // zoom with half the step size of stepZoom\n  var stepSize = getStepSize(RANGE, NUM_STEPS * 2);\n\n  // add until threshold reached\n  this._totalDelta += delta;\n\n  if (Math.abs(this._totalDelta) > DELTA_THRESHOLD) {\n    this._zoom(delta, position, stepSize);\n\n    // reset\n    this._totalDelta = 0;\n  }\n};\n\n\nZoomScroll.prototype._handleWheel = function handleWheel(event) {\n\n  // event is already handled by '.djs-scrollable'\n  if (domClosest(event.target, '.djs-scrollable', true)) {\n    return;\n  }\n\n  var element = this._container;\n\n  event.preventDefault();\n\n  // pinch to zoom is mapped to wheel + ctrlKey = true\n  // in modern browsers (!)\n\n  var isZoom = event.ctrlKey;\n\n  var isHorizontalScroll = event.shiftKey;\n\n  var factor = -1 * this._scale,\n      delta;\n\n  if (isZoom) {\n    factor *= event.deltaMode === 0 ? 0.020 : 0.32;\n  } else {\n    factor *= event.deltaMode === 0 ? 1.0 : 16.0;\n  }\n\n  if (isZoom) {\n    var elementRect = element.getBoundingClientRect();\n\n    var offset = {\n      x: event.clientX - elementRect.left,\n      y: event.clientY - elementRect.top\n    };\n\n    delta = (\n      Math.sqrt(\n        Math.pow(event.deltaY, 2) +\n        Math.pow(event.deltaX, 2)\n      ) * sign(event.deltaY) * factor\n    );\n\n    // zoom in relative to diagram {x,y} coordinates\n    this.zoom(delta, offset);\n  } else {\n\n    if (isHorizontalScroll) {\n      delta = {\n        dx: factor * event.deltaY,\n        dy: 0\n      };\n    } else {\n      delta = {\n        dx: factor * event.deltaX,\n        dy: factor * event.deltaY\n      };\n    }\n\n    this.scroll(delta);\n  }\n};\n\n/**\n * Zoom with fixed step size.\n *\n * @param {number} delta - Zoom delta (1 for zooming in, -1 for out).\n * @param {Object} position\n */\nZoomScroll.prototype.stepZoom = function stepZoom(delta, position) {\n\n  var stepSize = getStepSize(RANGE, NUM_STEPS);\n\n  this._zoom(delta, position, stepSize);\n};\n\n\n/**\n * Zoom in/out given a step size.\n *\n * @param {number} delta\n * @param {Object} position\n * @param {number} stepSize\n */\nZoomScroll.prototype._zoom = function(delta, position, stepSize) {\n  var canvas = this._canvas;\n\n  var direction = delta > 0 ? 1 : -1;\n\n  var currentLinearZoomLevel = log10(canvas.zoom());\n\n  // snap to a proximate zoom step\n  var newLinearZoomLevel = Math.round(currentLinearZoomLevel / stepSize) * stepSize;\n\n  // increase or decrease one zoom step in the given direction\n  newLinearZoomLevel += stepSize * direction;\n\n  // calculate the absolute logarithmic zoom level based on the linear zoom level\n  // (e.g. 2 for an absolute x2 zoom)\n  var newLogZoomLevel = Math.pow(10, newLinearZoomLevel);\n\n  canvas.zoom(cap(RANGE, newLogZoomLevel), position);\n};\n\n\n/**\n * Toggle the zoom scroll ability via mouse wheel.\n *\n * @param  {boolean} [newEnabled] new enabled state\n */\nZoomScroll.prototype.toggle = function toggle(newEnabled) {\n\n  var element = this._container;\n  var handleWheel = this._handleWheel;\n\n  var oldEnabled = this._enabled;\n\n  if (typeof newEnabled === 'undefined') {\n    newEnabled = !oldEnabled;\n  }\n\n  // only react on actual changes\n  if (oldEnabled !== newEnabled) {\n\n    // add or remove wheel listener based on\n    // changed enabled state\n    domEvent[newEnabled ? 'bind' : 'unbind'](element, 'wheel', handleWheel, false);\n  }\n\n  this._enabled = newEnabled;\n\n  return newEnabled;\n};\n\n\nZoomScroll.prototype._init = function(newEnabled) {\n  this.toggle(newEnabled);\n};\n","import ZoomScroll from './ZoomScroll';\n\nexport default {\n  __init__: [ 'zoomScroll' ],\n  zoomScroll: [ 'type', ZoomScroll ]\n};","import {\n  classes as domClasses\n} from 'min-dom';\n\nvar CURSOR_CLS_PATTERN = /^djs-cursor-.*$/;\n\n\nexport function set(mode) {\n  var classes = domClasses(document.body);\n\n  classes.removeMatching(CURSOR_CLS_PATTERN);\n\n  if (mode) {\n    classes.add('djs-cursor-' + mode);\n  }\n}\n\nexport function unset() {\n  set(null);\n}\n\nexport function has(mode) {\n  var classes = domClasses(document.body);\n\n  return classes.has('djs-cursor-' + mode);\n}\n","var TRAP_PRIORITY = 5000;\n\n/**\n * Installs a click trap that prevents a ghost click following a dragging operation.\n *\n * @return {Function} a function to immediately remove the installed trap.\n */\nexport function install(eventBus, eventName) {\n\n  eventName = eventName || 'element.click';\n\n  function trap() {\n    return false;\n  }\n\n  eventBus.once(eventName, TRAP_PRIORITY, trap);\n\n  return function() {\n    eventBus.off(eventName, trap);\n  };\n}","import {\n  set as cursorSet,\n  unset as cursorUnset\n} from '../../util/Cursor';\n\nimport {\n  install as installClickTrap\n} from '../../util/ClickTrap';\n\nimport {\n  delta as deltaPos\n} from '../../util/PositionUtil';\n\nimport {\n  event as domEvent,\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\n\nvar THRESHOLD = 15;\n\n\n/**\n * Move the canvas via mouse.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function MoveCanvas(eventBus, canvas) {\n\n  var context;\n\n\n  // listen for move on element mouse down;\n  // allow others to hook into the event before us though\n  // (dragging / element moving will do this)\n  eventBus.on('element.mousedown', 500, function(e) {\n    return handleStart(e.originalEvent);\n  });\n\n\n  function handleMove(event) {\n\n    var start = context.start,\n        position = toPoint(event),\n        delta = deltaPos(position, start);\n\n    if (!context.dragging && length(delta) > THRESHOLD) {\n      context.dragging = true;\n\n      installClickTrap(eventBus);\n\n      cursorSet('grab');\n    }\n\n    if (context.dragging) {\n\n      var lastPosition = context.last || context.start;\n\n      delta = deltaPos(position, lastPosition);\n\n      canvas.scroll({\n        dx: delta.x,\n        dy: delta.y\n      });\n\n      context.last = position;\n    }\n\n    // prevent select\n    event.preventDefault();\n  }\n\n\n  function handleEnd(event) {\n    domEvent.unbind(document, 'mousemove', handleMove);\n    domEvent.unbind(document, 'mouseup', handleEnd);\n\n    context = null;\n\n    cursorUnset();\n  }\n\n  function handleStart(event) {\n\n    // event is already handled by '.djs-draggable'\n    if (domClosest(event.target, '.djs-draggable')) {\n      return;\n    }\n\n\n    // reject non-left left mouse button or modifier key\n    if (event.button || event.ctrlKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    context = {\n      start: toPoint(event)\n    };\n\n    domEvent.bind(document, 'mousemove', handleMove);\n    domEvent.bind(document, 'mouseup', handleEnd);\n\n    // we've handled the event\n    return true;\n  }\n}\n\n\nMoveCanvas.$inject = [\n  'eventBus',\n  'canvas'\n];\n\n\n\n// helpers ///////\n\nfunction length(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n","import MoveCanvas from './MoveCanvas';\n\nexport default {\n  __init__: [ 'moveCanvas' ],\n  moveCanvas: [ 'type', MoveCanvas ]\n};","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  event as domEvent,\n  closest as domClosest\n} from 'min-dom';\n\nimport Hammer from 'hammerjs';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\nvar MIN_ZOOM = 0.2,\n    MAX_ZOOM = 4;\n\nvar mouseEvents = [\n  'mousedown',\n  'mouseup',\n  'mouseover',\n  'mouseout',\n  'click',\n  'dblclick'\n];\n\nfunction log() {\n\n  // console.log.apply(console, arguments);\n}\n\nfunction get(service, injector) {\n  return injector.get(service, false);\n}\n\nfunction stopEvent(event) {\n\n  event.preventDefault();\n\n  if (typeof event.stopPropagation === 'function') {\n    event.stopPropagation();\n  } else if (event.srcEvent && typeof event.srcEvent.stopPropagation === 'function') {\n\n    // iPhone & iPad\n    event.srcEvent.stopPropagation();\n  }\n\n  if (typeof event.stopImmediatePropagation === 'function') {\n    event.stopImmediatePropagation();\n  }\n}\n\n\nfunction createTouchRecognizer(node) {\n\n  function stopMouse(event) {\n\n    forEach(mouseEvents, function(e) {\n      domEvent.bind(node, e, stopEvent, true);\n    });\n  }\n\n  function allowMouse(event) {\n    setTimeout(function() {\n      forEach(mouseEvents, function(e) {\n        domEvent.unbind(node, e, stopEvent, true);\n      });\n    }, 500);\n  }\n\n  domEvent.bind(node, 'touchstart', stopMouse, true);\n  domEvent.bind(node, 'touchend', allowMouse, true);\n  domEvent.bind(node, 'touchcancel', allowMouse, true);\n\n  // A touch event recognizer that handles\n  // touch events only (we know, we can already handle\n  // mouse events out of the box)\n\n  var recognizer = new Hammer.Manager(node, {\n    inputClass: Hammer.TouchInput,\n    recognizers: [],\n    domEvents: true\n  });\n\n\n  var tap = new Hammer.Tap();\n  var pan = new Hammer.Pan({ threshold: 10 });\n  var press = new Hammer.Press();\n  var pinch = new Hammer.Pinch();\n\n  var doubleTap = new Hammer.Tap({ event: 'doubletap', taps: 2 });\n\n  pinch.requireFailure(pan);\n  pinch.requireFailure(press);\n\n  recognizer.add([ pan, press, pinch, doubleTap, tap ]);\n\n  recognizer.reset = function(force) {\n    var recognizers = this.recognizers,\n        session = this.session;\n\n    if (session.stopped) {\n      return;\n    }\n\n    log('recognizer', 'stop');\n\n    recognizer.stop(force);\n\n    setTimeout(function() {\n      var i, r;\n\n      log('recognizer', 'reset');\n      for (i = 0; (r = recognizers[i]); i++) {\n        r.reset();\n        r.state = 8; // FAILED STATE\n      }\n\n      session.curRecognizer = null;\n    }, 0);\n  };\n\n  recognizer.on('hammer.input', function(event) {\n    if (event.srcEvent.defaultPrevented) {\n      recognizer.reset(true);\n    }\n  });\n\n  return recognizer;\n}\n\n/**\n * A plugin that provides touch events for elements.\n *\n * @param {EventBus} eventBus\n * @param {InteractionEvents} interactionEvents\n */\nexport default function TouchInteractionEvents(\n    injector, canvas, eventBus,\n    elementRegistry, interactionEvents) {\n\n  // optional integrations\n  var dragging = get('dragging', injector),\n      move = get('move', injector),\n      contextPad = get('contextPad', injector),\n      palette = get('palette', injector);\n\n  // the touch recognizer\n  var recognizer;\n\n  function handler(type) {\n\n    return function(event) {\n      log('element', type, event);\n\n      interactionEvents.fire(type, event);\n    };\n  }\n\n  function getGfx(target) {\n    var node = domClosest(target, 'svg, .djs-element', true);\n    return node;\n  }\n\n  function initEvents(svg) {\n\n    // touch recognizer\n    recognizer = createTouchRecognizer(svg);\n\n    recognizer.on('doubletap', handler('element.dblclick'));\n\n    recognizer.on('tap', handler('element.click'));\n\n    function startGrabCanvas(event) {\n\n      log('canvas', 'grab start');\n\n      var lx = 0, ly = 0;\n\n      function update(e) {\n\n        var dx = e.deltaX - lx,\n            dy = e.deltaY - ly;\n\n        canvas.scroll({ dx: dx, dy: dy });\n\n        lx = e.deltaX;\n        ly = e.deltaY;\n      }\n\n      function end(e) {\n        recognizer.off('panmove', update);\n        recognizer.off('panend', end);\n        recognizer.off('pancancel', end);\n\n        log('canvas', 'grab end');\n      }\n\n      recognizer.on('panmove', update);\n      recognizer.on('panend', end);\n      recognizer.on('pancancel', end);\n    }\n\n    function startGrab(event) {\n\n      var gfx = getGfx(event.target),\n          element = gfx && elementRegistry.get(gfx);\n\n      // recognizer\n      if (move && canvas.getRootElement() !== element) {\n        log('element', 'move start', element, event, true);\n        return move.start(event, element, true);\n      } else {\n        startGrabCanvas(event);\n      }\n    }\n\n    function startZoom(e) {\n\n      log('canvas', 'zoom start');\n\n      var zoom = canvas.zoom(),\n          mid = e.center;\n\n      function update(e) {\n\n        var ratio = 1 - (1 - e.scale) / 1.50,\n            newZoom = Math.max(MIN_ZOOM, Math.min(MAX_ZOOM, ratio * zoom));\n\n        canvas.zoom(newZoom, mid);\n\n        stopEvent(e);\n      }\n\n      function end(e) {\n        recognizer.off('pinchmove', update);\n        recognizer.off('pinchend', end);\n        recognizer.off('pinchcancel', end);\n\n        recognizer.reset(true);\n\n        log('canvas', 'zoom end');\n      }\n\n      recognizer.on('pinchmove', update);\n      recognizer.on('pinchend', end);\n      recognizer.on('pinchcancel', end);\n    }\n\n    recognizer.on('panstart', startGrab);\n    recognizer.on('press', startGrab);\n\n    recognizer.on('pinchstart', startZoom);\n  }\n\n  if (dragging) {\n\n    // simulate hover during dragging\n    eventBus.on('drag.move', function(event) {\n\n      var originalEvent = event.originalEvent;\n\n      if (!originalEvent || originalEvent instanceof MouseEvent) {\n        return;\n      }\n\n      var position = toPoint(originalEvent);\n\n      // this gets really expensive ...\n      var node = document.elementFromPoint(position.x, position.y),\n          gfx = getGfx(node),\n          element = gfx && elementRegistry.get(gfx);\n\n      if (element !== event.hover) {\n        if (event.hover) {\n          dragging.out(event);\n        }\n\n        if (element) {\n          dragging.hover({ element: element, gfx: gfx });\n\n          event.hover = element;\n          event.hoverGfx = gfx;\n        }\n      }\n    });\n  }\n\n  if (contextPad) {\n\n    eventBus.on('contextPad.create', function(event) {\n      var node = event.pad.html;\n\n      // touch recognizer\n      var padRecognizer = createTouchRecognizer(node);\n\n      padRecognizer.on('panstart', function(event) {\n        log('context-pad', 'panstart', event);\n        contextPad.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('press', function(event) {\n        log('context-pad', 'press', event);\n        contextPad.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('tap', function(event) {\n        log('context-pad', 'tap', event);\n        contextPad.trigger('click', event);\n      });\n    });\n  }\n\n  if (palette) {\n    eventBus.on('palette.create', function(event) {\n      var node = event.container;\n\n      // touch recognizer\n      var padRecognizer = createTouchRecognizer(node);\n\n      padRecognizer.on('panstart', function(event) {\n        log('palette', 'panstart', event);\n        palette.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('press', function(event) {\n        log('palette', 'press', event);\n        palette.trigger('dragstart', event, true);\n      });\n\n      padRecognizer.on('tap', function(event) {\n        log('palette', 'tap', event);\n        palette.trigger('click', event);\n      });\n    });\n  }\n\n  eventBus.on('canvas.init', function(event) {\n    initEvents(event.svg);\n  });\n}\n\n\nTouchInteractionEvents.$inject = [\n  'injector',\n  'canvas',\n  'eventBus',\n  'elementRegistry',\n  'interactionEvents',\n  'touchFix'\n];\n","import {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate\n} from 'tiny-svg';\n\n\nexport default function TouchFix(canvas, eventBus) {\n\n  var self = this;\n\n  eventBus.on('canvas.init', function(e) {\n    self.addBBoxMarker(e.svg);\n  });\n}\n\nTouchFix.$inject = [ 'canvas', 'eventBus' ];\n\n\n/**\n * Safari mobile (iOS 7) does not fire touchstart event in <SVG> element\n * if there is no shape between 0,0 and viewport elements origin.\n *\n * So touchstart event is only fired when the <g class=\"viewport\"> element was hit.\n * Putting an element over and below the 'viewport' fixes that behavior.\n */\nTouchFix.prototype.addBBoxMarker = function(svg) {\n\n  var markerStyle = {\n    fill: 'none',\n    class: 'outer-bound-marker'\n  };\n\n  var rect1 = svgCreate('rect');\n  svgAttr(rect1, {\n    x: -10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect1, markerStyle);\n\n  svgAppend(svg, rect1);\n\n  var rect2 = svgCreate('rect');\n  svgAttr(rect2, {\n    x: 10000,\n    y: 10000,\n    width: 10,\n    height: 10\n  });\n  svgAttr(rect2, markerStyle);\n\n  svgAppend(svg, rect2);\n};\n","import InteractionEventsModule from '../interaction-events';\n\nimport TouchInteractionEvents from './TouchInteractionEvents';\nimport TouchFix from './TouchFix';\n\nexport default {\n  __depends__: [ InteractionEventsModule ],\n  __init__: [ 'touchInteractionEvents' ],\n  touchInteractionEvents: [ 'type', TouchInteractionEvents ],\n  touchFix: [ 'type', TouchFix ]\n};","import TouchModule from '../../features/touch';\n\nexport default {\n  __depends__: [\n    TouchModule\n  ]\n};","import inherits from 'inherits';\n\nimport Viewer from './Viewer';\n\n\n/**\n * A viewer that includes mouse navigation facilities\n *\n * @param {Object} options\n */\nexport default function NavigatedViewer(options) {\n  Viewer.call(this, options);\n}\n\ninherits(NavigatedViewer, Viewer);\n\nimport ZoomScroll from 'diagram-js/lib/navigation/zoomscroll';\nimport MoveCanvas from 'diagram-js/lib/navigation/movecanvas';\nimport TouchModule from 'diagram-js/lib/navigation/touch';\n\nNavigatedViewer.prototype._navigationModules = [\n  ZoomScroll,\n  MoveCanvas,\n  TouchModule\n];\n\nNavigatedViewer.prototype._modules = [].concat(\n  NavigatedViewer.prototype._modules,\n  NavigatedViewer.prototype._navigationModules\n);\n","import {\n  filter,\n  forEach,\n  sortBy\n} from 'min-dash';\n\nfunction last(arr) {\n  return arr && arr[arr.length - 1];\n}\n\nfunction sortTopOrMiddle(element) {\n  return element.y;\n}\n\nfunction sortLeftOrCenter(element) {\n  return element.x;\n}\n\n/**\n * Sorting functions for different types of alignment\n *\n * @type {Object}\n *\n * @return {Function}\n */\nvar ALIGNMENT_SORTING = {\n  left: sortLeftOrCenter,\n  center: sortLeftOrCenter,\n  right: function(element) {\n    return element.x + element.width;\n  },\n  top: sortTopOrMiddle,\n  middle: sortTopOrMiddle,\n  bottom: function(element) {\n    return element.y + element.height;\n  }\n};\n\n\nexport default function AlignElements(modeling) {\n  this._modeling = modeling;\n}\n\nAlignElements.$inject = [ 'modeling' ];\n\n\n/**\n * Get the relevant \"axis\" and \"dimension\" related to the current type of alignment\n *\n * @param  {string} type left|right|center|top|bottom|middle\n *\n * @return {Object} { axis, dimension }\n */\nAlignElements.prototype._getOrientationDetails = function(type) {\n  var vertical = [ 'top', 'bottom', 'middle' ],\n      axis = 'x',\n      dimension = 'width';\n\n  if (vertical.indexOf(type) !== -1) {\n    axis = 'y';\n    dimension = 'height';\n  }\n\n  return {\n    axis: axis,\n    dimension: dimension\n  };\n};\n\nAlignElements.prototype._isType = function(type, types) {\n  return types.indexOf(type) !== -1;\n};\n\n/**\n * Get a point on the relevant axis where elements should align to\n *\n * @param  {string} type left|right|center|top|bottom|middle\n * @param  {Array} sortedElements\n *\n * @return {Object}\n */\nAlignElements.prototype._alignmentPosition = function(type, sortedElements) {\n  var orientation = this._getOrientationDetails(type),\n      axis = orientation.axis,\n      dimension = orientation.dimension,\n      alignment = {},\n      centers = {},\n      hasSharedCenters = false,\n      centeredElements,\n      firstElement,\n      lastElement;\n\n  function getMiddleOrTop(first, last) {\n    return Math.round((first[axis] + last[axis] + last[dimension]) / 2);\n  }\n\n  if (this._isType(type, [ 'left', 'top' ])) {\n    alignment[type] = sortedElements[0][axis];\n\n  } else if (this._isType(type, [ 'right', 'bottom' ])) {\n    lastElement = last(sortedElements);\n\n    alignment[type] = lastElement[axis] + lastElement[dimension];\n\n  } else if (this._isType(type, [ 'center', 'middle' ])) {\n\n    // check if there is a center shared by more than one shape\n    // if not, just take the middle of the range\n    forEach(sortedElements, function(element) {\n      var center = element[axis] + Math.round(element[dimension] / 2);\n\n      if (centers[center]) {\n        centers[center].elements.push(element);\n      } else {\n        centers[center] = {\n          elements: [ element ],\n          center: center\n        };\n      }\n    });\n\n    centeredElements = sortBy(centers, function(center) {\n      if (center.elements.length > 1) {\n        hasSharedCenters = true;\n      }\n\n      return center.elements.length;\n    });\n\n    if (hasSharedCenters) {\n      alignment[type] = last(centeredElements).center;\n\n      return alignment;\n    }\n\n    firstElement = sortedElements[0];\n\n    sortedElements = sortBy(sortedElements, function(element) {\n      return element[axis] + element[dimension];\n    });\n\n    lastElement = last(sortedElements);\n\n    alignment[type] = getMiddleOrTop(firstElement, lastElement);\n  }\n\n  return alignment;\n};\n\n/**\n * Executes the alignment of a selection of elements\n *\n * @param  {Array} elements [description]\n * @param  {string} type left|right|center|top|bottom|middle\n */\nAlignElements.prototype.trigger = function(elements, type) {\n  var modeling = this._modeling;\n\n  var filteredElements = filter(elements, function(element) {\n    return !(element.waypoints || element.host || element.labelTarget);\n  });\n\n  var sortFn = ALIGNMENT_SORTING[type];\n\n  var sortedElements = sortBy(filteredElements, sortFn);\n\n  var alignment = this._alignmentPosition(type, sortedElements);\n\n  modeling.alignElements(sortedElements, alignment);\n};\n","import AlignElements from './AlignElements';\n\nexport default {\n  __init__: [ 'alignElements' ],\n  alignElements: [ 'type', AlignElements ]\n};\n","import {\n  every,\n  isArray\n} from 'min-dash';\n\n/**\n * Computes the distance between two points\n *\n * @param  {Point}  p\n * @param  {Point}  q\n *\n * @return {number}  distance\n */\nexport function pointDistance(a, b) {\n  if (!a || !b) {\n    return -1;\n  }\n\n  return Math.sqrt(\n    Math.pow(a.x - b.x, 2) +\n    Math.pow(a.y - b.y, 2)\n  );\n}\n\n\n/**\n * Returns true if the point r is on the line between p and q\n *\n * @param  {Point}  p\n * @param  {Point}  q\n * @param  {Point}  r\n * @param  {number} [accuracy=5] accuracy for points on line check (lower is better)\n *\n * @return {boolean}\n */\nexport function pointsOnLine(p, q, r, accuracy) {\n\n  if (typeof accuracy === 'undefined') {\n    accuracy = 5;\n  }\n\n  if (!p || !q || !r) {\n    return false;\n  }\n\n  var val = (q.x - p.x) * (r.y - p.y) - (q.y - p.y) * (r.x - p.x),\n      dist = pointDistance(p, q);\n\n  // @see http://stackoverflow.com/a/907491/412190\n  return Math.abs(val / dist) <= accuracy;\n}\n\n\nvar ALIGNED_THRESHOLD = 2;\n\n/**\n * Check whether two points are horizontally or vertically aligned.\n *\n * @param {Array<Point>|Point}\n * @param {Point}\n *\n * @return {string|boolean}\n */\nexport function pointsAligned(a, b) {\n  var points;\n\n  if (isArray(a)) {\n    points = a;\n  } else {\n    points = [ a, b ];\n  }\n\n  if (pointsAlignedHorizontally(points)) {\n    return 'h';\n  }\n\n  if (pointsAlignedVertically(points)) {\n    return 'v';\n  }\n\n  return false;\n}\n\nexport function pointsAlignedHorizontally(a, b) {\n  var points;\n\n  if (isArray(a)) {\n    points = a;\n  } else {\n    points = [ a, b ];\n  }\n\n  var firstPoint = points.slice().shift();\n\n  return every(points, function(point) {\n    return Math.abs(firstPoint.y - point.y) <= ALIGNED_THRESHOLD;\n  });\n}\n\nexport function pointsAlignedVertically(a, b) {\n  var points;\n\n  if (isArray(a)) {\n    points = a;\n  } else {\n    points = [ a, b ];\n  }\n\n  var firstPoint = points.slice().shift();\n\n  return every(points, function(point) {\n    return Math.abs(firstPoint.x - point.x) <= ALIGNED_THRESHOLD;\n  });\n}\n\n\n\n/**\n * Returns true if the point p is inside the rectangle rect\n *\n * @param  {Point}  p\n * @param  {Rect} rect\n * @param  {number} tolerance\n *\n * @return {boolean}\n */\nexport function pointInRect(p, rect, tolerance) {\n  tolerance = tolerance || 0;\n\n  return p.x > rect.x - tolerance &&\n         p.y > rect.y - tolerance &&\n         p.x < rect.x + rect.width + tolerance &&\n         p.y < rect.y + rect.height + tolerance;\n}\n\n/**\n * Returns a point in the middle of points p and q\n *\n * @param  {Point}  p\n * @param  {Point}  q\n *\n * @return {Point} middle point\n */\nexport function getMidPoint(p, q) {\n  return {\n    x: Math.round(p.x + ((q.x - p.x) / 2.0)),\n    y: Math.round(p.y + ((q.y - p.y) / 2.0))\n  };\n}\n","'use strict';\n\n/**\n * This file contains source code adapted from Snap.svg (licensed Apache-2.0).\n *\n * @see https://github.com/adobe-webplatform/Snap.svg/blob/master/src/path.js\n */\n\n/* eslint no-fallthrough: \"off\" */\n\nvar p2s = /,?([a-z]),?/gi,\n    toFloat = parseFloat,\n    math = Math,\n    PI = math.PI,\n    mmin = math.min,\n    mmax = math.max,\n    pow = math.pow,\n    abs = math.abs,\n    pathCommand = /([a-z])[\\s,]*((-?\\d*\\.?\\d*(?:e[-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    pathValues = /(-?\\d*\\.?\\d*(?:e[-+]?\\\\d+)?)[\\s]*,?[\\s]*/ig;\n\nvar isArray = Array.isArray || function(o) { return o instanceof Array; };\n\nfunction hasProperty(obj, property) {\n  return Object.prototype.hasOwnProperty.call(obj, property);\n}\n\nfunction clone(obj) {\n\n  if (typeof obj == 'function' || Object(obj) !== obj) {\n    return obj;\n  }\n\n  var res = new obj.constructor;\n\n  for (var key in obj) {\n    if (hasProperty(obj, key)) {\n      res[key] = clone(obj[key]);\n    }\n  }\n\n  return res;\n}\n\nfunction repush(array, item) {\n  for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n    return array.push(array.splice(i, 1)[0]);\n  }\n}\n\nfunction cacher(f) {\n\n  function newf() {\n\n    var arg = Array.prototype.slice.call(arguments, 0),\n        args = arg.join('\\u2400'),\n        cache = newf.cache = newf.cache || {},\n        count = newf.count = newf.count || [];\n\n    if (hasProperty(cache, args)) {\n      repush(count, args);\n      return cache[args];\n    }\n\n    count.length >= 1e3 && delete cache[count.shift()];\n    count.push(args);\n    cache[args] = f.apply(0, arg);\n\n    return cache[args];\n  }\n  return newf;\n}\n\nfunction parsePathString(pathString) {\n\n  if (!pathString) {\n    return null;\n  }\n\n  var pth = paths(pathString);\n\n  if (pth.arr) {\n    return clone(pth.arr);\n  }\n\n  var paramCounts = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 },\n      data = [];\n\n  if (isArray(pathString) && isArray(pathString[0])) { // rough assumption\n    data = clone(pathString);\n  }\n\n  if (!data.length) {\n\n    String(pathString).replace(pathCommand, function(a, b, c) {\n      var params = [],\n          name = b.toLowerCase();\n\n      c.replace(pathValues, function(a, b) {\n        b && params.push(+b);\n      });\n\n      if (name == 'm' && params.length > 2) {\n        data.push([b].concat(params.splice(0, 2)));\n        name = 'l';\n        b = b == 'm' ? 'l' : 'L';\n      }\n\n      while (params.length >= paramCounts[name]) {\n        data.push([b].concat(params.splice(0, paramCounts[name])));\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    });\n  }\n\n  data.toString = paths.toString;\n  pth.arr = clone(data);\n\n  return data;\n}\n\nfunction paths(ps) {\n  var p = paths.ps = paths.ps || {};\n\n  if (p[ps]) {\n    p[ps].sleep = 100;\n  } else {\n    p[ps] = {\n      sleep: 100\n    };\n  }\n\n  setTimeout(function() {\n    for (var key in p) {\n      if (hasProperty(p, key) && key != ps) {\n        p[key].sleep--;\n        !p[key].sleep && delete p[key];\n      }\n    }\n  });\n\n  return p[ps];\n}\n\nfunction rectBBox(x, y, width, height) {\n\n  if (arguments.length === 1) {\n    y = x.y;\n    width = x.width;\n    height = x.height;\n    x = x.x;\n  }\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    x2: x + width,\n    y2: y + height\n  };\n}\n\nfunction pathToString() {\n  return this.join(',').replace(p2s, '$1');\n}\n\nfunction pathClone(pathArray) {\n  var res = clone(pathArray);\n  res.toString = pathToString;\n  return res;\n}\n\nfunction findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n  var t1 = 1 - t,\n      t13 = pow(t1, 3),\n      t12 = pow(t1, 2),\n      t2 = t * t,\n      t3 = t2 * t,\n      x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n      y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n\n  return {\n    x: fixError(x),\n    y: fixError(y)\n  };\n}\n\nfunction bezierBBox(points) {\n\n  var bbox = curveBBox.apply(null, points);\n\n  return rectBBox(\n    bbox.x0,\n    bbox.y0,\n    bbox.x1 - bbox.x0,\n    bbox.y1 - bbox.y0\n  );\n}\n\nfunction isPointInsideBBox(bbox, x, y) {\n  return x >= bbox.x &&\n    x <= bbox.x + bbox.width &&\n    y >= bbox.y &&\n    y <= bbox.y + bbox.height;\n}\n\nfunction isBBoxIntersect(bbox1, bbox2) {\n  bbox1 = rectBBox(bbox1);\n  bbox2 = rectBBox(bbox2);\n  return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n    || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n        || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n    && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n        || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n}\n\nfunction base3(t, p1, p2, p3, p4) {\n  var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n      t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n  return t * t2 - 3 * p1 + 3 * p2;\n}\n\nfunction bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n\n  if (z == null) {\n    z = 1;\n  }\n\n  z = z > 1 ? 1 : z < 0 ? 0 : z;\n\n  var z2 = z / 2,\n      n = 12,\n      Tvalues = [-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],\n      Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n      sum = 0;\n\n  for (var i = 0; i < n; i++) {\n    var ct = z2 * Tvalues[i] + z2,\n        xbase = base3(ct, x1, x2, x3, x4),\n        ybase = base3(ct, y1, y2, y3, y4),\n        comb = xbase * xbase + ybase * ybase;\n\n    sum += Cvalues[i] * math.sqrt(comb);\n  }\n\n  return z2 * sum;\n}\n\n\nfunction intersectLines(x1, y1, x2, y2, x3, y3, x4, y4) {\n\n  if (\n    mmax(x1, x2) < mmin(x3, x4) ||\n      mmin(x1, x2) > mmax(x3, x4) ||\n      mmax(y1, y2) < mmin(y3, y4) ||\n      mmin(y1, y2) > mmax(y3, y4)\n  ) {\n    return;\n  }\n\n  var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n  if (!denominator) {\n    return;\n  }\n\n  var px = fixError(nx / denominator),\n      py = fixError(ny / denominator),\n      px2 = +px.toFixed(2),\n      py2 = +py.toFixed(2);\n\n  if (\n    px2 < +mmin(x1, x2).toFixed(2) ||\n      px2 > +mmax(x1, x2).toFixed(2) ||\n      px2 < +mmin(x3, x4).toFixed(2) ||\n      px2 > +mmax(x3, x4).toFixed(2) ||\n      py2 < +mmin(y1, y2).toFixed(2) ||\n      py2 > +mmax(y1, y2).toFixed(2) ||\n      py2 < +mmin(y3, y4).toFixed(2) ||\n      py2 > +mmax(y3, y4).toFixed(2)\n  ) {\n    return;\n  }\n\n  return { x: px, y: py };\n}\n\nfunction fixError(number) {\n  return Math.round(number * 100000000000) / 100000000000;\n}\n\nfunction findBezierIntersections(bez1, bez2, justCount) {\n  var bbox1 = bezierBBox(bez1),\n      bbox2 = bezierBBox(bez2);\n\n  if (!isBBoxIntersect(bbox1, bbox2)) {\n    return justCount ? 0 : [];\n  }\n\n  // As an optimization, lines will have only 1 segment\n\n  var l1 = bezlen.apply(0, bez1),\n      l2 = bezlen.apply(0, bez2),\n      n1 = isLine(bez1) ? 1 : ~~(l1 / 5) || 1,\n      n2 = isLine(bez2) ? 1 : ~~(l2 / 5) || 1,\n      dots1 = [],\n      dots2 = [],\n      xy = {},\n      res = justCount ? 0 : [];\n\n  for (var i = 0; i < n1 + 1; i++) {\n    var p = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n    dots1.push({ x: p.x, y: p.y, t: i / n1 });\n  }\n\n  for (i = 0; i < n2 + 1; i++) {\n    p = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n    dots2.push({ x: p.x, y: p.y, t: i / n2 });\n  }\n\n  for (i = 0; i < n1; i++) {\n\n    for (var j = 0; j < n2; j++) {\n      var di = dots1[i],\n          di1 = dots1[i + 1],\n          dj = dots2[j],\n          dj1 = dots2[j + 1],\n          ci = abs(di1.x - di.x) < .01 ? 'y' : 'x',\n          cj = abs(dj1.x - dj.x) < .01 ? 'y' : 'x',\n          is = intersectLines(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y),\n          key;\n\n      if (is) {\n        key = is.x.toFixed(9) + '#' + is.y.toFixed(9);\n\n        if (xy[key]) {\n          continue;\n        }\n\n        xy[key] = true;\n\n        var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n            t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n\n        if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n\n          if (justCount) {\n            res++;\n          } else {\n            res.push({\n              x: is.x,\n              y: is.y,\n              t1: t1,\n              t2: t2\n            });\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\n/**\n * Find or counts the intersections between two SVG paths.\n *\n * Returns a number in counting mode and a list of intersections otherwise.\n *\n * A single intersection entry contains the intersection coordinates (x, y)\n * as well as additional information regarding the intersecting segments\n * on each path (segment1, segment2) and the relative location of the\n * intersection on these segments (t1, t2).\n *\n * The path may be an SVG path string or a list of path components\n * such as `[ [ 'M', 0, 10 ], [ 'L', 20, 0 ] ]`.\n *\n * @example\n *\n * var intersections = findPathIntersections(\n *   'M0,0L100,100',\n *   [ [ 'M', 0, 100 ], [ 'L', 100, 0 ] ]\n * );\n *\n * // intersections = [\n * //   { x: 50, y: 50, segment1: 1, segment2: 1, t1: 0.5, t2: 0.5 }\n * // ]\n *\n * @param {String|Array<PathDef>} path1\n * @param {String|Array<PathDef>} path2\n * @param {Boolean} [justCount=false]\n *\n * @return {Array<Intersection>|Number}\n */\nfunction findPathIntersections(path1, path2, justCount) {\n  path1 = pathToCurve(path1);\n  path2 = pathToCurve(path2);\n\n  var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n      res = justCount ? 0 : [];\n\n  for (var i = 0, ii = path1.length; i < ii; i++) {\n    var pi = path1[i];\n\n    if (pi[0] == 'M') {\n      x1 = x1m = pi[1];\n      y1 = y1m = pi[2];\n    } else {\n\n      if (pi[0] == 'C') {\n        bez1 = [x1, y1].concat(pi.slice(1));\n        x1 = bez1[6];\n        y1 = bez1[7];\n      } else {\n        bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n        x1 = x1m;\n        y1 = y1m;\n      }\n\n      for (var j = 0, jj = path2.length; j < jj; j++) {\n        var pj = path2[j];\n\n        if (pj[0] == 'M') {\n          x2 = x2m = pj[1];\n          y2 = y2m = pj[2];\n        } else {\n\n          if (pj[0] == 'C') {\n            bez2 = [x2, y2].concat(pj.slice(1));\n            x2 = bez2[6];\n            y2 = bez2[7];\n          } else {\n            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n            x2 = x2m;\n            y2 = y2m;\n          }\n\n          var intr = findBezierIntersections(bez1, bez2, justCount);\n\n          if (justCount) {\n            res += intr;\n          } else {\n\n            for (var k = 0, kk = intr.length; k < kk; k++) {\n              intr[k].segment1 = i;\n              intr[k].segment2 = j;\n              intr[k].bez1 = bez1;\n              intr[k].bez2 = bez2;\n            }\n\n            res = res.concat(intr);\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\nfunction pathToAbsolute(pathArray) {\n  var pth = paths(pathArray);\n\n  if (pth.abs) {\n    return pathClone(pth.abs);\n  }\n\n  if (!isArray(pathArray) || !isArray(pathArray && pathArray[0])) { // rough assumption\n    pathArray = parsePathString(pathArray);\n  }\n\n  if (!pathArray || !pathArray.length) {\n    return [['M', 0, 0]];\n  }\n\n  var res = [],\n      x = 0,\n      y = 0,\n      mx = 0,\n      my = 0,\n      start = 0,\n      pa0;\n\n  if (pathArray[0][0] == 'M') {\n    x = +pathArray[0][1];\n    y = +pathArray[0][2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = ['M', x, y];\n  }\n\n  for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n    res.push(r = []);\n    pa = pathArray[i];\n    pa0 = pa[0];\n\n    if (pa0 != pa0.toUpperCase()) {\n      r[0] = pa0.toUpperCase();\n\n      switch (r[0]) {\n      case 'A':\n        r[1] = pa[1];\n        r[2] = pa[2];\n        r[3] = pa[3];\n        r[4] = pa[4];\n        r[5] = pa[5];\n        r[6] = +pa[6] + x;\n        r[7] = +pa[7] + y;\n        break;\n      case 'V':\n        r[1] = +pa[1] + y;\n        break;\n      case 'H':\n        r[1] = +pa[1] + x;\n        break;\n      case 'M':\n        mx = +pa[1] + x;\n        my = +pa[2] + y;\n      default:\n        for (var j = 1, jj = pa.length; j < jj; j++) {\n          r[j] = +pa[j] + ((j % 2) ? x : y);\n        }\n      }\n    } else {\n      for (var k = 0, kk = pa.length; k < kk; k++) {\n        r[k] = pa[k];\n      }\n    }\n    pa0 = pa0.toUpperCase();\n\n    switch (r[0]) {\n    case 'Z':\n      x = +mx;\n      y = +my;\n      break;\n    case 'H':\n      x = r[1];\n      break;\n    case 'V':\n      y = r[1];\n      break;\n    case 'M':\n      mx = r[r.length - 2];\n      my = r[r.length - 1];\n    default:\n      x = r[r.length - 2];\n      y = r[r.length - 1];\n    }\n  }\n\n  res.toString = pathToString;\n  pth.abs = pathClone(res);\n\n  return res;\n}\n\nfunction isLine(bez) {\n  return (\n    bez[0] === bez[2] &&\n    bez[1] === bez[3] &&\n    bez[4] === bez[6] &&\n    bez[5] === bez[7]\n  );\n}\n\nfunction lineToCurve(x1, y1, x2, y2) {\n  return [\n    x1, y1, x2,\n    y2, x2, y2\n  ];\n}\n\nfunction qubicToCurve(x1, y1, ax, ay, x2, y2) {\n  var _13 = 1 / 3,\n      _23 = 2 / 3;\n\n  return [\n    _13 * x1 + _23 * ax,\n    _13 * y1 + _23 * ay,\n    _13 * x2 + _23 * ax,\n    _13 * y2 + _23 * ay,\n    x2,\n    y2\n  ];\n}\n\nfunction arcToCurve(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  var _120 = PI * 120 / 180,\n      rad = PI / 180 * (+angle || 0),\n      res = [],\n      xy,\n      rotate = cacher(function(x, y, rad) {\n        var X = x * math.cos(rad) - y * math.sin(rad),\n            Y = x * math.sin(rad) + y * math.cos(rad);\n\n        return { x: X, y: Y };\n      });\n\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n\n    var x = (x1 - x2) / 2,\n        y = (y1 - y2) / 2;\n\n    var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n\n    if (h > 1) {\n      h = math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n\n    var rx2 = rx * rx,\n        ry2 = ry * ry,\n        k = (large_arc_flag == sweep_flag ? -1 : 1) *\n            math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n        cx = k * rx * y / ry + (x1 + x2) / 2,\n        cy = k * -ry * x / rx + (y1 + y2) / 2,\n        f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n        f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n    f1 = x1 < cx ? PI - f1 : f1;\n    f2 = x2 < cx ? PI - f2 : f2;\n    f1 < 0 && (f1 = PI * 2 + f1);\n    f2 < 0 && (f2 = PI * 2 + f2);\n\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - PI * 2;\n    }\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n\n  var df = f2 - f1;\n\n  if (abs(df) > _120) {\n    var f2old = f2,\n        x2old = x2,\n        y2old = y2;\n\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * math.cos(f2);\n    y2 = cy + ry * math.sin(f2);\n    res = arcToCurve(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n  }\n\n  df = f2 - f1;\n\n  var c1 = math.cos(f1),\n      s1 = math.sin(f1),\n      c2 = math.cos(f2),\n      s2 = math.sin(f2),\n      t = math.tan(df / 4),\n      hx = 4 / 3 * rx * t,\n      hy = 4 / 3 * ry * t,\n      m1 = [x1, y1],\n      m2 = [x1 + hx * s1, y1 - hy * c1],\n      m3 = [x2 + hx * s2, y2 - hy * c2],\n      m4 = [x2, y2];\n\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n\n  if (recursive) {\n    return [m2, m3, m4].concat(res);\n  } else {\n    res = [m2, m3, m4].concat(res).join().split(',');\n    var newres = [];\n\n    for (var i = 0, ii = res.length; i < ii; i++) {\n      newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n\n    return newres;\n  }\n}\n\n// Returns bounding box of cubic bezier curve.\n// Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n// Original version: NISHIO Hirokazu\n// Modifications: https://github.com/timo22345\nfunction curveBBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var tvalues = [],\n      bounds = [[], []],\n      a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n\n  for (var i = 0; i < 2; ++i) {\n\n    if (i == 0) {\n      b = 6 * x0 - 12 * x1 + 6 * x2;\n      a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n      c = 3 * x1 - 3 * x0;\n    } else {\n      b = 6 * y0 - 12 * y1 + 6 * y2;\n      a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n      c = 3 * y1 - 3 * y0;\n    }\n\n    if (abs(a) < 1e-12) {\n\n      if (abs(b) < 1e-12) {\n        continue;\n      }\n\n      t = -c / b;\n\n      if (0 < t && t < 1) {\n        tvalues.push(t);\n      }\n\n      continue;\n    }\n\n    b2ac = b * b - 4 * c * a;\n    sqrtb2ac = math.sqrt(b2ac);\n\n    if (b2ac < 0) {\n      continue;\n    }\n\n    t1 = (-b + sqrtb2ac) / (2 * a);\n\n    if (0 < t1 && t1 < 1) {\n      tvalues.push(t1);\n    }\n\n    t2 = (-b - sqrtb2ac) / (2 * a);\n\n    if (0 < t2 && t2 < 1) {\n      tvalues.push(t2);\n    }\n  }\n\n  var j = tvalues.length,\n      jlen = j,\n      mt;\n\n  while (j--) {\n    t = tvalues[j];\n    mt = 1 - t;\n    bounds[0][j] = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n    bounds[1][j] = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n  }\n\n  bounds[0][jlen] = x0;\n  bounds[1][jlen] = y0;\n  bounds[0][jlen + 1] = x3;\n  bounds[1][jlen + 1] = y3;\n  bounds[0].length = bounds[1].length = jlen + 2;\n\n  return {\n    x0: mmin.apply(0, bounds[0]),\n    y0: mmin.apply(0, bounds[1]),\n    x1: mmax.apply(0, bounds[0]),\n    y1: mmax.apply(0, bounds[1])\n  };\n}\n\nfunction pathToCurve(path) {\n\n  var pth = paths(path);\n\n  // return cached curve, if existing\n  if (pth.curve) {\n    return pathClone(pth.curve);\n  }\n\n  var curvedPath = pathToAbsolute(path),\n      attrs = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },\n      processPath = function(path, d, pathCommand) {\n        var nx, ny;\n\n        if (!path) {\n          return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n\n        !(path[0] in { T: 1, Q: 1 }) && (d.qx = d.qy = null);\n\n        switch (path[0]) {\n        case 'M':\n          d.X = path[1];\n          d.Y = path[2];\n          break;\n        case 'A':\n          path = ['C'].concat(arcToCurve.apply(0, [d.x, d.y].concat(path.slice(1))));\n          break;\n        case 'S':\n          if (pathCommand == 'C' || pathCommand == 'S') {\n            // In 'S' case we have to take into account, if the previous command is C/S.\n            nx = d.x * 2 - d.bx;\n            // And reflect the previous\n            ny = d.y * 2 - d.by;\n            // command's control point relative to the current point.\n          }\n          else {\n            // or some else or nothing\n            nx = d.x;\n            ny = d.y;\n          }\n          path = ['C', nx, ny].concat(path.slice(1));\n          break;\n        case 'T':\n          if (pathCommand == 'Q' || pathCommand == 'T') {\n            // In 'T' case we have to take into account, if the previous command is Q/T.\n            d.qx = d.x * 2 - d.qx;\n            // And make a reflection similar\n            d.qy = d.y * 2 - d.qy;\n            // to case 'S'.\n          }\n          else {\n            // or something else or nothing\n            d.qx = d.x;\n            d.qy = d.y;\n          }\n          path = ['C'].concat(qubicToCurve(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n          break;\n        case 'Q':\n          d.qx = path[1];\n          d.qy = path[2];\n          path = ['C'].concat(qubicToCurve(d.x, d.y, path[1], path[2], path[3], path[4]));\n          break;\n        case 'L':\n          path = ['C'].concat(lineToCurve(d.x, d.y, path[1], path[2]));\n          break;\n        case 'H':\n          path = ['C'].concat(lineToCurve(d.x, d.y, path[1], d.y));\n          break;\n        case 'V':\n          path = ['C'].concat(lineToCurve(d.x, d.y, d.x, path[1]));\n          break;\n        case 'Z':\n          path = ['C'].concat(lineToCurve(d.x, d.y, d.X, d.Y));\n          break;\n        }\n\n        return path;\n      },\n\n      fixArc = function(pp, i) {\n\n        if (pp[i].length > 7) {\n          pp[i].shift();\n          var pi = pp[i];\n\n          while (pi.length) {\n            pathCommands[i] = 'A'; // if created multiple C:s, their original seg is saved\n            pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n          }\n\n          pp.splice(i, 1);\n          ii = curvedPath.length;\n        }\n      },\n\n      pathCommands = [], // path commands of original path p\n      pfirst = '', // temporary holder for original path command\n      pathCommand = ''; // holder for previous path command of original path\n\n  for (var i = 0, ii = curvedPath.length; i < ii; i++) {\n    curvedPath[i] && (pfirst = curvedPath[i][0]); // save current path command\n\n    if (pfirst != 'C') // C is not saved yet, because it may be result of conversion\n    {\n      pathCommands[i] = pfirst; // Save current path command\n      i && (pathCommand = pathCommands[i - 1]); // Get previous path command pathCommand\n    }\n    curvedPath[i] = processPath(curvedPath[i], attrs, pathCommand); // Previous path command is inputted to processPath\n\n    if (pathCommands[i] != 'A' && pfirst == 'C') pathCommands[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(curvedPath, i); // fixArc adds also the right amount of A:s to pathCommands\n\n    var seg = curvedPath[i],\n        seglen = seg.length;\n\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n  }\n\n  // cache curve\n  pth.curve = pathClone(curvedPath);\n\n  return curvedPath;\n}\n\nmodule.exports = findPathIntersections;\n","import {\n  isObject,\n  sortBy\n} from 'min-dash';\n\nimport {\n  pointDistance,\n  pointsOnLine\n} from '../util/Geometry';\n\nimport intersectPaths from 'path-intersection';\n\n\nexport function roundBounds(bounds) {\n  return {\n    x: Math.round(bounds.x),\n    y: Math.round(bounds.y),\n    width: Math.round(bounds.width),\n    height: Math.round(bounds.height)\n  };\n}\n\n\nexport function roundPoint(point) {\n\n  return {\n    x: Math.round(point.x),\n    y: Math.round(point.y)\n  };\n}\n\n\n/**\n * Convert the given bounds to a { top, left, bottom, right } descriptor.\n *\n * @param {Bounds|Point} bounds\n *\n * @return {Object}\n */\nexport function asTRBL(bounds) {\n  return {\n    top: bounds.y,\n    right: bounds.x + (bounds.width || 0),\n    bottom: bounds.y + (bounds.height || 0),\n    left: bounds.x\n  };\n}\n\n\n/**\n * Convert a { top, left, bottom, right } to an objects bounds.\n *\n * @param {Object} trbl\n *\n * @return {Bounds}\n */\nexport function asBounds(trbl) {\n  return {\n    x: trbl.left,\n    y: trbl.top,\n    width: trbl.right - trbl.left,\n    height: trbl.bottom - trbl.top\n  };\n}\n\n\n/**\n * Get the mid of the given bounds or point.\n *\n * @param {Bounds|Point} bounds\n *\n * @return {Point}\n */\nexport function getMid(bounds) {\n  return roundPoint({\n    x: bounds.x + (bounds.width || 0) / 2,\n    y: bounds.y + (bounds.height || 0) / 2\n  });\n}\n\n\n// orientation utils //////////////////////\n\n/**\n * Get orientation of the given rectangle with respect to\n * the reference rectangle.\n *\n * A padding (positive or negative) may be passed to influence\n * horizontal / vertical orientation and intersection.\n *\n * @param {Bounds} rect\n * @param {Bounds} reference\n * @param {Point|number} padding\n *\n * @return {string} the orientation; one of top, top-left, left, ..., bottom, right or intersect.\n */\nexport function getOrientation(rect, reference, padding) {\n\n  padding = padding || 0;\n\n  // make sure we can use an object, too\n  // for individual { x, y } padding\n  if (!isObject(padding)) {\n    padding = { x: padding, y: padding };\n  }\n\n\n  var rectOrientation = asTRBL(rect),\n      referenceOrientation = asTRBL(reference);\n\n  var top = rectOrientation.bottom + padding.y <= referenceOrientation.top,\n      right = rectOrientation.left - padding.x >= referenceOrientation.right,\n      bottom = rectOrientation.top - padding.y >= referenceOrientation.bottom,\n      left = rectOrientation.right + padding.x <= referenceOrientation.left;\n\n  var vertical = top ? 'top' : (bottom ? 'bottom' : null),\n      horizontal = left ? 'left' : (right ? 'right' : null);\n\n  if (horizontal && vertical) {\n    return vertical + '-' + horizontal;\n  } else {\n    return horizontal || vertical || 'intersect';\n  }\n}\n\n\n// intersection utils //////////////////////\n\n/**\n * Get intersection between an element and a line path.\n *\n * @param {PathDef} elementPath\n * @param {PathDef} linePath\n * @param {boolean} cropStart crop from start or end\n *\n * @return {Point}\n */\nexport function getElementLineIntersection(elementPath, linePath, cropStart) {\n\n  var intersections = getIntersections(elementPath, linePath);\n\n  // recognize intersections\n  // only one -> choose\n  // two close together -> choose first\n  // two or more distinct -> pull out appropriate one\n  // none -> ok (fallback to point itself)\n  if (intersections.length === 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length === 2 && pointDistance(intersections[0], intersections[1]) < 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length > 1) {\n\n    // sort by intersections based on connection segment +\n    // distance from start\n    intersections = sortBy(intersections, function(i) {\n      var distance = Math.floor(i.t2 * 100) || 1;\n\n      distance = 100 - distance;\n\n      distance = (distance < 10 ? '0' : '') + distance;\n\n      // create a sort string that makes sure we sort\n      // line segment ASC + line segment position DESC (for cropStart)\n      // line segment ASC + line segment position ASC (for cropEnd)\n      return i.segment2 + '#' + distance;\n    });\n\n    return roundPoint(intersections[cropStart ? 0 : intersections.length - 1]);\n  }\n\n  return null;\n}\n\n\nexport function getIntersections(a, b) {\n  return intersectPaths(a, b);\n}\n\n\nexport function filterRedundantWaypoints(waypoints) {\n\n  // alter copy of waypoints, not original\n  waypoints = waypoints.slice();\n\n  var idx = 0,\n      point,\n      previousPoint,\n      nextPoint;\n\n  while (waypoints[idx]) {\n    point = waypoints[idx];\n    previousPoint = waypoints[idx - 1];\n    nextPoint = waypoints[idx + 1];\n\n    if (pointDistance(point, nextPoint) === 0 ||\n        pointsOnLine(previousPoint, nextPoint, point)) {\n\n      // remove point, if overlapping with {nextPoint}\n      // or on line with {previousPoint} -> {point} -> {nextPoint}\n      waypoints.splice(idx, 1);\n    } else {\n      idx++;\n    }\n  }\n\n  return waypoints;\n}\n","import {\n  asTRBL,\n  getOrientation,\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport {\n  find,\n  reduce\n} from 'min-dash';\n\n// padding to detect element placement\nvar PLACEMENT_DETECTION_PAD = 10;\n\nexport var DEFAULT_DISTANCE = 50;\n\nvar DEFAULT_MAX_DISTANCE = 250;\n\n\n/**\n * Get free position starting from given position.\n *\n * @param {djs.model.Shape} source\n * @param {djs.model.Shape} element\n * @param {Point} position\n * @param {Function} getNextPosition\n *\n * @return {Point}\n */\nexport function findFreePosition(source, element, position, getNextPosition) {\n  var connectedAtPosition;\n\n  while ((connectedAtPosition = getConnectedAtPosition(source, position, element))) {\n    position = getNextPosition(element, position, connectedAtPosition);\n  }\n\n  return position;\n}\n\n/**\n * Returns function that returns next position.\n *\n * @param {Object} nextPositionDirection\n * @param {Object} [nextPositionDirection.x]\n * @param {Object} [nextPositionDirection.y]\n *\n * @returns {Function}\n */\nexport function generateGetNextPosition(nextPositionDirection) {\n  return function(element, previousPosition, connectedAtPosition) {\n    var nextPosition = {\n      x: previousPosition.x,\n      y: previousPosition.y\n    };\n\n    [ 'x', 'y' ].forEach(function(axis) {\n\n      var nextPositionDirectionForAxis = nextPositionDirection[ axis ];\n\n      if (!nextPositionDirectionForAxis) {\n        return;\n      }\n\n      var dimension = axis === 'x' ? 'width' : 'height';\n\n      var margin = nextPositionDirectionForAxis.margin,\n          minDistance = nextPositionDirectionForAxis.minDistance;\n\n      if (margin < 0) {\n        nextPosition[ axis ] = Math.min(\n          connectedAtPosition[ axis ] + margin - element[ dimension ] / 2,\n          previousPosition[ axis ] - minDistance + margin\n        );\n      } else {\n        nextPosition[ axis ] = Math.max(\n          connectedAtPosition[ axis ] + connectedAtPosition[ dimension ] + margin + element[ dimension ] / 2,\n          previousPosition[ axis ] + minDistance + margin\n        );\n      }\n    });\n\n    return nextPosition;\n  };\n}\n\n/**\n * Return target at given position, if defined.\n *\n * This takes connected elements from host and attachers\n * into account, too.\n */\nexport function getConnectedAtPosition(source, position, element) {\n\n  var bounds = {\n    x: position.x - (element.width / 2),\n    y: position.y - (element.height / 2),\n    width: element.width,\n    height: element.height\n  };\n\n  var closure = getAutoPlaceClosure(source, element);\n\n  return find(closure, function(target) {\n\n    if (target === element) {\n      return false;\n    }\n\n    var orientation = getOrientation(target, bounds, PLACEMENT_DETECTION_PAD);\n\n    return orientation === 'intersect';\n  });\n}\n\n/**\n* Compute optimal distance between source and target based on existing connections to and from source.\n* Assumes left-to-right and top-to-down modeling.\n*\n* @param {djs.model.Shape} source\n* @param {Object} [hints]\n* @param {number} [hints.defaultDistance]\n* @param {string} [hints.direction]\n* @param {Function} [hints.filter]\n* @param {Function} [hints.getWeight]\n* @param {number} [hints.maxDistance]\n* @param {string} [hints.reference]\n*\n* @return {number}\n*/\nexport function getConnectedDistance(source, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  // targets > sources by default\n  function getDefaultWeight(connection) {\n    return connection.source === source ? 1 : -1;\n  }\n\n  var defaultDistance = hints.defaultDistance || DEFAULT_DISTANCE,\n      direction = hints.direction || 'e',\n      filter = hints.filter,\n      getWeight = hints.getWeight || getDefaultWeight,\n      maxDistance = hints.maxDistance || DEFAULT_MAX_DISTANCE,\n      reference = hints.reference || 'start';\n\n  if (!filter) {\n    filter = noneFilter;\n  }\n\n  function getDistance(a, b) {\n    if (direction === 'n') {\n      if (reference === 'start') {\n        return asTRBL(a).top - asTRBL(b).bottom;\n      } else if (reference === 'center') {\n        return asTRBL(a).top - getMid(b).y;\n      } else {\n        return asTRBL(a).top - asTRBL(b).top;\n      }\n    } else if (direction === 'w') {\n      if (reference === 'start') {\n        return asTRBL(a).left - asTRBL(b).right;\n      } else if (reference === 'center') {\n        return asTRBL(a).left - getMid(b).x;\n      } else {\n        return asTRBL(a).left - asTRBL(b).left;\n      }\n    } else if (direction === 's') {\n      if (reference === 'start') {\n        return asTRBL(b).top - asTRBL(a).bottom;\n      } else if (reference === 'center') {\n        return getMid(b).y - asTRBL(a).bottom;\n      } else {\n        return asTRBL(b).bottom - asTRBL(a).bottom;\n      }\n    } else {\n      if (reference === 'start') {\n        return asTRBL(b).left - asTRBL(a).right;\n      } else if (reference === 'center') {\n        return getMid(b).x - asTRBL(a).right;\n      } else {\n        return asTRBL(b).right - asTRBL(a).right;\n      }\n    }\n  }\n\n  var sourcesDistances = source.incoming\n    .filter(filter)\n    .map(function(connection) {\n      var weight = getWeight(connection);\n\n      var distance = weight < 0\n        ? getDistance(connection.source, source)\n        : getDistance(source, connection.source);\n\n      return {\n        id: connection.source.id,\n        distance: distance,\n        weight: weight\n      };\n    });\n\n  var targetsDistances = source.outgoing\n    .filter(filter)\n    .map(function(connection) {\n      var weight = getWeight(connection);\n\n      var distance = weight > 0\n        ? getDistance(source, connection.target)\n        : getDistance(connection.target, source);\n\n      return {\n        id: connection.target.id,\n        distance: distance,\n        weight: weight\n      };\n    });\n\n  var distances = sourcesDistances.concat(targetsDistances).reduce(function(accumulator, currentValue) {\n    accumulator[ currentValue.id + '__weight_' + currentValue.weight ] = currentValue;\n\n    return accumulator;\n  }, {});\n\n  var distancesGrouped = reduce(distances, function(accumulator, currentValue) {\n    var distance = currentValue.distance,\n        weight = currentValue.weight;\n\n    if (distance < 0 || distance > maxDistance) {\n      return accumulator;\n    }\n\n    if (!accumulator[ String(distance) ]) {\n      accumulator[ String(distance) ] = 0;\n    }\n\n    accumulator[ String(distance) ] += 1 * weight;\n\n    if (!accumulator.distance || accumulator[ accumulator.distance ] < accumulator[ String(distance) ]) {\n      accumulator.distance = distance;\n    }\n\n    return accumulator;\n  }, {});\n\n  return distancesGrouped.distance || defaultDistance;\n}\n\n/**\n * Returns all connected elements around the given source.\n *\n * This includes:\n *\n *   - connected elements\n *   - host connected elements\n *   - attachers connected elements\n *\n * @param  {djs.model.Shape} source\n *\n * @return {Array<djs.model.Shape>}\n */\nfunction getAutoPlaceClosure(source) {\n\n  var allConnected = getConnected(source);\n\n  if (source.host) {\n    allConnected = allConnected.concat(getConnected(source.host));\n  }\n\n  if (source.attachers) {\n    allConnected = allConnected.concat(source.attachers.reduce(function(shapes, attacher) {\n      return shapes.concat(getConnected(attacher));\n    }, []));\n  }\n\n  return allConnected;\n}\n\nfunction getConnected(element) {\n  return getTargets(element).concat(getSources(element));\n}\n\nfunction getSources(shape) {\n  return shape.incoming.map(function(connection) {\n    return connection.source;\n  });\n}\n\nfunction getTargets(shape) {\n  return shape.outgoing.map(function(connection) {\n    return connection.target;\n  });\n}\n\nfunction noneFilter() {\n  return true;\n}\n","import {\n  asTRBL,\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport { DEFAULT_DISTANCE } from './AutoPlaceUtil';\n\nvar LOW_PRIORITY = 100;\n\n\n/**\n * A service that places elements connected to existing ones\n * to an appropriate position in an _automated_ fashion.\n *\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n */\nexport default function AutoPlace(eventBus, modeling) {\n\n  eventBus.on('autoPlace', LOW_PRIORITY, function(context) {\n    var shape = context.shape,\n        source = context.source;\n\n    return getNewShapePosition(source, shape);\n  });\n\n  /**\n   * Append shape to source at appropriate position.\n   *\n   * @param {djs.model.Shape} source\n   * @param {djs.model.Shape} shape\n   *\n   * @return {djs.model.Shape} appended shape\n   */\n  this.append = function(source, shape, hints) {\n\n    eventBus.fire('autoPlace.start', {\n      source: source,\n      shape: shape\n    });\n\n    // allow others to provide the position\n    var position = eventBus.fire('autoPlace', {\n      source: source,\n      shape: shape\n    });\n\n    var newShape = modeling.appendShape(source, shape, position, source.parent, hints);\n\n    eventBus.fire('autoPlace.end', {\n      source: source,\n      shape: newShape\n    });\n\n    return newShape;\n  };\n\n}\n\nAutoPlace.$inject = [\n  'eventBus',\n  'modeling'\n];\n\n// helpers //////////\n\n/**\n * Find the new position for the target element to\n * connect to source.\n *\n * @param  {djs.model.Shape} source\n * @param  {djs.model.Shape} element\n * @param  {Object} [hints]\n * @param  {Object} [hints.defaultDistance]\n *\n * @returns {Point}\n */\nfunction getNewShapePosition(source, element, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  var distance = hints.defaultDistance || DEFAULT_DISTANCE;\n\n  var sourceMid = getMid(source),\n      sourceTrbl = asTRBL(source);\n\n  // simply put element right next to source\n  return {\n    x: sourceTrbl.right + distance + element.width / 2,\n    y: sourceMid.y\n  };\n}","/**\n * Select element after auto placement.\n *\n * @param {EventBus} eventBus\n * @param {Selection} selection\n */\nexport default function AutoPlaceSelectionBehavior(eventBus, selection) {\n\n  eventBus.on('autoPlace.end', 500, function(e) {\n    selection.select(e.shape);\n  });\n\n}\n\nAutoPlaceSelectionBehavior.$inject = [\n  'eventBus',\n  'selection'\n];","import AutoPlace from './AutoPlace';\nimport AutoPlaceSelectionBehavior from './AutoPlaceSelectionBehavior';\n\nexport default {\n  __init__: [ 'autoPlaceSelectionBehavior' ],\n  autoPlace: [ 'type', AutoPlace ],\n  autoPlaceSelectionBehavior: [ 'type', AutoPlaceSelectionBehavior ]\n};","import {\n  assign\n} from 'min-dash';\n\nimport inherits from 'inherits';\n\nimport {\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport BaseElementFactory from 'diagram-js/lib/core/ElementFactory';\n\nexport var BUSINESS_KNOWLEDGE_MODEL_SIZE = { width: 135, height: 46 };\nexport var DECISION_SIZE = { width: 180, height: 80 };\nexport var INPUT_DATA_SIZE = { width: 125, height: 45 };\nexport var KNOWLEDGE_SOURCE_SIZE = { width: 100, height: 63 };\n\n\n/**\n * A drd-aware factory for diagram-js shapes\n */\nexport default function ElementFactory(drdFactory) {\n  BaseElementFactory.call(this);\n\n  this._drdFactory = drdFactory;\n}\n\ninherits(ElementFactory, BaseElementFactory);\n\n\nElementFactory.$inject = [ 'drdFactory' ];\n\nElementFactory.prototype.baseCreate = BaseElementFactory.prototype.create;\n\nElementFactory.prototype.create = function(elementType, attrs) {\n  return this.createDrdElement(elementType, attrs);\n};\n\nElementFactory.prototype.createDrdElement = function(elementType, attrs) {\n  var drdFactory = this._drdFactory;\n\n  var size;\n\n  attrs = attrs || {};\n\n  var businessObject = attrs.businessObject;\n\n  if (!businessObject) {\n    if (!attrs.type) {\n      throw new Error('no shape type specified');\n    }\n\n    businessObject = drdFactory.create(attrs.type);\n  }\n\n  if (!businessObject.di) {\n    if (elementType === 'connection') {\n      businessObject.di = drdFactory.createDiEdge(businessObject, []);\n    } else if (elementType === 'shape') {\n      businessObject.di = drdFactory.createDiShape(businessObject, {});\n    }\n  }\n\n  size = this._getDefaultSize(businessObject);\n\n  attrs = assign({\n    businessObject: businessObject,\n    id: businessObject.id\n  }, size, attrs);\n\n  return this.baseCreate(elementType, attrs);\n};\n\n\nElementFactory.prototype._getDefaultSize = function(semantic) {\n  if (is(semantic, 'dmn:BusinessKnowledgeModel')) {\n    return BUSINESS_KNOWLEDGE_MODEL_SIZE;\n  }\n\n  if (is(semantic, 'dmn:Decision')) {\n    return DECISION_SIZE;\n  }\n\n  if (is(semantic, 'dmn:InputData')) {\n    return INPUT_DATA_SIZE;\n  }\n\n  if (is(semantic, 'dmn:KnowledgeSource')) {\n    return KNOWLEDGE_SOURCE_SIZE;\n  }\n\n  return { width: 100, height: 80 };\n};\n","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport {\r\n  findFreePosition,\r\n  generateGetNextPosition,\r\n  getConnectedDistance\r\n} from 'diagram-js/lib/features/auto-place/AutoPlaceUtil';\r\n\r\nimport {\r\n  asTRBL,\r\n  getMid\r\n} from 'diagram-js/lib/layout/LayoutUtil';\r\n\r\nimport { DECISION_SIZE } from '../modeling/ElementFactory';\r\n\r\nvar DIRECTION_LEFT = 'left',\r\n    DIRECTION_RIGHT = 'right';\r\n\r\nvar DRG_ELEMENT_MARGIN = 60,\r\n    DRG_ELEMENT_ROW_SIZE = DECISION_SIZE.width;\r\n\r\n\r\nexport function getNewShapePosition(source, element) {\r\n  if (is(element, 'dmn:TextAnnotation')) {\r\n    return getTextAnnotationPosition(source, element);\r\n  }\r\n\r\n  if (is(element, 'dmn:DRGElement')) {\r\n    return getDRGElementPosition(source, element);\r\n  }\r\n}\r\n\r\n/**\r\n * Always try to place text annotations top right of source.\r\n */\r\nfunction getTextAnnotationPosition(source, element) {\r\n\r\n  var sourceTrbl = asTRBL(source);\r\n\r\n  var position = {\r\n    x: sourceTrbl.right + element.width / 2,\r\n    y: sourceTrbl.top - 50 - element.height / 2\r\n  };\r\n\r\n  var nextPositionDirection = {\r\n    y: {\r\n      margin: -30,\r\n      minDistance: 20\r\n    }\r\n  };\r\n\r\n  return findFreePosition(\r\n    source,\r\n    element,\r\n    position,\r\n    generateGetNextPosition(nextPositionDirection)\r\n  );\r\n}\r\n\r\n/**\r\n * Get position for DRG elements.\r\n *\r\n * @param {djs.model.Shape} source\r\n * @param {djs.model.Shape} element\r\n *\r\n * @returns {Point}\r\n */\r\nfunction getDRGElementPosition(source, element) {\r\n  var sourceTrbl = asTRBL(source),\r\n      sourceMid = getMid(source);\r\n\r\n  function getWeight(connection) {\r\n    return connection.target === source ? 1 : -1;\r\n  }\r\n\r\n  var verticalDistance = getConnectedDistance(source, {\r\n    defaultDistance: 180,\r\n    direction: 's',\r\n    getWeight: getWeight,\r\n    filter: filter,\r\n    reference: 'center'\r\n  });\r\n\r\n  var position = {\r\n    x: sourceMid.x,\r\n    y: sourceTrbl.bottom + verticalDistance\r\n  };\r\n\r\n  return findFreePosition(\r\n    source,\r\n    element,\r\n    position,\r\n    generateGetNextDRGElementPosition(source)\r\n  );\r\n}\r\n\r\n\r\n// helpers //////////\r\n\r\nfunction filter(connection) {\r\n  return !is(connection, 'dmn:Association');\r\n}\r\n\r\nfunction getHorizontalDistance(a, b) {\r\n  return Math.abs(b.x - a.x);\r\n}\r\n\r\nfunction generateGetNextDRGElementPosition(source) {\r\n  var sourceMid = getMid(source);\r\n\r\n  var connectedAtPositionLeft,\r\n      connectedAtPositionRight;\r\n\r\n  return function(element, previousPosition, connectedAtPreviousPosition) {\r\n    var direction;\r\n\r\n    // (1) get direction\r\n    if (!connectedAtPositionLeft) {\r\n      connectedAtPositionLeft = connectedAtPreviousPosition;\r\n      connectedAtPositionRight = connectedAtPreviousPosition;\r\n\r\n      if (getMid(connectedAtPreviousPosition).x - sourceMid.x > 0) {\r\n        direction = DIRECTION_LEFT;\r\n      } else {\r\n        direction = DIRECTION_RIGHT;\r\n      }\r\n    } else {\r\n      if (previousPosition.x < sourceMid.x) {\r\n        connectedAtPositionLeft = connectedAtPreviousPosition;\r\n      } else {\r\n        connectedAtPositionRight = connectedAtPreviousPosition;\r\n      }\r\n\r\n      if (getHorizontalDistance(sourceMid, getMid(connectedAtPositionLeft))\r\n        < getHorizontalDistance(sourceMid, getMid(connectedAtPositionRight))) {\r\n        direction = DIRECTION_LEFT;\r\n      } else {\r\n        direction = DIRECTION_RIGHT;\r\n      }\r\n    }\r\n\r\n    // (2) get next position\r\n    if (direction === DIRECTION_LEFT) {\r\n      return {\r\n        x: Math.min(\r\n          getMid(connectedAtPositionLeft).x - DRG_ELEMENT_ROW_SIZE - DRG_ELEMENT_MARGIN,\r\n          asTRBL(connectedAtPositionLeft).left - DRG_ELEMENT_MARGIN - element.width / 2\r\n        ),\r\n        y: previousPosition.y\r\n      };\r\n    } else {\r\n      return {\r\n        x: Math.max(\r\n          getMid(connectedAtPositionRight).x + DRG_ELEMENT_ROW_SIZE + DRG_ELEMENT_MARGIN,\r\n          asTRBL(connectedAtPositionRight).right + DRG_ELEMENT_MARGIN + element.width / 2\r\n        ),\r\n        y: previousPosition.y\r\n      };\r\n    }\r\n  };\r\n}","import { getNewShapePosition } from './DmnAutoPlaceUtil';\r\n\r\n\r\n/**\r\n * DMN auto-place behavior.\r\n *\r\n * @param {EventBus} eventBus\r\n */\r\nexport default function AutoPlace(eventBus) {\r\n  eventBus.on('autoPlace', function(context) {\r\n    var shape = context.shape,\r\n        source = context.source;\r\n\r\n    return getNewShapePosition(source, shape);\r\n  });\r\n}\r\n\r\nAutoPlace.$inject = [ 'eventBus' ];","import AutoPlaceModule from 'diagram-js/lib/features/auto-place';\r\n\r\nimport DmnAutoPlace from './DmnAutoPlace';\r\n\r\nexport default {\r\n  __depends__: [ AutoPlaceModule ],\r\n  __init__: [ 'dmnAutoPlace' ],\r\n  dmnAutoPlace: [ 'type', DmnAutoPlace ]\r\n};","/* global TouchEvent */\n\nvar round = Math.round;\n\nimport { assign } from 'min-dash';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  getOriginal,\n  toPoint,\n  stopPropagation\n} from '../../util/Event';\n\nimport {\n  set as cursorSet,\n  unset as cursorUnset\n} from '../../util/Cursor';\n\nimport {\n  install as installClickTrap\n} from '../../util/ClickTrap';\n\nimport {\n  delta as deltaPos\n} from '../../util/PositionUtil';\n\nvar DRAG_ACTIVE_CLS = 'djs-drag-active';\n\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction isTouchEvent(event) {\n\n  // check for TouchEvent being available first\n  // (i.e. not available on desktop Firefox)\n  return typeof TouchEvent !== 'undefined' && event instanceof TouchEvent;\n}\n\nfunction getLength(point) {\n  return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n\n/**\n * A helper that fires canvas localized drag events and realizes\n * the general \"drag-and-drop\" look and feel.\n *\n * Calling {@link Dragging#activate} activates dragging on a canvas.\n *\n * It provides the following:\n *\n *   * emits life cycle events, namespaced with a prefix assigned\n *     during dragging activation\n *   * sets and restores the cursor\n *   * sets and restores the selection if elements still exist\n *   * ensures there can be only one drag operation active at a time\n *\n * Dragging may be canceled manually by calling {@link Dragging#cancel}\n * or by pressing ESC.\n *\n *\n * ## Life-cycle events\n *\n * Dragging can be in three different states, off, initialized\n * and active.\n *\n * (1) off: no dragging operation is in progress\n * (2) initialized: a new drag operation got initialized but not yet\n *                  started (i.e. because of no initial move)\n * (3) started: dragging is in progress\n *\n * Eventually dragging will be off again after a drag operation has\n * been ended or canceled via user click or ESC key press.\n *\n * To indicate transitions between these states dragging emits generic\n * life-cycle events with the `drag.` prefix _and_ events namespaced\n * to a prefix choosen by a user during drag initialization.\n *\n * The following events are emitted (appropriately prefixed) via\n * the {@link EventBus}.\n *\n * * `init`\n * * `start`\n * * `move`\n * * `end`\n * * `ended` (dragging already in off state)\n * * `cancel` (only if previously started)\n * * `canceled` (dragging already in off state, only if previously started)\n * * `cleanup`\n *\n *\n * @example\n *\n * function MyDragComponent(eventBus, dragging) {\n *\n *   eventBus.on('mydrag.start', function(event) {\n *     console.log('yes, we start dragging');\n *   });\n *\n *   eventBus.on('mydrag.move', function(event) {\n *     console.log('canvas local coordinates', event.x, event.y, event.dx, event.dy);\n *\n *     // local drag data is passed with the event\n *     event.context.foo; // \"BAR\"\n *\n *     // the original mouse event, too\n *     event.originalEvent; // MouseEvent(...)\n *   });\n *\n *   eventBus.on('element.click', function(event) {\n *     dragging.init(event, 'mydrag', {\n *       cursor: 'grabbing',\n *       data: {\n *         context: {\n *           foo: \"BAR\"\n *         }\n *       }\n *     });\n *   });\n * }\n */\nexport default function Dragging(eventBus, canvas, selection, elementRegistry) {\n\n  var defaultOptions = {\n    threshold: 5,\n    trapClick: true\n  };\n\n  // the currently active drag operation\n  // dragging is active as soon as this context exists.\n  //\n  // it is visually _active_ only when a context.active flag is set to true.\n  var context;\n\n  /* convert a global event into local coordinates */\n  function toLocalPoint(globalPosition) {\n\n    var viewbox = canvas.viewbox();\n\n    var clientRect = canvas._container.getBoundingClientRect();\n\n    return {\n      x: viewbox.x + (globalPosition.x - clientRect.left) / viewbox.scale,\n      y: viewbox.y + (globalPosition.y - clientRect.top) / viewbox.scale\n    };\n  }\n\n  // helpers\n\n  function fire(type, dragContext) {\n    dragContext = dragContext || context;\n\n    var event = eventBus.createEvent(\n      assign(\n        {},\n        dragContext.payload,\n        dragContext.data,\n        { isTouch: dragContext.isTouch }\n      )\n    );\n\n    // default integration\n    if (eventBus.fire('drag.' + type, event) === false) {\n      return false;\n    }\n\n    return eventBus.fire(dragContext.prefix + '.' + type, event);\n  }\n\n  function restoreSelection(previousSelection) {\n    var existingSelection = previousSelection.filter(function(element) {\n      return elementRegistry.get(element.id);\n    });\n\n    existingSelection.length && selection.select(existingSelection);\n  }\n\n  // event listeners\n\n  function move(event, activate) {\n    var payload = context.payload,\n        displacement = context.displacement;\n\n    var globalStart = context.globalStart,\n        globalCurrent = toPoint(event),\n        globalDelta = deltaPos(globalCurrent, globalStart);\n\n    var localStart = context.localStart,\n        localCurrent = toLocalPoint(globalCurrent),\n        localDelta = deltaPos(localCurrent, localStart);\n\n\n    // activate context explicitly or once threshold is reached\n    if (!context.active && (activate || getLength(globalDelta) > context.threshold)) {\n\n      // fire start event with original\n      // starting coordinates\n\n      assign(payload, {\n        x: round(localStart.x + displacement.x),\n        y: round(localStart.y + displacement.y),\n        dx: 0,\n        dy: 0\n      }, { originalEvent: event });\n\n      if (false === fire('start')) {\n        return cancel();\n      }\n\n      context.active = true;\n\n      // unset selection and remember old selection\n      // the previous (old) selection will always passed\n      // with the event via the event.previousSelection property\n      if (!context.keepSelection) {\n        payload.previousSelection = selection.get();\n        selection.select(null);\n      }\n\n      // allow custom cursor\n      if (context.cursor) {\n        cursorSet(context.cursor);\n      }\n\n      // indicate dragging via marker on root element\n      canvas.addMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n    }\n\n    stopPropagation(event);\n\n    if (context.active) {\n\n      // update payload with actual coordinates\n      assign(payload, {\n        x: round(localCurrent.x + displacement.x),\n        y: round(localCurrent.y + displacement.y),\n        dx: round(localDelta.x),\n        dy: round(localDelta.y)\n      }, { originalEvent: event });\n\n      // emit move event\n      fire('move');\n    }\n  }\n\n  function end(event) {\n    var previousContext,\n        returnValue = true;\n\n    if (context.active) {\n\n      if (event) {\n        context.payload.originalEvent = event;\n\n        // suppress original event (click, ...)\n        // because we just ended a drag operation\n        stopPropagation(event);\n      }\n\n      // implementations may stop restoring the\n      // original state (selections, ...) by preventing the\n      // end events default action\n      returnValue = fire('end');\n    }\n\n    if (returnValue === false) {\n      fire('rejected');\n    }\n\n    previousContext = cleanup(returnValue !== true);\n\n    // last event to be fired when all drag operations are done\n    // at this point in time no drag operation is in progress anymore\n    fire('ended', previousContext);\n  }\n\n\n  // cancel active drag operation if the user presses\n  // the ESC key on the keyboard\n\n  function checkCancel(event) {\n\n    if (event.which === 27) {\n      preventDefault(event);\n\n      cancel();\n    }\n  }\n\n\n  // prevent ghost click that might occur after a finished\n  // drag and drop session\n\n  function trapClickAndEnd(event) {\n\n    var untrap;\n\n    // trap the click in case we are part of an active\n    // drag operation. This will effectively prevent\n    // the ghost click that cannot be canceled otherwise.\n    if (context.active) {\n\n      untrap = installClickTrap(eventBus);\n\n      // remove trap after minimal delay\n      setTimeout(untrap, 400);\n\n      // prevent default action (click)\n      preventDefault(event);\n    }\n\n    end(event);\n  }\n\n  function trapTouch(event) {\n    move(event);\n  }\n\n  // update the drag events hover (djs.model.Base) and hoverGfx (Snap<SVGElement>)\n  // properties during hover and out and fire {prefix}.hover and {prefix}.out properties\n  // respectively\n\n  function hover(event) {\n    var payload = context.payload;\n\n    payload.hoverGfx = event.gfx;\n    payload.hover = event.element;\n\n    fire('hover');\n  }\n\n  function out(event) {\n    fire('out');\n\n    var payload = context.payload;\n\n    payload.hoverGfx = null;\n    payload.hover = null;\n  }\n\n\n  // life-cycle methods\n\n  function cancel(restore) {\n    var previousContext;\n\n    if (!context) {\n      return;\n    }\n\n    var wasActive = context.active;\n\n    if (wasActive) {\n      fire('cancel');\n    }\n\n    previousContext = cleanup(restore);\n\n    if (wasActive) {\n\n      // last event to be fired when all drag operations are done\n      // at this point in time no drag operation is in progress anymore\n      fire('canceled', previousContext);\n    }\n  }\n\n  function cleanup(restore) {\n    var previousContext,\n        endDrag;\n\n    fire('cleanup');\n\n    // reset cursor\n    cursorUnset();\n\n    if (context.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    // reset dom listeners\n    domEvent.unbind(document, 'mousemove', move);\n\n    domEvent.unbind(document, 'dragstart', preventDefault);\n    domEvent.unbind(document, 'selectstart', preventDefault);\n\n    domEvent.unbind(document, 'mousedown', endDrag, true);\n    domEvent.unbind(document, 'mouseup', endDrag, true);\n\n    domEvent.unbind(document, 'keyup', checkCancel);\n\n    domEvent.unbind(document, 'touchstart', trapTouch, true);\n    domEvent.unbind(document, 'touchcancel', cancel, true);\n    domEvent.unbind(document, 'touchmove', move, true);\n    domEvent.unbind(document, 'touchend', end, true);\n\n    eventBus.off('element.hover', hover);\n    eventBus.off('element.out', out);\n\n    // remove drag marker on root element\n    canvas.removeMarker(canvas.getRootElement(), DRAG_ACTIVE_CLS);\n\n    // restore selection, unless it has changed\n    var previousSelection = context.payload.previousSelection;\n\n    if (restore !== false && previousSelection && !selection.get().length) {\n      restoreSelection(previousSelection);\n    }\n\n    previousContext = context;\n\n    context = null;\n\n    return previousContext;\n  }\n\n  /**\n   * Initialize a drag operation.\n   *\n   * If `localPosition` is given, drag events will be emitted\n   * relative to it.\n   *\n   * @param {MouseEvent|TouchEvent} [event]\n   * @param {Point} [localPosition] actual diagram local position this drag operation should start at\n   * @param {string} prefix\n   * @param {Object} [options]\n   */\n  function init(event, relativeTo, prefix, options) {\n\n    // only one drag operation may be active, at a time\n    if (context) {\n      cancel(false);\n    }\n\n    if (typeof relativeTo === 'string') {\n      options = prefix;\n      prefix = relativeTo;\n      relativeTo = null;\n    }\n\n    options = assign({}, defaultOptions, options || {});\n\n    var data = options.data || {},\n        originalEvent,\n        globalStart,\n        localStart,\n        endDrag,\n        isTouch;\n\n    if (options.trapClick) {\n      endDrag = trapClickAndEnd;\n    } else {\n      endDrag = end;\n    }\n\n    if (event) {\n      originalEvent = getOriginal(event) || event;\n      globalStart = toPoint(event);\n\n      stopPropagation(event);\n\n      // prevent default browser dragging behavior\n      if (originalEvent.type === 'dragstart') {\n        preventDefault(originalEvent);\n      }\n    } else {\n      originalEvent = null;\n      globalStart = { x: 0, y: 0 };\n    }\n\n    localStart = toLocalPoint(globalStart);\n\n    if (!relativeTo) {\n      relativeTo = localStart;\n    }\n\n    isTouch = isTouchEvent(originalEvent);\n\n    context = assign({\n      prefix: prefix,\n      data: data,\n      payload: {},\n      globalStart: globalStart,\n      displacement: deltaPos(relativeTo, localStart),\n      localStart: localStart,\n      isTouch: isTouch\n    }, options);\n\n    // skip dom registration if trigger\n    // is set to manual (during testing)\n    if (!options.manual) {\n\n      // add dom listeners\n\n      if (isTouch) {\n        domEvent.bind(document, 'touchstart', trapTouch, true);\n        domEvent.bind(document, 'touchcancel', cancel, true);\n        domEvent.bind(document, 'touchmove', move, true);\n        domEvent.bind(document, 'touchend', end, true);\n      } else {\n\n        // assume we use the mouse to interact per default\n        domEvent.bind(document, 'mousemove', move);\n\n        // prevent default browser drag and text selection behavior\n        domEvent.bind(document, 'dragstart', preventDefault);\n        domEvent.bind(document, 'selectstart', preventDefault);\n\n        domEvent.bind(document, 'mousedown', endDrag, true);\n        domEvent.bind(document, 'mouseup', endDrag, true);\n      }\n\n      domEvent.bind(document, 'keyup', checkCancel);\n\n      eventBus.on('element.hover', hover);\n      eventBus.on('element.out', out);\n    }\n\n    fire('init');\n\n    if (options.autoActivate) {\n      move(event, true);\n    }\n  }\n\n  // cancel on diagram destruction\n  eventBus.on('diagram.destroy', cancel);\n\n\n  // API\n\n  this.init = init;\n  this.move = move;\n  this.hover = hover;\n  this.out = out;\n  this.end = end;\n\n  this.cancel = cancel;\n\n  // for introspection\n\n  this.context = function() {\n    return context;\n  };\n\n  this.setOptions = function(options) {\n    assign(defaultOptions, options);\n  };\n}\n\nDragging.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'elementRegistry'\n];\n","import {\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\nvar HIGH_PRIORITY = 1500;\n\n\n/**\n * Browsers may swallow certain events (hover, out ...) if users are to\n * fast with the mouse.\n *\n * @see http://stackoverflow.com/questions/7448468/why-cant-i-reliably-capture-a-mouseout-event\n *\n * The fix implemented in this component ensure that we\n *\n * 1) have a hover state after a successful drag.move event\n * 2) have an out event when dragging leaves an element\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {ElementRegistry} elementRegistry\n */\nexport default function HoverFix(eventBus, dragging, elementRegistry) {\n\n  var self = this;\n\n  /**\n   * Make sure we are god damn hovering!\n   *\n   * @param {Event} dragging event\n   */\n  function ensureHover(event) {\n\n    if (event.hover) {\n      return;\n    }\n\n    var originalEvent = event.originalEvent;\n\n    var gfx = self._findTargetGfx(originalEvent);\n\n    var element = gfx && elementRegistry.get(gfx);\n\n    if (gfx && element) {\n\n      // 1) cancel current mousemove\n      event.stopPropagation();\n\n      // 2) emit fake hover for new target\n      dragging.hover({ element: element, gfx: gfx });\n\n      // 3) re-trigger move event\n      dragging.move(originalEvent);\n    }\n  }\n\n  /**\n   * We wait for a specific sequence of events before\n   * emitting a fake drag.hover event.\n   *\n   * Event Sequence:\n   *\n   * drag.start\n   * drag.move >> ensure we are hovering\n   */\n  eventBus.on('drag.start', function(event) {\n\n    eventBus.once('drag.move', HIGH_PRIORITY, function(event) {\n\n      ensureHover(event);\n\n    });\n\n  });\n\n\n  /**\n   * We make sure that drag.out is always fired, even if the\n   * browser swallows an element.out event.\n   *\n   * Event sequence:\n   *\n   * drag.hover\n   * (element.out >> sometimes swallowed)\n   * element.hover >> ensure we fired drag.out\n   */\n  eventBus.on('drag.init', function() {\n\n    var hover, hoverGfx;\n\n    function setDragHover(event) {\n      hover = event.hover;\n      hoverGfx = event.hoverGfx;\n    }\n\n    function unsetHover() {\n      hover = null;\n      hoverGfx = null;\n    }\n\n    function ensureOut() {\n\n      if (!hover) {\n        return;\n      }\n\n      var element = hover,\n          gfx = hoverGfx;\n\n      hover = null;\n      hoverGfx = null;\n\n      // emit synthetic out event\n      dragging.out({\n        element: element,\n        gfx: gfx\n      });\n    }\n\n    eventBus.on('drag.hover', setDragHover);\n    eventBus.on('element.out', unsetHover);\n    eventBus.on('element.hover', HIGH_PRIORITY, ensureOut);\n\n    eventBus.once('drag.cleanup', function() {\n      eventBus.off('drag.hover', setDragHover);\n      eventBus.off('element.out', unsetHover);\n      eventBus.off('element.hover', ensureOut);\n    });\n\n  });\n\n  this._findTargetGfx = function(event) {\n    var position,\n        target;\n\n    if (!(event instanceof MouseEvent)) {\n      return;\n    }\n\n    position = toPoint(event);\n\n    // damn expensive operation, ouch!\n    target = document.elementFromPoint(position.x, position.y);\n\n    return getGfx(target);\n  };\n\n}\n\nHoverFix.$inject = [\n  'eventBus',\n  'dragging',\n  'elementRegistry'\n];\n\n\n// helpers /////////////////////\n\nfunction getGfx(target) {\n  return domClosest(target, 'svg, .djs-element', true);\n}","import SelectionModule from '../selection';\n\nimport Dragging from './Dragging';\nimport HoverFix from './HoverFix';\n\nexport default {\n  __init__: [\n    'hoverFix'\n  ],\n  __depends__: [\n    SelectionModule\n  ],\n  dragging: [ 'type', Dragging ],\n  hoverFix: [ 'type', HoverFix ]\n};","import { assign } from 'min-dash';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\n\n/**\n * Initiates canvas scrolling if current cursor point is close to a border.\n * Cancelled when current point moves back inside the scrolling borders\n * or cancelled manually.\n *\n * Default options :\n *   scrollThresholdIn: [ 20, 20, 20, 20 ],\n *   scrollThresholdOut: [ 0, 0, 0, 0 ],\n *   scrollRepeatTimeout: 15,\n *   scrollStep: 10\n *\n * Threshold order:\n *   [ left, top, right, bottom ]\n */\nexport default function AutoScroll(config, eventBus, canvas) {\n\n  this._canvas = canvas;\n\n  this._opts = assign({\n    scrollThresholdIn: [ 20, 20, 20, 20 ],\n    scrollThresholdOut: [ 0, 0, 0, 0 ],\n    scrollRepeatTimeout: 15,\n    scrollStep: 10\n  }, config);\n\n  var self = this;\n\n  eventBus.on('drag.move', function(e) {\n    var point = self._toBorderPoint(e);\n\n    self.startScroll(point);\n  });\n\n  eventBus.on([ 'drag.cleanup' ], function() {\n    self.stopScroll();\n  });\n}\n\nAutoScroll.$inject = [\n  'config.autoScroll',\n  'eventBus',\n  'canvas'\n];\n\n\n/**\n * Starts scrolling loop.\n * Point is given in global scale in canvas container box plane.\n *\n * @param  {Object} point { x: X, y: Y }\n */\nAutoScroll.prototype.startScroll = function(point) {\n\n  var canvas = this._canvas;\n  var opts = this._opts;\n  var self = this;\n\n  var clientRect = canvas.getContainer().getBoundingClientRect();\n\n  var diff = [\n    point.x,\n    point.y,\n    clientRect.width - point.x,\n    clientRect.height - point.y\n  ];\n\n  this.stopScroll();\n\n  var dx = 0,\n      dy = 0;\n\n  for (var i = 0; i < 4; i++) {\n    if (between(diff[i], opts.scrollThresholdOut[i], opts.scrollThresholdIn[i])) {\n      if (i === 0) {\n        dx = opts.scrollStep;\n      } else if (i == 1) {\n        dy = opts.scrollStep;\n      } else if (i == 2) {\n        dx = -opts.scrollStep;\n      } else if (i == 3) {\n        dy = -opts.scrollStep;\n      }\n    }\n  }\n\n  if (dx !== 0 || dy !== 0) {\n    canvas.scroll({ dx: dx, dy: dy });\n\n    this._scrolling = setTimeout(function() {\n      self.startScroll(point);\n    }, opts.scrollRepeatTimeout);\n  }\n};\n\nfunction between(val, start, end) {\n  if (start < val && val < end) {\n    return true;\n  }\n\n  return false;\n}\n\n\n/**\n * Stops scrolling loop.\n */\nAutoScroll.prototype.stopScroll = function() {\n  clearTimeout(this._scrolling);\n};\n\n\n/**\n * Overrides defaults options.\n *\n * @param  {Object} options\n */\nAutoScroll.prototype.setOptions = function(options) {\n  this._opts = assign({}, this._opts, options);\n};\n\n\n/**\n * Converts event to a point in canvas container plane in global scale.\n *\n * @param  {Event} event\n * @return {Point}\n */\nAutoScroll.prototype._toBorderPoint = function(event) {\n  var clientRect = this._canvas._container.getBoundingClientRect();\n\n  var globalPosition = toPoint(event.originalEvent);\n\n  return {\n    x: globalPosition.x - clientRect.left,\n    y: globalPosition.y - clientRect.top\n  };\n};","import DraggingModule from '../dragging';\n\nimport AutoScroll from './AutoScroll';\n\n\nexport default {\n  __depends__: [\n    DraggingModule,\n  ],\n  __init__: [ 'autoScroll' ],\n  autoScroll: [ 'type', AutoScroll ]\n};","/**\n * A service that provides rules for certain diagram actions.\n *\n * The default implementation will hook into the {@link CommandStack}\n * to perform the actual rule evaluation. Make sure to provide the\n * `commandStack` service with this module if you plan to use it.\n *\n * Together with this implementation you may use the {@link RuleProvider}\n * to implement your own rule checkers.\n *\n * This module is ment to be easily replaced, thus the tiny foot print.\n *\n * @param {Injector} injector\n */\nexport default function Rules(injector) {\n  this._commandStack = injector.get('commandStack', false);\n}\n\nRules.$inject = [ 'injector' ];\n\n\n/**\n * Returns whether or not a given modeling action can be executed\n * in the specified context.\n *\n * This implementation will respond with allow unless anyone\n * objects.\n *\n * @param {string} action the action to be checked\n * @param {Object} [context] the context to check the action in\n *\n * @return {boolean} returns true, false or null depending on whether the\n *                   operation is allowed, not allowed or should be ignored.\n */\nRules.prototype.allowed = function(action, context) {\n  var allowed = true;\n\n  var commandStack = this._commandStack;\n\n  if (commandStack) {\n    allowed = commandStack.canExecute(action, context);\n  }\n\n  // map undefined to true, i.e. no rules\n  return allowed === undefined ? true : allowed;\n};","import Rules from './Rules';\n\nexport default {\n  __init__: [ 'rules' ],\n  rules: [ 'type', Rules ]\n};\n","import {\n  pointDistance\n} from './Geometry';\n\nimport intersectPaths from 'path-intersection';\n\nvar round = Math.round,\n    max = Math.max;\n\n\nfunction circlePath(center, r) {\n  var x = center.x,\n      y = center.y;\n\n  return [\n    ['M', x, y],\n    ['m', 0, -r],\n    ['a', r, r, 0, 1, 1, 0, 2 * r],\n    ['a', r, r, 0, 1, 1, 0, -2 * r],\n    ['z']\n  ];\n}\n\nfunction linePath(points) {\n  var segments = [];\n\n  points.forEach(function(p, idx) {\n    segments.push([ idx === 0 ? 'M' : 'L', p.x, p.y ]);\n  });\n\n  return segments;\n}\n\n\nvar INTERSECTION_THRESHOLD = 10;\n\nfunction getBendpointIntersection(waypoints, reference) {\n\n  var i, w;\n\n  for (i = 0; (w = waypoints[i]); i++) {\n\n    if (pointDistance(w, reference) <= INTERSECTION_THRESHOLD) {\n      return {\n        point: waypoints[i],\n        bendpoint: true,\n        index: i\n      };\n    }\n  }\n\n  return null;\n}\n\nfunction getPathIntersection(waypoints, reference) {\n\n  var intersections = intersectPaths(circlePath(reference, INTERSECTION_THRESHOLD), linePath(waypoints));\n\n  var a = intersections[0],\n      b = intersections[intersections.length - 1],\n      idx;\n\n  if (!a) {\n\n    // no intersection\n    return null;\n  }\n\n  if (a !== b) {\n\n    if (a.segment2 !== b.segment2) {\n\n      // we use the bendpoint in between both segments\n      // as the intersection point\n\n      idx = max(a.segment2, b.segment2) - 1;\n\n      return {\n        point: waypoints[idx],\n        bendpoint: true,\n        index: idx\n      };\n    }\n\n    return {\n      point: {\n        x: (round(a.x + b.x) / 2),\n        y: (round(a.y + b.y) / 2)\n      },\n      index: a.segment2\n    };\n  }\n\n  return {\n    point: {\n      x: round(a.x),\n      y: round(a.y)\n    },\n    index: a.segment2\n  };\n}\n\n/**\n * Returns the closest point on the connection towards a given reference point.\n *\n * @param  {Array<Point>} waypoints\n * @param  {Point} reference\n *\n * @return {Object} intersection data (segment, point)\n */\nexport function getApproxIntersection(waypoints, reference) {\n  return getBendpointIntersection(waypoints, reference) || getPathIntersection(waypoints, reference);\n}\n","import {\n  toPoint\n} from '../../util/Event';\n\nimport {\n  getMidPoint,\n  pointsAligned\n} from '../../util/Geometry';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  rotate,\n  translate\n} from '../../util/SvgTransformUtil';\n\nimport {\n  getApproxIntersection\n} from '../../util/LineIntersection';\n\nexport var BENDPOINT_CLS = 'djs-bendpoint';\nexport var SEGMENT_DRAGGER_CLS = 'djs-segment-dragger';\n\nexport function toCanvasCoordinates(canvas, event) {\n\n  var position = toPoint(event),\n      clientRect = canvas._container.getBoundingClientRect(),\n      offset;\n\n  // canvas relative position\n\n  offset = {\n    x: clientRect.left,\n    y: clientRect.top\n  };\n\n  // update actual event payload with canvas relative measures\n\n  var viewbox = canvas.viewbox();\n\n  return {\n    x: viewbox.x + (position.x - offset.x) / viewbox.scale,\n    y: viewbox.y + (position.y - offset.y) / viewbox.scale\n  };\n}\n\nexport function getConnectionIntersection(canvas, waypoints, event) {\n  var localPosition = toCanvasCoordinates(canvas, event),\n      intersection = getApproxIntersection(waypoints, localPosition);\n\n  return intersection;\n}\n\nexport function addBendpoint(parentGfx, cls) {\n  var groupGfx = svgCreate('g');\n  svgClasses(groupGfx).add(BENDPOINT_CLS);\n\n  svgAppend(parentGfx, groupGfx);\n\n  var visual = svgCreate('circle');\n  svgAttr(visual, {\n    cx: 0,\n    cy: 0,\n    r: 4\n  });\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(groupGfx, visual);\n\n  var hit = svgCreate('circle');\n  svgAttr(hit, {\n    cx: 0,\n    cy: 0,\n    r: 10\n  });\n  svgClasses(hit).add('djs-hit');\n\n  svgAppend(groupGfx, hit);\n\n  if (cls) {\n    svgClasses(groupGfx).add(cls);\n  }\n\n  return groupGfx;\n}\n\nfunction createParallelDragger(parentGfx, segmentStart, segmentEnd, alignment) {\n  var draggerGfx = svgCreate('g');\n\n  svgAppend(parentGfx, draggerGfx);\n\n  var width = 14,\n      height = 3,\n      padding = 11,\n      hitWidth = calculateHitWidth(segmentStart, segmentEnd, alignment),\n      hitHeight = height + padding;\n\n  var visual = svgCreate('rect');\n  svgAttr(visual, {\n    x: -width / 2,\n    y: -height / 2,\n    width: width,\n    height: height\n  });\n  svgClasses(visual).add('djs-visual');\n\n  svgAppend(draggerGfx, visual);\n\n  var hit = svgCreate('rect');\n  svgAttr(hit, {\n    x: -hitWidth / 2,\n    y: -hitHeight / 2,\n    width: hitWidth,\n    height: hitHeight\n  });\n  svgClasses(hit).add('djs-hit');\n\n  svgAppend(draggerGfx, hit);\n\n  rotate(draggerGfx, alignment === 'v' ? 90 : 0, 0, 0);\n\n  return draggerGfx;\n}\n\n\nexport function addSegmentDragger(parentGfx, segmentStart, segmentEnd) {\n\n  var groupGfx = svgCreate('g'),\n      mid = getMidPoint(segmentStart, segmentEnd),\n      alignment = pointsAligned(segmentStart, segmentEnd);\n\n  svgAppend(parentGfx, groupGfx);\n\n  createParallelDragger(groupGfx, segmentStart, segmentEnd, alignment);\n\n  svgClasses(groupGfx).add(SEGMENT_DRAGGER_CLS);\n  svgClasses(groupGfx).add(alignment === 'h' ? 'horizontal' : 'vertical');\n\n  translate(groupGfx, mid.x, mid.y);\n\n  return groupGfx;\n}\n\n/**\n * Calculates region for segment move which is 2/3 of the full segment length\n * @param {number} segmentLength\n *\n * @return {number}\n */\nexport function calculateSegmentMoveRegion(segmentLength) {\n  return Math.abs(Math.round(segmentLength * 2 / 3));\n}\n\n// helper //////////\n\nfunction calculateHitWidth(segmentStart, segmentEnd, alignment) {\n  var segmentLengthXAxis = segmentEnd.x - segmentStart.x,\n      segmentLengthYAxis = segmentEnd.y - segmentStart.y;\n\n  return alignment === 'h' ?\n    calculateSegmentMoveRegion(segmentLengthXAxis) :\n    calculateSegmentMoveRegion(segmentLengthYAxis);\n}\n","/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n;(function(root, factory) {\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\tif (typeof exports == 'object') {\n\t\t// For Node.js.\n\t\tmodule.exports = factory(root);\n\t} else if (typeof define == 'function' && define.amd) {\n\t\t// For AMD. Register as an anonymous module.\n\t\tdefine([], factory.bind(root, root));\n\t} else {\n\t\t// For browser globals (not exposing the function separately).\n\t\tfactory(root);\n\t}\n}(typeof global != 'undefined' ? global : this, function(root) {\n\n\tif (root.CSS && root.CSS.escape) {\n\t\treturn root.CSS.escape;\n\t}\n\n\t// https://drafts.csswg.org/cssom/#serialize-an-identifier\n\tvar cssEscape = function(value) {\n\t\tif (arguments.length == 0) {\n\t\t\tthrow new TypeError('`CSS.escape` requires an argument.');\n\t\t}\n\t\tvar string = String(value);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index < length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: theres no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t\t// (U+FFFD).\n\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\tresult += '\\uFFFD';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t// U+007F, []\n\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039), []\n\t\t\t\t(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), []\n\t\t\t\t(\n\t\t\t\t\tindex == 1 &&\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t\t// there is no second character, []\n\t\t\t\tindex == 0 &&\n\t\t\t\tlength == 1 &&\n\t\t\t\tcodeUnit == 0x002D\n\t\t\t) {\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), []\n\t\t\tif (\n\t\t\t\tcodeUnit >= 0x0080 ||\n\t\t\t\tcodeUnit == 0x002D ||\n\t\t\t\tcodeUnit == 0x005F ||\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t\t) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t}\n\t\treturn result;\n\t};\n\n\tif (!root.CSS) {\n\t\troot.CSS = {};\n\t}\n\n\troot.CSS.escape = cssEscape;\n\treturn cssEscape;\n\n}));\n","export {\n  default as escapeCSS\n} from 'css.escape';\n\nvar HTML_ESCAPE_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\nexport function escapeHTML(str) {\n  str = '' + str;\n\n  return str && str.replace(/[&<>\"']/g, function(match) {\n    return HTML_ESCAPE_MAP[match];\n  });\n}\n","import { forEach } from 'min-dash';\n\nimport {\n  event as domEvent,\n  query as domQuery,\n  queryAll as domQueryAll\n} from 'min-dom';\n\nimport {\n  BENDPOINT_CLS,\n  SEGMENT_DRAGGER_CLS,\n  addBendpoint,\n  addSegmentDragger,\n  calculateSegmentMoveRegion,\n  getConnectionIntersection\n} from './BendpointUtil';\n\nimport {\n  escapeCSS\n} from '../../util/EscapeUtil';\n\nimport {\n  pointsAligned,\n  getMidPoint\n} from '../../util/Geometry';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  translate\n} from '../../util/SvgTransformUtil';\n\n\n/**\n * A service that adds editable bendpoints to connections.\n */\nexport default function Bendpoints(\n    eventBus, canvas, interactionEvents,\n    bendpointMove, connectionSegmentMove) {\n\n  /**\n   * Returns true if intersection point is inside middle region of segment, adjusted by\n   * optional threshold\n   */\n  function isIntersectionMiddle(intersection, waypoints, treshold) {\n    var idx = intersection.index,\n        p = intersection.point,\n        p0, p1, mid, aligned, xDelta, yDelta;\n\n    if (idx <= 0 || intersection.bendpoint) {\n      return false;\n    }\n\n    p0 = waypoints[idx - 1];\n    p1 = waypoints[idx];\n    mid = getMidPoint(p0, p1),\n    aligned = pointsAligned(p0, p1);\n    xDelta = Math.abs(p.x - mid.x);\n    yDelta = Math.abs(p.y - mid.y);\n\n    return aligned && xDelta <= treshold && yDelta <= treshold;\n  }\n\n  /**\n   * Calculates the threshold from a connection's middle which fits the two-third-region\n   */\n  function calculateIntersectionThreshold(connection, intersection) {\n    var waypoints = connection.waypoints,\n        relevantSegment, alignment, segmentLength, threshold;\n\n    if (intersection.index <= 0 || intersection.bendpoint) {\n      return null;\n    }\n\n    // segment relative to connection intersection\n    relevantSegment = {\n      start: waypoints[intersection.index - 1],\n      end: waypoints[intersection.index]\n    };\n\n    alignment = pointsAligned(relevantSegment.start, relevantSegment.end);\n\n    if (!alignment) {\n      return null;\n    }\n\n    if (alignment === 'h') {\n      segmentLength = relevantSegment.end.x - relevantSegment.start.x;\n    } else {\n      segmentLength = relevantSegment.end.y - relevantSegment.start.y;\n    }\n\n    // calculate threshold relative to 2/3 of segment length\n    threshold = calculateSegmentMoveRegion(segmentLength) / 2;\n\n    return threshold;\n  }\n\n  function activateBendpointMove(event, connection) {\n    var waypoints = connection.waypoints,\n        intersection = getConnectionIntersection(canvas, waypoints, event),\n        threshold;\n\n    if (!intersection) {\n      return;\n    }\n\n    threshold = calculateIntersectionThreshold(connection, intersection);\n\n    if (isIntersectionMiddle(intersection, waypoints, threshold)) {\n      connectionSegmentMove.start(event, connection, intersection.index);\n    } else {\n      bendpointMove.start(event, connection, intersection.index, !intersection.bendpoint);\n    }\n\n    // we've handled the event\n    return true;\n  }\n\n  function bindInteractionEvents(node, eventName, element) {\n\n    domEvent.bind(node, eventName, function(event) {\n      interactionEvents.triggerMouseEvent(eventName, event, element);\n      event.stopPropagation();\n    });\n  }\n\n  function getBendpointsContainer(element, create) {\n\n    var layer = canvas.getLayer('overlays'),\n        gfx = domQuery('.djs-bendpoints[data-element-id=\"' + escapeCSS(element.id) + '\"]', layer);\n\n    if (!gfx && create) {\n      gfx = svgCreate('g');\n      svgAttr(gfx, { 'data-element-id': element.id });\n      svgClasses(gfx).add('djs-bendpoints');\n\n      svgAppend(layer, gfx);\n\n      bindInteractionEvents(gfx, 'mousedown', element);\n      bindInteractionEvents(gfx, 'click', element);\n      bindInteractionEvents(gfx, 'dblclick', element);\n    }\n\n    return gfx;\n  }\n\n  function getSegmentDragger(idx, parentGfx) {\n    return domQuery(\n      '.djs-segment-dragger[data-segment-idx=\"' + idx + '\"]',\n      parentGfx\n    );\n  }\n\n  function createBendpoints(gfx, connection) {\n    connection.waypoints.forEach(function(p, idx) {\n      var bendpoint = addBendpoint(gfx);\n\n      svgAppend(gfx, bendpoint);\n\n      translate(bendpoint, p.x, p.y);\n    });\n\n    // add floating bendpoint\n    addBendpoint(gfx, 'floating');\n  }\n\n  function createSegmentDraggers(gfx, connection) {\n\n    var waypoints = connection.waypoints;\n\n    var segmentStart,\n        segmentEnd,\n        segmentDraggerGfx;\n\n    for (var i = 1; i < waypoints.length; i++) {\n\n      segmentStart = waypoints[i - 1];\n      segmentEnd = waypoints[i];\n\n      if (pointsAligned(segmentStart, segmentEnd)) {\n        segmentDraggerGfx = addSegmentDragger(gfx, segmentStart, segmentEnd);\n\n        svgAttr(segmentDraggerGfx, { 'data-segment-idx': i });\n\n        bindInteractionEvents(segmentDraggerGfx, 'mousemove', connection);\n      }\n    }\n  }\n\n  function clearBendpoints(gfx) {\n    forEach(domQueryAll('.' + BENDPOINT_CLS, gfx), function(node) {\n      svgRemove(node);\n    });\n  }\n\n  function clearSegmentDraggers(gfx) {\n    forEach(domQueryAll('.' + SEGMENT_DRAGGER_CLS, gfx), function(node) {\n      svgRemove(node);\n    });\n  }\n\n  function addHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (!gfx) {\n      gfx = getBendpointsContainer(connection, true);\n\n      createBendpoints(gfx, connection);\n      createSegmentDraggers(gfx, connection);\n    }\n\n    return gfx;\n  }\n\n  function updateHandles(connection) {\n\n    var gfx = getBendpointsContainer(connection);\n\n    if (gfx) {\n      clearSegmentDraggers(gfx);\n      clearBendpoints(gfx);\n      createSegmentDraggers(gfx, connection);\n      createBendpoints(gfx, connection);\n    }\n  }\n\n  function updateFloatingBendpointPosition(parentGfx, intersection) {\n    var floating = domQuery('.floating', parentGfx),\n        point = intersection.point;\n\n    if (!floating) {\n      return;\n    }\n\n    translate(floating, point.x, point.y);\n\n  }\n\n  function updateSegmentDraggerPosition(parentGfx, intersection, waypoints) {\n\n    var draggerGfx = getSegmentDragger(intersection.index, parentGfx),\n        segmentStart = waypoints[intersection.index - 1],\n        segmentEnd = waypoints[intersection.index],\n        point = intersection.point,\n        mid = getMidPoint(segmentStart, segmentEnd),\n        alignment = pointsAligned(segmentStart, segmentEnd),\n        draggerVisual, relativePosition;\n\n    if (!draggerGfx) {\n      return;\n    }\n\n    draggerVisual = getDraggerVisual(draggerGfx);\n\n    relativePosition = {\n      x: point.x - mid.x,\n      y: point.y - mid.y\n    };\n\n    if (alignment === 'v') {\n\n      // rotate position\n      relativePosition = {\n        x: relativePosition.y,\n        y: relativePosition.x\n      };\n    }\n\n    translate(draggerVisual, relativePosition.x, relativePosition.y);\n  }\n\n  eventBus.on('connection.changed', function(event) {\n    updateHandles(event.element);\n  });\n\n  eventBus.on('connection.remove', function(event) {\n    var gfx = getBendpointsContainer(event.element);\n\n    if (gfx) {\n      svgRemove(gfx);\n    }\n  });\n\n  eventBus.on('element.marker.update', function(event) {\n\n    var element = event.element,\n        bendpointsGfx;\n\n    if (!element.waypoints) {\n      return;\n    }\n\n    bendpointsGfx = addHandles(element);\n\n    if (event.add) {\n      svgClasses(bendpointsGfx).add(event.marker);\n    } else {\n      svgClasses(bendpointsGfx).remove(event.marker);\n    }\n  });\n\n  eventBus.on('element.mousemove', function(event) {\n\n    var element = event.element,\n        waypoints = element.waypoints,\n        bendpointsGfx,\n        intersection;\n\n    if (waypoints) {\n      bendpointsGfx = getBendpointsContainer(element, true);\n\n      intersection = getConnectionIntersection(canvas, waypoints, event.originalEvent);\n\n      if (!intersection) {\n        return;\n      }\n\n      updateFloatingBendpointPosition(bendpointsGfx, intersection);\n\n      if (!intersection.bendpoint) {\n        updateSegmentDraggerPosition(bendpointsGfx, intersection, waypoints);\n      }\n\n    }\n  });\n\n  eventBus.on('element.mousedown', function(event) {\n\n    var originalEvent = event.originalEvent,\n        element = event.element;\n\n    if (!element.waypoints) {\n      return;\n    }\n\n    return activateBendpointMove(originalEvent, element);\n  });\n\n  eventBus.on('selection.changed', function(event) {\n    var newSelection = event.newSelection,\n        primary = newSelection[0];\n\n    if (primary && primary.waypoints) {\n      addHandles(primary);\n    }\n  });\n\n  eventBus.on('element.hover', function(event) {\n    var element = event.element;\n\n    if (element.waypoints) {\n      addHandles(element);\n      interactionEvents.registerEvent(event.gfx, 'mousemove', 'element.mousemove');\n    }\n  });\n\n  eventBus.on('element.out', function(event) {\n    interactionEvents.unregisterEvent(event.gfx, 'mousemove', 'element.mousemove');\n  });\n\n  // update bendpoint container data attribute on element ID change\n  eventBus.on('element.updateId', function(context) {\n    var element = context.element,\n        newId = context.newId;\n\n    if (element.waypoints) {\n      var bendpointContainer = getBendpointsContainer(element);\n\n      if (bendpointContainer) {\n        svgAttr(bendpointContainer, { 'data-element-id': newId });\n      }\n    }\n  });\n\n  // API\n\n  this.addHandles = addHandles;\n  this.updateHandles = updateHandles;\n  this.getBendpointsContainer = getBendpointsContainer;\n  this.getSegmentDragger = getSegmentDragger;\n}\n\nBendpoints.$inject = [\n  'eventBus',\n  'canvas',\n  'interactionEvents',\n  'bendpointMove',\n  'connectionSegmentMove'\n];\n\n\n\n// helper /////////////\n\nfunction getDraggerVisual(draggerGfx) {\n  return domQuery('.djs-visual', draggerGfx);\n}","import { filterRedundantWaypoints } from '../../layout/LayoutUtil';\n\nvar round = Math.round;\n\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd',\n    UPDATE_WAYPOINTS = 'updateWaypoints';\n\n\n/**\n * Move bendpoints through drag and drop to add/remove bendpoints or reconnect connection.\n */\nexport default function BendpointMove(injector, eventBus, canvas, dragging, rules, modeling) {\n  this._injector = injector;\n\n  this.start = function(event, connection, bendpointIndex, insert) {\n    var gfx = canvas.getGraphics(connection),\n        source = connection.source,\n        target = connection.target,\n        waypoints = connection.waypoints,\n        type;\n\n    if (!insert && bendpointIndex === 0) {\n      type = RECONNECT_START;\n    } else\n    if (!insert && bendpointIndex === waypoints.length - 1) {\n      type = RECONNECT_END;\n    } else {\n      type = UPDATE_WAYPOINTS;\n    }\n\n    var command = type === UPDATE_WAYPOINTS ? 'connection.updateWaypoints' : 'connection.reconnect';\n\n    var allowed = rules.allowed(command, {\n      connection: connection,\n      source: source,\n      target: target\n    });\n\n    if (allowed === false) {\n      allowed = rules.allowed(command, {\n        connection: connection,\n        source: target,\n        target: source\n      });\n    }\n\n    if (allowed === false) {\n      return;\n    }\n\n    dragging.init(event, 'bendpoint.move', {\n      data: {\n        connection: connection,\n        connectionGfx: gfx,\n        context: {\n          allowed: allowed,\n          bendpointIndex: bendpointIndex,\n          connection: connection,\n          source: source,\n          target: target,\n          insert: insert,\n          type: type\n        }\n      }\n    });\n  };\n\n  eventBus.on('bendpoint.move.hover', function(event) {\n    var context = event.context,\n        connection = context.connection,\n        source = connection.source,\n        target = connection.target,\n        hover = event.hover,\n        type = context.type;\n\n    // cache hover state\n    context.hover = hover;\n\n    var allowed;\n\n    if (!hover) {\n      return;\n    }\n\n    var command = type === UPDATE_WAYPOINTS ? 'connection.updateWaypoints' : 'connection.reconnect';\n\n    allowed = context.allowed = rules.allowed(command, {\n      connection: connection,\n      source: type === RECONNECT_START ? hover : source,\n      target: type === RECONNECT_END ? hover : target\n    });\n\n    if (allowed) {\n      context.source = type === RECONNECT_START ? hover : source;\n      context.target = type === RECONNECT_END ? hover : target;\n\n      return;\n    }\n\n    if (allowed === false) {\n      allowed = context.allowed = rules.allowed(command, {\n        connection: connection,\n        source: type === RECONNECT_END ? hover : target,\n        target: type === RECONNECT_START ? hover : source\n      });\n    }\n\n    if (allowed) {\n      context.source = type === RECONNECT_END ? hover : target;\n      context.target = type === RECONNECT_START ? hover : source;\n    }\n  });\n\n  eventBus.on([ 'bendpoint.move.out', 'bendpoint.move.cleanup' ], function(event) {\n    var context = event.context;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    context.allowed = false;\n  });\n\n  eventBus.on('bendpoint.move.end', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        bendpointIndex = context.bendpointIndex,\n        connection = context.connection,\n        insert = context.insert,\n        newWaypoints = connection.waypoints.slice(),\n        source = context.source,\n        target = context.target,\n        type = context.type,\n        hints = context.hints || {};\n\n    // ensure integer values (important if zoom level was > 1 during move)\n    var docking = {\n      x: round(event.x),\n      y: round(event.y)\n    };\n\n    if (!allowed) {\n      return false;\n    }\n\n    if (type === UPDATE_WAYPOINTS) {\n      if (insert) {\n\n        // insert new bendpoint\n        newWaypoints.splice(bendpointIndex, 0, docking);\n      } else {\n\n        // swap previous waypoint with moved one\n        newWaypoints[bendpointIndex] = docking;\n      }\n\n      // pass hints about actual moved bendpoint\n      // useful for connection/label layout\n      hints.bendpointMove = {\n        insert: insert,\n        bendpointIndex: bendpointIndex\n      };\n\n      newWaypoints = this.cropWaypoints(connection, newWaypoints);\n\n      modeling.updateWaypoints(connection, filterRedundantWaypoints(newWaypoints), hints);\n    } else {\n      if (type === RECONNECT_START) {\n        hints.docking = 'source';\n\n        if (isReverse(context)) {\n          hints.docking = 'target';\n\n          hints.newWaypoints = newWaypoints.reverse();\n        }\n      } else if (type === RECONNECT_END) {\n        hints.docking = 'target';\n\n        if (isReverse(context)) {\n          hints.docking = 'source';\n\n          hints.newWaypoints = newWaypoints.reverse();\n        }\n      }\n\n      modeling.reconnect(connection, source, target, docking, hints);\n    }\n  }, this);\n}\n\nBendpointMove.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'dragging',\n  'rules',\n  'modeling'\n];\n\nBendpointMove.prototype.cropWaypoints = function(connection, newWaypoints) {\n  var connectionDocking = this._injector.get('connectionDocking', false);\n\n  if (!connectionDocking) {\n    return newWaypoints;\n  }\n\n  var waypoints = connection.waypoints;\n\n  connection.waypoints = newWaypoints;\n\n  connection.waypoints = connectionDocking.getCroppedWaypoints(connection);\n\n  newWaypoints = connection.waypoints;\n\n  connection.waypoints = waypoints;\n\n  return newWaypoints;\n};\n\n\n// helpers //////////\n\nexport function isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target,\n      type = context.type;\n\n  if (type === RECONNECT_START) {\n    return hover && target && hover === target && source !== target;\n  }\n\n  if (type === RECONNECT_END) {\n    return hover && source && hover === source && source !== target;\n  }\n}","import {\n  classes as svgClasses,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { addBendpoint } from './BendpointUtil';\n\nimport { translate } from '../../util/SvgTransformUtil';\n\nimport { isReverse } from './BendpointMove';\n\nvar RECONNECT_START = 'reconnectStart',\n    RECONNECT_END = 'reconnectEnd',\n    UPDATE_WAYPOINTS = 'updateWaypoints';\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok',\n    MARKER_CONNECT_HOVER = 'connect-hover',\n    MARKER_CONNECT_UPDATING = 'djs-updating',\n    MARKER_ELEMENT_HIDDEN = 'djs-element-hidden';\n\nvar HIGH_PRIORITY = 1100;\n\n/**\n * Preview connection while moving bendpoints.\n */\nexport default function BendpointMovePreview(bendpointMove, injector, eventBus, canvas) {\n  this._injector = injector;\n\n  var connectionPreview = injector.get('connectionPreview', false);\n\n  eventBus.on('bendpoint.move.start', function(event) {\n    var context = event.context,\n        bendpointIndex = context.bendpointIndex,\n        connection = context.connection,\n        insert = context.insert,\n        waypoints = connection.waypoints,\n        newWaypoints = waypoints.slice();\n\n    context.waypoints = waypoints;\n\n    if (insert) {\n\n      // insert placeholder for new bendpoint\n      newWaypoints.splice(bendpointIndex, 0, { x: event.x, y: event.y });\n    }\n\n    connection.waypoints = newWaypoints;\n\n    // add dragger gfx\n    var draggerGfx = context.draggerGfx = addBendpoint(canvas.getLayer('overlays'));\n\n    svgClasses(draggerGfx).add('djs-dragging');\n\n    canvas.addMarker(connection, MARKER_ELEMENT_HIDDEN);\n    canvas.addMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on('bendpoint.move.hover', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        hover = context.hover,\n        type = context.type;\n\n    if (hover) {\n      canvas.addMarker(hover, MARKER_CONNECT_HOVER);\n\n      if (type === UPDATE_WAYPOINTS) {\n        return;\n      }\n\n      if (allowed) {\n        canvas.removeMarker(hover, MARKER_NOT_OK);\n        canvas.addMarker(hover, MARKER_OK);\n      } else if (allowed === false) {\n        canvas.removeMarker(hover, MARKER_OK);\n        canvas.addMarker(hover, MARKER_NOT_OK);\n      }\n    }\n  });\n\n  eventBus.on([\n    'bendpoint.move.out',\n    'bendpoint.move.cleanup'\n  ], HIGH_PRIORITY, function(event) {\n    var context = event.context,\n        hover = context.hover,\n        target = context.target;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_CONNECT_HOVER);\n      canvas.removeMarker(hover, target ? MARKER_OK : MARKER_NOT_OK);\n    }\n  });\n\n  eventBus.on('bendpoint.move.move', function(event) {\n    var context = event.context,\n        allowed = context.allowed,\n        bendpointIndex = context.bendpointIndex,\n        draggerGfx = context.draggerGfx,\n        hover = context.hover,\n        type = context.type,\n        connection = context.connection,\n        source = connection.source,\n        target = connection.target,\n        newWaypoints = connection.waypoints.slice(),\n        bendpoint = { x: event.x, y: event.y },\n        hints = context.hints || {},\n        drawPreviewHints = {};\n\n    if (connectionPreview) {\n      if (hints.connectionStart) {\n        drawPreviewHints.connectionStart = hints.connectionStart;\n      }\n\n      if (hints.connectionEnd) {\n        drawPreviewHints.connectionEnd = hints.connectionEnd;\n      }\n\n\n      if (type === RECONNECT_START) {\n        if (isReverse(context)) {\n          drawPreviewHints.connectionEnd = drawPreviewHints.connectionEnd || bendpoint;\n\n          drawPreviewHints.source = target;\n          drawPreviewHints.target = hover || source;\n\n          newWaypoints = newWaypoints.reverse();\n        } else {\n          drawPreviewHints.connectionStart = drawPreviewHints.connectionStart || bendpoint;\n\n          drawPreviewHints.source = hover || source;\n          drawPreviewHints.target = target;\n        }\n      } else if (type === RECONNECT_END) {\n        if (isReverse(context)) {\n          drawPreviewHints.connectionStart = drawPreviewHints.connectionStart || bendpoint;\n\n          drawPreviewHints.source = hover || target;\n          drawPreviewHints.target = source;\n\n          newWaypoints = newWaypoints.reverse();\n        } else {\n          drawPreviewHints.connectionEnd = drawPreviewHints.connectionEnd || bendpoint;\n\n          drawPreviewHints.source = source;\n          drawPreviewHints.target = hover || target;\n        }\n\n      } else {\n        drawPreviewHints.noCropping = true;\n        drawPreviewHints.noLayout = true;\n        newWaypoints[ bendpointIndex ] = bendpoint;\n      }\n\n      if (type === UPDATE_WAYPOINTS) {\n        newWaypoints = bendpointMove.cropWaypoints(connection, newWaypoints);\n      }\n\n      drawPreviewHints.waypoints = newWaypoints;\n\n      connectionPreview.drawPreview(context, allowed, drawPreviewHints);\n    }\n\n    translate(draggerGfx, event.x, event.y);\n  }, this);\n\n  eventBus.on([\n    'bendpoint.move.end',\n    'bendpoint.move.cancel'\n  ], HIGH_PRIORITY, function(event) {\n    var context = event.context,\n        connection = context.connection,\n        draggerGfx = context.draggerGfx,\n        hover = context.hover,\n        target = context.target,\n        waypoints = context.waypoints;\n\n    connection.waypoints = waypoints;\n\n    // remove dragger gfx\n    svgRemove(draggerGfx);\n\n    canvas.removeMarker(connection, MARKER_CONNECT_UPDATING);\n    canvas.removeMarker(connection, MARKER_ELEMENT_HIDDEN);\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_OK);\n      canvas.removeMarker(hover, target ? MARKER_OK : MARKER_NOT_OK);\n    }\n\n    if (connectionPreview) {\n      connectionPreview.cleanUp(context);\n    }\n  });\n}\n\nBendpointMovePreview.$inject = [\n  'bendpointMove',\n  'injector',\n  'eventBus',\n  'canvas'\n];","import {\n  pointsAligned,\n  pointsOnLine\n} from '../../util/Geometry';\n\nimport {\n  addSegmentDragger,\n  getConnectionIntersection\n} from './BendpointUtil';\n\nimport {\n  getMid,\n  getOrientation\n} from '../../layout/LayoutUtil';\n\nvar MARKER_CONNECT_HOVER = 'connect-hover',\n    MARKER_CONNECT_UPDATING = 'djs-updating';\n\nimport {\n  classes as svgClasses,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport {\n  translate\n} from '../../util/SvgTransformUtil';\n\n\nfunction axisAdd(point, axis, delta) {\n  return axisSet(point, axis, point[axis] + delta);\n}\n\nfunction axisSet(point, axis, value) {\n  return {\n    x: (axis === 'x' ? value : point.x),\n    y: (axis === 'y' ? value : point.y)\n  };\n}\n\nfunction axisFenced(position, segmentStart, segmentEnd, axis) {\n\n  var maxValue = Math.max(segmentStart[axis], segmentEnd[axis]),\n      minValue = Math.min(segmentStart[axis], segmentEnd[axis]);\n\n  var padding = 20;\n\n  var fencedValue = Math.min(Math.max(minValue + padding, position[axis]), maxValue - padding);\n\n  return axisSet(segmentStart, axis, fencedValue);\n}\n\nfunction flipAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Get the docking point on the given element.\n *\n * Compute a reasonable docking, if non exists.\n *\n * @param  {Point} point\n * @param  {djs.model.Shape} referenceElement\n * @param  {string} moveAxis (x|y)\n *\n * @return {Point}\n */\nfunction getDocking(point, referenceElement, moveAxis) {\n\n  var referenceMid,\n      inverseAxis;\n\n  if (point.original) {\n    return point.original;\n  } else {\n    referenceMid = getMid(referenceElement);\n    inverseAxis = flipAxis(moveAxis);\n\n    return axisSet(point, inverseAxis, referenceMid[inverseAxis]);\n  }\n}\n\n/**\n * A component that implements moving of bendpoints\n */\nexport default function ConnectionSegmentMove(\n    injector, eventBus, canvas,\n    dragging, graphicsFactory, modeling) {\n\n  // optional connection docking integration\n  var connectionDocking = injector.get('connectionDocking', false);\n\n\n  // API\n\n  this.start = function(event, connection, idx) {\n\n    var context,\n        gfx = canvas.getGraphics(connection),\n        segmentStartIndex = idx - 1,\n        segmentEndIndex = idx,\n        waypoints = connection.waypoints,\n        segmentStart = waypoints[segmentStartIndex],\n        segmentEnd = waypoints[segmentEndIndex],\n        intersection = getConnectionIntersection(canvas, waypoints, event),\n        direction, axis, dragPosition;\n\n    direction = pointsAligned(segmentStart, segmentEnd);\n\n    // do not move diagonal connection\n    if (!direction) {\n      return;\n    }\n\n    // the axis where we are going to move things\n    axis = direction === 'v' ? 'x' : 'y';\n\n    if (segmentStartIndex === 0) {\n      segmentStart = getDocking(segmentStart, connection.source, axis);\n    }\n\n    if (segmentEndIndex === waypoints.length - 1) {\n      segmentEnd = getDocking(segmentEnd, connection.target, axis);\n    }\n\n    if (intersection) {\n      dragPosition = intersection.point;\n    } else {\n\n      // set to segment center as default\n      dragPosition = {\n        x: (segmentStart.x + segmentEnd.x) / 2,\n        y: (segmentStart.y + segmentEnd.y) / 2\n      };\n    }\n\n    context = {\n      connection: connection,\n      segmentStartIndex: segmentStartIndex,\n      segmentEndIndex: segmentEndIndex,\n      segmentStart: segmentStart,\n      segmentEnd: segmentEnd,\n      axis: axis,\n      dragPosition: dragPosition\n    };\n\n    dragging.init(event, dragPosition, 'connectionSegment.move', {\n      cursor: axis === 'x' ? 'resize-ew' : 'resize-ns',\n      data: {\n        connection: connection,\n        connectionGfx: gfx,\n        context: context\n      }\n    });\n  };\n\n  /**\n   * Crop connection if connection cropping is provided.\n   *\n   * @param {Connection} connection\n   * @param {Array<Point>} newWaypoints\n   *\n   * @return {Array<Point>} cropped connection waypoints\n   */\n  function cropConnection(connection, newWaypoints) {\n\n    // crop connection, if docking service is provided only\n    if (!connectionDocking) {\n      return newWaypoints;\n    }\n\n    var oldWaypoints = connection.waypoints,\n        croppedWaypoints;\n\n    // temporary set new waypoints\n    connection.waypoints = newWaypoints;\n\n    croppedWaypoints = connectionDocking.getCroppedWaypoints(connection);\n\n    // restore old waypoints\n    connection.waypoints = oldWaypoints;\n\n    return croppedWaypoints;\n  }\n\n  // DRAGGING IMPLEMENTATION\n\n  function redrawConnection(data) {\n    graphicsFactory.update('connection', data.connection, data.connectionGfx);\n  }\n\n  function updateDragger(context, segmentOffset, event) {\n\n    var newWaypoints = context.newWaypoints,\n        segmentStartIndex = context.segmentStartIndex + segmentOffset,\n        segmentStart = newWaypoints[segmentStartIndex],\n        segmentEndIndex = context.segmentEndIndex + segmentOffset,\n        segmentEnd = newWaypoints[segmentEndIndex],\n        axis = flipAxis(context.axis);\n\n    // make sure the dragger does not move\n    // outside the connection\n    var draggerPosition = axisFenced(event, segmentStart, segmentEnd, axis);\n\n    // update dragger\n    translate(context.draggerGfx, draggerPosition.x, draggerPosition.y);\n  }\n\n  /**\n   * Filter waypoints for redundant ones (i.e. on the same axis).\n   * Returns the filtered waypoints and the offset related to the segment move.\n   *\n   * @param {Array<Point>} waypoints\n   * @param {Integer} segmentStartIndex of moved segment start\n   *\n   * @return {Object} { filteredWaypoints, segmentOffset }\n   */\n  function filterRedundantWaypoints(waypoints, segmentStartIndex) {\n\n    var segmentOffset = 0;\n\n    var filteredWaypoints = waypoints.filter(function(r, idx) {\n      if (pointsOnLine(waypoints[idx - 1], waypoints[idx + 1], r)) {\n\n        // remove point and increment offset\n        segmentOffset = idx <= segmentStartIndex ? segmentOffset - 1 : segmentOffset;\n        return false;\n      }\n\n      // dont remove point\n      return true;\n    });\n\n    return {\n      waypoints: filteredWaypoints,\n      segmentOffset: segmentOffset\n    };\n  }\n\n  eventBus.on('connectionSegment.move.start', function(event) {\n\n    var context = event.context,\n        connection = event.connection,\n        layer = canvas.getLayer('overlays');\n\n    context.originalWaypoints = connection.waypoints.slice();\n\n    // add dragger gfx\n    context.draggerGfx = addSegmentDragger(layer, context.segmentStart, context.segmentEnd);\n    svgClasses(context.draggerGfx).add('djs-dragging');\n\n    canvas.addMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on('connectionSegment.move.move', function(event) {\n\n    var context = event.context,\n        connection = context.connection,\n        segmentStartIndex = context.segmentStartIndex,\n        segmentEndIndex = context.segmentEndIndex,\n        segmentStart = context.segmentStart,\n        segmentEnd = context.segmentEnd,\n        axis = context.axis;\n\n    var newWaypoints = context.originalWaypoints.slice(),\n        newSegmentStart = axisAdd(segmentStart, axis, event['d' + axis]),\n        newSegmentEnd = axisAdd(segmentEnd, axis, event['d' + axis]);\n\n    // original waypoint count and added / removed\n    // from start waypoint delta. We use the later\n    // to retrieve the updated segmentStartIndex / segmentEndIndex\n    var waypointCount = newWaypoints.length,\n        segmentOffset = 0;\n\n    // move segment start / end by axis delta\n    newWaypoints[segmentStartIndex] = newSegmentStart;\n    newWaypoints[segmentEndIndex] = newSegmentEnd;\n\n    var sourceToSegmentOrientation,\n        targetToSegmentOrientation;\n\n    // handle first segment\n    if (segmentStartIndex < 2) {\n      sourceToSegmentOrientation = getOrientation(connection.source, newSegmentStart);\n\n      // first bendpoint, remove first segment if intersecting\n      if (segmentStartIndex === 1) {\n\n        if (sourceToSegmentOrientation === 'intersect') {\n          newWaypoints.shift();\n          newWaypoints[0] = newSegmentStart;\n          segmentOffset--;\n        }\n      }\n\n      // docking point, add segment if not intersecting anymore\n      else {\n        if (sourceToSegmentOrientation !== 'intersect') {\n          newWaypoints.unshift(segmentStart);\n          segmentOffset++;\n        }\n      }\n    }\n\n    // handle last segment\n    if (segmentEndIndex > waypointCount - 3) {\n      targetToSegmentOrientation = getOrientation(connection.target, newSegmentEnd);\n\n      // last bendpoint, remove last segment if intersecting\n      if (segmentEndIndex === waypointCount - 2) {\n\n        if (targetToSegmentOrientation === 'intersect') {\n          newWaypoints.pop();\n          newWaypoints[newWaypoints.length - 1] = newSegmentEnd;\n        }\n      }\n\n      // last bendpoint, remove last segment if intersecting\n      else {\n        if (targetToSegmentOrientation !== 'intersect') {\n          newWaypoints.push(segmentEnd);\n        }\n      }\n    }\n\n    // update connection waypoints\n    context.newWaypoints = connection.waypoints = cropConnection(connection, newWaypoints);\n\n    // update dragger position\n    updateDragger(context, segmentOffset, event);\n\n    // save segmentOffset in context\n    context.newSegmentStartIndex = segmentStartIndex + segmentOffset;\n\n    // redraw connection\n    redrawConnection(event);\n  });\n\n  eventBus.on('connectionSegment.move.hover', function(event) {\n\n    event.context.hover = event.hover;\n    canvas.addMarker(event.hover, MARKER_CONNECT_HOVER);\n  });\n\n  eventBus.on([\n    'connectionSegment.move.out',\n    'connectionSegment.move.cleanup'\n  ], function(event) {\n\n    // remove connect marker\n    // if it was added\n    var hover = event.context.hover;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_CONNECT_HOVER);\n    }\n  });\n\n  eventBus.on('connectionSegment.move.cleanup', function(event) {\n\n    var context = event.context,\n        connection = context.connection;\n\n    // remove dragger gfx\n    if (context.draggerGfx) {\n      svgRemove(context.draggerGfx);\n    }\n\n    canvas.removeMarker(connection, MARKER_CONNECT_UPDATING);\n  });\n\n  eventBus.on([\n    'connectionSegment.move.cancel',\n    'connectionSegment.move.end'\n  ], function(event) {\n    var context = event.context,\n        connection = context.connection;\n\n    connection.waypoints = context.originalWaypoints;\n\n    redrawConnection(event);\n  });\n\n  eventBus.on('connectionSegment.move.end', function(event) {\n\n    var context = event.context,\n        connection = context.connection,\n        newWaypoints = context.newWaypoints,\n        newSegmentStartIndex = context.newSegmentStartIndex;\n\n    // ensure we have actual pixel values bendpoint\n    // coordinates (important when zoom level was > 1 during move)\n    newWaypoints = newWaypoints.map(function(p) {\n      return {\n        original: p.original,\n        x: Math.round(p.x),\n        y: Math.round(p.y)\n      };\n    });\n\n    // apply filter redunant waypoints\n    var filtered = filterRedundantWaypoints(newWaypoints, newSegmentStartIndex);\n\n    // get filtered waypoints\n    var filteredWaypoints = filtered.waypoints,\n        croppedWaypoints = cropConnection(connection, filteredWaypoints),\n        segmentOffset = filtered.segmentOffset;\n\n    var hints = {\n      segmentMove: {\n        segmentStartIndex: context.segmentStartIndex,\n        newSegmentStartIndex: newSegmentStartIndex + segmentOffset\n      }\n    };\n\n    modeling.updateWaypoints(connection, croppedWaypoints, hints);\n  });\n}\n\nConnectionSegmentMove.$inject = [\n  'injector',\n  'eventBus',\n  'canvas',\n  'dragging',\n  'graphicsFactory',\n  'modeling'\n];\n","var abs = Math.abs,\n    round = Math.round;\n\n\n/**\n * Snap value to a collection of reference values.\n *\n * @param  {number} value\n * @param  {Array<number>} values\n * @param  {number} [tolerance=10]\n *\n * @return {number} the value we snapped to or null, if none snapped\n */\nexport function snapTo(value, values, tolerance) {\n  tolerance = tolerance === undefined ? 10 : tolerance;\n\n  var idx, snapValue;\n\n  for (idx = 0; idx < values.length; idx++) {\n    snapValue = values[idx];\n\n    if (abs(snapValue - value) <= tolerance) {\n      return snapValue;\n    }\n  }\n}\n\n\nexport function topLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y\n  };\n}\n\nexport function topRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y\n  };\n}\n\nexport function bottomLeft(bounds) {\n  return {\n    x: bounds.x,\n    y: bounds.y + bounds.height\n  };\n}\n\nexport function bottomRight(bounds) {\n  return {\n    x: bounds.x + bounds.width,\n    y: bounds.y + bounds.height\n  };\n}\n\nexport function mid(bounds, defaultValue) {\n\n  if (!bounds || isNaN(bounds.x) || isNaN(bounds.y)) {\n    return defaultValue;\n  }\n\n  return {\n    x: round(bounds.x + bounds.width / 2),\n    y: round(bounds.y + bounds.height / 2)\n  };\n}\n\n\n/**\n * Retrieve the snap state of the given event.\n *\n * @param  {Event} event\n * @param  {string} axis\n *\n * @return {boolean} the snapped state\n *\n */\nexport function isSnapped(event, axis) {\n  var snapped = event.snapped;\n\n  if (!snapped) {\n    return false;\n  }\n\n  if (typeof axis === 'string') {\n    return snapped[axis];\n  }\n\n  return snapped.x && snapped.y;\n}\n\n\n/**\n * Set the given event as snapped.\n *\n * This method may change the x and/or y position of the shape\n * from the given event!\n *\n * @param {Event} event\n * @param {string} axis\n * @param {number|boolean} value\n *\n * @return {number} old value\n */\nexport function setSnapped(event, axis, value) {\n  if (typeof axis !== 'string') {\n    throw new Error('axis must be in [x, y]');\n  }\n\n  if (typeof value !== 'number' && value !== false) {\n    throw new Error('value must be Number or false');\n  }\n\n  var delta,\n      previousValue = event[axis];\n\n  var snapped = event.snapped = (event.snapped || {});\n\n\n  if (value === false) {\n    snapped[axis] = false;\n  } else {\n    snapped[axis] = true;\n\n    delta = value - previousValue;\n\n    event[axis] += delta;\n    event['d' + axis] += delta;\n  }\n\n  return previousValue;\n}\n\n/**\n * Get children of a shape.\n *\n * @param {djs.model.Shape} parent\n *\n * @returns {Array<djs.model.Shape|djs.model.Connection>}\n */\nexport function getChildren(parent) {\n  return parent.children || [];\n}","import {\n  assign,\n  forEach,\n  isArray\n} from 'min-dash';\n\nimport { setSnapped } from '../snapping/SnapUtil';\n\nvar abs= Math.abs,\n    round = Math.round;\n\nvar TOLERANCE = 10;\n\n\nexport default function BendpointSnapping(eventBus) {\n\n  function snapTo(values, value) {\n\n    if (isArray(values)) {\n      var i = values.length;\n\n      while (i--) if (abs(values[i] - value) <= TOLERANCE) {\n        return values[i];\n      }\n    } else {\n      values = +values;\n      var rem = value % values;\n\n      if (rem < TOLERANCE) {\n        return value - rem;\n      }\n\n      if (rem > values - TOLERANCE) {\n        return value - rem + values;\n      }\n    }\n\n    return value;\n  }\n\n  function mid(element) {\n    if (element.width) {\n      return {\n        x: round(element.width / 2 + element.x),\n        y: round(element.height / 2 + element.y)\n      };\n    }\n  }\n\n  // connection segment snapping //////////////////////\n\n  function getConnectionSegmentSnaps(context) {\n\n    var snapPoints = context.snapPoints,\n        connection = context.connection,\n        waypoints = connection.waypoints,\n        segmentStart = context.segmentStart,\n        segmentStartIndex = context.segmentStartIndex,\n        segmentEnd = context.segmentEnd,\n        segmentEndIndex = context.segmentEndIndex,\n        axis = context.axis;\n\n    if (snapPoints) {\n      return snapPoints;\n    }\n\n    var referenceWaypoints = [\n      waypoints[segmentStartIndex - 1],\n      segmentStart,\n      segmentEnd,\n      waypoints[segmentEndIndex + 1]\n    ];\n\n    if (segmentStartIndex < 2) {\n      referenceWaypoints.unshift(mid(connection.source));\n    }\n\n    if (segmentEndIndex > waypoints.length - 3) {\n      referenceWaypoints.unshift(mid(connection.target));\n    }\n\n    context.snapPoints = snapPoints = { horizontal: [] , vertical: [] };\n\n    forEach(referenceWaypoints, function(p) {\n\n      // we snap on existing bendpoints only,\n      // not placeholders that are inserted during add\n      if (p) {\n        p = p.original || p;\n\n        if (axis === 'y') {\n          snapPoints.horizontal.push(p.y);\n        }\n\n        if (axis === 'x') {\n          snapPoints.vertical.push(p.x);\n        }\n      }\n    });\n\n    return snapPoints;\n  }\n\n  eventBus.on('connectionSegment.move.move', 1500, function(event) {\n    var context = event.context,\n        snapPoints = getConnectionSegmentSnaps(context),\n        x = event.x,\n        y = event.y,\n        sx, sy;\n\n    if (!snapPoints) {\n      return;\n    }\n\n    // snap\n    sx = snapTo(snapPoints.vertical, x);\n    sy = snapTo(snapPoints.horizontal, y);\n\n\n    // correction x/y\n    var cx = (x - sx),\n        cy = (y - sy);\n\n    // update delta\n    assign(event, {\n      dx: event.dx - cx,\n      dy: event.dy - cy,\n      x: sx,\n      y: sy\n    });\n\n    // only set snapped if actually snapped\n    if (cx || snapPoints.vertical.indexOf(x) !== -1) {\n      setSnapped(event, 'x', sx);\n    }\n\n    if (cy || snapPoints.horizontal.indexOf(y) !== -1) {\n      setSnapped(event, 'y', sy);\n    }\n  });\n\n\n  // bendpoint snapping //////////////////////\n\n  function getBendpointSnaps(context) {\n\n    var snapPoints = context.snapPoints,\n        waypoints = context.connection.waypoints,\n        bendpointIndex = context.bendpointIndex;\n\n    if (snapPoints) {\n      return snapPoints;\n    }\n\n    var referenceWaypoints = [ waypoints[bendpointIndex - 1], waypoints[bendpointIndex + 1] ];\n\n    context.snapPoints = snapPoints = { horizontal: [] , vertical: [] };\n\n    forEach(referenceWaypoints, function(p) {\n\n      // we snap on existing bendpoints only,\n      // not placeholders that are inserted during add\n      if (p) {\n        p = p.original || p;\n\n        snapPoints.horizontal.push(p.y);\n        snapPoints.vertical.push(p.x);\n      }\n    });\n\n    return snapPoints;\n  }\n\n\n  eventBus.on([ 'bendpoint.move.move', 'bendpoint.move.end' ], 1500, function(event) {\n\n    var context = event.context,\n        snapPoints = getBendpointSnaps(context),\n        hover = context.hover,\n        hoverMid = hover && mid(hover),\n        x = event.x,\n        y = event.y,\n        sx, sy;\n\n    if (!snapPoints) {\n      return;\n    }\n\n    // snap to hover mid\n    sx = snapTo(hoverMid ? snapPoints.vertical.concat([ hoverMid.x ]) : snapPoints.vertical, x);\n    sy = snapTo(hoverMid ? snapPoints.horizontal.concat([ hoverMid.y ]) : snapPoints.horizontal, y);\n\n    // correction x/y\n    var cx = (x - sx),\n        cy = (y - sy);\n\n    // update delta\n    assign(event, {\n      dx: event.dx - cx,\n      dy: event.dy - cy,\n      x: event.x - cx,\n      y: event.y - cy\n    });\n\n    // only set snapped if actually snapped\n    if (cx || snapPoints.vertical.indexOf(x) !== -1) {\n      setSnapped(event, 'x', sx);\n    }\n\n    if (cy || snapPoints.horizontal.indexOf(y) !== -1) {\n      setSnapped(event, 'y', sy);\n    }\n  });\n}\n\n\nBendpointSnapping.$inject = [ 'eventBus' ];","import DraggingModule from '../dragging';\nimport RulesModule from '../rules';\n\nimport Bendpoints from './Bendpoints';\nimport BendpointMove from './BendpointMove';\nimport BendpointMovePreview from './BendpointMovePreview';\nimport ConnectionSegmentMove from './ConnectionSegmentMove';\nimport BendpointSnapping from './BendpointSnapping';\n\n\nexport default {\n  __depends__: [\n    DraggingModule,\n    RulesModule\n  ],\n  __init__: [ 'bendpoints', 'bendpointSnapping', 'bendpointMovePreview' ],\n  bendpoints: [ 'type', Bendpoints ],\n  bendpointMove: [ 'type', BendpointMove ],\n  bendpointMovePreview: [ 'type', BendpointMovePreview ],\n  connectionSegmentMove: [ 'type', ConnectionSegmentMove ],\n  bendpointSnapping: [ 'type', BendpointSnapping ]\n};\n","import {\n  assign,\n  isFunction,\n  isArray,\n  forEach,\n  isDefined\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  event as domEvent,\n  attr as domAttr,\n  query as domQuery,\n  classes as domClasses,\n  domify as domify\n} from 'min-dom';\n\nvar entrySelector = '.entry';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A context pad that displays element specific, contextual actions next\n * to a diagram element.\n *\n * @param {Object} config\n * @param {boolean|Object} [config.scale={ min: 1.0, max: 1.5 }]\n * @param {number} [config.scale.min]\n * @param {number} [config.scale.max]\n * @param {EventBus} eventBus\n * @param {Overlays} overlays\n */\nexport default function ContextPad(config, eventBus, overlays) {\n\n  this._eventBus = eventBus;\n  this._overlays = overlays;\n\n  var scale = isDefined(config && config.scale) ? config.scale : {\n    min: 1,\n    max: 1.5\n  };\n\n  this._overlaysConfig = {\n    position: {\n      right: -9,\n      top: -6\n    },\n    scale: scale\n  };\n\n  this._current = null;\n\n  this._init();\n}\n\nContextPad.$inject = [\n  'config.contextPad',\n  'eventBus',\n  'overlays'\n];\n\n\n/**\n * Registers events needed for interaction with other components\n */\nContextPad.prototype._init = function() {\n\n  var eventBus = this._eventBus;\n\n  var self = this;\n\n  eventBus.on('selection.changed', function(e) {\n\n    var selection = e.newSelection;\n\n    if (selection.length === 1) {\n      self.open(selection[0]);\n    } else {\n      self.close();\n    }\n  });\n\n  eventBus.on('elements.delete', function(event) {\n    var elements = event.elements;\n\n    forEach(elements, function(e) {\n      if (self.isOpen(e)) {\n        self.close();\n      }\n    });\n  });\n\n  eventBus.on('element.changed', function(event) {\n    var element = event.element,\n        current = self._current;\n\n    // force reopen if element for which we are currently opened changed\n    if (current && current.element === element) {\n      self.open(element, true);\n    }\n  });\n};\n\n\n/**\n * Register a provider with the context pad\n *\n * @param  {number} [priority=1000]\n * @param  {ContextPadProvider} provider\n *\n * @example\n * const contextPadProvider = {\n  *   getContextPadEntries: function(element) {\n  *     return function(entries) {\n  *       return {\n  *         ...entries,\n  *         'entry-1': {\n  *           label: 'My Entry',\n  *           action: function() { alert(\"I have been clicked!\"); }\n  *         }\n  *       };\n  *     }\n  *   }\n  * };\n  *\n * contextPad.registerProvider(800, contextPadProvider);\n */\nContextPad.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('contextPad.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n\n/**\n * Returns the context pad entries for a given element\n *\n * @param {djs.element.Base} element\n *\n * @return {Array<ContextPadEntryDescriptor>} list of entries\n */\nContextPad.prototype.getEntries = function(element) {\n  var providers = this._getProviders();\n\n  var entries = {};\n\n  // loop through all providers and their entries.\n  // group entries by id so that overriding an entry is possible\n  forEach(providers, function(provider) {\n    var entriesOrUpdater = provider.getContextPadEntries(element);\n\n    if (isFunction(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      forEach(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n};\n\n\n/**\n * Trigger an action available on the opened context pad\n *\n * @param  {string} action\n * @param  {Event} event\n * @param  {boolean} [autoActivate=false]\n */\nContextPad.prototype.trigger = function(action, event, autoActivate) {\n\n  var element = this._current.element,\n      entries = this._current.entries,\n      entry,\n      handler,\n      originalEvent,\n      button = event.delegateTarget || event.target;\n\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  entry = entries[domAttr(button, 'data-action')];\n  handler = entry.action;\n\n  originalEvent = event.originalEvent || event;\n\n  // simple action (via callback function)\n  if (isFunction(handler)) {\n    if (action === 'click') {\n      return handler(originalEvent, element, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      return handler[action](originalEvent, element, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\n\n/**\n * Open the context pad for the given element\n *\n * @param {djs.model.Base} element\n * @param {boolean} force if true, force reopening the context pad\n */\nContextPad.prototype.open = function(element, force) {\n  if (!force && this.isOpen(element)) {\n    return;\n  }\n\n  this.close();\n  this._updateAndOpen(element);\n};\n\nContextPad.prototype._getProviders = function(id) {\n\n  var event = this._eventBus.createEvent({\n    type: 'contextPad.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\nContextPad.prototype._updateAndOpen = function(element) {\n\n  var entries = this.getEntries(element),\n      pad = this.getPad(element),\n      html = pad.html;\n\n  forEach(entries, function(entry, id) {\n    var grouping = entry.group || 'default',\n        control = domify(entry.html || '<div class=\"entry\" draggable=\"true\"></div>'),\n        container;\n\n    domAttr(control, 'data-action', id);\n\n    container = domQuery('[data-group=' + grouping + ']', html);\n    if (!container) {\n      container = domify('<div class=\"group\" data-group=\"' + grouping + '\"></div>');\n      html.appendChild(container);\n    }\n\n    container.appendChild(control);\n\n    if (entry.className) {\n      addClasses(control, entry.className);\n    }\n\n    if (entry.title) {\n      domAttr(control, 'title', entry.title);\n    }\n\n    if (entry.imageUrl) {\n      control.appendChild(domify('<img src=\"' + entry.imageUrl + '\">'));\n    }\n  });\n\n  domClasses(html).add('open');\n\n  this._current = {\n    element: element,\n    pad: pad,\n    entries: entries\n  };\n\n  this._eventBus.fire('contextPad.open', { current: this._current });\n};\n\n\nContextPad.prototype.getPad = function(element) {\n  if (this.isOpen()) {\n    return this._current.pad;\n  }\n\n  var self = this;\n\n  var overlays = this._overlays;\n\n  var html = domify('<div class=\"djs-context-pad\"></div>');\n\n  var overlaysConfig = assign({\n    html: html\n  }, this._overlaysConfig);\n\n  domDelegate.bind(html, entrySelector, 'click', function(event) {\n    self.trigger('click', event);\n  });\n\n  domDelegate.bind(html, entrySelector, 'dragstart', function(event) {\n    self.trigger('dragstart', event);\n  });\n\n  // stop propagation of mouse events\n  domEvent.bind(html, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  this._overlayId = overlays.add(element, 'context-pad', overlaysConfig);\n\n  var pad = overlays.get(this._overlayId);\n\n  this._eventBus.fire('contextPad.create', { element: element, pad: pad });\n\n  return pad;\n};\n\n\n/**\n * Close the context pad\n */\nContextPad.prototype.close = function() {\n  if (!this.isOpen()) {\n    return;\n  }\n\n  this._overlays.remove(this._overlayId);\n\n  this._overlayId = null;\n\n  this._eventBus.fire('contextPad.close', { current: this._current });\n\n  this._current = null;\n};\n\n/**\n * Check if pad is open. If element is given, will check\n * if pad is opened with given element.\n *\n * @param {Element} element\n * @return {boolean}\n */\nContextPad.prototype.isOpen = function(element) {\n  return !!this._current && (!element ? true : this._current.element === element);\n};\n\n\n\n\n// helpers //////////////////////\n\nfunction addClasses(element, classNames) {\n\n  var classes = domClasses(element);\n\n  var actualClassNames = isArray(classNames) ? classNames : classNames.split(/\\s+/g);\n  actualClassNames.forEach(function(cls) {\n    classes.add(cls);\n  });\n}","import InteractionEventsModule from '../interaction-events';\nimport OverlaysModule from '../overlays';\n\nimport ContextPad from './ContextPad';\n\n\nexport default {\n  __depends__: [\n    InteractionEventsModule,\n    OverlaysModule\n  ],\n  contextPad: [ 'type', ContextPad ]\n};","import {\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport {\n  isNil,\n  isObject\n} from 'min-dash';\n\n\nexport default function Connect(eventBus, dragging, modeling, rules) {\n\n  // rules\n\n  function canConnect(source, target) {\n    return rules.allowed('connection.create', {\n      source: source,\n      target: target\n    });\n  }\n\n  function canConnectReverse(source, target) {\n    return canConnect(target, source);\n  }\n\n\n  // event handlers\n\n  eventBus.on('connect.hover', function(event) {\n    var context = event.context,\n        start = context.start,\n        hover = event.hover,\n        canExecute;\n\n    // cache hover state\n    context.hover = hover;\n\n    canExecute = context.canExecute = canConnect(start, hover);\n\n    // ignore hover\n    if (isNil(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = start;\n      context.target = hover;\n\n      return;\n    }\n\n    canExecute = context.canExecute = canConnectReverse(start, hover);\n\n    // ignore hover\n    if (isNil(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = hover;\n      context.target = start;\n    }\n  });\n\n  eventBus.on([ 'connect.out', 'connect.cleanup' ], function(event) {\n    var context = event.context;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    context.canExecute = false;\n  });\n\n  eventBus.on('connect.end', function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        connectionStart = context.connectionStart,\n        connectionEnd = {\n          x: event.x,\n          y: event.y\n        },\n        source = context.source,\n        target = context.target;\n\n    if (!canExecute) {\n      return false;\n    }\n\n    var attrs = null,\n        hints = {\n          connectionStart: isReverse(context) ? connectionEnd : connectionStart,\n          connectionEnd: isReverse(context) ? connectionStart : connectionEnd\n        };\n\n    if (isObject(canExecute)) {\n      attrs = canExecute;\n    }\n\n    modeling.connect(source, target, attrs, hints);\n  });\n\n\n  // API\n\n  /**\n   * Start connect operation.\n   *\n   * @param {DOMEvent} event\n   * @param {djs.model.Base} start\n   * @param {Point} [connectionStart]\n   * @param {boolean} [autoActivate=false]\n   */\n  this.start = function(event, start, connectionStart, autoActivate) {\n    if (!isObject(connectionStart)) {\n      autoActivate = connectionStart;\n      connectionStart = getMid(start);\n    }\n\n    dragging.init(event, 'connect', {\n      autoActivate: autoActivate,\n      data: {\n        shape: start,\n        context: {\n          start: start,\n          connectionStart: connectionStart\n        }\n      }\n    });\n  };\n}\n\nConnect.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'rules'\n];\n\n\n// helpers //////////\n\nexport function isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target;\n\n  return hover && source && hover === source && source !== target;\n}","import { isReverse } from './Connect';\n\nvar HIGH_PRIORITY = 1100,\n    LOW_PRIORITY = 900;\n\nvar MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok';\n\n/**\n * Shows connection preview during connect.\n *\n * @param {didi.Injector} injector\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function ConnectPreview(injector, eventBus, canvas) {\n  var connectionPreview = injector.get('connectionPreview', false);\n\n  connectionPreview && eventBus.on('connect.move', function(event) {\n    var context = event.context,\n        canConnect = context.canExecute,\n        hover = context.hover,\n        source = context.source,\n        start = context.start,\n        startPosition = context.startPosition,\n        connectionStart = context.connectionStart,\n        connectionEnd = context.connectionEnd,\n        target = context.target;\n\n    if (!connectionStart) {\n      connectionStart = isReverse(context) ? {\n        x: event.x,\n        y: event.y\n      } : startPosition;\n    }\n\n    if (!connectionEnd) {\n      connectionEnd = isReverse(context) ? startPosition : {\n        x: event.x,\n        y: event.y\n      };\n    }\n\n    connectionPreview.drawPreview(context, canConnect, {\n      source: source || start,\n      target: target || hover,\n      connectionStart: connectionStart,\n      connectionEnd: connectionEnd\n    });\n  });\n\n  eventBus.on('connect.hover', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        hover = event.hover,\n        canExecute = context.canExecute;\n\n    // ignore hover\n    if (canExecute === null) {\n      return;\n    }\n\n    canvas.addMarker(hover, canExecute ? MARKER_OK : MARKER_NOT_OK);\n  });\n\n  eventBus.on([\n    'connect.out',\n    'connect.cleanup'\n  ], HIGH_PRIORITY, function(event) {\n    var hover = event.hover;\n\n    if (hover) {\n      canvas.removeMarker(hover, MARKER_OK);\n      canvas.removeMarker(hover, MARKER_NOT_OK);\n    }\n  });\n\n  connectionPreview && eventBus.on('connect.cleanup', function(event) {\n    connectionPreview.cleanUp(event.context);\n  });\n}\n\nConnectPreview.$inject = [\n  'injector',\n  'eventBus',\n  'canvas'\n];\n","import SelectionModule from '../selection';\nimport RulesModule from '../rules';\nimport DraggingModule from '../dragging';\n\nimport Connect from './Connect';\nimport ConnectPreview from './ConnectPreview';\n\nexport default {\n  __depends__: [\n    SelectionModule,\n    RulesModule,\n    DraggingModule\n  ],\n  __init__: [\n    'connectPreview'\n  ],\n  connect: [ 'type', Connect ],\n  connectPreview: [ 'type', ConnectPreview ]\n};\n","import {\r\n  forEach\r\n} from 'min-dash';\r\n\r\nimport {\r\n  append as svgAppend,\r\n  attr as svgAttr,\r\n  classes as svgClasses,\r\n  clone as svgClone,\r\n  create as svgCreate,\r\n  remove as svgRemove\r\n} from 'tiny-svg';\r\n\r\nimport { query as domQuery } from 'min-dom';\r\n\r\nimport { getVisual } from '../../util/GraphicsUtil';\r\n\r\nvar MARKER_TYPES = [\r\n  'marker-start',\r\n  'marker-mid',\r\n  'marker-end'\r\n];\r\n\r\nvar NODES_CAN_HAVE_MARKER = [\r\n  'circle',\r\n  'ellipse',\r\n  'line',\r\n  'path',\r\n  'polygon',\r\n  'polyline',\r\n  'rect'\r\n];\r\n\r\n\r\n/**\r\n * Adds support for previews of moving/resizing elements.\r\n */\r\nexport default function PreviewSupport(elementRegistry, eventBus, canvas, styles) {\r\n  this._elementRegistry = elementRegistry;\r\n  this._canvas = canvas;\r\n  this._styles = styles;\r\n\r\n  this._clonedMarkers = {};\r\n\r\n  var self = this;\r\n\r\n  eventBus.on('drag.cleanup', function() {\r\n    forEach(self._clonedMarkers, function(clonedMarker) {\r\n      svgRemove(clonedMarker);\r\n    });\r\n\r\n    self._clonedMarkers = {};\r\n  });\r\n}\r\n\r\nPreviewSupport.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'canvas',\r\n  'styles'\r\n];\r\n\r\n\r\n/**\r\n * Returns graphics of an element.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {SVGElement}\r\n */\r\nPreviewSupport.prototype.getGfx = function(element) {\r\n  return this._elementRegistry.getGraphics(element);\r\n};\r\n\r\n/**\r\n * Adds a move preview of a given shape to a given svg group.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {SVGElement} group\r\n * @param {SVGElement} [gfx]\r\n *\r\n * @return {SVGElement} dragger\r\n */\r\nPreviewSupport.prototype.addDragger = function(element, group, gfx) {\r\n  gfx = gfx || this.getGfx(element);\r\n\r\n  var dragger = svgClone(gfx);\r\n  var bbox = gfx.getBoundingClientRect();\r\n\r\n  this._cloneMarkers(getVisual(dragger));\r\n\r\n  svgAttr(dragger, this._styles.cls('djs-dragger', [], {\r\n    x: bbox.top,\r\n    y: bbox.left\r\n  }));\r\n\r\n  svgAppend(group, dragger);\r\n\r\n  return dragger;\r\n};\r\n\r\n/**\r\n * Adds a resize preview of a given shape to a given svg group.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {SVGElement} group\r\n *\r\n * @return {SVGElement} frame\r\n */\r\nPreviewSupport.prototype.addFrame = function(shape, group) {\r\n\r\n  var frame = svgCreate('rect', {\r\n    class: 'djs-resize-overlay',\r\n    width:  shape.width,\r\n    height: shape.height,\r\n    x: shape.x,\r\n    y: shape.y\r\n  });\r\n\r\n  svgAppend(group, frame);\r\n\r\n  return frame;\r\n};\r\n\r\n/**\r\n * Clone all markers referenced by a node and its child nodes.\r\n *\r\n * @param {SVGElement} gfx\r\n */\r\nPreviewSupport.prototype._cloneMarkers = function(gfx) {\r\n  var self = this;\r\n\r\n  if (gfx.childNodes) {\r\n\r\n    // TODO: use forEach once we drop PhantomJS\r\n    for (var i = 0; i < gfx.childNodes.length; i++) {\r\n\r\n      // recursively clone markers of child nodes\r\n      self._cloneMarkers(gfx.childNodes[ i ]);\r\n    }\r\n  }\r\n\r\n  if (!canHaveMarker(gfx)) {\r\n    return;\r\n  }\r\n\r\n  MARKER_TYPES.forEach(function(markerType) {\r\n    if (svgAttr(gfx, markerType)) {\r\n      var marker = getMarker(gfx, markerType, self._canvas.getContainer());\r\n\r\n      self._cloneMarker(gfx, marker, markerType);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Clone marker referenced by an element.\r\n *\r\n * @param {SVGElement} gfx\r\n * @param {SVGElement} marker\r\n * @param {string} markerType\r\n */\r\nPreviewSupport.prototype._cloneMarker = function(gfx, marker, markerType) {\r\n  var markerId = marker.id;\r\n\r\n  var clonedMarker = this._clonedMarkers[ markerId ];\r\n\r\n  if (!clonedMarker) {\r\n    clonedMarker = svgClone(marker);\r\n\r\n    var clonedMarkerId = markerId + '-clone';\r\n\r\n    clonedMarker.id = clonedMarkerId;\r\n\r\n    svgClasses(clonedMarker)\r\n      .add('djs-dragger')\r\n      .add('djs-dragger-marker');\r\n\r\n    this._clonedMarkers[ markerId ] = clonedMarker;\r\n\r\n    var defs = domQuery('defs', this._canvas._svg);\r\n\r\n    if (!defs) {\r\n      defs = svgCreate('defs');\r\n\r\n      svgAppend(this._canvas._svg, defs);\r\n    }\r\n\r\n    svgAppend(defs, clonedMarker);\r\n  }\r\n\r\n  var reference = idToReference(this._clonedMarkers[ markerId ].id);\r\n\r\n  svgAttr(gfx, markerType, reference);\r\n};\r\n\r\n// helpers //////////\r\n\r\n/**\r\n * Get marker of given type referenced by node.\r\n *\r\n * @param {Node} node\r\n * @param {string} markerType\r\n * @param {Node} [parentNode]\r\n *\r\n * @param {Node}\r\n */\r\nfunction getMarker(node, markerType, parentNode) {\r\n  var id = referenceToId(svgAttr(node, markerType));\r\n\r\n  return domQuery('marker#' + id, parentNode || document);\r\n}\r\n\r\n/**\r\n * Get ID of fragment within current document from its functional IRI reference.\r\n * References may use single or double quotes.\r\n *\r\n * @param {string} reference\r\n *\r\n * @returns {string}\r\n */\r\nfunction referenceToId(reference) {\r\n  return reference.match(/url\\(['\"]?#([^'\"]*)['\"]?\\)/)[1];\r\n}\r\n\r\n/**\r\n * Get functional IRI reference for given ID of fragment within current document.\r\n *\r\n * @param {string} id\r\n *\r\n * @returns {string}\r\n */\r\nfunction idToReference(id) {\r\n  return 'url(#' + id + ')';\r\n}\r\n\r\n/**\r\n * Check wether node type can have marker attributes.\r\n *\r\n * @param {Node} node\r\n *\r\n * @returns {boolean}\r\n */\r\nfunction canHaveMarker(node) {\r\n  return NODES_CAN_HAVE_MARKER.indexOf(node.nodeName) !== -1;\r\n}","import PreviewSupport from './PreviewSupport';\n\nexport default {\n  __init__: [ 'previewSupport' ],\n  previewSupport: [ 'type', PreviewSupport ]\n};\n","var MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_ATTACH = 'attach-ok',\n    MARKER_NEW_PARENT = 'new-parent';\n\nimport {\n  assign,\n  filter,\n  find,\n  forEach,\n  isArray,\n  isNumber,\n  map\n} from 'min-dash';\n\nimport { getBBox } from '../../util/Elements';\n\nvar PREFIX = 'create';\n\nvar HIGH_PRIORITY = 2000;\n\n\n/**\n * Create new elements through drag and drop.\n *\n * @param {Canvas} canvas\n * @param {Dragging} dragging\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nexport default function Create(\n    canvas,\n    dragging,\n    eventBus,\n    modeling,\n    rules\n) {\n\n  // rules //////////\n\n  /**\n   * Check wether elements can be created.\n   *\n   * @param {Array<djs.model.Base>} elements\n   * @param {djs.model.Base} target\n   * @param {Point} position\n   * @param {djs.model.Base} [source]\n   *\n   * @returns {boolean|null|Object}\n   */\n  function canCreate(elements, target, position, source, hints) {\n    if (!target) {\n      return false;\n    }\n\n    // ignore child elements and external labels\n    elements = filter(elements, function(element) {\n      var labelTarget = element.labelTarget;\n\n      return !element.parent && !(isLabel(element) && elements.indexOf(labelTarget) !== -1);\n    });\n\n    var shape = find(elements, function(element) {\n      return !isConnection(element);\n    });\n\n    var attach = false,\n        connect = false,\n        create = false;\n\n    // (1) attaching single shapes\n    if (isSingleShape(elements)) {\n      attach = rules.allowed('shape.attach', {\n        position: position,\n        shape: shape,\n        target: target\n      });\n    }\n\n    if (!attach) {\n\n      // (2) creating elements\n      if (isSingleShape(elements)) {\n        create = rules.allowed('shape.create', {\n          position: position,\n          shape: shape,\n          source: source,\n          target: target\n        });\n      } else {\n        create = rules.allowed('elements.create', {\n          elements: elements,\n          position: position,\n          target: target\n        });\n      }\n\n    }\n\n    var connectionTarget = hints.connectionTarget;\n\n    // (3) appending single shapes\n    if (create || attach) {\n      if (shape && source) {\n        connect = rules.allowed('connection.create', {\n          source: connectionTarget === source ? shape : source,\n          target: connectionTarget === source ? source : shape,\n          hints: {\n            targetParent: target,\n            targetAttach: attach\n          }\n        });\n      }\n\n      return {\n        attach: attach,\n        connect: connect\n      };\n    }\n\n    // ignore wether or not elements can be created\n    if (create === null || attach === null) {\n      return null;\n    }\n\n    return false;\n  }\n\n  function setMarker(element, marker) {\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  // event handling //////////\n\n  eventBus.on([ 'create.move', 'create.hover' ], function(event) {\n    var context = event.context,\n        elements = context.elements,\n        hover = event.hover,\n        source = context.source,\n        hints = context.hints || {};\n\n    if (!hover) {\n      context.canExecute = false;\n      context.target = null;\n\n      return;\n    }\n\n    ensureConstraints(event);\n\n    var position = {\n      x: event.x,\n      y: event.y\n    };\n\n    var canExecute = context.canExecute = hover && canCreate(elements, hover, position, source, hints);\n\n    if (hover && canExecute !== null) {\n      context.target = hover;\n\n      if (canExecute && canExecute.attach) {\n        setMarker(hover, MARKER_ATTACH);\n      } else {\n        setMarker(hover, canExecute ? MARKER_NEW_PARENT : MARKER_NOT_OK);\n      }\n    }\n  });\n\n  eventBus.on([ 'create.end', 'create.out', 'create.cleanup' ], function(event) {\n    var hover = event.hover;\n\n    if (hover) {\n      setMarker(hover, null);\n    }\n  });\n\n  eventBus.on('create.end', function(event) {\n    var context = event.context,\n        source = context.source,\n        shape = context.shape,\n        elements = context.elements,\n        target = context.target,\n        canExecute = context.canExecute,\n        attach = canExecute && canExecute.attach,\n        connect = canExecute && canExecute.connect,\n        hints = context.hints || {};\n\n    if (canExecute === false || !target) {\n      return false;\n    }\n\n    ensureConstraints(event);\n\n    var position = {\n      x: event.x,\n      y: event.y\n    };\n\n    if (connect) {\n      shape = modeling.appendShape(source, shape, position, target, {\n        attach: attach,\n        connection: connect === true ? {} : connect,\n        connectionTarget: hints.connectionTarget\n      });\n    } else {\n      elements = modeling.createElements(elements, position, target, assign({}, hints, {\n        attach: attach\n      }));\n\n      // update shape\n      shape = find(elements, function(element) {\n        return !isConnection(element);\n      });\n    }\n\n    // update elements and shape\n    assign(context, {\n      elements: elements,\n      shape: shape\n    });\n\n    assign(event, {\n      elements: elements,\n      shape: shape\n    });\n  });\n\n  function cancel() {\n    var context = dragging.context();\n\n    if (context && context.prefix === PREFIX) {\n      dragging.cancel();\n    }\n  }\n\n  // cancel on <elements.changed> that is not result of <drag.end>\n  eventBus.on('create.init', function() {\n    eventBus.on('elements.changed', cancel);\n\n    eventBus.once([ 'create.cancel', 'create.end' ], HIGH_PRIORITY, function() {\n      eventBus.off('elements.changed', cancel);\n    });\n  });\n\n  // API //////////\n\n  this.start = function(event, elements, context) {\n    if (!isArray(elements)) {\n      elements = [ elements ];\n    }\n\n    var shape = find(elements, function(element) {\n      return !isConnection(element);\n    });\n\n    if (!shape) {\n\n      // at least one shape is required\n      return;\n    }\n\n    context = assign({\n      elements: elements,\n      hints: {},\n      shape: shape\n    }, context || {});\n\n    // make sure each element has x and y\n    forEach(elements, function(element) {\n      if (!isNumber(element.x)) {\n        element.x = 0;\n      }\n\n      if (!isNumber(element.y)) {\n        element.y = 0;\n      }\n    });\n\n    var bbox = getBBox(elements);\n\n    // center elements around cursor\n    forEach(elements, function(element) {\n      if (isConnection(element)) {\n        element.waypoints = map(element.waypoints, function(waypoint) {\n          return {\n            x: waypoint.x - bbox.x - bbox.width / 2,\n            y: waypoint.y - bbox.y - bbox.height / 2\n          };\n        });\n      }\n\n      assign(element, {\n        x: element.x - bbox.x - bbox.width / 2,\n        y: element.y - bbox.y - bbox.height / 2\n      });\n    });\n\n    dragging.init(event, PREFIX, {\n      cursor: 'grabbing',\n      autoActivate: true,\n      data: {\n        shape: shape,\n        elements: elements,\n        context: context\n      }\n    });\n  };\n}\n\nCreate.$inject = [\n  'canvas',\n  'dragging',\n  'eventBus',\n  'modeling',\n  'rules'\n];\n\n// helpers //////////\n\nfunction ensureConstraints(event) {\n  var context = event.context,\n      createConstraints = context.createConstraints;\n\n  if (!createConstraints) {\n    return;\n  }\n\n  if (createConstraints.left) {\n    event.x = Math.max(event.x, createConstraints.left);\n  }\n\n  if (createConstraints.right) {\n    event.x = Math.min(event.x, createConstraints.right);\n  }\n\n  if (createConstraints.top) {\n    event.y = Math.max(event.y, createConstraints.top);\n  }\n\n  if (createConstraints.bottom) {\n    event.y = Math.min(event.y, createConstraints.bottom);\n  }\n}\n\nfunction isConnection(element) {\n  return !!element.waypoints;\n}\n\nfunction isSingleShape(elements) {\n  return elements && elements.length === 1 && !isConnection(elements[0]);\n}\n\nfunction isLabel(element) {\n  return !!element.labelTarget;\n}\n","import {\r\n  translate\r\n} from '../../util/SvgTransformUtil';\r\n\r\nimport { getVisual } from '../../util/GraphicsUtil';\r\n\r\nimport {\r\n  append as svgAppend,\r\n  attr as svgAttr,\r\n  create as svgCreate,\r\n  remove as svgRemove\r\n} from 'tiny-svg';\r\n\r\nvar LOW_PRIORITY = 750;\r\n\r\n\r\nexport default function CreatePreview(\r\n    canvas,\r\n    eventBus,\r\n    graphicsFactory,\r\n    previewSupport,\r\n    styles\r\n) {\r\n  function createDragGroup(elements) {\r\n    var dragGroup = svgCreate('g');\r\n\r\n    svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\r\n\r\n    var childrenGfx = svgCreate('g');\r\n\r\n    elements.forEach(function(element) {\r\n\r\n      // create graphics\r\n      var gfx;\r\n\r\n      if (element.hidden) {\r\n        return;\r\n      }\r\n\r\n      if (element.waypoints) {\r\n        gfx = graphicsFactory._createContainer('connection', childrenGfx);\r\n\r\n        graphicsFactory.drawConnection(getVisual(gfx), element);\r\n      } else {\r\n        gfx = graphicsFactory._createContainer('shape', childrenGfx);\r\n\r\n        graphicsFactory.drawShape(getVisual(gfx), element);\r\n\r\n        translate(gfx, element.x, element.y);\r\n      }\r\n\r\n      // add preview\r\n      previewSupport.addDragger(element, dragGroup, gfx);\r\n    });\r\n\r\n    return dragGroup;\r\n  }\r\n\r\n  eventBus.on('create.move', LOW_PRIORITY, function(event) {\r\n\r\n    var hover = event.hover,\r\n        context = event.context,\r\n        elements = context.elements,\r\n        dragGroup = context.dragGroup;\r\n\r\n    // lazily create previews\r\n    if (!dragGroup) {\r\n      dragGroup = context.dragGroup = createDragGroup(elements);\r\n    }\r\n\r\n    var defaultLayer;\r\n\r\n    if (hover) {\r\n      if (!dragGroup.parentNode) {\r\n        defaultLayer = canvas.getDefaultLayer();\r\n\r\n        svgAppend(defaultLayer, dragGroup);\r\n      }\r\n\r\n      translate(dragGroup, event.x, event.y);\r\n    } else {\r\n      svgRemove(dragGroup);\r\n    }\r\n  });\r\n\r\n  eventBus.on('create.cleanup', function(event) {\r\n    var context = event.context,\r\n        dragGroup = context.dragGroup;\r\n\r\n    if (dragGroup) {\r\n      svgRemove(dragGroup);\r\n    }\r\n  });\r\n}\r\n\r\nCreatePreview.$inject = [\r\n  'canvas',\r\n  'eventBus',\r\n  'graphicsFactory',\r\n  'previewSupport',\r\n  'styles'\r\n];\r\n","import DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\nimport RulesModule from '../rules';\nimport SelectionModule from '../selection';\n\nimport Create from './Create';\nimport CreatePreview from './CreatePreview';\n\n\nexport default {\n  __depends__: [\n    DraggingModule,\n    PreviewSupportModule,\n    RulesModule,\n    SelectionModule\n  ],\n  __init__: [\n    'create',\n    'createPreview'\n  ],\n  create: [ 'type', Create ],\n  createPreview: [ 'type', CreatePreview ]\n};\n","import {\n  assign,\n  forEach,\n  isFunction,\n  isDefined,\n  omit,\n  size\n} from 'min-dash';\n\nimport {\n  delegate as domDelegate,\n  domify as domify,\n  classes as domClasses,\n  attr as domAttr,\n  remove as domRemove\n} from 'min-dom';\n\nvar DATA_REF = 'data-id';\n\nvar CLOSE_EVENTS = [\n  'contextPad.close',\n  'canvas.viewbox.changing',\n  'commandStack.changed'\n];\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A popup menu that can be used to display a list of actions anywhere in the canvas.\n *\n * @param {Object} config\n * @param {boolean|Object} [config.scale={ min: 1.0, max: 1.5 }]\n * @param {number} [config.scale.min]\n * @param {number} [config.scale.max]\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n *\n * @class\n * @constructor\n */\nexport default function PopupMenu(config, eventBus, canvas) {\n\n  var scale = isDefined(config && config.scale) ? config.scale : {\n    min: 1,\n    max: 1.5\n  };\n\n  this._config = {\n    scale: scale\n  };\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._providers = {};\n  this._current = {};\n}\n\nPopupMenu.$inject = [\n  'config.popupMenu',\n  'eventBus',\n  'canvas'\n];\n\n/**\n * Registers a popup menu provider\n *\n * @param  {string} id\n * @param {number} [priority=1000]\n * @param  {Object} provider\n *\n * @example\n * const popupMenuProvider = {\n *   getPopupMenuEntries: function(element) {\n *     return {\n *       'entry-1': {\n *         label: 'My Entry',\n *         action: function() { alert(\"I have been clicked!\"); }\n *       }\n *     }\n *   }\n * };\n *\n * popupMenu.registerProvider('myMenuID', popupMenuProvider);\n */\nPopupMenu.prototype.registerProvider = function(id, priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('popupMenu.getProviders.' + id, priority, function(event) {\n    event.providers.push(provider);\n  });\n};\n\n/**\n * Determine if the popup menu has entries.\n *\n * @return {boolean} true if empty\n */\nPopupMenu.prototype.isEmpty = function(element, providerId) {\n  if (!element) {\n    throw new Error('element parameter is missing');\n  }\n\n  if (!providerId) {\n    throw new Error('providerId parameter is missing');\n  }\n\n  var providers = this._getProviders(providerId);\n\n  if (!providers) {\n    return true;\n  }\n\n  var entries = this._getEntries(element, providers),\n      headerEntries = this._getHeaderEntries(element, providers);\n\n  var hasEntries = size(entries) > 0,\n      hasHeaderEntries = headerEntries && size(headerEntries) > 0;\n\n  return !hasEntries && !hasHeaderEntries;\n};\n\n\n/**\n * Create entries and open popup menu at given position\n *\n * @param  {Object} element\n * @param  {string} id provider id\n * @param  {Object} position\n *\n * @return {Object} popup menu instance\n */\nPopupMenu.prototype.open = function(element, id, position) {\n\n  var providers = this._getProviders(id);\n\n  if (!element) {\n    throw new Error('Element is missing');\n  }\n\n  if (!providers || !providers.length) {\n    throw new Error('No registered providers for: ' + id);\n  }\n\n  if (!position) {\n    throw new Error('the position argument is missing');\n  }\n\n  if (this.isOpen()) {\n    this.close();\n  }\n\n  this._emit('open');\n\n  var current = this._current = {\n    className: id,\n    element: element,\n    position: position\n  };\n\n  var entries = this._getEntries(element, providers),\n      headerEntries = this._getHeaderEntries(element, providers);\n\n  current.entries = assign({}, entries, headerEntries);\n\n  current.container = this._createContainer();\n\n  if (size(headerEntries)) {\n    current.container.appendChild(\n      this._createEntries(headerEntries, 'djs-popup-header')\n    );\n  }\n\n  if (size(entries)) {\n    current.container.appendChild(\n      this._createEntries(entries, 'djs-popup-body')\n    );\n  }\n\n  var canvas = this._canvas,\n      parent = canvas.getContainer();\n\n  this._attachContainer(current.container, parent, position.cursor);\n  this._bindAutoClose();\n};\n\n\n/**\n * Removes the popup menu and unbinds the event handlers.\n */\nPopupMenu.prototype.close = function() {\n\n  if (!this.isOpen()) {\n    return;\n  }\n\n  this._emit('close');\n\n  this._unbindAutoClose();\n  domRemove(this._current.container);\n  this._current.container = null;\n};\n\n\n/**\n * Determine if an open popup menu exist.\n *\n * @return {boolean} true if open\n */\nPopupMenu.prototype.isOpen = function() {\n  return !!this._current.container;\n};\n\n\n/**\n * Trigger an action associated with an entry.\n *\n * @param {Object} event\n *\n * @return the result of the action callback, if any\n */\nPopupMenu.prototype.trigger = function(event) {\n\n  // silence other actions\n  event.preventDefault();\n\n  var element = event.delegateTarget || event.target,\n      entryId = domAttr(element, DATA_REF);\n\n  var entry = this._getEntry(entryId);\n\n  if (entry.action) {\n    return entry.action.call(null, event, entry);\n  }\n};\n\nPopupMenu.prototype._getProviders = function(id) {\n\n  var event = this._eventBus.createEvent({\n    type: 'popupMenu.getProviders.' + id,\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\nPopupMenu.prototype._getEntries = function(element, providers) {\n\n  var entries = {};\n\n  forEach(providers, function(provider) {\n\n    // handle legacy method\n    if (!provider.getPopupMenuEntries) {\n      forEach(provider.getEntries(element), function(entry) {\n        var id = entry.id;\n\n        if (!id) {\n          throw new Error('every entry must have the id property set');\n        }\n\n        entries[id] = omit(entry, [ 'id' ]);\n      });\n\n      return;\n    }\n\n    var entriesOrUpdater = provider.getPopupMenuEntries(element);\n\n    if (isFunction(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      forEach(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n};\n\nPopupMenu.prototype._getHeaderEntries = function(element, providers) {\n\n  var entries = {};\n\n  forEach(providers, function(provider) {\n\n    // handle legacy method\n    if (!provider.getPopupMenuHeaderEntries) {\n      if (!provider.getHeaderEntries) {\n        return;\n      }\n\n      forEach(provider.getHeaderEntries(element), function(entry) {\n        var id = entry.id;\n\n        if (!id) {\n          throw new Error('every entry must have the id property set');\n        }\n\n        entries[id] = omit(entry, [ 'id' ]);\n      });\n\n      return;\n    }\n\n    var entriesOrUpdater = provider.getPopupMenuHeaderEntries(element);\n\n    if (isFunction(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      forEach(entriesOrUpdater, function(entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n\n  return entries;\n\n\n};\n\n/**\n * Gets an entry instance (either entry or headerEntry) by id.\n *\n * @param  {string} entryId\n *\n * @return {Object} entry instance\n */\nPopupMenu.prototype._getEntry = function(entryId) {\n\n  var entry = this._current.entries[entryId];\n\n  if (!entry) {\n    throw new Error('entry not found');\n  }\n\n  return entry;\n};\n\nPopupMenu.prototype._emit = function(eventName) {\n  this._eventBus.fire('popupMenu.' + eventName);\n};\n\n/**\n * Creates the popup menu container.\n *\n * @return {Object} a DOM container\n */\nPopupMenu.prototype._createContainer = function() {\n  var container = domify('<div class=\"djs-popup\">'),\n      position = this._current.position,\n      className = this._current.className;\n\n  assign(container.style, {\n    position: 'absolute',\n    left: position.x + 'px',\n    top: position.y + 'px',\n    visibility: 'hidden'\n  });\n\n  domClasses(container).add(className);\n\n  return container;\n};\n\n\n/**\n * Attaches the container to the DOM.\n *\n * @param {Object} container\n * @param {Object} parent\n */\nPopupMenu.prototype._attachContainer = function(container, parent, cursor) {\n  var self = this;\n\n  // Event handler\n  domDelegate.bind(container, '.entry' ,'click', function(event) {\n    self.trigger(event);\n  });\n\n  this._updateScale(container);\n\n  // Attach to DOM\n  parent.appendChild(container);\n\n  if (cursor) {\n    this._assureIsInbounds(container, cursor);\n  }\n};\n\n\n/**\n * Updates popup style.transform with respect to the config and zoom level.\n *\n * @method _updateScale\n *\n * @param {Object} container\n */\nPopupMenu.prototype._updateScale = function(container) {\n  var zoom = this._canvas.zoom();\n\n  var scaleConfig = this._config.scale,\n      minScale,\n      maxScale,\n      scale = zoom;\n\n  if (scaleConfig !== true) {\n\n    if (scaleConfig === false) {\n      minScale = 1;\n      maxScale = 1;\n    } else {\n      minScale = scaleConfig.min;\n      maxScale = scaleConfig.max;\n    }\n\n    if (isDefined(minScale) && zoom < minScale) {\n      scale = minScale;\n    }\n\n    if (isDefined(maxScale) && zoom > maxScale) {\n      scale = maxScale;\n    }\n\n  }\n\n  setTransform(container, 'scale(' + scale + ')');\n};\n\n\n/**\n * Make sure that the menu is always fully shown\n *\n * @method function\n *\n * @param  {Object} container\n * @param  {Position} cursor {x, y}\n */\nPopupMenu.prototype._assureIsInbounds = function(container, cursor) {\n  var canvas = this._canvas,\n      clientRect = canvas._container.getBoundingClientRect();\n\n  var containerX = container.offsetLeft,\n      containerY = container.offsetTop,\n      containerWidth = container.scrollWidth,\n      containerHeight = container.scrollHeight,\n      overAxis = {},\n      left, top;\n\n  var cursorPosition = {\n    x: cursor.x - clientRect.left,\n    y: cursor.y - clientRect.top\n  };\n\n  if (containerX + containerWidth > clientRect.width) {\n    overAxis.x = true;\n  }\n\n  if (containerY + containerHeight > clientRect.height) {\n    overAxis.y = true;\n  }\n\n  if (overAxis.x && overAxis.y) {\n    left = cursorPosition.x - containerWidth + 'px';\n    top = cursorPosition.y - containerHeight + 'px';\n  } else if (overAxis.x) {\n    left = cursorPosition.x - containerWidth + 'px';\n    top = cursorPosition.y + 'px';\n  } else if (overAxis.y && cursorPosition.y < containerHeight) {\n    left = cursorPosition.x + 'px';\n    top = 10 + 'px';\n  } else if (overAxis.y) {\n    left = cursorPosition.x + 'px';\n    top = cursorPosition.y - containerHeight + 'px';\n  }\n\n  assign(container.style, { left: left, top: top }, { visibility: 'visible', 'z-index': 1000 });\n};\n\n\n/**\n * Creates a list of entries and returns them as a DOM container.\n *\n * @param {Array<Object>} entries an array of entry objects\n * @param {string} className the class name of the entry container\n *\n * @return {Object} a DOM container\n */\nPopupMenu.prototype._createEntries = function(entries, className) {\n\n  var entriesContainer = domify('<div>'),\n      self = this;\n\n  domClasses(entriesContainer).add(className);\n\n  forEach(entries, function(entry, id) {\n    var entryContainer = self._createEntry(entry, id);\n    entriesContainer.appendChild(entryContainer);\n  });\n\n  return entriesContainer;\n};\n\n\n/**\n * Creates a single entry and returns it as a DOM container.\n *\n * @param  {Object} entry\n *\n * @return {Object} a DOM container\n */\nPopupMenu.prototype._createEntry = function(entry, id) {\n\n  var entryContainer = domify('<div>'),\n      entryClasses = domClasses(entryContainer);\n\n  entryClasses.add('entry');\n\n  if (entry.className) {\n    entry.className.split(' ').forEach(function(className) {\n      entryClasses.add(className);\n    });\n  }\n\n  domAttr(entryContainer, DATA_REF, id);\n\n  if (entry.label) {\n    var label = domify('<span>');\n    label.textContent = entry.label;\n    entryContainer.appendChild(label);\n  }\n\n  if (entry.imageUrl) {\n    entryContainer.appendChild(domify('<img src=\"' + entry.imageUrl + '\" />'));\n  }\n\n  if (entry.active === true) {\n    entryClasses.add('active');\n  }\n\n  if (entry.disabled === true) {\n    entryClasses.add('disabled');\n  }\n\n  if (entry.title) {\n    entryContainer.title = entry.title;\n  }\n\n  return entryContainer;\n};\n\n\n/**\n * Set up listener to close popup automatically on certain events.\n */\nPopupMenu.prototype._bindAutoClose = function() {\n  this._eventBus.once(CLOSE_EVENTS, this.close, this);\n};\n\n\n/**\n * Remove the auto-closing listener.\n */\nPopupMenu.prototype._unbindAutoClose = function() {\n  this._eventBus.off(CLOSE_EVENTS, this.close, this);\n};\n\n\n\n// helpers /////////////////////////////\n\nfunction setTransform(element, transform) {\n  element.style['transform-origin'] = 'top left';\n\n  [ '', '-ms-', '-webkit-' ].forEach(function(prefix) {\n    element.style[prefix + 'transform'] = transform;\n  });\n}","import PopupMenu from './PopupMenu';\n\nexport default {\n  __init__: [ 'popupMenu' ],\n  popupMenu: [ 'type', PopupMenu ]\n};\n","import {\n  assign\n} from 'min-dash';\n\nvar round = Math.round;\n\n/**\n * Service that allow replacing of elements.\n */\nexport default function Replace(modeling) {\n\n  this._modeling = modeling;\n}\n\nReplace.$inject = [ 'modeling' ];\n\n/**\n * @param {Element} oldElement - Element to be replaced\n * @param {Object}  newElementData - Containing information about the new element,\n *                                   for example the new bounds and type.\n * @param {Object}  options - Custom options that will be attached to the context. It can be used to inject data\n *                            that is needed in the command chain. For example it could be used in\n *                            eventbus.on('commandStack.shape.replace.postExecute') to change shape attributes after\n *                            shape creation.\n */\nReplace.prototype.replaceElement = function(oldElement, newElementData, options) {\n\n  if (oldElement.waypoints) {\n\n    // TODO(nikku): we do not replace connections, yet\n    return null;\n  }\n\n  var modeling = this._modeling;\n\n  var width = newElementData.width || oldElement.width,\n      height = newElementData.height || oldElement.height,\n      x = newElementData.x || oldElement.x,\n      y = newElementData.y || oldElement.y,\n      centerX = round(x + width / 2),\n      centerY = round(y + height / 2);\n\n  // modeling API requires center coordinates,\n  // account for that when handling shape bounds\n\n  return modeling.replaceShape(\n    oldElement,\n    assign(\n      {},\n      newElementData,\n      {\n        x: centerX,\n        y: centerY,\n        width: width,\n        height: height\n      }\n    ),\n    options\n  );\n};\n","import Replace from './Replace';\n\nexport default {\n  __init__: [ 'replace' ],\n  replace: [ 'type', Replace ]\n};","/**\n * This module takes care of replacing DRD elements\n */\nexport default function DrdReplace(drdFactory, replace, selection, modeling) {\n\n  /**\n   * Prepares a new business object for the replacement element\n   * and triggers the replace operation.\n   *\n   * @param  {djs.model.Base} element\n   * @param  {Object} target\n   * @param  {Object} [hints]\n   *\n   * @return {djs.model.Base} the newly created element\n   */\n  function replaceElement(element, target, hints) {\n\n    hints = hints || {};\n\n    var type = target.type,\n        oldBusinessObject = element.businessObject;\n\n    var newBusinessObject = drdFactory.create(type);\n\n    var newElement = {\n      type: type,\n      businessObject: newBusinessObject\n    };\n\n    newElement.width = element.width;\n    newElement.height = element.height;\n\n    newBusinessObject.name = oldBusinessObject.name;\n\n    if (target.table) {\n      var table = drdFactory.create('dmn:DecisionTable');\n      newBusinessObject.decisionLogic = table;\n      table.$parent = newBusinessObject;\n\n      var output = drdFactory.create('dmn:OutputClause');\n      output.typeRef = 'string';\n      output.$parent = table;\n      table.output = [ output ];\n\n      var input = drdFactory.create('dmn:InputClause');\n      input.$parent = table;\n\n      var inputExpression = drdFactory.create('dmn:LiteralExpression', {\n        typeRef: 'string'\n      });\n\n      input.inputExpression = inputExpression;\n      inputExpression.$parent = input;\n\n      table.input = [ input ];\n    }\n\n    if (target.expression) {\n      newBusinessObject.decisionLogic = drdFactory.create('dmn:LiteralExpression');\n      newBusinessObject.variable = drdFactory.create('dmn:InformationItem');\n    }\n\n    return replace.replaceElement(element, newElement, hints);\n  }\n\n  this.replaceElement = replaceElement;\n}\n\nDrdReplace.$inject = [\n  'drdFactory',\n  'replace',\n  'selection',\n  'modeling'\n];\n","import DiagramReplace from 'diagram-js/lib/features/replace';\nimport DiagramSelection from 'diagram-js/lib/features/selection';\n\nimport DrdReplace from './DrdReplace';\n\nexport default {\n  __depends__: [\n    DiagramReplace,\n    DiagramSelection\n  ],\n  drdReplace: [ 'type', DrdReplace ]\n};\n","export default {\n  DECISION: [\n    {\n      label: 'Empty',\n      actionName: 'replace-with-empty-decision',\n      className: 'dmn-icon-clear',\n      target: {\n        type: 'dmn:Decision',\n        table: false,\n        expression: false\n      }\n    },\n    {\n      label: 'Decision Table',\n      actionName: 'replace-with-decision-table',\n      className: 'dmn-icon-decision-table',\n      target: {\n        type: 'dmn:Decision',\n        table: true,\n        expression: false\n      }\n    },\n    {\n      label: 'Literal Expression',\n      actionName: 'replace-with-literal-expression',\n      className: 'dmn-icon-literal-expression',\n      target: {\n        type: 'dmn:Decision',\n        table: false,\n        expression: true\n      }\n    }\n  ]\n};\n","import {\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport {\n  forEach,\n  filter\n} from 'min-dash';\n\nimport replaceOptions from '../replace/ReplaceOptions';\n\n\n/**\n * This module is an element agnostic replace menu provider for the popup menu.\n */\nexport default function ReplaceMenuProvider(\n    popupMenu, modeling, moddle,\n    drdReplace, rules, translate) {\n\n  this._popupMenu = popupMenu;\n  this._modeling = modeling;\n  this._moddle = moddle;\n  this._drdReplace = drdReplace;\n  this._rules = rules;\n  this._translate = translate;\n\n  this.register();\n}\n\nReplaceMenuProvider.$inject = [\n  'popupMenu',\n  'modeling',\n  'moddle',\n  'drdReplace',\n  'rules',\n  'translate'\n];\n\n\n/**\n * Register replace menu provider in the popup menu\n */\nReplaceMenuProvider.prototype.register = function() {\n  this._popupMenu.registerProvider('dmn-replace', this);\n};\n\n\n/**\n * Get all entries from replaceOptions for the given element.\n *\n * @param {djs.model.Base} element\n *\n * @return {Array<Object>} a list of menu entry items\n */\nReplaceMenuProvider.prototype.getEntries = function(element) {\n\n  var businessObject = element.businessObject;\n\n  var rules = this._rules;\n\n  if (!rules.allowed('shape.replace', { element: element })) {\n    return [];\n  }\n\n  if (is(businessObject, 'dmn:Decision')) {\n\n    var options = filter(replaceOptions.DECISION, function(option) {\n      var notEmpty = (\n        option.actionName === 'replace-with-empty-decision' &&\n        businessObject.decisionLogic\n      );\n      var notTable = (\n        option.actionName === 'replace-with-decision-table' &&\n        !is(businessObject.decisionLogic, 'dmn:DecisionTable')\n      );\n      var notExp = (\n        option.actionName === 'replace-with-literal-expression' &&\n        !is(businessObject.decisionLogic, 'dmn:LiteralExpression')\n      );\n\n      return notEmpty || notTable || notExp;\n    });\n\n    return this._createEntries(element, options);\n  }\n\n  return [];\n};\n\n\n/**\n * Creates an array of menu entry objects for a given element.\n *\n * @param  {djs.model.Base} element\n * @param  {Object} replaceOptions\n *\n * @return {Array<Object>} a list of menu items\n */\nReplaceMenuProvider.prototype._createEntries = function(element, replaceOptions) {\n  var menuEntries = [];\n\n  var self = this;\n\n  forEach(replaceOptions, function(definition) {\n    var entry = self._createMenuEntry(definition, element);\n\n    menuEntries.push(entry);\n  });\n\n  return menuEntries;\n};\n\n\n/**\n * Creates and returns a single menu entry item.\n *\n * @param  {Object} definition a single replace options definition object\n * @param  {djs.model.Base} element\n * @param  {Function} [action] an action callback function which gets called when\n *                             the menu entry is being triggered.\n *\n * @return {Object} menu entry item\n */\nReplaceMenuProvider.prototype._createMenuEntry = function(definition, element, action) {\n  var replaceElement = this._drdReplace.replaceElement;\n  var translate = this._translate;\n\n  var replaceAction = function() {\n    return replaceElement(element, definition.target);\n  };\n\n  action = action || replaceAction;\n\n  var menuEntry = {\n    label: translate(definition.label),\n    className: definition.className,\n    id: definition.actionName,\n    action: action\n  };\n\n  return menuEntry;\n};\n\nReplaceMenuProvider.prototype.getHeaderEntries = function(element) {\n  return [];\n};\n","import DiagramTranslate from 'diagram-js/lib/i18n/translate';\nimport DiagramPopupMenu from 'diagram-js/lib/features/popup-menu';\nimport Replace from '../replace';\n\nimport ReplaceMenuProvider from './ReplaceMenuProvider';\n\nexport default {\n  __depends__: [\n    DiagramTranslate,\n    DiagramPopupMenu,\n    Replace\n  ],\n  __init__: [ 'replaceMenuProvider' ],\n  replaceMenuProvider: [ 'type', ReplaceMenuProvider ]\n};\n","import {\n  assign,\n  isArray\n} from 'min-dash';\n\nimport {\n  is,\n  isAny\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport {\n  hasPrimaryModifier\n} from 'diagram-js/lib/util/Mouse';\n\n\n/**\n* A provider for DMN elements context pad\n*/\nexport default function ContextPadProvider(\n    eventBus, contextPad, modeling,\n    elementFactory, connect, create,\n    rules, popupMenu, canvas,\n    translate, config, injector) {\n\n  config = config || {};\n\n  contextPad.registerProvider(this);\n\n  this._contextPad = contextPad;\n\n  this._modeling = modeling;\n\n  this._elementFactory = elementFactory;\n  this._connect = connect;\n  this._create = create;\n  this._rules = rules;\n  this._popupMenu = popupMenu;\n  this._canvas = canvas;\n  this._translate = translate;\n\n  if (config.autoPlace !== false) {\n    this._autoPlace = injector.get('autoPlace', false);\n  }\n\n\n  eventBus.on('create.end', 250, function(event) {\n    var shape = event.context.shape;\n\n    if (!hasPrimaryModifier(event)) {\n      return;\n    }\n\n    var entries = contextPad.getEntries(shape);\n\n    if (entries.replace) {\n      entries.replace.action.click(event, shape);\n    }\n  });\n}\n\nContextPadProvider.$inject = [\n  'eventBus',\n  'contextPad',\n  'modeling',\n  'elementFactory',\n  'connect',\n  'create',\n  'rules',\n  'popupMenu',\n  'canvas',\n  'translate',\n  'config.contextPad',\n  'injector'\n];\n\n\nContextPadProvider.prototype.getContextPadEntries = function(element) {\n\n  var modeling = this._modeling,\n\n      elementFactory = this._elementFactory,\n      connect = this._connect,\n      create = this._create,\n      popupMenu = this._popupMenu,\n      canvas = this._canvas,\n      contextPad = this._contextPad,\n      rules = this._rules,\n      translate = this._translate,\n      autoPlace = this._autoPlace;\n\n  var actions = {};\n\n  if (element.type === 'label') {\n    return actions;\n  }\n\n  var businessObject = element.businessObject;\n\n  function startConnect(event, element, autoActivate) {\n    connect.start(event, element, autoActivate);\n  }\n\n  function removeElement(e) {\n    modeling.removeElements([ element ]);\n  }\n\n  function getReplaceMenuPosition(element) {\n\n    var Y_OFFSET = 5;\n\n    var diagramContainer = canvas.getContainer(),\n        pad = contextPad.getPad(element).html;\n\n    var diagramRect = diagramContainer.getBoundingClientRect(),\n        padRect = pad.getBoundingClientRect();\n\n    var top = padRect.top - diagramRect.top;\n    var left = padRect.left - diagramRect.left;\n\n    var pos = {\n      x: left,\n      y: top + padRect.height + Y_OFFSET\n    };\n\n    return pos;\n  }\n\n  /**\n  * Create an append action\n  *\n  * @param {string} type\n  * @param {string} className\n  * @param {string} [title]\n  * @param {Object} [options]\n  *\n  * @return {Object} descriptor\n  */\n  function appendAction(type, className, title, options) {\n\n    if (typeof title !== 'string') {\n      options = title;\n      title = translate('Append {type}', { type: type.replace(/^dmn:/, '') });\n    }\n\n    function appendStart(event, element) {\n\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      create.start(event, shape, {\n        source: element,\n        hints: {\n          connectionTarget: element\n        }\n      });\n    }\n\n    var append = autoPlace ? function(event, element) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      autoPlace.append(element, shape, {\n        connectionTarget: element\n      });\n    } : appendStart;\n\n    return {\n      group: 'model',\n      className: className,\n      title: title,\n      action: {\n        dragstart: appendStart,\n        click: append\n      }\n    };\n  }\n\n  if (is(businessObject, 'dmn:Decision')) {\n    assign(actions, {\n      'append.decision': appendAction('dmn:Decision', 'dmn-icon-decision')\n    });\n  }\n\n  if (\n    isAny(businessObject, [\n      'dmn:BusinessKnowledgeModel',\n      'dmn:Decision',\n      'dmn:KnowledgeSource'\n    ])\n  ) {\n    assign(actions, {\n      'append.knowledge-source': appendAction(\n        'dmn:KnowledgeSource',\n        'dmn-icon-knowledge-source'\n      )\n    });\n  }\n\n  if (isAny(businessObject, [\n    'dmn:BusinessKnowledgeModel',\n    'dmn:Decision'\n  ])) {\n    assign(actions, {\n      'append.business-knowledge-model': appendAction(\n        'dmn:BusinessKnowledgeModel',\n        'dmn-icon-business-knowledge'\n      )\n    });\n  }\n\n  if (isAny(businessObject, [ 'dmn:Decision', 'dmn:KnowledgeSource' ])) {\n    assign(actions, {\n      'append.input-data': appendAction('dmn:InputData', 'dmn-icon-input-data')\n    });\n  }\n\n  if (is(businessObject, 'dmn:DRGElement')) {\n\n    assign(actions, {\n      'append.text-annotation': appendAction(\n        'dmn:TextAnnotation',\n        'dmn-icon-text-annotation'\n      ),\n\n      'connect': {\n        group: 'connect',\n        className: 'dmn-icon-connection-multi',\n        title: translate(\n          'Connect using Information/Knowledge' +\n          '/Authority Requirement or Association'\n        ),\n        action: {\n          click: startConnect,\n          dragstart: startConnect\n        }\n      }\n    });\n  }\n\n  if (!popupMenu.isEmpty(element, 'dmn-replace')) {\n\n    // Replace menu entry\n    assign(actions, {\n      'replace': {\n        group: 'edit',\n        className: 'dmn-icon-screw-wrench',\n        title: translate('Change type'),\n        action: {\n          click: function(event, element) {\n\n            var position = assign(getReplaceMenuPosition(element), {\n              cursor: { x: event.x, y: event.y }\n            });\n\n            popupMenu.open(element, 'dmn-replace', position);\n          }\n        }\n      }\n    });\n  }\n\n\n  // delete element entry, only show if allowed by rules\n  var deleteAllowed = rules.allowed('elements.delete', { elements: [ element ] });\n\n  if (isArray(deleteAllowed)) {\n\n    // was the element returned as a deletion candidate?\n    deleteAllowed = deleteAllowed[0] === element;\n  }\n\n  if (deleteAllowed) {\n    assign(actions, {\n      'delete': {\n        group: 'edit',\n        className: 'dmn-icon-trash',\n        title: translate('Remove'),\n        action: {\n          click: removeElement\n        }\n      }\n    });\n  }\n\n  return actions;\n};\n","import DiagramTranslate from 'diagram-js/lib/i18n/translate';\nimport DiagramContextPad from 'diagram-js/lib/features/context-pad';\nimport DiagramSelection from 'diagram-js/lib/features/selection';\nimport DiagramConnect from 'diagram-js/lib/features/connect';\nimport DiagramCreate from 'diagram-js/lib/features/create';\nimport PopupMenu from '../popup-menu';\n\nimport ContextPadProvider from './ContextPadProvider';\n\nexport default {\n  __depends__: [\n    DiagramTranslate,\n    DiagramContextPad,\n    DiagramSelection,\n    DiagramConnect,\n    DiagramCreate,\n    PopupMenu\n  ],\n  __init__: [ 'contextPadProvider' ],\n  contextPadProvider: [ 'type', ContextPadProvider ]\n};\n","import {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n  remove as svgRemove,\n  clear as svgClear\n} from 'tiny-svg';\n\nimport {\n  isObject\n} from 'min-dash';\n\nimport {\n  getElementLineIntersection,\n  getMid\n} from '../../layout/LayoutUtil';\n\n\nvar MARKER_CONNECTION_PREVIEW = 'djs-connection-preview';\n\n/**\n * Draws connection preview. Optionally, this can use layouter and connection docking to draw\n * better looking previews.\n *\n * @param {didi.Injector} injector\n * @param {Canvas} canvas\n * @param {GraphicsFactory} graphicsFactory\n * @param {ElementFactory} elementFactory\n */\nexport default function ConnectionPreview(\n    injector,\n    canvas,\n    graphicsFactory,\n    elementFactory\n) {\n  this._canvas = canvas;\n  this._graphicsFactory = graphicsFactory;\n  this._elementFactory = elementFactory;\n\n  // optional components\n  this._connectionDocking = injector.get('connectionDocking', false);\n  this._layouter = injector.get('layouter', false);\n}\n\nConnectionPreview.$inject = [\n  'injector',\n  'canvas',\n  'graphicsFactory',\n  'elementFactory'\n];\n\n/**\n * Draw connection preview.\n *\n * Provide at least one of <source, connectionStart> and <target, connectionEnd> to create a preview.\n * In the clean up stage, call `connectionPreview#cleanUp` with the context to remove preview.\n *\n * @param {Object} context\n * @param {Object|boolean} canConnect\n * @param {Object} hints\n * @param {djs.model.shape} [hints.source] source element\n * @param {djs.model.shape} [hints.target] target element\n * @param {Point} [hints.connectionStart] connection preview start\n * @param {Point} [hints.connectionEnd] connection preview end\n * @param {Array<Point>} [hints.waypoints] provided waypoints for preview\n * @param {boolean} [hints.noLayout] true if preview should not be laid out\n * @param {boolean} [hints.noCropping] true if preview should not be cropped\n * @param {boolean} [hints.noNoop] true if simple connection should not be drawn\n */\nConnectionPreview.prototype.drawPreview = function(context, canConnect, hints) {\n\n  hints = hints || {};\n\n  var connectionPreviewGfx = context.connectionPreviewGfx,\n      getConnection = context.getConnection,\n      source = hints.source,\n      target = hints.target,\n      waypoints = hints.waypoints,\n      connectionStart = hints.connectionStart,\n      connectionEnd = hints.connectionEnd,\n      noLayout = hints.noLayout,\n      noCropping = hints.noCropping,\n      noNoop = hints.noNoop,\n      connection;\n\n  var self = this;\n\n  if (!connectionPreviewGfx) {\n    connectionPreviewGfx = context.connectionPreviewGfx = this.createConnectionPreviewGfx();\n  }\n\n  svgClear(connectionPreviewGfx);\n\n  if (!getConnection) {\n    getConnection = context.getConnection = cacheReturnValues(function(canConnect, source, target) {\n      return self.getConnection(canConnect, source, target);\n    });\n  }\n\n  if (canConnect) {\n    connection = getConnection(canConnect, source, target);\n  }\n\n  if (!connection) {\n    !noNoop && this.drawNoopPreview(connectionPreviewGfx, hints);\n    return;\n  }\n\n  connection.waypoints = waypoints || [];\n\n  // optional layout\n  if (this._layouter && !noLayout) {\n    connection.waypoints = this._layouter.layoutConnection(connection, {\n      source: source,\n      target: target,\n      connectionStart: connectionStart,\n      connectionEnd: connectionEnd,\n      waypoints: hints.waypoints || connection.waypoints\n    });\n  }\n\n  // fallback if no waypoints were provided nor created with layouter\n  if (!connection.waypoints || !connection.waypoints.length) {\n    connection.waypoints = [\n      source ? getMid(source) : connectionStart,\n      target ? getMid(target) : connectionEnd\n    ];\n  }\n\n  // optional cropping\n  if (this._connectionDocking && (source || target) && !noCropping) {\n    connection.waypoints = this._connectionDocking.getCroppedWaypoints(connection, source, target);\n  }\n\n  this._graphicsFactory.drawConnection(connectionPreviewGfx, connection);\n};\n\n/**\n * Draw simple connection between source and target or provided points.\n *\n * @param {SVGElement} connectionPreviewGfx container for the connection\n * @param {Object} hints\n * @param {djs.model.shape} [hints.source] source element\n * @param {djs.model.shape} [hints.target] target element\n * @param {Point} [hints.connectionStart] required if source is not provided\n * @param {Point} [hints.connectionEnd] required if target is not provided\n */\nConnectionPreview.prototype.drawNoopPreview = function(connectionPreviewGfx, hints) {\n  var source = hints.source,\n      target = hints.target,\n      start = hints.connectionStart || getMid(source),\n      end = hints.connectionEnd || getMid(target);\n\n  var waypoints = this.cropWaypoints(start, end, source, target);\n\n  var connection = this.createNoopConnection(waypoints[0], waypoints[1]);\n\n  svgAppend(connectionPreviewGfx, connection);\n};\n\n/**\n * Return cropped waypoints.\n *\n * @param {Point} start\n * @param {Point} end\n * @param {djs.model.shape} source\n * @param {djs.model.shape} target\n *\n * @returns {Array}\n */\nConnectionPreview.prototype.cropWaypoints = function(start, end, source, target) {\n  var graphicsFactory = this._graphicsFactory,\n      sourcePath = source && graphicsFactory.getShapePath(source),\n      targetPath = target && graphicsFactory.getShapePath(target),\n      connectionPath = graphicsFactory.getConnectionPath({ waypoints: [ start, end ] });\n\n  start = (source && getElementLineIntersection(sourcePath, connectionPath, true)) || start;\n  end = (target && getElementLineIntersection(targetPath, connectionPath, false)) || end;\n\n  return [ start, end ];\n};\n\n/**\n * Remove connection preview container if it exists.\n *\n * @param {Object} [context]\n * @param {SVGElement} [context.connectionPreviewGfx] preview container\n */\nConnectionPreview.prototype.cleanUp = function(context) {\n  if (context && context.connectionPreviewGfx) {\n    svgRemove(context.connectionPreviewGfx);\n  }\n};\n\n/**\n * Get connection that connects source and target.\n *\n * @param {Object|boolean} canConnect\n *\n * @returns {djs.model.connection}\n */\nConnectionPreview.prototype.getConnection = function(canConnect) {\n  var attrs = ensureConnectionAttrs(canConnect);\n\n  return this._elementFactory.createConnection(attrs);\n};\n\n\n/**\n * Add and return preview graphics.\n *\n * @returns {SVGElement}\n */\nConnectionPreview.prototype.createConnectionPreviewGfx = function() {\n  var gfx = svgCreate('g');\n\n  svgAttr(gfx, {\n    pointerEvents: 'none'\n  });\n\n  svgClasses(gfx).add(MARKER_CONNECTION_PREVIEW);\n\n  svgAppend(this._canvas.getDefaultLayer(), gfx);\n\n  return gfx;\n};\n\n/**\n * Create and return simple connection.\n *\n * @param {Point} start\n * @param {Point} end\n *\n * @returns {SVGElement}\n */\nConnectionPreview.prototype.createNoopConnection = function(start, end) {\n  var connection = svgCreate('polyline');\n\n  svgAttr(connection, {\n    'stroke': '#333',\n    'strokeDasharray': [ 1 ],\n    'strokeWidth': 2,\n    'pointer-events': 'none'\n  });\n\n  svgAttr(connection, { 'points': [ start.x, start.y, end.x, end.y ] });\n\n  return connection;\n};\n\n// helpers //////////\n\n/**\n * Returns function that returns cached return values referenced by stringified first argument.\n *\n * @param {Function} fn\n *\n * @return {Function}\n */\nfunction cacheReturnValues(fn) {\n  var returnValues = {};\n\n  /**\n   * Return cached return value referenced by stringified first argument.\n   *\n   * @returns {*}\n   */\n  return function(firstArgument) {\n    var key = JSON.stringify(firstArgument);\n\n    var returnValue = returnValues[key];\n\n    if (!returnValue) {\n      returnValue = returnValues[key] = fn.apply(null, arguments);\n    }\n\n    return returnValue;\n  };\n}\n\n/**\n * Ensure connection attributes is object.\n *\n * @param {Object|boolean} canConnect\n *\n * @returns {Object}\n */\nfunction ensureConnectionAttrs(canConnect) {\n  if (isObject(canConnect)) {\n    return canConnect;\n  } else {\n    return {};\n  }\n}\n","import ConnectionPreview from './ConnectionPreview';\n\nexport default {\n  __init__: [ 'connectionPreview' ],\n  connectionPreview: [ 'type', ConnectionPreview ]\n};\n","import {\n  debounce\n} from 'min-dash';\n\nvar DEBOUNCE_DELAY = 300;\n\nimport {\n  query as domQuery\n} from 'min-dom';\n\n\nexport default function DefinitionIdEdit(eventBus, modeling, canvas) {\n  this._eventBus = eventBus;\n  this._modeling = modeling;\n  this._canvas = canvas;\n\n  eventBus.on('definitionIdView.create', function(event) {\n    var container = event.html,\n        nameElement = domQuery('.dmn-definitions-name', container),\n        idElement = domQuery('.dmn-definitions-id', container);\n\n    this._setup(nameElement, 'name');\n    this._setup(idElement, 'id');\n  }, this);\n}\n\nDefinitionIdEdit.$inject = [\n  'eventBus',\n  'modeling',\n  'canvas'\n];\n\n\nDefinitionIdEdit.prototype.update = function(type, newValue) {\n  var newProperties = {};\n  newProperties[type] = newValue;\n\n  this._modeling.updateProperties(this._canvas.getRootElement(), newProperties);\n};\n\nDefinitionIdEdit.prototype._setup = function(node, type) {\n  var self = this;\n\n  node.setAttribute('contenteditable', true);\n\n  node.addEventListener('input', debounce(function(evt) {\n    var value = evt.target.value || evt.target.textContent;\n\n    self.update(type, value.trim());\n  }, DEBOUNCE_DELAY));\n\n  node.addEventListener('keydown', function(evt) {\n    if (evt.keyCode === 13) {\n      node.blur();\n      window.getSelection().removeAllRanges();\n    }\n  });\n\n};\n","import DefinitionPropertiesEdit from './DefinitionPropertiesEdit';\nimport PaletteAdapter from './PaletteAdapter';\n\nexport default {\n  __init__: [\n    'definitionPropertiesEdit',\n    'definitionPropertiesPaletteAdapter'\n  ],\n  definitionPropertiesEdit: [ 'type', DefinitionPropertiesEdit ],\n  definitionPropertiesPaletteAdapter: [ 'type', PaletteAdapter ]\n};\n","import {\n  sortBy,\n  forEach,\n  filter\n} from 'min-dash';\n\nvar AXIS_DIMENSIONS = {\n  horizontal: [ 'x', 'width' ],\n  vertical: [ 'y', 'height' ]\n};\n\nvar THRESHOLD = 5;\n\n\n/**\n * Groups and filters elements and then trigger even distribution.\n */\nexport default function DistributeElements(modeling) {\n  this._modeling = modeling;\n\n  this._filters = [];\n\n  // register filter for filtering big elements\n  this.registerFilter(function(elements, axis, dimension) {\n    var elementsSize = 0,\n        numOfShapes = 0,\n        avgDimension;\n\n    forEach(elements, function(element) {\n      if (element.waypoints || element.labelTarget) {\n        return;\n      }\n\n      elementsSize += element[dimension];\n\n      numOfShapes += 1;\n    });\n\n    avgDimension = Math.round(elementsSize / numOfShapes);\n\n    return filter(elements, function(element) {\n      return element[dimension] < (avgDimension + 50);\n    });\n  });\n\n}\n\nDistributeElements.$inject = [ 'modeling' ];\n\n\n/**\n * Registers filter functions that allow external parties to filter\n * out certain elements.\n *\n * @param  {Function} filterFn\n */\nDistributeElements.prototype.registerFilter = function(filterFn) {\n  if (typeof filterFn !== 'function') {\n    throw new Error('the filter has to be a function');\n  }\n\n  this._filters.push(filterFn);\n};\n\n/**\n * Distributes the elements with a given orientation\n *\n * @param  {Array} elements    [description]\n * @param  {string} orientation [description]\n */\nDistributeElements.prototype.trigger = function(elements, orientation) {\n  var modeling = this._modeling;\n\n  var groups,\n      distributableElements;\n\n  if (elements.length < 3) {\n    return;\n  }\n\n  this._setOrientation(orientation);\n\n  distributableElements = this._filterElements(elements);\n\n  groups = this._createGroups(distributableElements);\n\n  // nothing to distribute\n  if (groups.length <= 2) {\n    return;\n  }\n\n  modeling.distributeElements(groups, this._axis, this._dimension);\n\n  return groups;\n};\n\n/**\n * Filters the elements with provided filters by external parties\n *\n * @param  {Array[Elements]} elements\n *\n * @return {Array[Elements]}\n */\nDistributeElements.prototype._filterElements = function(elements) {\n  var filters = this._filters,\n      axis = this._axis,\n      dimension = this._dimension,\n      distributableElements = [].concat(elements);\n\n  if (!filters.length) {\n    return elements;\n  }\n\n  forEach(filters, function(filterFn) {\n    distributableElements = filterFn(distributableElements, axis, dimension);\n  });\n\n  return distributableElements;\n};\n\n\n/**\n * Create range (min, max) groups. Also tries to group elements\n * together that share the same range.\n *\n * @example\n * \tvar distributableElements = [\n * \t\t{\n * \t\t\trange: {\n * \t\t\t\tmin: 100,\n * \t\t\t\tmax: 200\n * \t\t\t},\n * \t\t\telements: [ { id: 'shape1', .. }]\n * \t\t}\n * \t]\n *\n * @param  {Array} elements\n *\n * @return {Array[Objects]}\n */\nDistributeElements.prototype._createGroups = function(elements) {\n  var rangeGroups = [],\n      self = this,\n      axis = this._axis,\n      dimension = this._dimension;\n\n  if (!axis) {\n    throw new Error('must have a defined \"axis\" and \"dimension\"');\n  }\n\n  // sort by 'left->right' or 'top->bottom'\n  var sortedElements = sortBy(elements, axis);\n\n  forEach(sortedElements, function(element, idx) {\n    var elementRange = self._findRange(element, axis, dimension),\n        range;\n\n    var previous = rangeGroups[rangeGroups.length - 1];\n\n    if (previous && self._hasIntersection(previous.range, elementRange)) {\n      rangeGroups[rangeGroups.length - 1].elements.push(element);\n    } else {\n      range = { range: elementRange, elements: [ element ] };\n\n      rangeGroups.push(range);\n    }\n  });\n\n  return rangeGroups;\n};\n\n\n/**\n * Maps a direction to the according axis and dimension\n *\n * @param  {string} direction 'horizontal' or 'vertical'\n */\nDistributeElements.prototype._setOrientation = function(direction) {\n  var orientation = AXIS_DIMENSIONS[direction];\n\n  this._axis = orientation[0];\n  this._dimension = orientation[1];\n};\n\n\n/**\n * Checks if the two ranges intercept each other\n *\n * @param  {Object} rangeA {min, max}\n * @param  {Object} rangeB {min, max}\n *\n * @return {boolean}\n */\nDistributeElements.prototype._hasIntersection = function(rangeA, rangeB) {\n  return Math.max(rangeA.min, rangeA.max) >= Math.min(rangeB.min, rangeB.max) &&\n         Math.min(rangeA.min, rangeA.max) <= Math.max(rangeB.min, rangeB.max);\n};\n\n\n/**\n * Returns the min and max values for an element\n *\n * @param  {[type]} element   [description]\n * @param  {[type]} axis      [description]\n * @param  {[type]} dimension [description]\n *\n * @return {[type]}           [description]\n */\nDistributeElements.prototype._findRange = function(element) {\n  var axis = element[this._axis],\n      dimension = element[this._dimension];\n\n  return {\n    min: axis + THRESHOLD,\n    max: axis + dimension - THRESHOLD\n  };\n};\n","import DistributeElements from './DistributeElements';\n\nexport default {\n  __init__: [ 'distributeElements' ],\n  distributeElements: [ 'type', DistributeElements ]\n};\n","import {\n  filter\n} from 'min-dash';\n\nimport {\n  isAny\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\n\n/**\n * Registers element exclude filters for elements that\n * currently do not support distribution.\n */\nexport default function DrdDistributeElements(distributeElements) {\n\n  distributeElements.registerFilter(function(elements) {\n    return filter(elements, function(element) {\n\n      var cannotDistribute = isAny(element, [\n        'dmn:AuthorityRequirement',\n        'dmn:InformationRequirement',\n        'dmn:KnowledgeRequirement',\n        'dmn:Association',\n        'dmn:TextAnnotation'\n      ]);\n\n      return !(element.labelTarget || cannotDistribute);\n    });\n  });\n}\n\nDrdDistributeElements.$inject = [ 'distributeElements' ];","import DistributeElementsModule from 'diagram-js/lib/features/distribute-elements';\n\nimport DrdDistributeElements from './DrdDistributeElements';\n\n\nexport default {\n  __depends__: [\n    DistributeElementsModule\n  ],\n  __init__: [ 'drdDistributeElements' ],\n  drdDistributeElements: [ 'type', DrdDistributeElements ]\n};\n","import {\n  forEach,\n  isArray\n} from 'min-dash';\n\nvar NOT_REGISTERED_ERROR = 'is not a registered action',\n    IS_REGISTERED_ERROR = 'is already registered';\n\n\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with registerAction\n * and likewise unregister existing ones with unregisterAction.\n *\n *\n * ## Life-Cycle and configuration\n *\n * The editor actions will wait for diagram initialization before\n * registering default actions _and_ firing an `editorActions.init` event.\n *\n * Interested parties may listen to the `editorActions.init` event with\n * low priority to check, which actions got registered. Other components\n * may use the event to register their own actions via `registerAction`.\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function EditorActions(eventBus, injector) {\n\n  // initialize actions\n  this._actions = {};\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n\n    // all diagram modules got loaded; check which ones\n    // are available and register the respective default actions\n    self._registerDefaultActions(injector);\n\n    // ask interested parties to register available editor\n    // actions on diagram initialization\n    eventBus.fire('editorActions.init', {\n      editorActions: self\n    });\n  });\n\n}\n\nEditorActions.$inject = [\n  'eventBus',\n  'injector'\n];\n\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\nEditorActions.prototype._registerDefaultActions = function(injector) {\n\n  // (1) retrieve optional components to integrate with\n\n  var commandStack = injector.get('commandStack', false);\n  var modeling = injector.get('modeling', false);\n  var selection = injector.get('selection', false);\n  var zoomScroll = injector.get('zoomScroll', false);\n  var copyPaste = injector.get('copyPaste', false);\n  var canvas = injector.get('canvas', false);\n  var rules = injector.get('rules', false);\n  var keyboardMove = injector.get('keyboardMove', false);\n  var keyboardMoveSelection = injector.get('keyboardMoveSelection', false);\n\n  // (2) check components and register actions\n\n  if (commandStack) {\n    this.register('undo', function() {\n      commandStack.undo();\n    });\n\n    this.register('redo', function() {\n      commandStack.redo();\n    });\n  }\n\n  if (copyPaste && selection) {\n    this.register('copy', function() {\n      var selectedElements = selection.get();\n\n      copyPaste.copy(selectedElements);\n    });\n  }\n\n  if (copyPaste) {\n    this.register('paste', function() {\n      copyPaste.paste();\n    });\n  }\n\n  if (zoomScroll) {\n    this.register('stepZoom', function(opts) {\n      zoomScroll.stepZoom(opts.value);\n    });\n  }\n\n  if (canvas) {\n    this.register('zoom', function(opts) {\n      canvas.zoom(opts.value);\n    });\n  }\n\n  if (modeling && selection && rules) {\n    this.register('removeSelection', function() {\n\n      var selectedElements = selection.get();\n\n      if (!selectedElements.length) {\n        return;\n      }\n\n      var allowed = rules.allowed('elements.delete', { elements: selectedElements }),\n          removableElements;\n\n      if (allowed === false) {\n        return;\n      }\n      else if (isArray(allowed)) {\n        removableElements = allowed;\n      }\n      else {\n        removableElements = selectedElements;\n      }\n\n      if (removableElements.length) {\n        modeling.removeElements(removableElements.slice());\n      }\n    });\n  }\n\n  if (keyboardMove) {\n    this.register('moveCanvas', function(opts) {\n      keyboardMove.moveCanvas(opts);\n    });\n  }\n\n  if (keyboardMoveSelection) {\n    this.register('moveSelection', function(opts) {\n      keyboardMoveSelection.moveSelection(opts.direction, opts.accelerated);\n    });\n  }\n\n};\n\n\n/**\n * Triggers a registered action\n *\n * @param  {string} action\n * @param  {Object} opts\n *\n * @return {Unknown} Returns what the registered listener returns\n */\nEditorActions.prototype.trigger = function(action, opts) {\n  if (!this._actions[action]) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n\n  return this._actions[action](opts);\n};\n\n\n/**\n * Registers a collections of actions.\n * The key of the object will be the name of the action.\n *\n * @example\n * \n * var actions = {\n *   spaceTool: function() {\n *     spaceTool.activateSelection();\n *   },\n *   lassoTool: function() {\n *     lassoTool.activateSelection();\n *   }\n * ];\n *\n * editorActions.register(actions);\n *\n * editorActions.isRegistered('spaceTool'); // true\n * \n *\n * @param  {Object} actions\n */\nEditorActions.prototype.register = function(actions, listener) {\n  var self = this;\n\n  if (typeof actions === 'string') {\n    return this._registerAction(actions, listener);\n  }\n\n  forEach(actions, function(listener, action) {\n    self._registerAction(action, listener);\n  });\n};\n\n/**\n * Registers a listener to an action key\n *\n * @param  {string} action\n * @param  {Function} listener\n */\nEditorActions.prototype._registerAction = function(action, listener) {\n  if (this.isRegistered(action)) {\n    throw error(action, IS_REGISTERED_ERROR);\n  }\n\n  this._actions[action] = listener;\n};\n\n/**\n * Unregister an existing action\n *\n * @param {string} action\n */\nEditorActions.prototype.unregister = function(action) {\n  if (!this.isRegistered(action)) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n\n  this._actions[action] = undefined;\n};\n\n/**\n * Returns the number of actions that are currently registered\n *\n * @return {number}\n */\nEditorActions.prototype.getActions = function() {\n  return Object.keys(this._actions);\n};\n\n/**\n * Checks wether the given action is registered\n *\n * @param {string} action\n *\n * @return {boolean}\n */\nEditorActions.prototype.isRegistered = function(action) {\n  return !!this._actions[action];\n};\n\n\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}\n","import EditorActions from './EditorActions';\n\nexport default {\n  __init__: [ 'editorActions' ],\n  editorActions: [ 'type', EditorActions ]\n};\n","import inherits from 'inherits';\n\nimport EditorActions from 'diagram-js/lib/features/editor-actions/EditorActions';\n\nexport default function DrdEditorActions(injector) {\n  injector.invoke(EditorActions, this);\n}\n\ninherits(DrdEditorActions, EditorActions);\n\nDrdEditorActions.$inject = [\n  'injector'\n];\n\n\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\nDrdEditorActions.prototype._registerDefaultActions = function(injector) {\n\n  // (0) invoke super method\n\n  EditorActions.prototype._registerDefaultActions.call(this, injector);\n\n  // (1) retrieve optional components to integrate with\n\n  var canvas = injector.get('canvas', false);\n  var elementRegistry = injector.get('elementRegistry', false);\n  var selection = injector.get('selection', false);\n  var lassoTool = injector.get('lassoTool', false);\n  var directEditing = injector.get('directEditing', false);\n  var distributeElements = injector.get('distributeElements', false);\n  var alignElements = injector.get('alignElements', false);\n\n  // (2) check components and register actions\n\n  if (canvas && elementRegistry && selection) {\n    this._registerAction('selectElements', function() {\n\n      // select all elements except for the invisible\n      // root element\n      var rootElement = canvas.getRootElement();\n\n      var elements = elementRegistry.filter(function(element) {\n        return element !== rootElement;\n      });\n\n      selection.select(elements);\n\n      return elements;\n    });\n  }\n\n  if (selection && distributeElements) {\n    this._registerAction('distributeElements', function(opts) {\n      var currentSelection = selection.get(),\n          type = opts.type;\n\n      if (currentSelection.length > 2) {\n        distributeElements.trigger(currentSelection, type);\n      }\n    });\n  }\n\n  if (selection && alignElements) {\n    this._registerAction('alignElements', function(opts) {\n      var currentSelection = selection.get(),\n          type = opts.type;\n\n      if (currentSelection.length > 1) {\n        alignElements.trigger(currentSelection, type);\n      }\n    });\n  }\n\n  if (lassoTool) {\n    this._registerAction('lassoTool', function() {\n      lassoTool.toggle();\n    });\n  }\n\n  if (selection && directEditing) {\n    this._registerAction('directEditing', function() {\n      var currentSelection = selection.get();\n\n      if (currentSelection.length) {\n        directEditing.activate(currentSelection[0]);\n      }\n    });\n  }\n};\n","import EditorActionsModule from 'diagram-js/lib/features/editor-actions';\n\nimport DrdEditorActions from './DrdEditorActions';\n\nexport default {\n  __depends__: [\n    EditorActionsModule\n  ],\n  editorActions: [ 'type', DrdEditorActions ]\n};\n","/**\n * Does the definitions element contain graphical information?\n *\n * @param  {ModdleElement} definitions\n *\n * @return {boolean} true, if the definitions contains graphical information\n */\nexport function containsDi(definitions) {\n  return definitions.dmnDI && definitions.dmnDI.diagrams && definitions.dmnDI.diagrams[0];\n}\n\nexport function hasDi(element) {\n  return !!element.di;\n}","import { forEach } from 'min-dash';\n\nimport { containsDi } from 'dmn-js-shared/lib/util/DiUtil';\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\n/**\n * Generates missing DI on import.\n *\n * @param {DrdFactory} drdFactory\n * @param {ElementFactory} elementFactory\n * @param {EventBus} eventBus\n */\nexport default function DiGenerator(drdFactory, elementFactory, eventBus, drdUpdater) {\n  function createDi(definitions) {\n\n    // retrieve or create dmnDI\n    var dmnDI = definitions.dmnDI;\n\n    if (!dmnDI) {\n      dmnDI = drdFactory.create('dmndi:DMNDI');\n      definitions.set('dmnDI', dmnDI);\n    }\n\n    var diagram = drdFactory.create('dmndi:DMNDiagram');\n\n    dmnDI.set('diagrams', [ diagram ]);\n\n    var index = 0;\n\n    forEach(definitions.get('drgElement'), function(drgElement) {\n\n      // generate DI for decisions only\n      if (!is(drgElement, 'dmn:Decision')) {\n        return;\n      }\n\n\n      var dimensions = elementFactory._getDefaultSize(drgElement);\n\n      var di = drdFactory.createDiShape(drgElement, {\n        x: 150 + (index * 30),\n        y: 150 + (index * 30),\n        width: dimensions.width,\n        height: dimensions.height\n      });\n\n      drdUpdater.updateDiParent(di, diagram);\n\n      index++;\n    });\n  }\n\n  eventBus.on('import.start', ({ definitions }) => {\n    if (!containsDi(definitions)) {\n      createDi(definitions);\n    }\n  });\n}\n\nDiGenerator.$inject = [\n  'drdFactory',\n  'elementFactory',\n  'eventBus',\n  'drdUpdater'\n];","import DiGenerator from './DiGenerator';\n\nexport default {\n  __init__: [ 'diGenerator' ],\n  diGenerator: [ 'type', DiGenerator ]\n};","import { isArray } from 'min-dash';\r\n\r\n/**\r\n * Returns true if event was triggered with any modifier\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function hasModifier(event) {\r\n  return (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isCmd(event) {\r\n\r\n  // ensure we don't react to AltGr\r\n  // (mapped to CTRL + ALT)\r\n  if (event.altKey) {\r\n    return false;\r\n  }\r\n\r\n  return event.ctrlKey || event.metaKey;\r\n}\r\n\r\n/**\r\n * Checks if key pressed is one of provided keys.\r\n *\r\n * @param {string|Array<string>} keys\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isKey(keys, event) {\r\n  keys = isArray(keys) ? keys : [ keys ];\r\n\r\n  return keys.indexOf(event.key) !== -1 || keys.indexOf(event.keyCode) !== -1;\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nexport function isShift(event) {\r\n  return event.shiftKey;\r\n}","export var SPACING = 10;\n\nexport function quantize(value, quantum, fn) {\n  if (!fn) {\n    fn = 'round';\n  }\n\n  return Math[ fn ](value / quantum) * quantum;\n}","import {\r\n  setSnapped,\r\n  isSnapped\r\n} from '../snapping/SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  assign,\r\n  isNumber\r\n} from 'min-dash';\r\n\r\nimport {\r\n  SPACING,\r\n  quantize\r\n} from './GridUtil';\r\n\r\nvar LOWER_PRIORITY = 1200;\r\nvar LOW_PRIORITY = 800;\r\n\r\n/**\r\n * Basic grid snapping that covers connecting, creating, moving, resizing shapes, moving bendpoints\r\n * and connection segments.\r\n */\r\nexport default function GridSnapping(elementRegistry, eventBus, config) {\r\n\r\n  var active = !config || config.active !== false;\r\n\r\n  this._eventBus = eventBus;\r\n\r\n  var self = this;\r\n\r\n  eventBus.on('diagram.init', LOW_PRIORITY, function() {\r\n    self.setActive(active);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.move',\r\n    'create.end',\r\n    'bendpoint.move.move',\r\n    'bendpoint.move.end',\r\n    'connect.move',\r\n    'connect.end',\r\n    'connectionSegment.move.move',\r\n    'connectionSegment.move.end',\r\n    'resize.move',\r\n    'resize.end',\r\n    'shape.move.move',\r\n    'shape.move.end'\r\n  ], LOWER_PRIORITY, function(event) {\r\n    var originalEvent = event.originalEvent;\r\n\r\n    if (!self.active || (originalEvent && isCmd(originalEvent))) {\r\n      return;\r\n    }\r\n\r\n    var context = event.context,\r\n        gridSnappingContext = context.gridSnappingContext;\r\n\r\n    if (!gridSnappingContext) {\r\n      gridSnappingContext = context.gridSnappingContext = {};\r\n    }\r\n\r\n    [ 'x', 'y' ].forEach(function(axis) {\r\n      var options = {};\r\n\r\n      // allow snapping with offset\r\n      var snapOffset = getSnapOffset(event, axis, elementRegistry);\r\n\r\n      if (snapOffset) {\r\n        options.offset = snapOffset;\r\n      }\r\n\r\n      // allow snapping with min and max\r\n      var snapConstraints = getSnapConstraints(event, axis);\r\n\r\n      if (snapConstraints) {\r\n        assign(options, snapConstraints);\r\n      }\r\n\r\n      if (!isSnapped(event, axis)) {\r\n        self.snapEvent(event, axis, options);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Snap an events x or y with optional min, max and offset.\r\n *\r\n * @param {Object} event\r\n * @param {string} axis\r\n * @param {number} [options.min]\r\n * @param {number} [options.max]\r\n * @param {number} [options.offset]\r\n */\r\nGridSnapping.prototype.snapEvent = function(event, axis, options) {\r\n  var snappedValue = this.snapValue(event[ axis ], options);\r\n\r\n  setSnapped(event, axis, snappedValue);\r\n};\r\n\r\n/**\r\n * Expose grid spacing for third parties (i.e. extensions).\r\n *\r\n * @return {number} spacing of grid dots\r\n */\r\nGridSnapping.prototype.getGridSpacing = function() {\r\n  return SPACING;\r\n};\r\n\r\n/**\r\n * Snap value with optional min, max and offset.\r\n *\r\n * @param {number} value\r\n * @param {Object} options\r\n * @param {number} [options.min]\r\n * @param {number} [options.max]\r\n * @param {number} [options.offset]\r\n */\r\nGridSnapping.prototype.snapValue = function(value, options) {\r\n  var offset = 0;\r\n\r\n  if (options && options.offset) {\r\n    offset = options.offset;\r\n  }\r\n\r\n  value += offset;\r\n\r\n  value = quantize(value, SPACING);\r\n\r\n  var min, max;\r\n\r\n  if (options && options.min) {\r\n    min = options.min;\r\n\r\n    if (isNumber(min)) {\r\n      min = quantize(min + offset, SPACING, 'ceil');\r\n\r\n      value = Math.max(value, min);\r\n    }\r\n  }\r\n\r\n  if (options && options.max) {\r\n    max = options.max;\r\n\r\n    if (isNumber(max)) {\r\n      max = quantize(max + offset, SPACING, 'floor');\r\n\r\n      value = Math.min(value, max);\r\n    }\r\n  }\r\n\r\n  value -= offset;\r\n\r\n  return value;\r\n};\r\n\r\nGridSnapping.prototype.isActive = function() {\r\n  return this.active;\r\n};\r\n\r\nGridSnapping.prototype.setActive = function(active) {\r\n  this.active = active;\r\n\r\n  this._eventBus.fire('gridSnapping.toggle', { active: active });\r\n};\r\n\r\nGridSnapping.prototype.toggleActive = function() {\r\n  this.setActive(!this.active);\r\n};\r\n\r\nGridSnapping.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'config.gridSnapping'\r\n];\r\n\r\n// helpers //////////\r\n\r\n/**\r\n * Get minimum and maximum snap constraints.\r\n * Constraints are cached.\r\n *\r\n * @param {Object} event\r\n * @param {Object} event.context\r\n * @param {string} axis\r\n *\r\n * @returns {boolean|Object}\r\n */\r\nfunction getSnapConstraints(event, axis) {\r\n  var context = event.context,\r\n      createConstraints = context.createConstraints,\r\n      resizeConstraints = context.resizeConstraints || {},\r\n      gridSnappingContext = context.gridSnappingContext,\r\n      snapConstraints = gridSnappingContext.snapConstraints;\r\n\r\n  // cache snap constraints\r\n  if (snapConstraints && snapConstraints[ axis ]) {\r\n    return snapConstraints[ axis ];\r\n  }\r\n\r\n  if (!snapConstraints) {\r\n    snapConstraints = gridSnappingContext.snapConstraints = {};\r\n  }\r\n\r\n  if (!snapConstraints[ axis ]) {\r\n    snapConstraints[ axis ] = {};\r\n  }\r\n\r\n  var direction = context.direction;\r\n\r\n  // create\r\n  if (createConstraints) {\r\n    if (isHorizontal(axis)) {\r\n      snapConstraints.x.min = createConstraints.left;\r\n      snapConstraints.x.max = createConstraints.right;\r\n    } else {\r\n      snapConstraints.y.min = createConstraints.top;\r\n      snapConstraints.y.max = createConstraints.bottom;\r\n    }\r\n  }\r\n\r\n  // resize\r\n  var minResizeConstraints = resizeConstraints.min,\r\n      maxResizeConstraints = resizeConstraints.max;\r\n\r\n  if (minResizeConstraints) {\r\n    if (isHorizontal(axis)) {\r\n\r\n      if (isWest(direction)) {\r\n        snapConstraints.x.max = minResizeConstraints.left;\r\n      } else {\r\n        snapConstraints.x.min = minResizeConstraints.right;\r\n      }\r\n\r\n    } else {\r\n\r\n      if (isNorth(direction)) {\r\n        snapConstraints.y.max = minResizeConstraints.top;\r\n      } else {\r\n        snapConstraints.y.min = minResizeConstraints.bottom;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  if (maxResizeConstraints) {\r\n    if (isHorizontal(axis)) {\r\n\r\n      if (isWest(direction)) {\r\n        snapConstraints.x.min = maxResizeConstraints.left;\r\n      } else {\r\n        snapConstraints.x.max = maxResizeConstraints.right;\r\n      }\r\n\r\n    } else {\r\n\r\n      if (isNorth(direction)) {\r\n        snapConstraints.y.min = maxResizeConstraints.top;\r\n      } else {\r\n        snapConstraints.y.max = maxResizeConstraints.bottom;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  return snapConstraints[ axis ];\r\n}\r\n\r\n/**\r\n * Get snap offset.\r\n * Offset is cached.\r\n *\r\n * @param {Object} event\r\n * @param {string} axis\r\n * @param {ElementRegistry} elementRegistry\r\n *\r\n * @returns {number}\r\n */\r\nfunction getSnapOffset(event, axis, elementRegistry) {\r\n  var context = event.context,\r\n      shape = event.shape,\r\n      gridSnappingContext = context.gridSnappingContext,\r\n      snapLocation = gridSnappingContext.snapLocation,\r\n      snapOffset = gridSnappingContext.snapOffset;\r\n\r\n  // cache snap offset\r\n  if (snapOffset && isNumber(snapOffset[ axis ])) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (!snapOffset) {\r\n    snapOffset = gridSnappingContext.snapOffset = {};\r\n  }\r\n\r\n  if (!isNumber(snapOffset[ axis ])) {\r\n    snapOffset[ axis ] = 0;\r\n  }\r\n\r\n  if (!shape) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (!elementRegistry.get(shape.id)) {\r\n\r\n    if (isHorizontal(axis)) {\r\n      snapOffset[ axis ] += shape[ axis ] + shape.width / 2;\r\n    } else {\r\n      snapOffset[ axis ] += shape[ axis ] + shape.height / 2;\r\n    }\r\n  }\r\n\r\n  if (!snapLocation) {\r\n    return snapOffset[ axis ];\r\n  }\r\n\r\n  if (axis === 'x') {\r\n    if (/left/.test(snapLocation)) {\r\n      snapOffset[ axis ] -= shape.width / 2;\r\n    } else if (/right/.test(snapLocation)) {\r\n      snapOffset[ axis ] += shape.width / 2;\r\n    }\r\n  } else {\r\n    if (/top/.test(snapLocation)) {\r\n      snapOffset[ axis ] -= shape.height / 2;\r\n    } else if (/bottom/.test(snapLocation)) {\r\n      snapOffset[ axis ] += shape.height / 2;\r\n    }\r\n  }\r\n\r\n  return snapOffset[ axis ];\r\n}\r\n\r\nfunction isHorizontal(axis) {\r\n  return axis === 'x';\r\n}\r\n\r\nfunction isNorth(direction) {\r\n  return direction.indexOf('n') !== -1;\r\n}\r\n\r\nfunction isWest(direction) {\r\n  return direction.indexOf('w') !== -1;\r\n}","import {\n  forEach,\n  isFunction,\n  isArray,\n  isNumber,\n  isObject\n} from 'min-dash';\n\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A utility that can be used to plug-in into the command execution for\n * extension and/or validation.\n *\n * @param {EventBus} eventBus\n *\n * @example\n *\n * import inherits from 'inherits';\n *\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * function CommandLogger(eventBus) {\n *   CommandInterceptor.call(this, eventBus);\n *\n *   this.preExecute(function(event) {\n *     console.log('command pre-execute', event);\n *   });\n * }\n *\n * inherits(CommandLogger, CommandInterceptor);\n *\n */\nexport default function CommandInterceptor(eventBus) {\n  this._eventBus = eventBus;\n}\n\nCommandInterceptor.$inject = [ 'eventBus' ];\n\nfunction unwrapEvent(fn, that) {\n  return function(event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n/**\n * Register an interceptor for a command execution\n *\n * @param {string|Array<string>} [events] list of commands to register on\n * @param {string} [hook] command hook, i.e. preExecute, executed to listen on\n * @param {number} [priority] the priority on which to hook into the execution\n * @param {Function} handlerFn interceptor to be invoked with (event)\n * @param {boolean} unwrap if true, unwrap the event and pass (context, command, event) to the\n *                          listener instead\n * @param {Object} [that] Pass context (`this`) to the handler function\n */\nCommandInterceptor.prototype.on = function(events, hook, priority, handlerFn, unwrap, that) {\n\n  if (isFunction(hook) || isNumber(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n\n  if (isFunction(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (isObject(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n\n  if (!isFunction(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n\n  if (!isArray(events)) {\n    events = [ events ];\n  }\n\n  var eventBus = this._eventBus;\n\n  forEach(events, function(event) {\n\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = [ 'commandStack', event, hook ].filter(function(e) { return e; }).join('.');\n\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n\nvar hooks = [\n  'canExecute',\n  'preExecute',\n  'preExecuted',\n  'execute',\n  'executed',\n  'postExecute',\n  'postExecuted',\n  'revert',\n  'reverted'\n];\n\n/*\n * Install hook shortcuts\n *\n * This will generate the CommandInterceptor#(preExecute|...|reverted) methods\n * which will in term forward to CommandInterceptor#on.\n */\nforEach(hooks, function(hook) {\n\n  /**\n   * {canExecute|preExecute|preExecuted|execute|executed|postExecute|postExecuted|revert|reverted}\n   *\n   * A named hook for plugging into the command execution\n   *\n   * @param {string|Array<string>} [events] list of commands to register on\n   * @param {number} [priority] the priority on which to hook into the execution\n   * @param {Function} handlerFn interceptor to be invoked with (event)\n   * @param {boolean} [unwrap=false] if true, unwrap the event and pass (context, command, event) to the\n   *                          listener instead\n   * @param {Object} [that] Pass context (`this`) to the handler function\n   */\n  CommandInterceptor.prototype[hook] = function(events, priority, handlerFn, unwrap, that) {\n\n    if (isFunction(events) || isNumber(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n});\n","import inherits from 'inherits';\r\n\r\nimport CommandInterceptor from '../../../command/CommandInterceptor';\r\n\r\nimport {\r\n  assign,\r\n  isString\r\n} from 'min-dash';\r\n\r\n\r\n/**\r\n * Integrates resizing with grid snapping.\r\n */\r\nexport default function ResizeBehavior(eventBus, gridSnapping) {\r\n  CommandInterceptor.call(this, eventBus);\r\n\r\n  this._gridSnapping = gridSnapping;\r\n\r\n  var self = this;\r\n\r\n  this.preExecute('shape.resize', function(event) {\r\n    var context = event.context,\r\n        hints = context.hints || {},\r\n        autoResize = hints.autoResize;\r\n\r\n    if (!autoResize) {\r\n      return;\r\n    }\r\n\r\n    var shape = context.shape,\r\n        newBounds = context.newBounds;\r\n\r\n    if (isString(autoResize)) {\r\n      context.newBounds = self.snapComplex(newBounds, autoResize);\r\n    } else {\r\n      context.newBounds = self.snapSimple(shape, newBounds);\r\n    }\r\n  });\r\n}\r\n\r\nResizeBehavior.$inject = [\r\n  'eventBus',\r\n  'gridSnapping',\r\n  'modeling'\r\n];\r\n\r\ninherits(ResizeBehavior, CommandInterceptor);\r\n\r\n/**\r\n * Snap width and height in relation to center.\r\n *\r\n * @param {djs.model.shape} shape\r\n * @param {Bounds} newBounds\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapSimple = function(shape, newBounds) {\r\n  var gridSnapping = this._gridSnapping;\r\n\r\n  newBounds.width = gridSnapping.snapValue(newBounds.width, {\r\n    min: newBounds.width\r\n  });\r\n\r\n  newBounds.height = gridSnapping.snapValue(newBounds.height, {\r\n    min: newBounds.height\r\n  });\r\n\r\n  newBounds.x = shape.x + (shape.width / 2) - (newBounds.width / 2);\r\n  newBounds.y = shape.y + (shape.height / 2) - (newBounds.height / 2);\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap x, y, width and height according to given directions.\r\n *\r\n * @param {Bounds} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapComplex = function(newBounds, directions) {\r\n  if (/w|e/.test(directions)) {\r\n    newBounds = this.snapHorizontally(newBounds, directions);\r\n  }\r\n\r\n  if (/n|s/.test(directions)) {\r\n    newBounds = this.snapVertically(newBounds, directions);\r\n  }\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap in one or both directions horizontally.\r\n *\r\n * @param {Bounds} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapHorizontally = function(newBounds, directions) {\r\n  var gridSnapping = this._gridSnapping,\r\n      west = /w/.test(directions),\r\n      east = /e/.test(directions);\r\n\r\n  var snappedNewBounds = {};\r\n\r\n  snappedNewBounds.width = gridSnapping.snapValue(newBounds.width, {\r\n    min: newBounds.width\r\n  });\r\n\r\n  if (east) {\r\n\r\n    // handle <we>\r\n    if (west) {\r\n      snappedNewBounds.x = gridSnapping.snapValue(newBounds.x, {\r\n        max: newBounds.x\r\n      });\r\n\r\n      snappedNewBounds.width += gridSnapping.snapValue(newBounds.x - snappedNewBounds.x, {\r\n        min: newBounds.x - snappedNewBounds.x\r\n      });\r\n    }\r\n\r\n    // handle <e>\r\n    else {\r\n      newBounds.x = newBounds.x + newBounds.width - snappedNewBounds.width;\r\n    }\r\n  }\r\n\r\n  // assign snapped x and width\r\n  assign(newBounds, snappedNewBounds);\r\n\r\n  return newBounds;\r\n};\r\n\r\n/**\r\n * Snap in one or both directions vertically.\r\n *\r\n * @param {Bounds} newBounds\r\n * @param {string} directions - Directions as {n|w|s|e}.\r\n *\r\n * @returns {Bounds} Snapped bounds.\r\n */\r\nResizeBehavior.prototype.snapVertically = function(newBounds, directions) {\r\n  var gridSnapping = this._gridSnapping,\r\n      north = /n/.test(directions),\r\n      south = /s/.test(directions);\r\n\r\n  var snappedNewBounds = {};\r\n\r\n  snappedNewBounds.height = gridSnapping.snapValue(newBounds.height, {\r\n    min: newBounds.height\r\n  });\r\n\r\n  if (north) {\r\n\r\n    // handle <ns>\r\n    if (south) {\r\n      snappedNewBounds.y = gridSnapping.snapValue(newBounds.y, {\r\n        max: newBounds.y\r\n      });\r\n\r\n      snappedNewBounds.height += gridSnapping.snapValue(newBounds.y - snappedNewBounds.y, {\r\n        min: newBounds.y - snappedNewBounds.y\r\n      });\r\n    }\r\n\r\n    // handle <n>\r\n    else {\r\n      newBounds.y = newBounds.y + newBounds.height - snappedNewBounds.height;\r\n    }\r\n  }\r\n\r\n  // assign snapped y and height\r\n  assign(newBounds, snappedNewBounds);\r\n\r\n  return newBounds;\r\n};","var HIGH_PRIORITY = 2000;\r\n\r\n/**\r\n * Integrates space tool with grid snapping.\r\n */\r\nexport default function SpaceToolBehavior(eventBus, gridSnapping) {\r\n  eventBus.on([\r\n    'spaceTool.move',\r\n    'spaceTool.end'\r\n  ], HIGH_PRIORITY, function(event) {\r\n    var context = event.context;\r\n\r\n    if (!context.initialized) {\r\n      return;\r\n    }\r\n\r\n    var axis = context.axis;\r\n\r\n    var snapped;\r\n\r\n    if (axis === 'x') {\r\n\r\n      // snap delta x to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dx);\r\n\r\n      event.x = event.x + snapped - event.dx;\r\n      event.dx = snapped;\r\n    } else {\r\n\r\n      // snap delta y to multiple of 10\r\n      snapped = gridSnapping.snapValue(event.dy);\r\n\r\n      event.y = event.y + snapped - event.dy;\r\n      event.dy = snapped;\r\n    }\r\n  });\r\n}\r\n\r\nSpaceToolBehavior.$inject = [\r\n  'eventBus',\r\n  'gridSnapping'\r\n];","import ResizeBehavior from './ResizeBehavior';\r\nimport SpaceToolBehavior from './SpaceToolBehavior';\r\n\r\nexport default {\r\n  __init__: [\r\n    'gridSnappingResizeBehavior',\r\n    'gridSnappingSpaceToolBehavior'\r\n  ],\r\n  gridSnappingResizeBehavior: [ 'type', ResizeBehavior ],\r\n  gridSnappingSpaceToolBehavior: [ 'type', SpaceToolBehavior ]\r\n};","import GridSnapping from './GridSnapping';\r\n\r\nimport GridSnappingBehaviorModule from './behavior';\r\n\r\nexport default {\r\n  __depends__: [ GridSnappingBehaviorModule ],\r\n  __init__: [ 'gridSnapping' ],\r\n  gridSnapping: [ 'type', GridSnapping ]\r\n};","import {\n  isFunction\n} from 'min-dash';\n\nimport {\n  event as domEvent,\n  matches as domMatches\n} from 'min-dom';\n\nimport {\n  hasModifier,\n  isCmd,\n  isKey,\n  isShift\n} from './KeyboardUtil';\n\nvar KEYDOWN_EVENT = 'keyboard.keydown',\n    KEYUP_EVENT = 'keyboard.keyup';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming key events\n * and triggering diagram actions.\n *\n * For keys pressed down, keyboard fires `keyboard.keydown` event.\n * The event context contains one field which is `KeyboardEvent` event.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain one field which is node.\n *\n * A default binding for the keyboard may be specified via the\n * `keyboard.bindTo` configuration option.\n *\n * @param {Config} config\n * @param {EventBus} eventBus\n */\nexport default function Keyboard(config, eventBus) {\n  var self = this;\n\n  this._config = config || {};\n  this._eventBus = eventBus;\n\n  this._keydownHandler = this._keydownHandler.bind(this);\n  this._keyupHandler = this._keyupHandler.bind(this);\n\n  // properly clean dom registrations\n  eventBus.on('diagram.destroy', function() {\n    self._fire('destroy');\n\n    self.unbind();\n  });\n\n  eventBus.on('diagram.init', function() {\n    self._fire('init');\n  });\n\n  eventBus.on('attach', function() {\n    if (config && config.bindTo) {\n      self.bind(config.bindTo);\n    }\n  });\n\n  eventBus.on('detach', function() {\n    self.unbind();\n  });\n}\n\nKeyboard.$inject = [\n  'config.keyboard',\n  'eventBus'\n];\n\nKeyboard.prototype._keydownHandler = function(event) {\n  this._keyHandler(event, KEYDOWN_EVENT);\n};\n\nKeyboard.prototype._keyupHandler = function(event) {\n  this._keyHandler(event, KEYUP_EVENT);\n};\n\nKeyboard.prototype._keyHandler = function(event, type) {\n  var target = event.target,\n      eventBusResult;\n\n  if (isInput(target)) {\n    return;\n  }\n\n  var context = {\n    keyEvent: event\n  };\n\n  eventBusResult = this._eventBus.fire(type || KEYDOWN_EVENT, context);\n\n  if (eventBusResult) {\n    event.preventDefault();\n  }\n};\n\nKeyboard.prototype.bind = function(node) {\n\n  // make sure that the keyboard is only bound once to the DOM\n  this.unbind();\n\n  this._node = node;\n\n  // bind key events\n  domEvent.bind(node, 'keydown', this._keydownHandler, true);\n  domEvent.bind(node, 'keyup', this._keyupHandler, true);\n\n  this._fire('bind');\n};\n\nKeyboard.prototype.getBinding = function() {\n  return this._node;\n};\n\nKeyboard.prototype.unbind = function() {\n  var node = this._node;\n\n  if (node) {\n    this._fire('unbind');\n\n    // unbind key events\n    domEvent.unbind(node, 'keydown', this._keydownHandler, true);\n    domEvent.unbind(node, 'keyup', this._keyupHandler, true);\n  }\n\n  this._node = null;\n};\n\nKeyboard.prototype._fire = function(event) {\n  this._eventBus.fire('keyboard.' + event, { node: this._node });\n};\n\n/**\n * Add a listener function that is notified with `KeyboardEvent` whenever\n * the keyboard is bound and the user presses a key. If no priority is\n * provided, the default value of 1000 is used.\n *\n * @param {number} [priority]\n * @param {Function} listener\n * @param {string} type\n */\nKeyboard.prototype.addListener = function(priority, listener, type) {\n  if (isFunction(priority)) {\n    type = listener;\n    listener = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on(type || KEYDOWN_EVENT, priority, listener);\n};\n\nKeyboard.prototype.removeListener = function(listener, type) {\n  this._eventBus.off(type || KEYDOWN_EVENT, listener);\n};\n\nKeyboard.prototype.hasModifier = hasModifier;\nKeyboard.prototype.isCmd = isCmd;\nKeyboard.prototype.isShift = isShift;\nKeyboard.prototype.isKey = isKey;\n\n\n\n// helpers ///////\n\nfunction isInput(target) {\n  return target && (domMatches(target, 'input, textarea') || target.contentEditable === 'true');\n}\n","import {\n  isCmd,\n  isKey,\n  isShift\n} from './KeyboardUtil';\n\nvar LOW_PRIORITY = 500;\n\nexport var KEYCODE_C = 67;\nexport var KEYCODE_V = 86;\nexport var KEYCODE_Y = 89;\nexport var KEYCODE_Z = 90;\n\nexport var KEYS_COPY = ['c', 'C', KEYCODE_C ];\nexport var KEYS_PASTE = [ 'v', 'V', KEYCODE_V ];\nexport var KEYS_REDO = [ 'y', 'Y', KEYCODE_Y ];\nexport var KEYS_UNDO = [ 'z', 'Z', KEYCODE_Z ];\n\n\n/**\n * Adds default keyboard bindings.\n *\n * This does not pull in any features will bind only actions that\n * have previously been registered against the editorActions component.\n *\n * @param {EventBus} eventBus\n * @param {Keyboard} keyboard\n */\nexport default function KeyboardBindings(eventBus, keyboard) {\n\n  var self = this;\n\n  eventBus.on('editorActions.init', LOW_PRIORITY, function(event) {\n\n    var editorActions = event.editorActions;\n\n    self.registerBindings(keyboard, editorActions);\n  });\n}\n\nKeyboardBindings.$inject = [\n  'eventBus',\n  'keyboard'\n];\n\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nKeyboardBindings.prototype.registerBindings = function(keyboard, editorActions) {\n\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n\n  // undo\n  // (CTRL|CMD) + Z\n  addListener('undo', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && !isShift(event) && isKey(KEYS_UNDO, event)) {\n      editorActions.trigger('undo');\n\n      return true;\n    }\n  });\n\n  // redo\n  // CTRL + Y\n  // CMD + SHIFT + Z\n  addListener('redo', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && (isKey(KEYS_REDO, event) || (isKey(KEYS_UNDO, event) && isShift(event)))) {\n      editorActions.trigger('redo');\n\n      return true;\n    }\n  });\n\n  // copy\n  // CTRL/CMD + C\n  addListener('copy', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && isKey(KEYS_COPY, event)) {\n      editorActions.trigger('copy');\n\n      return true;\n    }\n  });\n\n  // paste\n  // CTRL/CMD + V\n  addListener('paste', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCmd(event) && isKey(KEYS_PASTE, event)) {\n      editorActions.trigger('paste');\n\n      return true;\n    }\n  });\n\n  // zoom in one step\n  // CTRL/CMD + +\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey([ '+', 'Add' ], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // zoom out one step\n  // CTRL + -\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey([ '-', 'Subtract' ], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', { value: -1 });\n\n      return true;\n    }\n  });\n\n  // zoom to the default level\n  // CTRL + 0\n  addListener('zoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey('0', event) && isCmd(event)) {\n      editorActions.trigger('zoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // delete selected element\n  // DEL\n  addListener('removeSelection', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey(['Backspace', 'Delete', 'Del' ], event)) {\n      editorActions.trigger('removeSelection');\n\n      return true;\n    }\n  });\n};","import Keyboard from './Keyboard';\nimport KeyboardBindings from './KeyboardBindings';\n\nexport default {\n  __init__: [ 'keyboard', 'keyboardBindings' ],\n  keyboard: [ 'type', Keyboard ],\n  keyboardBindings: [ 'type', KeyboardBindings ]\n};\n","import inherits from 'inherits';\n\nimport KeyboardBindings from 'diagram-js/lib/features/keyboard/KeyboardBindings';\n\n\n/**\n * DRD specific key bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nexport default function DrdKeyboardBindings(injector) {\n  injector.invoke(KeyboardBindings, this);\n}\n\ninherits(DrdKeyboardBindings, KeyboardBindings);\n\nDrdKeyboardBindings.$inject = [\n  'injector'\n];\n\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nDrdKeyboardBindings.prototype.registerBindings = function(keyboard, editorActions) {\n\n  // inherit default bindings\n  KeyboardBindings.prototype.registerBindings.call(this, keyboard, editorActions);\n\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n  // select all elements\n  // CTRL + A\n  addListener('selectElements', function(context) {\n\n    var event = context.keyEvent;\n\n    if (keyboard.isKey(['a', 'A'], event) && keyboard.isCmd(event)) {\n      editorActions.trigger('selectElements');\n\n      return true;\n    }\n  });\n\n  // activate lasso tool\n  // L\n  addListener('lassoTool', function(context) {\n\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey(['l', 'L'], event)) {\n      editorActions.trigger('lassoTool');\n\n      return true;\n    }\n  });\n\n  // activate direct editing\n  // E\n  addListener('directEditing', function(context) {\n\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey(['e', 'E'], event)) {\n      editorActions.trigger('directEditing');\n\n      return true;\n    }\n  });\n\n};","import KeyboardModule from 'diagram-js/lib/features/keyboard';\n\nimport DrdKeyboardBindings from './DrdKeyboardBindings';\n\nexport default {\n  __depends__: [\n    KeyboardModule\n  ],\n  __init__: [ 'keyboardBindings' ],\n  keyboardBindings: [ 'type', DrdKeyboardBindings ]\n};\n","import { assign } from 'min-dash';\n\n\nvar DEFAULT_CONFIG = {\n  moveSpeed: 50,\n  moveSpeedAccelerated: 200\n};\n\n\n/**\n * A feature that allows users to move the canvas using the keyboard.\n *\n * @param {Object} config\n * @param {number} [config.moveSpeed=50]\n * @param {number} [config.moveSpeedAccelerated=200]\n * @param {Keyboard} keyboard\n * @param {Canvas} canvas\n */\nexport default function KeyboardMove(\n    config,\n    keyboard,\n    canvas\n) {\n\n  var self = this;\n\n  this._config = assign({}, DEFAULT_CONFIG, config || {});\n\n  keyboard.addListener(arrowsListener);\n\n\n  function arrowsListener(context) {\n\n    var event = context.keyEvent,\n        config = self._config;\n\n    if (!keyboard.isCmd(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([\n      'ArrowLeft', 'Left',\n      'ArrowUp', 'Up',\n      'ArrowDown', 'Down',\n      'ArrowRight', 'Right'\n    ], event)) {\n\n      var speed = (\n        keyboard.isShift(event) ?\n          config.moveSpeedAccelerated :\n          config.moveSpeed\n      );\n\n      var direction;\n\n      switch (event.key) {\n      case 'ArrowLeft':\n      case 'Left':\n        direction = 'left';\n        break;\n      case 'ArrowUp':\n      case 'Up':\n        direction = 'up';\n        break;\n      case 'ArrowRight':\n      case 'Right':\n        direction = 'right';\n        break;\n      case 'ArrowDown':\n      case 'Down':\n        direction = 'down';\n        break;\n      }\n\n      self.moveCanvas({\n        speed: speed,\n        direction: direction\n      });\n\n      return true;\n    }\n  }\n\n  this.moveCanvas = function(opts) {\n\n    var dx = 0,\n        dy = 0,\n        speed = opts.speed;\n\n    var actualSpeed = speed / Math.min(Math.sqrt(canvas.viewbox().scale), 1);\n\n    switch (opts.direction) {\n    case 'left': // Left\n      dx = actualSpeed;\n      break;\n    case 'up': // Up\n      dy = actualSpeed;\n      break;\n    case 'right': // Right\n      dx = -actualSpeed;\n      break;\n    case 'down': // Down\n      dy = -actualSpeed;\n      break;\n    }\n\n    canvas.scroll({\n      dx: dx,\n      dy: dy\n    });\n  };\n\n}\n\n\nKeyboardMove.$inject = [\n  'config.keyboardMove',\n  'keyboard',\n  'canvas'\n];\n","import KeyboardModule from '../../features/keyboard';\n\nimport KeyboardMove from './KeyboardMove';\n\n\nexport default {\n  __depends__: [\n    KeyboardModule\n  ],\n  __init__: [ 'keyboardMove' ],\n  keyboardMove: [ 'type', KeyboardMove ]\n};","import {\n  assign\n} from 'min-dash';\n\n\nvar DEFAULT_CONFIG = {\n  moveSpeed: 1,\n  moveSpeedAccelerated: 10\n};\n\nvar HIGHER_PRIORITY = 1500;\n\nvar LEFT = 'left';\nvar UP = 'up';\nvar RIGHT = 'right';\nvar DOWN = 'down';\n\nvar KEY_TO_DIRECTION = {\n  ArrowLeft: LEFT,\n  Left: LEFT,\n  ArrowUp: UP,\n  Up: UP,\n  ArrowRight: RIGHT,\n  Right: RIGHT,\n  ArrowDown: DOWN,\n  Down: DOWN\n};\n\nvar DIRECTIONS_DELTA = {\n  left: function(speed) {\n    return {\n      x: -speed,\n      y: 0\n    };\n  },\n  up: function(speed) {\n    return {\n      x: 0,\n      y: -speed\n    };\n  },\n  right: function(speed) {\n    return {\n      x: speed,\n      y: 0\n    };\n  },\n  down: function(speed) {\n    return {\n      x: 0,\n      y: speed\n    };\n  }\n};\n\n\n/**\n * Enables to move selection with keyboard arrows.\n * Use with Shift for modified speed (default=1, with Shift=10).\n * Pressed Cmd/Ctrl turns the feature off.\n *\n * @param {Object} config\n * @param {number} [config.moveSpeed=1]\n * @param {number} [config.moveSpeedAccelerated=10]\n * @param {Keyboard} keyboard\n * @param {Modeling} modeling\n * @param {Selection} selection\n */\nexport default function KeyboardMoveSelection(\n    config,\n    keyboard,\n    modeling,\n    rules,\n    selection\n) {\n\n  var self = this;\n\n  this._config = assign({}, DEFAULT_CONFIG, config || {});\n\n  keyboard.addListener(HIGHER_PRIORITY, function(event) {\n\n    var keyEvent = event.keyEvent;\n\n    var direction = KEY_TO_DIRECTION[keyEvent.key];\n\n    if (!direction) {\n      return;\n    }\n\n    if (keyboard.isCmd(keyEvent)) {\n      return;\n    }\n\n    var accelerated = keyboard.isShift(keyEvent);\n\n    self.moveSelection(direction, accelerated);\n\n    return true;\n  });\n\n\n  /**\n   * Move selected elements in the given direction,\n   * optionally specifying accelerated movement.\n   *\n   * @param {string} direction\n   * @param {boolean} [accelerated=false]\n   */\n  this.moveSelection = function(direction, accelerated) {\n\n    var selectedElements = selection.get();\n\n    if (!selectedElements.length) {\n      return;\n    }\n\n    var speed = this._config[\n      accelerated ?\n        'moveSpeedAccelerated' :\n        'moveSpeed'\n    ];\n\n    var delta = DIRECTIONS_DELTA[direction](speed);\n\n    var canMove = rules.allowed('elements.move', {\n      shapes: selectedElements\n    });\n\n    if (canMove) {\n      modeling.moveElements(selectedElements, delta);\n    }\n  };\n\n}\n\nKeyboardMoveSelection.$inject = [\n  'config.keyboardMoveSelection',\n  'keyboard',\n  'modeling',\n  'rules',\n  'selection'\n];","import KeyboardModule from '../keyboard';\nimport SelectionModule from '../selection';\n\nimport KeyboardMoveSelection from './KeyboardMoveSelection';\n\nexport default {\n  __depends__: [\n    KeyboardModule,\n    SelectionModule\n  ],\n  __init__: [\n    'keyboardMoveSelection'\n  ],\n  keyboardMoveSelection: [ 'type', KeyboardMoveSelection ]\n};\n","import {\n  uniqueBy,\n  isArray\n} from 'min-dash';\n\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute` and `postExecute` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function CommandStack(eventBus, injector) {\n\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {Object}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {Array<Object>}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {Object}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: []\n  };\n\n\n  this._injector = injector;\n  this._eventBus = eventBus;\n\n  this._uid = 1;\n\n  eventBus.on([\n    'diagram.destroy',\n    'diagram.clear'\n  ], function() {\n    this.clear(false);\n  }, this);\n}\n\nCommandStack.$inject = [ 'eventBus', 'injector' ];\n\n\n/**\n * Execute a command\n *\n * @param {string} command the command to execute\n * @param {Object} context the environment to execute the command in\n */\nCommandStack.prototype.execute = function(command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  var action = { command: command, context: context };\n\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction(action);\n};\n\n\n/**\n * Ask whether a given command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param  {string} command the command to execute\n * @param  {Object} context the environment to execute the command in\n *\n * @return {boolean} true if the command can be executed\n */\nCommandStack.prototype.canExecute = function(command, context) {\n\n  var action = { command: command, context: context };\n\n  var handler = this._getHandler(command);\n\n  var result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Clear the command stack, erasing all undo / redo history\n */\nCommandStack.prototype.clear = function(emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed');\n  }\n};\n\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function() {\n  var action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function() {\n  var action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Register a handler instance with the command stack\n *\n * @param {string} command\n * @param {CommandHandler} handler\n */\nCommandStack.prototype.register = function(command, handler) {\n  this._setHandler(command, handler);\n};\n\n\n/**\n * Register a handler type with the command stack\n * by instantiating it and injecting its dependencies.\n *\n * @param {string} command\n * @param {Function} a constructor for a {@link CommandHandler}\n */\nCommandStack.prototype.registerHandler = function(command, handlerCls) {\n\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  var handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\nCommandStack.prototype.canUndo = function() {\n  return !!this._getUndoAction();\n};\n\nCommandStack.prototype.canRedo = function() {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function() {\n  return this._stack[this._stackIdx + 1];\n};\n\n\nCommandStack.prototype._getUndoAction = function() {\n  return this._stack[this._stackIdx];\n};\n\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function(action) {\n  var self = this;\n\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(function() {\n    self._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      self._markDirty(handler.revert(context));\n    }\n\n    self._revertedAction(action);\n\n    self._fire(command, 'reverted', action);\n  });\n};\n\n\nCommandStack.prototype._fire = function(command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  var names = qualifier ? [ command + '.' + qualifier, qualifier ] : [ command ],\n      i, name, result;\n\n  event = this._eventBus.createEvent(event);\n\n  for (i = 0; (name = names[i]); i++) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function() {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function(fn) {\n\n  var execution = this._currentExecution;\n\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function(action, redo) {\n  var self = this;\n\n  var command = action.command,\n      context = action.context;\n\n  var handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(function() {\n\n    self._fire(command, 'execute', action);\n\n    if (handler.execute) {\n\n      // actual execute + mark return results as dirty\n      self._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    self._executedAction(action, redo);\n\n    self._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction(action);\n};\n\n\nCommandStack.prototype._pushAction = function(action) {\n\n  var execution = this._currentExecution,\n      actions = execution.actions;\n\n  var baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = (baseAction && baseAction.id) || this._createId();\n  }\n\n  actions.push(action);\n};\n\n\nCommandStack.prototype._popAction = function() {\n  var execution = this._currentExecution,\n      actions = execution.actions,\n      dirty = execution.dirty;\n\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', { elements: uniqueBy('id', dirty.reverse()) });\n\n    dirty.length = 0;\n\n    this._fire('changed');\n  }\n};\n\n\nCommandStack.prototype._markDirty = function(elements) {\n  var execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = isArray(elements) ? elements : [ elements ];\n\n  execution.dirty = execution.dirty.concat(elements);\n};\n\n\nCommandStack.prototype._executedAction = function(action, redo) {\n  var stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\n\nCommandStack.prototype._revertedAction = function(action) {\n  this._stackIdx--;\n};\n\n\nCommandStack.prototype._getHandler = function(command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function(command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n","import CommandStack from './CommandStack';\n\nexport default {\n  commandStack: [ 'type', CommandStack ]\n};\n","import {\n  getType as getElementType\n} from '../../util/Elements';\n\n/**\n * Adds change support to the diagram, including\n *\n * <ul>\n *   <li>redrawing shapes and connections on change</li>\n * </ul>\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {ElementRegistry} elementRegistry\n * @param {GraphicsFactory} graphicsFactory\n */\nexport default function ChangeSupport(\n    eventBus, canvas, elementRegistry,\n    graphicsFactory) {\n\n\n  // redraw shapes / connections on change\n\n  eventBus.on('element.changed', function(event) {\n\n    var element = event.element;\n\n    // element might have been deleted and replaced by new element with same ID\n    // thus check for parent of element except for root element\n    if (element.parent || element === canvas.getRootElement()) {\n      event.gfx = elementRegistry.getGraphics(element);\n    }\n\n    // shape + gfx may have been deleted\n    if (!event.gfx) {\n      return;\n    }\n\n    eventBus.fire(getElementType(element) + '.changed', event);\n  });\n\n  eventBus.on('elements.changed', function(event) {\n\n    var elements = event.elements;\n\n    elements.forEach(function(e) {\n      eventBus.fire('element.changed', { element: e });\n    });\n\n    graphicsFactory.updateContainments(elements);\n  });\n\n  eventBus.on('shape.changed', function(event) {\n    graphicsFactory.update('shape', event.element, event.gfx);\n  });\n\n  eventBus.on('connection.changed', function(event) {\n    graphicsFactory.update('connection', event.element, event.gfx);\n  });\n}\n\nChangeSupport.$inject = [\n  'eventBus',\n  'canvas',\n  'elementRegistry',\n  'graphicsFactory'\n];","import ChangeSupport from './ChangeSupport';\n\nexport default {\n  __init__: [ 'changeSupport'],\n  changeSupport: [ 'type', ChangeSupport ]\n};","import {\n  assign,\n  bind,\n  pick\n} from 'min-dash';\n\nimport {\n  domify,\n  query as domQuery,\n  event as domEvent,\n  remove as domRemove\n} from 'min-dom';\n\nvar min = Math.min,\n    max = Math.max;\n\nfunction preventDefault(e) {\n  e.preventDefault();\n}\n\nfunction stopPropagation(e) {\n  e.stopPropagation();\n}\n\nfunction isTextNode(node) {\n  return node.nodeType === Node.TEXT_NODE;\n}\n\nfunction toArray(nodeList) {\n  return [].slice.call(nodeList);\n}\n\n/**\n * Initializes a container for a content editable div.\n *\n * Structure:\n *\n * container\n *   parent\n *     content\n *     resize-handle\n *\n * @param {object} options\n * @param {DOMElement} options.container The DOM element to append the contentContainer to\n * @param {Function} options.keyHandler Handler for key events\n * @param {Function} options.resizeHandler Handler for resize events\n */\nexport default function TextBox(options) {\n  this.container = options.container;\n\n  this.parent = domify(\n    '<div class=\"djs-direct-editing-parent\">' +\n      '<div class=\"djs-direct-editing-content\" contenteditable=\"true\"></div>' +\n    '</div>'\n  );\n\n  this.content = domQuery('[contenteditable]', this.parent);\n\n  this.keyHandler = options.keyHandler || function() {};\n  this.resizeHandler = options.resizeHandler || function() {};\n\n  this.autoResize = bind(this.autoResize, this);\n  this.handlePaste = bind(this.handlePaste, this);\n}\n\n\n/**\n * Create a text box with the given position, size, style and text content\n *\n * @param {Object} bounds\n * @param {Number} bounds.x absolute x position\n * @param {Number} bounds.y absolute y position\n * @param {Number} [bounds.width] fixed width value\n * @param {Number} [bounds.height] fixed height value\n * @param {Number} [bounds.maxWidth] maximum width value\n * @param {Number} [bounds.maxHeight] maximum height value\n * @param {Number} [bounds.minWidth] minimum width value\n * @param {Number} [bounds.minHeight] minimum height value\n * @param {Object} [style]\n * @param {String} value text content\n *\n * @return {DOMElement} The created content DOM element\n */\nTextBox.prototype.create = function(bounds, style, value, options) {\n  var self = this;\n\n  var parent = this.parent,\n      content = this.content,\n      container = this.container;\n\n  options = this.options = options || {};\n\n  style = this.style = style || {};\n\n  var parentStyle = pick(style, [\n    'width',\n    'height',\n    'maxWidth',\n    'maxHeight',\n    'minWidth',\n    'minHeight',\n    'left',\n    'top',\n    'backgroundColor',\n    'position',\n    'overflow',\n    'border',\n    'wordWrap',\n    'textAlign',\n    'outline',\n    'transform'\n  ]);\n\n  assign(parent.style, {\n    width: bounds.width + 'px',\n    height: bounds.height + 'px',\n    maxWidth: bounds.maxWidth + 'px',\n    maxHeight: bounds.maxHeight + 'px',\n    minWidth: bounds.minWidth + 'px',\n    minHeight: bounds.minHeight + 'px',\n    left: bounds.x + 'px',\n    top: bounds.y + 'px',\n    backgroundColor: '#ffffff',\n    position: 'absolute',\n    overflow: 'visible',\n    border: '1px solid #ccc',\n    boxSizing: 'border-box',\n    wordWrap: 'normal',\n    textAlign: 'center',\n    outline: 'none'\n  }, parentStyle);\n\n  var contentStyle = pick(style, [\n    'fontFamily',\n    'fontSize',\n    'fontWeight',\n    'lineHeight',\n    'padding',\n    'paddingTop',\n    'paddingRight',\n    'paddingBottom',\n    'paddingLeft'\n  ]);\n\n  assign(content.style, {\n    boxSizing: 'border-box',\n    width: '100%',\n    outline: 'none',\n    wordWrap: 'break-word'\n  }, contentStyle);\n\n  if (options.centerVertically) {\n    assign(content.style, {\n      position: 'absolute',\n      top: '50%',\n      transform: 'translate(0, -50%)'\n    }, contentStyle);\n  }\n\n  content.innerText = value;\n\n  domEvent.bind(content, 'keydown', this.keyHandler);\n  domEvent.bind(content, 'mousedown', stopPropagation);\n  domEvent.bind(content, 'paste', self.handlePaste);\n\n  if (options.autoResize) {\n    domEvent.bind(content, 'input', this.autoResize);\n  }\n\n  if (options.resizable) {\n    this.resizable(style);\n  }\n\n  container.appendChild(parent);\n\n  // set selection to end of text\n  this.setSelection(content.lastChild, content.lastChild && content.lastChild.length);\n\n  return parent;\n};\n\n/**\n * Intercept paste events to remove formatting from pasted text.\n */\nTextBox.prototype.handlePaste = function(e) {\n  var options = this.options,\n      style = this.style;\n\n  e.preventDefault();\n\n  var text;\n\n  if (e.clipboardData) {\n\n    // Chrome, Firefox, Safari\n    text = e.clipboardData.getData('text/plain');\n  } else {\n\n    // Internet Explorer\n    text = window.clipboardData.getData('Text');\n  }\n\n  this.insertText(text);\n\n  if (options.autoResize) {\n    var hasResized = this.autoResize(style);\n\n    if (hasResized) {\n      this.resizeHandler(hasResized);\n    }\n  }\n};\n\nTextBox.prototype.insertText = function(text) {\n\n  // insertText command not supported by Internet Explorer\n  var success = document.execCommand('insertText', false, text);\n\n  if (success) {\n    return;\n  }\n\n  this._insertTextIE(text);\n};\n\nTextBox.prototype._insertTextIE = function(text) {\n\n  // Internet Explorer\n  var range = this.getSelection(),\n      startContainer = range.startContainer,\n      endContainer = range.endContainer,\n      startOffset = range.startOffset,\n      endOffset = range.endOffset,\n      commonAncestorContainer = range.commonAncestorContainer;\n\n  var childNodesArray = toArray(commonAncestorContainer.childNodes);\n\n  var container,\n      offset;\n\n  if (isTextNode(commonAncestorContainer)) {\n    var containerTextContent = startContainer.textContent;\n\n    startContainer.textContent =\n      containerTextContent.substring(0, startOffset)\n      + text\n      + containerTextContent.substring(endOffset);\n\n    container = startContainer;\n    offset = startOffset + text.length;\n\n  } else if (startContainer === this.content && endContainer === this.content) {\n    var textNode = document.createTextNode(text);\n\n    this.content.insertBefore(textNode, childNodesArray[startOffset]);\n\n    container = textNode;\n    offset = textNode.textContent.length;\n  } else {\n    var startContainerChildIndex = childNodesArray.indexOf(startContainer),\n        endContainerChildIndex = childNodesArray.indexOf(endContainer);\n\n    childNodesArray.forEach(function(childNode, index) {\n\n      if (index === startContainerChildIndex) {\n        childNode.textContent =\n          startContainer.textContent.substring(0, startOffset) +\n          text +\n          endContainer.textContent.substring(endOffset);\n      } else if (index > startContainerChildIndex && index <= endContainerChildIndex) {\n        domRemove(childNode);\n      }\n    });\n\n    container = startContainer;\n    offset = startOffset + text.length;\n  }\n\n  if (container && offset !== undefined) {\n\n    // is necessary in Internet Explorer\n    setTimeout(function() {\n      self.setSelection(container, offset);\n    });\n  }\n};\n\n/**\n * Automatically resize element vertically to fit its content.\n */\nTextBox.prototype.autoResize = function() {\n  var parent = this.parent,\n      content = this.content;\n\n  var fontSize = parseInt(this.style.fontSize) || 12;\n\n  if (content.scrollHeight > parent.offsetHeight ||\n      content.scrollHeight < parent.offsetHeight - fontSize) {\n    var bounds = parent.getBoundingClientRect();\n\n    var height = content.scrollHeight;\n    parent.style.height = height + 'px';\n\n    this.resizeHandler({\n      width: bounds.width,\n      height: bounds.height,\n      dx: 0,\n      dy: height - bounds.height\n    });\n  }\n};\n\n/**\n * Make an element resizable by adding a resize handle.\n */\nTextBox.prototype.resizable = function() {\n  var self = this;\n\n  var parent = this.parent,\n      resizeHandle = this.resizeHandle;\n\n  var minWidth = parseInt(this.style.minWidth) || 0,\n      minHeight = parseInt(this.style.minHeight) || 0,\n      maxWidth = parseInt(this.style.maxWidth) || Infinity,\n      maxHeight = parseInt(this.style.maxHeight) || Infinity;\n\n  if (!resizeHandle) {\n    resizeHandle = this.resizeHandle = domify(\n      '<div class=\"djs-direct-editing-resize-handle\"></div>'\n    );\n\n    var startX, startY, startWidth, startHeight;\n\n    var onMouseDown = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      startX = e.clientX;\n      startY = e.clientY;\n\n      var bounds = parent.getBoundingClientRect();\n\n      startWidth = bounds.width;\n      startHeight = bounds.height;\n\n      domEvent.bind(document, 'mousemove', onMouseMove);\n      domEvent.bind(document, 'mouseup', onMouseUp);\n    };\n\n    var onMouseMove = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      var newWidth = min(max(startWidth + e.clientX - startX, minWidth), maxWidth);\n      var newHeight = min(max(startHeight + e.clientY - startY, minHeight), maxHeight);\n\n      parent.style.width = newWidth + 'px';\n      parent.style.height = newHeight + 'px';\n\n      self.resizeHandler({\n        width: startWidth,\n        height: startHeight,\n        dx: e.clientX - startX,\n        dy: e.clientY - startY\n      });\n    };\n\n    var onMouseUp = function(e) {\n      preventDefault(e);\n      stopPropagation(e);\n\n      domEvent.unbind(document,'mousemove', onMouseMove, false);\n      domEvent.unbind(document, 'mouseup', onMouseUp, false);\n    };\n\n    domEvent.bind(resizeHandle, 'mousedown', onMouseDown);\n  }\n\n  assign(resizeHandle.style, {\n    position: 'absolute',\n    bottom: '0px',\n    right: '0px',\n    cursor: 'nwse-resize',\n    width: '0',\n    height: '0',\n    borderTop: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent',\n    borderRight: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderBottom: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid #ccc',\n    borderLeft: (parseInt(this.style.fontSize) / 4 || 3) + 'px solid transparent'\n  });\n\n  parent.appendChild(resizeHandle);\n};\n\n\n/**\n * Clear content and style of the textbox, unbind listeners and\n * reset CSS style.\n */\nTextBox.prototype.destroy = function() {\n  var parent = this.parent,\n      content = this.content,\n      resizeHandle = this.resizeHandle;\n\n  // clear content\n  content.innerText = '';\n\n  // clear styles\n  parent.removeAttribute('style');\n  content.removeAttribute('style');\n\n  domEvent.unbind(content, 'keydown', this.keyHandler);\n  domEvent.unbind(content, 'mousedown', stopPropagation);\n  domEvent.unbind(content, 'input', this.autoResize);\n  domEvent.unbind(content, 'paste', this.handlePaste);\n\n  if (resizeHandle) {\n    resizeHandle.removeAttribute('style');\n\n    domRemove(resizeHandle);\n  }\n\n  domRemove(parent);\n};\n\n\nTextBox.prototype.getValue = function() {\n  return this.content.innerText.trim();\n};\n\n\nTextBox.prototype.getSelection = function() {\n  var selection = window.getSelection(),\n      range = selection.getRangeAt(0);\n\n  return range;\n};\n\n\nTextBox.prototype.setSelection = function(container, offset) {\n  var range = document.createRange();\n\n  if (container === null) {\n    range.selectNodeContents(this.content);\n  } else {\n    range.setStart(container, offset);\n    range.setEnd(container, offset);\n  }\n\n  var selection = window.getSelection();\n\n  selection.removeAllRanges();\n  selection.addRange(range);\n};\n","import {\n  bind,\n  find\n} from 'min-dash';\n\nimport TextBox from './TextBox';\n\n\n/**\n * A direct editing component that allows users\n * to edit an elements text directly in the diagram\n *\n * @param {EventBus} eventBus the event bus\n */\nexport default function DirectEditing(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n\n  this._providers = [];\n  this._textbox = new TextBox({\n    container: canvas.getContainer(),\n    keyHandler: bind(this._handleKey, this),\n    resizeHandler: bind(this._handleResize, this)\n  });\n}\n\nDirectEditing.$inject = [ 'eventBus', 'canvas' ];\n\n\n/**\n * Register a direct editing provider\n\n * @param {Object} provider the provider, must expose an #activate(element) method that returns\n *                          an activation context ({ bounds: {x, y, width, height }, text }) if\n *                          direct editing is available for the given element.\n *                          Additionally the provider must expose a #update(element, value) method\n *                          to receive direct editing updates.\n */\nDirectEditing.prototype.registerProvider = function(provider) {\n  this._providers.push(provider);\n};\n\n\n/**\n * Returns true if direct editing is currently active\n *\n * @return {Boolean}\n */\nDirectEditing.prototype.isActive = function() {\n  return !!this._active;\n};\n\n\n/**\n * Cancel direct editing, if it is currently active\n */\nDirectEditing.prototype.cancel = function() {\n  if (!this._active) {\n    return;\n  }\n\n  this._fire('cancel');\n  this.close();\n};\n\n\nDirectEditing.prototype._fire = function(event, context) {\n  this._eventBus.fire('directEditing.' + event, context || { active: this._active });\n};\n\nDirectEditing.prototype.close = function() {\n  this._textbox.destroy();\n\n  this._fire('deactivate');\n\n  this._active = null;\n\n  this.resizable = undefined;\n};\n\n\nDirectEditing.prototype.complete = function() {\n\n  var active = this._active;\n\n  if (!active) {\n    return;\n  }\n\n  var containerBounds,\n      previousBounds = active.context.bounds,\n      newBounds = this.$textbox.getBoundingClientRect(),\n      newText = this.getValue(),\n      previousText = active.context.text;\n\n  if (\n    newText !== previousText ||\n    newBounds.height !== previousBounds.height ||\n    newBounds.width !== previousBounds.width\n  ) {\n    containerBounds = this._textbox.container.getBoundingClientRect();\n\n    active.provider.update(active.element, newText, active.context.text, {\n      x: newBounds.left - containerBounds.left,\n      y: newBounds.top - containerBounds.top,\n      width: newBounds.width,\n      height: newBounds.height\n    });\n  }\n\n  this._fire('complete');\n\n  this.close();\n};\n\n\nDirectEditing.prototype.getValue = function() {\n  return this._textbox.getValue();\n};\n\n\nDirectEditing.prototype._handleKey = function(e) {\n\n  // stop bubble\n  e.stopPropagation();\n\n  var key = e.keyCode || e.charCode;\n\n  // ESC\n  if (key === 27) {\n    e.preventDefault();\n    return this.cancel();\n  }\n\n  // Enter\n  if (key === 13 && !e.shiftKey) {\n    e.preventDefault();\n    return this.complete();\n  }\n};\n\n\nDirectEditing.prototype._handleResize = function(event) {\n  this._fire('resize', event);\n};\n\n\n/**\n * Activate direct editing on the given element\n *\n * @param {Object} ElementDescriptor the descriptor for a shape or connection\n * @return {Boolean} true if the activation was possible\n */\nDirectEditing.prototype.activate = function(element) {\n  if (this.isActive()) {\n    this.cancel();\n  }\n\n  // the direct editing context\n  var context;\n\n  var provider = find(this._providers, function(p) {\n    return (context = p.activate(element)) ? p : null;\n  });\n\n  // check if activation took place\n  if (context) {\n    this.$textbox = this._textbox.create(\n      context.bounds,\n      context.style,\n      context.text,\n      context.options\n    );\n\n    this._active = {\n      element: element,\n      context: context,\n      provider: provider\n    };\n\n    if (context.options && context.options.resizable) {\n      this.resizable = true;\n    }\n\n    this._fire('activate');\n  }\n\n  return !!context;\n};\n","import InteractionEventsModule from 'diagram-js/lib/features/interaction-events';\n\nimport DirectEditing from './lib/DirectEditing';\n\nexport default {\n  __depends__: [\n    InteractionEventsModule\n  ],\n  __init__: [ 'directEditing' ],\n  directEditing: [ 'type', DirectEditing ]\n};","import {\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nfunction getLabelAttr(semantic) {\n  if (is(semantic, 'dmn:Decision') ||\n      is(semantic, 'dmn:BusinessKnowledgeModel') ||\n      is(semantic, 'dmn:InputData') ||\n      is(semantic, 'dmn:KnowledgeSource')) {\n\n    return 'name';\n  }\n\n  if (is(semantic, 'dmn:TextAnnotation')) {\n    return 'text';\n  }\n}\n\nexport function getLabel(element) {\n  var semantic = element.businessObject,\n      attr = getLabelAttr(semantic);\n\n  if (attr) {\n    return semantic[attr] || '';\n  }\n}\n\n\nexport function setLabel(element, text, isExternal) {\n  var semantic = element.businessObject,\n      attr = getLabelAttr(semantic);\n\n  if (attr) {\n    semantic[attr] = text;\n  }\n\n  // show external label if not empty\n  if (isExternal) {\n    element.hidden = !text;\n  }\n\n  return element;\n}","import { getLabel } from './LabelUtil';\n\nimport {\n  is\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport {\n  assign,\n  isDefined\n} from 'min-dash';\n\n\nexport default function LabelEditingProvider(\n    canvas,\n    directEditing,\n    eventBus,\n    modeling,\n    textRenderer\n) {\n\n  this._canvas = canvas;\n  this._modeling = modeling;\n  this._textRenderer = textRenderer;\n\n  directEditing.registerProvider(this);\n\n  // listen to dblclick on non-root elements\n  eventBus.on('element.dblclick', function(event) {\n    directEditing.activate(event.element);\n  });\n\n  // complete on followup canvas operation\n  eventBus.on([\n    'autoPlace.start',\n    'canvas.viewbox.changing',\n    'drag.init',\n    'drillDown.click',\n    'element.mousedown',\n    'popupMenu.open'\n  ], function() {\n    directEditing.complete();\n  });\n\n  // cancel on command stack changes\n  eventBus.on([ 'commandStack.changed' ], function() {\n    directEditing.cancel();\n  });\n\n  eventBus.on('create.end', 500, function(e) {\n\n    var element = e.shape;\n\n    if (\n      is(element, 'dmn:Decision') ||\n      is(element, 'dmn:InputData') ||\n      is(element, 'dmn:BusinessKnowledgeModel') ||\n      is(element, 'dmn:KnowledgeSource') ||\n      is(element, 'dmn:TextAnnotation')\n    ) {\n      directEditing.activate(element);\n    }\n  });\n\n  eventBus.on('autoPlace.end', 500, function(event) {\n    directEditing.activate(event.shape);\n  });\n}\n\nLabelEditingProvider.$inject = [\n  'canvas',\n  'directEditing',\n  'eventBus',\n  'modeling',\n  'textRenderer'\n];\n\n\n/**\n * Activate direct editing for drgs and text annotations.\n *\n * @param  {djs.model.Base} element\n *\n * @return {Object} an object with properties bounds (position and size) and text\n */\nLabelEditingProvider.prototype.activate = function(element) {\n\n  var text = getLabel(element);\n\n  if (!isDefined(text)) {\n    return;\n  }\n\n  var context = {\n    text: text\n  };\n\n  var editingBBox = this.getEditingBBox(element);\n\n  assign(context, editingBBox);\n\n  var options = {};\n\n  // DRG elements\n  if (is(element, 'dmn:DRGElement')) {\n    assign(options, {\n      centerVertically: true\n    });\n  }\n\n  // text annotations\n  if (is(element, 'dmn:TextAnnotation')) {\n    assign(options, {\n      resizable: true\n    });\n  }\n\n  assign(context, {\n    options: options\n  });\n\n  return context;\n};\n\n\n/**\n * Get the editing bounding box based on the element's size and position\n *\n * @param  {djs.model.Base} element\n *\n * @return {Object}\n *         an object containing information about position and\n *         size (fixed or minimum and/or maximum)\n */\nLabelEditingProvider.prototype.getEditingBBox = function(element) {\n  var canvas = this._canvas;\n\n  var target = element.label || element;\n\n  var bbox = canvas.getAbsoluteBBox(target);\n\n  // default position\n  var bounds = { x: bbox.x, y: bbox.y };\n\n  var zoom = canvas.zoom();\n\n  var defaultStyle = this._textRenderer.getDefaultStyle();\n\n  // take zoom into account\n  var defaultFontSize = defaultStyle.fontSize * zoom,\n      defaultLineHeight = defaultStyle.lineHeight;\n\n  var style = {\n    fontFamily: this._textRenderer.getDefaultStyle().fontFamily,\n    fontWeight: this._textRenderer.getDefaultStyle().fontWeight\n  };\n\n  // DRG elements\n  if (is(element, 'dmn:DRGElement')) {\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height\n    });\n\n    assign(style, {\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight,\n      paddingTop: (7 * zoom) + 'px',\n      paddingBottom: (7 * zoom) + 'px',\n      paddingLeft: (5 * zoom) + 'px',\n      paddingRight: (5 * zoom) + 'px'\n    });\n  }\n\n  // text annotations\n  if (is(element, 'dmn:TextAnnotation')) {\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height,\n      minWidth: 30 * zoom,\n      minHeight: 10 * zoom\n    });\n\n    assign(style, {\n      textAlign: 'left',\n      paddingTop: (5 * zoom) + 'px',\n      paddingBottom: (7 * zoom) + 'px',\n      paddingLeft: (7 * zoom) + 'px',\n      paddingRight: (5 * zoom) + 'px',\n      fontSize: defaultFontSize + 'px',\n      lineHeight: defaultLineHeight\n    });\n  }\n\n  return { bounds: bounds, style: style };\n};\n\n\nLabelEditingProvider.prototype.update = function(\n    element,\n    newLabel,\n    activeContextText,\n    bounds\n) {\n  var newBounds,\n      bbox;\n\n  if (is(element, 'dmn:TextAnnotation')) {\n\n    bbox = this._canvas.getAbsoluteBBox(element);\n\n    newBounds = {\n      x: element.x,\n      y: element.y,\n      width: element.width / bbox.width * bounds.width,\n      height: element.height / bbox.height * bounds.height\n    };\n  }\n\n  if (isEmptyText(newLabel)) {\n    newLabel = null;\n  }\n\n  this._modeling.updateLabel(element, newLabel, newBounds);\n};\n\n// helpers //////////\n\nfunction isEmptyText(label) {\n  return !label || !label.trim();\n}","import DiagramCommand from 'diagram-js/lib/command';\nimport DiagramChangeSupport from 'diagram-js/lib/features/change-support';\nimport DiagramDirectEditing from 'diagram-js-direct-editing';\n\nimport LabelEditingProvider from './LabelEditingProvider';\n\nexport default {\n  __depends__: [\n    DiagramCommand,\n    DiagramChangeSupport,\n    DiagramDirectEditing\n  ],\n  __init__: [ 'labelEditingProvider' ],\n  labelEditingProvider: [ 'type', LabelEditingProvider ]\n};\n","import inherits from 'inherits';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\n/**\n * Creates DMN-specific refs for new connection.\n *\n * @param {DrdFactory} drdFactory\n * @param {Injector} injector\n */\nexport default function CreateConnectionBehavior(drdFactory, injector) {\n  injector.invoke(CommandInterceptor, this);\n\n  this.preExecute('connection.create', function(context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        source = context.source,\n        target = context.target,\n        elementRef,\n        sourceRef,\n        targetRef;\n\n    if (is(connection, 'dmn:Association')) {\n      sourceRef = connectionBo.sourceRef = drdFactory\n        .create('dmn:DMNElementReference', {\n          href: '#' + source.id\n        });\n\n      sourceRef.$parent = connectionBo;\n\n      targetRef = connectionBo.targetRef = drdFactory\n        .create('dmn:DMNElementReference', {\n          href: '#' + target.id\n        });\n\n      targetRef.$parent = connectionBo;\n    } else {\n      elementRef = connectionBo[ 'required' + getRequirementType(source) ] = drdFactory\n        .create('dmn:DMNElementReference', {\n          href: '#' + source.id\n        });\n\n      elementRef.$parent = connectionBo;\n    }\n  }, true);\n\n}\n\nCreateConnectionBehavior.$inject = [\n  'drdFactory',\n  'injector'\n];\n\ninherits(CreateConnectionBehavior, CommandInterceptor);\n\n\n// helpers //////////\n\nfunction getRequirementType(source) {\n  if (is(source, 'dmn:BusinessKnowledgeModel')) {\n    return 'Knowledge';\n  } else if (is(source, 'dmn:Decision')) {\n    return 'Decision';\n  } else if (is(source, 'dmn:InputData')) {\n    return 'Input';\n  } else if (is(source, 'dmn:KnowledgeSource')) {\n    return 'Authority';\n  }\n}\n","import inherits from 'inherits';\r\n\r\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\r\n\r\nimport {\r\n  is,\r\n  isAny\r\n} from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport {\r\n  asTRBL,\r\n  getMid,\r\n  getOrientation\r\n} from 'diagram-js/lib/layout/LayoutUtil';\r\n\r\nimport {\r\n  assign,\r\n  forEach\r\n} from 'min-dash';\r\n\r\nvar LOW_PRIORITY = 500;\r\n\r\n\r\nexport default function LayoutConnectionBehavior(injector, layouter, modeling, rules) {\r\n  injector.invoke(CommandInterceptor, this);\r\n\r\n  // specify connection start and end on connection create\r\n  this.preExecute([\r\n    'connection.create',\r\n    'connection.reconnect'\r\n  ], function(context) {\r\n    var connection = context.connection,\r\n        source = context.newSource || context.source,\r\n        target = context.newTarget || context.target;\r\n\r\n    if (is(connection, 'dmn:InformationRequirement')\r\n      && !rules.allowed('connection.connect', {\r\n        connection: connection,\r\n        source: source,\r\n        target: target\r\n      })\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (!is(connection, 'dmn:InformationRequirement')) {\r\n      return;\r\n    }\r\n\r\n    var orientation = getOrientation(source, target);\r\n\r\n    if (!context.hints) {\r\n      context.hints = {};\r\n    }\r\n\r\n    assign(context.hints, getConnectionHints(source, target, orientation));\r\n  }, true);\r\n\r\n  /**\r\n   * Update incoming information requirements.\r\n   *\r\n   * @param {djs.model.Shape} target\r\n   * @param {Array<djs.model.Connection>} [informationRequirements]\r\n   * @param {string} [orientation]\r\n   */\r\n  function updateInformationRequirements(target, informationRequirements, orientation) {\r\n\r\n    // (1) get information requirements\r\n    if (!informationRequirements) {\r\n      informationRequirements = target.incoming.filter(function(incoming) {\r\n        return is(incoming, 'dmn:InformationRequirement');\r\n      });\r\n    }\r\n\r\n    var incomingInformationRequirementsByOrientation = {};\r\n\r\n    // (2) get information requirements per orientation\r\n    if (orientation) {\r\n      incomingInformationRequirementsByOrientation[ orientation ] =\r\n        informationRequirements;\r\n    } else {\r\n      incomingInformationRequirementsByOrientation =\r\n        getInformationRequirementsByOrientation(target, informationRequirements);\r\n    }\r\n\r\n    // (3) update information requirements per orientation\r\n    forEach(incomingInformationRequirementsByOrientation,\r\n      function(informationRequirements, orientation) {\r\n\r\n        // (3.1) sort information requirements\r\n        informationRequirements = sortInformationRequirements(\r\n          informationRequirements,\r\n          orientation\r\n        );\r\n\r\n        // (3.2) get new connection start and end\r\n        var connectionStartEnd =\r\n          getConnectionsStartEnd(informationRequirements, target, orientation);\r\n\r\n        // (3.3) update information requirements\r\n        informationRequirements.forEach((informationRequirement, index) => {\r\n          var connectionStart = connectionStartEnd[ index ].start,\r\n              connectionEnd = connectionStartEnd[ index ].end;\r\n\r\n          var waypoints = layouter.layoutConnection(informationRequirement, {\r\n            connectionStart: connectionStart,\r\n            connectionEnd: connectionEnd\r\n          });\r\n\r\n          modeling.updateWaypoints(informationRequirement, waypoints);\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  // update information requirements on connection create and delete\r\n  // update information requirements of new target on connection reconnect\r\n  this.postExecuted([\r\n    'connection.create',\r\n    'connection.delete',\r\n    'connection.reconnect'\r\n  ], function(context) {\r\n    var connection = context.connection,\r\n        source = connection.source || context.source,\r\n        target = connection.target || context.target;\r\n\r\n    if (!is(connection, 'dmn:InformationRequirement')) {\r\n      return;\r\n    }\r\n\r\n    var orientation = getOrientation(source, target);\r\n\r\n    // update all information requirements with same orientation\r\n    var informationRequirements = target.incoming.filter(incoming => {\r\n      var incomingOrientation = getOrientation(incoming.source, incoming.target);\r\n\r\n      return is(incoming, 'dmn:InformationRequirement')\r\n        && isSameOrientation(incomingOrientation, orientation);\r\n    });\r\n\r\n    if (!informationRequirements.length) {\r\n      return;\r\n    }\r\n\r\n    updateInformationRequirements(target, informationRequirements, orientation);\r\n  }, true);\r\n\r\n  // update information requirements of old target on connection reconnect\r\n  this.preExecute('connection.reconnect', function(context) {\r\n    var connection = context.connection,\r\n        source = connection.source,\r\n        target = connection.target;\r\n\r\n    if (!is(connection, 'dmn:InformationRequirement')) {\r\n      return;\r\n    }\r\n\r\n    var orientation = getOrientation(source, target);\r\n\r\n    // update all information requirements with same orientation except reconnected\r\n    var informationRequirements = target.incoming.filter(incoming => {\r\n      var incomingOrientation = getOrientation(incoming.source, incoming.target);\r\n\r\n      return incoming !== connection\r\n        && is(incoming, 'dmn:InformationRequirement')\r\n        && isSameOrientation(incomingOrientation, orientation);\r\n    });\r\n\r\n    if (!informationRequirements.length) {\r\n      return;\r\n    }\r\n\r\n    updateInformationRequirements(target, informationRequirements, orientation);\r\n  }, true);\r\n\r\n  // update information requirements on elements move\r\n  this.postExecuted('elements.move', LOW_PRIORITY, function(context) {\r\n    var shapes = context.shapes,\r\n        closure = context.closure,\r\n        enclosedConnections = closure.enclosedConnections;\r\n\r\n    shapes.forEach(function(shape) {\r\n      if (!isAny(shape, [ 'dmn:Decision', 'dmn:InputData' ])) {\r\n        return;\r\n      }\r\n\r\n      // (1) update incoming information requirements\r\n      var incomingInformationRequirements = shape.incoming.filter(function(incoming) {\r\n        return is(incoming, 'dmn:InformationRequirement')\r\n          && !enclosedConnections[ incoming.id ];\r\n      });\r\n\r\n      if (incomingInformationRequirements.length) {\r\n        updateInformationRequirements(shape, incomingInformationRequirements);\r\n      }\r\n\r\n      // (2) update outgoing information requirements\r\n      shape.outgoing.forEach(function(outgoing) {\r\n        if (!is(outgoing, 'dmn:InformationRequirement')\r\n          || enclosedConnections[ outgoing.id ]) {\r\n          return;\r\n        }\r\n\r\n        updateInformationRequirements(outgoing.target);\r\n      });\r\n    });\r\n  }, true);\r\n}\r\n\r\nLayoutConnectionBehavior.$inject = [\r\n  'injector',\r\n  'layouter',\r\n  'modeling',\r\n  'rules'\r\n];\r\n\r\ninherits(LayoutConnectionBehavior, CommandInterceptor);\r\n\r\n// helpers //////////\r\n\r\nfunction getConnectionHints(source, target, orientation) {\r\n  var connectionStart = getMid(source),\r\n      connectionEnd = getMid(target);\r\n\r\n  if (orientation.includes('bottom')) {\r\n    connectionStart.y = source.y;\r\n    connectionEnd.y = target.y + target.height;\r\n  } else if (orientation.includes('top')) {\r\n    connectionStart.y = source.y + source.height;\r\n    connectionEnd.y = target.y;\r\n  } else if (orientation.includes('right')) {\r\n    connectionStart.x = source.x;\r\n    connectionEnd.x = target.x + target.width;\r\n  } else {\r\n    connectionStart.x = source.x + source.width;\r\n    connectionEnd.x = target.x;\r\n  }\r\n\r\n  return {\r\n    connectionStart: connectionStart,\r\n    connectionEnd: connectionEnd\r\n  };\r\n}\r\n\r\n/**\r\n * Get connections start and end based on number of information requirements and\r\n * orientation.\r\n *\r\n * @param {Array<djs.model.Connection>} informationRequirements\r\n * @param {djs.model.Shape} target\r\n * @param {string} orientation\r\n *\r\n * @returns {Array<Object>}\r\n */\r\nfunction getConnectionsStartEnd(informationRequirements, target, orientation) {\r\n  return informationRequirements.map(\r\n    function(informationRequirement, index) {\r\n      var source = informationRequirement.source,\r\n          sourceMid = getMid(source),\r\n          sourceTrbl = asTRBL(source),\r\n          targetTrbl = asTRBL(target);\r\n\r\n      var length = informationRequirements.length;\r\n\r\n      if (orientation.includes('bottom')) {\r\n        return {\r\n          start: {\r\n            x: sourceMid.x,\r\n            y: sourceTrbl.top\r\n          },\r\n          end: {\r\n            x: targetTrbl.left + target.width / (length + 1) * (index + 1),\r\n            y: targetTrbl.bottom\r\n          }\r\n        };\r\n      } else if (orientation.includes('top')) {\r\n        return {\r\n          start: {\r\n            x: sourceMid.x,\r\n            y: sourceTrbl.bottom\r\n          },\r\n          end: {\r\n            x: targetTrbl.left + target.width / (length + 1) * (index + 1),\r\n            y: targetTrbl.top\r\n          }\r\n        };\r\n      } else if (orientation.includes('right')) {\r\n        return {\r\n          start: {\r\n            x: sourceTrbl.left,\r\n            y: sourceMid.y\r\n          },\r\n          end: {\r\n            x: targetTrbl.right,\r\n            y: targetTrbl.top + target.height / (length + 1) * (index + 1)\r\n          }\r\n        };\r\n      } else {\r\n        return {\r\n          start: {\r\n            x: sourceTrbl.right,\r\n            y: sourceMid.y\r\n          },\r\n          end: {\r\n            x: targetTrbl.left,\r\n            y: targetTrbl.top + target.height / (length + 1) * (index + 1)\r\n          }\r\n        };\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\n/**\r\n * Get information requirements by orientation.\r\n *\r\n * @param {djs.model.shape} target\r\n * @param {Array<djs.model.Connection>} informationRequirements\r\n *\r\n * @returns {Object}\r\n */\r\nfunction getInformationRequirementsByOrientation(target, informationRequirements) {\r\n  var incomingInformationRequirementsByOrientation = {};\r\n\r\n  informationRequirements.forEach(function(incoming) {\r\n    var orientation = getOrientation(incoming.source, target).split('-').shift();\r\n\r\n    if (!incomingInformationRequirementsByOrientation[ orientation ]) {\r\n      incomingInformationRequirementsByOrientation[ orientation ] = [];\r\n    }\r\n\r\n    incomingInformationRequirementsByOrientation[ orientation ].push(incoming);\r\n  });\r\n\r\n  return incomingInformationRequirementsByOrientation;\r\n}\r\n\r\nfunction isSameOrientation(orientationA, orientationB) {\r\n  return orientationA\r\n    && orientationB\r\n    && orientationA.split('-').shift() === orientationB.split('-').shift();\r\n}\r\n\r\nfunction sortInformationRequirements(informationRequirements, orientation) {\r\n  var axis;\r\n\r\n  if (orientation.includes('top') || orientation.includes('bottom')) {\r\n    axis = 'x';\r\n  } else {\r\n    axis = 'y';\r\n  }\r\n\r\n  return informationRequirements.sort(function(a, b) {\r\n    return getMid(a.source)[ axis ] - getMid(b.source)[ axis ];\r\n  });\r\n}","import inherits from 'inherits';\r\n\r\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\r\n\r\n\r\nexport default function ReplaceConnectionBehavior(injector, modeling, rules) {\r\n  injector.invoke(CommandInterceptor, this);\r\n\r\n  this.preExecute('connection.reconnect', function(context) {\r\n    var connection = context.connection,\r\n        source = context.newSource || connection.source,\r\n        target = context.newTarget || connection.target,\r\n        waypoints = connection.waypoints.slice();\r\n\r\n    var allowed = rules.allowed('connection.reconnect', {\r\n      connection: connection,\r\n      source: source,\r\n      target: target\r\n    });\r\n\r\n    if (!allowed || allowed.type === connection.type) {\r\n      return;\r\n    }\r\n\r\n    context.connection = modeling.connect(source, target, {\r\n      type: allowed.type,\r\n      waypoints: waypoints\r\n    });\r\n\r\n    modeling.removeConnection(connection);\r\n  }, true);\r\n}\r\n\r\ninherits(ReplaceConnectionBehavior, CommandInterceptor);\r\n\r\nReplaceConnectionBehavior.$inject = [\r\n  'injector',\r\n  'modeling',\r\n  'rules'\r\n];","import inherits from 'inherits';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\n\n/**\n * Defines the behaviour of what happens to the elements inside a container\n * that morphs into another DRD element\n */\nexport default function ReplaceElementBehaviour(eventBus, modeling) {\n  CommandInterceptor.call(this, eventBus);\n\n  this._modeling = modeling;\n\n  this.postExecuted([ 'shape.replace' ], 1500, function(e) {\n    var context = e.context,\n        oldShape = context.oldShape,\n        newShape = context.newShape;\n\n\n    modeling.unclaimId(oldShape.businessObject.id, oldShape.businessObject);\n    modeling.updateProperties(newShape, { id: oldShape.id });\n  });\n}\n\ninherits(ReplaceElementBehaviour, CommandInterceptor);\n\nReplaceElementBehaviour.$inject = [ 'eventBus', 'modeling' ];\n","import { forEach } from 'min-dash';\r\n\r\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\r\n\r\nimport {\r\n  is,\r\n  getBusinessObject\r\n} from '../../../util/ModelUtil';\r\n\r\nconst ID = 'id';\r\n\r\n\r\nexport default class IdChangeBehavior extends CommandInterceptor {\r\n  constructor(eventBus) {\r\n    super(eventBus);\r\n\r\n    this.executed('element.updateProperties', this.updateIds.bind(this));\r\n  }\r\n\r\n  updateIds({ context }) {\r\n    const { element, oldProperties, properties } = context;\r\n\r\n    const bo = getBusinessObject(element);\r\n\r\n    if (this.shouldSkipUpdate(bo, oldProperties, properties)) {\r\n      return;\r\n    }\r\n\r\n    const definitions = getDefinitions(bo);\r\n\r\n    const drgElements = definitions.get('drgElement');\r\n    drgElements.forEach(drgElement => {\r\n      updateElementReferences(drgElement, oldProperties.id, properties.id);\r\n    });\r\n\r\n    const artifacts = definitions.get('artifact');\r\n    artifacts.forEach(artifact => {\r\n      updateAssociationReferences(artifact, oldProperties.id, properties.id);\r\n    });\r\n  }\r\n\r\n  shouldSkipUpdate(bo, oldProperties, newProperties) {\r\n    return !isIdChange(oldProperties, newProperties) ||\r\n     (!is(bo, 'dmn:DRGElement') && !is(bo, 'dmn:TextAnnotation'));\r\n  }\r\n}\r\n\r\nIdChangeBehavior.$inject = [ 'eventBus' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction isIdChange(oldProperties, properties) {\r\n  return ID in oldProperties && ID in properties;\r\n}\r\n\r\n\r\n/**\r\n * Walk up the tree until at the root to get to dmn:Definitions.\r\n *\r\n * @param {ModdleElement} element\r\n */\r\nfunction getDefinitions(element) {\r\n  let definitions = element;\r\n\r\n  while (!is(definitions, 'dmn:Definitions')) {\r\n    definitions = definitions.$parent;\r\n  }\r\n\r\n  return definitions;\r\n}\r\n\r\nfunction updateElementReferences(element, oldId, id) {\r\n\r\n  const handlers = {\r\n\r\n    authorityRequirement: () => {\r\n      element.authorityRequirement.forEach(authorityRequirement => {\r\n        const {\r\n          requiredAuthority,\r\n          requiredDecision,\r\n          requiredInput\r\n        } = authorityRequirement;\r\n\r\n        if (requiredAuthority && requiredAuthority.href === `#${oldId}`) {\r\n          requiredAuthority.href = `#${id}`;\r\n        }\r\n\r\n        if (requiredDecision && requiredDecision.href === `#${oldId}`) {\r\n          requiredDecision.href = `#${id}`;\r\n        }\r\n\r\n        if (requiredInput && requiredInput.href === `#${oldId}`) {\r\n          requiredInput.href = `#${id}`;\r\n        }\r\n      });\r\n    },\r\n\r\n    informationRequirement: () => {\r\n      element.informationRequirement.forEach(informationRequirement => {\r\n        const { requiredDecision, requiredInput } = informationRequirement;\r\n\r\n        if (requiredDecision && requiredDecision.href === `#${oldId}`) {\r\n          requiredDecision.href = `#${id}`;\r\n        }\r\n\r\n        if (requiredInput && requiredInput.href === `#${oldId}`) {\r\n          requiredInput.href = `#${id}`;\r\n        }\r\n      });\r\n    },\r\n\r\n    knowledgeRequirement: () => {\r\n      element.knowledgeRequirement.forEach(knowledgeRequirement => {\r\n        const { requiredKnowledge } = knowledgeRequirement;\r\n\r\n        if (requiredKnowledge && requiredKnowledge.href === `#${oldId}`) {\r\n          requiredKnowledge.href = `#${id}`;\r\n        }\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  forEach(handlers, (handler, key) => {\r\n\r\n    if (element[key]) {\r\n      handler();\r\n    }\r\n\r\n  });\r\n}\r\n\r\nfunction updateAssociationReferences(element, oldId, id) {\r\n\r\n  const handlers = {\r\n    sourceRef: () => {\r\n      const { sourceRef } = element;\r\n\r\n      if (sourceRef.href === `#${oldId}`) {\r\n        sourceRef.href = `#${id}`;\r\n      }\r\n    },\r\n    targetRef: () => {\r\n      const { targetRef } = element;\r\n\r\n      if (targetRef.href === `#${oldId}`) {\r\n        targetRef.href = `#${id}`;\r\n      }\r\n    }\r\n  };\r\n\r\n  forEach(handlers, (handler, key) => {\r\n\r\n    if (element[key]) {\r\n      handler();\r\n    }\r\n\r\n  });\r\n}\r\n","import CreateConnectionBehavior from './CreateConnectionBehavior';\nimport LayoutConnectionBehavior from './LayoutConnectionBehavior';\nimport ReplaceConnectionBehavior from './ReplaceConnectionBehavior';\nimport ReplaceElementBehavior from './ReplaceElementBehavior';\nimport IdChangeBehavior from\n  'dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior';\n\nexport default {\n  __init__: [\n    'createConnectionBehavior',\n    'idChangeBehavior',\n    'layoutConnectionBehavior',\n    'replaceConnectionBehavior',\n    'replaceElementBehavior'\n  ],\n  createConnectionBehavior: [ 'type', CreateConnectionBehavior ],\n  idChangeBehavior: [ 'type', IdChangeBehavior ],\n  layoutConnectionBehavior: [ 'type', LayoutConnectionBehavior ],\n  replaceConnectionBehavior: [ 'type', ReplaceConnectionBehavior ],\n  replaceElementBehavior: [ 'type', ReplaceElementBehavior ]\n};\n","import inherits from 'inherits';\n\nimport CommandInterceptor from '../../command/CommandInterceptor';\n\n/**\n * A basic provider that may be extended to implement modeling rules.\n *\n * Extensions should implement the init method to actually add their custom\n * modeling checks. Checks may be added via the #addRule(action, fn) method.\n *\n * @param {EventBus} eventBus\n */\nexport default function RuleProvider(eventBus) {\n  CommandInterceptor.call(this, eventBus);\n\n  this.init();\n}\n\nRuleProvider.$inject = [ 'eventBus' ];\n\ninherits(RuleProvider, CommandInterceptor);\n\n\n/**\n * Adds a modeling rule for the given action, implemented through\n * a callback function.\n *\n * The function will receive the modeling specific action context\n * to perform its check. It must return `false` to disallow the\n * action from happening or `true` to allow the action.\n *\n * A rule provider may pass over the evaluation to lower priority\n * rules by returning return nothing (or <code>undefined</code>).\n *\n * @example\n *\n * ResizableRules.prototype.init = function() {\n *\n *   \\/**\n *    * Return `true`, `false` or nothing to denote\n *    * _allowed_, _not allowed_ and _continue evaluating_.\n *    *\\/\n *   this.addRule('shape.resize', function(context) {\n *\n *     var shape = context.shape;\n *\n *     if (!context.newBounds) {\n *       // check general resizability\n *       if (!shape.resizable) {\n *         return false;\n *       }\n *\n *       // not returning anything (read: undefined)\n *       // will continue the evaluation of other rules\n *       // (with lower priority)\n *       return;\n *     } else {\n *       // element must have minimum size of 10*10 points\n *       return context.newBounds.width > 10 && context.newBounds.height > 10;\n *     }\n *   });\n * };\n *\n * @param {string|Array<string>} actions the identifier for the modeling action to check\n * @param {number} [priority] the priority at which this rule is being applied\n * @param {Function} fn the callback function that performs the actual check\n */\nRuleProvider.prototype.addRule = function(actions, priority, fn) {\n\n  var self = this;\n\n  if (typeof actions === 'string') {\n    actions = [ actions ];\n  }\n\n  actions.forEach(function(action) {\n\n    self.canExecute(action, priority, function(context, action, event) {\n      return fn(context);\n    }, true);\n  });\n};\n\n/**\n * Implement this method to add new rules during provider initialization.\n */\nRuleProvider.prototype.init = function() {};","import {\n  is,\n  isAny\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport inherits from 'inherits';\n\nimport RuleProvider from 'diagram-js/lib/features/rules/RuleProvider';\n\nimport {\n  every,\n  isArray\n} from 'min-dash';\n\n\n/**\n * DRD modeling rules.\n */\nexport default function DrdRules(injector) {\n  injector.invoke(RuleProvider, this);\n}\n\ninherits(DrdRules, RuleProvider);\n\nDrdRules.$inject = [ 'injector' ];\n\nDrdRules.prototype.init = function() {\n\n  this.addRule('connection.create', function(context) {\n    var source = context.source,\n        target = context.target;\n\n    return canConnect(source, target);\n  });\n\n  this.addRule('connection.reconnect', function(context) {\n    var connection = context.connection,\n        source = context.source,\n        target = context.target;\n\n    return canConnect(source, target, connection);\n  });\n\n  this.addRule('connection.updateWaypoints', function(context) {\n    const connection = context.connection;\n\n    return {\n      type: connection.type,\n      businessObject: connection.businessObject\n    };\n  });\n\n  this.addRule('elements.move', function(context) {\n    var target = context.target,\n        shapes = context.shapes,\n        position = context.position;\n\n    return canMove(shapes, target, position);\n  });\n\n  this.addRule('shape.create', function(context) {\n    var shape = context.shape,\n        target = context.target;\n\n    return canCreate(shape, target);\n  });\n\n  this.addRule('shape.resize', function(context) {\n    var shape = context.shape;\n\n    return is(shape, 'dmn:TextAnnotation');\n  });\n\n};\n\nDrdRules.prototype.canConnect = canConnect;\n\nDrdRules.prototype.canCreate = canCreate;\n\nDrdRules.prototype.canMove = canMove;\n\n\nfunction canConnect(source, target) {\n  if (!source || isLabel(source) || !target || isLabel(target)) {\n    return null;\n  }\n\n  if (source === target) {\n    return false;\n  }\n\n  if (is(source, 'dmn:BusinessKnowledgeModel') &&\n      isAny(target, [\n        'dmn:BusinessKnowledgeModel',\n        'dmn:Decision'\n      ])) {\n    return { type: 'dmn:KnowledgeRequirement' };\n  }\n\n  if (is(source, 'dmn:Decision')) {\n\n    if (is(target, 'dmn:Decision')) {\n      return { type: 'dmn:InformationRequirement' };\n    }\n\n    if (is(target, 'dmn:KnowledgeSource')) {\n      return { type: 'dmn:AuthorityRequirement' };\n    }\n\n  }\n\n  if (is(source, 'dmn:Definitions') || is(target, 'dmn:Definitions')) {\n    return false;\n  }\n\n  if (is(source, 'dmn:InputData')) {\n\n    if (is(target, 'dmn:Decision')) {\n      return { type: 'dmn:InformationRequirement' };\n    }\n\n    if (is(target, 'dmn:KnowledgeSource')) {\n      return { type: 'dmn:AuthorityRequirement' };\n    }\n\n  }\n\n  if (is(source, 'dmn:KnowledgeSource') &&\n      isAny(target, [\n        'dmn:BusinessKnowledgeModel',\n        'dmn:Decision',\n        'dmn:KnowledgeSource'\n      ])) {\n    return { type: 'dmn:AuthorityRequirement' };\n  }\n\n  if ((is(source, 'dmn:TextAnnotation') && !is(target, 'dmn:TextAnnotation'))\n  || (!is(source, 'dmn:TextAnnotation') && is(target, 'dmn:TextAnnotation'))) {\n    return { type: 'dmn:Association' };\n  }\n\n  return false;\n}\n\nfunction canCreate(shape, target) {\n  return isAny(shape, [\n    'dmn:BusinessKnowledgeModel',\n    'dmn:Decision',\n    'dmn:InputData',\n    'dmn:KnowledgeSource',\n    'dmn:TextAnnotation'\n  ]) && is(target, 'dmn:Definitions');\n}\n\nfunction canMove(elements, target) {\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  // allow default move check to start move operation\n  if (!target) {\n    return true;\n  }\n\n  if (every(elements, function(element) {\n    return isAny(element, [\n      'dmn:BusinessKnowledgeModel',\n      'dmn:Decision',\n      'dmn:InputData',\n      'dmn:KnowledgeSource',\n      'dmn:TextAnnotation',\n      'dmn:InformationRequirement',\n      'dmn:AuthorityRequirement',\n      'dmn:KnowledgeRequirement',\n      'dmn:Association'\n    ]);\n  }) && is(target, 'dmn:Definitions')) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function isLabel(element) {\n  return !!element.labelTarget;\n}","import DiagramRulesModule from 'diagram-js/lib/features/rules';\n\nimport DrdRules from './DrdRules';\n\nexport default {\n  __depends__: [\n    DiagramRulesModule\n  ],\n  __init__: [ 'drdRules' ],\n  drdRules: [ 'type', DrdRules ]\n};\n","import {\n  assign,\n  pick\n} from 'min-dash';\n\nimport { isAny } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default function DrdFactory(moddle) {\n  this._model = moddle;\n}\n\nDrdFactory.$inject = [ 'moddle' ];\n\n\nDrdFactory.prototype._needsId = function(element) {\n  return isAny(element, [\n    'dmn:Artifact',\n    'dmn:DMNElement',\n    'dmn:DRGElement',\n    'dmndi:DMNDiagram',\n    'dmndi:DMNDiagramElement'\n  ]);\n};\n\nDrdFactory.prototype._ensureId = function(element) {\n  var prefix = (element.$type || '').replace(/^[^:]*:/g, '') + '_';\n\n  if (!element.id && this._needsId(element)) {\n    element.id = this._model.ids.nextPrefixed(prefix, element);\n  }\n};\n\nDrdFactory.prototype.create = function(type, attrs) {\n  var element = this._model.create(type, attrs || {});\n\n  this._ensureId(element);\n\n  return element;\n};\n\nDrdFactory.prototype.createDiShape = function(semantic, bounds, attrs) {\n\n  return this.create('dmndi:DMNShape', assign({\n    dmnElementRef: semantic,\n    bounds: this.createDiBounds(bounds)\n  }, attrs));\n};\n\nDrdFactory.prototype.createDiBounds = function(bounds) {\n  return this.create('dc:Bounds', bounds);\n};\n\nDrdFactory.prototype.createDiEdge = function(semantic, waypoints, attrs) {\n  return this.create('dmndi:DMNEdge', {\n    dmnElementRef: semantic,\n    waypoint: this.createDiWaypoints(waypoints)\n  }, attrs);\n};\n\nDrdFactory.prototype.createDiWaypoints = function(waypoints) {\n  var self = this;\n\n  return waypoints.map(function(waypoint) {\n    return self.createDiWaypoint(waypoint);\n  });\n};\n\nDrdFactory.prototype.createDiWaypoint = function(waypoint) {\n  return this.create('dc:Point', pick(waypoint, [ 'x', 'y' ]));\n};\n\nDrdFactory.prototype.createExtensionElements = function() {\n  return this.create('dmn:ExtensionElements', { values: [] });\n};\n","import { assign } from 'min-dash';\n\nimport inherits from 'inherits';\n\nimport {\n  remove as collectionRemove,\n  add as collectionAdd\n} from 'diagram-js/lib/util/Collections';\n\nimport {\n  is,\n  isAny\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\n\n/**\n * Update DMN 1.3 information.\n */\nexport default function DrdUpdater(\n    connectionDocking,\n    definitionPropertiesView,\n    drdFactory,\n    drdRules,\n    injector\n) {\n  injector.invoke(CommandInterceptor, this);\n\n  this._definitionPropertiesView = definitionPropertiesView;\n  this._drdFactory = drdFactory;\n  this._drdRules = drdRules;\n\n  var self = this;\n\n  function cropConnection(context) {\n    var connection = context.connection,\n        cropped = context.cropped;\n\n    if (!cropped) {\n      connection.waypoints = connectionDocking.getCroppedWaypoints(connection);\n\n      context.cropped = true;\n    }\n  }\n\n  this.executed([\n    'connection.create',\n    'connection.layout'\n  ], cropConnection, true);\n\n  this.reverted([ 'connection.layout' ], function(context) {\n    delete context.cropped;\n  }, true);\n\n  function updateParent(context) {\n    var connection = context.connection,\n        parent = context.parent,\n        shape = context.shape;\n\n    if (connection && !is(connection, 'dmn:Association')) {\n      parent = connection.target;\n    }\n\n    self.updateParent(shape || connection, parent);\n  }\n\n  function reverseUpdateParent(context) {\n    var connection = context.connection,\n        shape = context.shape;\n\n    var oldParent = context.parent || context.newParent;\n\n    if (connection && !is(connection, 'dmn:Association')) {\n      oldParent = connection.target;\n    }\n\n    self.updateParent(shape || connection, oldParent);\n  }\n\n  this.executed([\n    'connection.create',\n    'connection.delete',\n    'connection.move',\n    'shape.create',\n    'shape.delete'\n  ], updateParent, true);\n\n  this.reverted([\n    'connection.create',\n    'connection.delete',\n    'connection.move',\n    'shape.create',\n    'shape.delete'\n  ], reverseUpdateParent, true);\n\n  function updateBounds(context) {\n    var shape = context.shape;\n\n    if (!(is(shape, 'dmn:DRGElement') || is(shape, 'dmn:TextAnnotation'))) {\n      return;\n    }\n\n    self.updateBounds(shape);\n  }\n\n  this.executed([ 'shape.create', 'shape.move', 'shape.resize' ], updateBounds, true);\n\n  this.reverted([ 'shape.create', 'shape.move', 'shape.resize' ], updateBounds, true);\n\n  function updateConnectionWaypoints(context) {\n    self.updateConnectionWaypoints(context);\n  }\n\n  this.executed([\n    'connection.create',\n    'connection.layout',\n    'connection.move',\n    'connection.updateWaypoints'\n  ], updateConnectionWaypoints, true);\n\n  this.reverted([\n    'connection.create',\n    'connection.layout',\n    'connection.move',\n    'connection.updateWaypoints'\n  ], updateConnectionWaypoints, true);\n\n  this.executed('connection.create', function(context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        target = context.target,\n        targetBo = target.businessObject;\n\n    if (is(connection, 'dmn:Association')) {\n      updateParent(context);\n    } else {\n\n      // parent is target\n      self.updateSemanticParent(connectionBo, targetBo);\n    }\n  }, true);\n\n  this.reverted('connection.create', function(context) {\n    reverseUpdateParent(context);\n  }, true);\n\n  this.executed('connection.reconnect', function(context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        newTarget = context.newTarget,\n        newTargetBo = newTarget.businessObject;\n\n    self.updateSemanticParent(connectionBo, newTargetBo);\n  }, true);\n\n  this.reverted('connection.reconnect', function(context) {\n    var connection = context.connection,\n        connectionBo = connection.businessObject,\n        oldTarget = context.oldTarget,\n        oldTargetBo = oldTarget.businessObject;\n\n    self.updateSemanticParent(connectionBo, oldTargetBo);\n  }, true);\n\n  this.executed('element.updateProperties', function(context) {\n    definitionPropertiesView.update();\n  }, true);\n\n  this.reverted('element.updateProperties', function(context) {\n    definitionPropertiesView.update();\n  }, true);\n\n}\n\ninherits(DrdUpdater, CommandInterceptor);\n\nDrdUpdater.$inject = [\n  'connectionDocking',\n  'definitionPropertiesView',\n  'drdFactory',\n  'drdRules',\n  'injector'\n];\n\nDrdUpdater.prototype.updateBounds = function(shape) {\n  var businessObject = shape.businessObject,\n      bounds = businessObject.di.bounds;\n\n  // update bounds\n  assign(bounds, {\n    x: shape.x,\n    y: shape.y,\n    width: shape.width,\n    height: shape.height\n  });\n};\n\nDrdUpdater.prototype.updateConnectionWaypoints = function(context) {\n  var drdFactory = this._drdFactory;\n\n  var connection = context.connection,\n      businessObject = connection.businessObject,\n      edge = businessObject.di;\n\n  edge.waypoint = drdFactory.createDiWaypoints(connection.waypoints)\n    .map(function(waypoint) {\n      waypoint.$parent = edge;\n\n      return waypoint;\n    });\n};\n\nDrdUpdater.prototype.updateParent = function(element, oldParent) {\n  var parent = element.parent;\n\n  if (!is(element, 'dmn:DRGElement') && !is(element, 'dmn:Artifact')) {\n    parent = oldParent;\n  }\n\n  var businessObject = element.businessObject,\n      parentBo = parent && parent.businessObject;\n\n  this.updateSemanticParent(businessObject, parentBo);\n\n  this.updateDiParent(businessObject.di, parentBo && parentBo.di);\n};\n\nDrdUpdater.prototype.updateSemanticParent = function(businessObject, parent) {\n  var children,\n      containment;\n\n  if (businessObject.$parent === parent) {\n    return;\n  }\n\n  if (is(businessObject, 'dmn:DRGElement')) {\n    containment = 'drgElement';\n  } else if (is(businessObject, 'dmn:Artifact')) {\n    containment = 'artifact';\n  } else if (is(businessObject, 'dmn:InformationRequirement')) {\n    containment = 'informationRequirement';\n  } else if (is(businessObject, 'dmn:AuthorityRequirement')) {\n    containment = 'authorityRequirement';\n  } else if (is(businessObject, 'dmn:KnowledgeRequirement')) {\n    containment = 'knowledgeRequirement';\n  }\n\n  if (businessObject.$parent) {\n\n    // remove from old parent\n    children = businessObject.$parent.get(containment);\n\n    collectionRemove(children, businessObject);\n  }\n\n  if (parent) {\n\n    // add to new parent\n    children = parent.get(containment);\n\n    if (children) {\n      children.push(businessObject);\n\n      businessObject.$parent = parent;\n    }\n  } else {\n    businessObject.$parent = null;\n  }\n};\n\nDrdUpdater.prototype.updateDiParent = function(di, parentDi) {\n\n  if (di.$parent === parentDi) {\n    return;\n  }\n\n  if (isAny(di, [ 'dmndi:DMNEdge', 'dmndi:DMNShape' ])) {\n\n    var diagram = parentDi || di;\n    while (!is(diagram, 'dmndi:DMNDiagram')) {\n      diagram = diagram.$parent;\n    }\n\n    var diagramElements = diagram.get('diagramElements');\n    if (parentDi) {\n      di.$parent = diagram;\n\n      collectionAdd(diagramElements, di);\n    } else {\n      di.$parent = null;\n\n      collectionRemove(diagramElements, di);\n    }\n  } else {\n    throw new Error('unsupported');\n  }\n};\n","import { forEach } from 'min-dash';\n\n/**\n * A handler that align elements in a certain way.\n *\n */\nexport default function AlignElements(modeling, canvas) {\n  this._modeling = modeling;\n  this._canvas = canvas;\n}\n\nAlignElements.$inject = [ 'modeling', 'canvas' ];\n\n\nAlignElements.prototype.preExecute = function(context) {\n  var modeling = this._modeling;\n\n  var elements = context.elements,\n      alignment = context.alignment;\n\n\n  forEach(elements, function(element) {\n    var delta = {\n      x: 0,\n      y: 0\n    };\n\n    if (alignment.left) {\n      delta.x = alignment.left - element.x;\n\n    } else if (alignment.right) {\n      delta.x = (alignment.right - element.width) - element.x;\n\n    } else if (alignment.center) {\n      delta.x = (alignment.center - Math.round(element.width / 2)) - element.x;\n\n    } else if (alignment.top) {\n      delta.y = alignment.top - element.y;\n\n    } else if (alignment.bottom) {\n      delta.y = (alignment.bottom - element.height) - element.y;\n\n    } else if (alignment.middle) {\n      delta.y = (alignment.middle - Math.round(element.height / 2)) - element.y;\n    }\n\n    modeling.moveElements([ element ], delta, element.parent);\n  });\n};\n\nAlignElements.prototype.postExecute = function(context) {\n\n};\n","import { some } from 'min-dash';\n\n\n/**\n * A handler that implements reversible appending of shapes\n * to a source shape.\n *\n * @param {canvas} Canvas\n * @param {elementFactory} ElementFactory\n * @param {modeling} Modeling\n */\nexport default function AppendShapeHandler(modeling) {\n  this._modeling = modeling;\n}\n\nAppendShapeHandler.$inject = [ 'modeling' ];\n\n\n// api //////////////////////\n\n\n/**\n * Creates a new shape\n *\n * @param {Object} context\n * @param {ElementDescriptor} context.shape the new shape\n * @param {ElementDescriptor} context.source the source object\n * @param {ElementDescriptor} context.parent the parent object\n * @param {Point} context.position position of the new element\n */\nAppendShapeHandler.prototype.preExecute = function(context) {\n\n  var source = context.source;\n\n  if (!source) {\n    throw new Error('source required');\n  }\n\n  var target = context.target || source.parent,\n      shape = context.shape,\n      hints = context.hints || {};\n\n  shape = context.shape =\n    this._modeling.createShape(\n      shape,\n      context.position,\n      target, { attach: hints.attach });\n\n  context.shape = shape;\n};\n\nAppendShapeHandler.prototype.postExecute = function(context) {\n  var hints = context.hints || {};\n\n  if (!existsConnection(context.source, context.shape)) {\n\n    // create connection\n    if (hints.connectionTarget === context.source) {\n      this._modeling.connect(context.shape, context.source, context.connection);\n    } else {\n      this._modeling.connect(context.source, context.shape, context.connection);\n    }\n  }\n};\n\n\nfunction existsConnection(source, target) {\n  return some(source.outgoing, function(c) {\n    return c.target === target;\n  });\n}","export default function CreateConnectionHandler(canvas, layouter) {\n  this._canvas = canvas;\n  this._layouter = layouter;\n}\n\nCreateConnectionHandler.$inject = [ 'canvas', 'layouter' ];\n\n\n// api //////////////////////\n\n\n/**\n * Appends a shape to a target shape\n *\n * @param {Object} context\n * @param {djs.element.Base} context.source the source object\n * @param {djs.element.Base} context.target the parent object\n * @param {Point} context.position position of the new element\n */\nCreateConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      source = context.source,\n      target = context.target,\n      parent = context.parent,\n      parentIndex = context.parentIndex,\n      hints = context.hints;\n\n  if (!source || !target) {\n    throw new Error('source and target required');\n  }\n\n  if (!parent) {\n    throw new Error('parent required');\n  }\n\n  connection.source = source;\n  connection.target = target;\n\n  if (!connection.waypoints) {\n    connection.waypoints = this._layouter.layoutConnection(connection, hints);\n  }\n\n  // add connection\n  this._canvas.addConnection(connection, parent, parentIndex);\n\n  return connection;\n};\n\nCreateConnectionHandler.prototype.revert = function(context) {\n  var connection = context.connection;\n\n  this._canvas.removeConnection(connection);\n\n  connection.source = null;\n  connection.target = null;\n\n  return connection;\n};","import {\r\n  assign,\r\n  forEach,\r\n  isNumber,\r\n  map,\r\n  pick,\r\n  values\r\n} from 'min-dash';\r\n\r\nimport {\r\n  getBBox,\r\n  getParents\r\n} from '../../../util/Elements';\r\n\r\nvar round = Math.round;\r\n\r\nexport default function CreateElementsHandler(modeling) {\r\n  this._modeling = modeling;\r\n}\r\n\r\nCreateElementsHandler.$inject = [\r\n  'modeling'\r\n];\r\n\r\nCreateElementsHandler.prototype.preExecute = function(context) {\r\n  var elements = context.elements,\r\n      parent = context.parent,\r\n      parentIndex = context.parentIndex,\r\n      position = context.position,\r\n      hints = context.hints;\r\n\r\n  var modeling = this._modeling;\r\n\r\n  // make sure each element has x and y\r\n  forEach(elements, function(element) {\r\n    if (!isNumber(element.x)) {\r\n      element.x = 0;\r\n    }\r\n\r\n    if (!isNumber(element.y)) {\r\n      element.y = 0;\r\n    }\r\n  });\r\n\r\n  var bbox = getBBox(elements);\r\n\r\n  // center elements around position\r\n  forEach(elements, function(element) {\r\n    if (isConnection(element)) {\r\n      element.waypoints = map(element.waypoints, function(waypoint) {\r\n        return {\r\n          x: round(waypoint.x - bbox.x - bbox.width / 2 + position.x),\r\n          y: round(waypoint.y - bbox.y - bbox.height / 2 + position.y)\r\n        };\r\n      });\r\n    }\r\n\r\n    assign(element, {\r\n      x: round(element.x - bbox.x - bbox.width / 2 + position.x),\r\n      y: round(element.y - bbox.y - bbox.height / 2 + position.y)\r\n    });\r\n  });\r\n\r\n  var parents = getParents(elements);\r\n\r\n  var cache = {};\r\n\r\n  forEach(elements, function(element) {\r\n    if (isConnection(element)) {\r\n      cache[ element.id ] = isNumber(parentIndex) ?\r\n        modeling.createConnection(\r\n          cache[ element.source.id ],\r\n          cache[ element.target.id ],\r\n          parentIndex,\r\n          element,\r\n          element.parent || parent,\r\n          hints\r\n        ) :\r\n        modeling.createConnection(\r\n          cache[ element.source.id ],\r\n          cache[ element.target.id ],\r\n          element,\r\n          element.parent || parent,\r\n          hints\r\n        );\r\n\r\n      return;\r\n    }\r\n\r\n    var createShapeHints = assign({}, hints);\r\n\r\n    if (parents.indexOf(element) === -1) {\r\n      createShapeHints.autoResize = false;\r\n    }\r\n\r\n    cache[ element.id ] = isNumber(parentIndex) ?\r\n      modeling.createShape(\r\n        element,\r\n        pick(element, [ 'x', 'y', 'width', 'height' ]),\r\n        element.parent || parent,\r\n        parentIndex,\r\n        createShapeHints\r\n      ) :\r\n      modeling.createShape(\r\n        element,\r\n        pick(element, [ 'x', 'y', 'width', 'height' ]),\r\n        element.parent || parent,\r\n        createShapeHints\r\n      );\r\n  });\r\n\r\n  context.elements = values(cache);\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction isConnection(element) {\r\n  return !!element.waypoints;\r\n}","import { assign } from 'min-dash';\n\nvar round = Math.round;\n\n\n/**\n * A handler that implements reversible addition of shapes.\n *\n * @param {canvas} Canvas\n */\nexport default function CreateShapeHandler(canvas) {\n  this._canvas = canvas;\n}\n\nCreateShapeHandler.$inject = [ 'canvas' ];\n\n\n// api //////////////////////\n\n\n/**\n * Appends a shape to a target shape\n *\n * @param {Object} context\n * @param {djs.model.Base} context.parent the parent object\n * @param {Point} context.position position of the new element\n */\nCreateShapeHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      positionOrBounds = context.position,\n      parent = context.parent,\n      parentIndex = context.parentIndex;\n\n  if (!parent) {\n    throw new Error('parent required');\n  }\n\n  if (!positionOrBounds) {\n    throw new Error('position required');\n  }\n\n  // (1) add at event center position _or_ at given bounds\n  if (positionOrBounds.width !== undefined) {\n    assign(shape, positionOrBounds);\n  } else {\n    assign(shape, {\n      x: positionOrBounds.x - round(shape.width / 2),\n      y: positionOrBounds.y - round(shape.height / 2)\n    });\n  }\n\n  // (2) add to canvas\n  this._canvas.addShape(shape, parent, parentIndex);\n\n  return shape;\n};\n\n\n/**\n * Undo append by removing the shape\n */\nCreateShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape;\n\n  // (3) remove form canvas\n  this._canvas.removeShape(shape);\n\n  return shape;\n};","import inherits from 'inherits';\n\nimport CreateShapeHandler from './CreateShapeHandler';\n\n\n/**\n * A handler that attaches a label to a given target shape.\n *\n * @param {Canvas} canvas\n */\nexport default function CreateLabelHandler(canvas) {\n  CreateShapeHandler.call(this, canvas);\n}\n\ninherits(CreateLabelHandler, CreateShapeHandler);\n\nCreateLabelHandler.$inject = [ 'canvas' ];\n\n\n// api //////////////////////\n\n\nvar originalExecute = CreateShapeHandler.prototype.execute;\n\n/**\n * Appends a label to a target shape.\n *\n * @method CreateLabelHandler#execute\n *\n * @param {Object} context\n * @param {ElementDescriptor} context.target the element the label is attached to\n * @param {ElementDescriptor} context.parent the parent object\n * @param {Point} context.position position of the new element\n */\nCreateLabelHandler.prototype.execute = function(context) {\n\n  var label = context.shape;\n\n  ensureValidDimensions(label);\n\n  label.labelTarget = context.labelTarget;\n\n  return originalExecute.call(this, context);\n};\n\nvar originalRevert = CreateShapeHandler.prototype.revert;\n\n/**\n * Undo append by removing the shape\n */\nCreateLabelHandler.prototype.revert = function(context) {\n  context.shape.labelTarget = null;\n\n  return originalRevert.call(this, context);\n};\n\n\n// helpers //////////////////////\n\nfunction ensureValidDimensions(label) {\n\n  // make sure a label has valid { width, height } dimensions\n  [ 'width', 'height' ].forEach(function(prop) {\n    if (typeof label[prop] === 'undefined') {\n      label[prop] = 0;\n    }\n  });\n}","import {\n  add as collectionAdd,\n  indexOf as collectionIdx\n} from '../../../util/Collections';\n\n\n/**\n * A handler that implements reversible deletion of Connections.\n */\nexport default function DeleteConnectionHandler(canvas, modeling) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n}\n\nDeleteConnectionHandler.$inject = [\n  'canvas',\n  'modeling'\n];\n\n\nDeleteConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      parent = connection.parent;\n\n  context.parent = parent;\n\n  // remember containment\n  context.parentIndex = collectionIdx(parent.children, connection);\n\n  context.source = connection.source;\n  context.target = connection.target;\n\n  this._canvas.removeConnection(connection);\n\n  connection.source = null;\n  connection.target = null;\n\n  return connection;\n};\n\n/**\n * Command revert implementation.\n */\nDeleteConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      parent = context.parent,\n      parentIndex = context.parentIndex;\n\n  connection.source = context.source;\n  connection.target = context.target;\n\n  // restore containment\n  collectionAdd(parent.children, connection, parentIndex);\n\n  this._canvas.addConnection(connection, parent);\n\n  return connection;\n};\n","import { forEach } from 'min-dash';\n\n\nexport default function DeleteElementsHandler(modeling, elementRegistry) {\n  this._modeling = modeling;\n  this._elementRegistry = elementRegistry;\n}\n\nDeleteElementsHandler.$inject = [\n  'modeling',\n  'elementRegistry'\n];\n\n\nDeleteElementsHandler.prototype.postExecute = function(context) {\n\n  var modeling = this._modeling,\n      elementRegistry = this._elementRegistry,\n      elements = context.elements;\n\n  forEach(elements, function(element) {\n\n    // element may have been removed with previous\n    // remove operations already (e.g. in case of nesting)\n    if (!elementRegistry.get(element.id)) {\n      return;\n    }\n\n    if (element.waypoints) {\n      modeling.removeConnection(element);\n    } else {\n      modeling.removeShape(element);\n    }\n  });\n};","/**\n * Remove from the beginning of a collection until it is empty.\n *\n * This is a null-safe operation that ensures elements\n * are being removed from the given collection until the\n * collection is empty.\n *\n * The implementation deals with the fact that a remove operation\n * may touch, i.e. remove multiple elements in the collection\n * at a time.\n *\n * @param {Array<Object>} [collection]\n * @param {Function} removeFn\n *\n * @return {Array<Object>} the cleared collection\n */\nexport function saveClear(collection, removeFn) {\n\n  if (typeof removeFn !== 'function') {\n    throw new Error('removeFn iterator must be a function');\n  }\n\n  if (!collection) {\n    return;\n  }\n\n  var e;\n\n  while ((e = collection[0])) {\n    removeFn(e);\n  }\n\n  return collection;\n}\n","import {\n  add as collectionAdd,\n  indexOf as collectionIdx\n} from '../../../util/Collections';\n\nimport { saveClear } from '../../../util/Removal';\n\n\n/**\n * A handler that implements reversible deletion of shapes.\n *\n */\nexport default function DeleteShapeHandler(canvas, modeling) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n}\n\nDeleteShapeHandler.$inject = [ 'canvas', 'modeling' ];\n\n\n/**\n * - Remove connections\n * - Remove all direct children\n */\nDeleteShapeHandler.prototype.preExecute = function(context) {\n\n  var modeling = this._modeling;\n\n  var shape = context.shape;\n\n  // remove connections\n  saveClear(shape.incoming, function(connection) {\n\n    // To make sure that the connection isn't removed twice\n    // For example if a container is removed\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  saveClear(shape.outgoing, function(connection) {\n    modeling.removeConnection(connection, { nested: true });\n  });\n\n  // remove child shapes and connections\n  saveClear(shape.children, function(child) {\n    if (isConnection(child)) {\n      modeling.removeConnection(child, { nested: true });\n    } else {\n      modeling.removeShape(child, { nested: true });\n    }\n  });\n};\n\n/**\n * Remove shape and remember the parent\n */\nDeleteShapeHandler.prototype.execute = function(context) {\n  var canvas = this._canvas;\n\n  var shape = context.shape,\n      oldParent = shape.parent;\n\n  context.oldParent = oldParent;\n\n  // remove containment\n  context.oldParentIndex = collectionIdx(oldParent.children, shape);\n\n  // remove shape\n  canvas.removeShape(shape);\n\n  return shape;\n};\n\n\n/**\n * Command revert implementation\n */\nDeleteShapeHandler.prototype.revert = function(context) {\n\n  var canvas = this._canvas;\n\n  var shape = context.shape,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex;\n\n  // restore containment\n  collectionAdd(oldParent.children, shape, oldParentIndex);\n\n  canvas.addShape(shape, oldParent);\n\n  return shape;\n};\n\nfunction isConnection(element) {\n  return element.waypoints;\n}\n","import {\n  forEach,\n  sortBy\n} from 'min-dash';\n\n\n/**\n * A handler that distributes elements evenly.\n */\nexport default function DistributeElements(modeling) {\n  this._modeling = modeling;\n}\n\nDistributeElements.$inject = [ 'modeling' ];\n\nvar OFF_AXIS = {\n  x: 'y',\n  y: 'x'\n};\n\nDistributeElements.prototype.preExecute = function(context) {\n  var modeling = this._modeling;\n\n  var groups = context.groups,\n      axis = context.axis,\n      dimension = context.dimension;\n\n  function updateRange(group, element) {\n    group.range.min = Math.min(element[axis], group.range.min);\n    group.range.max = Math.max(element[axis] + element[dimension], group.range.max);\n  }\n\n  function center(element) {\n    return element[axis] + element[dimension] / 2;\n  }\n\n  function lastIdx(arr) {\n    return arr.length - 1;\n  }\n\n  function rangeDiff(range) {\n    return range.max - range.min;\n  }\n\n  function centerElement(refCenter, element) {\n    var delta = { y: 0 };\n\n    delta[axis] = refCenter - center(element);\n\n    if (delta[axis]) {\n\n      delta[OFF_AXIS[axis]] = 0;\n\n      modeling.moveElements([ element ], delta, element.parent);\n    }\n  }\n\n  var firstGroup = groups[0],\n      lastGroupIdx = lastIdx(groups),\n      lastGroup = groups[ lastGroupIdx ];\n\n  var margin,\n      spaceInBetween,\n      groupsSize = 0; // the size of each range\n\n  forEach(groups, function(group, idx) {\n    var sortedElements,\n        refElem,\n        refCenter;\n\n    if (group.elements.length < 2) {\n      if (idx && idx !== groups.length - 1) {\n        updateRange(group, group.elements[0]);\n\n        groupsSize += rangeDiff(group.range);\n      }\n      return;\n    }\n\n    sortedElements = sortBy(group.elements, axis);\n\n    refElem = sortedElements[0];\n\n    if (idx === lastGroupIdx) {\n      refElem = sortedElements[lastIdx(sortedElements)];\n    }\n\n    refCenter = center(refElem);\n\n    // wanna update the ranges after the shapes have been centered\n    group.range = null;\n\n    forEach(sortedElements, function(element) {\n\n      centerElement(refCenter, element);\n\n      if (group.range === null) {\n        group.range = {\n          min: element[axis],\n          max: element[axis] + element[dimension]\n        };\n\n        return;\n      }\n\n      // update group's range after centering the range elements\n      updateRange(group, element);\n    });\n\n    if (idx && idx !== groups.length - 1) {\n      groupsSize += rangeDiff(group.range);\n    }\n  });\n\n  spaceInBetween = Math.abs(lastGroup.range.min - firstGroup.range.max);\n\n  margin = Math.round((spaceInBetween - groupsSize) / (groups.length - 1));\n\n  if (margin < groups.length - 1) {\n    return;\n  }\n\n  forEach(groups, function(group, groupIdx) {\n    var delta = {},\n        prevGroup;\n\n    if (group === firstGroup || group === lastGroup) {\n      return;\n    }\n\n    prevGroup = groups[groupIdx - 1];\n\n    group.range.max = 0;\n\n    forEach(group.elements, function(element, idx) {\n      delta[OFF_AXIS[axis]] = 0;\n      delta[axis] = (prevGroup.range.max - element[axis]) + margin;\n\n      if (group.range.min !== element[axis]) {\n        delta[axis] += element[axis] - group.range.min;\n      }\n\n      if (delta[axis]) {\n        modeling.moveElements([ element ], delta, element.parent);\n      }\n\n      group.range.max = Math.max(element[axis] + element[dimension], idx ? group.range.max : 0);\n    });\n  });\n};\n\nDistributeElements.prototype.postExecute = function(context) {\n\n};\n","import { assign } from 'min-dash';\n\n\n/**\n * A handler that implements reversible moving of shapes.\n */\nexport default function LayoutConnectionHandler(layouter, canvas) {\n  this._layouter = layouter;\n  this._canvas = canvas;\n}\n\nLayoutConnectionHandler.$inject = [ 'layouter', 'canvas' ];\n\nLayoutConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection;\n\n  var oldWaypoints = connection.waypoints;\n\n  assign(context, {\n    oldWaypoints: oldWaypoints\n  });\n\n  connection.waypoints = this._layouter.layoutConnection(connection, context.hints);\n\n  return connection;\n};\n\nLayoutConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection;\n\n  connection.waypoints = context.oldWaypoints;\n\n  return connection;\n};\n","import { forEach } from 'min-dash';\n\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\n\n/**\n * A handler that implements reversible moving of connections.\n *\n * The handler differs from the layout connection handler in a sense\n * that it preserves the connection layout.\n */\nexport default function MoveConnectionHandler() { }\n\n\nMoveConnectionHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      delta = context.delta;\n\n  var newParent = context.newParent || connection.parent,\n      newParentIndex = context.newParentIndex,\n      oldParent = connection.parent;\n\n  // save old parent in context\n  context.oldParent = oldParent;\n  context.oldParentIndex = collectionRemove(oldParent.children, connection);\n\n  // add to new parent at position\n  collectionAdd(newParent.children, connection, newParentIndex);\n\n  // update parent\n  connection.parent = newParent;\n\n  // update waypoint positions\n  forEach(connection.waypoints, function(p) {\n    p.x += delta.x;\n    p.y += delta.y;\n\n    if (p.original) {\n      p.original.x += delta.x;\n      p.original.y += delta.y;\n    }\n  });\n\n  return connection;\n};\n\nMoveConnectionHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      newParent = connection.parent,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex,\n      delta = context.delta;\n\n  // remove from newParent\n  collectionRemove(newParent.children, connection);\n\n  // restore previous location in old parent\n  collectionAdd(oldParent.children, connection, oldParentIndex);\n\n  // restore parent\n  connection.parent = oldParent;\n\n  // revert to old waypoint positions\n  forEach(connection.waypoints, function(p) {\n    p.x -= delta.x;\n    p.y -= delta.y;\n\n    if (p.original) {\n      p.original.x -= delta.x;\n      p.original.y -= delta.y;\n    }\n  });\n\n  return connection;\n};","import {\n  asTRBL,\n  getOrientation,\n  roundPoint\n} from '../layout/LayoutUtil';\n\nimport {\n  center,\n  delta\n} from './PositionUtil';\n\n\n/**\n * Calculates the absolute point relative to the new element's position\n *\n * @param {point} point [absolute]\n * @param {bounds} oldBounds\n * @param {bounds} newBounds\n *\n * @return {point} point [absolute]\n */\nexport function getNewAttachPoint(point, oldBounds, newBounds) {\n  var oldCenter = center(oldBounds),\n      newCenter = center(newBounds),\n      oldDelta = delta(point, oldCenter);\n\n  var newDelta = {\n    x: oldDelta.x * (newBounds.width / oldBounds.width),\n    y: oldDelta.y * (newBounds.height / oldBounds.height)\n  };\n\n  return roundPoint({\n    x: newCenter.x + newDelta.x,\n    y: newCenter.y + newDelta.y\n  });\n}\n\n\n/**\n * Calculates the shape's delta relative to a new position\n * of a certain element's bounds\n *\n * @param {djs.model.Shape} point [absolute]\n * @param {bounds} oldBounds\n * @param {bounds} newBounds\n *\n * @return {delta} delta\n */\nexport function getNewAttachShapeDelta(shape, oldBounds, newBounds) {\n  var shapeCenter = center(shape),\n      oldCenter = center(oldBounds),\n      newCenter = center(newBounds),\n      shapeDelta = delta(shape, shapeCenter),\n      oldCenterDelta = delta(shapeCenter, oldCenter),\n      stickyPositionDelta = getStickyPositionDelta(shapeCenter, oldBounds, newBounds);\n\n  if (stickyPositionDelta) {\n    return stickyPositionDelta;\n  }\n\n  var newCenterDelta = {\n    x: oldCenterDelta.x * (newBounds.width / oldBounds.width),\n    y: oldCenterDelta.y * (newBounds.height / oldBounds.height)\n  };\n\n  var newShapeCenter = {\n    x: newCenter.x + newCenterDelta.x,\n    y: newCenter.y + newCenterDelta.y\n  };\n\n  return roundPoint({\n    x: newShapeCenter.x + shapeDelta.x - shape.x,\n    y: newShapeCenter.y + shapeDelta.y - shape.y\n  });\n}\n\nfunction getStickyPositionDelta(oldShapeCenter, oldBounds, newBounds) {\n  var oldTRBL = asTRBL(oldBounds),\n      newTRBL = asTRBL(newBounds);\n\n  if (isMoved(oldTRBL, newTRBL)) {\n    return null;\n  }\n\n  var oldOrientation = getOrientation(oldBounds, oldShapeCenter),\n      stickyPositionDelta,\n      newShapeCenter,\n      newOrientation;\n\n  if (oldOrientation === 'top') {\n    stickyPositionDelta = {\n      x: 0,\n      y: newTRBL.bottom - oldTRBL.bottom\n    };\n  } else if (oldOrientation === 'bottom') {\n    stickyPositionDelta = {\n      x: 0,\n      y: newTRBL.top - oldTRBL.top\n    };\n  } else if (oldOrientation === 'right') {\n    stickyPositionDelta = {\n      x: newTRBL.left - oldTRBL.left,\n      y: 0\n    };\n  } else if (oldOrientation === 'left') {\n    stickyPositionDelta = {\n      x: newTRBL.right - oldTRBL.right,\n      y: 0\n    };\n  } else {\n\n    // fallback to proportional movement for corner-placed attachments\n    return null;\n  }\n\n  newShapeCenter = {\n    x: oldShapeCenter.x + stickyPositionDelta.x,\n    y: oldShapeCenter.y + stickyPositionDelta.y\n  };\n\n  newOrientation = getOrientation(newBounds, newShapeCenter);\n\n  if (newOrientation !== oldOrientation) {\n\n    // fallback to proportional movement if orientation would otherwise change\n    return null;\n  }\n\n  return stickyPositionDelta;\n}\n\nfunction isMoved(oldTRBL, newTRBL) {\n  return isHorizontallyMoved(oldTRBL, newTRBL) || isVerticallyMoved(oldTRBL, newTRBL);\n}\n\nfunction isHorizontallyMoved(oldTRBL, newTRBL) {\n  return oldTRBL.right !== newTRBL.right && oldTRBL.left !== newTRBL.left;\n}\n\nfunction isVerticallyMoved(oldTRBL, newTRBL) {\n  return oldTRBL.top !== newTRBL.top && oldTRBL.bottom !== newTRBL.bottom;\n}\n","import {\n  getNewAttachPoint\n} from '../../../../util/AttachUtil';\n\nimport {\n  getOrientation\n} from '../../../../layout/LayoutUtil';\n\nimport {\n  filter,\n  map\n} from 'min-dash';\n\n\nexport function getResizedSourceAnchor(connection, shape, oldBounds) {\n\n  var waypoints = safeGetWaypoints(connection),\n      waypointsInsideNewBounds = getWaypointsInsideBounds(waypoints, shape),\n      oldAnchor = waypoints[0];\n\n  // new anchor is the last waypoint enclosed be resized source\n  if (waypointsInsideNewBounds.length) {\n    return waypointsInsideNewBounds[ waypointsInsideNewBounds.length - 1 ];\n  }\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, shape);\n}\n\n\nexport function getResizedTargetAnchor(connection, shape, oldBounds) {\n\n  var waypoints = safeGetWaypoints(connection),\n      waypointsInsideNewBounds = getWaypointsInsideBounds(waypoints, shape),\n      oldAnchor = waypoints[waypoints.length - 1];\n\n  // new anchor is the first waypoint enclosed be resized target\n  if (waypointsInsideNewBounds.length) {\n    return waypointsInsideNewBounds[ 0 ];\n  }\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, shape);\n}\n\n\nexport function getMovedSourceAnchor(connection, source, moveDelta) {\n\n  var waypoints = safeGetWaypoints(connection),\n      oldBounds = subtract(source, moveDelta),\n      oldAnchor = waypoints[ 0 ];\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, source);\n}\n\n\nexport function getMovedTargetAnchor(connection, target, moveDelta) {\n\n  var waypoints = safeGetWaypoints(connection),\n      oldBounds = subtract(target, moveDelta),\n      oldAnchor = waypoints[ waypoints.length - 1 ];\n\n  return getNewAttachPoint(oldAnchor.original || oldAnchor, oldBounds, target);\n}\n\n\n// helpers //////////////////////\n\nfunction subtract(bounds, delta) {\n  return {\n    x: bounds.x - delta.x,\n    y: bounds.y - delta.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\n\n/**\n * Return waypoints of given connection; throw if non exists (should not happen!!).\n *\n * @param {Connection} connection\n *\n * @return {Array<Point>}\n */\nfunction safeGetWaypoints(connection) {\n\n  var waypoints = connection.waypoints;\n\n  if (!waypoints.length) {\n    throw new Error('connection#' + connection.id + ': no waypoints');\n  }\n\n  return waypoints;\n}\n\nfunction getWaypointsInsideBounds(waypoints, bounds) {\n  var originalWaypoints = map(waypoints, getOriginal);\n\n  return filter(originalWaypoints, function(waypoint) {\n    return isInsideBounds(waypoint, bounds);\n  });\n}\n\n/**\n * Checks if point is inside bounds, incl. edges.\n *\n * @param {Point} point\n * @param {Bounds} bounds\n */\nfunction isInsideBounds(point, bounds) {\n  return getOrientation(bounds, point, 1) === 'intersect';\n}\n\nfunction getOriginal(point) {\n  return point.original || point;\n}\n","import {\n  assign\n} from 'min-dash';\n\nimport {\n  getClosure\n} from '../../../../util/Elements';\n\n\nexport default function MoveClosure() {\n\n  this.allShapes = {};\n  this.allConnections = {};\n\n  this.enclosedElements = {};\n  this.enclosedConnections = {};\n\n  this.topLevel = {};\n}\n\n\nMoveClosure.prototype.add = function(element, isTopLevel) {\n  return this.addAll([ element ], isTopLevel);\n};\n\n\nMoveClosure.prototype.addAll = function(elements, isTopLevel) {\n\n  var newClosure = getClosure(elements, !!isTopLevel, this);\n\n  assign(this, newClosure);\n\n  return this;\n};","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor\n} from './AnchorsHelper';\n\nimport MoveClosure from './MoveClosure';\n\n\n/**\n * A helper that is able to carry out serialized move\n * operations on multiple elements.\n *\n * @param {Modeling} modeling\n */\nexport default function MoveHelper(modeling) {\n  this._modeling = modeling;\n}\n\n/**\n * Move the specified elements and all children by the given delta.\n *\n * This moves all enclosed connections, too and layouts all affected\n * external connections.\n *\n * @param  {Array<djs.model.Base>} elements\n * @param  {Point} delta\n * @param  {djs.model.Base} newParent applied to the first level of shapes\n *\n * @return {Array<djs.model.Base>} list of touched elements\n */\nMoveHelper.prototype.moveRecursive = function(elements, delta, newParent) {\n  if (!elements) {\n    return [];\n  } else {\n    return this.moveClosure(this.getClosure(elements), delta, newParent);\n  }\n};\n\n/**\n * Move the given closure of elmements.\n *\n * @param {Object} closure\n * @param {Point} delta\n * @param {djs.model.Base} [newParent]\n * @param {djs.model.Base} [newHost]\n */\nMoveHelper.prototype.moveClosure = function(closure, delta, newParent, newHost, primaryShape) {\n  var modeling = this._modeling;\n\n  var allShapes = closure.allShapes,\n      allConnections = closure.allConnections,\n      enclosedConnections = closure.enclosedConnections,\n      topLevel = closure.topLevel,\n      keepParent = false;\n\n  if (primaryShape && primaryShape.parent === newParent) {\n    keepParent = true;\n  }\n\n  // move all shapes\n  forEach(allShapes, function(shape) {\n\n    // move the element according to the given delta\n    modeling.moveShape(shape, delta, topLevel[shape.id] && !keepParent && newParent, {\n      recurse: false,\n      layout: false\n    });\n  });\n\n  // move all child connections / layout external connections\n  forEach(allConnections, function(c) {\n\n    var sourceMoved = !!allShapes[c.source.id],\n        targetMoved = !!allShapes[c.target.id];\n\n    if (enclosedConnections[c.id] && sourceMoved && targetMoved) {\n      modeling.moveConnection(c, delta, topLevel[c.id] && !keepParent && newParent);\n    } else {\n      modeling.layoutConnection(c, {\n        connectionStart: sourceMoved && getMovedSourceAnchor(c, c.source, delta),\n        connectionEnd: targetMoved && getMovedTargetAnchor(c, c.target, delta)\n      });\n    }\n  });\n};\n\n/**\n * Returns the closure for the selected elements\n *\n * @param  {Array<djs.model.Base>} elements\n * @return {MoveClosure} closure\n */\nMoveHelper.prototype.getClosure = function(elements) {\n  return new MoveClosure().addAll(elements, true);\n};","import MoveHelper from './helper/MoveHelper';\n\n\n/**\n * A handler that implements reversible moving of shapes.\n */\nexport default function MoveElementsHandler(modeling) {\n  this._helper = new MoveHelper(modeling);\n}\n\nMoveElementsHandler.$inject = [ 'modeling' ];\n\nMoveElementsHandler.prototype.preExecute = function(context) {\n  context.closure = this._helper.getClosure(context.shapes);\n};\n\nMoveElementsHandler.prototype.postExecute = function(context) {\n\n  var hints = context.hints,\n      primaryShape;\n\n  if (hints && hints.primaryShape) {\n    primaryShape = hints.primaryShape;\n    hints.oldParent = primaryShape.parent;\n  }\n\n  this._helper.moveClosure(\n    context.closure,\n    context.delta,\n    context.newParent,\n    context.newHost,\n    primaryShape\n  );\n};","import {\n  assign,\n  forEach,\n  pick\n} from 'min-dash';\n\nimport MoveHelper from './helper/MoveHelper';\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor\n} from './helper/AnchorsHelper';\n\n\n/**\n * A handler that implements reversible moving of shapes.\n */\nexport default function MoveShapeHandler(modeling) {\n  this._modeling = modeling;\n\n  this._helper = new MoveHelper(modeling);\n}\n\nMoveShapeHandler.$inject = [ 'modeling' ];\n\n\nMoveShapeHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      delta = context.delta,\n      newParent = context.newParent || shape.parent,\n      newParentIndex = context.newParentIndex,\n      oldParent = shape.parent;\n\n  context.oldBounds = pick(shape, [ 'x', 'y', 'width', 'height']);\n\n  // save old parent in context\n  context.oldParent = oldParent;\n  context.oldParentIndex = collectionRemove(oldParent.children, shape);\n\n  // add to new parent at position\n  collectionAdd(newParent.children, shape, newParentIndex);\n\n  // update shape parent + position\n  assign(shape, {\n    parent: newParent,\n    x: shape.x + delta.x,\n    y: shape.y + delta.y\n  });\n\n  return shape;\n};\n\nMoveShapeHandler.prototype.postExecute = function(context) {\n\n  var shape = context.shape,\n      delta = context.delta,\n      hints = context.hints;\n\n  var modeling = this._modeling;\n\n  if (hints.layout !== false) {\n\n    forEach(shape.incoming, function(c) {\n      modeling.layoutConnection(c, {\n        connectionEnd: getMovedTargetAnchor(c, shape, delta)\n      });\n    });\n\n    forEach(shape.outgoing, function(c) {\n      modeling.layoutConnection(c, {\n        connectionStart: getMovedSourceAnchor(c, shape, delta)\n      });\n    });\n  }\n\n  if (hints.recurse !== false) {\n    this.moveChildren(context);\n  }\n};\n\nMoveShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldParent = context.oldParent,\n      oldParentIndex = context.oldParentIndex,\n      delta = context.delta;\n\n  // restore previous location in old parent\n  collectionAdd(oldParent.children, shape, oldParentIndex);\n\n  // revert to old position and parent\n  assign(shape, {\n    parent: oldParent,\n    x: shape.x - delta.x,\n    y: shape.y - delta.y\n  });\n\n  return shape;\n};\n\nMoveShapeHandler.prototype.moveChildren = function(context) {\n\n  var delta = context.delta,\n      shape = context.shape;\n\n  this._helper.moveRecursive(shape.children, delta, null);\n};\n\nMoveShapeHandler.prototype.getNewParent = function(context) {\n  return context.newParent || context.shape.parent;\n};\n","import { isArray } from 'min-dash';\n\n\n/**\n * Reconnect connection handler\n */\nexport default function ReconnectConnectionHandler(modeling) {\n  this._modeling = modeling;\n}\n\nReconnectConnectionHandler.$inject = [ 'modeling' ];\n\nReconnectConnectionHandler.prototype.execute = function(context) {\n  var newSource = context.newSource,\n      newTarget = context.newTarget,\n      connection = context.connection,\n      dockingOrPoints = context.dockingOrPoints;\n\n  if (!newSource && !newTarget) {\n    throw new Error('newSource or newTarget required');\n  }\n\n  if (isArray(dockingOrPoints)) {\n    context.oldWaypoints = connection.waypoints;\n    connection.waypoints = dockingOrPoints;\n  }\n\n  if (newSource) {\n    context.oldSource = connection.source;\n    connection.source = newSource;\n  }\n\n  if (newTarget) {\n    context.oldTarget = connection.target;\n    connection.target = newTarget;\n  }\n\n  return connection;\n};\n\nReconnectConnectionHandler.prototype.postExecute = function(context) {\n  var connection = context.connection,\n      newSource = context.newSource,\n      newTarget = context.newTarget,\n      dockingOrPoints = context.dockingOrPoints,\n      hints = context.hints || {};\n\n  var layoutConnectionHints = {};\n\n  if (hints.connectionStart) {\n    layoutConnectionHints.connectionStart = hints.connectionStart;\n  }\n\n  if (hints.connectionEnd) {\n    layoutConnectionHints.connectionEnd = hints.connectionEnd;\n  }\n\n  if (hints.layoutConnection === false) {\n    return;\n  }\n\n  if (newSource && (!newTarget || hints.docking === 'source')) {\n    layoutConnectionHints.connectionStart = layoutConnectionHints.connectionStart\n      || getDocking(isArray(dockingOrPoints) ? dockingOrPoints[ 0 ] : dockingOrPoints);\n  }\n\n  if (newTarget && (!newSource || hints.docking === 'target')) {\n    layoutConnectionHints.connectionEnd = layoutConnectionHints.connectionEnd\n      || getDocking(isArray(dockingOrPoints) ? dockingOrPoints[ dockingOrPoints.length - 1 ] : dockingOrPoints);\n  }\n\n  if (hints.newWaypoints) {\n    layoutConnectionHints.waypoints = hints.newWaypoints;\n  }\n\n  this._modeling.layoutConnection(connection, layoutConnectionHints);\n};\n\nReconnectConnectionHandler.prototype.revert = function(context) {\n  var oldSource = context.oldSource,\n      oldTarget = context.oldTarget,\n      oldWaypoints = context.oldWaypoints,\n      connection = context.connection;\n\n  if (oldSource) {\n    connection.source = oldSource;\n  }\n\n  if (oldTarget) {\n    connection.target = oldTarget;\n  }\n\n  if (oldWaypoints) {\n    connection.waypoints = oldWaypoints;\n  }\n\n  return connection;\n};\n\n\n\n// helpers //////////\n\nfunction getDocking(point) {\n  return point.original || point;\n}","import { forEach } from 'min-dash';\n\nimport {\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n/**\n * Replace shape by adding new shape and removing old shape. Incoming and outgoing connections will\n * be kept if possible.\n *\n * @class\n * @constructor\n *\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nexport default function ReplaceShapeHandler(modeling, rules) {\n  this._modeling = modeling;\n  this._rules = rules;\n}\n\nReplaceShapeHandler.$inject = [ 'modeling', 'rules' ];\n\n\n/**\n * Add new shape.\n *\n * @param {Object} context\n * @param {djs.model.Shape} context.oldShape\n * @param {Object} context.newData\n * @param {string} context.newData.type\n * @param {number} context.newData.x\n * @param {number} context.newData.y\n * @param {Object} [hints]\n */\nReplaceShapeHandler.prototype.preExecute = function(context) {\n  var self = this,\n      modeling = this._modeling,\n      rules = this._rules;\n\n  var oldShape = context.oldShape,\n      newData = context.newData,\n      hints = context.hints || {},\n      newShape;\n\n  function canReconnect(source, target, connection) {\n    return rules.allowed('connection.reconnect', {\n      connection: connection,\n      source: source,\n      target: target\n    });\n  }\n\n  // (1) add new shape at given position\n  var position = {\n    x: newData.x,\n    y: newData.y\n  };\n\n  var oldBounds = {\n    x: oldShape.x,\n    y: oldShape.y,\n    width: oldShape.width,\n    height: oldShape.height\n  };\n\n  newShape = context.newShape =\n    context.newShape ||\n    self.createShape(newData, position, oldShape.parent, hints);\n\n  // (2) update host\n  if (oldShape.host) {\n    modeling.updateAttachment(newShape, oldShape.host);\n  }\n\n  // (3) adopt all children from old shape\n  var children;\n\n  if (hints.moveChildren !== false) {\n    children = oldShape.children.slice();\n\n    modeling.moveElements(children, { x: 0, y: 0 }, newShape, hints);\n  }\n\n  // (4) reconnect connections to new shape if possible\n  var incoming = oldShape.incoming.slice(),\n      outgoing = oldShape.outgoing.slice();\n\n  forEach(incoming, function(connection) {\n    var source = connection.source,\n        allowed = canReconnect(source, newShape, connection);\n\n    if (allowed) {\n      self.reconnectEnd(\n        connection, newShape,\n        getResizedTargetAnchor(connection, newShape, oldBounds),\n        hints\n      );\n    }\n  });\n\n  forEach(outgoing, function(connection) {\n    var target = connection.target,\n        allowed = canReconnect(newShape, target, connection);\n\n    if (allowed) {\n      self.reconnectStart(\n        connection, newShape,\n        getResizedSourceAnchor(connection, newShape, oldBounds),\n        hints\n      );\n    }\n  });\n};\n\n\n/**\n * Remove old shape.\n */\nReplaceShapeHandler.prototype.postExecute = function(context) {\n  var oldShape = context.oldShape;\n\n  this._modeling.removeShape(oldShape);\n};\n\n\nReplaceShapeHandler.prototype.execute = function(context) {};\n\n\nReplaceShapeHandler.prototype.revert = function(context) {};\n\n\nReplaceShapeHandler.prototype.createShape = function(shape, position, target, hints) {\n  return this._modeling.createShape(shape, position, target, hints);\n};\n\n\nReplaceShapeHandler.prototype.reconnectStart = function(connection, newSource, dockingPoint, hints) {\n  this._modeling.reconnectStart(connection, newSource, dockingPoint, hints);\n};\n\n\nReplaceShapeHandler.prototype.reconnectEnd = function(connection, newTarget, dockingPoint, hints) {\n  this._modeling.reconnectEnd(connection, newTarget, dockingPoint, hints);\n};\n","import {\n  assign,\n  forEach\n} from 'min-dash';\n\nimport {\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n\n/**\n * A handler that implements reversible resizing of shapes.\n *\n * @param {Modeling} modeling\n */\nexport default function ResizeShapeHandler(modeling) {\n  this._modeling = modeling;\n}\n\nResizeShapeHandler.$inject = [ 'modeling' ];\n\n/**\n * {\n *   shape: {....}\n *   newBounds: {\n *     width:  20,\n *     height: 40,\n *     x:       5,\n *     y:      10\n *   }\n *\n * }\n */\nResizeShapeHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newBounds = context.newBounds,\n      minBounds = context.minBounds;\n\n  if (newBounds.x === undefined || newBounds.y === undefined ||\n      newBounds.width === undefined || newBounds.height === undefined) {\n    throw new Error('newBounds must have {x, y, width, height} properties');\n  }\n\n  if (minBounds && (newBounds.width < minBounds.width\n    || newBounds.height < minBounds.height)) {\n    throw new Error('width and height cannot be less than minimum height and width');\n  } else if (!minBounds\n    && newBounds.width < 10 || newBounds.height < 10) {\n    throw new Error('width and height cannot be less than 10px');\n  }\n\n  // save old bbox in context\n  context.oldBounds = {\n    width:  shape.width,\n    height: shape.height,\n    x:      shape.x,\n    y:      shape.y\n  };\n\n  // update shape\n  assign(shape, {\n    width:  newBounds.width,\n    height: newBounds.height,\n    x:      newBounds.x,\n    y:      newBounds.y\n  });\n\n  return shape;\n};\n\nResizeShapeHandler.prototype.postExecute = function(context) {\n  var modeling = this._modeling;\n\n  var shape = context.shape,\n      oldBounds = context.oldBounds,\n      hints = context.hints || {};\n\n  if (hints.layout === false) {\n    return;\n  }\n\n  forEach(shape.incoming, function(c) {\n    modeling.layoutConnection(c, {\n      connectionEnd: getResizedTargetAnchor(c, shape, oldBounds)\n    });\n  });\n\n  forEach(shape.outgoing, function(c) {\n    modeling.layoutConnection(c, {\n      connectionStart: getResizedSourceAnchor(c, shape, oldBounds)\n    });\n  });\n\n};\n\nResizeShapeHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldBounds = context.oldBounds;\n\n  // restore previous bbox\n  assign(shape, {\n    width:  oldBounds.width,\n    height: oldBounds.height,\n    x:      oldBounds.x,\n    y:      oldBounds.y\n  });\n\n  return shape;\n};\n","import { forEach } from 'min-dash';\n\n/**\n * Return direction given axis and delta.\n *\n * @param {string} axis\n * @param {number} delta\n *\n * @return {string}\n */\nexport function getDirection(axis, delta) {\n\n  if (axis === 'x') {\n    if (delta > 0) {\n      return 'e';\n    }\n\n    if (delta < 0) {\n      return 'w';\n    }\n  }\n\n  if (axis === 'y') {\n    if (delta > 0) {\n      return 's';\n    }\n\n    if (delta < 0) {\n      return 'n';\n    }\n  }\n\n  return null;\n}\n\n/**\n * Returns connections whose waypoints are to be updated. Waypoints are to be updated if start\n * or end is to be moved or resized.\n *\n * @param {Array<djs.model.Shape} movingShapes\n * @param {Array<djs.model.Shape} resizingShapes\n *\n * @returns {Array<djs.model.Connection>}\n */\nexport function getWaypointsUpdatingConnections(movingShapes, resizingShapes) {\n  var waypointsUpdatingConnections = [];\n\n  forEach(movingShapes.concat(resizingShapes), function(shape) {\n    var incoming = shape.incoming,\n        outgoing = shape.outgoing;\n\n    forEach(incoming.concat(outgoing), function(connection) {\n      var source = connection.source,\n          target = connection.target;\n\n      if (includes(movingShapes, source) ||\n        includes(movingShapes, target) ||\n        includes(resizingShapes, source) ||\n        includes(resizingShapes, target)) {\n\n        if (!includes(waypointsUpdatingConnections, connection)) {\n          waypointsUpdatingConnections.push(connection);\n        }\n      }\n    });\n  });\n\n  return waypointsUpdatingConnections;\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\n/**\n * Resize bounds.\n *\n * @param {Object} bounds\n * @param {number} bounds.x\n * @param {number} bounds.y\n * @param {number} bounds.width\n * @param {number} bounds.height\n * @param {string} direction\n * @param {Object} delta\n * @param {number} delta.x\n * @param {number} delta.y\n *\n * @return {Object}\n */\nexport function resizeBounds(bounds, direction, delta) {\n  var x = bounds.x,\n      y = bounds.y,\n      width = bounds.width,\n      height = bounds.height,\n      dx = delta.x,\n      dy = delta.y;\n\n  switch (direction) {\n  case 'n':\n    return {\n      x: x,\n      y: y + dy,\n      width: width,\n      height: height - dy\n    };\n  case 's':\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height + dy\n    };\n  case 'w':\n    return {\n      x: x + dx,\n      y: y,\n      width: width - dx,\n      height: height\n    };\n  case 'e':\n    return {\n      x: x,\n      y: y,\n      width: width + dx,\n      height: height\n    };\n  default:\n    throw new Error('unknown direction: ' + direction);\n  }\n}","import {\n  assign,\n  forEach,\n  map\n} from 'min-dash';\n\nimport {\n  getWaypointsUpdatingConnections,\n  resizeBounds\n} from '../../space-tool/SpaceUtil';\n\nimport {\n  getMovedSourceAnchor,\n  getMovedTargetAnchor,\n  getResizedSourceAnchor,\n  getResizedTargetAnchor\n} from './helper/AnchorsHelper';\n\n\n/**\n * Add or remove space by moving and resizing shapes and updating connection waypoints.\n */\nexport default function SpaceToolHandler(modeling) {\n  this._modeling = modeling;\n}\n\nSpaceToolHandler.$inject = [ 'modeling' ];\n\nSpaceToolHandler.prototype.preExecute = function(context) {\n  var delta = context.delta,\n      direction = context.direction,\n      movingShapes = context.movingShapes,\n      resizingShapes = context.resizingShapes,\n      start = context.start,\n      oldBounds = {};\n\n  // (1) move shapes\n  this.moveShapes(movingShapes, delta);\n\n  // (2a) save old bounds of resized shapes\n  forEach(resizingShapes, function(shape) {\n    oldBounds[shape.id] = getBounds(shape);\n  });\n\n  // (2b) resize shapes\n  this.resizeShapes(resizingShapes, delta, direction);\n\n  // (3) update connection waypoints\n  this.updateConnectionWaypoints(\n    getWaypointsUpdatingConnections(movingShapes, resizingShapes),\n    delta,\n    direction,\n    start,\n    movingShapes,\n    resizingShapes,\n    oldBounds\n  );\n};\n\nSpaceToolHandler.prototype.execute = function() {};\nSpaceToolHandler.prototype.revert = function() {};\n\nSpaceToolHandler.prototype.moveShapes = function(shapes, delta) {\n  var self = this;\n\n  forEach(shapes, function(element) {\n    self._modeling.moveShape(element, delta, null, {\n      autoResize: false,\n      layout: false,\n      recurse: false\n    });\n  });\n};\n\nSpaceToolHandler.prototype.resizeShapes = function(shapes, delta, direction) {\n  var self = this;\n\n  forEach(shapes, function(shape) {\n    var newBounds = resizeBounds(shape, direction, delta);\n\n    self._modeling.resizeShape(shape, newBounds, null, {\n      attachSupport: false,\n      autoResize: false,\n      layout: false\n    });\n  });\n};\n\n/**\n * Update connections waypoints according to the rules:\n *   1. Both source and target are moved/resized => move waypoints by the delta\n *   2. Only one of source and target is moved/resized => re-layout connection with moved start/end\n */\nSpaceToolHandler.prototype.updateConnectionWaypoints = function(\n    connections,\n    delta,\n    direction,\n    start,\n    movingShapes,\n    resizingShapes,\n    oldBounds\n) {\n  var self = this,\n      affectedShapes = movingShapes.concat(resizingShapes);\n\n  forEach(connections, function(connection) {\n    var source = connection.source,\n        target = connection.target,\n        waypoints = copyWaypoints(connection),\n        axis = getAxisFromDirection(direction),\n        layoutHints = {\n          labelBehavior: false\n        };\n\n    if (includes(affectedShapes, source) && includes(affectedShapes, target)) {\n\n      // move waypoints\n      waypoints = map(waypoints, function(waypoint) {\n        if (shouldMoveWaypoint(waypoint, start, direction)) {\n\n          // move waypoint\n          waypoint[ axis ] = waypoint[ axis ] + delta[ axis ];\n        }\n\n        if (waypoint.original && shouldMoveWaypoint(waypoint.original, start, direction)) {\n\n          // move waypoint original\n          waypoint.original[ axis ] = waypoint.original[ axis ] + delta[ axis ];\n        }\n\n        return waypoint;\n      });\n\n      self._modeling.updateWaypoints(connection, waypoints, {\n        labelBehavior: false\n      });\n    } else if (includes(affectedShapes, source) || includes(affectedShapes, target)) {\n\n      // re-layout connection with moved start/end\n      if (includes(movingShapes, source)) {\n        layoutHints.connectionStart = getMovedSourceAnchor(connection, source, delta);\n      } else if (includes(movingShapes, target)) {\n        layoutHints.connectionEnd = getMovedTargetAnchor(connection, target, delta);\n      } else if (includes(resizingShapes, source)) {\n        layoutHints.connectionStart = getResizedSourceAnchor(\n          connection, source, oldBounds[source.id]\n        );\n      } else if (includes(resizingShapes, target)) {\n        layoutHints.connectionEnd = getResizedTargetAnchor(\n          connection, target, oldBounds[target.id]\n        );\n      }\n\n      self._modeling.layoutConnection(connection, layoutHints);\n    }\n  });\n};\n\n\n// helpers //////////\n\nfunction copyWaypoint(waypoint) {\n  return assign({}, waypoint);\n}\n\nfunction copyWaypoints(connection) {\n  return map(connection.waypoints, function(waypoint) {\n\n    waypoint = copyWaypoint(waypoint);\n\n    if (waypoint.original) {\n      waypoint.original = copyWaypoint(waypoint.original);\n    }\n\n    return waypoint;\n  });\n}\n\nfunction getAxisFromDirection(direction) {\n  switch (direction) {\n  case 'n':\n    return 'y';\n  case 'w':\n    return 'x';\n  case 's':\n    return 'y';\n  case 'e':\n    return 'x';\n  }\n}\n\nfunction shouldMoveWaypoint(waypoint, start, direction) {\n  var relevantAxis = getAxisFromDirection(direction);\n\n  if (/e|s/.test(direction)) {\n    return waypoint[ relevantAxis ] > start;\n  } else if (/n|w/.test(direction)) {\n    return waypoint[ relevantAxis ] < start;\n  }\n}\n\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\nfunction getBounds(shape) {\n  return {\n    x: shape.x,\n    y: shape.y,\n    height: shape.height,\n    width: shape.width\n  };\n}\n","import {\n  assign,\n  forEach\n} from 'min-dash';\n\n/**\n * A handler that toggles the collapsed state of an element\n * and the visibility of all its children.\n *\n * @param {Modeling} modeling\n */\nexport default function ToggleShapeCollapseHandler(modeling) {\n  this._modeling = modeling;\n}\n\nToggleShapeCollapseHandler.$inject = [ 'modeling' ];\n\n\nToggleShapeCollapseHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      children = shape.children;\n\n  // recursively remember previous visibility of children\n  context.oldChildrenVisibility = getElementsVisibilityRecursive(children);\n\n  // toggle state\n  shape.collapsed = !shape.collapsed;\n\n  // recursively hide/show children\n  var result = setHiddenRecursive(children, shape.collapsed);\n\n  return [shape].concat(result);\n};\n\n\nToggleShapeCollapseHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldChildrenVisibility = context.oldChildrenVisibility;\n\n  var children = shape.children;\n\n  // recursively set old visability of children\n  var result = restoreVisibilityRecursive(children, oldChildrenVisibility);\n\n  // retoggle state\n  shape.collapsed = !shape.collapsed;\n\n  return [shape].concat(result);\n};\n\n\n// helpers //////////////////////\n\n/**\n * Return a map { elementId -> hiddenState}.\n *\n * @param {Array<djs.model.Shape>} elements\n *\n * @return {Object}\n */\nfunction getElementsVisibilityRecursive(elements) {\n\n  var result = {};\n\n  forEach(elements, function(element) {\n    result[element.id] = element.hidden;\n\n    if (element.children) {\n      result = assign({}, result, getElementsVisibilityRecursive(element.children));\n    }\n  });\n\n  return result;\n}\n\n\nfunction setHiddenRecursive(elements, newHidden) {\n  var result = [];\n  forEach(elements, function(element) {\n    element.hidden = newHidden;\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(setHiddenRecursive(element.children, element.collapsed || newHidden));\n    }\n  });\n\n  return result;\n}\n\nfunction restoreVisibilityRecursive(elements, lastState) {\n  var result = [];\n  forEach(elements, function(element) {\n    element.hidden = lastState[element.id];\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(restoreVisibilityRecursive(element.children, lastState));\n    }\n  });\n\n  return result;\n}\n","import {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\n/**\n * A handler that implements reversible attaching/detaching of shapes.\n */\nexport default function UpdateAttachmentHandler(modeling) {\n  this._modeling = modeling;\n}\n\nUpdateAttachmentHandler.$inject = [ 'modeling' ];\n\n\nUpdateAttachmentHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = shape.host;\n\n  // (0) detach from old host\n  context.oldHost = oldHost;\n  context.attacherIdx = removeAttacher(oldHost, shape);\n\n  // (1) attach to new host\n  addAttacher(newHost, shape);\n\n  // (2) update host\n  shape.host = newHost;\n\n  return shape;\n};\n\nUpdateAttachmentHandler.prototype.revert = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = context.oldHost,\n      attacherIdx = context.attacherIdx;\n\n  // (2) update host\n  shape.host = oldHost;\n\n  // (1) attach to new host\n  removeAttacher(newHost, shape);\n\n  // (0) detach from old host\n  addAttacher(oldHost, shape, attacherIdx);\n\n  return shape;\n};\n\n\nfunction removeAttacher(host, attacher) {\n\n  // remove attacher from host\n  return collectionRemove(host && host.attachers, attacher);\n}\n\nfunction addAttacher(host, attacher, idx) {\n\n  if (!host) {\n    return;\n  }\n\n  var attachers = host.attachers;\n\n  if (!attachers) {\n    host.attachers = attachers = [];\n  }\n\n  collectionAdd(attachers, attacher, idx);\n}\n","export default function UpdateWaypointsHandler() { }\n\nUpdateWaypointsHandler.prototype.execute = function(context) {\n\n  var connection = context.connection,\n      newWaypoints = context.newWaypoints;\n\n  context.oldWaypoints = connection.waypoints;\n\n  connection.waypoints = newWaypoints;\n\n  return connection;\n};\n\nUpdateWaypointsHandler.prototype.revert = function(context) {\n\n  var connection = context.connection,\n      oldWaypoints = context.oldWaypoints;\n\n  connection.waypoints = oldWaypoints;\n\n  return connection;\n};","import {\n  assign,\n  forEach,\n  isArray\n} from 'min-dash';\n\nimport {\n  Base\n} from '../../model';\n\nimport AlignElementsHandler from './cmd/AlignElementsHandler';\nimport AppendShapeHandler from './cmd/AppendShapeHandler';\nimport CreateConnectionHandler from './cmd/CreateConnectionHandler';\nimport CreateElementsHandler from './cmd/CreateElementsHandler';\nimport CreateLabelHandler from './cmd/CreateLabelHandler';\nimport CreateShapeHandler from './cmd/CreateShapeHandler';\nimport DeleteConnectionHandler from './cmd/DeleteConnectionHandler';\nimport DeleteElementsHandler from './cmd/DeleteElementsHandler';\nimport DeleteShapeHandler from './cmd/DeleteShapeHandler';\nimport DistributeElementsHandler from './cmd/DistributeElementsHandler';\nimport LayoutConnectionHandler from './cmd/LayoutConnectionHandler';\nimport MoveConnectionHandler from './cmd/MoveConnectionHandler';\nimport MoveElementsHandler from './cmd/MoveElementsHandler';\nimport MoveShapeHandler from './cmd/MoveShapeHandler';\nimport ReconnectConnectionHandler from './cmd/ReconnectConnectionHandler';\nimport ReplaceShapeHandler from './cmd/ReplaceShapeHandler';\nimport ResizeShapeHandler from './cmd/ResizeShapeHandler';\nimport SpaceToolHandler from './cmd/SpaceToolHandler';\nimport ToggleShapeCollapseHandler from './cmd/ToggleShapeCollapseHandler';\nimport UpdateAttachmentHandler from './cmd/UpdateAttachmentHandler';\nimport UpdateWaypointsHandler from './cmd/UpdateWaypointsHandler';\n\n\n/**\n * The basic modeling entry point.\n *\n * @param {EventBus} eventBus\n * @param {ElementFactory} elementFactory\n * @param {CommandStack} commandStack\n */\nexport default function Modeling(eventBus, elementFactory, commandStack) {\n  this._eventBus = eventBus;\n  this._elementFactory = elementFactory;\n  this._commandStack = commandStack;\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n\n    // register modeling handlers\n    self.registerHandlers(commandStack);\n  });\n}\n\nModeling.$inject = [ 'eventBus', 'elementFactory', 'commandStack' ];\n\n\nModeling.prototype.getHandlers = function() {\n  return {\n    'shape.append': AppendShapeHandler,\n    'shape.create': CreateShapeHandler,\n    'shape.delete': DeleteShapeHandler,\n    'shape.move': MoveShapeHandler,\n    'shape.resize': ResizeShapeHandler,\n    'shape.replace': ReplaceShapeHandler,\n    'shape.toggleCollapse': ToggleShapeCollapseHandler,\n\n    'spaceTool': SpaceToolHandler,\n\n    'label.create': CreateLabelHandler,\n\n    'connection.create': CreateConnectionHandler,\n    'connection.delete': DeleteConnectionHandler,\n    'connection.move': MoveConnectionHandler,\n    'connection.layout': LayoutConnectionHandler,\n\n    'connection.updateWaypoints': UpdateWaypointsHandler,\n\n    'connection.reconnect': ReconnectConnectionHandler,\n\n    'elements.create': CreateElementsHandler,\n    'elements.move': MoveElementsHandler,\n    'elements.delete': DeleteElementsHandler,\n\n    'elements.distribute': DistributeElementsHandler,\n    'elements.align': AlignElementsHandler,\n\n    'element.updateAttachment': UpdateAttachmentHandler\n  };\n};\n\n/**\n * Register handlers with the command stack\n *\n * @param {CommandStack} commandStack\n */\nModeling.prototype.registerHandlers = function(commandStack) {\n  forEach(this.getHandlers(), function(handler, id) {\n    commandStack.registerHandler(id, handler);\n  });\n};\n\n\n// modeling helpers //////////////////////\n\nModeling.prototype.moveShape = function(shape, delta, newParent, newParentIndex, hints) {\n\n  if (typeof newParentIndex === 'object') {\n    hints = newParentIndex;\n    newParentIndex = null;\n  }\n\n  var context = {\n    shape: shape,\n    delta:  delta,\n    newParent: newParent,\n    newParentIndex: newParentIndex,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.move', context);\n};\n\n\n/**\n * Update the attachment of the given shape.\n *\n * @param {djs.mode.Base} shape\n * @param {djs.model.Base} [newHost]\n */\nModeling.prototype.updateAttachment = function(shape, newHost) {\n  var context = {\n    shape: shape,\n    newHost: newHost\n  };\n\n  this._commandStack.execute('element.updateAttachment', context);\n};\n\n\n/**\n * Move a number of shapes to a new target, either setting it as\n * the new parent or attaching it.\n *\n * @param {Array<djs.mode.Base>} shapes\n * @param {Point} delta\n * @param {djs.model.Base} [target]\n * @param {Object} [hints]\n * @param {boolean} [hints.attach=false]\n */\nModeling.prototype.moveElements = function(shapes, delta, target, hints) {\n\n  hints = hints || {};\n\n  var attach = hints.attach;\n\n  var newParent = target,\n      newHost;\n\n  if (attach === true) {\n    newHost = target;\n    newParent = target.parent;\n  } else\n\n  if (attach === false) {\n    newHost = null;\n  }\n\n  var context = {\n    shapes: shapes,\n    delta: delta,\n    newParent: newParent,\n    newHost: newHost,\n    hints: hints\n  };\n\n  this._commandStack.execute('elements.move', context);\n};\n\n\nModeling.prototype.moveConnection = function(connection, delta, newParent, newParentIndex, hints) {\n\n  if (typeof newParentIndex === 'object') {\n    hints = newParentIndex;\n    newParentIndex = undefined;\n  }\n\n  var context = {\n    connection: connection,\n    delta: delta,\n    newParent: newParent,\n    newParentIndex: newParentIndex,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.move', context);\n};\n\n\nModeling.prototype.layoutConnection = function(connection, hints) {\n  var context = {\n    connection: connection,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.layout', context);\n};\n\n\n/**\n * Create connection.\n *\n * @param {djs.model.Base} source\n * @param {djs.model.Base} target\n * @param {number} [parentIndex]\n * @param {Object|djs.model.Connection} connection\n * @param {djs.model.Base} parent\n * @param {Object} hints\n *\n * @return {djs.model.Connection} the created connection.\n */\nModeling.prototype.createConnection = function(source, target, parentIndex, connection, parent, hints) {\n\n  if (typeof parentIndex === 'object') {\n    hints = parent;\n    parent = connection;\n    connection = parentIndex;\n    parentIndex = undefined;\n  }\n\n  connection = this._create('connection', connection);\n\n  var context = {\n    source: source,\n    target: target,\n    parent: parent,\n    parentIndex: parentIndex,\n    connection: connection,\n    hints: hints\n  };\n\n  this._commandStack.execute('connection.create', context);\n\n  return context.connection;\n};\n\n\n/**\n * Create a shape at the specified position.\n *\n * @param {djs.model.Shape|Object} shape\n * @param {Point} position\n * @param {djs.model.Shape|djs.model.Root} target\n * @param {number} [parentIndex] position in parents children list\n * @param {Object} [hints]\n * @param {boolean} [hints.attach] whether to attach to target or become a child\n *\n * @return {djs.model.Shape} the created shape\n */\nModeling.prototype.createShape = function(shape, position, target, parentIndex, hints) {\n\n  if (typeof parentIndex !== 'number') {\n    hints = parentIndex;\n    parentIndex = undefined;\n  }\n\n  hints = hints || {};\n\n  var attach = hints.attach,\n      parent,\n      host;\n\n  shape = this._create('shape', shape);\n\n  if (attach) {\n    parent = target.parent;\n    host = target;\n  } else {\n    parent = target;\n  }\n\n  var context = {\n    position: position,\n    shape: shape,\n    parent: parent,\n    parentIndex: parentIndex,\n    host: host,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.create', context);\n\n  return context.shape;\n};\n\n\nModeling.prototype.createElements = function(elements, position, parent, parentIndex, hints) {\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  if (typeof parentIndex !== 'number') {\n    hints = parentIndex;\n    parentIndex = undefined;\n  }\n\n  hints = hints || {};\n\n  var context = {\n    position: position,\n    elements: elements,\n    parent: parent,\n    parentIndex: parentIndex,\n    hints: hints\n  };\n\n  this._commandStack.execute('elements.create', context);\n\n  return context.elements;\n};\n\n\nModeling.prototype.createLabel = function(labelTarget, position, label, parent) {\n\n  label = this._create('label', label);\n\n  var context = {\n    labelTarget: labelTarget,\n    position: position,\n    parent: parent || labelTarget.parent,\n    shape: label\n  };\n\n  this._commandStack.execute('label.create', context);\n\n  return context.shape;\n};\n\n\n/**\n * Append shape to given source, drawing a connection\n * between source and the newly created shape.\n *\n * @param {djs.model.Shape} source\n * @param {djs.model.Shape|Object} shape\n * @param {Point} position\n * @param {djs.model.Shape} target\n * @param {Object} [hints]\n * @param {boolean} [hints.attach]\n * @param {djs.model.Connection|Object} [hints.connection]\n * @param {djs.model.Base} [hints.connectionParent]\n *\n * @return {djs.model.Shape} the newly created shape\n */\nModeling.prototype.appendShape = function(source, shape, position, target, hints) {\n\n  hints = hints || {};\n\n  shape = this._create('shape', shape);\n\n  var context = {\n    source: source,\n    position: position,\n    target: target,\n    shape: shape,\n    connection: hints.connection,\n    connectionParent: hints.connectionParent,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.append', context);\n\n  return context.shape;\n};\n\n\nModeling.prototype.removeElements = function(elements) {\n  var context = {\n    elements: elements\n  };\n\n  this._commandStack.execute('elements.delete', context);\n};\n\n\nModeling.prototype.distributeElements = function(groups, axis, dimension) {\n  var context = {\n    groups: groups,\n    axis: axis,\n    dimension: dimension\n  };\n\n  this._commandStack.execute('elements.distribute', context);\n};\n\n\nModeling.prototype.removeShape = function(shape, hints) {\n  var context = {\n    shape: shape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.delete', context);\n};\n\n\nModeling.prototype.removeConnection = function(connection, hints) {\n  var context = {\n    connection: connection,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.delete', context);\n};\n\nModeling.prototype.replaceShape = function(oldShape, newShape, hints) {\n  var context = {\n    oldShape: oldShape,\n    newData: newShape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.replace', context);\n\n  return context.newShape;\n};\n\nModeling.prototype.alignElements = function(elements, alignment) {\n  var context = {\n    elements: elements,\n    alignment: alignment\n  };\n\n  this._commandStack.execute('elements.align', context);\n};\n\nModeling.prototype.resizeShape = function(shape, newBounds, minBounds, hints) {\n  var context = {\n    shape: shape,\n    newBounds: newBounds,\n    minBounds: minBounds,\n    hints: hints\n  };\n\n  this._commandStack.execute('shape.resize', context);\n};\n\nModeling.prototype.createSpace = function(movingShapes, resizingShapes, delta, direction, start) {\n  var context = {\n    delta: delta,\n    direction: direction,\n    movingShapes: movingShapes,\n    resizingShapes: resizingShapes,\n    start: start\n  };\n\n  this._commandStack.execute('spaceTool', context);\n};\n\nModeling.prototype.updateWaypoints = function(connection, newWaypoints, hints) {\n  var context = {\n    connection: connection,\n    newWaypoints: newWaypoints,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.updateWaypoints', context);\n};\n\nModeling.prototype.reconnect = function(connection, source, target, dockingOrPoints, hints) {\n  var context = {\n    connection: connection,\n    newSource: source,\n    newTarget: target,\n    dockingOrPoints: dockingOrPoints,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('connection.reconnect', context);\n};\n\nModeling.prototype.reconnectStart = function(connection, newSource, dockingOrPoints, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  this.reconnect(connection, newSource, connection.target, dockingOrPoints, assign(hints, {\n    docking: 'source'\n  }));\n};\n\nModeling.prototype.reconnectEnd = function(connection, newTarget, dockingOrPoints, hints) {\n  if (!hints) {\n    hints = {};\n  }\n\n  this.reconnect(connection, connection.source, newTarget, dockingOrPoints, assign(hints, {\n    docking: 'target'\n  }));\n};\n\nModeling.prototype.connect = function(source, target, attrs, hints) {\n  return this.createConnection(source, target, attrs || {}, source.parent, hints);\n};\n\nModeling.prototype._create = function(type, attrs) {\n  if (attrs instanceof Base) {\n    return attrs;\n  } else {\n    return this._elementFactory.create(type, attrs);\n  }\n};\n\nModeling.prototype.toggleCollapse = function(shape, hints) {\n  var context = {\n    shape: shape,\n    hints: hints || {}\n  };\n\n  this._commandStack.execute('shape.toggleCollapse', context);\n};\n","export default function IdClaimHandler(moddle) {\n  this._moddle = moddle;\n}\n\nIdClaimHandler.$inject = [ 'moddle' ];\n\n\nIdClaimHandler.prototype.execute = function(context) {\n  var ids = this._moddle.ids,\n      id = context.id,\n      element = context.element,\n      claiming = context.claiming;\n\n  if (claiming) {\n    ids.claim(id, element);\n  } else {\n    ids.unclaim(id);\n  }\n};\n\n/**\n * Command revert implementation.\n */\nIdClaimHandler.prototype.revert = function(context) {\n  var ids = this._moddle.ids,\n      id = context.id,\n      element = context.element,\n      claiming = context.claiming;\n\n  if (claiming) {\n    ids.unclaim(id);\n  } else {\n    ids.claim(id, element);\n  }\n};\n","import {\n  getLabel,\n  setLabel\n} from '../LabelUtil';\n\n\n/**\n * A handler that updates the name of a DMN element.\n */\nexport default function UpdateLabelHandler() {\n\n  /**\n   * Set the label and return the changed elements.\n   *\n   * Element parameter can be label itself or connection (i.e. sequence flow).\n   *\n   * @param {djs.model.Base} element\n   * @param {string} text\n   */\n  function setText(element, text) {\n\n    // external label if present\n    var label = element.label || element;\n\n    var labelTarget = element.labelTarget || element;\n\n    setLabel(label, text, labelTarget !== label);\n\n    return [ label, labelTarget ];\n  }\n\n  function execute(ctx) {\n    ctx.oldLabel = getLabel(ctx.element);\n    return setText(ctx.element, ctx.newLabel);\n  }\n\n  function revert(ctx) {\n    return setText(ctx.element, ctx.oldLabel);\n  }\n\n  // API\n\n  this.execute = execute;\n  this.revert = revert;\n}\n","import {\n  reduce,\n  keys,\n  forEach\n} from 'min-dash';\n\nvar NAME = 'name',\n    ID = 'id';\n\n\n/**\n * A handler that implements a DMN property update.\n *\n * This should be used to set simple properties on elements with\n * an underlying DMN business object.\n *\n * Use respective diagram-js provided handlers if you would\n * like to perform automated modeling.\n */\nexport default function UpdatePropertiesHandler(elementRegistry, moddle) {\n  this._elementRegistry = elementRegistry;\n  this._moddle = moddle;\n}\n\nUpdatePropertiesHandler.$inject = [ 'elementRegistry', 'moddle' ];\n\n\n/**\n * Updates a DMN element with a list of new properties\n *\n * @param {Object} context\n * @param {djs.model.Base} context.element the element to update\n * @param {Object} context.properties a list of properties to set on the element's\n *                                    businessObject (the DMN model element)\n *\n * @return {Array<djs.model.Base>} the updated element\n */\nUpdatePropertiesHandler.prototype.execute = function(context) {\n\n  var element = context.element,\n      changed = [ element];\n\n  if (!element) {\n    throw new Error('element required');\n  }\n\n  var elementRegistry = this._elementRegistry,\n      ids = this._moddle.ids;\n\n  var businessObject = element.businessObject,\n      properties = context.properties,\n      oldProperties = (\n        context.oldProperties ||\n        getProperties(businessObject, keys(properties))\n      );\n\n  if (isIdChange(properties, businessObject)) {\n    ids.unclaim(businessObject[ID]);\n\n    elementRegistry.updateId(element, properties[ID]);\n\n    ids.claim(properties[ID], businessObject);\n  }\n\n  if (NAME in properties && element.label) {\n    changed.push(element.label);\n  }\n\n  // update properties\n  setProperties(businessObject, properties);\n\n  // store old values\n  context.oldProperties = oldProperties;\n  context.changed = changed;\n\n  // indicate changed on objects affected by the update\n  return changed;\n};\n\n\n/**\n * Reverts the update on a DMN elements properties.\n *\n * @param  {Object} context\n *\n * @return {djs.model.Base} the updated element\n */\nUpdatePropertiesHandler.prototype.revert = function(context) {\n\n  var element = context.element,\n      properties = context.properties,\n      oldProperties = context.oldProperties,\n      businessObject = element.businessObject,\n      elementRegistry = this._elementRegistry,\n      ids = this._moddle.ids;\n\n  // update properties\n  setProperties(businessObject, oldProperties);\n\n  if (isIdChange(properties, businessObject)) {\n    ids.unclaim(properties[ID]);\n\n    elementRegistry.updateId(element, oldProperties[ID]);\n\n    ids.claim(oldProperties[ID], businessObject);\n  }\n\n  return context.changed;\n};\n\n\nfunction isIdChange(properties, businessObject) {\n  return ID in properties && properties[ID] !== businessObject[ID];\n}\n\n\nfunction getProperties(businessObject, propertyNames) {\n  return reduce(propertyNames, function(result, key) {\n    result[key] = businessObject.get(key);\n    return result;\n  }, {});\n}\n\n\nfunction setProperties(businessObject, properties) {\n  forEach(properties, function(value, key) {\n    businessObject.set(key, value);\n  });\n}\n","import inherits from 'inherits';\n\nimport BaseModeling from 'diagram-js/lib/features/modeling/Modeling';\n\nimport IdClaimHandler from './cmd/IdClaimHandler.js';\nimport UpdateLabelHandler from '../label-editing/cmd/UpdateLabelHandler.js';\nimport UpdatePropertiesHandler from './cmd/UpdatePropertiesHandler.js';\n\n\n/**\n * DMN modeling.\n *\n * @param {Canvas} canvas\n * @param {CommandStack} commandStack\n * @param {DrdRules} drdRules\n * @param {ElementFactory} elementFactory\n * @param {EventBus} eventBus\n */\nexport default function Modeling(\n    canvas,\n    drdRules,\n    injector\n) {\n  this._canvas = canvas;\n  this._drdRules = drdRules;\n\n  injector.invoke(BaseModeling, this);\n}\n\ninherits(Modeling, BaseModeling);\n\nModeling.$inject = [\n  'canvas',\n  'drdRules',\n  'injector'\n];\n\nModeling.prototype.claimId = function(id, moddleElement) {\n  this._commandStack.execute('id.updateClaim', {\n    id: id,\n    element: moddleElement,\n    claiming: true\n  });\n};\n\nModeling.prototype.connect = function(source, target, attrs, hints) {\n  var drdRules = this._drdRules,\n      rootElement = this._canvas.getRootElement();\n\n  if (!attrs) {\n    attrs = drdRules.canConnect(source, target) || { type: 'dmn:Association' };\n  }\n\n  return this.createConnection(source, target, attrs, rootElement, hints);\n};\n\nModeling.prototype.getHandlers = function() {\n  var handlers = BaseModeling.prototype.getHandlers.call(this);\n\n  handlers['id.updateClaim'] = IdClaimHandler;\n  handlers['element.updateLabel'] = UpdateLabelHandler;\n  handlers['element.updateProperties'] = UpdatePropertiesHandler;\n\n  return handlers;\n};\n\nModeling.prototype.unclaimId = function(id, moddleElement) {\n  this._commandStack.execute('id.updateClaim', {\n    id: id,\n    element: moddleElement\n  });\n};\n\nModeling.prototype.updateProperties = function(element, properties) {\n  this._commandStack.execute('element.updateProperties', {\n    element: element,\n    properties: properties\n  });\n};\n\nModeling.prototype.updateLabel = function(element, newLabel, newBounds, hints) {\n  this._commandStack.execute('element.updateLabel', {\n    element: element,\n    newLabel: newLabel,\n    newBounds: newBounds,\n    hints: hints || {}\n  });\n};\n","import {\n  getMid\n} from './LayoutUtil';\n\n\n/**\n * A base connection layouter implementation\n * that layouts the connection by directly connecting\n * mid(source) + mid(target).\n */\nexport default function BaseLayouter() {}\n\n\n/**\n * Return the new layouted waypoints for the given connection.\n *\n * The connection passed is still unchanged; you may figure out about\n * the new connection start / end via the layout hints provided.\n *\n * @param {djs.model.Connection} connection\n * @param {Object} [hints]\n * @param {Point} [hints.connectionStart]\n * @param {Point} [hints.connectionEnd]\n * @param {Point} [hints.source]\n * @param {Point} [hints.target]\n *\n * @return {Array<Point>} the layouted connection waypoints\n */\nBaseLayouter.prototype.layoutConnection = function(connection, hints) {\n\n  hints = hints || {};\n\n  return [\n    hints.connectionStart || getMid(hints.source || connection.source),\n    hints.connectionEnd || getMid(hints.target || connection.target)\n  ];\n};\n","import inherits from 'inherits';\n\nimport BaseLayouter from 'diagram-js/lib/layout/BaseLayouter';\n\nimport {\n  getMid,\n  getOrientation\n} from 'diagram-js/lib/layout/LayoutUtil';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { assign } from 'min-dash';\n\nvar ADDITIONAL_WAYPOINT_DISTANCE = 20;\n\n\nexport default function DrdLayouter(connectionDocking) {\n  this._connectionDocking = connectionDocking;\n}\n\ninherits(DrdLayouter, BaseLayouter);\n\nDrdLayouter.$inject = [ 'connectionDocking' ];\n\n\nDrdLayouter.prototype.layoutConnection = function(connection, hints) {\n  var connectionDocking = this._connectionDocking;\n\n  if (!hints) {\n    hints = {};\n  }\n\n  var source = hints.source || connection.source,\n      target = hints.target || connection.target,\n      waypoints = hints.waypoints || connection.waypoints || [],\n      connectionStart = hints.connectionStart,\n      connectionEnd = hints.connectionEnd,\n      orientation = getOrientation(source, target);\n\n  if (!connectionStart) {\n    connectionStart = getConnectionDocking(waypoints[ 0 ], source);\n  }\n\n  if (!connectionEnd) {\n    connectionEnd = getConnectionDocking(waypoints[ waypoints.length - 1 ], target);\n  }\n\n  if (is(connection, 'dmn:InformationRequirement')) {\n    waypoints = [ connectionStart, connectionEnd ];\n\n    var croppedWaypoints = connectionDocking.getCroppedWaypoints(\n      assign({}, connection, {\n        waypoints: waypoints\n      }),\n      source,\n      target\n    );\n\n    connectionEnd = croppedWaypoints.pop();\n\n    var additionalWaypoint = {\n      x: connectionEnd.x,\n      y: connectionEnd.y\n    };\n\n    if (orientation.includes('bottom')) {\n      additionalWaypoint.y += ADDITIONAL_WAYPOINT_DISTANCE;\n    } else if (orientation.includes('top')) {\n      additionalWaypoint.y -= ADDITIONAL_WAYPOINT_DISTANCE;\n    } else if (orientation.includes('right')) {\n      additionalWaypoint.x += ADDITIONAL_WAYPOINT_DISTANCE;\n    } else {\n      additionalWaypoint.x -= ADDITIONAL_WAYPOINT_DISTANCE;\n    }\n\n    waypoints = croppedWaypoints.concat([ additionalWaypoint, connectionEnd ]);\n\n    return waypoints;\n  }\n\n  return [ connectionStart, connectionEnd ];\n};\n\nfunction getConnectionDocking(point, shape) {\n  return point ? (point.original || point) : getMid(shape);\n}\n","import {\n  assign\n} from 'min-dash';\n\nimport {\n  getElementLineIntersection\n} from './LayoutUtil';\n\n\nfunction dockingToPoint(docking) {\n\n  // use the dockings actual point and\n  // retain the original docking\n  return assign({ original: docking.point.original || docking.point }, docking.actual);\n}\n\n\n/**\n * A {@link ConnectionDocking} that crops connection waypoints based on\n * the path(s) of the connection source and target.\n *\n * @param {djs.core.ElementRegistry} elementRegistry\n */\nexport default function CroppingConnectionDocking(elementRegistry, graphicsFactory) {\n  this._elementRegistry = elementRegistry;\n  this._graphicsFactory = graphicsFactory;\n}\n\nCroppingConnectionDocking.$inject = [ 'elementRegistry', 'graphicsFactory' ];\n\n\n/**\n * @inheritDoc ConnectionDocking#getCroppedWaypoints\n */\nCroppingConnectionDocking.prototype.getCroppedWaypoints = function(connection, source, target) {\n\n  source = source || connection.source;\n  target = target || connection.target;\n\n  var sourceDocking = this.getDockingPoint(connection, source, true),\n      targetDocking = this.getDockingPoint(connection, target);\n\n  var croppedWaypoints = connection.waypoints.slice(sourceDocking.idx + 1, targetDocking.idx);\n\n  croppedWaypoints.unshift(dockingToPoint(sourceDocking));\n  croppedWaypoints.push(dockingToPoint(targetDocking));\n\n  return croppedWaypoints;\n};\n\n/**\n * Return the connection docking point on the specified shape\n *\n * @inheritDoc ConnectionDocking#getDockingPoint\n */\nCroppingConnectionDocking.prototype.getDockingPoint = function(connection, shape, dockStart) {\n\n  var waypoints = connection.waypoints,\n      dockingIdx,\n      dockingPoint,\n      croppedPoint;\n\n  dockingIdx = dockStart ? 0 : waypoints.length - 1;\n  dockingPoint = waypoints[dockingIdx];\n\n  croppedPoint = this._getIntersection(shape, connection, dockStart);\n\n  return {\n    point: dockingPoint,\n    actual: croppedPoint || dockingPoint,\n    idx: dockingIdx\n  };\n};\n\n\n// helpers //////////////////////\n\nCroppingConnectionDocking.prototype._getIntersection = function(shape, connection, takeFirst) {\n\n  var shapePath = this._getShapePath(shape),\n      connectionPath = this._getConnectionPath(connection);\n\n  return getElementLineIntersection(shapePath, connectionPath, takeFirst);\n};\n\nCroppingConnectionDocking.prototype._getConnectionPath = function(connection) {\n  return this._graphicsFactory.getConnectionPath(connection);\n};\n\nCroppingConnectionDocking.prototype._getShapePath = function(shape) {\n  return this._graphicsFactory.getShapePath(shape);\n};\n\nCroppingConnectionDocking.prototype._getGfx = function(element) {\n  return this._elementRegistry.getGraphics(element);\n};\n","import ModelingBehavior from './behavior';\nimport Rules from '../rules';\nimport DefinitionPropertiesViewer from '../definition-properties/viewer';\nimport DiagramCommand from 'diagram-js/lib/command';\nimport DiagramSelection from 'diagram-js/lib/features/selection';\nimport DiagramChangeSupport from 'diagram-js/lib/features/change-support';\n\nimport DrdFactory from './DrdFactory';\nimport DrdUpdater from './DrdUpdater';\nimport ElementFactory from './ElementFactory';\nimport Modeling from './Modeling';\nimport DrdLayouter from './DrdLayouter';\nimport CroppingConnectionDocking from 'diagram-js/lib/layout/CroppingConnectionDocking';\n\nexport default {\n  __init__: [ 'modeling', 'drdUpdater' ],\n  __depends__: [\n    ModelingBehavior,\n    Rules,\n    DefinitionPropertiesViewer,\n    DiagramCommand,\n    DiagramSelection,\n    DiagramChangeSupport\n  ],\n  drdFactory: [ 'type', DrdFactory ],\n  drdUpdater: [ 'type', DrdUpdater ],\n  elementFactory: [ 'type', ElementFactory ],\n  modeling: [ 'type', Modeling ],\n  layouter: [ 'type', DrdLayouter ],\n  connectionDocking: [ 'type', CroppingConnectionDocking ]\n};\n","import {\n  assign,\n  filter,\n  groupBy,\n  isObject\n} from 'min-dash';\n\nvar LOW_PRIORITY = 500,\n    MEDIUM_PRIORITY = 1250,\n    HIGH_PRIORITY = 1500;\n\nimport { getOriginal as getOriginalEvent } from '../../util/Event';\n\nvar round = Math.round;\n\nfunction mid(element) {\n  return {\n    x: element.x + round(element.width / 2),\n    y: element.y + round(element.height / 2)\n  };\n}\n\n/**\n * A plugin that makes shapes draggable / droppable.\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Modeling} modeling\n * @param {Selection} selection\n * @param {Rules} rules\n */\nexport default function MoveEvents(\n    eventBus, dragging, modeling,\n    selection, rules) {\n\n  // rules\n\n  function canMove(shapes, delta, position, target) {\n\n    return rules.allowed('elements.move', {\n      shapes: shapes,\n      delta: delta,\n      position: position,\n      target: target\n    });\n  }\n\n\n  // move events\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment.\n  //\n  // This sets up the context with\n  //\n  // * shape: the primary shape being moved\n  // * shapes: a list of shapes to be moved\n  // * validatedShapes: a list of shapes that are being checked\n  //                    against the rules before and during move\n  //\n  eventBus.on('shape.move.start', HIGH_PRIORITY, function(event) {\n\n    var context = event.context,\n        shape = event.shape,\n        shapes = selection.get().slice();\n\n    // move only single shape if the dragged element\n    // is not part of the current selection\n    if (shapes.indexOf(shape) === -1) {\n      shapes = [ shape ];\n    }\n\n    // ensure we remove nested elements in the collection\n    // and add attachers for a proper dragger\n    shapes = removeNested(shapes);\n\n    // attach shapes to drag context\n    assign(context, {\n      shapes: shapes,\n      validatedShapes: shapes,\n      shape: shape\n    });\n  });\n\n\n  // assign a high priority to this handler to setup the environment\n  // others may hook up later, e.g. at default priority and modify\n  // the move environment\n  //\n  eventBus.on('shape.move.start', MEDIUM_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        canExecute;\n\n    canExecute = context.canExecute = canMove(validatedShapes);\n\n    // check if we can move the elements\n    if (!canExecute) {\n      return false;\n    }\n  });\n\n  // assign a low priority to this handler\n  // to let others modify the move event before we update\n  // the context\n  //\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        validatedShapes = context.validatedShapes,\n        hover = event.hover,\n        delta = { x: event.dx, y: event.dy },\n        position = { x: event.x, y: event.y },\n        canExecute;\n\n    // check if we can move the elements\n    canExecute = canMove(validatedShapes, delta, position, hover);\n\n    context.delta = delta;\n    context.canExecute = canExecute;\n\n    // simply ignore move over\n    if (canExecute === null) {\n      context.target = null;\n\n      return;\n    }\n\n    context.target = hover;\n  });\n\n  eventBus.on('shape.move.end', function(event) {\n\n    var context = event.context;\n\n    var delta = context.delta,\n        canExecute = context.canExecute,\n        isAttach = canExecute === 'attach',\n        shapes = context.shapes;\n\n    if (canExecute === false) {\n      return false;\n    }\n\n    // ensure we have actual pixel values deltas\n    // (important when zoom level was > 1 during move)\n    delta.x = round(delta.x);\n    delta.y = round(delta.y);\n\n    if (delta.x === 0 && delta.y === 0) {\n\n      // didn't move\n      return;\n    }\n\n    modeling.moveElements(shapes, delta, context.target, {\n      primaryShape: context.shape,\n      attach: isAttach\n    });\n  });\n\n\n  // move activation\n\n  eventBus.on('element.mousedown', function(event) {\n\n    var originalEvent = getOriginalEvent(event);\n\n    if (!originalEvent) {\n      throw new Error('must supply DOM mousedown event');\n    }\n\n    return start(originalEvent, event.element);\n  });\n\n  /**\n   * Start move.\n   *\n   * @param {MouseEvent} event\n   * @param {djs.model.Shape} shape\n   * @param {boolean} [activate]\n   * @param {Object} [context]\n   */\n  function start(event, element, activate, context) {\n    if (isObject(activate)) {\n      context = activate;\n      activate = false;\n    }\n\n    // do not move connections or the root element\n    if (element.waypoints || !element.parent) {\n      return;\n    }\n\n    var referencePoint = mid(element);\n\n    dragging.init(event, referencePoint, 'shape.move', {\n      cursor: 'grabbing',\n      autoActivate: activate,\n      data: {\n        shape: element,\n        context: context || {}\n      }\n    });\n\n    // we've handled the event\n    return true;\n  }\n\n  // API\n\n  this.start = start;\n}\n\nMoveEvents.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'selection',\n  'rules'\n];\n\n\n/**\n * Return a filtered list of elements that do not contain\n * those nested into others.\n *\n * @param  {Array<djs.model.Base>} elements\n *\n * @return {Array<djs.model.Base>} filtered\n */\nfunction removeNested(elements) {\n\n  var ids = groupBy(elements, 'id');\n\n  return filter(elements, function(element) {\n    while ((element = element.parent)) {\n\n      // parent in selection\n      if (ids[element.id]) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}\n","import {\n  flatten,\n  forEach,\n  filter,\n  find,\n  groupBy,\n  map,\n  matchPattern,\n  size\n} from 'min-dash';\n\nimport {\n  selfAndAllChildren\n} from '../../util/Elements';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nimport { translate } from '../../util/SvgTransformUtil';\n\nvar LOW_PRIORITY = 499;\n\nvar MARKER_DRAGGING = 'djs-dragging',\n    MARKER_OK = 'drop-ok',\n    MARKER_NOT_OK = 'drop-not-ok',\n    MARKER_NEW_PARENT = 'new-parent',\n    MARKER_ATTACH = 'attach-ok';\n\n\n/**\n * Provides previews for moving shapes when moving.\n *\n * @param {EventBus} eventBus\n * @param {ElementRegistry} elementRegistry\n * @param {Canvas} canvas\n * @param {Styles} styles\n */\nexport default function MovePreview(\n    eventBus, canvas, styles, previewSupport) {\n\n  function getVisualDragShapes(shapes) {\n    var elements = getAllDraggedElements(shapes);\n\n    var filteredElements = removeEdges(elements);\n\n    return filteredElements;\n  }\n\n  function getAllDraggedElements(shapes) {\n    var allShapes = selfAndAllChildren(shapes, true);\n\n    var allConnections = map(allShapes, function(shape) {\n      return (shape.incoming || []).concat(shape.outgoing || []);\n    });\n\n    return flatten(allShapes.concat(allConnections));\n  }\n\n  /**\n   * Sets drop marker on an element.\n   */\n  function setMarker(element, marker) {\n\n    [ MARKER_ATTACH, MARKER_OK, MARKER_NOT_OK, MARKER_NEW_PARENT ].forEach(function(m) {\n\n      if (m === marker) {\n        canvas.addMarker(element, m);\n      } else {\n        canvas.removeMarker(element, m);\n      }\n    });\n  }\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {djs.model.Base} element\n   * @param {boolean} addMarker\n   */\n  function makeDraggable(context, element, addMarker) {\n\n    previewSupport.addDragger(element, context.dragGroup);\n\n    if (addMarker) {\n      canvas.addMarker(element, MARKER_DRAGGING);\n    }\n\n    if (context.allDraggedElements) {\n      context.allDraggedElements.push(element);\n    } else {\n      context.allDraggedElements = [ element ];\n    }\n  }\n\n  // assign a low priority to this handler\n  // to let others modify the move context before\n  // we draw things\n  eventBus.on('shape.move.start', LOW_PRIORITY, function(event) {\n    var context = event.context,\n        dragShapes = context.shapes,\n        allDraggedElements = context.allDraggedElements;\n\n    var visuallyDraggedShapes = getVisualDragShapes(dragShapes);\n\n    if (!context.dragGroup) {\n      var dragGroup = svgCreate('g');\n\n      svgAttr(dragGroup, styles.cls('djs-drag-group', [ 'no-events' ]));\n\n      var defaultLayer = canvas.getDefaultLayer();\n\n      svgAppend(defaultLayer, dragGroup);\n\n      context.dragGroup = dragGroup;\n    }\n\n    // add previews\n    visuallyDraggedShapes.forEach(function(shape) {\n      previewSupport.addDragger(shape, context.dragGroup);\n    });\n\n    // cache all dragged elements / gfx\n    // so that we can quickly undo their state changes later\n    if (!allDraggedElements) {\n      allDraggedElements = getAllDraggedElements(dragShapes);\n    } else {\n      allDraggedElements = flatten([\n        allDraggedElements,\n        getAllDraggedElements(dragShapes)\n      ]);\n    }\n\n    // add dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.addMarker(e, MARKER_DRAGGING);\n    });\n\n    context.allDraggedElements = allDraggedElements;\n\n    // determine, if any of the dragged elements have different parents\n    context.differentParents = haveDifferentParents(dragShapes);\n  });\n\n  // update previews\n  eventBus.on('shape.move.move', LOW_PRIORITY, function(event) {\n\n    var context = event.context,\n        dragGroup = context.dragGroup,\n        target = context.target,\n        parent = context.shape.parent,\n        canExecute = context.canExecute;\n\n    if (target) {\n      if (canExecute === 'attach') {\n        setMarker(target, MARKER_ATTACH);\n      } else if (context.canExecute && target && target.id !== parent.id) {\n        setMarker(target, MARKER_NEW_PARENT);\n      } else {\n        setMarker(target, context.canExecute ? MARKER_OK : MARKER_NOT_OK);\n      }\n    }\n\n    translate(dragGroup, event.dx, event.dy);\n  });\n\n  eventBus.on([ 'shape.move.out', 'shape.move.cleanup' ], function(event) {\n    var context = event.context,\n        target = context.target;\n\n    if (target) {\n      setMarker(target, null);\n    }\n  });\n\n  // remove previews\n  eventBus.on('shape.move.cleanup', function(event) {\n\n    var context = event.context,\n        allDraggedElements = context.allDraggedElements,\n        dragGroup = context.dragGroup;\n\n\n    // remove dragging marker\n    forEach(allDraggedElements, function(e) {\n      canvas.removeMarker(e, MARKER_DRAGGING);\n    });\n\n    if (dragGroup) {\n      svgRemove(dragGroup);\n    }\n  });\n\n\n  // API //////////////////////\n\n  /**\n   * Make an element draggable.\n   *\n   * @param {Object} context\n   * @param {djs.model.Base} element\n   * @param {boolean} addMarker\n   */\n  this.makeDraggable = makeDraggable;\n}\n\nMovePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'styles',\n  'previewSupport'\n];\n\n\n// helpers //////////////////////\n\n/**\n * returns elements minus all connections\n * where source or target is not elements\n */\nfunction removeEdges(elements) {\n\n  var filteredElements = filter(elements, function(element) {\n\n    if (!isConnection(element)) {\n      return true;\n    } else {\n\n      return (\n        find(elements, matchPattern({ id: element.source.id })) &&\n        find(elements, matchPattern({ id: element.target.id }))\n      );\n    }\n  });\n\n  return filteredElements;\n}\n\nfunction haveDifferentParents(elements) {\n  return size(groupBy(elements, function(e) { return e.parent && e.parent.id; })) !== 1;\n}\n\n/**\n * Checks if an element is a connection.\n */\nfunction isConnection(element) {\n  return element.waypoints;\n}\n","import InteractionEventsModule from '../interaction-events';\nimport SelectionModule from '../selection';\nimport OutlineModule from '../outline';\nimport RulesModule from '../rules';\nimport DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\n\nimport Move from './Move';\nimport MovePreview from './MovePreview';\n\nexport default {\n  __depends__: [\n    InteractionEventsModule,\n    SelectionModule,\n    OutlineModule,\n    RulesModule,\n    DraggingModule,\n    PreviewSupportModule\n  ],\n  __init__: [\n    'move',\n    'movePreview'\n  ],\n  move: [ 'type', Move ],\n  movePreview: [ 'type', MovePreview ]\n};\n","import {\n  isArray,\n  isFunction,\n  forEach\n} from 'min-dash';\n\nimport {\n  domify,\n  query as domQuery,\n  attr as domAttr,\n  clear as domClear,\n  classes as domClasses,\n  matches as domMatches,\n  delegate as domDelegate,\n  event as domEvent\n} from 'min-dom';\n\n\nvar TOGGLE_SELECTOR = '.djs-palette-toggle',\n    ENTRY_SELECTOR = '.entry',\n    ELEMENT_SELECTOR = TOGGLE_SELECTOR + ', ' + ENTRY_SELECTOR;\n\nvar PALETTE_OPEN_CLS = 'open',\n    PALETTE_TWO_COLUMN_CLS = 'two-column';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A palette containing modeling elements.\n */\nexport default function Palette(eventBus, canvas) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('tool-manager.update', function(event) {\n    var tool = event.tool;\n\n    self.updateToolHighlight(tool);\n  });\n\n  eventBus.on('i18n.changed', function() {\n    self._update();\n  });\n\n  eventBus.on('diagram.init', function() {\n\n    self._diagramInitialized = true;\n\n    self._rebuild();\n  });\n}\n\nPalette.$inject = [ 'eventBus', 'canvas' ];\n\n\n/**\n * Register a provider with the palette\n *\n * @param  {number} [priority=1000]\n * @param  {PaletteProvider} provider\n *\n * @example\n * const paletteProvider = {\n *   getPaletteEntries: function() {\n *     return function(entries) {\n *       return {\n *         ...entries,\n *         'entry-1': {\n *           label: 'My Entry',\n *           action: function() { alert(\"I have been clicked!\"); }\n *         }\n *       };\n *     }\n *   }\n * };\n *\n * palette.registerProvider(800, paletteProvider);\n */\nPalette.prototype.registerProvider = function(priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  this._eventBus.on('palette.getProviders', priority, function(event) {\n    event.providers.push(provider);\n  });\n\n  this._rebuild();\n};\n\n\n/**\n * Returns the palette entries\n *\n * @return {Object<string, PaletteEntryDescriptor>} map of entries\n */\nPalette.prototype.getEntries = function() {\n  var providers = this._getProviders();\n\n  return providers.reduce(addPaletteEntries, {});\n};\n\nPalette.prototype._rebuild = function() {\n\n  if (!this._diagramInitialized) {\n    return;\n  }\n\n  var providers = this._getProviders();\n\n  if (!providers.length) {\n    return;\n  }\n\n  if (!this._container) {\n    this._init();\n  }\n\n  this._update();\n};\n\n/**\n * Initialize\n */\nPalette.prototype._init = function() {\n\n  var self = this;\n\n  var eventBus = this._eventBus;\n\n  var parentContainer = this._getParentContainer();\n\n  var container = this._container = domify(Palette.HTML_MARKUP);\n\n  parentContainer.appendChild(container);\n\n  domDelegate.bind(container, ELEMENT_SELECTOR, 'click', function(event) {\n\n    var target = event.delegateTarget;\n\n    if (domMatches(target, TOGGLE_SELECTOR)) {\n      return self.toggle();\n    }\n\n    self.trigger('click', event);\n  });\n\n  // prevent drag propagation\n  domEvent.bind(container, 'mousedown', function(event) {\n    event.stopPropagation();\n  });\n\n  // prevent drag propagation\n  domDelegate.bind(container, ENTRY_SELECTOR, 'dragstart', function(event) {\n    self.trigger('dragstart', event);\n  });\n\n  eventBus.on('canvas.resized', this._layoutChanged, this);\n\n  eventBus.fire('palette.create', {\n    container: container\n  });\n};\n\nPalette.prototype._getProviders = function(id) {\n\n  var event = this._eventBus.createEvent({\n    type: 'palette.getProviders',\n    providers: []\n  });\n\n  this._eventBus.fire(event);\n\n  return event.providers;\n};\n\n/**\n * Update palette state.\n *\n * @param  {Object} [state] { open, twoColumn }\n */\nPalette.prototype._toggleState = function(state) {\n\n  state = state || {};\n\n  var parent = this._getParentContainer(),\n      container = this._container;\n\n  var eventBus = this._eventBus;\n\n  var twoColumn;\n\n  var cls = domClasses(container);\n\n  if ('twoColumn' in state) {\n    twoColumn = state.twoColumn;\n  } else {\n    twoColumn = this._needsCollapse(parent.clientHeight, this._entries || {});\n  }\n\n  // always update two column\n  cls.toggle(PALETTE_TWO_COLUMN_CLS, twoColumn);\n\n  if ('open' in state) {\n    cls.toggle(PALETTE_OPEN_CLS, state.open);\n  }\n\n  eventBus.fire('palette.changed', {\n    twoColumn: twoColumn,\n    open: this.isOpen()\n  });\n};\n\nPalette.prototype._update = function() {\n\n  var entriesContainer = domQuery('.djs-palette-entries', this._container),\n      entries = this._entries = this.getEntries();\n\n  domClear(entriesContainer);\n\n  forEach(entries, function(entry, id) {\n\n    var grouping = entry.group || 'default';\n\n    var container = domQuery('[data-group=' + grouping + ']', entriesContainer);\n    if (!container) {\n      container = domify('<div class=\"group\" data-group=\"' + grouping + '\"></div>');\n      entriesContainer.appendChild(container);\n    }\n\n    var html = entry.html || (\n      entry.separator ?\n        '<hr class=\"separator\" />' :\n        '<div class=\"entry\" draggable=\"true\"></div>');\n\n\n    var control = domify(html);\n    container.appendChild(control);\n\n    if (!entry.separator) {\n      domAttr(control, 'data-action', id);\n\n      if (entry.title) {\n        domAttr(control, 'title', entry.title);\n      }\n\n      if (entry.className) {\n        addClasses(control, entry.className);\n      }\n\n      if (entry.imageUrl) {\n        control.appendChild(domify('<img src=\"' + entry.imageUrl + '\">'));\n      }\n    }\n  });\n\n  // open after update\n  this.open();\n};\n\n\n/**\n * Trigger an action available on the palette\n *\n * @param  {string} action\n * @param  {Event} event\n */\nPalette.prototype.trigger = function(action, event, autoActivate) {\n  var entries = this._entries,\n      entry,\n      handler,\n      originalEvent,\n      button = event.delegateTarget || event.target;\n\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  entry = entries[domAttr(button, 'data-action')];\n\n  // when user clicks on the palette and not on an action\n  if (!entry) {\n    return;\n  }\n\n  handler = entry.action;\n\n  originalEvent = event.originalEvent || event;\n\n  // simple action (via callback function)\n  if (isFunction(handler)) {\n    if (action === 'click') {\n      handler(originalEvent, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      handler[action](originalEvent, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\nPalette.prototype._layoutChanged = function() {\n  this._toggleState({});\n};\n\n/**\n * Do we need to collapse to two columns?\n *\n * @param {number} availableHeight\n * @param {Object} entries\n *\n * @return {boolean}\n */\nPalette.prototype._needsCollapse = function(availableHeight, entries) {\n\n  // top margin + bottom toggle + bottom margin\n  // implementors must override this method if they\n  // change the palette styles\n  var margin = 20 + 10 + 20;\n\n  var entriesHeight = Object.keys(entries).length * 46;\n\n  return availableHeight < entriesHeight + margin;\n};\n\n/**\n * Close the palette\n */\nPalette.prototype.close = function() {\n\n  this._toggleState({\n    open: false,\n    twoColumn: false\n  });\n};\n\n\n/**\n * Open the palette\n */\nPalette.prototype.open = function() {\n  this._toggleState({ open: true });\n};\n\n\nPalette.prototype.toggle = function(open) {\n  if (this.isOpen()) {\n    this.close();\n  } else {\n    this.open();\n  }\n};\n\nPalette.prototype.isActiveTool = function(tool) {\n  return tool && this._activeTool === tool;\n};\n\nPalette.prototype.updateToolHighlight = function(name) {\n  var entriesContainer,\n      toolsContainer;\n\n  if (!this._toolsContainer) {\n    entriesContainer = domQuery('.djs-palette-entries', this._container);\n\n    this._toolsContainer = domQuery('[data-group=tools]', entriesContainer);\n  }\n\n  toolsContainer = this._toolsContainer;\n\n  forEach(toolsContainer.children, function(tool) {\n    var actionName = tool.getAttribute('data-action');\n\n    if (!actionName) {\n      return;\n    }\n\n    var toolClasses = domClasses(tool);\n\n    actionName = actionName.replace('-tool', '');\n\n    if (toolClasses.contains('entry') && actionName === name) {\n      toolClasses.add('highlighted-entry');\n    } else {\n      toolClasses.remove('highlighted-entry');\n    }\n  });\n};\n\n\n/**\n * Return true if the palette is opened.\n *\n * @example\n *\n * palette.open();\n *\n * if (palette.isOpen()) {\n *   // yes, we are open\n * }\n *\n * @return {boolean} true if palette is opened\n */\nPalette.prototype.isOpen = function() {\n  return domClasses(this._container).has(PALETTE_OPEN_CLS);\n};\n\n/**\n * Get container the palette lives in.\n *\n * @return {Element}\n */\nPalette.prototype._getParentContainer = function() {\n  return this._canvas.getContainer();\n};\n\n\n/* markup definition */\n\nPalette.HTML_MARKUP =\n  '<div class=\"djs-palette\">' +\n    '<div class=\"djs-palette-entries\"></div>' +\n    '<div class=\"djs-palette-toggle\"></div>' +\n  '</div>';\n\n\n// helpers //////////////////////\n\nfunction addClasses(element, classNames) {\n\n  var classes = domClasses(element);\n\n  var actualClassNames = isArray(classNames) ? classNames : classNames.split(/\\s+/g);\n  actualClassNames.forEach(function(cls) {\n    classes.add(cls);\n  });\n}\n\nfunction addPaletteEntries(entries, provider) {\n\n  var entriesOrUpdater = provider.getPaletteEntries();\n\n  if (isFunction(entriesOrUpdater)) {\n    return entriesOrUpdater(entries);\n  }\n\n  forEach(entriesOrUpdater, function(entry, id) {\n    entries[id] = entry;\n  });\n\n  return entries;\n}","import Palette from './Palette';\n\nexport default {\n  __init__: [ 'palette' ],\n  palette: [ 'type', Palette ]\n};\n","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  closest as domClosest\n} from 'min-dom';\n\nvar LOW_PRIORITY = 250;\n\n/**\n * The tool manager acts as middle-man between the available tool's and the Palette,\n * it takes care of making sure that the correct active state is set.\n *\n * @param  {Object}    eventBus\n * @param  {Object}    dragging\n */\nexport default function ToolManager(eventBus, dragging) {\n  this._eventBus = eventBus;\n  this._dragging = dragging;\n\n  this._tools = [];\n  this._active = null;\n}\n\nToolManager.$inject = [ 'eventBus', 'dragging' ];\n\nToolManager.prototype.registerTool = function(name, events) {\n  var tools = this._tools;\n\n  if (!events) {\n    throw new Error('A tool has to be registered with it\\'s \"events\"');\n  }\n\n  tools.push(name);\n\n  this.bindEvents(name, events);\n};\n\nToolManager.prototype.isActive = function(tool) {\n  return tool && this._active === tool;\n};\n\nToolManager.prototype.length = function(tool) {\n  return this._tools.length;\n};\n\nToolManager.prototype.setActive = function(tool) {\n  var eventBus = this._eventBus;\n\n  if (this._active !== tool) {\n    this._active = tool;\n\n    eventBus.fire('tool-manager.update', { tool: tool });\n  }\n};\n\nToolManager.prototype.bindEvents = function(name, events) {\n  var eventBus = this._eventBus,\n      dragging = this._dragging;\n\n  var eventsToRegister = [];\n\n  eventBus.on(events.tool + '.init', function(event) {\n    var context = event.context;\n\n    // Active tools that want to reactivate themselves must do this explicitly\n    if (!context.reactivate && this.isActive(name)) {\n      this.setActive(null);\n\n      dragging.cancel();\n      return;\n    }\n\n    this.setActive(name);\n\n  }, this);\n\n  // Todo[ricardo]: add test cases\n  forEach(events, function(event) {\n    eventsToRegister.push(event + '.ended');\n    eventsToRegister.push(event + '.canceled');\n  });\n\n  eventBus.on(eventsToRegister, LOW_PRIORITY, function(event) {\n    var originalEvent = event.originalEvent;\n\n    // We defer the de-activation of the tool to the .activate phase,\n    // so we're able to check if we want to toggle off the current\n    // active tool or switch to a new one\n    if (!this._active) {\n      return;\n    }\n\n    if (originalEvent && domClosest(originalEvent.target, '.group[data-group=\"tools\"]')) {\n      return;\n    }\n\n    this.setActive(null);\n  }, this);\n};\n","import DraggingModule from '../dragging';\n\nimport ToolManager from './ToolManager';\n\nexport default {\n  __depends__: [\n    DraggingModule\n  ],\n  __init__: [ 'toolManager' ],\n  toolManager: [ 'type', ToolManager ]\n};\n","import { values } from 'min-dash';\n\nimport { getEnclosedElements } from '../../util/Elements';\n\nimport { hasSecondaryModifier } from '../../util/Mouse';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove\n} from 'tiny-svg';\n\nvar LASSO_TOOL_CURSOR = 'crosshair';\n\n\nexport default function LassoTool(\n    eventBus, canvas, dragging,\n    elementRegistry, selection, toolManager) {\n\n  this._selection = selection;\n  this._dragging = dragging;\n\n  var self = this;\n\n  // lasso visuals implementation\n\n  /**\n  * A helper that realizes the selection box visual\n  */\n  var visuals = {\n\n    create: function(context) {\n      var container = canvas.getDefaultLayer(),\n          frame;\n\n      frame = context.frame = svgCreate('rect');\n      svgAttr(frame, {\n        class: 'djs-lasso-overlay',\n        width:  1,\n        height: 1,\n        x: 0,\n        y: 0\n      });\n\n      svgAppend(container, frame);\n    },\n\n    update: function(context) {\n      var frame = context.frame,\n          bbox = context.bbox;\n\n      svgAttr(frame, {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height\n      });\n    },\n\n    remove: function(context) {\n\n      if (context.frame) {\n        svgRemove(context.frame);\n      }\n    }\n  };\n\n  toolManager.registerTool('lasso', {\n    tool: 'lasso.selection',\n    dragging: 'lasso'\n  });\n\n  eventBus.on('lasso.selection.end', function(event) {\n    var target = event.originalEvent.target;\n\n    // only reactive on diagram click\n    // on some occasions, event.hover is not set and we have to check if the target is an svg\n    if (!event.hover && !(target instanceof SVGElement)) {\n      return;\n    }\n\n    eventBus.once('lasso.selection.ended', function() {\n      self.activateLasso(event.originalEvent, true);\n    });\n  });\n\n  // lasso interaction implementation\n\n  eventBus.on('lasso.end', function(event) {\n\n    var bbox = toBBox(event);\n\n    var elements = elementRegistry.filter(function(element) {\n      return element;\n    });\n\n    self.select(elements, bbox);\n  });\n\n  eventBus.on('lasso.start', function(event) {\n\n    var context = event.context;\n\n    context.bbox = toBBox(event);\n    visuals.create(context);\n  });\n\n  eventBus.on('lasso.move', function(event) {\n\n    var context = event.context;\n\n    context.bbox = toBBox(event);\n    visuals.update(context);\n  });\n\n  eventBus.on('lasso.cleanup', function(event) {\n\n    var context = event.context;\n\n    visuals.remove(context);\n  });\n\n\n  // event integration\n\n  eventBus.on('element.mousedown', 1500, function(event) {\n\n    if (hasSecondaryModifier(event)) {\n      self.activateLasso(event.originalEvent);\n\n      // we've handled the event\n      return true;\n    }\n  });\n}\n\nLassoTool.$inject = [\n  'eventBus',\n  'canvas',\n  'dragging',\n  'elementRegistry',\n  'selection',\n  'toolManager'\n];\n\n\nLassoTool.prototype.activateLasso = function(event, autoActivate) {\n\n  this._dragging.init(event, 'lasso', {\n    autoActivate: autoActivate,\n    cursor: LASSO_TOOL_CURSOR,\n    data: {\n      context: {}\n    }\n  });\n};\n\nLassoTool.prototype.activateSelection = function(event) {\n\n  this._dragging.init(event, 'lasso.selection', {\n    trapClick: false,\n    cursor: LASSO_TOOL_CURSOR,\n    data: {\n      context: {}\n    }\n  });\n};\n\nLassoTool.prototype.select = function(elements, bbox) {\n  var selectedElements = getEnclosedElements(elements, bbox);\n\n  this._selection.select(values(selectedElements));\n};\n\nLassoTool.prototype.toggle = function() {\n  if (this.isActive()) {\n    this._dragging.cancel();\n  } else {\n    this.activateSelection();\n  }\n};\n\nLassoTool.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  return context && /^lasso/.test(context.prefix);\n};\n\n\n\nfunction toBBox(event) {\n\n  var start = {\n\n    x: event.x - event.dx,\n    y: event.y - event.dy\n  };\n\n  var end = {\n    x: event.x,\n    y: event.y\n  };\n\n  var bbox;\n\n  if ((start.x <= end.x && start.y < end.y) ||\n      (start.x < end.x && start.y <= end.y)) {\n\n    bbox = {\n      x: start.x,\n      y: start.y,\n      width:  end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if ((start.x >= end.x && start.y < end.y) ||\n             (start.x > end.x && start.y <= end.y)) {\n\n    bbox = {\n      x: end.x,\n      y: start.y,\n      width:  start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if ((start.x <= end.x && start.y > end.y) ||\n             (start.x < end.x && start.y >= end.y)) {\n\n    bbox = {\n      x: start.x,\n      y: end.y,\n      width:  end.x - start.x,\n      height: start.y - end.y\n    };\n  } else if ((start.x >= end.x && start.y > end.y) ||\n             (start.x > end.x && start.y >= end.y)) {\n\n    bbox = {\n      x: end.x,\n      y: end.y,\n      width:  start.x - end.x,\n      height: start.y - end.y\n    };\n  } else {\n\n    bbox = {\n      x: end.x,\n      y: end.y,\n      width:  0,\n      height: 0\n    };\n  }\n  return bbox;\n}\n","import ToolManagerModule from '../tool-manager';\n\nimport LassoTool from './LassoTool';\n\nexport default {\n  __depends__: [\n    ToolManagerModule\n  ],\n  __init__: [ 'lassoTool' ],\n  lassoTool: [ 'type', LassoTool ]\n};\n","import {\n  assign\n} from 'min-dash';\n\n\n/**\n * A palette provider for DMN elements.\n */\nexport default function PaletteProvider(\n    palette, create, elementFactory,\n    lassoTool, translate) {\n\n  this._palette = palette;\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._lassoTool = lassoTool;\n  this._translate = translate;\n\n  palette.registerProvider(this);\n}\n\nPaletteProvider.$inject = [\n  'palette',\n  'create',\n  'elementFactory',\n  'lassoTool',\n  'translate'\n];\n\n\nPaletteProvider.prototype.getPaletteEntries = function(element) {\n\n  var actions = {},\n      create = this._create,\n      elementFactory = this._elementFactory,\n      lassoTool = this._lassoTool,\n      translate = this._translate;\n\n  function createAction(type, group, className, title, options) {\n\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      create.start(event, shape);\n    }\n\n    return {\n      group: group,\n      className: className,\n      title: title,\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n\n  assign(actions, {\n    'lasso-tool': {\n      group: 'tools',\n      className: 'dmn-icon-lasso-tool',\n      title: translate('Activate the lasso tool'),\n      action: {\n        click: function(event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    'tool-separator': {\n      group: 'tools',\n      separator: true\n    },\n    'create.decision': createAction(\n      'dmn:Decision', 'drd', 'dmn-icon-decision', translate('Create Decision')\n    ),\n    'create.input-data': createAction(\n      'dmn:InputData', 'drd', 'dmn-icon-input-data', translate('Create Input Data')\n    ),\n    'create.knowledge-source': createAction(\n      'dmn:KnowledgeSource', 'drd', 'dmn-icon-knowledge-source',\n      translate('Create Knowledge Source')\n    ),\n    'create.business-knowledge-model': createAction(\n      'dmn:BusinessKnowledgeModel', 'drd', 'dmn-icon-business-knowledge',\n      translate('Create Knowledge Model')\n    )\n  });\n\n  return actions;\n};\n","import DiagramTranslate from 'diagram-js/lib/i18n/translate';\nimport DiagramPalette from 'diagram-js/lib/features/palette';\nimport DiagramCreate from 'diagram-js/lib/features/create';\nimport DiagramLasso from 'diagram-js/lib/features/lasso-tool';\n\nimport PaletteProvider from './PaletteProvider';\n\nexport default {\n  __depends__: [\n    DiagramTranslate,\n    DiagramPalette,\n    DiagramCreate,\n    DiagramLasso\n  ],\n  __init__: [ 'paletteProvider' ],\n  paletteProvider: [ 'type', PaletteProvider ]\n};\n","import {\n  filter,\n  isNumber\n} from 'min-dash';\n\nvar max = Math.max,\n    min = Math.min;\n\nvar DEFAULT_CHILD_BOX_PADDING = 20;\n\nimport {\n  getBBox\n} from '../../util/Elements';\n\nimport {\n  asTRBL,\n  asBounds\n} from '../../layout/LayoutUtil';\n\n\n/**\n * Substract a TRBL from another\n *\n * @param  {TRBL} trblA\n * @param  {TRBL} trblB\n *\n * @return {TRBL}\n */\nexport function substractTRBL(trblA, trblB) {\n  return {\n    top: trblA.top - trblB.top,\n    right: trblA.right - trblB.right,\n    bottom: trblA.bottom - trblB.bottom,\n    left: trblA.left - trblB.left\n  };\n}\n\n/**\n * Resize the given bounds by the specified delta from a given anchor point.\n *\n * @param {Bounds} bounds the bounding box that should be resized\n * @param {string} direction in which the element is resized (nw, ne, se, sw)\n * @param {Point} delta of the resize operation\n *\n * @return {Bounds} resized bounding box\n */\nexport function resizeBounds(bounds, direction, delta) {\n  var dx = delta.x,\n      dy = delta.y;\n\n  var newBounds = {\n    x: bounds.x,\n    y: bounds.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n\n  if (direction.indexOf('n') !== -1) {\n    newBounds.y = bounds.y + dy;\n    newBounds.height = bounds.height - dy;\n  } else if (direction.indexOf('s') !== -1) {\n    newBounds.height = bounds.height + dy;\n  }\n\n  if (direction.indexOf('e') !== -1) {\n    newBounds.width = bounds.width + dx;\n  } else if (direction.indexOf('w') !== -1) {\n    newBounds.x = bounds.x + dx;\n    newBounds.width = bounds.width - dx;\n  }\n\n  return newBounds;\n}\n\n\n/**\n * Resize the given bounds by applying the passed\n * { top, right, bottom, left } delta.\n *\n * @param {Bounds} bounds\n * @param {TRBL} trblResize\n *\n * @return {Bounds}\n */\nexport function resizeTRBL(bounds, resize) {\n  return {\n    x: bounds.x + (resize.left || 0),\n    y: bounds.y + (resize.top || 0),\n    width: bounds.width - (resize.left || 0) + (resize.right || 0),\n    height: bounds.height - (resize.top || 0) + (resize.bottom || 0)\n  };\n}\n\n\nexport function reattachPoint(bounds, newBounds, point) {\n\n  var sx = bounds.width / newBounds.width,\n      sy = bounds.height / newBounds.height;\n\n  return {\n    x: Math.round((newBounds.x + newBounds.width / 2)) - Math.floor(((bounds.x + bounds.width / 2) - point.x) / sx),\n    y: Math.round((newBounds.y + newBounds.height / 2)) - Math.floor(((bounds.y + bounds.height / 2) - point.y) / sy)\n  };\n}\n\n\nfunction applyConstraints(attr, trbl, resizeConstraints) {\n\n  var value = trbl[attr],\n      minValue = resizeConstraints.min && resizeConstraints.min[attr],\n      maxValue = resizeConstraints.max && resizeConstraints.max[attr];\n\n  if (isNumber(minValue)) {\n    value = (/top|left/.test(attr) ? min : max)(value, minValue);\n  }\n\n  if (isNumber(maxValue)) {\n    value = (/top|left/.test(attr) ? max : min)(value, maxValue);\n  }\n\n  return value;\n}\n\nexport function ensureConstraints(currentBounds, resizeConstraints) {\n\n  if (!resizeConstraints) {\n    return currentBounds;\n  }\n\n  var currentTrbl = asTRBL(currentBounds);\n\n  return asBounds({\n    top: applyConstraints('top', currentTrbl, resizeConstraints),\n    right: applyConstraints('right', currentTrbl, resizeConstraints),\n    bottom: applyConstraints('bottom', currentTrbl, resizeConstraints),\n    left: applyConstraints('left', currentTrbl, resizeConstraints)\n  });\n}\n\n\nexport function getMinResizeBounds(direction, currentBounds, minDimensions, childrenBounds) {\n\n  var currentBox = asTRBL(currentBounds);\n\n  var minBox = {\n    top: /n/.test(direction) ? currentBox.bottom - minDimensions.height : currentBox.top,\n    left: /w/.test(direction) ? currentBox.right - minDimensions.width : currentBox.left,\n    bottom: /s/.test(direction) ? currentBox.top + minDimensions.height : currentBox.bottom,\n    right: /e/.test(direction) ? currentBox.left + minDimensions.width : currentBox.right\n  };\n\n  var childrenBox = childrenBounds ? asTRBL(childrenBounds) : minBox;\n\n  var combinedBox = {\n    top: min(minBox.top, childrenBox.top),\n    left: min(minBox.left, childrenBox.left),\n    bottom: max(minBox.bottom, childrenBox.bottom),\n    right: max(minBox.right, childrenBox.right)\n  };\n\n  return asBounds(combinedBox);\n}\n\nfunction asPadding(mayBePadding, defaultValue) {\n  if (typeof mayBePadding !== 'undefined') {\n    return mayBePadding;\n  } else {\n    return DEFAULT_CHILD_BOX_PADDING;\n  }\n}\n\nexport function addPadding(bbox, padding) {\n  var left, right, top, bottom;\n\n  if (typeof padding === 'object') {\n    left = asPadding(padding.left);\n    right = asPadding(padding.right);\n    top = asPadding(padding.top);\n    bottom = asPadding(padding.bottom);\n  } else {\n    left = right = top = bottom = asPadding(padding);\n  }\n\n  return {\n    x: bbox.x - left,\n    y: bbox.y - top,\n    width: bbox.width + left + right,\n    height: bbox.height + top + bottom\n  };\n}\n\n\n/**\n * Is the given element part of the resize\n * targets min boundary box?\n *\n * This is the default implementation which excludes\n * connections and labels.\n *\n * @param {djs.model.Base} element\n */\nfunction isBBoxChild(element) {\n\n  // exclude connections\n  if (element.waypoints) {\n    return false;\n  }\n\n  // exclude labels\n  if (element.type === 'label') {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Return children bounding computed from a shapes children\n * or a list of prefiltered children.\n *\n * @param  {djs.model.Shape|Array<djs.model.Shape>} shapeOrChildren\n * @param  {number|Object} padding\n *\n * @return {Bounds}\n */\nexport function computeChildrenBBox(shapeOrChildren, padding) {\n\n  var elements;\n\n  // compute based on shape\n  if (shapeOrChildren.length === undefined) {\n\n    // grab all the children that are part of the\n    // parents children box\n    elements = filter(shapeOrChildren.children, isBBoxChild);\n\n  } else {\n    elements = shapeOrChildren;\n  }\n\n  if (elements.length) {\n    return addPadding(getBBox(elements), padding);\n  }\n}\n","import {\n  pick,\n  assign\n} from 'min-dash';\n\nimport {\n  resizeBounds,\n  ensureConstraints,\n  computeChildrenBBox,\n  getMinResizeBounds\n} from './ResizeUtil';\n\nimport {\n  asTRBL,\n  getMid,\n  roundBounds\n} from '../../layout/LayoutUtil';\n\nvar DEFAULT_MIN_WIDTH = 10;\n\n\n/**\n * A component that provides resizing of shapes on the canvas.\n *\n * The following components are part of shape resize:\n *\n *  * adding resize handles,\n *  * creating a visual during resize\n *  * checking resize rules\n *  * committing a change once finished\n *\n *\n * ## Customizing\n *\n * It's possible to customize the resizing behaviour by intercepting 'resize.start'\n * and providing the following parameters through the 'context':\n *\n *   * minDimensions ({ width, height }): minimum shape dimensions\n *\n *   * childrenBoxPadding ({ left, top, bottom, right } || number):\n *     gap between the minimum bounding box and the container\n *\n * f.ex:\n *\n * ```javascript\n * eventBus.on('resize.start', 1500, function(event) {\n *   var context = event.context,\n *\n *  context.minDimensions = { width: 140, height: 120 };\n *\n *  // Passing general padding\n *  context.childrenBoxPadding = 30;\n *\n *  // Passing padding to a specific side\n *  context.childrenBoxPadding.left = 20;\n * });\n * ```\n */\nexport default function Resize(eventBus, rules, modeling, dragging) {\n\n  this._dragging = dragging;\n  this._rules = rules;\n\n  var self = this;\n\n\n  /**\n   * Handle resize move by specified delta.\n   *\n   * @param {Object} context\n   * @param {Point} delta\n   */\n  function handleMove(context, delta) {\n\n    var shape = context.shape,\n        direction = context.direction,\n        resizeConstraints = context.resizeConstraints,\n        newBounds;\n\n    context.delta = delta;\n\n    newBounds = resizeBounds(shape, direction, delta);\n\n    // ensure constraints during resize\n    context.newBounds = ensureConstraints(newBounds, resizeConstraints);\n\n    // update + cache executable state\n    context.canExecute = self.canResize(context);\n  }\n\n  /**\n   * Handle resize start.\n   *\n   * @param  {Object} context\n   */\n  function handleStart(context) {\n\n    var resizeConstraints = context.resizeConstraints,\n\n        // evaluate minBounds for backwards compatibility\n        minBounds = context.minBounds;\n\n    if (resizeConstraints !== undefined) {\n      return;\n    }\n\n    if (minBounds === undefined) {\n      minBounds = self.computeMinResizeBox(context);\n    }\n\n    context.resizeConstraints = {\n      min: asTRBL(minBounds)\n    };\n  }\n\n  /**\n   * Handle resize end.\n   *\n   * @param  {Object} context\n   */\n  function handleEnd(context) {\n    var shape = context.shape,\n        canExecute = context.canExecute,\n        newBounds = context.newBounds;\n\n    if (canExecute) {\n\n      // ensure we have actual pixel values for new bounds\n      // (important when zoom level was > 1 during move)\n      newBounds = roundBounds(newBounds);\n\n      if (!boundsChanged(shape, newBounds)) {\n\n        // no resize necessary\n        return;\n      }\n\n      // perform the actual resize\n      modeling.resizeShape(shape, newBounds);\n    }\n  }\n\n\n  eventBus.on('resize.start', function(event) {\n    handleStart(event.context);\n  });\n\n  eventBus.on('resize.move', function(event) {\n    var delta = {\n      x: event.dx,\n      y: event.dy\n    };\n\n    handleMove(event.context, delta);\n  });\n\n  eventBus.on('resize.end', function(event) {\n    handleEnd(event.context);\n  });\n\n}\n\n\nResize.prototype.canResize = function(context) {\n  var rules = this._rules;\n\n  var ctx = pick(context, [ 'newBounds', 'shape', 'delta', 'direction' ]);\n\n  return rules.allowed('shape.resize', ctx);\n};\n\n/**\n * Activate a resize operation.\n *\n * You may specify additional contextual information and must specify a\n * resize direction during activation of the resize event.\n *\n * @param {MouseEvent} event\n * @param {djs.model.Shape} shape\n * @param {Object|string} contextOrDirection\n */\nResize.prototype.activate = function(event, shape, contextOrDirection) {\n  var dragging = this._dragging,\n      context,\n      direction;\n\n  if (typeof contextOrDirection === 'string') {\n    contextOrDirection = {\n      direction: contextOrDirection\n    };\n  }\n\n  context = assign({ shape: shape }, contextOrDirection);\n\n  direction = context.direction;\n\n  if (!direction) {\n    throw new Error('must provide a direction (n|w|s|e|nw|se|ne|sw)');\n  }\n\n  dragging.init(event, getReferencePoint(shape, direction), 'resize', {\n    autoActivate: true,\n    cursor: getCursor(direction),\n    data: {\n      shape: shape,\n      context: context\n    }\n  });\n};\n\nResize.prototype.computeMinResizeBox = function(context) {\n  var shape = context.shape,\n      direction = context.direction,\n      minDimensions,\n      childrenBounds;\n\n  minDimensions = context.minDimensions || {\n    width: DEFAULT_MIN_WIDTH,\n    height: DEFAULT_MIN_WIDTH\n  };\n\n  // get children bounds\n  childrenBounds = computeChildrenBBox(shape, context.childrenBoxPadding);\n\n  // get correct minimum bounds from given resize direction\n  // basically ensures that the minBounds is max(childrenBounds, minDimensions)\n  return getMinResizeBounds(direction, shape, minDimensions, childrenBounds);\n};\n\n\nResize.$inject = [\n  'eventBus',\n  'rules',\n  'modeling',\n  'dragging'\n];\n\n// helpers //////////\n\nfunction boundsChanged(shape, newBounds) {\n  return shape.x !== newBounds.x ||\n    shape.y !== newBounds.y ||\n    shape.width !== newBounds.width ||\n    shape.height !== newBounds.height;\n}\n\nexport function getReferencePoint(shape, direction) {\n  var mid = getMid(shape),\n      trbl = asTRBL(shape);\n\n  var referencePoint = {\n    x: mid.x,\n    y: mid.y\n  };\n\n  if (direction.indexOf('n') !== -1) {\n    referencePoint.y = trbl.top;\n  } else if (direction.indexOf('s') !== -1) {\n    referencePoint.y = trbl.bottom;\n  }\n\n  if (direction.indexOf('e') !== -1) {\n    referencePoint.x = trbl.right;\n  } else if (direction.indexOf('w') !== -1) {\n    referencePoint.x = trbl.left;\n  }\n\n  return referencePoint;\n}\n\nfunction getCursor(direction) {\n  var prefix = 'resize-';\n\n  if (direction === 'n' || direction === 's') {\n    return prefix + 'ns';\n  } else if (direction === 'e' || direction === 'w') {\n    return prefix + 'ew';\n  } else if (direction === 'nw' || direction === 'se') {\n    return prefix + 'nwse';\n  } else {\n    return prefix + 'nesw';\n  }\n}","var MARKER_RESIZING = 'djs-resizing',\n    MARKER_RESIZE_NOT_OK = 'resize-not-ok';\n\nvar LOW_PRIORITY = 500;\n\nimport {\n  attr as svgAttr,\n  remove as svgRemove,\n  classes as svgClasses\n} from 'tiny-svg';\n\n\n/**\n * Provides previews for resizing shapes when resizing.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {PreviewSupport} previewSupport\n */\nexport default function ResizePreview(eventBus, canvas, previewSupport) {\n\n  /**\n   * Update resizer frame.\n   *\n   * @param {Object} context\n   */\n  function updateFrame(context) {\n\n    var shape = context.shape,\n        bounds = context.newBounds,\n        frame = context.frame;\n\n    if (!frame) {\n      frame = context.frame = previewSupport.addFrame(shape, canvas.getDefaultLayer());\n\n      canvas.addMarker(shape, MARKER_RESIZING);\n    }\n\n    if (bounds.width > 5) {\n      svgAttr(frame, { x: bounds.x, width: bounds.width });\n    }\n\n    if (bounds.height > 5) {\n      svgAttr(frame, { y: bounds.y, height: bounds.height });\n    }\n\n    if (context.canExecute) {\n      svgClasses(frame).remove(MARKER_RESIZE_NOT_OK);\n    } else {\n      svgClasses(frame).add(MARKER_RESIZE_NOT_OK);\n    }\n  }\n\n  /**\n   * Remove resizer frame.\n   *\n   * @param {Object} context\n   */\n  function removeFrame(context) {\n    var shape = context.shape,\n        frame = context.frame;\n\n    if (frame) {\n      svgRemove(context.frame);\n    }\n\n    canvas.removeMarker(shape, MARKER_RESIZING);\n  }\n\n  // add and update previews\n  eventBus.on('resize.move', LOW_PRIORITY, function(event) {\n    updateFrame(event.context);\n  });\n\n  // remove previews\n  eventBus.on('resize.cleanup', function(event) {\n    removeFrame(event.context);\n  });\n\n}\n\nResizePreview.$inject = [\n  'eventBus',\n  'canvas',\n  'previewSupport'\n];","import {\n  bind,\n  forEach\n} from 'min-dash';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  clear as svgClear,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  isPrimaryButton\n} from '../../util/Mouse';\n\nimport {\n  transform\n} from '../../util/SvgTransformUtil';\n\nimport { getReferencePoint } from './Resize';\n\nvar HANDLE_OFFSET = -6,\n    HANDLE_SIZE = 4,\n    HANDLE_HIT_SIZE = 20;\n\nvar CLS_RESIZER = 'djs-resizer';\n\nvar directions = [ 'n', 'w', 's', 'e', 'nw', 'ne', 'se', 'sw' ];\n\n\n/**\n * This component is responsible for adding resize handles.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {Selection} selection\n * @param {Resize} resize\n */\nexport default function ResizeHandles(eventBus, canvas, selection, resize) {\n\n  this._resize = resize;\n  this._canvas = canvas;\n\n  var self = this;\n\n  eventBus.on('selection.changed', function(e) {\n    var newSelection = e.newSelection;\n\n    // remove old selection markers\n    self.removeResizers();\n\n    // add new selection markers ONLY if single selection\n    if (newSelection.length === 1) {\n      forEach(newSelection, bind(self.addResizer, self));\n    }\n  });\n\n  eventBus.on('shape.changed', function(e) {\n    var shape = e.element;\n\n    if (selection.isSelected(shape)) {\n      self.removeResizers();\n\n      self.addResizer(shape);\n    }\n  });\n}\n\n\nResizeHandles.prototype.makeDraggable = function(element, gfx, direction) {\n  var resize = this._resize;\n\n  function startResize(event) {\n\n    // only trigger on left mouse button\n    if (isPrimaryButton(event)) {\n      resize.activate(event, element, direction);\n    }\n  }\n\n  domEvent.bind(gfx, 'mousedown', startResize);\n  domEvent.bind(gfx, 'touchstart', startResize);\n};\n\n\nResizeHandles.prototype._createResizer = function(element, x, y, direction) {\n  var resizersParent = this._getResizersParent();\n\n  var offset = getHandleOffset(direction);\n\n  var group = svgCreate('g');\n\n  svgClasses(group).add(CLS_RESIZER);\n  svgClasses(group).add(CLS_RESIZER + '-' + element.id);\n  svgClasses(group).add(CLS_RESIZER + '-' + direction);\n\n  svgAppend(resizersParent, group);\n\n  var visual = svgCreate('rect');\n\n  svgAttr(visual, {\n    x: -HANDLE_SIZE / 2 + offset.x,\n    y: -HANDLE_SIZE / 2 + offset.y,\n    width: HANDLE_SIZE,\n    height: HANDLE_SIZE\n  });\n\n  svgClasses(visual).add(CLS_RESIZER + '-visual');\n\n  svgAppend(group, visual);\n\n  var hit = svgCreate('rect');\n\n  svgAttr(hit, {\n    x: -HANDLE_HIT_SIZE / 2 + offset.x,\n    y: -HANDLE_HIT_SIZE / 2 + offset.y,\n    width: HANDLE_HIT_SIZE,\n    height: HANDLE_HIT_SIZE\n  });\n\n  svgClasses(hit).add(CLS_RESIZER + '-hit');\n\n  svgAppend(group, hit);\n\n  transform(group, x, y);\n\n  return group;\n};\n\nResizeHandles.prototype.createResizer = function(element, direction) {\n  var point = getReferencePoint(element, direction);\n\n  var resizer = this._createResizer(element, point.x, point.y, direction);\n\n  this.makeDraggable(element, resizer, direction);\n};\n\n// resize handles implementation ///////////////////////////////\n\n/**\n * Add resizers for a given element.\n *\n * @param {djs.model.Shape} shape\n */\nResizeHandles.prototype.addResizer = function(shape) {\n  var self = this;\n\n  var resize = this._resize;\n\n  if (!resize.canResize({ shape: shape })) {\n    return;\n  }\n\n  forEach(directions, function(direction) {\n    self.createResizer(shape, direction);\n  });\n};\n\n/**\n * Remove all resizers\n */\nResizeHandles.prototype.removeResizers = function() {\n  var resizersParent = this._getResizersParent();\n\n  svgClear(resizersParent);\n};\n\nResizeHandles.prototype._getResizersParent = function() {\n  return this._canvas.getLayer('resizers');\n};\n\nResizeHandles.$inject = [\n  'eventBus',\n  'canvas',\n  'selection',\n  'resize'\n];\n\n// helpers //////////\n\nfunction getHandleOffset(direction) {\n  var offset = {\n    x: 0,\n    y: 0\n  };\n\n  if (direction.indexOf('e') !== -1) {\n    offset.x = -HANDLE_OFFSET;\n  } else if (direction.indexOf('w') !== -1) {\n    offset.x = HANDLE_OFFSET;\n  }\n\n  if (direction.indexOf('s') !== -1) {\n    offset.y = -HANDLE_OFFSET;\n  } else if (direction.indexOf('n') !== -1) {\n    offset.y = HANDLE_OFFSET;\n  }\n\n  return offset;\n}","import RulesModule from '../rules';\nimport DraggingModule from '../dragging';\nimport PreviewSupportModule from '../preview-support';\n\nimport Resize from './Resize';\nimport ResizePreview from './ResizePreview';\nimport ResizeHandles from './ResizeHandles';\n\nexport default {\n  __depends__: [\n    RulesModule,\n    DraggingModule,\n    PreviewSupportModule\n  ],\n  __init__: [\n    'resize',\n    'resizePreview',\n    'resizeHandles'\n  ],\n  resize: [ 'type', Resize ],\n  resizePreview: [ 'type', ResizePreview ],\n  resizeHandles: [ 'type', ResizeHandles ]\n};\n","import {\r\n  asTRBL,\r\n  getMid,\r\n  getOrientation\r\n} from 'diagram-js/lib/layout/LayoutUtil';\r\n\r\nimport {\r\n  isAny\r\n} from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nvar RECONNECT_START = 'reconnectStart',\r\n    RECONNECT_END = 'reconnectEnd';\r\n\r\nvar HIGH_PRIORITY = 2000;\r\n\r\n\r\nexport default function DrdBendpointSnapping(eventBus) {\r\n  eventBus.on([\r\n    'bendpoint.move.move',\r\n    'bendpoint.move.end'\r\n  ], HIGH_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        allowed = context.allowed,\r\n        hover = context.hover,\r\n        source = context.source,\r\n        target = context.target,\r\n        type = context.type;\r\n\r\n    if (!context.hints) {\r\n      context.hints = {};\r\n    }\r\n\r\n    delete context.hints.connectionStart;\r\n    delete context.hints.connectionEnd;\r\n\r\n    if (allowed && allowed.type !== 'dmn:InformationRequirement') {\r\n      return;\r\n    }\r\n\r\n    if (!hover || !isAny(hover, [ 'dmn:Decision', 'dmn:InputData' ])) {\r\n      return;\r\n    }\r\n\r\n    if (source === target) {\r\n      return;\r\n    }\r\n\r\n    var reconnect = type === RECONNECT_START || type === RECONNECT_END;\r\n\r\n    var orientation = getOrientation(source, target);\r\n\r\n    if (reconnect && hover === source) {\r\n\r\n      // (1) snap event to source\r\n      snapToSource(event, orientation);\r\n\r\n      // (2) set connection end to target\r\n      context.hints.connectionEnd = getConnectionEnd(target, orientation);\r\n    } else if (reconnect && hover === target) {\r\n\r\n      // (1) set connection start to source\r\n      context.hints.connectionStart = getConnectionStart(source, orientation);\r\n\r\n      // (2) snap event to target\r\n      snapToTarget(event, orientation);\r\n    }\r\n  });\r\n}\r\n\r\nDrdBendpointSnapping.$inject = [ 'eventBus' ];\r\n\r\n\r\n// helpers //////////\r\n\r\nfunction getConnectionStart(source, orientation) {\r\n  var sourceTrbl = asTRBL(source);\r\n\r\n  var connectionStart = getMid(source);\r\n\r\n  if (orientation.includes('bottom')) {\r\n    connectionStart.y = sourceTrbl.top;\r\n  } else if (orientation.includes('top')) {\r\n    connectionStart.y = sourceTrbl.bottom;\r\n  } else if (orientation.includes('right')) {\r\n    connectionStart.x = sourceTrbl.left;\r\n  } else {\r\n    connectionStart.x = sourceTrbl.right;\r\n  }\r\n\r\n  return connectionStart;\r\n}\r\n\r\nfunction getConnectionEnd(target, orientation) {\r\n  var targetTrbl = asTRBL(target);\r\n\r\n  var connectionEnd = getMid(target);\r\n\r\n  if (orientation.includes('bottom')) {\r\n    connectionEnd.y = targetTrbl.bottom;\r\n  } else if (orientation.includes('top')) {\r\n    connectionEnd.y = targetTrbl.top;\r\n  } else if (orientation.includes('right')) {\r\n    connectionEnd.x = targetTrbl.right;\r\n  } else {\r\n    connectionEnd.x = targetTrbl.left;\r\n  }\r\n\r\n  return connectionEnd;\r\n}\r\n\r\nfunction snapToSource(event, orientation) {\r\n  var context = event.context,\r\n      source = context.source;\r\n\r\n  var connectionStart = getConnectionStart(source, orientation);\r\n\r\n  var dx = event.x - connectionStart.x,\r\n      dy = event.y - connectionStart.y;\r\n\r\n  event.x -= dx;\r\n  event.y -= dy;\r\n\r\n  event.dx -= dx;\r\n  event.dy -= dy;\r\n}\r\n\r\nfunction snapToTarget(event, orientation) {\r\n  var context = event.context,\r\n      target = context.target;\r\n\r\n  var connectionEnd = getConnectionEnd(target, orientation);\r\n\r\n  var dx = 0,\r\n      dy = 0;\r\n\r\n  if (orientation.includes('top') ||orientation.includes('bottom')) {\r\n    dy = event.y - connectionEnd.y;\r\n  } else {\r\n    dx = event.x - connectionEnd.x;\r\n  }\r\n\r\n  event.x -= dx;\r\n  event.y -= dy;\r\n\r\n  event.dx -= dx;\r\n  event.dy -= dy;\r\n}","import {\r\n  asTRBL,\r\n  getMid,\r\n  getOrientation\r\n} from 'diagram-js/lib/layout/LayoutUtil';\r\n\r\nvar LOW_PRIORITY = 250;\r\n\r\n\r\nexport default function DrdConnectSnapping(eventBus) {\r\n  eventBus.on([\r\n    'connect.hover',\r\n    'connect.move',\r\n    'connect.end',\r\n  ], LOW_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        canExecute = context.canExecute,\r\n        hover = context.hover,\r\n        source = context.source,\r\n        target = context.target;\r\n\r\n    if (canExecute && canExecute.type === 'dmn:InformationRequirement') {\r\n      var orientation = getOrientation(source, target);\r\n\r\n      // snap source\r\n      context.connectionStart = getMid(source);\r\n\r\n      // snap target\r\n      if (hover === source) {\r\n        context.connectionEnd = getMid(target);\r\n      } else {\r\n        context.connectionEnd = {\r\n          x: event.x,\r\n          y: event.y\r\n        };\r\n      }\r\n\r\n      if (orientation.includes('bottom')) {\r\n        context.connectionStart.y = asTRBL(source).top;\r\n        context.connectionEnd.y = asTRBL(target).bottom;\r\n      } else if (orientation.includes('top')) {\r\n        context.connectionStart.y = asTRBL(source).bottom;\r\n        context.connectionEnd.y = asTRBL(target).top;\r\n      } else if (orientation.includes('right')) {\r\n        context.connectionStart.x = asTRBL(source).left;\r\n        context.connectionEnd.x = asTRBL(target).right;\r\n      } else {\r\n        context.connectionStart.x = asTRBL(source).right;\r\n        context.connectionEnd.x = asTRBL(target).left;\r\n      }\r\n    } else {\r\n      delete context.connectionStart;\r\n      delete context.connectionEnd;\r\n    }\r\n  });\r\n}\r\n\r\nDrdConnectSnapping.$inject = [ 'eventBus' ];","import {\n  forEach\n} from 'min-dash';\n\nimport {\n  snapTo\n} from './SnapUtil';\n\n\n/**\n * A snap context, containing the (possibly incomplete)\n * mappings of drop targets (to identify the snapping)\n * to computed snap points.\n */\nexport default function SnapContext() {\n\n  /**\n   * Map<String, SnapPoints> mapping drop targets to\n   * a list of possible snappings.\n   *\n   * @type {Object}\n   */\n  this._targets = {};\n\n  /**\n   * Map<String, Point> initial positioning of element\n   * regarding various snap directions.\n   *\n   * @type {Object}\n   */\n  this._snapOrigins = {};\n\n  /**\n   * List of snap locations\n   *\n   * @type {Array<string>}\n   */\n  this._snapLocations = [];\n\n  /**\n   * Map<String, Array<Point>> of default snapping locations\n   *\n   * @type {Object}\n   */\n  this._defaultSnaps = {};\n}\n\n\nSnapContext.prototype.getSnapOrigin = function(snapLocation) {\n  return this._snapOrigins[snapLocation];\n};\n\n\nSnapContext.prototype.setSnapOrigin = function(snapLocation, initialValue) {\n  this._snapOrigins[snapLocation] = initialValue;\n\n  if (this._snapLocations.indexOf(snapLocation) === -1) {\n    this._snapLocations.push(snapLocation);\n  }\n};\n\n\nSnapContext.prototype.addDefaultSnap = function(type, point) {\n\n  var snapValues = this._defaultSnaps[type];\n\n  if (!snapValues) {\n    snapValues = this._defaultSnaps[type] = [];\n  }\n\n  snapValues.push(point);\n};\n\n/**\n * Return a number of initialized snaps, i.e. snap locations such as\n * top-left, mid, bottom-right and so forth.\n *\n * @return {Array<string>} snapLocations\n */\nSnapContext.prototype.getSnapLocations = function() {\n  return this._snapLocations;\n};\n\n/**\n * Set the snap locations for this context.\n *\n * The order of locations determines precedence.\n *\n * @param {Array<string>} snapLocations\n */\nSnapContext.prototype.setSnapLocations = function(snapLocations) {\n  this._snapLocations = snapLocations;\n};\n\n/**\n * Get snap points for a given target\n *\n * @param {Element|string} target\n */\nSnapContext.prototype.pointsForTarget = function(target) {\n\n  var targetId = target.id || target;\n\n  var snapPoints = this._targets[targetId];\n\n  if (!snapPoints) {\n    snapPoints = this._targets[targetId] = new SnapPoints();\n    snapPoints.initDefaults(this._defaultSnaps);\n  }\n\n  return snapPoints;\n};\n\n\n/**\n * Creates the snap points and initializes them with the\n * given default values.\n *\n * @param {Object<string, Array<Point>>} [defaultPoints]\n */\nexport function SnapPoints(defaultSnaps) {\n\n  /**\n   * Map<String, Map<(x|y), Array<number>>> mapping snap locations,\n   * i.e. top-left, bottom-right, center to actual snap values.\n   *\n   * @type {Object}\n   */\n  this._snapValues = {};\n}\n\nSnapPoints.prototype.add = function(snapLocation, point) {\n\n  var snapValues = this._snapValues[snapLocation];\n\n  if (!snapValues) {\n    snapValues = this._snapValues[snapLocation] = { x: [], y: [] };\n  }\n\n  if (snapValues.x.indexOf(point.x) === -1) {\n    snapValues.x.push(point.x);\n  }\n\n  if (snapValues.y.indexOf(point.y) === -1) {\n    snapValues.y.push(point.y);\n  }\n};\n\n\nSnapPoints.prototype.snap = function(point, snapLocation, axis, tolerance) {\n  var snappingValues = this._snapValues[snapLocation];\n\n  return snappingValues && snapTo(point[axis], snappingValues[axis], tolerance);\n};\n\n/**\n * Initialize a number of default snapping points.\n *\n * @param  {Object} defaultSnaps\n */\nSnapPoints.prototype.initDefaults = function(defaultSnaps) {\n\n  var self = this;\n\n  forEach(defaultSnaps || {}, function(snapPoints, snapLocation) {\n    forEach(snapPoints, function(point) {\n      self.add(snapLocation, point);\n    });\n  });\n};","import SnapContext from './SnapContext';\r\n\r\nimport {\r\n  getChildren,\r\n  isSnapped,\r\n  mid\r\n} from './SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  forEach,\r\n  isNumber\r\n} from 'min-dash';\r\n\r\nvar HIGHER_PRIORITY = 1250;\r\n\r\n\r\n/**\r\n * Snap during create and move.\r\n *\r\n * @param {EventBus} elementRegistry\r\n * @param {EventBus} eventBus\r\n * @param {Snapping} snapping\r\n */\r\nexport default function CreateMoveSnapping(elementRegistry, eventBus, snapping) {\r\n  var self = this;\r\n\r\n  this._elementRegistry = elementRegistry;\r\n\r\n  eventBus.on([\r\n    'create.start',\r\n    'shape.move.start'\r\n  ], function(event) {\r\n    self.initSnap(event);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.move',\r\n    'create.end',\r\n    'shape.move.move',\r\n    'shape.move.end'\r\n  ], HIGHER_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        shape = context.shape,\r\n        snapContext = context.snapContext,\r\n        target = context.target;\r\n\r\n    if (event.originalEvent && isCmd(event.originalEvent)) {\r\n      return;\r\n    }\r\n\r\n    if (isSnapped(event) || !target) {\r\n      return;\r\n    }\r\n\r\n    var snapPoints = snapContext.pointsForTarget(target);\r\n\r\n    if (!snapPoints.initialized) {\r\n      snapPoints = self.addSnapTargetPoints(snapPoints, shape, target);\r\n\r\n      snapPoints.initialized = true;\r\n    }\r\n\r\n    snapping.snap(event, snapPoints);\r\n  });\r\n\r\n  eventBus.on([\r\n    'create.cleanup',\r\n    'shape.move.cleanup'\r\n  ], function() {\r\n    snapping.hide();\r\n  });\r\n}\r\n\r\nCreateMoveSnapping.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'snapping'\r\n];\r\n\r\nCreateMoveSnapping.prototype.initSnap = function(event) {\r\n  var elementRegistry = this._elementRegistry;\r\n\r\n  var context = event.context,\r\n      shape = context.shape,\r\n      snapContext = context.snapContext;\r\n\r\n  if (!snapContext) {\r\n    snapContext = context.snapContext = new SnapContext();\r\n  }\r\n\r\n  var shapeMid;\r\n\r\n  if (elementRegistry.get(shape.id)) {\r\n\r\n    // move\r\n    shapeMid = mid(shape, event);\r\n  } else {\r\n\r\n    // create\r\n    shapeMid = {\r\n      x: event.x + mid(shape).x,\r\n      y: event.y + mid(shape).y\r\n    };\r\n  }\r\n\r\n  var shapeTopLeft = {\r\n        x: shapeMid.x - shape.width / 2,\r\n        y: shapeMid.y - shape.height / 2\r\n      },\r\n      shapeBottomRight = {\r\n        x: shapeMid.x + shape.width / 2,\r\n        y: shapeMid.y + shape.height / 2\r\n      };\r\n\r\n  snapContext.setSnapOrigin('mid', {\r\n    x: shapeMid.x - event.x,\r\n    y: shapeMid.y - event.y\r\n  });\r\n\r\n  // snap labels to mid only\r\n  if (isLabel(shape)) {\r\n    return snapContext;\r\n  }\r\n\r\n  snapContext.setSnapOrigin('top-left', {\r\n    x: shapeTopLeft.x - event.x,\r\n    y: shapeTopLeft.y - event.y\r\n  });\r\n\r\n  snapContext.setSnapOrigin('bottom-right', {\r\n    x: shapeBottomRight.x - event.x,\r\n    y: shapeBottomRight.y - event.y\r\n  });\r\n\r\n  return snapContext;\r\n};\r\n\r\nCreateMoveSnapping.prototype.addSnapTargetPoints = function(snapPoints, shape, target) {\r\n  var snapTargets = this.getSnapTargets(shape, target);\r\n\r\n  forEach(snapTargets, function(snapTarget) {\r\n\r\n    // handle labels\r\n    if (isLabel(snapTarget)) {\r\n\r\n      if (isLabel(shape)) {\r\n        snapPoints.add('mid', mid(snapTarget));\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // handle connections\r\n    if (isConnection(snapTarget)) {\r\n\r\n      // ignore single segment connections\r\n      if (snapTarget.waypoints.length < 3) {\r\n        return;\r\n      }\r\n\r\n      // ignore first and last waypoint\r\n      var waypoints = snapTarget.waypoints.slice(1, -1);\r\n\r\n      forEach(waypoints, function(waypoint) {\r\n        snapPoints.add('mid', waypoint);\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    // handle shapes\r\n    snapPoints.add('mid', mid(snapTarget));\r\n  });\r\n\r\n  if (!isNumber(shape.x) || !isNumber(shape.y)) {\r\n    return snapPoints;\r\n  }\r\n\r\n  // snap to original position when moving\r\n  if (this._elementRegistry.get(shape.id)) {\r\n    snapPoints.add('mid', mid(shape));\r\n  }\r\n\r\n  return snapPoints;\r\n};\r\n\r\nCreateMoveSnapping.prototype.getSnapTargets = function(shape, target) {\r\n  return getChildren(target).filter(function(child) {\r\n    return !isHidden(child);\r\n  });\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction isConnection(element) {\r\n  return !!element.waypoints;\r\n}\r\n\r\nfunction isHidden(element) {\r\n  return !!element.hidden;\r\n}\r\n\r\nfunction isLabel(element) {\r\n  return !!element.labelTarget;\r\n}","import SnapContext from './SnapContext';\r\n\r\nimport {\r\n  bottomRight,\r\n  getChildren,\r\n  isSnapped,\r\n  setSnapped,\r\n  topLeft,\r\n} from './SnapUtil';\r\n\r\nimport { isCmd } from '../keyboard/KeyboardUtil';\r\n\r\nimport {\r\n  asTRBL,\r\n  getMid\r\n} from '../../layout/LayoutUtil';\r\n\r\nimport { forEach } from 'min-dash';\r\n\r\nvar HIGHER_PRIORITY = 1250;\r\n\r\n\r\n/**\r\n * Snap during resize.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {Snapping} snapping\r\n */\r\nexport default function ResizeSnapping(eventBus, snapping) {\r\n  var self = this;\r\n\r\n  eventBus.on([ 'resize.start' ], function(event) {\r\n    self.initSnap(event);\r\n  });\r\n\r\n  eventBus.on([\r\n    'resize.move',\r\n    'resize.end',\r\n  ], HIGHER_PRIORITY, function(event) {\r\n    var context = event.context,\r\n        shape = context.shape,\r\n        parent = shape.parent,\r\n        direction = context.direction,\r\n        snapContext = context.snapContext;\r\n\r\n    if (event.originalEvent && isCmd(event.originalEvent)) {\r\n      return;\r\n    }\r\n\r\n    if (isSnapped(event)) {\r\n      return;\r\n    }\r\n\r\n    var snapPoints = snapContext.pointsForTarget(parent);\r\n\r\n    if (!snapPoints.initialized) {\r\n      snapPoints = self.addSnapTargetPoints(snapPoints, shape, parent, direction);\r\n\r\n      snapPoints.initialized = true;\r\n    }\r\n\r\n    if (isHorizontal(direction)) {\r\n      setSnapped(event, 'x', event.x);\r\n    }\r\n\r\n    if (isVertical(direction)) {\r\n      setSnapped(event, 'y', event.y);\r\n    }\r\n\r\n    snapping.snap(event, snapPoints);\r\n  });\r\n\r\n  eventBus.on([ 'resize.cleanup' ], function() {\r\n    snapping.hide();\r\n  });\r\n}\r\n\r\nResizeSnapping.prototype.initSnap = function(event) {\r\n  var context = event.context,\r\n      shape = context.shape,\r\n      direction = context.direction,\r\n      snapContext = context.snapContext;\r\n\r\n  if (!snapContext) {\r\n    snapContext = context.snapContext = new SnapContext();\r\n  }\r\n\r\n  var snapOrigin = getSnapOrigin(shape, direction);\r\n\r\n  snapContext.setSnapOrigin('corner', {\r\n    x: snapOrigin.x - event.x,\r\n    y: snapOrigin.y - event.y\r\n  });\r\n\r\n  return snapContext;\r\n};\r\n\r\nResizeSnapping.prototype.addSnapTargetPoints = function(snapPoints, shape, target, direction) {\r\n  var snapTargets = this.getSnapTargets(shape, target);\r\n\r\n  forEach(snapTargets, function(snapTarget) {\r\n    snapPoints.add('corner', bottomRight(snapTarget));\r\n    snapPoints.add('corner', topLeft(snapTarget));\r\n  });\r\n\r\n  snapPoints.add('corner', getSnapOrigin(shape, direction));\r\n\r\n  return snapPoints;\r\n};\r\n\r\nResizeSnapping.$inject = [\r\n  'eventBus',\r\n  'snapping'\r\n];\r\n\r\nResizeSnapping.prototype.getSnapTargets = function(shape, target) {\r\n  return getChildren(target).filter(function(child) {\r\n    return !isAttached(child, shape)\r\n      && !isConnection(child)\r\n      && !isHidden(child)\r\n      && !isLabel(child);\r\n  });\r\n};\r\n\r\n// helpers //////////\r\n\r\nfunction getSnapOrigin(shape, direction) {\r\n  var mid = getMid(shape),\r\n      trbl = asTRBL(shape);\r\n\r\n  var snapOrigin = {\r\n    x: mid.x,\r\n    y: mid.y\r\n  };\r\n\r\n  if (direction.indexOf('n') !== -1) {\r\n    snapOrigin.y = trbl.top;\r\n  } else if (direction.indexOf('s') !== -1) {\r\n    snapOrigin.y = trbl.bottom;\r\n  }\r\n\r\n  if (direction.indexOf('e') !== -1) {\r\n    snapOrigin.x = trbl.right;\r\n  } else if (direction.indexOf('w') !== -1) {\r\n    snapOrigin.x = trbl.left;\r\n  }\r\n\r\n  return snapOrigin;\r\n}\r\n\r\nfunction isAttached(element, host) {\r\n  return element.host === host;\r\n}\r\n\r\nfunction isConnection(element) {\r\n  return !!element.waypoints;\r\n}\r\n\r\nfunction isHidden(element) {\r\n  return !!element.hidden;\r\n}\r\n\r\nfunction isLabel(element) {\r\n  return !!element.labelTarget;\r\n}\r\n\r\nfunction isHorizontal(direction) {\r\n  return direction === 'n' || direction === 's';\r\n}\r\n\r\nfunction isVertical(direction) {\r\n  return direction === 'e' || direction === 'w';\r\n}","import {\n  bind,\n  debounce,\n  forEach,\n  isNumber,\n  isObject\n} from 'min-dash';\n\nimport {\n  isSnapped,\n  setSnapped\n} from './SnapUtil';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate\n} from 'tiny-svg';\n\nvar SNAP_TOLERANCE = 7;\n\nexport var SNAP_LINE_HIDE_DELAY = 1000;\n\n\n/**\n * Generic snapping feature.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n */\nexport default function Snapping(canvas) {\n  this._canvas = canvas;\n\n  // delay hide by 1000 seconds since last snap\n  this._asyncHide = debounce(bind(this.hide, this), SNAP_LINE_HIDE_DELAY);\n}\n\nSnapping.$inject = [ 'canvas' ];\n\n/**\n * Snap an event to given snap points.\n *\n * @param {Event} event\n * @param {SnapPoints} snapPoints\n */\nSnapping.prototype.snap = function(event, snapPoints) {\n  var context = event.context,\n      snapContext = context.snapContext,\n      snapLocations = snapContext.getSnapLocations();\n\n  var snapping = {\n    x: isSnapped(event, 'x'),\n    y: isSnapped(event, 'y')\n  };\n\n  forEach(snapLocations, function(location) {\n    var snapOrigin = snapContext.getSnapOrigin(location);\n\n    var snapCurrent = {\n      x: event.x + snapOrigin.x,\n      y: event.y + snapOrigin.y\n    };\n\n    // snap both axis if not snapped already\n    forEach([ 'x', 'y' ], function(axis) {\n      var locationSnapping;\n\n      if (!snapping[axis]) {\n        locationSnapping = snapPoints.snap(snapCurrent, location, axis, SNAP_TOLERANCE);\n\n        if (locationSnapping !== undefined) {\n          snapping[axis] = {\n            value: locationSnapping,\n            originValue: locationSnapping - snapOrigin[axis]\n          };\n        }\n      }\n    });\n\n    // no need to continue snapping\n    if (snapping.x && snapping.y) {\n      return false;\n    }\n  });\n\n  // show snap lines\n  this.showSnapLine('vertical', snapping.x && snapping.x.value);\n  this.showSnapLine('horizontal', snapping.y && snapping.y.value);\n\n  // snap event\n  forEach([ 'x', 'y' ], function(axis) {\n    var axisSnapping = snapping[axis];\n\n    if (isObject(axisSnapping)) {\n      setSnapped(event, axis, axisSnapping.originValue);\n    }\n  });\n};\n\nSnapping.prototype._createLine = function(orientation) {\n  var root = this._canvas.getLayer('snap');\n\n  var line = svgCreate('path');\n\n  svgAttr(line, { d: 'M0,0 L0,0' });\n\n  svgClasses(line).add('djs-snap-line');\n\n  svgAppend(root, line);\n\n  return {\n    update: function(position) {\n\n      if (!isNumber(position)) {\n        svgAttr(line, { display: 'none' });\n      } else {\n        if (orientation === 'horizontal') {\n          svgAttr(line, {\n            d: 'M-100000,' + position + ' L+100000,' + position,\n            display: ''\n          });\n        } else {\n          svgAttr(line, {\n            d: 'M ' + position + ',-100000 L ' + position + ', +100000',\n            display: ''\n          });\n        }\n      }\n    }\n  };\n};\n\nSnapping.prototype._createSnapLines = function() {\n  this._snapLines = {\n    horizontal: this._createLine('horizontal'),\n    vertical: this._createLine('vertical')\n  };\n};\n\nSnapping.prototype.showSnapLine = function(orientation, position) {\n\n  var line = this.getSnapLine(orientation);\n\n  if (line) {\n    line.update(position);\n  }\n\n  this._asyncHide();\n};\n\nSnapping.prototype.getSnapLine = function(orientation) {\n  if (!this._snapLines) {\n    this._createSnapLines();\n  }\n\n  return this._snapLines[orientation];\n};\n\nSnapping.prototype.hide = function() {\n  forEach(this._snapLines, function(snapLine) {\n    snapLine.update();\n  });\n};\n","import CreateMoveSnapping from './CreateMoveSnapping';\nimport ResizeSnapping from './ResizeSnapping';\nimport Snapping from './Snapping';\n\nexport default {\n  __init__: [\n    'createMoveSnapping',\n    'resizeSnapping',\n    'snapping'\n  ],\n  createMoveSnapping: [ 'type', CreateMoveSnapping ],\n  resizeSnapping: [ 'type', ResizeSnapping ],\n  snapping: [ 'type', Snapping ]\n};","import DrdBendpointSnapping from './DrdBendpointSnapping';\r\nimport DrdConnectSnapping from './DrdConnectSnapping';\r\nimport SnappingModule from 'diagram-js/lib/features/snapping';\r\n\r\nexport default {\r\n  __depends__: [ SnappingModule ],\r\n  __init__: [\r\n    'bendpointSnapping',\r\n    'connectSnapping'\r\n  ],\r\n  bendpointSnapping: [ 'type', DrdBendpointSnapping ],\r\n  connectSnapping: [ 'type', DrdConnectSnapping ]\r\n};","import inherits from 'inherits';\n\nimport NavigatedViewer from './NavigatedViewer';\n\nimport AlignElementsModule from 'diagram-js/lib/features/align-elements';\nimport AutoPlaceModule from './features/auto-place';\nimport AutoScrollModule from 'diagram-js/lib/features/auto-scroll';\nimport BendpointsModule from 'diagram-js/lib/features/bendpoints';\nimport ContextPadModule from './features/context-pad';\nimport ConnectPreviewModule from 'diagram-js/lib/features/connection-preview';\nimport DefinitionPropertiesModule from './features/definition-properties/modeler';\nimport DistributeElementsModule from './features/distribute-elements';\nimport EditorActionsModule from './features/editor-actions';\nimport GenerateDiModule from './features/generate-di';\nimport GridSnappingModule from 'diagram-js/lib/features/grid-snapping';\nimport KeyboardModule from './features/keyboard';\nimport KeyboardMoveModule from 'diagram-js/lib/navigation/keyboard-move';\nimport KeyboardMoveSelectionModule from 'diagram-js/lib/features/keyboard-move-selection';\nimport LabelEditingModule from './features/label-editing';\nimport ModelingModule from './features/modeling';\nimport MoveModule from 'diagram-js/lib/features/move';\nimport PaletteModule from './features/palette';\nimport ResizeModule from 'diagram-js/lib/features/resize';\nimport SnappingModule from './features/snapping';\n\n/**\n * A modeler for DMN tables.\n *\n *\n * ## Extending the Modeler\n *\n * In order to extend the viewer pass extension modules to bootstrap via the\n * `additionalModules` option. An extension module is an object that exposes\n * named services.\n *\n * The following example depicts the integration of a simple\n * logging component that integrates with interaction events:\n *\n *\n * ```javascript\n *\n * // logging component\n * function InteractionLogger(eventBus) {\n *   eventBus.on('element.hover', function(event) {\n *     console.log()\n *   })\n * }\n *\n * InteractionLogger.$inject = [ 'eventBus' ]; // minification save\n *\n * // extension module\n * var extensionModule = {\n *   __init__: [ 'interactionLogger' ],\n *   interactionLogger: [ 'type', InteractionLogger ]\n * };\n *\n * // extend the viewer\n * var dmnModeler = new Modeler({ additionalModules: [ extensionModule ] });\n * dmnModeler.importXML(...);\n * ```\n *\n *\n * ## Customizing / Replacing Components\n *\n * You can replace individual table components by redefining them in override modules.\n * This works for all components, including those defined in the core.\n *\n * Pass in override modules via the `options.additionalModules` flag like this:\n *\n * ```javascript\n * function CustomContextPadProvider(contextPad) {\n *\n *   contextPad.registerProvider(this);\n *\n *   this.getContextPadEntries = function(element) {\n *     // no entries, effectively disable the context pad\n *     return {};\n *   };\n * }\n *\n * CustomContextPadProvider.$inject = [ 'contextPad' ];\n *\n * var overrideModule = {\n *   contextPadProvider: [ 'type', CustomContextPadProvider ]\n * };\n *\n * var dmnModeler = new Modeler({ additionalModules: [ overrideModule ]});\n * ```\n *\n * @param {Object} [options] configuration options to pass to the viewer\n * @param {DOMElement} [options.container]\n *        the container to render the viewer in, defaults to body.\n * @param {string|number} [options.width] the width of the viewer\n * @param {string|number} [options.height] the height of the viewer\n * @param {Object} [options.moddleExtensions]\n *        extension packages to provide\n * @param {Array<didi.Module>} [options.modules]\n *        a list of modules to override the default modules\n * @param {Array<didi.Module>} [options.additionalModules]\n *        a list of modules to use with the default modules\n */\nexport default function Modeler(options) {\n  NavigatedViewer.call(this, options);\n}\n\ninherits(Modeler, NavigatedViewer);\n\n\n// modules the modeler is composed of\n//\n// - viewer + navigation modules\n// - modeling modules\n\nModeler.prototype._modelingModules = [\n\n  // modeling components\n  AlignElementsModule,\n  AutoPlaceModule,\n  AutoScrollModule,\n  BendpointsModule,\n  ContextPadModule,\n  ConnectPreviewModule,\n  DefinitionPropertiesModule,\n  DistributeElementsModule,\n  EditorActionsModule,\n  GenerateDiModule,\n  GridSnappingModule,\n  KeyboardModule,\n  KeyboardMoveModule,\n  KeyboardMoveSelectionModule,\n  LabelEditingModule,\n  ModelingModule,\n  MoveModule,\n  PaletteModule,\n  ResizeModule,\n  SnappingModule\n];\n\nModeler.prototype._modules = [].concat(\n  Modeler.prototype._modules,\n  Modeler.prototype._modelingModules\n);\n","import { assign } from 'min-dash';\n\n\nexport class Base {\n\n  constructor(attrs) {\n    assign(this, attrs);\n\n    /**\n     * The object that backs up the shape\n     *\n     * @name Base#businessObject\n     * @type Object\n     */\n    defineProperty(this, 'businessObject', {\n      writable: true\n    });\n  }\n\n}\n\n\nexport class Root extends Base {\n\n  constructor(attrs) {\n    super(attrs);\n\n    /**\n     * The tables rows\n     *\n     * @name Root#rows\n     * @type Row\n     */\n    defineProperty(this, 'rows', {\n      enumerable: true,\n      value: this.rows || []\n    });\n\n    /**\n     * The tables columns\n     *\n     * @name Root#cols\n     * @type Col\n     */\n    defineProperty(this, 'cols', {\n      enumerable: true,\n      value: this.cols || []\n    });\n  }\n\n}\n\n\nexport class Row extends Base {\n\n  constructor(attrs) {\n    super(attrs);\n\n    /**\n     * Reference to the table\n     *\n     * @name Row#root\n     * @type Root\n     */\n    defineProperty(this, 'root', {\n      writable: true\n    });\n\n    /**\n     * Reference to contained cells\n     *\n     * @name Row#cells\n     * @type Cell\n     */\n    defineProperty(this, 'cells', {\n      enumerable: true,\n      value: this.cells || []\n    });\n  }\n\n}\n\n\nexport class Col extends Base {\n\n  constructor(attrs) {\n    super(attrs);\n\n    /**\n     * Reference to the table\n     *\n     * @name Col#table\n     * @type Root\n     */\n    defineProperty(this, 'root', {\n      writable: true\n    });\n\n    /**\n     * Reference to contained cells\n     *\n     * @name Row#cells\n     * @type Cell\n     */\n    defineProperty(this, 'cells', {\n      enumerable: true,\n      value: this.cells || []\n    });\n  }\n}\n\n\nexport class Cell extends Base {\n\n  constructor(attrs) {\n    super(attrs);\n\n    /**\n     * Reference to the row\n     *\n     * @name Cell#row\n     * @type Row\n     */\n    defineProperty(this, 'row', {\n      writable: true\n    });\n\n    /**\n     * Reference to the col\n     *\n     * @name Cell#col\n     * @type Col\n     */\n    defineProperty(this, 'col', {\n      writable: true\n    });\n  }\n\n}\n\n\nconst TYPES = {\n  root: Root,\n  row: Row,\n  col: Col,\n  cell: Cell\n};\n\n\nexport function create(type, attrs) {\n  const Type = TYPES[type];\n\n  if (!Type) {\n    throw new Error('unknown type ' + type);\n  }\n\n  return new Type(attrs);\n}\n\n\n// helpers /////////////\n\nfunction defineProperty(el, prop, options) {\n  Object.defineProperty(el, prop, options);\n}","import { create } from '../model';\n\nexport default class ElementFactory {\n  constructor() {\n    this._uid = 12;\n  }\n\n  create(type, attrs = {}) {\n    if (!attrs.id) {\n      attrs.id = type + '_' + (this._uid++);\n    }\n\n    return create(type, attrs);\n  }\n\n  createRoot(attrs) {\n    return this.create('root', attrs);\n  }\n\n  createRow(attrs) {\n    return this.create('row', attrs);\n  }\n\n  createCol(attrs) {\n    return this.create('col', attrs);\n  }\n\n  createCell(attrs) {\n    return this.create('cell', attrs);\n  }\n\n}","export default class ElementRegistry {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n\n    this._elements = {};\n\n    eventBus.on('table.clear', this.clear.bind(this));\n  }\n\n  add(element, type) {\n    const { id } = element;\n\n    this._elements[id] = element;\n  }\n\n  remove(element) {\n    const id = element.id || element;\n\n    delete this._elements[id];\n  }\n\n  get(id) {\n    return this._elements[id];\n  }\n\n  getAll() {\n    return values(this._elements);\n  }\n\n  forEach(fn) {\n    values(this._elements).forEach(element => fn(element));\n  }\n\n  filter(fn) {\n    return values(this._elements).filter(element => fn(element));\n  }\n\n  clear() {\n    this._elements = {};\n  }\n\n  updateId(element, newId) {\n\n    this._validateId(newId);\n\n    if (typeof element === 'string') {\n      element = this.get(element);\n    }\n\n    this._eventBus.fire('element.updateId', {\n      element: element,\n      newId: newId\n    });\n\n    this.remove(element);\n\n    element.id = newId;\n\n    this.add(element);\n  }\n\n  /**\n * Validate the suitability of the given id and signals a problem\n * with an exception.\n *\n * @param {String} id\n *\n * @throws {Error} if id is empty or already assigned\n */\n  _validateId(id) {\n    if (!id) {\n      throw new Error('element must have an id');\n    }\n\n    if (this._elements[id]) {\n      throw new Error('element with id ' + id + ' already added');\n    }\n  }\n}\n\nElementRegistry.$inject = [ 'eventBus' ];\n\n\n// helpers\n\nfunction values(obj) {\n  return Object.keys(obj).map(function(k) {\n    return obj[k];\n  });\n}","export default class ChangeSupport {\n  constructor(eventBus) {\n    this._listeners = {};\n\n    eventBus.on('elements.changed', ({ elements }) => {\n      this.elementsChanged(elements);\n    });\n\n    eventBus.on('root.remove', context => {\n      const oldRootId = context.root.id;\n\n      if (this._listeners[oldRootId]) {\n\n        eventBus.once('root.add', context => {\n          const newRootId = context.root.id;\n\n          this.updateId(oldRootId, newRootId);\n        });\n\n      }\n\n    });\n\n    eventBus.on('element.updateId', ({ element, newId }) => {\n      this.updateId(element.id, newId);\n    });\n  }\n\n  elementsChanged(elements) {\n    const invoked = {};\n\n    const elementsLength = elements.length;\n\n    for (let i = 0; i < elementsLength; i++) {\n      const { id } = elements[i];\n\n      if (invoked[id]) {\n        return;\n      }\n\n      invoked[id] = true;\n\n      const listenersLength = this._listeners[id] && this._listeners[id].length;\n\n      if (listenersLength) {\n        for (let j = 0; j < listenersLength; j++) {\n\n          // listeners might remove themselves before they get called\n          this._listeners[id][j] && this._listeners[id][j]();\n        }\n      }\n    }\n  }\n\n  onElementsChanged(id, listener) {\n    if (!this._listeners[id]) {\n      this._listeners[id] = [];\n    }\n\n    // avoid push for better performance\n    this._listeners[id][this._listeners[id].length] = listener;\n  }\n\n  offElementsChanged(id, listener) {\n    if (!this._listeners[id]) {\n      return;\n    }\n\n    if (listener) {\n      const idx = this._listeners[id].indexOf(listener);\n\n      if (idx !== -1) {\n        this._listeners[id].splice(idx, 1);\n      }\n    } else {\n      this._listeners[id].length = 0;\n    }\n  }\n\n  updateId(oldId, newId) {\n    if (this._listeners[oldId]) {\n\n      this._listeners[newId] = this._listeners[oldId];\n\n      delete this._listeners[oldId];\n\n    }\n  }\n}\n\nChangeSupport.$inject = [ 'eventBus' ];","import {\n  isFunction,\n  isNumber\n} from 'min-dash';\n\nconst DEFAULT_PRIORITY = 1000;\n\n\nexport default class Components {\n\n  constructor() {\n    this._listeners = {};\n  }\n\n  getComponent(type, context) {\n    const listeners = this._listeners[type];\n\n    if (!listeners) {\n      return;\n    }\n\n    let component;\n\n    for (let i = 0; i < listeners.length; i++) {\n      component = listeners[i].callback(context);\n\n      if (component) {\n        break;\n      }\n    }\n\n    return component;\n  }\n\n  getComponents(type, context) {\n    const listeners = this._listeners[type];\n\n    const components = [];\n\n    if (!listeners) {\n      return components;\n    }\n\n\n    for (let i = 0; i < listeners.length; i++) {\n      const component = listeners[i].callback(context);\n\n      if (component) {\n        components.push(component);\n      }\n    }\n\n    if (!components.length) {\n      return components;\n    }\n\n    return components;\n  }\n\n  onGetComponent(type, priority, callback) {\n    if (isFunction(priority)) {\n      callback = priority;\n      priority = DEFAULT_PRIORITY;\n    }\n\n    if (!isNumber(priority)) {\n      throw new Error('priority must be a number');\n    }\n\n    const listeners = this._getListeners(type);\n\n    let existingListener,\n        idx;\n\n    const newListener = { priority, callback };\n\n    for (idx = 0; (existingListener = listeners[idx]); idx++) {\n      if (existingListener.priority < priority) {\n\n        // prepend newListener at before existingListener\n        listeners.splice(idx, 0, newListener);\n        return;\n      }\n    }\n\n    listeners.push(newListener);\n  }\n\n  offGetComponent(type, callback) {\n    const listeners = this._getListeners(type);\n\n    let listener,\n        listenerCallback,\n        idx;\n\n    if (callback) {\n\n      // move through listeners from back to front\n      // and remove matching listeners\n      for (idx = listeners.length - 1; (listener = listeners[idx]); idx--) {\n        listenerCallback = listener.callback;\n\n        if (listenerCallback === callback) {\n          listeners.splice(idx, 1);\n        }\n      }\n    } else {\n      // clear listeners\n      listeners.length = 0;\n    }\n  }\n\n  _getListeners(type) {\n    let listeners = this._listeners[type];\n\n    if (!listeners) {\n      this._listeners[type] = listeners = [];\n    }\n\n    return listeners;\n  }\n}","var NO_OP = '$NO_OP';\r\nvar ERROR_MSG = 'a runtime error occured! Use Inferno in development environment to find the error.';\r\n// This should be boolean and not reference to window.document\r\nvar isBrowser = !!(typeof window !== 'undefined' && window.document);\r\n// this is MUCH faster than .constructor === Array and instanceof Array\r\n// in Node 7 and the later versions of V8, slower in older versions though\r\nvar isArray = Array.isArray;\r\nfunction isStringOrNumber(o) {\r\n    var type = typeof o;\r\n    return type === 'string' || type === 'number';\r\n}\r\nfunction isNullOrUndef(o) {\r\n    return isUndefined(o) || isNull(o);\r\n}\r\nfunction isInvalid(o) {\r\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\r\n}\r\nfunction isFunction(o) {\r\n    return typeof o === 'function';\r\n}\r\nfunction isString(o) {\r\n    return typeof o === 'string';\r\n}\r\nfunction isNumber(o) {\r\n    return typeof o === 'number';\r\n}\r\nfunction isNull(o) {\r\n    return o === null;\r\n}\r\nfunction isTrue(o) {\r\n    return o === true;\r\n}\r\nfunction isUndefined(o) {\r\n    return o === void 0;\r\n}\r\nfunction isObject(o) {\r\n    return typeof o === 'object';\r\n}\r\nfunction throwError(message) {\r\n    if (!message) {\r\n        message = ERROR_MSG;\r\n    }\r\n    throw new Error((\"Inferno Error: \" + message));\r\n}\r\nfunction combineFrom(first, second) {\r\n    var out = {};\r\n    if (first) {\r\n        for (var key in first) {\r\n            out[key] = first[key];\r\n        }\r\n    }\r\n    if (second) {\r\n        for (var key$1 in second) {\r\n            out[key$1] = second[key$1];\r\n        }\r\n    }\r\n    return out;\r\n}\n\nvar keyPrefix = '$';\r\nfunction getVNode(childFlags, children, className, flags, key, props, ref, type) {\r\n    return {\r\n        childFlags: childFlags,\r\n        children: children,\r\n        className: className,\r\n        dom: null,\r\n        flags: flags,\r\n        key: key === void 0 ? null : key,\r\n        parentVNode: null,\r\n        props: props === void 0 ? null : props,\r\n        ref: ref === void 0 ? null : ref,\r\n        type: type\r\n    };\r\n}\r\nfunction createVNode(flags, type, className, children, childFlags, props, key, ref) {\r\n    var childFlag = childFlags === void 0 ? 1 /* HasInvalidChildren */ : childFlags;\r\n    var vNode = getVNode(childFlag, children, className, flags, key, props, ref, type);\r\n    if (childFlag === 0 /* UnknownChildren */) {\r\n        normalizeChildren(vNode, vNode.children);\r\n    }\r\n    return vNode;\r\n}\r\nfunction createComponentVNode(flags, type, props, key, ref) {\r\n    if ((flags & 2 /* ComponentUnknown */) > 0) {\r\n        flags = type.prototype && isFunction(type.prototype.render) ? 4 /* ComponentClass */ : 8 /* ComponentFunction */;\r\n    }\r\n    // set default props\r\n    var defaultProps = type.defaultProps;\r\n    if (!isNullOrUndef(defaultProps)) {\r\n        if (!props) {\r\n            props = {}; // Props can be referenced and modified at application level so always create new object\r\n        }\r\n        for (var prop in defaultProps) {\r\n            if (isUndefined(props[prop])) {\r\n                props[prop] = defaultProps[prop];\r\n            }\r\n        }\r\n    }\r\n    if ((flags & 8 /* ComponentFunction */) > 0) {\r\n        var defaultHooks = type.defaultHooks;\r\n        if (!isNullOrUndef(defaultHooks)) {\r\n            if (!ref) {\r\n                // As ref cannot be referenced from application level, we can use the same refs object\r\n                ref = defaultHooks;\r\n            }\r\n            else {\r\n                for (var prop$1 in defaultHooks) {\r\n                    if (isUndefined(ref[prop$1])) {\r\n                        ref[prop$1] = defaultHooks[prop$1];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    var vNode = getVNode(1 /* HasInvalidChildren */, null, null, flags, key, props, ref, type);\r\n    var optsVNode = options.createVNode;\r\n    if (isFunction(optsVNode)) {\r\n        optsVNode(vNode);\r\n    }\r\n    return vNode;\r\n}\r\nfunction createTextVNode(text, key) {\r\n    return getVNode(1 /* HasInvalidChildren */, isNullOrUndef(text) ? '' : text, null, 16 /* Text */, key, null, null, null);\r\n}\r\nfunction normalizeProps(vNode) {\r\n    var props = vNode.props;\r\n    if (props) {\r\n        var flags = vNode.flags;\r\n        if (flags & 481 /* Element */) {\r\n            if (props.children !== void 0 && isNullOrUndef(vNode.children)) {\r\n                normalizeChildren(vNode, props.children);\r\n            }\r\n            if (props.className !== void 0) {\r\n                vNode.className = props.className || null;\r\n                props.className = undefined;\r\n            }\r\n        }\r\n        if (props.key !== void 0) {\r\n            vNode.key = props.key;\r\n            props.key = undefined;\r\n        }\r\n        if (props.ref !== void 0) {\r\n            if (flags & 8 /* ComponentFunction */) {\r\n                vNode.ref = combineFrom(vNode.ref, props.ref);\r\n            }\r\n            else {\r\n                vNode.ref = props.ref;\r\n            }\r\n            props.ref = undefined;\r\n        }\r\n    }\r\n    return vNode;\r\n}\r\nfunction directClone(vNodeToClone) {\r\n    var newVNode;\r\n    var flags = vNodeToClone.flags;\r\n    if (flags & 14 /* Component */) {\r\n        var props;\r\n        var propsToClone = vNodeToClone.props;\r\n        if (!isNull(propsToClone)) {\r\n            props = {};\r\n            for (var key in propsToClone) {\r\n                props[key] = propsToClone[key];\r\n            }\r\n        }\r\n        newVNode = createComponentVNode(flags, vNodeToClone.type, props, vNodeToClone.key, vNodeToClone.ref);\r\n    }\r\n    else if (flags & 481 /* Element */) {\r\n        var children = vNodeToClone.children;\r\n        newVNode = createVNode(flags, vNodeToClone.type, vNodeToClone.className, children, vNodeToClone.childFlags, vNodeToClone.props, vNodeToClone.key, vNodeToClone.ref);\r\n    }\r\n    else if (flags & 16 /* Text */) {\r\n        newVNode = createTextVNode(vNodeToClone.children, vNodeToClone.key);\r\n    }\r\n    else if (flags & 1024 /* Portal */) {\r\n        newVNode = vNodeToClone;\r\n    }\r\n    return newVNode;\r\n}\r\nfunction createVoidVNode() {\r\n    return createTextVNode('', null);\r\n}\r\nfunction _normalizeVNodes(nodes, result, index, currentKey) {\r\n    for (var len = nodes.length; index < len; index++) {\r\n        var n = nodes[index];\r\n        if (!isInvalid(n)) {\r\n            var newKey = currentKey + keyPrefix + index;\r\n            if (isArray(n)) {\r\n                _normalizeVNodes(n, result, 0, newKey);\r\n            }\r\n            else {\r\n                if (isStringOrNumber(n)) {\r\n                    n = createTextVNode(n, newKey);\r\n                }\r\n                else {\r\n                    var oldKey = n.key;\r\n                    var isPrefixedKey = isString(oldKey) && oldKey[0] === keyPrefix;\r\n                    if (!isNull(n.dom) || isPrefixedKey) {\r\n                        n = directClone(n);\r\n                    }\r\n                    if (isNull(oldKey) || isPrefixedKey) {\r\n                        n.key = newKey;\r\n                    }\r\n                    else {\r\n                        n.key = currentKey + oldKey;\r\n                    }\r\n                }\r\n                result.push(n);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction getFlagsForElementVnode(type) {\r\n    if (type === 'svg') {\r\n        return 32 /* SvgElement */;\r\n    }\r\n    if (type === 'input') {\r\n        return 64 /* InputElement */;\r\n    }\r\n    if (type === 'select') {\r\n        return 256 /* SelectElement */;\r\n    }\r\n    if (type === 'textarea') {\r\n        return 128 /* TextareaElement */;\r\n    }\r\n    return 1 /* HtmlElement */;\r\n}\r\nfunction normalizeChildren(vNode, children) {\r\n    var newChildren;\r\n    var newChildFlags = 1 /* HasInvalidChildren */;\r\n    // Don't change children to match strict equal (===) true in patching\r\n    if (isInvalid(children)) {\r\n        newChildren = children;\r\n    }\r\n    else if (isString(children)) {\r\n        newChildFlags = 2 /* HasVNodeChildren */;\r\n        newChildren = createTextVNode(children);\r\n    }\r\n    else if (isNumber(children)) {\r\n        newChildFlags = 2 /* HasVNodeChildren */;\r\n        newChildren = createTextVNode(children + '');\r\n    }\r\n    else if (isArray(children)) {\r\n        var len = children.length;\r\n        if (len === 0) {\r\n            newChildren = null;\r\n            newChildFlags = 1 /* HasInvalidChildren */;\r\n        }\r\n        else {\r\n            // we assign $ which basically means we've flagged this array for future note\r\n            // if it comes back again, we need to clone it, as people are using it\r\n            // in an immutable way\r\n            // tslint:disable-next-line\r\n            if (Object.isFrozen(children) || children['$'] === true) {\r\n                children = children.slice();\r\n            }\r\n            newChildFlags = 8 /* HasKeyedChildren */;\r\n            for (var i = 0; i < len; i++) {\r\n                var n = children[i];\r\n                if (isInvalid(n) || isArray(n)) {\r\n                    newChildren = newChildren || children.slice(0, i);\r\n                    _normalizeVNodes(children, newChildren, i, '');\r\n                    break;\r\n                }\r\n                else if (isStringOrNumber(n)) {\r\n                    newChildren = newChildren || children.slice(0, i);\r\n                    newChildren.push(createTextVNode(n, keyPrefix + i));\r\n                }\r\n                else {\r\n                    var key = n.key;\r\n                    var isNullDom = isNull(n.dom);\r\n                    var isNullKey = isNull(key);\r\n                    var isPrefixed = !isNullKey && key[0] === keyPrefix;\r\n                    if (!isNullDom || isNullKey || isPrefixed) {\r\n                        newChildren = newChildren || children.slice(0, i);\r\n                        if (!isNullDom || isPrefixed) {\r\n                            n = directClone(n);\r\n                        }\r\n                        if (isNullKey || isPrefixed) {\r\n                            n.key = keyPrefix + i;\r\n                        }\r\n                        newChildren.push(n);\r\n                    }\r\n                    else if (newChildren) {\r\n                        newChildren.push(n);\r\n                    }\r\n                }\r\n            }\r\n            newChildren = newChildren || children;\r\n            newChildren.$ = true;\r\n        }\r\n    }\r\n    else {\r\n        newChildren = children;\r\n        if (!isNull(children.dom)) {\r\n            newChildren = directClone(children);\r\n        }\r\n        newChildFlags = 2 /* HasVNodeChildren */;\r\n    }\r\n    vNode.children = newChildren;\r\n    vNode.childFlags = newChildFlags;\r\n    return vNode;\r\n}\r\nvar options = {\r\n    afterMount: null,\r\n    afterRender: null,\r\n    afterUpdate: null,\r\n    beforeRender: null,\r\n    beforeUnmount: null,\r\n    createVNode: null,\r\n    roots: []\r\n};\n\n/**\r\n * Links given data to event as first parameter\r\n * @param {*} data data to be linked, it will be available in function as first parameter\r\n * @param {Function} event Function to be called when event occurs\r\n * @returns {{data: *, event: Function}}\r\n */\r\nfunction linkEvent(data, event) {\r\n    if (isFunction(event)) {\r\n        return { data: data, event: event };\r\n    }\r\n    return null; // Return null when event is invalid, to avoid creating unnecessary event handlers\r\n}\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\r\nvar xmlNS = 'http://www.w3.org/XML/1998/namespace';\r\nvar svgNS = 'http://www.w3.org/2000/svg';\r\nvar namespaces = {\r\n    'xlink:actuate': xlinkNS,\r\n    'xlink:arcrole': xlinkNS,\r\n    'xlink:href': xlinkNS,\r\n    'xlink:role': xlinkNS,\r\n    'xlink:show': xlinkNS,\r\n    'xlink:title': xlinkNS,\r\n    'xlink:type': xlinkNS,\r\n    'xml:base': xmlNS,\r\n    'xml:lang': xmlNS,\r\n    'xml:space': xmlNS\r\n};\n\n// We need EMPTY_OBJ defined in one place.\r\n// Its used for comparison so we cant inline it into shared\r\nvar EMPTY_OBJ = {};\r\nvar LIFECYCLE = [];\r\nfunction appendChild(parentDom, dom) {\r\n    parentDom.appendChild(dom);\r\n}\r\nfunction insertOrAppend(parentDom, newNode, nextNode) {\r\n    if (isNullOrUndef(nextNode)) {\r\n        appendChild(parentDom, newNode);\r\n    }\r\n    else {\r\n        parentDom.insertBefore(newNode, nextNode);\r\n    }\r\n}\r\nfunction documentCreateElement(tag, isSVG) {\r\n    if (isSVG === true) {\r\n        return document.createElementNS(svgNS, tag);\r\n    }\r\n    return document.createElement(tag);\r\n}\r\nfunction replaceChild(parentDom, newDom, lastDom) {\r\n    parentDom.replaceChild(newDom, lastDom);\r\n}\r\nfunction removeChild(parentDom, dom) {\r\n    parentDom.removeChild(dom);\r\n}\r\nfunction callAll(arrayFn) {\r\n    var listener;\r\n    while ((listener = arrayFn.shift()) !== undefined) {\r\n        listener();\r\n    }\r\n}\n\nvar attachedEventCounts = {};\r\nvar attachedEvents = {};\r\nfunction handleEvent(name, nextEvent, dom) {\r\n    var eventsLeft = attachedEventCounts[name];\r\n    var eventsObject = dom.$EV;\r\n    if (nextEvent) {\r\n        if (!eventsLeft) {\r\n            attachedEvents[name] = attachEventToDocument(name);\r\n            attachedEventCounts[name] = 0;\r\n        }\r\n        if (!eventsObject) {\r\n            eventsObject = dom.$EV = {};\r\n        }\r\n        if (!eventsObject[name]) {\r\n            attachedEventCounts[name]++;\r\n        }\r\n        eventsObject[name] = nextEvent;\r\n    }\r\n    else if (eventsObject && eventsObject[name]) {\r\n        attachedEventCounts[name]--;\r\n        if (eventsLeft === 1) {\r\n            document.removeEventListener(normalizeEventName(name), attachedEvents[name]);\r\n            attachedEvents[name] = null;\r\n        }\r\n        eventsObject[name] = nextEvent;\r\n    }\r\n}\r\nfunction dispatchEvents(event, target, isClick, name, eventData) {\r\n    var dom = target;\r\n    while (!isNull(dom)) {\r\n        // Html Nodes can be nested fe: span inside button in that scenario browser does not handle disabled attribute on parent,\r\n        // because the event listener is on document.body\r\n        // Don't process clicks on disabled elements\r\n        if (isClick && dom.disabled) {\r\n            return;\r\n        }\r\n        var eventsObject = dom.$EV;\r\n        if (eventsObject) {\r\n            var currentEvent = eventsObject[name];\r\n            if (currentEvent) {\r\n                // linkEvent object\r\n                eventData.dom = dom;\r\n                if (currentEvent.event) {\r\n                    currentEvent.event(currentEvent.data, event);\r\n                }\r\n                else {\r\n                    currentEvent(event);\r\n                }\r\n                if (event.cancelBubble) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        dom = dom.parentNode;\r\n    }\r\n}\r\nfunction normalizeEventName(name) {\r\n    return name.substr(2).toLowerCase();\r\n}\r\nfunction stopPropagation() {\r\n    this.cancelBubble = true;\r\n    if (!this.immediatePropagationStopped) {\r\n        this.stopImmediatePropagation();\r\n    }\r\n}\r\nfunction attachEventToDocument(name) {\r\n    var docEvent = function (event) {\r\n        var type = event.type;\r\n        var isClick = type === 'click' || type === 'dblclick';\r\n        if (isClick && event.button !== 0) {\r\n            // Firefox incorrectly triggers click event for mid/right mouse buttons.\r\n            // This bug has been active for 12 years.\r\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=184051\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return false;\r\n        }\r\n        event.stopPropagation = stopPropagation;\r\n        // Event data needs to be object to save reference to currentTarget getter\r\n        var eventData = {\r\n            dom: document\r\n        };\r\n        Object.defineProperty(event, 'currentTarget', {\r\n            configurable: true,\r\n            get: function get() {\r\n                return eventData.dom;\r\n            }\r\n        });\r\n        dispatchEvents(event, event.target, isClick, name, eventData);\r\n        return;\r\n    };\r\n    document.addEventListener(normalizeEventName(name), docEvent);\r\n    return docEvent;\r\n}\n\nfunction isSameInnerHTML(dom, innerHTML) {\r\n    var tempdom = document.createElement('i');\r\n    tempdom.innerHTML = innerHTML;\r\n    return tempdom.innerHTML === dom.innerHTML;\r\n}\r\nfunction isSamePropsInnerHTML(dom, props) {\r\n    return Boolean(props && props.dangerouslySetInnerHTML && props.dangerouslySetInnerHTML.__html && isSameInnerHTML(dom, props.dangerouslySetInnerHTML.__html));\r\n}\n\nfunction triggerEventListener(props, methodName, e) {\r\n    if (props[methodName]) {\r\n        var listener = props[methodName];\r\n        if (listener.event) {\r\n            listener.event(listener.data, e);\r\n        }\r\n        else {\r\n            listener(e);\r\n        }\r\n    }\r\n    else {\r\n        var nativeListenerName = methodName.toLowerCase();\r\n        if (props[nativeListenerName]) {\r\n            props[nativeListenerName](e);\r\n        }\r\n    }\r\n}\r\nfunction createWrappedFunction(methodName, applyValue) {\r\n    var fnMethod = function (e) {\r\n        e.stopPropagation();\r\n        var vNode = this.$V;\r\n        // If vNode is gone by the time event fires, no-op\r\n        if (!vNode) {\r\n            return;\r\n        }\r\n        var props = vNode.props || EMPTY_OBJ;\r\n        var dom = vNode.dom;\r\n        if (isString(methodName)) {\r\n            triggerEventListener(props, methodName, e);\r\n        }\r\n        else {\r\n            for (var i = 0; i < methodName.length; i++) {\r\n                triggerEventListener(props, methodName[i], e);\r\n            }\r\n        }\r\n        if (isFunction(applyValue)) {\r\n            var newVNode = this.$V;\r\n            var newProps = newVNode.props || EMPTY_OBJ;\r\n            applyValue(newProps, dom, false, newVNode);\r\n        }\r\n    };\r\n    Object.defineProperty(fnMethod, 'wrapped', {\r\n        configurable: false,\r\n        enumerable: false,\r\n        value: true,\r\n        writable: false\r\n    });\r\n    return fnMethod;\r\n}\n\nfunction isCheckedType(type) {\r\n    return type === 'checkbox' || type === 'radio';\r\n}\r\nvar onTextInputChange = createWrappedFunction('onInput', applyValueInput);\r\nvar wrappedOnChange = createWrappedFunction(['onClick', 'onChange'], applyValueInput);\r\n/* tslint:disable-next-line:no-empty */\r\nfunction emptywrapper(event) {\r\n    event.stopPropagation();\r\n}\r\nemptywrapper.wrapped = true;\r\nfunction inputEvents(dom, nextPropsOrEmpty) {\r\n    if (isCheckedType(nextPropsOrEmpty.type)) {\r\n        dom.onchange = wrappedOnChange;\r\n        dom.onclick = emptywrapper;\r\n    }\r\n    else {\r\n        dom.oninput = onTextInputChange;\r\n    }\r\n}\r\nfunction applyValueInput(nextPropsOrEmpty, dom) {\r\n    var type = nextPropsOrEmpty.type;\r\n    var value = nextPropsOrEmpty.value;\r\n    var checked = nextPropsOrEmpty.checked;\r\n    var multiple = nextPropsOrEmpty.multiple;\r\n    var defaultValue = nextPropsOrEmpty.defaultValue;\r\n    var hasValue = !isNullOrUndef(value);\r\n    if (type && type !== dom.type) {\r\n        dom.setAttribute('type', type);\r\n    }\r\n    if (!isNullOrUndef(multiple) && multiple !== dom.multiple) {\r\n        dom.multiple = multiple;\r\n    }\r\n    if (!isNullOrUndef(defaultValue) && !hasValue) {\r\n        dom.defaultValue = defaultValue + '';\r\n    }\r\n    if (isCheckedType(type)) {\r\n        if (hasValue) {\r\n            dom.value = value;\r\n        }\r\n        if (!isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n    else {\r\n        if (hasValue && dom.value !== value) {\r\n            dom.defaultValue = value;\r\n            dom.value = value;\r\n        }\r\n        else if (!isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n}\n\nfunction updateChildOptionGroup(vNode, value) {\r\n    var type = vNode.type;\r\n    if (type === 'optgroup') {\r\n        var children = vNode.children;\r\n        var childFlags = vNode.childFlags;\r\n        if (childFlags & 12 /* MultipleChildren */) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOption(children[i], value);\r\n            }\r\n        }\r\n        else if (childFlags === 2 /* HasVNodeChildren */) {\r\n            updateChildOption(children, value);\r\n        }\r\n    }\r\n    else {\r\n        updateChildOption(vNode, value);\r\n    }\r\n}\r\nfunction updateChildOption(vNode, value) {\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    // we do this as multiple may have changed\r\n    dom.value = props.value;\r\n    if ((isArray(value) && value.indexOf(props.value) !== -1) || props.value === value) {\r\n        dom.selected = true;\r\n    }\r\n    else if (!isNullOrUndef(value) || !isNullOrUndef(props.selected)) {\r\n        dom.selected = props.selected || false;\r\n    }\r\n}\r\nvar onSelectChange = createWrappedFunction('onChange', applyValueSelect);\r\nfunction selectEvents(dom) {\r\n    dom.onchange = onSelectChange;\r\n}\r\nfunction applyValueSelect(nextPropsOrEmpty, dom, mounting, vNode) {\r\n    var multiplePropInBoolean = Boolean(nextPropsOrEmpty.multiple);\r\n    if (!isNullOrUndef(nextPropsOrEmpty.multiple) && multiplePropInBoolean !== dom.multiple) {\r\n        dom.multiple = multiplePropInBoolean;\r\n    }\r\n    var childFlags = vNode.childFlags;\r\n    if ((childFlags & 1 /* HasInvalidChildren */) === 0) {\r\n        var children = vNode.children;\r\n        var value = nextPropsOrEmpty.value;\r\n        if (mounting && isNullOrUndef(value)) {\r\n            value = nextPropsOrEmpty.defaultValue;\r\n        }\r\n        if (childFlags & 12 /* MultipleChildren */) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOptionGroup(children[i], value);\r\n            }\r\n        }\r\n        else if (childFlags === 2 /* HasVNodeChildren */) {\r\n            updateChildOptionGroup(children, value);\r\n        }\r\n    }\r\n}\n\nvar onTextareaInputChange = createWrappedFunction('onInput', applyValueTextArea);\r\nvar wrappedOnChange$1 = createWrappedFunction('onChange');\r\nfunction textAreaEvents(dom, nextPropsOrEmpty) {\r\n    dom.oninput = onTextareaInputChange;\r\n    if (nextPropsOrEmpty.onChange) {\r\n        dom.onchange = wrappedOnChange$1;\r\n    }\r\n}\r\nfunction applyValueTextArea(nextPropsOrEmpty, dom, mounting) {\r\n    var value = nextPropsOrEmpty.value;\r\n    var domValue = dom.value;\r\n    if (isNullOrUndef(value)) {\r\n        if (mounting) {\r\n            var defaultValue = nextPropsOrEmpty.defaultValue;\r\n            if (!isNullOrUndef(defaultValue) && defaultValue !== domValue) {\r\n                dom.defaultValue = defaultValue;\r\n                dom.value = defaultValue;\r\n            }\r\n        }\r\n    }\r\n    else if (domValue !== value) {\r\n        /* There is value so keep it controlled */\r\n        dom.defaultValue = value;\r\n        dom.value = value;\r\n    }\r\n}\n\n/**\r\n * There is currently no support for switching same input between controlled and nonControlled\r\n * If that ever becomes a real issue, then re design controlled elements\r\n * Currently user must choose either controlled or non-controlled and stick with that\r\n */\r\nfunction processElement(flags, vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    if (flags & 64 /* InputElement */) {\r\n        applyValueInput(nextPropsOrEmpty, dom);\r\n    }\r\n    else if (flags & 256 /* SelectElement */) {\r\n        applyValueSelect(nextPropsOrEmpty, dom, mounting, vNode);\r\n    }\r\n    else if (flags & 128 /* TextareaElement */) {\r\n        applyValueTextArea(nextPropsOrEmpty, dom, mounting);\r\n    }\r\n    if (isControlled) {\r\n        dom.$V = vNode;\r\n    }\r\n}\r\nfunction addFormElementEventHandlers(flags, dom, nextPropsOrEmpty) {\r\n    if (flags & 64 /* InputElement */) {\r\n        inputEvents(dom, nextPropsOrEmpty);\r\n    }\r\n    else if (flags & 256 /* SelectElement */) {\r\n        selectEvents(dom);\r\n    }\r\n    else if (flags & 128 /* TextareaElement */) {\r\n        textAreaEvents(dom, nextPropsOrEmpty);\r\n    }\r\n}\r\nfunction isControlledFormElement(nextPropsOrEmpty) {\r\n    return nextPropsOrEmpty.type && isCheckedType(nextPropsOrEmpty.type) ? !isNullOrUndef(nextPropsOrEmpty.checked) : !isNullOrUndef(nextPropsOrEmpty.value);\r\n}\n\nfunction remove(vNode, parentDom) {\r\n    unmount(vNode);\r\n    if (!isNull(parentDom)) {\r\n        removeChild(parentDom, vNode.dom);\r\n        // Let carbage collector free memory\r\n        vNode.dom = null;\r\n    }\r\n}\r\nfunction unmount(vNode) {\r\n    var flags = vNode.flags;\r\n    if (flags & 481 /* Element */) {\r\n        var ref = vNode.ref;\r\n        var props = vNode.props;\r\n        if (isFunction(ref)) {\r\n            ref(null);\r\n        }\r\n        var children = vNode.children;\r\n        var childFlags = vNode.childFlags;\r\n        if (childFlags & 12 /* MultipleChildren */) {\r\n            unmountAllChildren(children);\r\n        }\r\n        else if (childFlags === 2 /* HasVNodeChildren */) {\r\n            unmount(children);\r\n        }\r\n        if (!isNull(props)) {\r\n            for (var name in props) {\r\n                switch (name) {\r\n                    case 'onClick':\r\n                    case 'onDblClick':\r\n                    case 'onFocusIn':\r\n                    case 'onFocusOut':\r\n                    case 'onKeyDown':\r\n                    case 'onKeyPress':\r\n                    case 'onKeyUp':\r\n                    case 'onMouseDown':\r\n                    case 'onMouseMove':\r\n                    case 'onMouseUp':\r\n                    case 'onSubmit':\r\n                    case 'onTouchEnd':\r\n                    case 'onTouchMove':\r\n                    case 'onTouchStart':\r\n                        handleEvent(name, null, vNode.dom);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (flags & 14 /* Component */) {\r\n        var instance = vNode.children;\r\n        var ref$1 = vNode.ref;\r\n        if (flags & 4 /* ComponentClass */) {\r\n            if (isFunction(options.beforeUnmount)) {\r\n                options.beforeUnmount(vNode);\r\n            }\r\n            if (isFunction(instance.componentWillUnmount)) {\r\n                instance.componentWillUnmount();\r\n            }\r\n            if (isFunction(ref$1)) {\r\n                ref$1(null);\r\n            }\r\n            instance.$UN = true;\r\n            unmount(instance.$LI);\r\n        }\r\n        else {\r\n            if (!isNullOrUndef(ref$1) && isFunction(ref$1.onComponentWillUnmount)) {\r\n                ref$1.onComponentWillUnmount(vNode.dom, vNode.props || EMPTY_OBJ);\r\n            }\r\n            unmount(instance);\r\n        }\r\n    }\r\n    else if (flags & 1024 /* Portal */) {\r\n        var children$1 = vNode.children;\r\n        if (!isNull(children$1) && isObject(children$1)) {\r\n            remove(children$1, vNode.type);\r\n        }\r\n    }\r\n}\r\nfunction unmountAllChildren(children) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        unmount(children[i]);\r\n    }\r\n}\r\nfunction removeAllChildren(dom, children) {\r\n    unmountAllChildren(children);\r\n    dom.textContent = '';\r\n}\n\nfunction createLinkEvent(linkEvent, nextValue) {\r\n    return function (e) {\r\n        linkEvent(nextValue.data, e);\r\n    };\r\n}\r\nfunction patchEvent(name, lastValue, nextValue, dom) {\r\n    var nameLowerCase = name.toLowerCase();\r\n    if (!isFunction(nextValue) && !isNullOrUndef(nextValue)) {\r\n        var linkEvent = nextValue.event;\r\n        if (linkEvent && isFunction(linkEvent)) {\r\n            dom[nameLowerCase] = createLinkEvent(linkEvent, nextValue);\r\n        }\r\n    }\r\n    else {\r\n        var domEvent = dom[nameLowerCase];\r\n        // if the function is wrapped, that means it's been controlled by a wrapper\r\n        if (!domEvent || !domEvent.wrapped) {\r\n            dom[nameLowerCase] = nextValue;\r\n        }\r\n    }\r\n}\r\nfunction getNumberStyleValue(style, value) {\r\n    switch (style) {\r\n        case 'animationIterationCount':\r\n        case 'borderImageOutset':\r\n        case 'borderImageSlice':\r\n        case 'borderImageWidth':\r\n        case 'boxFlex':\r\n        case 'boxFlexGroup':\r\n        case 'boxOrdinalGroup':\r\n        case 'columnCount':\r\n        case 'fillOpacity':\r\n        case 'flex':\r\n        case 'flexGrow':\r\n        case 'flexNegative':\r\n        case 'flexOrder':\r\n        case 'flexPositive':\r\n        case 'flexShrink':\r\n        case 'floodOpacity':\r\n        case 'fontWeight':\r\n        case 'gridColumn':\r\n        case 'gridRow':\r\n        case 'lineClamp':\r\n        case 'lineHeight':\r\n        case 'opacity':\r\n        case 'order':\r\n        case 'orphans':\r\n        case 'stopOpacity':\r\n        case 'strokeDasharray':\r\n        case 'strokeDashoffset':\r\n        case 'strokeMiterlimit':\r\n        case 'strokeOpacity':\r\n        case 'strokeWidth':\r\n        case 'tabSize':\r\n        case 'widows':\r\n        case 'zIndex':\r\n        case 'zoom':\r\n            return value;\r\n        default:\r\n            return value + 'px';\r\n    }\r\n}\r\n// We are assuming here that we come from patchProp routine\r\n// -nextAttrValue cannot be null or undefined\r\nfunction patchStyle(lastAttrValue, nextAttrValue, dom) {\r\n    var domStyle = dom.style;\r\n    var style;\r\n    var value;\r\n    if (isString(nextAttrValue)) {\r\n        domStyle.cssText = nextAttrValue;\r\n        return;\r\n    }\r\n    if (!isNullOrUndef(lastAttrValue) && !isString(lastAttrValue)) {\r\n        for (style in nextAttrValue) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            value = nextAttrValue[style];\r\n            if (value !== lastAttrValue[style]) {\r\n                domStyle[style] = isNumber(value) ? getNumberStyleValue(style, value) : value;\r\n            }\r\n        }\r\n        for (style in lastAttrValue) {\r\n            if (isNullOrUndef(nextAttrValue[style])) {\r\n                domStyle[style] = '';\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        for (style in nextAttrValue) {\r\n            value = nextAttrValue[style];\r\n            domStyle[style] = isNumber(value) ? getNumberStyleValue(style, value) : value;\r\n        }\r\n    }\r\n}\r\nfunction patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue, lastVNode) {\r\n    switch (prop) {\r\n        case 'onClick':\r\n        case 'onDblClick':\r\n        case 'onFocusIn':\r\n        case 'onFocusOut':\r\n        case 'onKeyDown':\r\n        case 'onKeyPress':\r\n        case 'onKeyUp':\r\n        case 'onMouseDown':\r\n        case 'onMouseMove':\r\n        case 'onMouseUp':\r\n        case 'onSubmit':\r\n        case 'onTouchEnd':\r\n        case 'onTouchMove':\r\n        case 'onTouchStart':\r\n            handleEvent(prop, nextValue, dom);\r\n            break;\r\n        case 'children':\r\n        case 'childrenType':\r\n        case 'className':\r\n        case 'defaultValue':\r\n        case 'key':\r\n        case 'multiple':\r\n        case 'ref':\r\n            return;\r\n        case 'allowfullscreen':\r\n        case 'autoFocus':\r\n        case 'autoplay':\r\n        case 'capture':\r\n        case 'checked':\r\n        case 'controls':\r\n        case 'default':\r\n        case 'disabled':\r\n        case 'hidden':\r\n        case 'indeterminate':\r\n        case 'loop':\r\n        case 'muted':\r\n        case 'novalidate':\r\n        case 'open':\r\n        case 'readOnly':\r\n        case 'required':\r\n        case 'reversed':\r\n        case 'scoped':\r\n        case 'seamless':\r\n        case 'selected':\r\n            prop = prop === 'autoFocus' ? prop.toLowerCase() : prop;\r\n            dom[prop] = !!nextValue;\r\n            break;\r\n        case 'defaultChecked':\r\n        case 'value':\r\n        case 'volume':\r\n            if (hasControlledValue && prop === 'value') {\r\n                return;\r\n            }\r\n            var value = isNullOrUndef(nextValue) ? '' : nextValue;\r\n            if (dom[prop] !== value) {\r\n                dom[prop] = value;\r\n            }\r\n            break;\r\n        case 'dangerouslySetInnerHTML':\r\n            var lastHtml = (lastValue && lastValue.__html) || '';\r\n            var nextHtml = (nextValue && nextValue.__html) || '';\r\n            if (lastHtml !== nextHtml) {\r\n                if (!isNullOrUndef(nextHtml) && !isSameInnerHTML(dom, nextHtml)) {\r\n                    if (!isNull(lastVNode)) {\r\n                        if (lastVNode.childFlags & 12 /* MultipleChildren */) {\r\n                            unmountAllChildren(lastVNode.children);\r\n                        }\r\n                        else if (lastVNode.childFlags === 2 /* HasVNodeChildren */) {\r\n                            unmount(lastVNode.children);\r\n                        }\r\n                        lastVNode.children = null;\r\n                        lastVNode.childFlags = 1 /* HasInvalidChildren */;\r\n                    }\r\n                    dom.innerHTML = nextHtml;\r\n                }\r\n            }\r\n            break;\r\n        default:\r\n            if (prop[0] === 'o' && prop[1] === 'n') {\r\n                patchEvent(prop, lastValue, nextValue, dom);\r\n            }\r\n            else if (isNullOrUndef(nextValue)) {\r\n                dom.removeAttribute(prop);\r\n            }\r\n            else if (prop === 'style') {\r\n                patchStyle(lastValue, nextValue, dom);\r\n            }\r\n            else if (isSVG && namespaces[prop]) {\r\n                // We optimize for NS being boolean. Its 99.9% time false\r\n                // If we end up in this path we can read property again\r\n                dom.setAttributeNS(namespaces[prop], prop, nextValue);\r\n            }\r\n            else {\r\n                dom.setAttribute(prop, nextValue);\r\n            }\r\n            break;\r\n    }\r\n}\r\nfunction mountProps(vNode, flags, props, dom, isSVG) {\r\n    var hasControlledValue = false;\r\n    var isFormElement = (flags & 448 /* FormElement */) > 0;\r\n    if (isFormElement) {\r\n        hasControlledValue = isControlledFormElement(props);\r\n        if (hasControlledValue) {\r\n            addFormElementEventHandlers(flags, dom, props);\r\n        }\r\n    }\r\n    for (var prop in props) {\r\n        // do not add a hasOwnProperty check here, it affects performance\r\n        patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue, null);\r\n    }\r\n    if (isFormElement) {\r\n        processElement(flags, vNode, dom, props, true, hasControlledValue);\r\n    }\r\n}\n\nfunction createClassComponentInstance(vNode, Component, props, context) {\r\n    var instance = new Component(props, context);\r\n    vNode.children = instance;\r\n    instance.$V = vNode;\r\n    instance.$BS = false;\r\n    instance.context = context;\r\n    if (instance.props === EMPTY_OBJ) {\r\n        instance.props = props;\r\n    }\r\n    instance.$UN = false;\r\n    if (isFunction(instance.componentWillMount)) {\r\n        instance.$BR = true;\r\n        instance.componentWillMount();\r\n        if (instance.$PSS) {\r\n            var state = instance.state;\r\n            var pending = instance.$PS;\r\n            if (isNull(state)) {\r\n                instance.state = pending;\r\n            }\r\n            else {\r\n                for (var key in pending) {\r\n                    state[key] = pending[key];\r\n                }\r\n            }\r\n            instance.$PSS = false;\r\n            instance.$PS = null;\r\n        }\r\n        instance.$BR = false;\r\n    }\r\n    if (isFunction(options.beforeRender)) {\r\n        options.beforeRender(instance);\r\n    }\r\n    var input = handleComponentInput(instance.render(props, instance.state, context), vNode);\r\n    var childContext;\r\n    if (isFunction(instance.getChildContext)) {\r\n        childContext = instance.getChildContext();\r\n    }\r\n    if (isNullOrUndef(childContext)) {\r\n        instance.$CX = context;\r\n    }\r\n    else {\r\n        instance.$CX = combineFrom(context, childContext);\r\n    }\r\n    if (isFunction(options.afterRender)) {\r\n        options.afterRender(instance);\r\n    }\r\n    instance.$LI = input;\r\n    return instance;\r\n}\r\nfunction handleComponentInput(input, componentVNode) {\r\n    if (isInvalid(input)) {\r\n        input = createVoidVNode();\r\n    }\r\n    else if (isStringOrNumber(input)) {\r\n        input = createTextVNode(input, null);\r\n    }\r\n    else {\r\n        if (input.dom) {\r\n            input = directClone(input);\r\n        }\r\n        if (input.flags & 14 /* Component */) {\r\n            // if we have an input that is also a component, we run into a tricky situation\r\n            // where the root vNode needs to always have the correct DOM entry\r\n            // we can optimise this in the future, but this gets us out of a lot of issues\r\n            input.parentVNode = componentVNode;\r\n        }\r\n    }\r\n    return input;\r\n}\n\nfunction mount(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 481 /* Element */) {\r\n        return mountElement(vNode, parentDom, lifecycle, context, isSVG);\r\n    }\r\n    if (flags & 14 /* Component */) {\r\n        return mountComponent(vNode, parentDom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    if (flags & 512 /* Void */ || flags & 16 /* Text */) {\r\n        return mountText(vNode, parentDom);\r\n    }\r\n    if (flags & 1024 /* Portal */) {\r\n        mount(vNode.children, vNode.type, lifecycle, context, false);\r\n        return (vNode.dom = mountText(createVoidVNode(), parentDom));\r\n    }\r\n}\r\nfunction mountText(vNode, parentDom) {\r\n    var dom = (vNode.dom = document.createTextNode(vNode.children));\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountElement(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var ref = vNode.ref;\r\n    var childFlags = vNode.childFlags;\r\n    isSVG = isSVG || (flags & 32 /* SvgElement */) > 0;\r\n    var dom = documentCreateElement(vNode.type, isSVG);\r\n    vNode.dom = dom;\r\n    if (!isNullOrUndef(className) && className !== '') {\r\n        if (isSVG) {\r\n            dom.setAttribute('class', className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n    }\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    if ((childFlags & 1 /* HasInvalidChildren */) === 0) {\r\n        var childrenIsSVG = isSVG === true && vNode.type !== 'foreignObject';\r\n        if (childFlags === 2 /* HasVNodeChildren */) {\r\n            mount(children, dom, lifecycle, context, childrenIsSVG);\r\n        }\r\n        else if (childFlags & 12 /* MultipleChildren */) {\r\n            mountArrayChildren(children, dom, lifecycle, context, childrenIsSVG);\r\n        }\r\n    }\r\n    if (!isNull(props)) {\r\n        mountProps(vNode, flags, props, dom, isSVG);\r\n    }\r\n    if (isFunction(ref)) {\r\n        mountRef(dom, ref, lifecycle);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountArrayChildren(children, dom, lifecycle, context, isSVG) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        var child = children[i];\r\n        if (!isNull(child.dom)) {\r\n            children[i] = child = directClone(child);\r\n        }\r\n        mount(child, dom, lifecycle, context, isSVG);\r\n    }\r\n}\r\nfunction mountComponent(vNode, parentDom, lifecycle, context, isSVG, isClass) {\r\n    var dom;\r\n    var type = vNode.type;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var ref = vNode.ref;\r\n    if (isClass) {\r\n        var instance = createClassComponentInstance(vNode, type, props, context);\r\n        vNode.dom = dom = mount(instance.$LI, null, lifecycle, instance.$CX, isSVG);\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance.$UPD = false;\r\n    }\r\n    else {\r\n        var input = handleComponentInput(type(props, context), vNode);\r\n        vNode.children = input;\r\n        vNode.dom = dom = mount(input, null, lifecycle, context, isSVG);\r\n        mountFunctionalComponentCallbacks(props, ref, dom, lifecycle);\r\n    }\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction createClassMountCallback(instance, hasAfterMount, afterMount, vNode, hasDidMount) {\r\n    return function () {\r\n        instance.$UPD = true;\r\n        if (hasAfterMount) {\r\n            afterMount(vNode);\r\n        }\r\n        if (hasDidMount) {\r\n            instance.componentDidMount();\r\n        }\r\n        instance.$UPD = false;\r\n    };\r\n}\r\nfunction mountClassComponentCallbacks(vNode, ref, instance, lifecycle) {\r\n    if (isFunction(ref)) {\r\n        ref(instance);\r\n    }\r\n    var hasDidMount = isFunction(instance.componentDidMount);\r\n    var afterMount = options.afterMount;\r\n    var hasAfterMount = isFunction(afterMount);\r\n    if (hasDidMount || hasAfterMount) {\r\n        lifecycle.push(createClassMountCallback(instance, hasAfterMount, afterMount, vNode, hasDidMount));\r\n    }\r\n}\r\n// Create did mount callback lazily to avoid creating function context if not needed\r\nfunction createOnMountCallback(ref, dom, props) {\r\n    return function () { return ref.onComponentDidMount(dom, props); };\r\n}\r\nfunction mountFunctionalComponentCallbacks(props, ref, dom, lifecycle) {\r\n    if (!isNullOrUndef(ref)) {\r\n        if (isFunction(ref.onComponentWillMount)) {\r\n            ref.onComponentWillMount(props);\r\n        }\r\n        if (isFunction(ref.onComponentDidMount)) {\r\n            lifecycle.push(createOnMountCallback(ref, dom, props));\r\n        }\r\n    }\r\n}\r\nfunction mountRef(dom, value, lifecycle) {\r\n    lifecycle.push(function () { return value(dom); });\r\n}\n\nfunction hydrateComponent(vNode, dom, lifecycle, context, isSVG, isClass) {\r\n    var type = vNode.type;\r\n    var ref = vNode.ref;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    if (isClass) {\r\n        var instance = createClassComponentInstance(vNode, type, props, context);\r\n        var input = instance.$LI;\r\n        hydrateVNode(input, dom, lifecycle, instance.$CX, isSVG);\r\n        vNode.dom = input.dom;\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance.$UPD = false; // Mount finished allow going sync\r\n    }\r\n    else {\r\n        var input$1 = handleComponentInput(type(props, context), vNode);\r\n        hydrateVNode(input$1, dom, lifecycle, context, isSVG);\r\n        vNode.children = input$1;\r\n        vNode.dom = input$1.dom;\r\n        mountFunctionalComponentCallbacks(props, ref, dom, lifecycle);\r\n    }\r\n}\r\nfunction hydrateElement(vNode, dom, lifecycle, context, isSVG) {\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var flags = vNode.flags;\r\n    var ref = vNode.ref;\r\n    isSVG = isSVG || (flags & 32 /* SvgElement */) > 0;\r\n    if (dom.nodeType !== 1 || dom.tagName.toLowerCase() !== vNode.type) {\r\n        var newDom = mountElement(vNode, null, lifecycle, context, isSVG);\r\n        vNode.dom = newDom;\r\n        replaceChild(dom.parentNode, newDom, dom);\r\n    }\r\n    else {\r\n        vNode.dom = dom;\r\n        var childNode = dom.firstChild;\r\n        var childFlags = vNode.childFlags;\r\n        if ((childFlags & 1 /* HasInvalidChildren */) === 0) {\r\n            var nextSibling = null;\r\n            while (childNode) {\r\n                nextSibling = childNode.nextSibling;\r\n                if (childNode.nodeType === 8) {\r\n                    if (childNode.data === '!') {\r\n                        dom.replaceChild(document.createTextNode(''), childNode);\r\n                    }\r\n                    else {\r\n                        dom.removeChild(childNode);\r\n                    }\r\n                }\r\n                childNode = nextSibling;\r\n            }\r\n            childNode = dom.firstChild;\r\n            if (childFlags === 2 /* HasVNodeChildren */) {\r\n                if (isNull(childNode)) {\r\n                    mount(children, dom, lifecycle, context, isSVG);\r\n                }\r\n                else {\r\n                    nextSibling = childNode.nextSibling;\r\n                    hydrateVNode(children, childNode, lifecycle, context, isSVG);\r\n                    childNode = nextSibling;\r\n                }\r\n            }\r\n            else if (childFlags & 12 /* MultipleChildren */) {\r\n                for (var i = 0, len = children.length; i < len; i++) {\r\n                    var child = children[i];\r\n                    if (isNull(childNode)) {\r\n                        mount(child, dom, lifecycle, context, isSVG);\r\n                    }\r\n                    else {\r\n                        nextSibling = childNode.nextSibling;\r\n                        hydrateVNode(child, childNode, lifecycle, context, isSVG);\r\n                        childNode = nextSibling;\r\n                    }\r\n                }\r\n            }\r\n            // clear any other DOM nodes, there should be only a single entry for the root\r\n            while (childNode) {\r\n                nextSibling = childNode.nextSibling;\r\n                dom.removeChild(childNode);\r\n                childNode = nextSibling;\r\n            }\r\n        }\r\n        else if (!isNull(dom.firstChild) && !isSamePropsInnerHTML(dom, props)) {\r\n            dom.textContent = ''; // dom has content, but VNode has no children remove everything from DOM\r\n            if (flags & 448 /* FormElement */) {\r\n                // If element is form element, we need to clear defaultValue also\r\n                dom.defaultValue = '';\r\n            }\r\n        }\r\n        if (!isNull(props)) {\r\n            mountProps(vNode, flags, props, dom, isSVG);\r\n        }\r\n        if (isNullOrUndef(className)) {\r\n            if (dom.className !== '') {\r\n                dom.removeAttribute('class');\r\n            }\r\n        }\r\n        else if (isSVG) {\r\n            dom.setAttribute('class', className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n        if (isFunction(ref)) {\r\n            mountRef(dom, ref, lifecycle);\r\n        }\r\n    }\r\n}\r\nfunction hydrateText(vNode, dom) {\r\n    if (dom.nodeType !== 3) {\r\n        var newDom = mountText(vNode, null);\r\n        vNode.dom = newDom;\r\n        replaceChild(dom.parentNode, newDom, dom);\r\n    }\r\n    else {\r\n        var text = vNode.children;\r\n        if (dom.nodeValue !== text) {\r\n            dom.nodeValue = text;\r\n        }\r\n        vNode.dom = dom;\r\n    }\r\n}\r\nfunction hydrateVNode(vNode, dom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 14 /* Component */) {\r\n        hydrateComponent(vNode, dom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    else if (flags & 481 /* Element */) {\r\n        hydrateElement(vNode, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (flags & 16 /* Text */) {\r\n        hydrateText(vNode, dom);\r\n    }\r\n    else if (flags & 512 /* Void */) {\r\n        vNode.dom = dom;\r\n    }\r\n    else {\r\n        throwError();\r\n    }\r\n}\r\nfunction hydrate(input, parentDom, callback) {\r\n    var dom = parentDom.firstChild;\r\n    if (!isNull(dom)) {\r\n        if (!isInvalid(input)) {\r\n            hydrateVNode(input, dom, LIFECYCLE, EMPTY_OBJ, false);\r\n        }\r\n        dom = parentDom.firstChild;\r\n        // clear any other DOM nodes, there should be only a single entry for the root\r\n        while ((dom = dom.nextSibling)) {\r\n            parentDom.removeChild(dom);\r\n        }\r\n    }\r\n    if (LIFECYCLE.length > 0) {\r\n        callAll(LIFECYCLE);\r\n    }\r\n    if (!parentDom.$V) {\r\n        options.roots.push(parentDom);\r\n    }\r\n    parentDom.$V = input;\r\n    if (isFunction(callback)) {\r\n        callback();\r\n    }\r\n}\n\nfunction replaceWithNewNode(lastNode, nextNode, parentDom, lifecycle, context, isSVG) {\r\n    unmount(lastNode);\r\n    replaceChild(parentDom, mount(nextNode, null, lifecycle, context, isSVG), lastNode.dom);\r\n}\r\nfunction patch(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG) {\r\n    if (lastVNode !== nextVNode) {\r\n        var nextFlags = nextVNode.flags | 0;\r\n        if (lastVNode.flags !== nextFlags || nextFlags & 2048 /* ReCreate */) {\r\n            replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG);\r\n        }\r\n        else if (nextFlags & 481 /* Element */) {\r\n            patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG);\r\n        }\r\n        else if (nextFlags & 14 /* Component */) {\r\n            patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, (nextFlags & 4 /* ComponentClass */) > 0);\r\n        }\r\n        else if (nextFlags & 16 /* Text */) {\r\n            patchText(lastVNode, nextVNode, parentDom);\r\n        }\r\n        else if (nextFlags & 512 /* Void */) {\r\n            nextVNode.dom = lastVNode.dom;\r\n        }\r\n        else {\r\n            // Portal\r\n            patchPortal(lastVNode, nextVNode, lifecycle, context);\r\n        }\r\n    }\r\n}\r\nfunction patchPortal(lastVNode, nextVNode, lifecycle, context) {\r\n    var lastContainer = lastVNode.type;\r\n    var nextContainer = nextVNode.type;\r\n    var nextChildren = nextVNode.children;\r\n    patchChildren(lastVNode.childFlags, nextVNode.childFlags, lastVNode.children, nextChildren, lastContainer, lifecycle, context, false);\r\n    nextVNode.dom = lastVNode.dom;\r\n    if (lastContainer !== nextContainer && !isInvalid(nextChildren)) {\r\n        var node = nextChildren.dom;\r\n        lastContainer.removeChild(node);\r\n        nextContainer.appendChild(node);\r\n    }\r\n}\r\nfunction patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG) {\r\n    var nextTag = nextVNode.type;\r\n    if (lastVNode.type !== nextTag) {\r\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG);\r\n    }\r\n    else {\r\n        var dom = lastVNode.dom;\r\n        var nextFlags = nextVNode.flags;\r\n        var lastProps = lastVNode.props;\r\n        var nextProps = nextVNode.props;\r\n        var isFormElement = false;\r\n        var hasControlledValue = false;\r\n        var nextPropsOrEmpty;\r\n        nextVNode.dom = dom;\r\n        isSVG = isSVG || (nextFlags & 32 /* SvgElement */) > 0;\r\n        // inlined patchProps  -- starts --\r\n        if (lastProps !== nextProps) {\r\n            var lastPropsOrEmpty = lastProps || EMPTY_OBJ;\r\n            nextPropsOrEmpty = nextProps || EMPTY_OBJ;\r\n            if (nextPropsOrEmpty !== EMPTY_OBJ) {\r\n                isFormElement = (nextFlags & 448 /* FormElement */) > 0;\r\n                if (isFormElement) {\r\n                    hasControlledValue = isControlledFormElement(nextPropsOrEmpty);\r\n                }\r\n                for (var prop in nextPropsOrEmpty) {\r\n                    var lastValue = lastPropsOrEmpty[prop];\r\n                    var nextValue = nextPropsOrEmpty[prop];\r\n                    if (lastValue !== nextValue) {\r\n                        patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue, lastVNode);\r\n                    }\r\n                }\r\n            }\r\n            if (lastPropsOrEmpty !== EMPTY_OBJ) {\r\n                for (var prop$1 in lastPropsOrEmpty) {\r\n                    // do not add a hasOwnProperty check here, it affects performance\r\n                    if (!nextPropsOrEmpty.hasOwnProperty(prop$1) && !isNullOrUndef(lastPropsOrEmpty[prop$1])) {\r\n                        patchProp(prop$1, lastPropsOrEmpty[prop$1], null, dom, isSVG, hasControlledValue, lastVNode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var lastChildren = lastVNode.children;\r\n        var nextChildren = nextVNode.children;\r\n        var nextRef = nextVNode.ref;\r\n        var lastClassName = lastVNode.className;\r\n        var nextClassName = nextVNode.className;\r\n        if (lastChildren !== nextChildren) {\r\n            patchChildren(lastVNode.childFlags, nextVNode.childFlags, lastChildren, nextChildren, dom, lifecycle, context, isSVG && nextTag !== 'foreignObject');\r\n        }\r\n        if (isFormElement) {\r\n            processElement(nextFlags, nextVNode, dom, nextPropsOrEmpty, false, hasControlledValue);\r\n        }\r\n        // inlined patchProps  -- ends --\r\n        if (lastClassName !== nextClassName) {\r\n            if (isNullOrUndef(nextClassName)) {\r\n                dom.removeAttribute('class');\r\n            }\r\n            else if (isSVG) {\r\n                dom.setAttribute('class', nextClassName);\r\n            }\r\n            else {\r\n                dom.className = nextClassName;\r\n            }\r\n        }\r\n        if (isFunction(nextRef) && lastVNode.ref !== nextRef) {\r\n            mountRef(dom, nextRef, lifecycle);\r\n        }\r\n    }\r\n}\r\nfunction patchChildren(lastChildFlags, nextChildFlags, lastChildren, nextChildren, parentDOM, lifecycle, context, isSVG) {\r\n    switch (lastChildFlags) {\r\n        case 2 /* HasVNodeChildren */:\r\n            switch (nextChildFlags) {\r\n                case 2 /* HasVNodeChildren */:\r\n                    patch(lastChildren, nextChildren, parentDOM, lifecycle, context, isSVG);\r\n                    break;\r\n                case 1 /* HasInvalidChildren */:\r\n                    remove(lastChildren, parentDOM);\r\n                    break;\r\n                default:\r\n                    remove(lastChildren, parentDOM);\r\n                    mountArrayChildren(nextChildren, parentDOM, lifecycle, context, isSVG);\r\n                    break;\r\n            }\r\n            break;\r\n        case 1 /* HasInvalidChildren */:\r\n            switch (nextChildFlags) {\r\n                case 2 /* HasVNodeChildren */:\r\n                    mount(nextChildren, parentDOM, lifecycle, context, isSVG);\r\n                    break;\r\n                case 1 /* HasInvalidChildren */:\r\n                    break;\r\n                default:\r\n                    mountArrayChildren(nextChildren, parentDOM, lifecycle, context, isSVG);\r\n                    break;\r\n            }\r\n            break;\r\n        default:\r\n            if (nextChildFlags & 12 /* MultipleChildren */) {\r\n                var lastLength = lastChildren.length;\r\n                var nextLength = nextChildren.length;\r\n                // Fast path's for both algorithms\r\n                if (lastLength === 0) {\r\n                    if (nextLength > 0) {\r\n                        mountArrayChildren(nextChildren, parentDOM, lifecycle, context, isSVG);\r\n                    }\r\n                }\r\n                else if (nextLength === 0) {\r\n                    removeAllChildren(parentDOM, lastChildren);\r\n                }\r\n                else if (nextChildFlags === 8 /* HasKeyedChildren */ && lastChildFlags === 8 /* HasKeyedChildren */) {\r\n                    patchKeyedChildren(lastChildren, nextChildren, parentDOM, lifecycle, context, isSVG, lastLength, nextLength);\r\n                }\r\n                else {\r\n                    patchNonKeyedChildren(lastChildren, nextChildren, parentDOM, lifecycle, context, isSVG, lastLength, nextLength);\r\n                }\r\n            }\r\n            else if (nextChildFlags === 1 /* HasInvalidChildren */) {\r\n                removeAllChildren(parentDOM, lastChildren);\r\n            }\r\n            else {\r\n                removeAllChildren(parentDOM, lastChildren);\r\n                mount(nextChildren, parentDOM, lifecycle, context, isSVG);\r\n            }\r\n            break;\r\n    }\r\n}\r\nfunction updateClassComponent(instance, nextState, nextVNode, nextProps, parentDom, lifecycle, context, isSVG, force, fromSetState) {\r\n    var lastState = instance.state;\r\n    var lastProps = instance.props;\r\n    nextVNode.children = instance;\r\n    var renderOutput;\r\n    if (instance.$UN) {\r\n        return;\r\n    }\r\n    if (lastProps !== nextProps || nextProps === EMPTY_OBJ) {\r\n        if (!fromSetState && isFunction(instance.componentWillReceiveProps)) {\r\n            instance.$BR = true;\r\n            instance.componentWillReceiveProps(nextProps, context);\r\n            // If instance component was removed during its own update do nothing...\r\n            if (instance.$UN) {\r\n                return;\r\n            }\r\n            instance.$BR = false;\r\n        }\r\n        if (instance.$PSS) {\r\n            nextState = combineFrom(nextState, instance.$PS);\r\n            instance.$PSS = false;\r\n            instance.$PS = null;\r\n        }\r\n    }\r\n    /* Update if scu is not defined, or it returns truthy value or force */\r\n    var hasSCU = isFunction(instance.shouldComponentUpdate);\r\n    if (force || !hasSCU || (hasSCU && instance.shouldComponentUpdate(nextProps, nextState, context))) {\r\n        if (isFunction(instance.componentWillUpdate)) {\r\n            instance.$BS = true;\r\n            instance.componentWillUpdate(nextProps, nextState, context);\r\n            instance.$BS = false;\r\n        }\r\n        instance.props = nextProps;\r\n        instance.state = nextState;\r\n        instance.context = context;\r\n        if (isFunction(options.beforeRender)) {\r\n            options.beforeRender(instance);\r\n        }\r\n        renderOutput = instance.render(nextProps, nextState, context);\r\n        if (isFunction(options.afterRender)) {\r\n            options.afterRender(instance);\r\n        }\r\n        var didUpdate = renderOutput !== NO_OP;\r\n        var childContext;\r\n        if (isFunction(instance.getChildContext)) {\r\n            childContext = instance.getChildContext();\r\n        }\r\n        if (isNullOrUndef(childContext)) {\r\n            childContext = context;\r\n        }\r\n        else {\r\n            childContext = combineFrom(context, childContext);\r\n        }\r\n        instance.$CX = childContext;\r\n        if (didUpdate) {\r\n            var lastInput = instance.$LI;\r\n            var nextInput = (instance.$LI = handleComponentInput(renderOutput, nextVNode));\r\n            patch(lastInput, nextInput, parentDom, lifecycle, childContext, isSVG);\r\n            if (isFunction(instance.componentDidUpdate)) {\r\n                instance.componentDidUpdate(lastProps, lastState);\r\n            }\r\n            if (isFunction(options.afterUpdate)) {\r\n                options.afterUpdate(nextVNode);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        instance.props = nextProps;\r\n        instance.state = nextState;\r\n        instance.context = context;\r\n    }\r\n    nextVNode.dom = instance.$LI.dom;\r\n}\r\nfunction patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass) {\r\n    var nextType = nextVNode.type;\r\n    var lastKey = lastVNode.key;\r\n    var nextKey = nextVNode.key;\r\n    if (lastVNode.type !== nextType || lastKey !== nextKey) {\r\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG);\r\n    }\r\n    else {\r\n        var nextProps = nextVNode.props || EMPTY_OBJ;\r\n        if (isClass) {\r\n            var instance = lastVNode.children;\r\n            instance.$UPD = true;\r\n            updateClassComponent(instance, instance.state, nextVNode, nextProps, parentDom, lifecycle, context, isSVG, false, false);\r\n            instance.$V = nextVNode;\r\n            instance.$UPD = false;\r\n        }\r\n        else {\r\n            var shouldUpdate = true;\r\n            var lastProps = lastVNode.props;\r\n            var nextHooks = nextVNode.ref;\r\n            var nextHooksDefined = !isNullOrUndef(nextHooks);\r\n            var lastInput = lastVNode.children;\r\n            nextVNode.dom = lastVNode.dom;\r\n            nextVNode.children = lastInput;\r\n            if (nextHooksDefined && isFunction(nextHooks.onComponentShouldUpdate)) {\r\n                shouldUpdate = nextHooks.onComponentShouldUpdate(lastProps, nextProps);\r\n            }\r\n            if (shouldUpdate !== false) {\r\n                if (nextHooksDefined && isFunction(nextHooks.onComponentWillUpdate)) {\r\n                    nextHooks.onComponentWillUpdate(lastProps, nextProps);\r\n                }\r\n                var nextInput = nextType(nextProps, context);\r\n                if (nextInput !== NO_OP) {\r\n                    nextInput = handleComponentInput(nextInput, nextVNode);\r\n                    patch(lastInput, nextInput, parentDom, lifecycle, context, isSVG);\r\n                    nextVNode.children = nextInput;\r\n                    nextVNode.dom = nextInput.dom;\r\n                    if (nextHooksDefined && isFunction(nextHooks.onComponentDidUpdate)) {\r\n                        nextHooks.onComponentDidUpdate(lastProps, nextProps);\r\n                    }\r\n                }\r\n            }\r\n            else if (lastInput.flags & 14 /* Component */) {\r\n                lastInput.parentVNode = nextVNode;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction patchText(lastVNode, nextVNode, parentDom) {\r\n    var nextText = nextVNode.children;\r\n    var textNode = parentDom.firstChild;\r\n    var dom;\r\n    // Guard against external change on DOM node.\r\n    if (isNull(textNode)) {\r\n        parentDom.textContent = nextText;\r\n        dom = parentDom.firstChild;\r\n    }\r\n    else {\r\n        dom = lastVNode.dom;\r\n        if (nextText !== lastVNode.children) {\r\n            dom.nodeValue = nextText;\r\n        }\r\n    }\r\n    nextVNode.dom = dom;\r\n}\r\nfunction patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, lastChildrenLength, nextChildrenLength) {\r\n    var commonLength = lastChildrenLength > nextChildrenLength ? nextChildrenLength : lastChildrenLength;\r\n    var i = 0;\r\n    var nextChild;\r\n    for (; i < commonLength; i++) {\r\n        nextChild = nextChildren[i];\r\n        if (nextChild.dom) {\r\n            nextChild = nextChildren[i] = directClone(nextChild);\r\n        }\r\n        patch(lastChildren[i], nextChild, dom, lifecycle, context, isSVG);\r\n    }\r\n    if (lastChildrenLength < nextChildrenLength) {\r\n        for (i = commonLength; i < nextChildrenLength; i++) {\r\n            nextChild = nextChildren[i];\r\n            if (nextChild.dom) {\r\n                nextChild = nextChildren[i] = directClone(nextChild);\r\n            }\r\n            mount(nextChild, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    else if (lastChildrenLength > nextChildrenLength) {\r\n        for (i = commonLength; i < lastChildrenLength; i++) {\r\n            remove(lastChildren[i], dom);\r\n        }\r\n    }\r\n}\r\nfunction patchKeyedChildren(a, b, dom, lifecycle, context, isSVG, aLength, bLength) {\r\n    var aEnd = aLength - 1;\r\n    var bEnd = bLength - 1;\r\n    var aStart = 0;\r\n    var bStart = 0;\r\n    var i;\r\n    var j;\r\n    var aNode = a[aStart];\r\n    var bNode = b[bStart];\r\n    var nextNode;\r\n    var nextPos;\r\n    // Step 1\r\n    // tslint:disable-next-line\r\n    outer: {\r\n        // Sync nodes with the same key at the beginning.\r\n        while (aNode.key === bNode.key) {\r\n            if (bNode.dom) {\r\n                b[bStart] = bNode = directClone(bNode);\r\n            }\r\n            patch(aNode, bNode, dom, lifecycle, context, isSVG);\r\n            aStart++;\r\n            bStart++;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aNode = a[aStart];\r\n            bNode = b[bStart];\r\n        }\r\n        aNode = a[aEnd];\r\n        bNode = b[bEnd];\r\n        // Sync nodes with the same key at the end.\r\n        while (aNode.key === bNode.key) {\r\n            if (bNode.dom) {\r\n                b[bEnd] = bNode = directClone(bNode);\r\n            }\r\n            patch(aNode, bNode, dom, lifecycle, context, isSVG);\r\n            aEnd--;\r\n            bEnd--;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aNode = a[aEnd];\r\n            bNode = b[bEnd];\r\n        }\r\n    }\r\n    if (aStart > aEnd) {\r\n        if (bStart <= bEnd) {\r\n            nextPos = bEnd + 1;\r\n            nextNode = nextPos < bLength ? b[nextPos].dom : null;\r\n            while (bStart <= bEnd) {\r\n                bNode = b[bStart];\r\n                if (bNode.dom) {\r\n                    b[bStart] = bNode = directClone(bNode);\r\n                }\r\n                bStart++;\r\n                insertOrAppend(dom, mount(bNode, null, lifecycle, context, isSVG), nextNode);\r\n            }\r\n        }\r\n    }\r\n    else if (bStart > bEnd) {\r\n        while (aStart <= aEnd) {\r\n            remove(a[aStart++], dom);\r\n        }\r\n    }\r\n    else {\r\n        var aLeft = aEnd - aStart + 1;\r\n        var bLeft = bEnd - bStart + 1;\r\n        var sources = [];\r\n        for (i = 0; i < bLeft; i++) {\r\n            sources.push(0);\r\n        }\r\n        // Keep track if its possible to remove whole DOM using textContent = '';\r\n        var canRemoveWholeContent = aLeft === aLength;\r\n        var moved = false;\r\n        var pos = 0;\r\n        var patched = 0;\r\n        // When sizes are small, just loop them through\r\n        if (bLength < 4 || (aLeft | bLeft) < 32) {\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLeft) {\r\n                    for (j = bStart; j <= bEnd; j++) {\r\n                        bNode = b[j];\r\n                        if (aNode.key === bNode.key) {\r\n                            sources[j - bStart] = i + 1;\r\n                            if (canRemoveWholeContent) {\r\n                                canRemoveWholeContent = false;\r\n                                while (i > aStart) {\r\n                                    remove(a[aStart++], dom);\r\n                                }\r\n                            }\r\n                            if (pos > j) {\r\n                                moved = true;\r\n                            }\r\n                            else {\r\n                                pos = j;\r\n                            }\r\n                            if (bNode.dom) {\r\n                                b[j] = bNode = directClone(bNode);\r\n                            }\r\n                            patch(aNode, bNode, dom, lifecycle, context, isSVG);\r\n                            patched++;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!canRemoveWholeContent && j > bEnd) {\r\n                        remove(aNode, dom);\r\n                    }\r\n                }\r\n                else if (!canRemoveWholeContent) {\r\n                    remove(aNode, dom);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var keyIndex = {};\r\n            // Map keys by their index\r\n            for (i = bStart; i <= bEnd; i++) {\r\n                keyIndex[b[i].key] = i;\r\n            }\r\n            // Try to patch same keys\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLeft) {\r\n                    j = keyIndex[aNode.key];\r\n                    if (j !== void 0) {\r\n                        if (canRemoveWholeContent) {\r\n                            canRemoveWholeContent = false;\r\n                            while (i > aStart) {\r\n                                remove(a[aStart++], dom);\r\n                            }\r\n                        }\r\n                        bNode = b[j];\r\n                        sources[j - bStart] = i + 1;\r\n                        if (pos > j) {\r\n                            moved = true;\r\n                        }\r\n                        else {\r\n                            pos = j;\r\n                        }\r\n                        if (bNode.dom) {\r\n                            b[j] = bNode = directClone(bNode);\r\n                        }\r\n                        patch(aNode, bNode, dom, lifecycle, context, isSVG);\r\n                        patched++;\r\n                    }\r\n                    else if (!canRemoveWholeContent) {\r\n                        remove(aNode, dom);\r\n                    }\r\n                }\r\n                else if (!canRemoveWholeContent) {\r\n                    remove(aNode, dom);\r\n                }\r\n            }\r\n        }\r\n        // fast-path: if nothing patched remove all old and add all new\r\n        if (canRemoveWholeContent) {\r\n            removeAllChildren(dom, a);\r\n            mountArrayChildren(b, dom, lifecycle, context, isSVG);\r\n        }\r\n        else {\r\n            if (moved) {\r\n                var seq = lis_algorithm(sources);\r\n                j = seq.length - 1;\r\n                for (i = bLeft - 1; i >= 0; i--) {\r\n                    if (sources[i] === 0) {\r\n                        pos = i + bStart;\r\n                        bNode = b[pos];\r\n                        if (bNode.dom) {\r\n                            b[pos] = bNode = directClone(bNode);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        insertOrAppend(dom, mount(bNode, null, lifecycle, context, isSVG), nextPos < bLength ? b[nextPos].dom : null);\r\n                    }\r\n                    else if (j < 0 || i !== seq[j]) {\r\n                        pos = i + bStart;\r\n                        bNode = b[pos];\r\n                        nextPos = pos + 1;\r\n                        insertOrAppend(dom, bNode.dom, nextPos < bLength ? b[nextPos].dom : null);\r\n                    }\r\n                    else {\r\n                        j--;\r\n                    }\r\n                }\r\n            }\r\n            else if (patched !== bLeft) {\r\n                // when patched count doesn't match b length we need to insert those new ones\r\n                // loop backwards so we can use insertBefore\r\n                for (i = bLeft - 1; i >= 0; i--) {\r\n                    if (sources[i] === 0) {\r\n                        pos = i + bStart;\r\n                        bNode = b[pos];\r\n                        if (bNode.dom) {\r\n                            b[pos] = bNode = directClone(bNode);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        insertOrAppend(dom, mount(bNode, null, lifecycle, context, isSVG), nextPos < bLength ? b[nextPos].dom : null);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n// https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction lis_algorithm(arr) {\r\n    var p = arr.slice();\r\n    var result = [0];\r\n    var i;\r\n    var j;\r\n    var u;\r\n    var v;\r\n    var c;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n        var arrI = arr[i];\r\n        if (arrI !== 0) {\r\n            j = result[result.length - 1];\r\n            if (arr[j] < arrI) {\r\n                p[i] = j;\r\n                result.push(i);\r\n                continue;\r\n            }\r\n            u = 0;\r\n            v = result.length - 1;\r\n            while (u < v) {\r\n                c = ((u + v) / 2) | 0;\r\n                if (arr[result[c]] < arrI) {\r\n                    u = c + 1;\r\n                }\r\n                else {\r\n                    v = c;\r\n                }\r\n            }\r\n            if (arrI < arr[result[u]]) {\r\n                if (u > 0) {\r\n                    p[i] = result[u - 1];\r\n                }\r\n                result[u] = i;\r\n            }\r\n        }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n        result[u] = v;\r\n        v = p[v];\r\n    }\r\n    return result;\r\n}\n\nvar roots = options.roots;\r\nvar documentBody = isBrowser ? document.body : null;\r\nfunction render(input, parentDom, callback) {\r\n    if (input === NO_OP) {\r\n        return;\r\n    }\r\n    var rootLen = roots.length;\r\n    var rootInput;\r\n    var index;\r\n    for (index = 0; index < rootLen; index++) {\r\n        if (roots[index] === parentDom) {\r\n            rootInput = parentDom.$V;\r\n            break;\r\n        }\r\n    }\r\n    if (isUndefined(rootInput)) {\r\n        if (!isInvalid(input)) {\r\n            if (input.dom) {\r\n                input = directClone(input);\r\n            }\r\n            if (isNull(parentDom.firstChild)) {\r\n                mount(input, parentDom, LIFECYCLE, EMPTY_OBJ, false);\r\n                parentDom.$V = input;\r\n                roots.push(parentDom);\r\n            }\r\n            else {\r\n                hydrate(input, parentDom);\r\n            }\r\n            rootInput = input;\r\n        }\r\n    }\r\n    else {\r\n        if (isNullOrUndef(input)) {\r\n            remove(rootInput, parentDom);\r\n            roots.splice(index, 1);\r\n        }\r\n        else {\r\n            if (input.dom) {\r\n                input = directClone(input);\r\n            }\r\n            patch(rootInput, input, parentDom, LIFECYCLE, EMPTY_OBJ, false);\r\n            rootInput = parentDom.$V = input;\r\n        }\r\n    }\r\n    if (LIFECYCLE.length > 0) {\r\n        callAll(LIFECYCLE);\r\n    }\r\n    if (isFunction(callback)) {\r\n        callback();\r\n    }\r\n    if (rootInput && rootInput.flags & 14 /* Component */) {\r\n        return rootInput.children;\r\n    }\r\n}\r\nfunction createRenderer(parentDom) {\r\n    return function renderer(lastInput, nextInput) {\r\n        if (!parentDom) {\r\n            parentDom = lastInput;\r\n        }\r\n        render(nextInput, parentDom);\r\n    };\r\n}\r\nfunction createPortal(children, container) {\r\n    return createVNode(1024 /* Portal */, container, null, children, 0 /* UnknownChildren */, null, isInvalid(children) ? null : children.key, null);\r\n}\n\nvar resolvedPromise = typeof Promise === 'undefined' ? null : Promise.resolve();\r\n// raf.bind(window) is needed to work around bug in IE10-IE11 strict mode (TypeError: Invalid calling object)\r\nvar fallbackMethod = typeof requestAnimationFrame === 'undefined' ? setTimeout : requestAnimationFrame.bind(window);\r\nfunction nextTick(fn) {\r\n    if (resolvedPromise) {\r\n        return resolvedPromise.then(fn);\r\n    }\r\n    return fallbackMethod(fn);\r\n}\r\nfunction queueStateChanges(component, newState, callback) {\r\n    if (isFunction(newState)) {\r\n        newState = newState(component.state, component.props, component.context);\r\n    }\r\n    var pending = component.$PS;\r\n    if (isNullOrUndef(pending)) {\r\n        component.$PS = newState;\r\n    }\r\n    else {\r\n        for (var stateKey in newState) {\r\n            pending[stateKey] = newState[stateKey];\r\n        }\r\n    }\r\n    if (!component.$PSS && !component.$BR) {\r\n        if (!component.$UPD) {\r\n            component.$PSS = true;\r\n            component.$UPD = true;\r\n            applyState(component, false, callback);\r\n            component.$UPD = false;\r\n        }\r\n        else {\r\n            // Async\r\n            var queue = component.$QU;\r\n            if (isNull(queue)) {\r\n                queue = component.$QU = [];\r\n                nextTick(promiseCallback(component, queue));\r\n            }\r\n            if (isFunction(callback)) {\r\n                queue.push(callback);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        component.$PSS = true;\r\n        if (component.$BR && isFunction(callback)) {\r\n            LIFECYCLE.push(callback.bind(component));\r\n        }\r\n    }\r\n}\r\nfunction promiseCallback(component, queue) {\r\n    return function () {\r\n        component.$QU = null;\r\n        component.$UPD = true;\r\n        applyState(component, false, function () {\r\n            for (var i = 0, len = queue.length; i < len; i++) {\r\n                queue[i].call(component);\r\n            }\r\n        });\r\n        component.$UPD = false;\r\n    };\r\n}\r\nfunction applyState(component, force, callback) {\r\n    if (component.$UN) {\r\n        return;\r\n    }\r\n    if (force || !component.$BR) {\r\n        component.$PSS = false;\r\n        var pendingState = component.$PS;\r\n        var prevState = component.state;\r\n        var nextState = combineFrom(prevState, pendingState);\r\n        var props = component.props;\r\n        var context = component.context;\r\n        component.$PS = null;\r\n        var vNode = component.$V;\r\n        var lastInput = component.$LI;\r\n        var parentDom = lastInput.dom && lastInput.dom.parentNode;\r\n        updateClassComponent(component, nextState, vNode, props, parentDom, LIFECYCLE, context, (vNode.flags & 32 /* SvgElement */) > 0, force, true);\r\n        if (component.$UN) {\r\n            return;\r\n        }\r\n        if ((component.$LI.flags & 1024 /* Portal */) === 0) {\r\n            var dom = component.$LI.dom;\r\n            while (!isNull((vNode = vNode.parentVNode))) {\r\n                if ((vNode.flags & 14 /* Component */) > 0) {\r\n                    vNode.dom = dom;\r\n                }\r\n            }\r\n        }\r\n        if (LIFECYCLE.length > 0) {\r\n            callAll(LIFECYCLE);\r\n        }\r\n    }\r\n    else {\r\n        component.state = component.$PS;\r\n        component.$PS = null;\r\n    }\r\n    if (isFunction(callback)) {\r\n        callback.call(component);\r\n    }\r\n}\r\nvar Component = function Component(props, context) {\r\n    this.state = null;\r\n    // Internal properties\r\n    this.$BR = false; // BLOCK RENDER\r\n    this.$BS = true; // BLOCK STATE\r\n    this.$PSS = false; // PENDING SET STATE\r\n    this.$PS = null; // PENDING STATE (PARTIAL or FULL)\r\n    this.$LI = null; // LAST INPUT\r\n    this.$V = null; // VNODE\r\n    this.$UN = false; // UNMOUNTED\r\n    this.$CX = null; // CHILDCONTEXT\r\n    this.$UPD = true; // UPDATING\r\n    this.$QU = null; // QUEUE\r\n    /** @type {object} */\r\n    this.props = props || EMPTY_OBJ;\r\n    /** @type {object} */\r\n    this.context = context || EMPTY_OBJ; // context should not be mutable\r\n};\r\nComponent.prototype.forceUpdate = function forceUpdate (callback) {\r\n    if (this.$UN) {\r\n        return;\r\n    }\r\n    applyState(this, true, callback);\r\n};\r\nComponent.prototype.setState = function setState (newState, callback) {\r\n    if (this.$UN) {\r\n        return;\r\n    }\r\n    if (!this.$BS) {\r\n        queueStateChanges(this, newState, callback);\r\n    }\r\n    else {\r\n        return;\r\n    }\r\n};\r\n// tslint:disable-next-line:no-empty\r\nComponent.prototype.render = function render (nextProps, nextState, nextContext) { };\r\n// Public\r\nComponent.defaultProps = null;\n\n\n\nvar JSX = /*#__PURE__*/Object.freeze({\n\n});\n\nvar version = \"5.0.6\";\n\nexport { Component, EMPTY_OBJ, NO_OP, createComponentVNode, createPortal, createRenderer, createTextVNode, createVNode, directClone, getFlagsForElementVnode, getNumberStyleValue, hydrate, linkEvent, normalizeProps, options, render, version, JSX };\n","export * from './dist/index.esm.js';\n\nif (process.env.NODE_ENV !== 'production') {\n  console.warn('You are running production build of Inferno in development mode. Use dev:module entry point.');\n}\n","import { Component } from 'inferno';\n\n\nexport default class TableComponent extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const injector = this._injector = props.injector;\n\n    this._sheet = injector.get('sheet');\n    this._changeSupport = injector.get('changeSupport');\n    this._components = injector.get('components');\n\n    this.onElementsChanged = this.onElementsChanged.bind(this);\n  }\n\n  onElementsChanged() {\n    this.forceUpdate();\n  }\n\n  getChildContext() {\n    return {\n      changeSupport: this._changeSupport,\n      components: this._components,\n      injector: this._injector\n    };\n  }\n\n  componentWillMount() {\n    const { id } = this._sheet.getRoot();\n\n    this._changeSupport.onElementsChanged(id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const { id } = this._sheet.getRoot();\n\n    this._changeSupport.offElementsChanged(id, this.onElementsChanged);\n  }\n\n  render() {\n    const { rows, cols } = this._sheet.getRoot();\n\n    const beforeTableComponents = this._components.getComponents('table.before');\n    const afterTableComponents = this._components.getComponents('table.after');\n\n    const Head = this._components.getComponent('table.head');\n    const Body = this._components.getComponent('table.body');\n    const Foot = this._components.getComponent('table.foot');\n\n    return (\n      <div className=\"tjs-container\">\n        {\n          beforeTableComponents &&\n            beforeTableComponents.map((Component, index) => <Component key={ index } />)\n        }\n        <table className=\"tjs-table\">\n          { Head && <Head rows={ rows } cols={ cols } /> }\n          { Body && <Body rows={ rows } cols={ cols } /> }\n          { Foot && <Foot rows={ rows } cols={ cols } /> }\n        </table>\n        {\n          afterTableComponents &&\n            afterTableComponents.map((Component, index) => <Component key={ index } />)\n        }\n      </div>\n    );\n  }\n}","import { render } from 'inferno';\n\nimport TableComponent from './components/TableComponent';\n\nexport default class Renderer {\n\n  constructor(changeSupport, components, config, eventBus, injector) {\n    const { container } = config;\n\n    this._container = container;\n\n    eventBus.on('root.added', () => {\n      render(<TableComponent injector={ injector } />, container);\n    });\n\n    eventBus.on('root.remove', () => {\n      render(null, container);\n    });\n  }\n\n  getContainer() {\n    return this._container;\n  }\n\n}\n\nRenderer.$inject = [\n  'changeSupport',\n  'components',\n  'config.renderer',\n  'eventBus',\n  'injector'\n];","import ChangeSupport from './ChangeSupport';\nimport Components from './Components';\nimport Renderer from './Renderer';\n\nexport default {\n  __init__: [ 'changeSupport', 'components', 'renderer' ],\n  changeSupport: [ 'type', ChangeSupport ],\n  components: [ 'type', Components ],\n  renderer: [ 'type', Renderer ]\n};","export default class Sheet {\n  constructor(elementRegistry, eventBus) {\n    this._elementRegistry = elementRegistry;\n    this._eventBus = eventBus;\n\n    this._root = null;\n\n    eventBus.on('table.clear', () => {\n      this.setRoot(null);\n    });\n  }\n\n  setRoot(root) {\n    if (this._root) {\n      const oldRoot = this._root;\n\n      this._eventBus.fire('root.remove', { root: oldRoot });\n\n      this._root = null;\n\n      this._eventBus.fire('root.removed', { root: oldRoot });\n    }\n\n    if (root) {\n      this._eventBus.fire('root.add', { root });\n    }\n\n    this._root = root;\n\n    if (root) {\n      this._eventBus.fire('root.added', { root });\n    }\n  }\n\n  getRoot() {\n    if (!this._root) {\n      this.setRoot({\n        id: '__implicitroot',\n        rows: [],\n        cols: []\n      });\n    }\n\n    return this._root;\n  }\n\n\n  /**\n   * Add row to sheet.\n   *\n   * @param {Object} row - Row.\n   */\n  addRow(row, index) {\n    const root = this.getRoot();\n\n    if (root.cols.length != row.cells.length) {\n      throw new Error('number of cells is not equal to number of cols');\n    }\n\n    if (typeof index === 'undefined') {\n      index = root.rows.length;\n    }\n\n    addAtIndex(index, root.rows, row);\n    row.root = root;\n\n    this._elementRegistry.add(row);\n\n    row.cells.forEach((cell, idx) => {\n      this._elementRegistry.add(cell);\n\n      cell.row = row;\n      cell.col = root.cols[idx];\n\n      addAtIndex(index, root.cols[idx].cells, cell);\n    });\n\n    this._eventBus.fire('row.add', { row });\n\n    return row;\n  }\n\n\n  /**\n   * Remove row from sheet.\n   *\n   * @param {Object|string} row - Row or row ID.\n   */\n  removeRow(row) {\n    const root = this.getRoot();\n\n    if (typeof row === 'string') {\n      row = this._elementRegistry.get(row);\n    }\n\n    const index = root.rows.indexOf(row);\n\n    if (index === -1) {\n      return;\n    }\n\n    removeAtIndex(index, root.rows);\n    row.root = undefined;\n\n    this._elementRegistry.remove(row);\n\n    row.cells.forEach((cell, idx) => {\n      this._elementRegistry.remove(cell);\n\n      cell.col = undefined;\n\n      removeAtIndex(index, root.cols[idx].cells);\n    });\n\n    this._eventBus.fire('row.remove', { row });\n  }\n\n  /**\n   * Add col to sheet.\n   *\n   * @param {Object} col\n   * @param {Number} [index]\n   */\n  addCol(col, index) {\n    const root = this.getRoot();\n\n    this._elementRegistry.add(col);\n\n    if (root.rows.length != col.cells.length) {\n      throw new Error('number of cells is not equal to number of rows');\n    }\n\n    if (typeof index === 'undefined') {\n      index = root.cols.length;\n    }\n\n    addAtIndex(index, root.cols, col);\n    col.root = root;\n\n    col.cells.forEach((cell, idx) => {\n      this._elementRegistry.add(cell);\n\n      cell.col = col;\n      cell.row = root.rows[idx];\n\n      addAtIndex(index, root.rows[idx].cells, cell);\n    });\n\n    this._eventBus.fire('col.add', { col });\n\n    return col;\n  }\n\n  /**\n   * Remove col from sheet.\n   *\n   * @param {Object|string} col - Col or col ID.\n   */\n  removeCol(col) {\n\n    const root = this.getRoot();\n\n    if (typeof col === 'string') {\n      col = this._elementRegistry.get(col);\n    }\n\n    const index = root.cols.indexOf(col);\n\n    if (index === -1) {\n      return;\n    }\n\n    removeAtIndex(index, root.cols);\n    col.root = undefined;\n\n    this._elementRegistry.remove(col);\n\n    col.cells.forEach((cell, idx) => {\n      this._elementRegistry.remove(cell);\n\n      cell.row = undefined;\n\n      removeAtIndex(index, root.rows[idx].cells);\n    });\n\n    this._eventBus.fire('col.remove', { col });\n  }\n\n  resized() {\n    this._eventBus.fire('sheet.resized');\n  }\n\n}\n\nSheet.$inject = [ 'elementRegistry', 'eventBus' ];\n\n\n// helpers /////////////\n\n/**\n * Insert value\n *\n * @param {number} index - Index to insert value at.\n * @param {Array} array - Array to insert value into.\n * @param {*} value - Value to insert.\n */\nfunction addAtIndex(index, array, value) {\n  return array.splice(index, 0, value);\n}\n\n/**\n *\n * @param {number} index - Index to remove.\n * @param {Array} array - Array to remove from.\n */\nfunction removeAtIndex(index, array) {\n  return array.splice(index, 1);\n}","import { Injector } from 'didi';\n\nimport core from './core';\n\n\nexport default class Table {\n\n  constructor(options = {}) {\n    let {\n      injector\n    } = options;\n\n    if (!injector) {\n      let { modules, config } = this._init(options);\n\n      injector = createInjector(config, modules);\n    }\n\n    this.get = injector.get;\n\n    this.invoke = injector.invoke;\n\n    this.get('eventBus').fire('table.init');\n    this.get('eventBus').fire('diagram.init');\n  }\n\n  /**\n   * Intialize table and return modules and config used for creation.\n   *\n   * @param  {Object} options\n   *\n   * @return {Object} { modules=[], config }\n   */\n  _init(options) {\n    let {\n      modules,\n      ...config\n    } = options;\n\n    return { modules, config };\n  }\n\n  /**\n   * Destroys the table. This results in removing the attachment from the container.\n   */\n  destroy() {\n    const eventBus = this.get('eventBus');\n\n    eventBus.fire('table.destroy');\n    eventBus.fire('diagram.destroy');\n  }\n\n  /**\n   * Clears the table. Should be used to reset the state of any stateful services.\n   */\n  clear() {\n    const eventBus = this.get('eventBus');\n\n    eventBus.fire('table.clear');\n    eventBus.fire('diagram.clear');\n  }\n\n}\n\n\n// helpers /////////////\n\nfunction bootstrap(bootstrapModules) {\n\n  var modules = [],\n      components = [];\n\n  function hasModule(m) {\n    return modules.indexOf(m) >= 0;\n  }\n\n  function addModule(m) {\n    modules.push(m);\n  }\n\n  function visit(m) {\n    if (hasModule(m)) {\n      return;\n    }\n\n    (m.__depends__ || []).forEach(visit);\n\n    if (hasModule(m)) {\n      return;\n    }\n\n    addModule(m);\n\n    (m.__init__ || []).forEach(function(c) {\n      components.push(c);\n    });\n  }\n\n  bootstrapModules.forEach(visit);\n\n  var injector = new Injector(modules);\n\n  components.forEach(function(c) {\n\n    try {\n      // eagerly resolve component (fn or string)\n      injector[typeof c === 'string' ? 'get' : 'invoke'](c);\n    } catch (e) {\n      console.error('Failed to instantiate component');\n      console.error(e.stack);\n\n      throw e;\n    }\n  });\n\n  return injector;\n}\n\nfunction createInjector(config, modules) {\n  const bootstrapModules = [\n    {\n      config: [ 'value', config ]\n    },\n    core\n  ].concat(modules || []);\n\n  return bootstrap(bootstrapModules);\n}\n","import Table from './Table';\n\nexport default Table;","export function elementToString(element) {\n  if (!element) {\n    return '<null>';\n  }\n\n  const id = element.id ? ` id=\"${element.id}\"` : '';\n\n  return `<${element.$type}${id} />`;\n}","import { forEach } from 'min-dash';\n\nimport { elementToString } from './Util';\n\nexport default function TableTreeWalker(handler, options) {\n\n  function visit(element, ctx, definitions) {\n\n    var gfx = element.gfx;\n\n    // avoid multiple rendering of elements\n    if (gfx) {\n      throw new Error(`already rendered ${ elementToString(element) }`);\n    }\n\n    // call handler\n    return handler.element(element, ctx, definitions);\n  }\n\n  function visitTable(element) {\n    return handler.table(element);\n  }\n\n\n  // Semantic handling //////////////////////\n\n  function handleDecision(decision) {\n\n    if (!decision.id) {\n      decision.id = 'decision';\n    }\n\n    const table = decision.decisionLogic;\n\n    if (table) {\n\n      if (!table.output) {\n        throw new Error(`missing output for ${ elementToString(table) }`);\n      }\n\n      const ctx = visitTable(table);\n\n      if (table.input) {\n        handleClauses(table.input, ctx, table);\n      }\n\n      handleClauses(table.output, ctx, table);\n\n      // if any input or output clauses (columns) were added\n      // make sure that for each rule the according input/output entry is created\n      handleRules(table.rule, ctx, table);\n    } else {\n      throw new Error(`no table for ${ elementToString(decision) }`);\n    }\n\n  }\n\n  function handleClauses(clauses, context, definitions) {\n    forEach(clauses, function(e) {\n      visit(e, context, definitions);\n    });\n  }\n\n  function handleRules(rules, context, definitions) {\n    forEach(rules, function(e) {\n      visit(e, context, definitions);\n\n      handleEntry(e.inputEntry, e);\n\n      handleEntry(e.outputEntry, e);\n    });\n  }\n\n  function handleEntry(entry, context, definitions) {\n    forEach(entry, function(e) {\n      visit(e, context, definitions);\n    });\n  }\n\n\n  // API //////////////////////\n\n  return {\n    handleDecision: handleDecision\n  };\n}\n","\nfunction newSet() {\n  return {\n    elements: [],\n    index: {}\n  };\n}\n\nfunction add(set, element) {\n\n  const {\n    elements,\n    index\n  } = set;\n\n  if (index[element]) {\n    return set;\n  } else {\n    return {\n      elements: [ ...elements, element ],\n      index: {\n        ...index,\n        [element]: true\n      }\n    };\n  }\n}\n\nfunction join(set, separator) {\n  return set.elements.join(separator);\n}\n\nexport default function classNames(...args) {\n\n  let set = newSet();\n\n  args.forEach(function(item) {\n    const type = typeof item;\n\n    if (type === 'string' && item.length > 0) {\n      set = add(set, item);\n    } else if (type === 'object' && item !== null) {\n\n      Object.keys(item).forEach(function(key) {\n        const value = item[key];\n\n        if (value) {\n          set = add(set, key);\n        }\n      });\n    }\n  });\n\n  return join(set, ' ');\n}","export function inject(component) {\n\n  const Type = component.constructor;\n\n  return injectType(Type, component);\n}\n\n\nexport function injectType(Type, component) {\n\n  const annotation = Type.$inject;\n\n  if (!annotation) {\n    return;\n  }\n\n  const {\n    injector\n  } = component.context;\n\n  const setupFn = [ ...annotation, function(...args) {\n\n    for (const idx in args) {\n      const name = annotation[idx];\n      const value = args[idx];\n\n      component[name] = value;\n    }\n  }];\n\n  injector.invoke(setupFn);\n}","\n/**\n * Composes a number of functions.\n *\n * All receive the the same arguments; the chain is interruped as soon\n * as one function returns a value.\n *\n * @param  {Object}    self\n * @param  {...Function} fns\n *\n * @return {Object}\n */\nexport default function compose(self, ...fns) {\n\n  return function(...args) {\n\n    let result;\n\n    fns.forEach(function(fn) {\n\n      result = fn.call(self, ...args);\n\n      if (typeof result !== 'undefined') {\n        return false;\n      }\n    });\n\n    return result;\n  }.bind(self);\n\n}","import compose from './compose';\n\nimport { injectType } from './inject';\n\n\n/**\n * A Component and injection aware mixin mechanism.\n *\n * @param {Component} component\n * @param {Object|Function} mixinDef\n */\nexport default function mixin(component, mixinDef) {\n\n  Object.keys(mixinDef).forEach(function(key) {\n\n    if (key === '$inject' || key === '__init') {\n      return;\n    }\n\n    const mixinFn = mixinDef[key];\n\n    if (key === 'constructor') {\n      mixinFn.call(component, component.props, component.context);\n    }\n\n    const componentFn = component[key];\n\n    if (typeof componentFn !== 'undefined') {\n      if (typeof componentFn !== 'function') {\n        throw new Error(\n          `failed to mixin <${ key }>: cannot combine with non-fn component value`\n        );\n      }\n\n\n      component[key] = compose(component, componentFn, mixinFn);\n    } else {\n      component[key] = mixinFn.bind(component);\n    }\n  });\n\n  if ('$inject' in mixinDef) {\n    injectType(mixinDef, component);\n  }\n\n  // call initializer\n  if ('__init' in mixinDef) {\n    mixinDef.__init.call(component, component.props, component.context);\n  }\n\n}","export {\n  default as classNames\n} from './classNames';\n\nexport {\n  inject,\n  injectType,\n} from './inject';\n\nexport {\n  default as compose\n} from './compose';\n\nexport {\n  default as mixin\n} from './mixin';","import {\n  classNames\n} from '../utils';\n\n\n/**\n * A mixin to make an element _selection aware_.\n */\nconst SelectionAware = {\n\n  getSelectionClasses() {\n\n    const {\n      selected,\n      selectedSecondary,\n      focussed\n    } = this.state;\n\n    return classNames({\n      'selected': selected,\n      'selected-secondary': selectedSecondary,\n      'focussed': focussed\n    });\n  },\n\n  selectionChanged(newSelection) {\n\n    // newSelection = { selected, selectedSecondary, focussed }\n    this.setState(newSelection);\n  },\n\n  componentWillUpdate(newProps) {\n    if (newProps.elementId !== this.props.elementId) {\n      this.updateSelectionSubscription(false);\n    }\n  },\n\n  componentDidUpdate(oldProps) {\n\n    if (oldProps.elementId !== this.props.elementId) {\n      this.updateSelectionSubscription(true);\n    }\n  },\n\n  componentDidMount() {\n    this.updateSelectionSubscription(true);\n  },\n\n  componentWillUnmount() {\n    this.updateSelectionSubscription(false);\n  },\n\n  updateSelectionSubscription(enable) {\n    const {\n      elementId\n    } = this.props;\n\n    if (!elementId) {\n      return;\n    }\n\n    if (elementId) {\n      this.eventBus[enable ? 'on' : 'off'](\n        `selection.${elementId}.changed`,\n        this.selectionChanged\n      );\n    }\n  },\n\n};\n\nexport default SelectionAware;\n\nSelectionAware.$inject = [ 'eventBus' ];","export { default as SelectionAware } from './SelectionAware';","import { Component } from 'inferno';\n\nimport {\n  classNames,\n  inject,\n  mixin\n} from './utils';\n\nimport {\n  SelectionAware\n} from './mixins';\n\n\nexport default class BaseCell extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    mixin(this, SelectionAware);\n\n    inject(this);\n  }\n\n  getRenderProps(...cls) {\n\n    const {\n      className,\n      elementId,\n      coords,\n      ...props\n    } = this.props;\n\n    const baseProps = {\n      className: classNames(\n        ...cls,\n        this.getSelectionClasses(),\n        className\n      )\n    };\n\n    if (elementId) {\n      baseProps['data-element-id'] = elementId;\n    }\n\n    if (coords) {\n      baseProps['data-coords'] = coords;\n    }\n\n    return {\n      ...baseProps,\n      ...props\n    };\n  }\n\n}","import BaseCell from './BaseCell';\n\n\nexport default class HeaderCell extends BaseCell {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n  }\n\n  render() {\n\n    const {\n      children\n    } = this.props;\n\n    const props = this.getRenderProps('cell');\n\n    return (\n      <td { ...props }>\n        { children }\n      </td>\n    );\n  }\n\n}","import { Component } from 'inferno';\n\n\nexport default class DiContainer extends Component {\n\n  getChildContext() {\n\n    return {\n      injector: this.props.injector\n    };\n\n  }\n\n  render() {\n    return this.props.children;\n  }\n\n}","import BaseCell from './BaseCell';\n\n\nexport default class HeaderCell extends BaseCell {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n  }\n\n  render() {\n\n    const {\n      children\n    } = this.props;\n\n    const props = this.getRenderProps('cell', 'header-cell');\n\n    return (\n      <th { ...props }>\n        { children }\n      </th>\n    );\n  }\n\n}","export { default as Cell } from './Cell';\nexport { default as DiContainer } from './DiContainer';\nexport { default as HeaderCell } from './HeaderCell';\n\nexport * from './mixins';\nexport * from './utils';","\n/**\n * A simple slot extension, built upon the components service.\n *\n * @type {Object}\n */\nconst ComponentWithSlots = {\n\n  slotFill(slotProps, DefaultFill) {\n\n    const {\n      type,\n      context,\n      ...props\n    } = slotProps;\n\n    const Fill = this.components.getComponent(type, context) || DefaultFill;\n\n    if (Fill) {\n      return <Fill { ...context } { ...props } />;\n    }\n\n    return null;\n  },\n\n  slotFills(slotProps) {\n\n    const {\n      type,\n      context,\n      ...props\n    } = slotProps;\n\n    const fills = this.components.getComponents(type, context);\n\n    return fills.map(\n      Fill => <Fill { ...context } { ...props } />\n    );\n  }\n\n};\n\nexport default ComponentWithSlots;\n\nComponentWithSlots.$inject = [ 'components' ];","import { Component } from 'inferno';\n\nimport {\n  inject,\n  mixin\n} from 'table-js/lib/components';\n\nimport {\n  ComponentWithSlots\n} from 'dmn-js-shared/lib/components/mixins';\n\n\nconst MIN_WIDTH = 400;\n\n\nexport default class AnnotationHeader extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    mixin(this, ComponentWithSlots);\n\n    inject(this);\n  }\n\n  componentDidMount() {\n    this.changeSupport.onElementsChanged(this.getRoot(), this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    this.changeSupport.offElementsChanged(this.getRoot(), this.onElementsChanged);\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  getRoot() {\n    return this.sheet.getRoot();\n  }\n\n  render() {\n    const decisionTable = this.getRoot();\n    const annotationsWidth = decisionTable.businessObject.get('annotationsWidth');\n    const width = (annotationsWidth || MIN_WIDTH) + 'px';\n\n    return (\n      <th\n        className=\"annotation header\"\n        style={ { width } }\n      >\n        {\n          this.slotFills({\n            type: 'cell-inner',\n            context: {\n              cellType: 'annotations',\n              col: this.sheet.getRoot(),\n              minWidth: MIN_WIDTH\n            }\n          })\n        }\n\n        { this.translate('Annotations') }\n      </th>\n    );\n  }\n}\n\nAnnotationHeader.$inject = [ 'changeSupport', 'sheet', 'translate' ];\n","import {\n  Cell\n} from 'table-js/lib/components';\n\n\nexport default function AnnotationCell(props) {\n  const { row } = props;\n\n  const {\n    id,\n    description\n  } = row.businessObject;\n\n  return (\n    <Cell className=\"annotation\" elementId={ id }>\n      { description || '-' }\n    </Cell>\n  );\n}","import AnnotationHeader from './components/AnnotationHeader';\nimport AnnotationCell from './components/AnnotationCell';\n\n\nexport default function AnnotationsProvider(components) {\n\n  components.onGetComponent('cell', ({ cellType }) => {\n\n    if (cellType === 'after-label-cells') {\n      return AnnotationHeader;\n    } else if (cellType === 'after-rule-cells') {\n      return AnnotationCell;\n    }\n  });\n}\n\nAnnotationsProvider.$inject = [ 'components' ];\n","import AnnotationsProvider from './AnnotationsProvider';\n\nexport default {\n  __init__: [ 'annotationsProvider' ],\n  annotationsProvider: [ 'type', AnnotationsProvider ]\n};","import { assign } from 'min-dash';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nfunction elementData(semantic, attrs) {\n  return assign({\n    id: semantic.id,\n    type: semantic.$type,\n    businessObject: semantic\n  }, attrs);\n}\n\nexport default class TableImporter {\n\n  constructor(elementFactory, eventBus, sheet) {\n    this._elementFactory = elementFactory;\n    this._eventBus = eventBus;\n    this._sheet = sheet;\n  }\n\n  /**\n   * Add DMN element.\n   */\n  add(semantic) {\n    let element;\n\n    // decision table\n    if (is(semantic, 'dmn:DecisionTable')) {\n      element = this._elementFactory.createRoot(elementData(semantic));\n\n      this._sheet.setRoot(element);\n    }\n\n    // input clause\n    else if (is(semantic, 'dmn:InputClause')) {\n      element = this._elementFactory.createCol(elementData(semantic));\n\n      this._sheet.addCol(element);\n    }\n\n    // output clause\n    else if (is(semantic, 'dmn:OutputClause')) {\n      element = this._elementFactory.createCol(elementData(semantic));\n\n      this._sheet.addCol(element);\n    }\n\n    // rule\n    else if (is(semantic, 'dmn:DecisionRule')) {\n      if (!semantic.inputEntry) {\n        semantic.inputEntry = [];\n      }\n\n      if (!semantic.outputEntry) {\n        semantic.outputEntry = [];\n      }\n\n      const cells = [\n        ...semantic.inputEntry,\n        ...semantic.outputEntry\n      ].map((entry) => {\n        return this._elementFactory.createCell(elementData(entry));\n      });\n\n      element = this._elementFactory.createRow(assign(elementData(semantic), {\n        cells\n      }));\n\n      this._sheet.addRow(element);\n    }\n\n    this._eventBus.fire('dmnElement.added', { element: element });\n\n    return element;\n  }\n}\n\nTableImporter.$inject = [ 'elementFactory', 'eventBus', 'sheet' ];","import {\n  is,\n  getBusinessObject\n} from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { Component } from 'inferno';\n\nimport {\n  mixin\n} from 'table-js/lib/components';\n\nimport {\n  ComponentWithSlots\n} from 'dmn-js-shared/lib/components/mixins';\n\n\nexport default class DecisionTableHead extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    mixin(this, ComponentWithSlots);\n\n    this._sheet = context.injector.get('sheet');\n\n    this._changeSupport = context.changeSupport;\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentWillMount() {\n    const root = this._sheet.getRoot();\n\n    this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const root = this._sheet.getRoot();\n\n    this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  render() {\n    const root = this._sheet.getRoot();\n\n    if (!is(root, 'dmn:DMNElement')) {\n      return null;\n    }\n\n    const businessObject = getBusinessObject(root);\n\n    const inputs = businessObject.input,\n          outputs = businessObject.output;\n\n    return <thead>\n      <tr>\n        <th\n          className=\"index-column\"\n        />\n\n        {\n          this.slotFills({\n            type: 'cell',\n            context: { cellType: 'before-label-cells' }\n          })\n        }\n\n        {\n          inputs && inputs.map((input, index) => {\n            const width = input.width || '192px';\n\n            return this.slotFill({\n              type: 'cell',\n              context: {\n                cellType: 'input-header',\n                input,\n                index,\n                inputsLength: inputs.length,\n                width\n              },\n              key: input.id\n            }, DefaultInputHeaderCell);\n          })\n        }\n        {\n          outputs.map((output, index) => {\n            return this.slotFill({\n              type: 'cell',\n              context: {\n                cellType: 'output-header',\n                output,\n                index,\n                outputsLength: outputs.length\n              },\n              key: output.id\n            }, DefaultOutputHeaderCell);\n          })\n        }\n\n        {\n          this.slotFills({\n            type: 'cell',\n            context: { cellType: 'after-label-cells' }\n          })\n        }\n      </tr>\n    </thead>;\n  }\n}\n\n\n// default components ///////////////////////\n\nfunction DefaultInputHeaderCell(props, context) {\n\n  const {\n    input,\n    className,\n    index\n  } = props;\n\n  const {\n    label,\n    inputExpression,\n    inputValues\n  } = input;\n\n  const translate = context.injector.get('translate');\n\n  const actualClassName = (className || '') + ' input-cell';\n\n  return (\n    <th\n      data-col-id={ input.id }\n      className={ actualClassName }\n      key={ input.id }>\n\n      <div className=\"clause\">\n        { index === 0 ? translate('When') : translate('And') }\n      </div>\n\n      {\n        label ? (\n          <div className=\"input-label\" title={ translate('Input Label') }>\n            { label }\n          </div>\n        ) : (\n          <div\n            className=\"input-expression\"\n            title={ translate('Input Expression') }>\n            { inputExpression.text }\n          </div>\n        )\n      }\n\n      <div\n        className=\"input-variable\"\n        title={\n          inputValues && inputValues.text ? translate('Input Values') :\n            translate('Input Type')\n        }\n      >\n        { inputValues && inputValues.text || inputExpression.typeRef }\n      </div>\n    </th>\n  );\n}\n\n\nfunction DefaultOutputHeaderCell(props, context) {\n\n  const {\n    output,\n    className,\n    index\n  } = props;\n\n  const {\n    label,\n    name,\n    outputValues,\n    typeRef\n  } = output;\n\n  const translate = context.injector.get('translate');\n\n  const actualClassName = (className || '') + ' output-cell';\n\n  return (\n    <th className={ actualClassName } key={ output.id }>\n\n      <div className=\"clause\">\n        { index === 0 ? translate('Then') : translate('And') }\n      </div>\n\n      {\n        label ? (\n          <div className=\"output-label\" title={ translate('Output Label') }>\n            { label }\n          </div>\n        ) : (\n          <div\n            className=\"output-name\"\n            title={ translate('Output Name') }>\n            { name }\n          </div>\n        )\n      }\n\n      <div\n        className=\"output-variable\"\n        title={\n          outputValues && outputValues.text ? translate('Output Values') :\n            translate('Output Type')\n        }\n      >\n        { outputValues && outputValues.text || typeRef }\n      </div>\n    </th>\n  );\n}\n","import DecisionTableHead from './components/DecisionTableHead';\n\nexport default function DecisionTableHeadProvider(components) {\n  components.onGetComponent('table.head', () => DecisionTableHead);\n}\n\nDecisionTableHeadProvider.$inject = [ 'components' ];","import DecisionTableHeadProvider from './DecisionTableHeadProvider';\n\nexport default {\n  __init__: [ 'decisionTableHeadProvider' ],\n  decisionTableHeadProvider: [ 'type', DecisionTableHeadProvider ]\n};","import { Component } from 'inferno';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport { inject } from 'table-js/lib/components';\n\nexport default class DecisionTablePropertiesComponent extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n  }\n\n  render() {\n    const root = this.sheet.getRoot();\n\n    if (!is(root, 'dmn:DMNElement')) {\n      return null;\n    }\n\n    const { name } = root.businessObject.$parent;\n\n    const HitPolicy = this.components.getComponent('hit-policy') || NullComponent;\n\n    return (\n      <div className=\"decision-table-properties\">\n        <p className=\"decision-table-name\" title={ 'Decision Name: ' + name }>{ name }</p>\n        <span className=\"decision-table-header-separator\" />\n        <HitPolicy />\n      </div>\n    );\n  }\n}\n\nDecisionTablePropertiesComponent.$inject = [\n  'sheet',\n  'components'\n];\n\nfunction NullComponent() {\n  return null;\n}\n","import Component from './components/DecisionTablePropertiesComponent';\n\nconst LOW_PRIORITY = 500;\n\nexport default class DecisionTableProperties {\n  constructor(components) {\n    components.onGetComponent('table.before', LOW_PRIORITY, () => {\n      return Component;\n    });\n  }\n}\n\nDecisionTableProperties.$inject = [ 'components' ];","import DecisionTableProperties from './DecisionTableProperties';\n\nexport default {\n  __init__: [ 'decisionTableProperties' ],\n  decisionTableProperties: [ 'type', DecisionTableProperties ]\n};","import { Component } from 'inferno';\n\n\nexport default class DecisionRulesIndexCellComponent extends Component {\n  render() {\n    const { row, rowIndex } = this.props;\n\n    const { components } = this.context;\n\n    const innerComponents = components.getComponents(\n      'cell-inner',\n      {\n        cellType: 'rule-index',\n        row,\n        rowIndex\n      }\n    );\n\n    return <td className=\"rule-index\" data-element-id={ row.id } data-row-id={ row.id }>\n      {\n        innerComponents\n          && innerComponents.map(InnerComponent => {\n            return <InnerComponent\n              row={ row }\n              rowIndex={ rowIndex } />;\n          })\n      }\n      { rowIndex + 1 }\n    </td>;\n  }\n}","import DecisionRuleIndexCellComponent\n  from './components/DecisionRuleIndexCellComponent';\n\nexport default class DecisionRuleIndices {\n  constructor(components) {\n    components.onGetComponent('cell', ({ cellType }) => {\n      if (cellType === 'before-rule-cells') {\n        return DecisionRuleIndexCellComponent;\n      }\n    });\n  }\n}\n\nDecisionRuleIndices.$inject = [ 'components' ];","import DecisionRuleIndices from './DecisionRuleIndices';\n\nexport default {\n  __init__: [ 'decisionRuleIndices' ],\n  decisionRuleIndices: [ 'type', DecisionRuleIndices ]\n};","import {\n  assign,\n  find\n} from 'min-dash';\n\n\nconst EXPRESSION_LANGUAGE_OPTIONS = [{\n  label: 'FEEL',\n  value: 'feel'\n}, {\n  label: 'JUEL',\n  value: 'juel'\n}, {\n  label: 'JavaScript',\n  value: 'javascript'\n}, {\n  label: 'Groovy',\n  value: 'groovy'\n}, {\n  label: 'Python',\n  value: 'python'\n}, {\n  label: 'JRuby',\n  value: 'jruby'\n}];\n\n/**\n * @typedef ExpressionLanguageDescriptor\n * @property {string} value - value inserted into XML\n * @property {string} label - human-readable label\n */\n\n/**\n * Provide options and defaults of expression languages via config.\n *\n * @example\n *\n * // there will be two languages available with FEEL as default\n * const editor = new DmnJS({\n *   expressionLanguages: {\n *     options: [{\n *       value: 'feel',\n *       label: 'FEEL'\n *     }, {\n *       value: 'juel',\n *       label: 'JUEL'\n *     }],\n *     defaults: {\n *       editor: 'feel'\n *     }\n *   }\n * })\n */\nexport default class ExpressionLanguages {\n  constructor(injector) {\n    this._injector = injector;\n\n    const config = injector.get('config.expressionLanguages') || {};\n\n    this._config = {\n      options: EXPRESSION_LANGUAGE_OPTIONS,\n      defaults: {\n        editor: 'feel'\n      }\n    };\n\n    // first assign the list of languages as it might be required for the legacy defaults\n    if (config.options) {\n      this._config.options = config.options;\n    }\n\n    const legacyDefaults = this._getLegacyDefaults();\n\n    assign(this._config.defaults, legacyDefaults, config.defaults);\n  }\n\n  /**\n   * Get default expression language for a component or the editor if `componentName`\n   * is not provided.\n   *\n   * @param {string} [componentName]\n   * @returns {ExpressionLanguageDescriptor}\n   */\n  getDefault(componentName) {\n    const { defaults } = this._config;\n    const defaultFromConfig = defaults[componentName] || defaults.editor;\n\n    return this._getLanguageByValue(defaultFromConfig) || this.getAll()[0];\n  }\n\n  /**\n   * Get label for provided expression language.\n   *\n   * @param {string} expressionLanguageValue - value from XML\n   * @returns {string}\n   */\n  getLabel(expressionLanguageValue) {\n    const langauge = this._getLanguageByValue(expressionLanguageValue);\n\n    return langauge ? langauge.label : expressionLanguageValue;\n  }\n\n  /**\n   * Get list of configured expression languages.\n   *\n   * @returns {ExpressionLanguageDescriptor[]}\n   */\n  getAll() {\n    return this._config.options;\n  }\n\n  _getLegacyDefaults() {\n    const defaults = {},\n          injector = this._injector;\n\n    const inputCellValue = injector.get('config.defaultInputExpressionLanguage');\n    const outputCellValue = injector.get('config.defaultOutputExpressionLanguage');\n\n    if (inputCellValue) {\n      defaults.inputCell = inputCellValue;\n    }\n\n    if (outputCellValue) {\n      defaults.outputCell = outputCellValue;\n    }\n\n    return defaults;\n  }\n\n  _getLanguageByValue(value) {\n    return find(this.getAll(), language => value === language.value);\n  }\n}\n\nExpressionLanguages.$inject = [ 'injector' ];\n","import ExpressionLanguages from './ExpressionLanguages';\n\nexport default {\n  __init__: [ 'expressionLanguages' ],\n  expressionLanguages: [ 'type', ExpressionLanguages ]\n};","import { Component } from 'inferno';\n\n\nexport default class DecisionRulesBodyComponent extends Component {\n  render({ rows, cols }) {\n    const { components } = this.context;\n\n    return (\n      <tbody>\n        {\n          rows.map((row, rowIndex) => {\n            const RowComponent = components.getComponent('row', { rowType: 'rule' });\n\n            return (\n              RowComponent &&\n              <RowComponent\n                key={ row.id }\n                row={ row }\n                rowIndex={ rowIndex }\n                cols={ cols } />\n            );\n          })\n        }\n      </tbody>\n    );\n  }\n}","import { Component } from 'inferno';\n\nimport {\n  mixin\n} from 'table-js/lib/components';\n\nimport {\n  ComponentWithSlots\n} from 'dmn-js-shared/lib/components/mixins';\n\n\nexport default class DecisionRulesRowComponent extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    mixin(this, ComponentWithSlots);\n  }\n\n  render() {\n\n    const {\n      row,\n      rowIndex,\n      cols\n    } = this.props;\n\n    const {\n      cells\n    } = row;\n\n    return (\n      <tr>\n        {\n          this.slotFills({\n            type: 'cell',\n            context: {\n              cellType: 'before-rule-cells',\n              row,\n              rowIndex\n            }\n          })\n        }\n        {\n          cells.map((cell, colIndex) => {\n            return this.slotFill({\n              type: 'cell',\n              context: {\n                cellType: 'rule',\n                cell,\n                rowIndex: rowIndex,\n                colIndex: colIndex\n              },\n              key: cell.id,\n              row,\n              col: cols[colIndex]\n            });\n          })\n        }\n        {\n          this.slotFills({\n            type: 'cell',\n            context: {\n              cellType: 'after-rule-cells',\n              row,\n              rowIndex\n            }\n          })\n        }\n      </tr>\n    );\n  }\n}","import { Component } from 'inferno';\n\nimport { Cell } from 'table-js/lib/components';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default class DecisionRulesCellComponent extends Component {\n  render() {\n    const { cell, row, col } = this.props;\n\n    if (is(cell, 'dmn:UnaryTests')) {\n      return (\n        <Cell\n          className=\"input-cell\"\n          elementId={ cell.id }\n          data-row-id={ row.id }\n          data-col-id={ col.id }>\n          { cell.businessObject.text }\n        </Cell>\n      );\n    } else {\n      return (\n        <Cell\n          className=\"output-cell\"\n          elementId={ cell.id }\n          data-row-id={ row.id }\n          data-col-id={ col.id }>\n          { cell.businessObject.text }\n        </Cell>\n      );\n    }\n  }\n}","import DecisionRulesBodyComponent from './components/DecisionRulesBodyComponent';\nimport DecisionRulesRowComponent from './components/DecisionRulesRowComponent';\nimport DecisionRulesCellComponent from './components/DecisionRulesCellComponent';\n\n\nexport default class Rules {\n\n  constructor(components) {\n    components.onGetComponent('table.body', () => DecisionRulesBodyComponent);\n\n    components.onGetComponent('row', ({ rowType }) => {\n      if (rowType === 'rule') {\n        return DecisionRulesRowComponent;\n      }\n    });\n\n    components.onGetComponent('cell', ({ cellType }) => {\n      if (cellType === 'rule') {\n        return DecisionRulesCellComponent;\n      }\n    });\n  }\n\n}\n\nRules.$inject = [ 'components' ];","import ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\n\nimport DecisionRules from './DecisionRules';\n\nexport default {\n  __depends__: [\n    ExpressionLanguagesModule\n  ],\n  __init__: [ 'decisionRules' ],\n  decisionRules: [ 'type', DecisionRules ]\n};","/* eslint max-len: 0 */\nexport const HIT_POLICIES = [\n  {\n    label: 'Unique',\n    value: {\n      hitPolicy: 'UNIQUE',\n      aggregation: undefined\n    },\n    explanation: 'No overlap is possible and all rules are disjoint. Only a single rule can be matched'\n  },\n  {\n    label: 'First',\n    value: {\n      hitPolicy: 'FIRST',\n      aggregation: undefined\n    },\n    explanation: 'Rules may overlap. The first matching rule will be chosen'\n  },\n  {\n    label: 'Priority',\n    value: {\n      hitPolicy: 'PRIORITY',\n      aggregation: undefined\n    },\n    explanation: 'Rules may overlap. The one with the highest priority will be chosen'\n  },\n  {\n    label: 'Any',\n    value: {\n      hitPolicy: 'ANY',\n      aggregation: undefined\n    },\n    explanation: 'Rules may overlap. Their output have to match'\n  },\n  {\n    label: 'Collect',\n    value: {\n      hitPolicy: 'COLLECT',\n      aggregation: undefined\n    },\n    explanation: 'Collects the values of all matching rules'\n  },\n  {\n    label: 'Collect (Sum)',\n    value: {\n      hitPolicy: 'COLLECT',\n      aggregation: 'SUM'\n    },\n    explanation: 'Collects the values of all matching rules and sums up to a single value'\n  },\n  {\n    label: 'Collect (Min)',\n    value: {\n      hitPolicy: 'COLLECT',\n      aggregation: 'MIN'\n    },\n    explanation: 'Collects the values of all matching rules and uses the lowest value'\n  },\n  {\n    label: 'Collect (Max)',\n    value: {\n      hitPolicy: 'COLLECT',\n      aggregation: 'MAX'\n    },\n    explanation: 'Collects the values of all matching rules and uses the highest value'\n  },\n  {\n    label: 'Collect (Count)',\n    value: {\n      hitPolicy: 'COLLECT',\n      aggregation: 'COUNT'\n    },\n    explanation: 'Collects the values of all matching rules and counts the number of them'\n  },\n  {\n    label: 'Rule order',\n    value: {\n      hitPolicy: 'RULE ORDER',\n      aggregation: undefined\n    },\n    explanation: 'Collects the values of all matching rules in rule order'\n  },\n  {\n    label: 'Output order',\n    value: {\n      hitPolicy: 'OUTPUT ORDER',\n      aggregation: undefined\n    },\n    explanation: 'Collects the values of all matching rules in decreasing output priority order'\n  }\n];\n","import { Component } from 'inferno';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\nimport { HIT_POLICIES } from './../HitPolicies';\n\nimport { find } from 'min-dash';\n\n\nexport default class HitPolicy extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n  }\n\n  getRoot() {\n    return this.sheet.getRoot();\n  }\n\n  render() {\n    const root = this.getRoot(),\n          businessObject = root.businessObject;\n\n    const { aggregation, hitPolicy } = businessObject;\n\n    const hitPolicyEntry = find(HIT_POLICIES, entry => {\n      return isEqualHitPolicy(entry.value, { aggregation, hitPolicy });\n    });\n\n    return (\n      <span\n        className=\"hit-policy header\"\n        title={ hitPolicyEntry.explanation }\n      >\n        <label className=\"dms-label\">\n          Hit Policy:\n        </label>\n        <span className=\"hit-policy-value\">\n          { hitPolicyEntry.label}\n        </span>\n      </span>\n    );\n  }\n}\n\nHitPolicy.$inject = [\n  'sheet'\n];\n\n\n// helpers //////////////////////\nfunction isEqualHitPolicy(a, b) {\n  return a.hitPolicy === b.hitPolicy && a.aggregation === b.aggregation;\n}\n","import HitPolicy from './components/HitPolicy';\n\nexport default function HitPolicyProvider(components) {\n  components.onGetComponent('hit-policy', () => {\n    return HitPolicy;\n  });\n}\n\nHitPolicyProvider.$inject = [ 'components' ];","import HitPolicyProvider from './HitPolicyProvider';\n\nexport default {\n  __init__: [ 'hitPolicyProvider' ],\n  hitPolicyProvider: [ 'type', HitPolicyProvider ]\n};","import { Component } from 'inferno';\r\n\r\n\r\nexport default class ViewDrdComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { injector } = context;\r\n\r\n    this._eventBus = injector.get('eventBus');\r\n  }\r\n\r\n  onClick = () => {\r\n    this._eventBus.fire('showDrd');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"view-drd\"\r\n        ref={ node => this.node = node }>\r\n        <button\r\n          onClick={ this.onClick }\r\n          className=\"view-drd-button\">View DRD</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import ViewDrdComponent from './components/ViewDrdComponent';\r\n\r\nexport default class ViewDrd {\r\n  constructor(components, eventBus, injector, sheet) {\r\n    this._injector = injector;\r\n    this._sheet = sheet;\r\n\r\n    components.onGetComponent('table.before', () => {\r\n      if (this.canViewDrd()) {\r\n        return ViewDrdComponent;\r\n      }\r\n    });\r\n\r\n    eventBus.on('showDrd', () => {\r\n      const parent = injector.get('_parent', false);\r\n\r\n      const root = sheet.getRoot();\r\n\r\n      const definitions = getDefinitions(root);\r\n\r\n      if (!definitions) {\r\n        return;\r\n      }\r\n\r\n      // open definitions\r\n      const view = parent.getView(definitions);\r\n\r\n      parent.open(view);\r\n    });\r\n  }\r\n\r\n  canViewDrd() {\r\n    const parent = this._injector.get('_parent', false);\r\n\r\n    if (!parent) {\r\n      return false;\r\n    }\r\n\r\n    const root = this._sheet.getRoot();\r\n\r\n    const definitions = getDefinitions(root);\r\n\r\n    return !!parent.getView(definitions);\r\n  }\r\n}\r\n\r\nViewDrd.$inject = [ 'components', 'eventBus', 'injector', 'sheet' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getDefinitions(root) {\r\n  const { businessObject } = root;\r\n\r\n  // root might not have business object\r\n  if (!businessObject) {\r\n    return;\r\n  }\r\n\r\n  const decision = businessObject.$parent;\r\n\r\n  const definitions = decision.$parent;\r\n\r\n  return definitions;\r\n}","import ViewDrd from './ViewDrd';\r\n\r\nexport default {\r\n  __init__: [ 'viewDrd' ],\r\n  viewDrd: [ 'type', ViewDrd ]\r\n};","export default function Logo() {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      viewBox='0 0 14.02 5.57'\r\n      width='53'\r\n      height='21'\r\n      style='vertical-align:middle'>\r\n      <path\r\n        fill='currentColor'\r\n        // eslint-disable-next-line\r\n        d='M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z' />\r\n      <path\r\n        fill='currentColor'\r\n        d='M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z' />\r\n    </svg>\r\n  );\r\n}","import { Component } from 'inferno';\r\n\r\nimport Logo from 'dmn-js-shared/lib/components/Logo';\r\n\r\nexport default class PoweredByLogoComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { injector } = context;\r\n\r\n    this._eventBus = injector.get('eventBus');\r\n  }\r\n\r\n  onClick = () => {\r\n    this._eventBus.fire('poweredBy.show');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='powered-by'>\r\n        <div\r\n          className='powered-by__logo'\r\n          title='Powered by bpmn.io'\r\n          onClick={ this.onClick }\r\n          ref={ node => this.node = node }\r\n        >\r\n          <Logo />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import { Component } from 'inferno';\r\n\r\nimport Logo from 'dmn-js-shared/lib/components/Logo';\r\n\r\n\r\nexport default class PoweredByOverlayComponent extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      show: false\r\n    };\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n    this.onShow = this.onShow.bind(this);\r\n  }\r\n\r\n  onClick() {\r\n    this.setState({\r\n      show: false\r\n    });\r\n  }\r\n\r\n  onShow() {\r\n    this.setState({\r\n      show: true\r\n    });\r\n  }\r\n\r\n  componentWillMount() {\r\n    const eventBus = this._eventBus = this.context.injector.get('eventBus');\r\n\r\n    eventBus.on('poweredBy.show', this.onShow);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._eventBus.off('poweredBy.show', this.onShow);\r\n  }\r\n\r\n  render() {\r\n    const { show } = this.state;\r\n\r\n    return (\r\n      show && <div\r\n        onClick={ this.onClick }\r\n        className=\"powered-by-overlay\">\r\n        <div\r\n          className=\"powered-by-overlay-content\"\r\n          onClick={ e => e.stopPropagation() }>\r\n          <a className=\"logo\" href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\">\r\n            <Logo />\r\n          </a>\r\n          <span>\r\n            Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a\r\n              href=\"http://bpmn.io\"\r\n              target=\"_blank\">bpmn.io</a>.\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import PoweredByLogoComponent from './components/PoweredByLogoComponent';\r\nimport PoweredByOverlayComponent from './components/PoweredByOverlayComponent';\r\n\r\nexport default class PoweredBy {\r\n  constructor(components, eventBus) {\r\n    components.onGetComponent('table.before', () => {\r\n      return PoweredByLogoComponent;\r\n    });\r\n\r\n    components.onGetComponent('table.before', () => {\r\n      return PoweredByOverlayComponent;\r\n    });\r\n  }\r\n}\r\n\r\nPoweredBy.$inject = [ 'components', 'eventBus' ];","import PoweredBy from './PoweredBy';\r\n\r\nexport default {\r\n  __init__: [ 'poweredBy' ],\r\n  poweredBy: [ 'type', PoweredBy ]\r\n};","import { Component } from 'inferno';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\nexport default class AddRuleFootComponent extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n\n    this.addRule = this.addRule.bind(this);\n  }\n\n  componentWillMount() {\n    this._eventBus = this.context.injector.get('eventBus');\n  }\n\n  handleClick = (e) => {\n    e.stopPropagation();\n\n    this.addRule();\n  }\n\n  addRule() {\n    this._eventBus.fire('addRule');\n  }\n\n  render() {\n    const { cols } = this.props;\n\n    const cells = [\n      <td className=\"add-rule-add\">\n        <span className=\"dmn-icon-plus action-icon\" title=\"Add Rule\"></span>\n      </td>\n    ];\n\n    const { businessObject } = this.sheet.getRoot();\n\n    if (!businessObject.input || !businessObject.input.length) {\n      cells.push(<td className=\"input-cell\">-</td>);\n    }\n\n    for (let i = 0; i < cols.length + 1; i++) {\n      let className = 'add-rule';\n\n      const businessObject = cols[i] && cols[i].businessObject;\n\n      let placeholder = '';\n\n      if (businessObject) {\n        if (businessObject.$instanceOf('dmn:InputClause')) {\n          className += ' input-cell';\n          placeholder = '-';\n        }\n\n        if (businessObject.$instanceOf('dmn:OutputClause')) {\n          className += ' output-cell';\n        }\n      } else {\n        className += ' annotation';\n      }\n\n      cells.push(<td className={ className }>{placeholder}</td>);\n    }\n\n    return (\n      <tfoot\n        className=\"actionable add-rule\"\n        onClick={ this.handleClick }>\n        <tr>\n          { cells }\n        </tr>\n      </tfoot>\n    );\n  }\n}\n\nAddRuleFootComponent.$inject = [ 'sheet' ];\n","import AddRuleFootComponent from './components/AddRuleFootComponent';\n\nexport default class AddRule {\n  constructor(components, editorActions, eventBus) {\n    components.onGetComponent('table.foot', () => AddRuleFootComponent);\n\n    eventBus.on('addRule', () => {\n      editorActions.trigger('addRule');\n    });\n  }\n}\n\nAddRule.$inject = [ 'components', 'editorActions', 'eventBus' ];","import { isString } from 'min-dash';\n\n\n/**\n * Allows selecting a table cell. Selected cell will be highlighted.\n */\nexport default class Selection {\n\n  constructor(elementRegistry, eventBus, renderer) {\n    this._elementRegistry = elementRegistry;\n    this._eventBus = eventBus;\n    this._renderer = renderer;\n\n    this._selection = undefined;\n\n    eventBus.on('diagram.clear', () => {\n      this._selection = undefined;\n    });\n  }\n\n  /**\n   * Select a table cell.\n   *\n   * @param {Object|String} element - Element or element ID.\n   */\n  select(element) {\n\n    if (isString(element)) {\n      element = this._elementRegistry.get(element);\n    }\n\n    const oldSelection = this._selection;\n\n    // don't re-select already selected *Ggg*\n    if (oldSelection === element) {\n      return;\n    }\n\n    this._selection = element;\n\n    this._eventBus.fire('selection.changed', {\n      oldSelection,\n      selection: element\n    });\n  }\n\n  /**\n   * Deselect a table cell.\n   */\n  deselect() {\n\n    const oldSelection = this._selection;\n\n    this._selection = undefined;\n\n    this._eventBus.fire('selection.changed', {\n      oldSelection,\n      selection: this._selection\n    });\n\n  }\n\n  /**\n   * Get the selected cell.\n   */\n  get() {\n    return this._selection;\n  }\n\n  /**\n   * Check if a cell is selected.\n   */\n  hasSelection() {\n    return !!this._selection;\n  }\n}\n\nSelection.$inject = [\n  'elementRegistry',\n  'eventBus',\n  'renderer'\n];","/**\r\n * Selects table cells on on left & right click.\r\n */\r\nexport default class SelectionBehavior {\r\n\r\n  constructor(elementRegistry, eventBus, renderer, selection) {\r\n    this._elementRegistry = elementRegistry;\r\n    this._renderer = renderer;\r\n    this._selection = selection;\r\n\r\n    eventBus.on([ 'cell.click', 'cell.contextmenu'], ({ id }) => {\r\n      const element = elementRegistry.get(id);\r\n\r\n      if (!element) {\r\n        return;\r\n      }\r\n\r\n      selection.select(element);\r\n    });\r\n\r\n    eventBus.on('row.remove', ({ row }) => {\r\n      const currentSelection = selection.get();\r\n\r\n      if (!currentSelection) {\r\n        return;\r\n      }\r\n\r\n      if (row === currentSelection.row) {\r\n        selection.deselect();\r\n      }\r\n    });\r\n\r\n    eventBus.on('col.remove', ({ col }) => {\r\n      const currentSelection = selection.get();\r\n\r\n      if (!currentSelection) {\r\n        return;\r\n      }\r\n\r\n      if (col === currentSelection.col) {\r\n        selection.deselect();\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\r\nSelectionBehavior.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'renderer',\r\n  'selection'\r\n];","import Selection from './Selection';\nimport SelectionBehavior from './SelectionBehavior';\n\nexport default {\n  __init__: [ 'selection', 'selectionBehavior' ],\n  selection: [ 'type', Selection ],\n  selectionBehavior: [ 'type', SelectionBehavior ]\n};","import {\n  closest as domClosest\n} from 'min-dom';\n\nconst EVENTS = [\n  'click',\n  'dblclick',\n  'contextmenu',\n  'mousedown',\n  'mouseup',\n  'mouseenter',\n  'mouseleave',\n  'mouseout',\n  'mouseover',\n  'mousemove',\n  'focusin',\n  'focusout',\n  'drag',\n  'dragstart',\n  'dragend',\n  'dragover',\n  'dragenter',\n  'dragleave',\n  'drop'\n];\n\n\n/**\n * Provides interaction events on the table.\n *\n * @param {RenderConfig} config\n * @param {EventBus} eventBus\n */\nexport default class InteractionEvents {\n\n  constructor(config, eventBus) {\n    this._eventBus = eventBus;\n    this._container = config.container;\n\n    eventBus.on('table.init', () => {\n      this._addEventListeners(EVENTS);\n    });\n\n    eventBus.on('table.destroy', () => {\n      this._removeEventListeners(EVENTS);\n    });\n  }\n\n  _addEventListeners(events) {\n    const container = this._container;\n\n    events.forEach(event => {\n      container.addEventListener(event, this._handleEvent);\n    });\n  }\n\n  _removeEventListeners(events) {\n    const container = this._container;\n\n    events.forEach(event => {\n      container.removeEventListener(event, this._handleEvent);\n    });\n  }\n\n  _handleEvent = (event) => {\n    const { target, type } = event;\n\n    const node = findClosestCell(target);\n\n    if (!node) {\n      return;\n    }\n\n    const elementId = node.getAttribute('data-element-id');\n\n    if (elementId) {\n      const e = this._eventBus.createEvent({\n        id: elementId,\n        event,\n        node,\n        target: node\n      });\n\n      this._eventBus.fire(`cell.${type}`, e);\n\n      if (e.defaultPrevented) {\n        event.preventDefault();\n      }\n\n      if (e.cancelBubble) {\n        event.stopPropagation();\n      }\n    }\n  }\n}\n\nInteractionEvents.$inject = [\n  'config.renderer',\n  'eventBus'\n];\n\n// helpers /////////////\n\nfunction findClosestCell(element) {\n  return domClosest(element, '[data-element-id]', true);\n}","import InteractionEvents from './InteractionEvents';\n\nexport default {\n  __init__: [ 'interactionEvents' ],\n  interactionEvents: [ 'type', InteractionEvents ]\n};","/**\n * Expose `xor`\n */\n\nvar componentXor = xor;\n\n/**\n * XOR utility\n *\n * T T F\n * T F T\n * F T T\n * F F F\n *\n * @param {Boolean} a\n * @param {Boolean} b\n * @return {Boolean}\n */\n\nfunction xor(a, b) {\n  return a ^ b;\n}\n\n/**\n * Global Names\n */\n\nvar globals = /\\b(Array|Date|Object|Math|JSON)\\b/g;\n\n/**\n * Return immediate identifiers parsed from `str`.\n *\n * @param {String} str\n * @param {String|Function} map function or prefix\n * @return {Array}\n * @api public\n */\n\nvar componentProps = function(str, fn){\n  var p = unique(props(str));\n  if (fn && 'string' == typeof fn) fn = prefixed(fn);\n  if (fn) return map(str, p, fn);\n  return p;\n};\n\n/**\n * Return immediate identifiers in `str`.\n *\n * @param {String} str\n * @return {Array}\n * @api private\n */\n\nfunction props(str) {\n  return str\n    .replace(/\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\//g, '')\n    .replace(globals, '')\n    .match(/[a-zA-Z_]\\w*/g)\n    || [];\n}\n\n/**\n * Return `str` with `props` mapped with `fn`.\n *\n * @param {String} str\n * @param {Array} props\n * @param {Function} fn\n * @return {String}\n * @api private\n */\n\nfunction map(str, props, fn) {\n  var re = /\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\/|[a-zA-Z_]\\w*/g;\n  return str.replace(re, function(_){\n    if ('(' == _[_.length - 1]) return fn(_);\n    if (!~props.indexOf(_)) return _;\n    return fn(_);\n  });\n}\n\n/**\n * Return unique array.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nfunction unique(arr) {\n  var ret = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    if (~ret.indexOf(arr[i])) continue;\n    ret.push(arr[i]);\n  }\n\n  return ret;\n}\n\n/**\n * Map with prefix `str`.\n */\n\nfunction prefixed(str) {\n  return function(_){\n    return str + _;\n  };\n}\n\n/**\n * Module Dependencies\n */\n\n\n\n\n\n/**\n * Export `Iterator`\n */\n\nvar domIterator = Iterator;\n\n/**\n * Initialize `Iterator`\n *\n * @param {Node} node\n * @param {Node} root\n * @return {Iterator} self\n * @api public\n */\n\nfunction Iterator(node, root) {\n  if (!(this instanceof Iterator)) return new Iterator(node, root);\n  this.node = this.start = this.peeked = node;\n  this.root = root;\n  this.closingTag = false;\n  this._revisit = true;\n  this._selects = [];\n  this._rejects = [];\n\n  if (node && this.higher(node)) {\n    throw new Error('root must be a parent or ancestor to node');\n  }\n}\n\n/**\n * Reset the Iterator\n *\n * @param {Node} node (optional)\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.reset = function(node) {\n  this.node = node || this.start;\n  return this;\n};\n\n/**\n * Revisit element nodes. Defaults to `true`\n */\n\nIterator.prototype.revisit = function(revisit) {\n  this._revisit = undefined == revisit ? true : revisit;\n  return this;\n};\n\n/**\n * Jump to the opening tag\n */\n\nIterator.prototype.opening = function() {\n  if (1 == this.node.nodeType) this.closingTag = false;\n  return this;\n};\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.atOpening = function() {\n  return !this.closingTag;\n};\n\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.closing = function() {\n  if (1 == this.node.nodeType) this.closingTag = true;\n  return this;\n};\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.atClosing = function() {\n  return this.closingTag;\n};\n\n/**\n * Next node\n *\n * @param {Number} type\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.next = traverse('nextSibling', 'firstChild');\n\n/**\n * Previous node\n *\n * @param {Number} type\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.previous =\nIterator.prototype.prev = traverse('previousSibling', 'lastChild');\n\n/**\n * Make traverse function\n *\n * @param {String} dir\n * @param {String} child\n * @return {Function}\n * @api private\n */\n\nfunction traverse(dir, child) {\n  var next = dir == 'nextSibling';\n  return function walk(expr, n, peek) {\n    expr = this.compile(expr);\n    n = n && n > 0 ? n : 1;\n    var node = this.node;\n    var closing = this.closingTag;\n    var revisit = this._revisit;\n\n    while (node) {\n      if (componentXor(next, closing) && node[child]) {\n        // element with children: <em>...</em>\n        node = node[child];\n        closing = !next;\n      } else if (1 == node.nodeType && !node[child] && componentXor(next, closing)) {\n        // empty element tag: <em></em>\n        closing = next;\n        if (!revisit) continue;\n      } else if (node[dir]) {\n        // element has a neighbor: ...<em></em>...\n        node = node[dir];\n        closing = !next;\n      } else {\n        // done with current layer, move up.\n        node = node.parentNode;\n        closing = next;\n        if (!revisit) continue;\n      }\n\n      if (!node || this.higher(node, this.root)) break;\n\n      if (expr(node) && this.selects(node, peek) && this.rejects(node, peek)) {\n        if (--n) continue;\n        if (!peek) this.node = node;\n        this.closingTag = closing;\n        return node;\n      }\n    }\n\n    return null;\n  };\n}\n\n/**\n * Select nodes that cause `expr(node)`\n * to be truthy\n *\n * @param {Number|String|Function} expr\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.select = function(expr) {\n  expr = this.compile(expr);\n  this._selects.push(expr);\n  return this;\n};\n\n/**\n * Run through the selects ORing each\n *\n * @param {Node} node\n * @param {Boolean} peek\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.selects = function(node, peek) {\n  var exprs = this._selects;\n  var len = exprs.length;\n  if (!len) return true;\n\n  for (var i = 0; i < len; i++) {\n    if (exprs[i].call(this, node, peek)) return true;\n  }\n  return false;\n};\n\n/**\n * Select nodes that cause `expr(node)`\n * to be falsy\n *\n * @param {Number|String|Function} expr\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.reject = function(expr) {\n  expr = this.compile(expr);\n  this._rejects.push(expr);\n  return this;\n};\n\n/**\n * Run through the reject expressions ANDing each\n *\n * @param {Node} node\n * @param {Boolean} peek\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.rejects = function(node, peek) {\n  var exprs = this._rejects;\n  var len = exprs.length;\n  if (!len) return true;\n\n  for (var i = 0; i < len; i++) {\n    if (exprs[i].call(this, node, peek)) return false;\n  }\n  return true;\n};\n\n/**\n * Check if node is higher\n * than root.\n *\n * @param {Node} node\n * @param {Node} root\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.higher = function(node) {\n  var root = this.root;\n  if (!root) return false;\n  node = node.parentNode;\n  while (node && node != root) node = node.parentNode;\n  return node != root;\n};\n\n/**\n * Compile an expression\n *\n * @param {String|Function|Number} expr\n * @return {Function}\n */\n\nIterator.prototype.compile = function(expr) {\n  switch (typeof expr) {\n    case 'number':\n      return function(node) { return expr == node.nodeType; };\n    case 'string':\n      return new Function('node', 'return ' + componentProps(expr, 'node.'));\n    case 'function':\n      return expr;\n    default:\n      return function() { return true; };\n  }\n};\n\n/**\n * Peek in either direction\n * `n` nodes. Peek backwards\n * using negative numbers.\n *\n * @param {Number} n (optional)\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.peak =\nIterator.prototype.peek = function(expr, n) {\n  if (arguments.length == 1) n = expr, expr = true;\n  n = undefined == n ? 1 : n;\n  if (!n) return this.node;\n  else if (n > 0) return this.next(expr, n, true);\n  else return this.prev(expr, Math.abs(n), true);\n};\n\n/**\n * Add a plugin\n *\n * @param {Function} fn\n * @return {Iterator}\n * @api public\n */\n\nIterator.prototype.use = function(fn) {\n  fn(this);\n  return this;\n};\n\nvar selection = window.getSelection();\n\n\n/**\n * Add selection / insert cursor.\n *\n * @param {Range} range\n */\nfunction applyRange(range) {\n  selection.removeAllRanges();\n  selection.addRange(range);\n}\n\n\n/**\n * Get current document selection.\n *\n * @return {Selection}\n */\nfunction getWindowSelection() {\n  return selection;\n}\n\n\n/**\n * Return true if element is part of window selection.\n *\n * @param  {Element}  el\n * @return {Boolean}\n */\nfunction isSelected(el) {\n\n  if (!selection.rangeCount) {\n    return null;\n  }\n\n  var focusNode = selection.focusNode;\n\n  // IE supports Node#contains for elements only\n  // thus we ensure we check against an actual Element node\n  if (isText(focusNode)) {\n    focusNode = focusNode.parentNode;\n  }\n\n  return el == focusNode || el.contains(focusNode);\n}\n\n\n/**\n * Set cursor or selection position.\n *\n * @param {Element} el\n * @param {SelectionRange} selection\n */\nfunction setRange(el, selection) {\n\n  var range = createRange(el, selection);\n\n  applyRange(range);\n}\n\n\n/**\n * Get cursor or selection position.\n *\n * @param {Element} el\n */\nfunction getRange(el) {\n\n  if (!isSelected(el)) {\n    return null;\n  }\n\n  var range = selection.getRangeAt(0);\n\n  var startContainer = range.startContainer;\n  var endContainer = range.endContainer;\n  var startOffset = range.startOffset;\n  var endOffset = range.endOffset;\n\n  var i = domIterator(el.firstChild, el);\n\n  var next = i.node;\n  var last;\n\n  var isClosing = false;\n\n  var selectionStart;\n  var count = 0;\n\n  function isBeforeEnd(node, referenceNode) {\n\n    if (arguments.length === 1) {\n      referenceNode = node;\n    }\n\n    return (\n      node.parentNode === endContainer &&\n      referenceNode == endContainer.childNodes[endOffset]\n    );\n\n  }\n\n  function isBeforeStart(node, referenceNode) {\n\n    if (arguments.length === 1) {\n      referenceNode = node;\n    }\n\n    return (\n      node.parentNode === startContainer &&\n      referenceNode == startContainer.childNodes[startOffset]\n    );\n\n  }\n\n  while (next) {\n\n    // start before node\n    if (isBeforeStart(next)) {\n      selectionStart = count;\n    }\n\n    // end before node\n    if (isBeforeEnd(next)) {\n      break;\n    }\n\n    if (!isClosing) {\n      if (\n        isBr(next) || (\n          last && (last.nextSibling == next) && (\n            isDiv(next) ||\n            isParagraph(next)\n          )\n        )\n      ) {\n        count++;\n      }\n    }\n\n\n    if (isText(next)) {\n\n      // #text node\n      if (startContainer === next) {\n        selectionStart = count + startOffset;\n      }\n\n      if (endContainer === next) {\n        count += endOffset;\n        break;\n      }\n\n      count += next.textContent.length;\n    }\n\n    if (isText(next) || isClosing) {\n\n      // start before node\n      if (isBeforeStart(next, next.nextSibling)) {\n        selectionStart = count;\n      }\n\n      // end before node\n      if (isBeforeEnd(next, next.nextSibling)) {\n        break;\n      }\n\n    }\n\n    last = next;\n    next = i.next();\n    isClosing = i.closingTag;\n  }\n\n  // selection until end of text\n  return {\n    start: typeof selectionStart === 'undefined' ? count : selectionStart,\n    end: count\n  };\n}\n\n\n/**\n * Annotate the given text with markers based on the\n * given range.\n *\n * @param {String} text\n * @param {SelectionRange} range\n *\n * @return {String} annotated text\n */\nfunction annotateRange(text, range) {\n  var str;\n\n  if (range.start === range.end) {\n    str = (\n      text.substring(0, range.start) +\n      '|' +\n      text.substring(range.start)\n    );\n  } else {\n    str = (\n      text.substring(0, range.start) +\n      '<' +\n      text.substring(range.start, range.end) +\n      '>' +\n      text.substring(range.end)\n    );\n  }\n\n  return str;\n}\n\n\n// helpers ///////////////////////////\n\nfunction createRange(el, selection) {\n\n  var start = selection.start;\n  var end = selection.end;\n\n  var range = document.createRange();\n\n  var i = domIterator(el.firstChild, el);\n\n  var next = i.node;\n  var isClosing = false;\n\n  var count = 0;\n  var length;\n\n  while (next) {\n\n    if (count === start) {\n      if (isClosing) {\n        range.setStartAfter(next);\n      } else {\n        range.setStartBefore(next);\n      }\n    }\n\n    if (count === end) {\n      if (isClosing) {\n        range.setEndAfter(next);\n      } else {\n        range.setEndBefore(next);\n      }\n\n      return range;\n    }\n\n    if (!isClosing) {\n      if (\n        isBr(next) || (\n          next.previousSibling && (\n            isDiv(next) ||\n            isParagraph(next)\n          )\n        )\n      ) {\n        count++;\n      }\n    }\n\n    if (isText(next)) {\n\n      length = next.textContent.length;\n\n      if (count <= start && count + length > start) {\n        range.setStart(next, start - count);\n      }\n\n      if (count + length > end) {\n        range.setEnd(next, end - count);\n\n        return range;\n      }\n\n      count += length;\n    }\n\n    next = i.next();\n    isClosing = i.closingTag;\n  }\n\n  // out of range\n  if (count <= start) {\n    if (el.lastChild) {\n      range.setStartAfter(el.lastChild);\n    } else {\n      range.setStart(el, 0);\n    }\n  }\n\n  if (el.lastChild) {\n    range.setEndAfter(el.lastChild);\n  } else {\n    range.setEnd(el, 0);\n  }\n\n  return range;\n}\n\nfunction isText(node) {\n  return node.nodeType === 3;\n}\n\nfunction isBr(node) {\n  return (\n    node.nodeType === 1 &&\n    node.nodeName === 'BR'\n  );\n}\n\nfunction isDiv(node) {\n  return (\n    node.nodeType === 1 &&\n    node.nodeName === 'DIV'\n  );\n}\n\nfunction isParagraph(node) {\n  return (\n    node.nodeType === 1 &&\n    node.nodeName === 'P'\n  );\n}\n\nexport { applyRange, getWindowSelection, isSelected, setRange, getRange, annotateRange };\n","import {\n  closest,\n  matches,\n  query\n} from 'min-dom';\n\nimport cssEscape from 'css.escape';\n\nimport {\n  setRange,\n  getRange\n} from 'selection-ranges';\n\nexport const SELECTABLE_SELECTOR = '[contenteditable]';\n\nexport const ELEMENT_SELECTOR = '[data-element-id]';\n\n\nexport function getElementId(node) {\n  return node.getAttribute('data-element-id');\n}\n\nexport function getElementCoords(node) {\n  const coordsAttr = node.getAttribute('data-coords');\n\n  if (!coordsAttr) {\n    return null;\n  }\n\n  const [ row, col ] = coordsAttr.split(':');\n\n  return {\n    row,\n    col\n  };\n}\n\nexport function getNodeByCoords(elementCoords, container) {\n  const coordsAttr = `${elementCoords.row}:${elementCoords.col}`;\n\n  return query(`[data-coords=\"${ cssEscape(coordsAttr) }\"]`, container);\n}\n\nexport function getNodeById(elementId, container) {\n  return query(`[data-element-id=\"${ cssEscape(elementId) }\"]`, container);\n}\n\nexport function isUnselectableNode(node) {\n  return closest(node, '.no-deselect', true);\n}\n\n/**\n * Find semantically _selectable_ element in the nodes ancestors.\n *\n * @param {Element} node\n *\n * @return {Element} node\n */\nexport function findSelectableAncestor(node) {\n  return closest(node, ELEMENT_SELECTOR, true);\n}\n\n/**\n * Return focusable node in selectable el.\n *\n * @param  {Element} el\n *\n * @return {Element}\n */\nexport function getFocusableNode(el) {\n\n  const selector = SELECTABLE_SELECTOR;\n\n  return (\n    matches(el, selector)\n      ? el\n      : query(selector, el)\n  );\n}\n\n/**\n * Ensure element or element childNode has the proper focus.\n *\n * @param {Element} el\n */\nexport function ensureFocus(el) {\n\n  const focusEl = getFocusableNode(el);\n\n  if (!focusEl) {\n    return;\n  }\n\n  // QUIRK: otherwise range and focus related actions may\n  // yield errors in older browsers (PhantomJS / IE)\n  if (!document.body.contains(focusEl)) {\n    return;\n  }\n\n  // nothing to do, if element already has focus\n  if (document.activeElement === focusEl) {\n    return;\n  }\n\n  // (1) focus\n  focusEl.focus();\n\n  // (2) set cursor to element end\n  const range = getRange(focusEl);\n\n  if (!range || range.end === 0) {\n    setRange(focusEl, { start: 5000, end: 5000 });\n  }\n}","import {\n  ensureFocus,\n  findSelectableAncestor,\n  getElementCoords,\n  getElementId,\n  getNodeByCoords,\n  getNodeById,\n  isUnselectableNode\n} from './CellSelectionUtil';\n\nconst LOW_PRIORITY = 500;\n\nconst VALID_DIRECTIONS = {\n  above: true,\n  below: true,\n  right: true,\n  left: true\n};\n\n\n/**\n * A cell selection utlity; allows selection of elements, independent from\n * whether they are backed by a business object or not.\n *\n * Works together with the {@link SelectionAware} trait.\n *\n * @param {RenderConfig} config\n * @param {EventBus} eventBus\n * @param {Sheet} sheet\n * @param {Selection} selection\n * @param {ElementRegistry} elementRegistry\n */\nexport default function CellSelection(\n    config, eventBus, sheet,\n    selection, elementRegistry) {\n\n  const {\n    container\n  } = config;\n\n  let lastSelection = null;\n\n  function emit(elementId, newSelection) {\n\n    eventBus.fire('selection.' + elementId + '.changed', newSelection);\n\n    eventBus.fire('cellSelection.changed', {\n      elementId: elementId,\n      selection: newSelection\n    });\n\n  }\n\n  function click(event) {\n\n    const target = event.target;\n\n    if (isUnselectableNode(target)) {\n      return;\n    }\n\n    const selectableNode = findSelectableAncestor(target);\n\n    const elementId = selectableNode && getElementId(selectableNode);\n\n    const focussed = !event.defaultPrevented;\n\n    realSelect(elementId, focussed);\n  }\n\n  function focus(event) {\n    const elementId = getElementId(event.target);\n\n    const focussed = !event.defaultPrevented;\n\n    event.stopPropagation();\n\n    return realSelect(elementId, focussed);\n  }\n\n  function unfocus(event) {\n    const elementId = getElementId(event.target);\n\n    emit(elementId, {\n      focussed: false\n    });\n  }\n\n  function realSelect(elementId, focussed = true) {\n\n    if (lastSelection !== elementId) {\n      emit(lastSelection, {\n        selected: false,\n        focussed: false\n      });\n    }\n\n    lastSelection = elementId;\n\n    if (elementId) {\n      emit(elementId, {\n        selected: true,\n        focussed\n      });\n    }\n\n    if (elementId) {\n      selection.select(elementId);\n    } else {\n      selection.deselect();\n    }\n  }\n\n  eventBus.on('cell.click', LOW_PRIORITY, click);\n  eventBus.on('cell.focusin', LOW_PRIORITY, focus);\n  eventBus.on('cell.focusout', LOW_PRIORITY, unfocus);\n\n  eventBus.on('cellSelection.changed', function(event) {\n\n    const {\n      elementId,\n      selection\n    } = event;\n\n    const actualElement = getNodeById(elementId, container);\n\n    if (selection.focussed && actualElement) {\n      ensureFocus(actualElement);\n    }\n  });\n\n  eventBus.on('selection.changed', function(event) {\n\n    const {\n      selection,\n      oldSelection\n    } = event;\n\n    var elementId = selection && selection.id;\n    var oldElementId = oldSelection && oldSelection.id;\n\n    // select new element\n    if (elementId && elementId !== lastSelection) {\n      realSelect(selection.id);\n    } else\n\n    // deselect old element\n    if (oldElementId && oldElementId === lastSelection) {\n      realSelect();\n    }\n\n  });\n\n  // API //////////////////////\n\n  /**\n   * Return true if a cell is currently selected.\n   *\n   * @return {boolean}\n   */\n  this.isCellSelected = function() {\n    return !!lastSelection;\n  };\n\n  /**\n   * Get the currently active cellSelection.\n   *\n   * @return {string} selection\n   */\n  this.getCellSelection = function() {\n    return lastSelection;\n  };\n\n  /**\n   * Select next cell in given direction.\n   *\n   * Returns true on success; false on fail (i.e. if no next selection\n   * in direction could be found).\n   *\n   * @param {string} direction\n   *\n   * @return {boolean}\n   */\n  this.selectCell = function(direction) {\n\n    if (!lastSelection) {\n      return;\n    }\n\n    if (!(direction in VALID_DIRECTIONS)) {\n      throw new Error('direction must be any of { above, below, left, right }');\n    }\n\n    var selectionEl = getNodeById(lastSelection, container);\n\n    const coords = getElementCoords(selectionEl);\n\n    if (!coords) {\n      return false;\n    }\n\n    const nextCoords = getNextCoords(coords, direction);\n\n    const nextNode = getNodeByCoords(nextCoords, container);\n\n    if (!nextNode) {\n      return false;\n    }\n\n    const nextElId = getElementId(nextNode);\n\n    if (nextElId) {\n      realSelect(nextElId, {\n        focussed: true,\n        selected: true\n      });\n    }\n\n    return true;\n  };\n\n\n  eventBus.on('contextMenu.close', function() {\n\n    if (lastSelection) {\n      return realSelect(lastSelection);\n    }\n\n  });\n\n}\n\nCellSelection.$inject = [\n  'config.renderer',\n  'eventBus',\n  'sheet',\n  'selection',\n  'elementRegistry'\n];\n\n\n\n// helpers ////////////////\n\nfunction getNextCoords(coords, direction) {\n\n  const {\n    row,\n    col\n  } = coords;\n\n  if (direction === 'above' || direction === 'below') {\n\n    const rowIndex = parseInt(row, 10);\n\n    if (isNaN(rowIndex)) {\n      return coords;\n    }\n\n    const nextRowIndex = direction === 'above' ? rowIndex - 1 : rowIndex + 1;\n\n    return {\n      col,\n      row: nextRowIndex\n    };\n  }\n\n  if (direction === 'left' || direction === 'right') {\n\n    const colIndex = parseInt(col, 10);\n\n    if (isNaN(colIndex)) {\n      return coords;\n    }\n\n    const nextColIndex = direction === 'left' ? colIndex - 1 : colIndex + 1;\n\n    return {\n      row,\n      col: nextColIndex\n    };\n  }\n\n  throw new Error('invalid direction <' + direction + '>');\n}","import SelectionModule from 'table-js/lib/features/selection';\nimport InteractionEventsModule from 'table-js/lib/features/interaction-events';\n\nimport CellSelection from './CellSelection';\n\n\nexport default {\n  __depends__: [\n    InteractionEventsModule,\n    SelectionModule\n  ],\n  __init__: [\n    'cellSelection'\n  ],\n  cellSelection: [ 'type', CellSelection ]\n};","/**\n * A clip board stub\n */\nexport default function Clipboard() {}\n\n\nClipboard.prototype.get = function() {\n  return this._data;\n};\n\nClipboard.prototype.set = function(data) {\n  this._data = data;\n};\n\nClipboard.prototype.clear = function() {\n  var data = this._data;\n\n  delete this._data;\n\n  return data;\n};\n\nClipboard.prototype.isEmpty = function() {\n  return !this._data;\n};","import Clipboard from './Clipboard';\n\nexport default {\n  clipboard: [ 'type', Clipboard ]\n};\n","import {\r\n  every\r\n} from 'min-dash';\r\n\r\nimport { Row, Col } from 'table-js/lib/model';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport RuleProvider from 'diagram-js/lib/features/rules/RuleProvider';\r\n\r\nconst HIGH_PRIORITY = 2000;\r\n\r\nexport default class DecisionTableModelingRules extends RuleProvider {\r\n\r\n  constructor(eventBus, sheet) {\r\n    super(eventBus);\r\n\r\n    this._sheet = sheet;\r\n  }\r\n\r\n  init() {\r\n    this.addRule('col.move', HIGH_PRIORITY, ({ col, index }) => {\r\n      const { businessObject } = this._sheet.getRoot(),\r\n            { input } = businessObject;\r\n\r\n      if (isInput(col)) {\r\n        return index < input.length;\r\n      } else {\r\n        return index >= input.length;\r\n      }\r\n    });\r\n\r\n    this.addRule('col.remove', HIGH_PRIORITY, ({ col }) => {\r\n      const { cols } = this._sheet.getRoot();\r\n\r\n      if (isOutput(col)) {\r\n        return cols.filter(c => isOutput(c)).length > 1;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    // a rule that is aware of the data structure coming from copy and paste\r\n    this.addRule('paste', HIGH_PRIORITY, ({ data, target }) => {\r\n      if (!data || !target) {\r\n        return false;\r\n      }\r\n\r\n      const { root } = data;\r\n\r\n      if (target instanceof Row) {\r\n        return this.canPasteRows(root);\r\n      }\r\n\r\n      if (target instanceof Col) {\r\n        return this.canPasteCols(root, target);\r\n      }\r\n\r\n      return false;\r\n    });\r\n  }\r\n\r\n  canPasteRows(root) {\r\n    const { cols } = this._sheet.getRoot();\r\n\r\n    return every(root, descriptor => {\r\n      if (descriptor.type !== 'row') {\r\n        return false;\r\n      }\r\n\r\n      if (descriptor.cells.length !== cols.length) {\r\n        return false;\r\n      }\r\n\r\n      return every(descriptor.cells, (cellDescriptor, index) => {\r\n        if (isInput(cols[index])) {\r\n          return cellDescriptor.businessObject.$type === 'dmn:UnaryTests';\r\n        } else {\r\n          return cellDescriptor.businessObject.$type === 'dmn:LiteralExpression';\r\n        }\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  canPasteCols(root, targetCol) {\r\n    const { rows } = this._sheet.getRoot();\r\n\r\n    return every(root, descriptor => {\r\n      if (descriptor.type !== 'col') {\r\n        return false;\r\n      }\r\n\r\n      if (descriptor.cells.length !== rows.length) {\r\n        return false;\r\n      }\r\n\r\n      if (isInput(targetCol)) {\r\n        return descriptor.businessObject.$type === 'dmn:InputClause';\r\n      } else {\r\n        return descriptor.businessObject.$type === 'dmn:OutputClause';\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nDecisionTableModelingRules.$inject = [ 'eventBus', 'sheet' ];","import { Row, Col } from 'table-js/lib/model';\r\n\r\n/**\r\n * A handler that implements cutting a row or col.\r\n * Cutting of cells doesn't make sense.\r\n */\r\nexport default class CutHandler {\r\n\r\n  constructor(clipboard, modeling, sheet) {\r\n    this._clipboard = clipboard;\r\n    this._modeling = modeling;\r\n    this._sheet = sheet;\r\n  }\r\n\r\n\r\n  /**\r\n   * <do>\r\n   */\r\n  execute(context) {\r\n    let {\r\n      data\r\n    } = context;\r\n\r\n    context.oldData = this._clipboard.get();\r\n\r\n    this._clipboard.set(data);\r\n\r\n    return this._sheet.getRoot();\r\n  }\r\n\r\n  postExecute(context) {\r\n    let {\r\n      elements\r\n    } = context;\r\n\r\n    elements.forEach(element => {\r\n      if (element instanceof Row) {\r\n        this._modeling.removeRow(element);\r\n      } else if (element instanceof Col) {\r\n        this._modeling.removeCol(element);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * <undo>\r\n   */\r\n  revert(context) {\r\n\r\n    const {\r\n      oldData\r\n    } = context;\r\n\r\n    this._clipboard.set(oldData);\r\n\r\n    return this._sheet.getRoot();\r\n  }\r\n\r\n}\r\n\r\nCutHandler.$inject = [ 'clipboard', 'modeling', 'sheet' ];","import {\n  isArray,\n  forEach,\n  keys,\n  reduce\n} from 'min-dash';\n\n// creating descriptors //////////\n\nconst createHooks = [\n  copyTableProperties,\n  copyBusinessObjectProperties\n];\n\nconst reviveHooks = [\n  reviveBusinessObject,\n  reviveTableElement\n];\n\n/**\n * Return a serializable snapshot of the given elements.\n *\n * @param {Array<Base>} elements list of table elements\n *\n * @return {Tree} descriptor tree\n */\nexport function createDescriptor(element, cache, hooks) {\n\n  hooks = hooks || createHooks;\n  cache = cache || {};\n\n  if (isArray(element)) {\n    return createDescriptors0(element, cache, hooks);\n  } else {\n    return createDescriptor0(element, cache, hooks);\n  }\n\n}\n\n\n/**\n * Create descriptors of elements, returning { descriptors: [], descriptorCache }.\n *\n * @param {Array<Base>} elements list of table elements\n * @param {Object} cache the create cache\n *\n * @return {Object} new descriptors + updated cache\n */\nfunction createDescriptors0(elements, cache, hooks) {\n\n  return reduce(elements, (result, element) => {\n\n    var currentCache = result.descriptorCache,\n        currentDescriptors = result.root;\n\n    let {\n      root,\n      descriptorCache\n    } = createDescriptor0(element, currentCache, hooks);\n\n    return {\n      root: [\n        ...currentDescriptors,\n        root\n      ],\n      descriptorCache: {\n        ...currentCache,\n        ...descriptorCache\n      }\n    };\n  }, {\n    root: [],\n    descriptorCache: cache\n  });\n}\n\nfunction createDescriptor0(element, cache, hooks) {\n\n  var id = element.id;\n\n  var descriptor = {\n    id: id\n  };\n\n  var elements = cache.elements || {};\n\n  var existingDescriptor = elements[id];\n\n  // element already created; nothing to do\n  if (existingDescriptor) {\n    return {\n      root: existingDescriptor,\n      descriptorCache: cache\n    };\n  }\n\n  // we're new; need to initialize element via hooks\n  // we assume we're not handling recursive data structures\n  // here. Otherwise we'd need to pre-populate the cache\n  // with the given element\n  let element0 = evaluateHooks(element, descriptor, hooks, {\n    ...cache,\n    elements\n  });\n\n  return {\n    root: element0.root,\n    descriptorCache: {\n      ...element0.descriptorCache,\n      elements: {\n        ...element0.descriptorCache.elements,\n        [id]: element0.root\n      }\n    }\n  };\n}\n\n\nfunction evaluateHooks(element, descriptor, hooks, cache) {\n\n  function create(element, descriptorCache) {\n    return createDescriptor(element, descriptorCache, hooks);\n  }\n\n  return reduce(hooks, function(result, hook) {\n    return hook(\n      element,\n      result.root,\n      result.descriptorCache,\n      create\n    );\n  }, {\n    root: descriptor,\n    descriptorCache: cache\n  });\n}\n\n\nimport {\n  Row,\n  Col,\n  Cell\n} from 'table-js/lib/model';\n\n\nfunction copyTableProperties(element, descriptor, cache, create) {\n\n  var descriptorCache = cache;\n\n  var newDesc = {\n    ...descriptor,\n    type: getType(element)\n  };\n\n  if (\n    element instanceof Row ||\n    element instanceof Col\n  ) {\n    let cells0 = create(element.cells, descriptorCache);\n\n    newDesc.cells = cells0.root;\n    descriptorCache = cells0.descriptorCache;\n  }\n\n  return {\n    root: newDesc,\n    descriptorCache\n  };\n}\n\n\nfunction copyBusinessObjectProperties(element, descriptor, cache) {\n\n  var businessObject = element.businessObject;\n\n  if (!businessObject) {\n    return {\n      root: descriptor,\n      descriptorCache: cache\n    };\n  }\n\n  // need to clone businessObject\n  var bo0 = createBoDescriptor(businessObject, cache);\n\n  return {\n    root: {\n      ...descriptor,\n      businessObject: bo0.root\n    },\n    descriptorCache: bo0.descriptorCache\n  };\n}\n\n\nfunction getType(element) {\n\n  if (element instanceof Row) {\n    return 'row';\n  }\n\n  if (element instanceof Col) {\n    return 'col';\n  }\n\n  if (element instanceof Cell) {\n    return 'cell';\n  }\n\n  throw new Error('cannot deduce element type: #' + element.id);\n}\n\n\nfunction createBoDescriptor(bo, cache) {\n  var boCache,\n      existingBoDesc;\n\n  var id = bo.id;\n\n  if (id) {\n    boCache = cache.boCache || {};\n\n    existingBoDesc = boCache[id];\n\n    // businessObject already created; nothing to do\n    if (existingBoDesc) {\n      return {\n        root: existingBoDesc,\n        descriptorCache: cache\n      };\n    }\n  }\n\n  var descriptor = {\n    $type: bo.$type\n  };\n\n  if (id) {\n    descriptor.id = id;\n\n    boCache = {\n      ...boCache,\n      [id]: descriptor\n    };\n\n    cache = {\n      ...cache,\n      boCache\n    };\n  }\n\n  // TODO(nikku): distinguish relations and containment\n  // Need to build up the whole tree and revive relations afterwards\n\n  // ITERATE OVER ALL SET PROPERTIES\n  // (Object.keys(bo) or via bo.$descriptor....)\n\n  bo.$descriptor.properties.forEach(function(property) {\n    var value = bo[property.name];\n\n    // const propertyDescriptor = bo.$model.getPropertyDescriptor(bo, property.name),\n    //       isId = propertyDescriptor.isId,\n    //       isReference = propertyDescriptor.isReference;\n\n    // not set\n    if (!value) {\n      return;\n    }\n\n    // arrays of moddle elements\n    if (isArray(value)) {\n      value = value.map(b => {\n        var value0 = createBoDescriptor(b, cache);\n\n        cache = value0.descriptorCache;\n\n        return value0.root;\n      });\n    }\n\n    // moddle elements\n    if (value.$type) {\n      let value0 = createBoDescriptor(value, cache);\n\n      cache = value0.descriptorCache;\n      value = value0.root;\n    }\n\n    // other values\n    descriptor[property.name] = value;\n  });\n\n  return {\n    root: descriptor,\n    descriptorCache: cache\n  };\n}\n\n\n\n// reviving //////////\n\nexport function reviveDescriptor(entry, reviveCache, hooks) {\n\n  hooks = hooks || reviveHooks;\n  reviveCache = reviveCache || {};\n\n  if (isArray(entry.root)) {\n    return reviveDescriptors0(entry, reviveCache, hooks);\n  } else {\n    return reviveDescriptor0(entry, reviveCache, hooks);\n  }\n}\n\n\n/**\n * TBD: document this!\n *\n * @param  {[type]} entry       [description]\n * @param  {[type]} reviveCache [description]\n * @param  {[type]} hooks       [description]\n * @return {[type]}             [description]\n */\nfunction reviveDescriptors0(entry, reviveCache, hooks) {\n\n  let descriptors = entry.root;\n  let descriptorCache = entry.descriptorCache;\n\n  return reduce(descriptors, (result, element) => {\n\n    var currentCache = result.reviveCache,\n        currentDescriptors = result.root;\n\n    let {\n      root,\n      reviveCache\n    } = reviveDescriptor0({ root: element, descriptorCache }, currentCache, hooks);\n\n    return {\n      root: [\n        ...currentDescriptors,\n        root\n      ],\n      reviveCache\n    };\n  }, {\n    root: [],\n    reviveCache\n  });\n}\n\n/**\n * TBD: document this!\n *\n * @param  {[type]} entry [description]\n * @param  {[type]} cache [description]\n * @param  {[type]} hooks [description]\n * @return {[type]}       [description]\n */\nfunction reviveDescriptor0(entry, reviveCache, hooks) {\n\n  var descriptor = entry.root;\n\n  var id = descriptor.id;\n\n  var elements = reviveCache.elements || {};\n\n  var existingElement = elements[id];\n\n  // element already created; nothing to do\n  if (existingElement) {\n    return {\n      root: existingElement,\n      reviveCache: reviveCache\n    };\n  }\n\n  // start with a fake element; haha <3\n  var element = {\n    id: id\n  };\n\n  // we're new; need to initialize element via hooks\n  let element0 = evaluateReviveHooks(entry, element, hooks, {\n    ...reviveCache,\n    elements\n  });\n\n  return {\n    root: element0.root,\n    reviveCache: {\n      ...element0.reviveCache,\n      elements: {\n        ...element0.reviveCache.elements,\n        [id]: element0.root\n      }\n    }\n  };\n}\n\n// entry = { root, descriptorCache }\n// element = { id: foo }\n// hooks = [ ... ]\n// reviveCache = { ... }\nfunction evaluateReviveHooks(entry, element, hooks, reviveCache) {\n\n  function revive(entry, reviveCache) {\n    return reviveDescriptor(entry, reviveCache, hooks);\n  }\n\n  return reduce(hooks, function(result, hook) {\n    return hook(\n      entry,\n      result.root,\n      result.reviveCache,\n      revive\n    );\n  }, {\n    root: element,\n    reviveCache: reviveCache\n  });\n}\n\n\nfunction reviveTableElement(entry, element, reviveCache, revive) {\n  var descriptor = entry.root;\n  var createCache = entry.descriptorCache;\n\n  var elementAttrs = {\n    ...element\n  };\n\n  // make sure table element ID is same as moddle element ID\n  if (element.businessObject && element.businessObject.id) {\n    elementAttrs.id = element.businessObject.id;\n  }\n\n  if (\n    descriptor.type === 'row' ||\n    descriptor.type === 'col'\n  ) {\n    let cells0 = revive({\n      root: descriptor.cells,\n      descriptorCache: createCache\n    }, reviveCache);\n\n    elementAttrs.cells = cells0.root;\n    reviveCache = cells0.reviveCache;\n  }\n\n  var Constructor = getConstructor(descriptor);\n\n  var newElement = new Constructor(elementAttrs);\n\n  // set parent row or col\n  if (newElement instanceof Row) {\n    newElement.cells.forEach(cell => {\n      cell.row = newElement;\n    });\n  } else if (newElement instanceof Col) {\n    newElement.cells.forEach(cell => {\n      cell.col = newElement;\n    });\n  }\n\n  return {\n    root: newElement,\n    reviveCache\n  };\n}\n\n\nfunction reviveBusinessObject(entry, element, reviveCache) {\n  var businessObject = entry.root.businessObject;\n\n  if (!businessObject) {\n    return {\n      root: element,\n      reviveCache\n    };\n  }\n\n  // need to clone businessObject\n  var bo0 = createBo({\n    root: businessObject,\n    descriptorCache: entry.descriptorCache\n  }, reviveCache);\n\n  return {\n    root: {\n      ...element,\n      businessObject: bo0.root\n    },\n    reviveCache: bo0.reviveCache\n  };\n}\n\n\nfunction getConstructor(descriptor) {\n\n  switch (descriptor.type) {\n  case 'row':\n    return Row;\n  case 'cell':\n    return Cell;\n  case 'col':\n    return Col;\n  default:\n    throw new Error('unknown element type: #' + descriptor.type);\n  }\n}\n\n\nfunction createBo(entry, reviveCache) {\n  var boDescriptor = entry.root;\n\n  var id = boDescriptor.id;\n\n  let boCache,\n      existingBo;\n\n  if (id) {\n    boCache = reviveCache.boCache || {};\n\n    existingBo = boCache[id];\n\n    // businessObject already created; nothing to do\n    if (existingBo) {\n      return {\n        root: existingBo,\n        reviveCache\n      };\n    }\n  }\n\n  var newBoAttrs = {};\n\n  // set attrs for new business object (might include creating other business objects)\n  keys(boDescriptor).forEach(key => {\n    let val,\n        val0;\n\n    if (boDescriptor[key].$type) {\n      val0 = createBo({\n        root: boDescriptor[key]\n      }, reviveCache);\n\n      val = val0.root;\n\n      reviveCache = val0.reviveCache;\n      boCache = reviveCache.boCache || {};\n    } else if (isArray(boDescriptor[key])) {\n      val = boDescriptor[key].map(b => {\n        val0 = createBo({\n          root: b\n        }, reviveCache);\n\n        reviveCache = val0.reviveCache;\n        boCache = reviveCache.boCache || {};\n\n        return val0.root;\n      });\n    } else {\n      val = boDescriptor[key];\n    }\n\n    newBoAttrs[key] = val;\n  });\n\n  const type = newBoAttrs.$type;\n\n  delete newBoAttrs.$type;\n\n  // generate new ID if not supposed to be kept or already assigned\n  if (!reviveCache._keepIds\n    || reviveCache._model.ids.assigned(newBoAttrs.id)) {\n\n    delete newBoAttrs.id;\n  }\n\n  var newBo = reviveCache._dmnFactory.create(type, newBoAttrs);\n\n  // set up $parent relationships for moddle elements\n  forEach(newBoAttrs, newBoAttr => {\n    if (newBoAttr.$type) {\n      newBoAttr.$parent = newBo;\n    }\n\n    if (isArray(newBoAttr)) {\n      newBoAttr.forEach(a => a.$parent = newBo);\n    }\n  });\n\n  if (id) {\n    boCache = {\n      ...boCache,\n      [id]: newBo\n    };\n\n    reviveCache = {\n      ...reviveCache,\n      boCache\n    };\n  }\n\n  return {\n    root: newBo,\n    reviveCache\n  };\n\n}","import { Row, Col } from 'table-js/lib/model';\r\n\r\nimport { reviveDescriptor } from '../DescriptorUtil';\r\n\r\n/**\r\n * A handler that implements pasting elements.\r\n */\r\nexport default class PasteHandler {\r\n\r\n  constructor(\r\n      clipboard,\r\n      dmnFactory,\r\n      elementFactory,\r\n      elementRegistry,\r\n      eventBus,\r\n      moddle,\r\n      modeling,\r\n      sheet\r\n  ) {\r\n    this._clipboard = clipboard;\r\n    this._dmnFactory = dmnFactory;\r\n    this._elementFactory = elementFactory;\r\n    this._elementRegistry = elementRegistry;\r\n    this._eventBus = eventBus;\r\n    this._model = moddle;\r\n    this._modeling = modeling;\r\n    this._sheet = sheet;\r\n  }\r\n\r\n\r\n  /**\r\n   * <do>\r\n   */\r\n  postExecute(context) {\r\n    let {\r\n      element,\r\n      after\r\n    } = context;\r\n\r\n    const data = this._clipboard.get();\r\n\r\n    if (!data) {\r\n      throw new Error('missing clipboard data');\r\n    }\r\n\r\n    const root = this._sheet.getRoot();\r\n\r\n    // (1) create elements from descriptors\r\n    const elements = reviveDescriptor(data.elements, {\r\n      _dmnFactory: this._dmnFactory,\r\n      _keepIds: data.keepIds,\r\n      _model: this._model\r\n    }).root;\r\n\r\n    // (2) add elements to sheet\r\n    if (element instanceof Row) {\r\n\r\n      let index = root.rows.indexOf(element);\r\n\r\n      if (index === -1) {\r\n        return;\r\n      }\r\n\r\n      elements.forEach(element => {\r\n        if (after) {\r\n          index++;\r\n        }\r\n\r\n        this._modeling.addRow(element, index);\r\n      });\r\n\r\n    } else if (element instanceof Col) {\r\n\r\n      let index = root.cols.indexOf(element);\r\n\r\n      if (index === -1) {\r\n        return;\r\n      }\r\n\r\n      elements.forEach(element => {\r\n        if (after) {\r\n          index++;\r\n        }\r\n\r\n        this._modeling.addCol(element, index);\r\n      });\r\n\r\n    }\r\n\r\n    context.oldElements = this._clipboard.get();\r\n\r\n    return this._sheet.getRoot();\r\n  }\r\n\r\n  /**\r\n   * <undo>\r\n   */\r\n  revert(context) {\r\n\r\n  }\r\n\r\n}\r\n\r\nPasteHandler.$inject = [\r\n  'clipboard',\r\n  'dmnFactory',\r\n  'elementFactory',\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'moddle',\r\n  'modeling',\r\n  'sheet'\r\n];","import { isArray } from 'min-dash';\r\n\r\nimport CutHandler from './cmd/CutHandler';\r\nimport PasteHandler from './cmd/PasteHandler';\r\n\r\nimport { createDescriptor } from './DescriptorUtil';\r\n\r\n\r\nexport default class CutPaste {\r\n\r\n  constructor(\r\n      clipboard, commandStack, eventBus,\r\n      modeling, sheet, rules) {\r\n\r\n    this._clipboard = clipboard;\r\n    this._commandStack = commandStack;\r\n    this._eventBus = eventBus;\r\n    this._modeling = modeling;\r\n    this._sheet = sheet;\r\n    this._rules = rules;\r\n\r\n    commandStack.registerHandler('cut', CutHandler);\r\n    commandStack.registerHandler('paste', PasteHandler);\r\n  }\r\n\r\n  /**\r\n   * Copy elements.\r\n   *\r\n   * @param {Array} elements - Elements to be copied.\r\n   */\r\n  copy(elements) {\r\n    if (!isArray(elements)) {\r\n      elements = [ elements ];\r\n    }\r\n\r\n    const data = {\r\n      elements: createDescriptor(elements)\r\n    };\r\n\r\n    this._eventBus.fire('copyCutPaste.copy', { data });\r\n\r\n    this._clipboard.set(data);\r\n  }\r\n\r\n  /**\r\n   * Cut elements thereby removing them temporarily.\r\n   *\r\n   * @param {Array} elements - Elements to be cut.\r\n   */\r\n  cut(elements) {\r\n    if (!isArray(elements)) {\r\n      elements = [ elements ];\r\n    }\r\n\r\n    const data = {\r\n      elements: createDescriptor(elements),\r\n      keepIds: true\r\n    };\r\n\r\n    const context = {\r\n      elements,\r\n      data\r\n    };\r\n\r\n    this._eventBus.fire('copyCutPaste.cut', { data });\r\n\r\n    this._commandStack.execute('cut', context);\r\n  }\r\n\r\n  /**\r\n   * Paste rows or cols before row or col.\r\n   *\r\n   * @param {Row|Col} element - Row or col to paste elements before.\r\n   */\r\n  pasteBefore(element) {\r\n    return this._paste(element, { before: true });\r\n  }\r\n\r\n  /**\r\n   * Paste rows or cols after row or col.\r\n   *\r\n   * @param {Row|Col} element - Row or col to paste elements after.\r\n   */\r\n  pasteAfter(element) {\r\n    return this._paste(element, { after: true });\r\n  }\r\n\r\n  /**\r\n   * Basic paste onto given target element.\r\n   */\r\n  _paste(target, position) {\r\n\r\n    const clipboardData = this._clipboard.get();\r\n\r\n    if (!clipboardData) {\r\n      return undefined;\r\n    }\r\n\r\n    const allowed = this._rules.allowed('paste', {\r\n      data: clipboardData.elements,\r\n      target\r\n    });\r\n\r\n    if (!allowed) {\r\n      return false;\r\n    }\r\n\r\n    this._commandStack.execute('paste', {\r\n      element: target,\r\n      ...position\r\n    });\r\n\r\n    // @bpmn-io: Clear clipboard to work around\r\n    // https://github.com/camunda/camunda-modeler/issues/1246 which breaks native copy &\r\n    // paste when row or column is copied or cut\r\n    this._clipboard.clear();\r\n\r\n    // Return true to stop propagation and prevent native paste\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Paste elements at.\r\n   */\r\n  pasteAt(element) {\r\n\r\n    // TODO: implement for pasting cells\r\n  }\r\n}\r\n\r\nCutPaste.$inject = [\r\n  'clipboard',\r\n  'commandStack',\r\n  'eventBus',\r\n  'modeling',\r\n  'sheet',\r\n  'rules'\r\n];\r\n","import ClipboardModule from 'diagram-js/lib/features/clipboard';\r\nimport RulesModule from '../rules';\r\n\r\nimport CopyCutPaste from './CopyCutPaste';\r\n\r\nexport default {\r\n  __depends__: [\r\n    ClipboardModule,\r\n    RulesModule\r\n  ],\r\n  __init__: [\r\n    'copyCutPaste'\r\n  ],\r\n  copyCutPaste: [ 'type', CopyCutPaste ]\r\n};","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nexport default class DecisionTableEditorActions {\n\n  constructor(copyCutPaste, editorActions, modeling, selection, cellSelection, sheet) {\n    const actions = {\n      addRule() {\n        return modeling.addRow({ type: 'dmn:DecisionRule' });\n      },\n      addRuleAbove(context) {\n        let rule = context && context.rule;\n\n        if (!rule && !selection.hasSelection()) {\n          return;\n        }\n\n        rule = rule || selection.get().row;\n\n        const root = sheet.getRoot(),\n              index = root.rows.indexOf(rule);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addRow({ type: 'dmn:DecisionRule' }, index);\n      },\n      addRuleBelow(context) {\n        let rule = context && context.rule;\n\n        if (!rule && !selection.hasSelection()) {\n          return;\n        }\n\n        rule = rule || selection.get().row;\n\n        const root = sheet.getRoot(),\n              index = root.rows.indexOf(rule);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addRow({ type: 'dmn:DecisionRule' }, index + 1);\n      },\n      removeRule(context) {\n        let rule = context && context.rule;\n\n        if (!rule && !selection.hasSelection()) {\n          return;\n        }\n\n        rule = rule || selection.get().row;\n\n        modeling.removeRow(rule);\n      },\n      addInput() {\n        const root = sheet.getRoot(),\n              businessObject = root.businessObject;\n\n        const { input } = businessObject;\n\n        return modeling.addCol({\n          type: 'dmn:InputClause'\n        }, input ? input.length : 0);\n      },\n      addInputLeft(context) {\n        let input = context && context.input;\n\n        if (!input && !selection.hasSelection()) {\n          return;\n        }\n\n        input = input || selection.get().col;\n\n        const root = sheet.getRoot(),\n              index = root.cols.indexOf(input);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addCol({ type: 'dmn:InputClause' }, index);\n      },\n      addInputRight(context) {\n        let input = context && context.input;\n\n        if (!input && !selection.hasSelection()) {\n          return;\n        }\n\n        input = input || selection.get().col;\n\n        const root = sheet.getRoot(),\n              index = root.cols.indexOf(input);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addCol({ type: 'dmn:InputClause' }, index + 1);\n      },\n      removeInput(context) {\n        let input = context && context.input;\n\n        if (!input && !selection.hasSelection()) {\n          return;\n        }\n\n        input = input || selection.get().col;\n\n        modeling.removeCol(input);\n      },\n      addOutput() {\n        const root = sheet.getRoot(),\n              businessObject = root.businessObject;\n\n        const { input, output } = businessObject;\n\n        return modeling.addCol(\n          { type: 'dmn:OutputClause' },\n          input.length + output.length\n        );\n      },\n      addOutputLeft(context) {\n        let output = context && context.output;\n\n        if (!output && !selection.hasSelection()) {\n          return;\n        }\n\n        output = output || selection.get().col;\n\n        const root = sheet.getRoot(),\n              index = root.cols.indexOf(output);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addCol({ type: 'dmn:OutputClause' }, index);\n      },\n      addOutputRight(context) {\n        let output = context && context.output;\n\n        if (!output && !selection.hasSelection()) {\n          return;\n        }\n\n        output = output || selection.get().col;\n\n        const root = sheet.getRoot(),\n              index = root.cols.indexOf(output);\n\n        if (index === -1) {\n          return;\n        }\n\n        return modeling.addCol({ type: 'dmn:OutputClause' }, index + 1);\n      },\n      removeOutput(context) {\n        let output = context && context.output;\n\n        if (!output && !selection.hasSelection()) {\n          return;\n        }\n\n        output = output || selection.get().col;\n\n        modeling.removeCol(output);\n      },\n      addClause() {\n        if (!selection.hasSelection()) {\n          return;\n        }\n\n        const clause = selection.get().col;\n\n        if (is(clause, 'dmn:InputClause')) {\n          return actions.addInput({ input: clause });\n        } else if (is(clause, 'dmn:OutputClause')) {\n          return actions.addOutput({ output: clause });\n        }\n      },\n      addClauseLeft() {\n        if (!selection.hasSelection()) {\n          return;\n        }\n\n        const clause = selection.get().col;\n\n        if (is(clause, 'dmn:InputClause')) {\n          return actions.addInputLeft({ input: clause });\n        } else if (is(clause, 'dmn:OutputClause')) {\n          return actions.addOutputLeft({ output: clause });\n        }\n      },\n      addClauseRight() {\n        if (!selection.hasSelection()) {\n          return;\n        }\n\n        const clause = selection.get().col;\n\n        if (is(clause, 'dmn:InputClause')) {\n          return actions.addInputRight({ input: clause });\n        } else if (is(clause, 'dmn:OutputClause')) {\n          return actions.addOutputRight({ output: clause });\n        }\n      },\n      removeClause() {\n        if (!selection.hasSelection()) {\n          return;\n        }\n\n        const clause = selection.get().col;\n\n        if (is(clause, 'dmn:InputClause')) {\n          return actions.removeInput({ input: clause });\n        } else if (is(clause, 'dmn:OutputClause')) {\n          return actions.removeOutput({ output: clause });\n        }\n      },\n      selectCellAbove() {\n        return cellSelection.selectCell('above');\n      },\n      selectCellBelow() {\n        return cellSelection.selectCell('below');\n      },\n      copy({ element }) {\n        copyCutPaste.copy(element);\n      },\n      cut({ element }) {\n        copyCutPaste.cut(element);\n      },\n      pasteBefore({ element }) {\n        return copyCutPaste.pasteBefore(element);\n      },\n      pasteAfter({ element }) {\n        return copyCutPaste.pasteAfter(element);\n      }\n    };\n\n    editorActions.register(actions);\n  }\n}\n\nDecisionTableEditorActions.$inject = [\n  'copyCutPaste',\n  'editorActions',\n  'modeling',\n  'selection',\n  'cellSelection',\n  'sheet'\n];","import { forEach } from 'min-dash';\n\nconst NOT_REGISTERED_ERROR = 'is not a registered action',\n      IS_REGISTERED_ERROR = 'is already registered';\n\n\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with registerAction and likewise\n * unregister existing ones with unregisterAction.\n *\n */\nexport default class EditorActions {\n  constructor(commandStack, eventBus, modeling, selection) {\n\n    this._actions = {\n      undo() {\n        commandStack.undo();\n      },\n      redo() {\n        commandStack.redo();\n      },\n      select({ cell }) {\n        selection.select(cell);\n      },\n      deselect() {\n        selection.deselect();\n      },\n      addRow({ attrs, index }) {\n        modeling.addRow(attrs, index);\n      },\n      removeRow({ row }) {\n        modeling.removeRow(row);\n      },\n      moveRow({ row, index }) {\n        modeling.moveRow(row, index);\n      },\n      addCol({ attrs, index }) {\n        modeling.addCol(attrs, index);\n      },\n      removeCol({ col }) {\n        modeling.removeCol(col);\n      },\n      moveCol({ col, index }) {\n        modeling.moveCol(col, index);\n      }\n    };\n  }\n\n  /**\n   * Triggers a registered action\n   *\n   * @param  {String} action\n   * @param  {Object} opts\n   *\n   * @return {Unknown} Returns what the registered listener returns\n   */\n  trigger(action, opts) {\n    if (!this._actions[action]) {\n      throw error(action, NOT_REGISTERED_ERROR);\n    }\n\n    return this._actions[action](opts);\n  }\n\n  /**\n   * Registers a collections of actions.\n   * The key of the object will be the name of the action.\n   *\n   * @param  {Object} actions\n   */\n  register(actions, listener) {\n    if (typeof actions === 'string') {\n      return this._registerAction(actions, listener);\n    }\n\n    forEach(actions, (listener, action) => {\n      this._registerAction(action, listener);\n    }, this);\n  }\n\n  /**\n   * Registers a listener to an action key\n   *\n   * @param  {String} action\n   * @param  {Function} listener\n   */\n  _registerAction(action, listener) {\n    if (this.isRegistered(action)) {\n      throw error(action, IS_REGISTERED_ERROR);\n    }\n\n    this._actions[action] = listener;\n  }\n\n  /**\n   * Unregister an existing action\n   *\n   * @param {String} action\n   */\n  unregister(action) {\n    if (!this.isRegistered(action)) {\n      throw error(action, NOT_REGISTERED_ERROR);\n    }\n\n    this._actions[action] = undefined;\n  }\n\n\n  /**\n   * Checks wether the given action is registered\n   *\n   * @param {String} action\n   *\n   * @return {Boolean}\n   */\n  isRegistered(action) {\n    return !!this._actions[action];\n  }\n}\n\nEditorActions.$inject = [\n  'commandStack',\n  'eventBus',\n  'modeling',\n  'selection'\n];\n\n// helpers /////////////\n\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}","import AddRule from './AddRule';\nimport EditorActions from '../editor-actions';\n\nexport default {\n  __depends__: [ EditorActions ],\n  __init__: [ 'addRule' ],\n  addRule: [ 'type', AddRule ]\n};","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","'use strict';\n\n/**\n * Calculate the selection update for the given\n * current and new input values.\n *\n * @param {Object} currentSelection as {start, end}\n * @param {String} currentValue\n * @param {String} newValue\n *\n * @return {Object} newSelection as {start, end}\n */\nfunction calculateUpdate(currentSelection, currentValue, newValue) {\n\n  var currentCursor = currentSelection.start,\n      newCursor = currentCursor,\n      diff = newValue.length - currentValue.length,\n      idx;\n\n  var lengthDelta = newValue.length - currentValue.length;\n\n  var currentTail = currentValue.substring(currentCursor);\n\n  // check if we can remove common ending from the equation\n  // to be able to properly detect a selection change for\n  // the following scenarios:\n  //\n  //  * (AAATTT|TF) => (AAAT|TF)\n  //  * (AAAT|TF) =>  (AAATTT|TF)\n  //\n  if (newValue.lastIndexOf(currentTail) === newValue.length - currentTail.length) {\n    currentValue = currentValue.substring(0, currentValue.length - currentTail.length);\n    newValue = newValue.substring(0, newValue.length - currentTail.length);\n  }\n\n  // diff\n  var diff = createDiff(currentValue, newValue);\n\n  if (diff) {\n    if (diff.type === 'remove') {\n      newCursor = diff.newStart;\n    } else {\n      newCursor = diff.newEnd;\n    }\n  }\n\n  return range(newCursor);\n}\n\nmodule.exports = calculateUpdate;\n\n\nfunction createDiff(currentValue, newValue) {\n\n  var insert;\n\n  var l_str, l_char, l_idx = 0,\n      s_str, s_char, s_idx = 0;\n\n  if (newValue.length > currentValue.length) {\n    l_str = newValue;\n    s_str = currentValue;\n  } else {\n    l_str = currentValue;\n    s_str = newValue;\n  }\n\n  // assume there will be only one insert / remove and\n  // detect that _first_ edit operation only\n  while (l_idx < l_str.length) {\n\n    l_char = l_str.charAt(l_idx);\n    s_char = s_str.charAt(s_idx);\n\n    // chars no not equal\n    if (l_char !== s_char) {\n\n      if (!insert) {\n        insert = {\n          l_start: l_idx,\n          s_start: s_idx\n        };\n      }\n\n      l_idx++;\n    }\n\n    // chars equal (again?)\n    else {\n\n      if (insert && !insert.complete) {\n        insert.l_end = l_idx;\n        insert.s_end = s_idx;\n        insert.complete = true;\n      }\n\n      s_idx++;\n      l_idx++;\n    }\n  }\n\n  if (insert && !insert.complete) {\n    insert.complete = true;\n    insert.s_end = s_str.length;\n    insert.l_end = l_str.length;\n  }\n\n  // no diff\n  if (!insert) {\n    return;\n  }\n\n  if (newValue.length > currentValue.length) {\n    return {\n      newStart: insert.l_start,\n      newEnd: insert.l_end,\n      type: 'add'\n    };\n  } else {\n    return {\n      newStart: insert.s_start,\n      newEnd: insert.s_end,\n      type: newValue.length < currentValue.length ? 'remove' : 'replace'\n    };\n  }\n}\n\n/**\n * Utility method for creating a new selection range {start, end} object.\n *\n * @param {Number} start\n * @param {Number} [end]\n *\n * @return {Object} selection range as {start, end}\n */\nfunction range(start, end) {\n  return {\n    start: start,\n    end: end === undefined ? start : end\n  };\n}\n\nmodule.exports.range = range;\n\n\nfunction splitStr(str, position) {\n  return {\n    before: str.substring(0, position),\n    after: str.substring(position)\n  };\n}","import { Component } from 'inferno';\n\nimport escapeHtml from 'escape-html';\n\nimport {\n  getRange,\n  setRange,\n  applyRange,\n  getWindowSelection\n} from 'selection-ranges';\n\nimport selectionUpdate from 'selection-update';\n\n\n/**\n * A content ediable that performs proper selection updates on\n * editable changes. It normalizes editor operations by allowing\n * only <br/> and plain text to be inserted.\n *\n * The callback `onInput(text)` recieves text (including line breaks)\n * only. Updating the value via props will update the selection\n * if needed, too.\n *\n * @example\n *\n * class SomeComponent extends Component {\n *\n *   render() {\n *     return (\n *       <ContentEditable\n *         className=\"some classes\"\n *         value={ this.state.text }\n *         onInput={ this.handleInput }\n *         onFocus={ ... }\n *         onBlur={ ... } />\n *     );\n *   }\n *\n * }\n *\n */\nexport default class ContentEditable extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n\n    // TODO(nikku): remove once we drop IE 11 support\n    if (isIE()) {\n\n      // onInput shim for IE <= 11\n      this.onInputIEPolyfill = (event) => {\n\n        var oldText = this.node.innerHTML;\n\n        setTimeout(() => {\n\n          var text = this.node.innerHTML;\n          if (oldText !== text) {\n            this.onInput(event);\n          }\n        }, 0);\n      };\n\n    }\n  }\n\n  componentWillUpdate(newProps, newState) {\n\n    // save old selection + text for later\n    var node = this.node;\n\n    var range = newState.focussed && getRange(node);\n\n    this.selected = range && {\n      range: range,\n      text: innerText(node)\n    };\n  }\n\n  componentDidUpdate() {\n\n    var selected = this.selected;\n\n    if (!selected) {\n      return;\n    }\n\n    // compute and restore selection based on\n    // (possibly new) text\n\n    const range = selected.range;\n    const text = selected.text;\n\n    const node = this.node;\n\n    const newText = innerText(node);\n\n    const newRange = (\n      newText !== text\n        ? selectionUpdate(range, text, newText)\n        : range\n    );\n\n    setRange(node, newRange);\n  }\n\n  onFocus = event => {\n    var propsFocus = this.props.onFocus;\n\n    this.setState({\n      focussed: true\n    });\n\n    if (typeof propsFocus === 'function') {\n      propsFocus(event);\n    }\n  }\n\n  onBlur = event => {\n    var propsBlur = this.props.onBlur;\n\n    this.setState({\n      focussed: false\n    });\n\n    if (typeof propsBlur === 'function') {\n      propsBlur(event);\n    }\n  }\n\n  onKeydown = (event) => {\n\n    // enter\n    if (event.which === 13) {\n\n      // prevent default action (<br/> insert)\n      event.preventDefault();\n\n      if (this.props.ctrlForNewline && !isCmd(event)) {\n        return;\n      }\n\n      if (this.props.singleLine) {\n        return;\n      }\n\n      event.stopPropagation();\n\n      insertLineBreak();\n\n      this.onInput(event);\n    }\n\n  }\n\n  onInput = (event) => {\n\n    var propsInput = this.props.onInput;\n\n    if (typeof propsInput !== 'function') {\n      return;\n    }\n\n    var text = innerText(this.node);\n\n    propsInput(text);\n  }\n\n  // TODO(barmac): remove once we drop IE 11 support\n  onKeyPress = (event) => {\n    if (this.onInputIEPolyfill) {\n      this.onInputIEPolyfill(event);\n    }\n  }\n\n  onPaste = (event) => {\n\n    // TODO(barmac): remove once we drop IE 11 support\n    if (this.onInputIEPolyfill) {\n      this.onInputIEPolyfill(event);\n    }\n\n    if (this.props.singleLine) {\n      const text = (event.clipboardData || window.clipboardData).getData('text');\n\n      // replace newline with space\n      document.execCommand('insertText', false, text.replace(/\\n/g, ' '));\n      event.preventDefault();\n    }\n  }\n\n  getClassName() {\n    const {\n      className,\n      placeholder,\n      value\n    } = this.props;\n\n    return [\n      className || '',\n      'content-editable',\n      (!value && placeholder) ? 'content-editable--with-placeholder' : ''\n    ].join(' ');\n  }\n\n  render(props) {\n\n    var {\n      value,\n      placeholder\n    } = props;\n\n    // QUIRK: must add trailing <br/> for line\n    // breaks to properly work\n    value =\n      escapeHtml(value)\n        .replace(/\\r?\\n/g, '<br/>') + '<br/>';\n\n    return (\n      <div\n        className={ this.getClassName() }\n        contentEditable=\"true\"\n        spellcheck=\"false\"\n        data-placeholder={ placeholder || '' }\n        onInput={ this.onInput }\n        onKeypress={ this.onKeypress }\n        onPaste={ this.onPaste }\n        onFocus={ this.onFocus }\n        onBlur={ this.onBlur }\n        onKeydown={ this.onKeydown }\n        ref={ node => this.node = node }\n        dangerouslySetInnerHTML={ { __html: value } }></div>\n    );\n  }\n\n}\n\nfunction brTag() {\n  return document.createElement('br');\n}\n\nfunction innerText(node) {\n\n  // QUIRK: we must remove the last trailing <br/>, if any\n  return node.innerText.replace(/\\n$/, '');\n}\n\nfunction insertLineBreak() {\n\n  // insert line break at current insertation\n  // point; this assumes that the correct element, i.e.\n  // a <ContentEditable /> is currently focussed\n  var selection = getWindowSelection();\n\n  var range = selection.getRangeAt(0);\n\n  if (!range) {\n    return;\n  }\n\n  var newRange = range.cloneRange();\n\n  var br = brTag();\n\n  newRange.deleteContents();\n\n  newRange.insertNode(br);\n\n  newRange.setStartAfter(br);\n  newRange.setEndAfter(br);\n\n  applyRange(newRange);\n}\n\nfunction isIE() {\n  var ua = window.navigator.userAgent;\n\n  return (\n\n    // IE 10 or older\n    ua.indexOf('MSIE ') > 0 ||\n\n    // IE 11\n    ua.indexOf('Trident/') > 0\n  );\n}\n\nfunction isCmd(event) {\n  return event.metaKey || event.ctrlKey;\n}","import { Component } from 'inferno';\n\nimport ContentEditable from './ContentEditable';\n\n\n/**\n * A base component for interactivity.\n *\n * @example\n *\n * class Foo extends EditableComponent {\n *\n *   render() {\n *     return (\n *       <div>{ this.getEditor() }</div>\n *     );\n *   }\n * }\n *\n * And in use:\n *\n * <Foo value={ blub }\n *      onChange={ (newValue) => { ... }\n *      onFocus={ () => { ... } }\n *      onBlur={ () => { ... } }\n *      validate={ (newValue) => { return 'some-error'; } }\n *      className=\"...\" } />\n *\n * Special classes added:\n *\n * * focused\n * * invalid\n *\n */\nexport default class EditableComponent extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      changing: false,\n      focussed: false\n    };\n\n\n    const { injector } = context;\n\n    const debounceInput = injector.get('debounceInput');\n\n    this.inputChanged = debounceInput((value) => {\n      const { onChange } = this.props;\n\n      if (typeof onChange === 'function') {\n        onChange(value);\n      }\n\n      // only unset changed if user input and\n      // committed changed value equal. This prevents the\n      // input jumping back to the saved, good value.\n      const currentValue = this.state.changing;\n\n      this.setState({\n        changing: currentValue === value ? false : currentValue\n      });\n    });\n\n    this.onInput = (value) => {\n\n      var validate = this.props.validate || function() {};\n\n      var invalid = validate(value);\n\n      this.setState({\n        changing: value,\n        invalid: invalid\n      });\n\n      if (!invalid) {\n        this.inputChanged(value);\n      }\n    };\n  }\n\n  onFocus = event => {\n    this.setState({\n      focussed: true\n    });\n\n    var { onFocus } = this.props;\n\n    if (typeof onFocus === 'function') {\n      onFocus(event);\n    }\n  }\n\n  onBlur = event => {\n    this.setState({\n      focussed: false\n    });\n\n    const { invalid } = this.state;\n\n    if (invalid) {\n      this.setState({\n        changing: false,\n        invalid: false\n      });\n    }\n\n    const { onBlur } = this.props;\n\n    if (typeof onBlur === 'function') {\n      onBlur(event);\n    }\n  }\n\n  getClassName() {\n    var {\n      className,\n      value\n    } = this.props;\n\n    var {\n      changing,\n      focussed,\n      invalid\n    } = this.state;\n\n    className += ' editable';\n\n    if (focussed) {\n      className += ' focussed';\n    }\n\n    if (invalid) {\n      className += ' invalid';\n    }\n\n    if (!value && !changing) {\n      className += ' empty';\n    }\n\n    return className;\n  }\n\n  getDisplayValue() {\n\n    var {\n      value,\n      placeholder\n    } = this.props;\n\n    var {\n      focussed,\n      changing\n    } = this.state;\n\n    if (typeof changing === 'string') {\n      value = changing;\n    }\n\n    if (!value) {\n      value = focussed ? '' : (placeholder || '');\n    }\n\n    return value;\n  }\n\n  getEditor(props = {}) {\n\n    return (\n      <ContentEditable\n        className={ props.className }\n        ctrlForNewline={ props.ctrlForNewline }\n        onFocus={ this.onFocus }\n        onBlur={ this.onBlur }\n        onInput={ this.onInput }\n        value={ this.getDisplayValue() } />\n    );\n  }\n\n}\n","import { Component } from 'inferno';\n\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\n\nimport {\n  Cell,\n  inject\n} from 'table-js/lib/components';\n\n\nexport default class EditableAnnotationCell extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n  }\n\n  componentWillMount() {\n    const { row } = this.props;\n\n    this.changeSupport.onElementsChanged(row.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const { row } = this.props;\n\n    this.changeSupport.offElementsChanged(row.id, this.onElementsChanged);\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  setAnnotationValue = (text) => {\n    const { row } = this.props;\n\n    this.modeling.editAnnotation(row.businessObject, text);\n  }\n\n\n  render() {\n    const {\n      row,\n      rowIndex\n    } = this.props;\n    const {\n      description,\n      id\n    } = row.businessObject;\n\n    return (\n\n      <Cell\n        className=\"annotation\"\n        onChange={ this.setAnnotationValue }\n        coords={ `${rowIndex}:annotation` }\n        value={ description }\n        elementId={ id }\n        data-row-id={ row.id }>\n\n        <AnnotationEditor\n          ctrlForNewline={ true }\n          className=\"annotation-editor\"\n          onChange={ this.setAnnotationValue }\n          value={ description } />\n      </Cell>\n    );\n  }\n\n}\n\nEditableAnnotationCell.$inject = [\n  'changeSupport',\n  'modeling'\n];\n\n\nclass AnnotationEditor extends EditableComponent {\n\n  render() {\n    return (\n      <div className={ this.getClassName() }>\n        { this.getEditor() }\n      </div>\n    );\n  }\n}","import AnnotationHeader from '../components/AnnotationHeader';\nimport AnnotationCell from './components/AnnotationCell';\n\nexport default function AnnotationsEditingProvider(components) {\n\n  components.onGetComponent('cell', ({ cellType }) => {\n    if (cellType === 'after-label-cells') {\n      return AnnotationHeader;\n    } else if (cellType === 'after-rule-cells') {\n      return AnnotationCell;\n    }\n  });\n}\n\nAnnotationsEditingProvider.$inject = [ 'components' ];\n","import {\n  debounce,\n  isNumber\n} from 'min-dash';\n\nconst DEFAULT_DEBOUNCE_TIME = 300;\n\nexport default function debounceInput(shouldDebounce) {\n  return function _debounceInput(fn) {\n    if (shouldDebounce !== false) {\n\n      var debounceTime =\n        isNumber(shouldDebounce) ?\n          shouldDebounce :\n          DEFAULT_DEBOUNCE_TIME;\n\n      return debounce(fn, debounceTime);\n    } else {\n      return fn;\n    }\n  };\n}\n\ndebounceInput.$inject = [ 'config.debounceInput' ];","import debounceInput from './debounceInput';\n\nexport default {\n  debounceInput: [ 'factory', debounceInput ]\n};","import AnnotationsEditingProvider from './AnnotationsEditingProvider';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\n\nexport default {\n  __depends__: [ DebounceInput ],\n  __init__: [ 'annotationsProvider' ],\n  annotationsProvider: [ 'type', AnnotationsEditingProvider ]\n};","import { Component } from 'inferno';\r\n\r\nimport {\r\n  assign,\r\n  isFunction\r\n} from 'min-dash';\r\n\r\nimport {\r\n  inject\r\n} from '../../../components';\r\n\r\nimport {\r\n  query as domQuery\r\n} from 'min-dom';\r\n\r\nimport {\r\n  setRange\r\n} from 'selection-ranges';\r\n\r\n/**\r\n * @typedef ContextMenuPosition\r\n * @property {number} x\r\n * @property {number} y\r\n * @property {number} [width=0]\r\n * @property {number} [height=0]\r\n * @property {'bottom-left'|'bottom-right'|'top-left'|'top-right'} [align]\r\n */\r\n\r\nexport default class ContextMenuComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n      position: {\r\n        x: 0,\r\n        y: 0\r\n      }\r\n    };\r\n\r\n    inject(this);\r\n  }\r\n\r\n  /**\r\n   * Open the context menu with given position and context.\r\n   *\r\n   * The menu itself will figure out the best position, taking the optional\r\n   * positioning parameter into account. Position can also contain indicator\r\n   * in which direction to open context menu.\r\n   *\r\n   * @param {ContextMenuPosition} position\r\n   * @param {Object} [context]\r\n   */\r\n  open = ({ position, context }) => {\r\n\r\n    // always close first\r\n    this.close();\r\n\r\n    this.setState({\r\n      isOpen: true,\r\n      position: position || { x: 0, y: 0 },\r\n      context: context || {}\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Closes context menu and resets state.\r\n   */\r\n  close = () => {\r\n\r\n    if (this.state.isOpen) {\r\n      this.setState({\r\n        context: undefined,\r\n        isOpen: false,\r\n        position: {\r\n          x: 0,\r\n          y: 0\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  triggerClose = () => {\r\n    this.eventBus.fire('contextMenu.close');\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.eventBus.on('contextMenu.open', this.open);\r\n    this.eventBus.on('contextMenu.close', this.close);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.eventBus.off('contextMenu.open', this.open);\r\n    this.eventBus.off('contextMenu.close', this.close);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isOpen,\r\n      context,\r\n      position\r\n    } = this.state;\r\n\r\n    if (!isOpen) {\r\n      return null;\r\n    }\r\n\r\n    const components = this.components.getComponents('context-menu', context);\r\n\r\n    if (!components.length) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <ContextMenu\r\n        className=\"context-menu no-deselect\"\r\n        context={ context }\r\n        position={ position }\r\n        offset={ context.offset || { x: 0, y: 0 } }\r\n        autoFocus={ context.autoFocus !== false }\r\n        autoClose={ context.autoClose !== false }\r\n        components={ components }\r\n        onClose={ this.triggerClose } />\r\n    );\r\n  }\r\n}\r\n\r\nContextMenuComponent.$inject = [\r\n  'eventBus',\r\n  'components'\r\n];\r\n\r\n\r\n/**\r\n * Low-level, stateless context menu holder.\r\n */\r\nclass ContextMenu extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  close() {\r\n\r\n    const {\r\n      onClose\r\n    } = this.props;\r\n\r\n    if (isFunction(onClose)) {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Check whether closing the context menu is necessary\r\n   * after selecting the given element.\r\n   */\r\n  checkClose(focusTarget) {\r\n\r\n    const {\r\n      autoClose\r\n    } = this.props;\r\n\r\n    if (!autoClose) {\r\n      return;\r\n    }\r\n\r\n    var node = this.node;\r\n\r\n    if (!node) {\r\n      return;\r\n    }\r\n\r\n    if (node === focusTarget) {\r\n      return;\r\n    }\r\n\r\n    if (node.contains(focusTarget)) {\r\n      return;\r\n    }\r\n\r\n    this.close();\r\n  }\r\n\r\n  /**\r\n   * Handle global (window) mousedown event.\r\n   */\r\n  onGlobalMouseDown = (event) => {\r\n    this.checkClose(event.target);\r\n  }\r\n\r\n  /**\r\n   * Handle global key event.\r\n   */\r\n  onGlobalKey = (event) => {\r\n\r\n    var keyCode = event.which;\r\n\r\n    // ENTER or ESC\r\n    if (keyCode === 13 || keyCode === 27) {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle global (document) focus changed event.\r\n   */\r\n  onFocusChanged = (event) => {\r\n    this.checkClose(event.target);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('focusin', this.onFocusChanged);\r\n    document.addEventListener('keydown', this.onGlobalKey);\r\n    document.addEventListener('mousedown', this.onGlobalMouseDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('focusin', this.onFocusChanged);\r\n    document.removeEventListener('keydown', this.onGlobalKey);\r\n    document.removeEventListener('mousedown', this.onGlobalMouseDown);\r\n  }\r\n\r\n  setNode = (node) => {\r\n    this.node = node;\r\n\r\n    const {\r\n      autoFocus\r\n    } = this.props;\r\n\r\n    if (node) {\r\n      this.updatePosition();\r\n\r\n      if (autoFocus) {\r\n        ensureFocus(node);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Find best context menu position and re-layout accordingly.\r\n   */\r\n  updatePosition() {\r\n\r\n    const {\r\n      position,\r\n      offset\r\n    } = this.props;\r\n\r\n    const bounds = this.node.getBoundingClientRect();\r\n\r\n    if (!position.width) {\r\n      position.width = 0;\r\n    }\r\n\r\n    if (!position.height) {\r\n      position.height = 0;\r\n    }\r\n\r\n    const container = this.renderer.getContainer();\r\n\r\n    const containerBounds = container.getBoundingClientRect();\r\n\r\n    if (containerBounds.width > containerBounds.height) {\r\n      this.node.classList.add('horizontal');\r\n      this.node.classList.remove('vertical');\r\n    } else {\r\n      this.node.classList.add('vertical');\r\n      this.node.classList.remove('horizontal');\r\n    }\r\n\r\n    const { scrollLeft, scrollTop } = container;\r\n\r\n    const style = {};\r\n\r\n    let alignment;\r\n\r\n    if (position.align) {\r\n      alignment = position.align.split('-');\r\n    }\r\n\r\n    let left, top;\r\n\r\n    const horizontalAlignment = alignment && alignment[1] || (\r\n      position.x + (position.width / 2) > containerBounds.width / 2 ? 'left' : 'right'\r\n    );\r\n\r\n    if (horizontalAlignment === 'left') {\r\n      left = position.x\r\n        - containerBounds.left\r\n        - bounds.width\r\n        + offset.x\r\n        + scrollLeft;\r\n    } else {\r\n      left = window.scrollX\r\n        - containerBounds.left\r\n        + position.x\r\n        + position.width\r\n        - offset.x\r\n        + scrollLeft;\r\n    }\r\n    left = alignment ? left : clampNumber(\r\n      left,\r\n      0 + scrollLeft,\r\n      containerBounds.width - bounds.width + scrollLeft\r\n    );\r\n    style.left = left + 'px';\r\n\r\n    const verticalAlignment = alignment && alignment[0] || (\r\n      position.y + (position.height / 2) > containerBounds.height / 2 ? 'top' : 'bottom'\r\n    );\r\n\r\n    if (verticalAlignment === 'top') {\r\n      top = position.y\r\n        - containerBounds.top\r\n        - bounds.height\r\n        + offset.y\r\n        + scrollTop;\r\n    } else {\r\n      top = window.scrollY\r\n        - containerBounds.top\r\n        + position.y\r\n        - offset.y\r\n        + scrollTop;\r\n    }\r\n    top = alignment ? top : clampNumber(\r\n      top,\r\n      0 + scrollTop,\r\n      containerBounds.height - bounds.height + scrollTop\r\n    );\r\n    style.top = top + 'px';\r\n\r\n    // ensure context menu will always be accessible\r\n    style.overflowY = 'auto';\r\n    style.maxHeight = (containerBounds.height - top + scrollTop) + 'px';\r\n\r\n    assign(this.node.style, style);\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const {\r\n      context,\r\n      components,\r\n      className\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        ref={ this.setNode }\r\n        onContextMenu={ e => e.preventDefault() }\r\n        className={ className }>\r\n        {\r\n          components.map(\r\n            (Component, idx) => <Component key={ idx } context={ context } />\r\n          )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nContextMenu.$inject = [\r\n  'renderer'\r\n];\r\n\r\n\r\n// helpers /////////////\r\n\r\nfunction clampNumber(number, min, max) {\r\n  return Math.max(min, Math.min(max, number));\r\n}\r\n\r\nconst SELECTABLE_ELEMENTS = `\r\n  input[type=text],\r\n  input[type=number],\r\n  input[type=button],\r\n  input[type=submit],\r\n  [contenteditable],\r\n  [tabindex],\r\n  a[href],\r\n  textarea,\r\n  button\r\n`;\r\n\r\nfunction ensureFocus(el) {\r\n\r\n  var focusEl = domQuery(SELECTABLE_ELEMENTS, el);\r\n\r\n  if (focusEl) {\r\n    focusEl.focus();\r\n\r\n    // inputs\r\n    if (focusEl.selectionStart && focusEl.type === 'text') {\r\n      focusEl.selectionStart = 100000;\r\n    } else\r\n\r\n    // content editable elements\r\n    if ('contentEditable' in focusEl) {\r\n      setRange(focusEl, { start: 100000, end: 100000 });\r\n    }\r\n  }\r\n}","import ContextMenuComponent from './components/ContextMenuComponent';\r\n\r\nexport default class ContextMenu {\r\n  constructor(components, eventBus, renderer) {\r\n    this._eventBus = eventBus;\r\n\r\n    components.onGetComponent('table.before', () => ContextMenuComponent);\r\n  }\r\n\r\n  open(position, context) {\r\n    this._eventBus.fire('contextMenu.open', {\r\n      position,\r\n      context\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this._eventBus.fire('contextMenu.close');\r\n  }\r\n}\r\n\r\nContextMenu.$inject = [\r\n  'components',\r\n  'eventBus',\r\n  'renderer'\r\n];","import ContextMenu from './ContextMenu';\n\nexport default {\n  __init__: [ 'contextMenu' ],\n  contextMenu: [ 'type', ContextMenu ]\n};","export function hasModifier(modifiers) {\n  return (\n    modifiers.ctrlKey ||\n    modifiers.metaKey ||\n    modifiers.shiftKey ||\n    modifiers.altKey\n  );\n}\n\nexport function isCmd(modifiers) {\n\n  // ensure we don't react to AltGr\n  // (mapped to CTRL + ALT)\n  if (modifiers.altKey) {\n    return false;\n  }\n\n  return modifiers.ctrlKey || modifiers.metaKey;\n}\n\nexport function isShift(modifiers) {\n  return modifiers.shiftKey;\n}\n","import {\n  getRange\n} from 'selection-ranges';\n\nimport {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  getFocusableNode,\n  getNodeById\n} from '../../cell-selection/CellSelectionUtil';\n\nimport {\n  isCmd,\n  isShift\n} from '../../keyboard/KeyboardUtil';\n\n\n/**\n * Keybindings for Copy + Paste\n */\nexport default class CopyPasteKeyBindings {\n\n  constructor(\n      injector, eventBus, clipboard,\n      cellSelection, elementRegistry, editorActions,\n      renderer) {\n\n    this._clipboard = clipboard;\n    this._cellSelection = cellSelection;\n    this._elementRegistry = elementRegistry;\n    this._editorActions = editorActions;\n    this._keyboard = injector.get('keyboard', false);\n    this._renderer = renderer;\n\n    if (!this._keyboard) {\n      return;\n    }\n\n    eventBus.on('keyboard.init', this._registerBindings);\n\n    eventBus.on('keyboard.bind', () => {\n      domEvent.bind(document, 'copy', this._clearClipboard, true);\n      domEvent.bind(document, 'cut', this._clearClipboard, true);\n    });\n\n    eventBus.on('keyboard.unbind', () => {\n      domEvent.unbind(document, 'copy', this._clearClipboard, true);\n      domEvent.unbind(document, 'cut', this._clearClipboard, true);\n    });\n  }\n\n  _clearClipboard = () => {\n    this._clipboard.clear();\n  }\n\n  /**\n   * Return the selected cell within the decision table.\n   *\n   * This verifies that a cell ready for copy-or-paste is\n   * actual selected by the user, in the Browser UI.\n   *\n   * @return {Cell}\n   */\n  _getSelectedCell() {\n\n    const elementId = this._cellSelection.getCellSelection();\n\n    // we may have no selection\n    if (!elementId) {\n      return;\n    }\n\n    const cell = this._elementRegistry.get(elementId);\n\n    // selection may not be a cell\n    if (!cell) {\n      return;\n    }\n\n    const container = this._renderer.getContainer();\n\n    const node = getNodeById(elementId, container);\n\n    const focusableNode = getFocusableNode(node);\n\n    // focusable element in selection may not be actual\n    // browser focus, i.e. when a menu is open\n    if (document.activeElement !== focusableNode) {\n      return;\n    }\n\n    const range = getRange(node);\n\n    // user may attempt native copy-paste operation right now\n    // don't interfere with normal text copying\n    if (range && (range.start !== range.end)) {\n      return;\n    }\n\n    return cell;\n  }\n\n\n  _registerBindings = () => {\n\n    // copy\n    // CTRL/CMD + C\n    const copy = (key, modifiers) => {\n\n      if (isCmd(modifiers) && (key === 67)) {\n        const cell = this._getSelectedCell();\n\n        if (!cell) {\n          return;\n        }\n\n        if (isShift(modifiers)) {\n          this._editorActions.trigger('copy', {\n            element: cell.col\n          });\n        } else {\n          this._editorActions.trigger('copy', {\n            element: cell.row\n          });\n        }\n\n        return true;\n      }\n    };\n\n    // cut\n    // CTRL/CMD + X\n    const cut = (key, modifiers) => {\n\n      if (isCmd(modifiers) && (key === 88)) {\n\n        const cell = this._getSelectedCell();\n\n        if (!cell) {\n          return;\n        }\n\n        if (isShift(modifiers)) {\n          this._editorActions.trigger('cut', {\n            element: cell.col\n          });\n        } else {\n          this._editorActions.trigger('cut', {\n            element: cell.row\n          });\n        }\n\n        return true;\n      }\n    };\n\n    // paste\n    // CTRL/CMD + V\n    const paste = (key, modifiers) => {\n\n      let pasted;\n\n      if (isCmd(modifiers) && (key === 86)) {\n\n        const cell = this._getSelectedCell();\n\n        if (!cell) {\n          return;\n        }\n\n        if (isShift(modifiers)) {\n          pasted = this._editorActions.trigger('pasteAfter', {\n            element: cell.col\n          });\n\n          if (pasted) {\n            this._cellSelection.selectCell('right');\n          }\n        } else {\n          pasted = this._editorActions.trigger('pasteAfter', {\n            element: cell.row\n          });\n\n          if (pasted) {\n            this._cellSelection.selectCell('below');\n          }\n        }\n      }\n\n      // indicate, whether we could paste\n      return typeof pasted !== 'undefined';\n    };\n\n    // register listeners\n    [ copy, cut, paste ].forEach((l) => {\n      this._keyboard.addListener(l);\n    });\n  }\n\n}\n\n\nCopyPasteKeyBindings.$inject = [\n  'injector',\n  'eventBus',\n  'clipboard',\n  'cellSelection',\n  'elementRegistry',\n  'editorActions',\n  'renderer'\n];","import ClipboardModule from 'diagram-js/lib/features/clipboard';\nimport CellSelectionModule from '../../cell-selection';\n\nimport CopyCutPasteKeyBindings from './CopyCutPasteKeyBindings';\n\n\nexport default {\n  __depends__: [\n    ClipboardModule,\n    CellSelectionModule\n  ],\n  __init__: [\n    'copyCutPasteKeyBindings'\n  ],\n  copyCutPasteKeyBindings: [ 'type', CopyCutPasteKeyBindings ]\n};","import { Component } from 'inferno';\r\n\r\nimport {\r\n  inject\r\n} from 'table-js/lib/components';\r\n\r\nexport default class CreateInputsHeaderCell extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  onClick = (event) => {\r\n    this.editorActions.trigger('addInput');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <th\r\n        className=\"input-cell create-inputs header actionable\"\r\n        onClick={ this.onClick }\r\n        title={ this.translate('Add Input') }>\r\n        { this.translate('Input') } <span\r\n          className=\"add-input dmn-icon-plus action-icon\"\r\n          title={ this.translate('Add Input') }\r\n        ></span>\r\n      </th>\r\n    );\r\n  }\r\n}\r\n\r\nCreateInputsHeaderCell.$inject = [ 'editorActions', 'translate' ];","import { Component } from 'inferno';\r\n\r\nimport {\r\n  inject\r\n} from 'table-js/lib/components';\r\n\r\nexport default class CreateInputsCell extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  onClick = (event) => {\r\n    this.editorActions.trigger('addInput');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <td\r\n        className=\"input-cell create-inputs\"\r\n        onClick={ this.onClick }\r\n        title={ this.translate('Add Input') }>-</td>\r\n    );\r\n  }\r\n}\r\n\r\nCreateInputsCell.$inject = [ 'editorActions', 'translate' ];","import CreateInputsHeaderCell from './components/CreateInputHeaderCell';\r\nimport CreateInputsCell from './components/CreateInputCell';\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nexport default class CreateInputsProvider {\r\n  constructor(components, sheet) {\r\n    components.onGetComponent('cell', LOW_PRIORITY, ({ cellType }) => {\r\n      const { businessObject } = sheet.getRoot();\r\n\r\n      if (businessObject.input && businessObject.input.length) {\r\n        return;\r\n      }\r\n\r\n      if (cellType === 'before-label-cells') {\r\n        return CreateInputsHeaderCell;\r\n      } else if (cellType === 'before-rule-cells') {\r\n        return CreateInputsCell;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nCreateInputsProvider.$inject = [ 'components', 'sheet' ];","import CreateInputsProvider from './CreateInputsProvider';\r\nimport EditorActions from '../editor-actions';\r\n\r\nexport default {\r\n  __depends__: [ EditorActions ],\r\n  __init__: [\r\n    'createInputsProvider'\r\n  ],\r\n  createInputsProvider: [ 'type', CreateInputsProvider ]\r\n};","const COMMANDS = [\r\n  'row.add',\r\n  'row.remove',\r\n  'col.add',\r\n  'col.remove'\r\n];\r\n\r\nexport default class ContextMenuCloseBehavior {\r\n  constructor(contextMenu, eventBus) {\r\n    eventBus.on('commandStack.executed', ({ command }) => {\r\n\r\n      // close on certain modeling operations\r\n      if (COMMANDS.indexOf(command) !== -1) {\r\n        contextMenu.close();\r\n      }\r\n\r\n    });\r\n\r\n    // always close on undo\r\n    eventBus.on('commandStack.reverted', () => {\r\n      contextMenu.close();\r\n    });\r\n  }\r\n}\r\n\r\nContextMenuCloseBehavior.$inject = [ 'contextMenu', 'eventBus' ];","import { Component } from 'inferno';\r\n\r\nimport {\r\n  mixin\r\n} from 'table-js/lib/components';\r\n\r\nimport {\r\n  ComponentWithSlots\r\n} from 'dmn-js-shared/lib/components/mixins';\r\n\r\n\r\nexport default class OutputCell extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    mixin(this, ComponentWithSlots);\r\n\r\n    this._translate = context.injector.get('translate');\r\n  }\r\n\r\n  onClick = (event) => {\r\n    const { output } = this.props;\r\n\r\n    this._eventBus.fire('output.edit', {\r\n      event,\r\n      output\r\n    });\r\n  }\r\n\r\n  onContextmenu = (event) => {\r\n    const { id } = this.props.output;\r\n\r\n    this._eventBus.fire('cell.contextmenu', {\r\n      event,\r\n      id\r\n    });\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { injector } = this.context;\r\n\r\n    this._changeSupport = this.context.changeSupport;\r\n    this._eventBus = injector.get('eventBus');\r\n    this._elementRegistry = injector.get('elementRegistry');\r\n\r\n    const { output } = this.props;\r\n\r\n    this._changeSupport.onElementsChanged(output.id, this.onElementsChanged);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { output } = this.props;\r\n\r\n    this._changeSupport.offElementsChanged(output.id, this.onElementsChanged);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      output,\r\n      index,\r\n      outputsLength\r\n    } = this.props;\r\n\r\n    const {\r\n      label,\r\n      name,\r\n      outputValues,\r\n      typeRef\r\n    } = output;\r\n\r\n    const width = output.width ? output.width + 'px' : '192px';\r\n\r\n    return (\r\n      <th\r\n        data-col-id={ output.id }\r\n        onDoubleClick={ this.onClick }\r\n        onContextmenu={ this.onContextmenu }\r\n        className=\"output-cell output-editor\"\r\n        style={ { width } }\r\n      >\r\n\r\n        {\r\n          this.slotFills({\r\n            type: 'cell-inner',\r\n            context: {\r\n              cellType: 'output-cell',\r\n              col: this._elementRegistry.get(output.id),\r\n              index,\r\n              outputsLength\r\n            },\r\n            col: output\r\n          })\r\n        }\r\n\r\n        <div className=\"clause\">\r\n          { index === 0 ? this._translate('Then') : this._translate('And') }\r\n        </div>\r\n\r\n        {\r\n          label ? (\r\n            <div className=\"output-label\" title={ this._translate('Output Label') }>\r\n              { label }\r\n            </div>\r\n          ) : (\r\n            <div className=\"output-name\" title={ this._translate('Output Name') }>\r\n              { name }\r\n            </div>\r\n          )\r\n        }\r\n\r\n        <div\r\n          className=\"output-variable\"\r\n          title={\r\n            outputValues && outputValues.text ? this._translate('Output Values') :\r\n              this._translate('Output Type')\r\n          }\r\n        >\r\n          { outputValues && outputValues.text || typeRef }\r\n        </div>\r\n      </th>\r\n    );\r\n  }\r\n\r\n}","import { Component } from 'inferno';\r\n\r\n\r\nexport default class Input extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n  }\r\n\r\n  onInput = (event) => {\r\n    const { onInput } = this.props;\r\n\r\n    if (typeof onInput !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onInput(event.target.value);\r\n  }\r\n\r\n  onKeyDown = (event) => {\r\n    const { onKeyDown } = this.props;\r\n\r\n    if (typeof onKeyDown !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyDown(event);\r\n  }\r\n\r\n  onKeyUp = (event) => {\r\n    const { onKeyUp } = this.props;\r\n\r\n    if (typeof onKeyUp !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyUp(event);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      placeholder,\r\n      type,\r\n      value\r\n    } = this.props;\r\n\r\n    return (\r\n      <input\r\n        className={ [ className || '', 'dms-input' ].join(' ') }\r\n        placeholder={ placeholder || '' }\r\n        onInput={ this.onInput }\r\n        onKeyDown={ this.onKeyDown }\r\n        onKeyUp={ this.onKeyUp }\r\n        spellcheck=\"false\"\r\n        type={ type || 'text' }\r\n        value={ value } />\r\n    );\r\n  }\r\n}","import { Component } from 'inferno';\n\nimport ContentEditable from 'dmn-js-shared/lib/components/ContentEditable';\nimport Input from 'dmn-js-shared/lib/components/Input';\n\n\nexport default class OutputEditor extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.translate = context.injector ? context.injector.get('translate') : noopTranslate;\n\n    this.setName = (name) => {\n      name = name || undefined;\n\n      this.handleChange({ name });\n    };\n\n    this.setLabel = (label) => {\n      label = label || undefined;\n\n      this.handleChange({ label });\n    };\n  }\n\n\n  handleChange(changes) {\n    var { onChange } = this.props;\n\n    if (typeof onChange === 'function') {\n      onChange(changes);\n    }\n  }\n\n  render() {\n\n    const {\n      name,\n      label\n    } = this.props;\n\n    return (\n      <div className=\"context-menu-container ref-output-editor output-edit\">\n\n        <div className=\"dms-form-control\">\n          <ContentEditable\n            className=\"dms-output-label\"\n            value={ label || '' }\n            placeholder={ this.translate('Output') }\n            singleLine\n            onInput={ this.setLabel } />\n        </div>\n\n        <div className=\"dms-form-control\">\n          <label className=\"dms-label\">\n            {\n              this.translate('Output Name')\n            }\n          </label>\n\n          <Input\n            className=\"ref-output-name\"\n            value={ name || '' }\n            onInput={ this.setName } />\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\nfunction noopTranslate(str) {\n  return str;\n}","import { Component } from 'inferno';\n\nimport OutputEditor from './OutputEditor';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\n\nexport default class OutputCellContextMenu extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n\n    inject(this);\n\n    this.persistChanges = this.debounceInput(this.persistChanges);\n  }\n\n  persistChanges = () => {\n    const { output } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    if (!unsaved) {\n      return;\n    }\n\n    this.modeling.updateProperties(output, unsaved);\n\n    this.setState({\n      unsaved: false\n    });\n  }\n\n  handleChange = (changes) => {\n    this.setState({\n      unsaved: {\n        ...this.state.unsaved,\n        ...changes\n      }\n    }, this.persistChanges);\n  };\n\n  getValue(attr) {\n    const { output } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    return unsaved && attr in unsaved ? unsaved[attr] : output.get(attr);\n  }\n\n  render() {\n    return (\n      <OutputEditor\n        name={ this.getValue('name') }\n        label={ this.getValue('label') }\n        onChange={ this.handleChange } />\n    );\n  }\n}\n\nOutputCellContextMenu.$inject = [\n  'debounceInput',\n  'modeling'\n];","import {\n  closest as domClosest,\n  matches as domMatches\n} from 'min-dom';\n\nimport OutputCell from './components/OutputCell';\nimport OutputCellContextMenu from './components/OutputCellContextMenu';\n\n\nexport default class OutputEditingProvider {\n\n  constructor(components, contextMenu, eventBus, renderer) {\n\n    components.onGetComponent('cell', ({ cellType }) => {\n      if (cellType === 'output-header') {\n        return OutputCell;\n      }\n    });\n\n    components.onGetComponent('context-menu', (context = {}) => {\n      if (\n        context.contextMenuType === 'output-edit'\n      ) {\n        return OutputCellContextMenu;\n      }\n    });\n\n    eventBus.on('output.edit', ({ event, output }) => {\n      const { target } = event;\n\n      const node = domClosest(target, 'th', true);\n\n      const { left, top } = node.getBoundingClientRect();\n\n      const offset = getOffset(node);\n\n      contextMenu.open({\n        x: left,\n        y: top,\n        align: 'bottom-right'\n      }, {\n        contextMenuType: 'output-edit',\n        output,\n        offset\n      });\n    });\n  }\n\n}\n\nOutputEditingProvider.$inject = [\n  'components',\n  'contextMenu',\n  'eventBus',\n  'renderer'\n];\n\nfunction getOffset(element) {\n  if (!domMatches(element, '.output-cell + .output-cell')) {\n    return { x: -1, y: 0 };\n  }\n}","import { Component } from 'inferno';\n\nimport {\n  mixin\n} from 'table-js/lib/components';\n\nimport {\n  ComponentWithSlots\n} from 'dmn-js-shared/lib/components/mixins';\n\n\nexport default class InputCell extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    mixin(this, ComponentWithSlots);\n\n    this._translate = context.injector.get('translate');\n  }\n\n  onClick = (event) => {\n    const { input } = this.props;\n\n    this._eventBus.fire('input.edit', {\n      event,\n      input\n    });\n  }\n\n  onContextmenu = (event) => {\n    const { id } = this.props.input;\n\n    this._eventBus.fire('cell.contextmenu', {\n      event,\n      id\n    });\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentWillMount() {\n    const { injector } = this.context;\n\n    this._changeSupport = this.context.changeSupport;\n    this._sheet = injector.get('sheet');\n    this._eventBus = injector.get('eventBus');\n    this._elementRegistry = injector.get('elementRegistry');\n\n    const root = this._sheet.getRoot();\n\n    const { input } = this.props;\n\n    this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n    this._changeSupport.onElementsChanged(input.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const root = this._sheet.getRoot();\n\n    const { input } = this.props;\n\n    this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n    this._changeSupport.offElementsChanged(input.id, this.onElementsChanged);\n  }\n\n  render() {\n    const {\n      input,\n      index,\n      inputsLength\n    } = this.props;\n\n    const {\n      inputExpression,\n      inputValues\n    } = input;\n\n    const label = input.get('label');\n\n    const width = input.width ? input.width + 'px' : '192px';\n\n    return (\n      <th\n        data-col-id={ input.id }\n        onDoubleClick={ this.onClick }\n        onContextmenu={ this.onContextmenu }\n        className=\"input-cell input-editor\"\n        style={ { width } }\n      >\n\n        {\n          this.slotFills({\n            type: 'cell-inner',\n            context: {\n              cellType: 'input-cell',\n              col: this._elementRegistry.get(input.id),\n              index,\n              inputsLength\n            },\n            col: input\n          })\n        }\n\n        <div className=\"clause\">\n          { index === 0 ? this._translate('When') : this._translate('And') }\n        </div>\n\n        {\n          label ? (\n            <div className=\"input-label\" title={ this._translate('Input Label') }>\n              { label }\n            </div>\n          ) : (\n            <div\n              className=\"input-expression\"\n              title={ this._translate('Input Expression') }>\n              { inputExpression.text }\n            </div>\n          )\n        }\n\n        <div\n          className=\"input-variable\"\n          title={\n            inputValues && inputValues.text ? this._translate('Input Values') :\n              this._translate('Input Type')\n          }\n        >\n          { inputValues && inputValues.text || inputExpression.typeRef }\n        </div>\n      </th>\n    );\n  }\n\n}","import { Component, createPortal } from 'inferno';\r\n\r\nimport {\r\n  inject\r\n} from 'table-js/lib/components';\r\n\r\nimport { assign } from 'min-dash';\r\n\r\nimport {\r\n  domify,\r\n  remove as domRemove\r\n} from 'min-dom';\r\n\r\n\r\nexport default class InputSelect extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n\r\n    const { value } = props;\r\n\r\n    this.state = {\r\n      value,\r\n      optionsVisible: false\r\n    };\r\n\r\n    this._portalEl = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousedown', this.onGlobalClick);\r\n    document.addEventListener('focusin', this.onFocusChanged);\r\n\r\n    this.keyboard.addListener(this.onKeyboard);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('focusin', this.onFocusChanged);\r\n    document.removeEventListener('mousedown', this.onGlobalClick);\r\n\r\n    this.keyboard.removeListener(this.onKeyboard);\r\n\r\n    this.removePortalEl();\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    const { value } = props;\r\n\r\n    this.setState({\r\n      value\r\n    });\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    const { optionsVisible } = nextState;\r\n\r\n    if (optionsVisible) {\r\n      if (!this._portalEl) {\r\n        this.addPortalEl();\r\n      }\r\n    } else {\r\n      if (this._portalEl) {\r\n        this.removePortalEl();\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { optionsVisible } = this.state;\r\n\r\n    if (!optionsVisible || !this.inputNode) {\r\n      return;\r\n    }\r\n\r\n    const optionsBounds = this.getOptionsBounds();\r\n\r\n    assign(this._portalEl.style, optionsBounds);\r\n  }\r\n\r\n  getOptionsBounds() {\r\n    const container = this.renderer.getContainer();\r\n    const { top: containerTop, left: containerLeft } = container.getBoundingClientRect();\r\n\r\n    const {\r\n      top: inputTop, left: inputLeft, width, height\r\n    } = this.inputNode.getBoundingClientRect();\r\n\r\n    const top = inputTop + height - containerTop + container.scrollTop;\r\n    const left = inputLeft - containerLeft + container.scrollLeft;\r\n\r\n    return {\r\n      top: `${top}px`,\r\n      left: `${left}px`,\r\n      width: `${width}px`\r\n    };\r\n  }\r\n\r\n  addPortalEl() {\r\n    this._portalEl = domify('<div class=\"dms-select-options\"></div>');\r\n\r\n    const container = this.renderer.getContainer();\r\n\r\n    container.appendChild(this._portalEl);\r\n\r\n    // suppress mousedown event propagation to handle click events inside the component\r\n    this._portalEl.addEventListener('mousedown', stopPropagation);\r\n  }\r\n\r\n  removePortalEl() {\r\n    if (this._portalEl) {\r\n      this._portalEl.removeEventListener('mousedown', stopPropagation);\r\n\r\n      domRemove(this._portalEl);\r\n\r\n      this._portalEl = null;\r\n    }\r\n  }\r\n\r\n  onChange = (value) => {\r\n    this.setState({\r\n      value\r\n    });\r\n\r\n    const { onChange } = this.props;\r\n\r\n    if (typeof onChange !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onChange(value);\r\n  }\r\n\r\n  onInputClick = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.setOptionsVisible(!this.state.optionsVisible);\r\n\r\n    this.focusInput();\r\n  }\r\n\r\n  onInput = (event) => {\r\n    const { value } = event.target;\r\n\r\n    this.onChange(value);\r\n  }\r\n\r\n  onOptionClick = (value, event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.setOptionsVisible(false);\r\n\r\n    this.onChange(value);\r\n\r\n    this.focusInput();\r\n  }\r\n\r\n  /**\r\n   * Focus input node\r\n   */\r\n  focusInput() {\r\n    const node = this.inputNode;\r\n\r\n    node.focus();\r\n\r\n    // move cursor to end of input\r\n    if ('selectionStart' in node) {\r\n      node.selectionStart = 100000;\r\n    }\r\n  }\r\n\r\n  checkClose(focusTarget) {\r\n\r\n    if (this._portalEl\r\n      && !this._portalEl.contains(focusTarget)\r\n      && !this.parentNode.contains(focusTarget)) {\r\n      this.setOptionsVisible(false);\r\n    }\r\n  }\r\n\r\n  onFocusChanged = (evt) => {\r\n    this.checkClose(evt.target);\r\n  }\r\n\r\n  onGlobalClick = (evt) => {\r\n    this.checkClose(evt.target);\r\n  }\r\n\r\n  select(direction) {\r\n\r\n    const {\r\n      options\r\n    } = this.props;\r\n\r\n    const {\r\n      value\r\n    } = this.state;\r\n\r\n    if (!options) {\r\n      return;\r\n    }\r\n\r\n    const option = options.filter(o => o.value === value)[0];\r\n\r\n    const idx = option\r\n      ? options.indexOf(option)\r\n      : -1;\r\n\r\n    const nextIdx = (\r\n      idx === -1\r\n        ? (\r\n          direction === 1\r\n            ? 0\r\n            : options.length - 1)\r\n        : ((idx + direction) % options.length)\r\n    );\r\n\r\n    const nextOption = options[nextIdx < 0 ? options.length + nextIdx : nextIdx];\r\n\r\n    this.onChange(nextOption.value);\r\n  }\r\n\r\n  setOptionsVisible(optionsVisible) {\r\n    this.setState({\r\n      optionsVisible\r\n    });\r\n  }\r\n\r\n  onKeyDown = (evt) => {\r\n\r\n    const {\r\n      optionsVisible\r\n    } = this.state;\r\n\r\n    var code = evt.which;\r\n\r\n    // DOWN or UP\r\n    if (code === 40 || code === 38) {\r\n\r\n      evt.stopPropagation();\r\n      evt.preventDefault();\r\n\r\n      if (!optionsVisible) {\r\n        this.setOptionsVisible(true);\r\n      } else {\r\n        this.select(code === 40 ? 1 : -1);\r\n      }\r\n    }\r\n\r\n    if (optionsVisible) {\r\n\r\n      // ENTER\r\n      // ESC\r\n      if (code === 13 || code === 27) {\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n\r\n        this.setOptionsVisible(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  onKeyboard = (keycode) => {\r\n    const { optionsVisible } = this.state;\r\n\r\n    if (!optionsVisible) {\r\n      return;\r\n    }\r\n\r\n    // close on ESC\r\n    if (keycode === 27) {\r\n      this.setOptionsVisible(false);\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  renderOptions(options, activeOption) {\r\n    return (\r\n      <div className=\"options\">\r\n        {\r\n          options.map(option => {\r\n            return (\r\n              <div\r\n                className={\r\n                  [ 'option', activeOption === option ? 'active' : '' ].join(' ')\r\n                }\r\n                data-value={ option.value }\r\n                onClick={ e => this.onOptionClick(option.value, e) }>\r\n                { option.label }\r\n              </div>\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      options,\r\n      noInput,\r\n      title\r\n    } = this.props;\r\n\r\n    const {\r\n      optionsVisible,\r\n      value\r\n    } = this.state;\r\n\r\n    const option = options ? options.filter(o => o.value === value)[0] : false;\r\n\r\n    const label = option ? option.label : value;\r\n\r\n    return (\r\n      <div\r\n        title={ title }\r\n        ref={ node => this.parentNode = node }\r\n        className={ [ className || '', 'dms-input-select' ].join(' ') }\r\n        onClick={ this.onInputClick }>\r\n        {\r\n          noInput\r\n            ? <div\r\n              className=\"dms-input\"\r\n              tabindex=\"0\"\r\n              onKeyDown={ this.onKeyDown }\r\n              ref={ node => this.inputNode = node }>{ label }</div>\r\n            : <input\r\n              className=\"dms-input\"\r\n              onInput={ this.onInput }\r\n              onKeyDown={ this.onKeyDown }\r\n              spellcheck=\"false\"\r\n              ref={ node => this.inputNode = node }\r\n              type=\"text\"\r\n              value={ value } />\r\n        }\r\n        <span\r\n          className={ [\r\n            'dms-input-select-icon',\r\n            optionsVisible ? 'dmn-icon-up' : 'dmn-icon-down'\r\n          ].join(' ') }>\r\n        </span>\r\n        {\r\n          optionsVisible\r\n            && createPortal(this.renderOptions(options, option), this._portalEl)\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nInputSelect.$inject = [ 'keyboard', 'renderer' ];\r\n\r\n\r\n// helper ////\r\nfunction stopPropagation(event) {\r\n  event.stopPropagation();\r\n}\r\n","import { Component } from 'inferno';\n\nimport ContentEditable from 'dmn-js-shared/lib/components/ContentEditable';\nimport Input from 'dmn-js-shared/lib/components/Input';\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\n\nexport default class InputEditor extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.translate = context.injector ? context.injector.get('translate') : noopTranslate;\n\n    const defaultExpressionLanguage = props.defaultExpressionLanguage.value;\n\n    this.setExpressionLanguage = (expressionLanguage) => {\n      this.handleChange({ expressionLanguage });\n    };\n\n    this.handleValue = (text) => {\n\n      let { expressionLanguage } = this.props;\n\n      let change = { text };\n\n      if (isMultiLine(text) && !expressionLanguage) {\n        change.expressionLanguage = defaultExpressionLanguage;\n      }\n\n      if (!isMultiLine(text) && expressionLanguage === defaultExpressionLanguage) {\n        change.expressionLanguage = undefined;\n      }\n\n      this.handleChange(change);\n    };\n\n    this.handleLanguageChange = (language) => {\n      this.setExpressionLanguage(language);\n    };\n\n    this.handleLabelChange = (value) => {\n\n      // default to <undefined> for empty string\n      var label = value || undefined;\n\n      this.handleChange({ label });\n    };\n\n    this.handleInputVariableChange = (value) => {\n\n      // default to <undefined> for empty string\n      var inputVariable = value || undefined;\n\n      this.handleChange({ inputVariable });\n    };\n\n  }\n\n  handleChange(changes) {\n    var { onChange } = this.props;\n\n    if (typeof onChange === 'function') {\n      onChange(changes);\n    }\n  }\n\n  render() {\n\n    const {\n      expressionLanguage,\n      expressionLanguages,\n      inputVariable,\n      label,\n      text\n    } = this.props;\n\n    return (\n      <div className=\"context-menu-container ref-input-editor input-edit\">\n\n        <div className=\"dms-form-control\">\n          <ContentEditable\n            className=\"dms-input-label\"\n            value={ label || '' }\n            placeholder={ this.translate('Input') }\n            singleLine\n            onInput={ this.handleLabelChange } />\n        </div>\n\n        <div className=\"dms-form-control\">\n          <label className=\"dms-label\">\n            {\n              this.translate('Expression')\n            }\n          </label>\n\n          <ContentEditable\n            placeholder=\"enter expression\"\n            className={\n              [\n                'ref-text',\n                'dms-input'\n              ].join(' ')\n            }\n            onInput={ this.handleValue }\n            value={ text || '' } />\n        </div>\n\n        <div className=\"dms-form-control\">\n          <label className=\"dms-label\">\n            {\n              this.translate('Expression Language')\n            }\n          </label>\n\n          <InputSelect\n            className=\"ref-language\"\n            value={ expressionLanguage || '' }\n            onChange={ this.handleLanguageChange }\n            options={ expressionLanguages } />\n        </div>\n\n        <div className=\"dms-form-control\">\n          <label className=\"dms-label\">\n            {\n              this.translate('Input Variable')\n            }\n          </label>\n\n          <Input\n            className=\"ref-input-variable\"\n            value={ inputVariable || '' }\n            onInput={ this.handleInputVariableChange }\n            placeholder={ this.translate('cellInput') } />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction isMultiLine(text) {\n  return text && text.split(/\\n/).length > 1;\n}\n\nfunction noopTranslate(str) {\n  return str;\n}\n","import { Component } from 'inferno';\n\nimport InputEditor from './InputEditor';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\n\nexport default class InputCellContextMenu extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n\n    inject(this);\n\n    this.persistChanges = this.debounceInput(this.persistChanges);\n\n    this._expressionLanguages = context.injector.get('expressionLanguages');\n  }\n\n  persistChanges = () => {\n    const { input } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    if (!unsaved) {\n      return;\n    }\n\n    const {\n      inputVariable,\n      label,\n      ...inputExpressionProperties\n    } = unsaved;\n\n    var changes = { };\n\n    if ('inputVariable' in unsaved) {\n      changes.inputVariable = inputVariable;\n    }\n\n    if ('label' in unsaved) {\n      changes.label = label;\n    }\n\n    if (hasKeys(inputExpressionProperties)) {\n      changes.inputExpression = inputExpressionProperties;\n    }\n\n    this.modeling.updateProperties(input, changes);\n\n    this.setState({\n      unsaved: false\n    });\n  }\n\n  handleChange = (changes) => {\n    this.setState({\n      unsaved: {\n        ...this.state.unsaved,\n        ...changes\n      }\n    }, this.persistChanges);\n  };\n\n  getValue(attr) {\n    let { input } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    let target = input;\n\n    // input variable stored in parent\n    if (attr === 'expressionLanguage' || attr === 'text') {\n      target = target.inputExpression;\n    }\n\n    return unsaved && attr in unsaved ? unsaved[attr] : target.get(attr);\n  }\n\n  render() {\n    const defaultLanguage = this._expressionLanguages.getDefault('inputHeadCell'),\n          expressionLanguages = this._expressionLanguages.getAll();\n\n    return (\n      <InputEditor\n        expressionLanguage={\n          this.getValue('expressionLanguage') || defaultLanguage.value\n        }\n        expressionLanguages={ expressionLanguages }\n        defaultExpressionLanguage={ defaultLanguage }\n        inputVariable={ this.getValue('inputVariable') }\n        label={ this.getValue('label') }\n        text={ this.getValue('text') }\n        onChange={ this.handleChange } />\n    );\n  }\n}\n\nInputCellContextMenu.$inject = [\n  'debounceInput',\n  'modeling',\n  'injector'\n];\n\n\n// helpers //////////////////////\n\nfunction hasKeys(obj) {\n  return Object.keys(obj).length;\n}","import {\n  closest as domClosest\n} from 'min-dom';\n\nimport InputCell from './components/InputCell';\nimport InputCellContextMenu from './components/InputCellContextMenu';\n\n\nexport default class InputCellProvider {\n\n  constructor(components, contextMenu, eventBus, renderer) {\n\n    components.onGetComponent('cell', ({ cellType }) => {\n      if (cellType === 'input-header') {\n        return InputCell;\n      }\n    });\n\n    components.onGetComponent('context-menu', (context = {}) => {\n      if (\n        context.contextMenuType === 'input-edit'\n      ) {\n        return InputCellContextMenu;\n      }\n    });\n\n    eventBus.on('input.edit', ({ event, input }) => {\n      const { target } = event;\n\n      const node = domClosest(target, 'th', true);\n\n      const { left, top } = node.getBoundingClientRect();\n\n      contextMenu.open({\n        x: left,\n        y: top,\n        align: 'bottom-right'\n      }, {\n        contextMenuType: 'input-edit',\n        input\n      });\n    });\n  }\n\n}\n\nInputCellProvider.$inject = [\n  'components',\n  'contextMenu',\n  'eventBus',\n  'renderer'\n];","import { Component } from 'inferno';\n\nimport { is, isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\n\nconst TYPES = [\n  'string',\n  'boolean',\n  'integer',\n  'long',\n  'double',\n  'date'\n];\n\n\nexport default class TypeRefCellContextMenu extends Component {\n\n  constructor(props, context) {\n    super(props);\n\n    this._translate = context.injector.get('translate');\n    this._modeling = context.injector.get('modeling');\n  }\n\n  onTypeChange = (value) => {\n    const element = this.getElement();\n\n    const actualElement = is(element, 'dmn:LiteralExpression')\n      ? element.$parent\n      : element;\n\n    let newProperties;\n\n    if (isInput(actualElement)) {\n      newProperties = {\n        inputExpression: {\n          typeRef: value\n        }\n      };\n    } else if (isOutput(actualElement)) {\n      newProperties = {\n        typeRef: value\n      };\n    }\n\n    this._modeling.updateProperties(actualElement, newProperties);\n  }\n\n  getElement() {\n    return this.props.context.input || this.props.context.output;\n  }\n\n  render() {\n    const element = this.getElement();\n\n    const typeRef = (\n      is(element, 'dmn:InputClause') ?\n        element.inputExpression :\n        element\n    ).typeRef;\n\n    const typeRefOptions = TYPES.map(t => {\n      return {\n        label: t,\n        value: t\n      };\n    });\n\n    return (\n      <div className=\"type-ref-edit context-menu-container\">\n        <div className=\"dms-form-control\">\n          <label className=\"dms-label\">\n            { this._translate('Type') }:\n          </label>\n\n          <InputSelect\n            className=\"type-ref-edit-select\"\n            onChange={ this.onTypeChange }\n            options={ typeRefOptions }\n            value={ typeRef } />\n        </div>\n      </div>\n    );\n  }\n}","import TypeRefCellContextMenu from './components/TypeRefCellContextMenu';\n\nconst LOW_PRIORITY = 750;\n\nexport default class TypeRef {\n\n  constructor(components) {\n\n    components.onGetComponent('context-menu', LOW_PRIORITY, (context = {}) => {\n      const { contextMenuType } = context;\n\n      if (contextMenuType === 'input-edit' || contextMenuType === 'output-edit') {\n        return TypeRefCellContextMenu;\n      }\n    });\n  }\n\n}\n\nTypeRef.$inject = [\n  'components'\n];","import ContextMenu from 'table-js/lib/features/context-menu';\nimport TypeRefEditingProvider from './TypeRefEditingProvider';\n\nexport default {\n  __depends__: [ ContextMenu ],\n  __init__: [ 'typeRefEditingProvider' ],\n  typeRefEditingProvider: [ 'type', TypeRefEditingProvider ]\n};","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport { is, isInput } from 'dmn-js-shared/lib/util/ModelUtil';\n\n/**\n * Makes sure allowed values are removed if type is set to\n * something other than string.\n */\nexport default class AllowedValuesUpdateBehavior extends CommandInterceptor {\n\n  constructor(eventBus, modeling) {\n    super(eventBus);\n\n    this.postExecuted('element.updateProperties', event => {\n      const {\n        element,\n        properties\n      } = event.context;\n\n      const actualProperties = isInput(element) ? properties.inputExpression : properties;\n\n      if (actualProperties\n        && actualProperties.typeRef\n        && actualProperties.typeRef !== 'string') {\n\n        const target = (\n          is(element, 'dmn:LiteralExpression') ?\n            element.$parent :\n            element\n        );\n\n        // delete allowed values\n        modeling.editAllowedValues(target, null);\n      }\n    });\n  }\n}\n\nAllowedValuesUpdateBehavior.$inject = [\n  'eventBus',\n  'modeling'\n];","import { Component } from 'inferno';\n\nimport { groupBy } from 'min-dash';\n\nconst RADIO = 'radio';\n\nconst REMOVE_BTN_CLS =\n  'remove dmn-icon-clear';\n\n/**\n * Shows a list of grouped items that can be checked\n * (checkboxes or radio buttons), removed.\n *\n * Example list of items:\n *\n * [\n *   { value: 'foo', isChecked: true, isRemovable: false, group: 'foo' },\n *   { value: 'bar', isChecked: false, isRemovable: true, group: 'bar' },\n *   { value: 'baz', isCheckable: false, group: 'baz' }\n * ]\n */\nexport default class List extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    const { items } = props;\n\n    this.state = {\n      items\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    const { items } = props;\n\n    this.setState({\n      items\n    });\n  }\n\n  getRemoveClickHandler = (item) => {\n    return (e) => {\n      e.stopPropagation();\n\n      this.removeItem(item);\n    };\n  }\n\n  getToggleClickHandler = (item) => {\n    return (e) => {\n      e.stopPropagation();\n\n      this.toggleItem(item);\n    };\n  }\n\n  removeItem = (item) => {\n    const { onChange } = this.props;\n\n    // remove item\n    const newItems = this.state.items.filter(i => i !== item);\n\n    this.setState({\n      items: newItems\n    });\n\n    onChange && onChange(newItems);\n  }\n\n  toggleItem = (item) => {\n    const { onChange, type } = this.props;\n\n    // toggle item\n    const newItems = this.state.items.map(i => {\n      if (i === item) {\n        i.isChecked = !i.isChecked;\n      } else {\n\n        if (type === RADIO) {\n          i.isChecked = false;\n        }\n\n      }\n\n      return i;\n    });\n\n    this.setState({\n      items: newItems\n    });\n\n    onChange && onChange(newItems);\n  }\n\n  render() {\n    const { className, items, type, labelComponent } = this.props;\n\n    const classes = [\n      'dms-list-component'\n    ];\n\n    if (className) {\n      classes.push(className);\n    }\n\n    // group items by group title\n    const groupedItems = groupBy(items, 'group');\n\n    const asPairs = toPairs(groupedItems);\n\n    return (\n      <div className={ classes.join(' ') }>\n        {\n          asPairs.map(pair => {\n\n            const groupTitle = pair[0],\n                  groupItems = pair[1];\n\n            return (\n              <div className=\"group\">\n\n                { labelComponent && labelComponent(groupTitle) ||\n                  <h4 className=\"dms-heading\">{ groupTitle }</h4> }\n\n                <ul className=\"items no-wrap\">\n                  {\n                    groupItems.map(item => {\n\n                      return (\n                        <li className=\"item\">\n                          {\n                            type\n                              && <input\n                                type={ type }\n                                checked={ item.isChecked }\n                                className=\"item-toggle\"\n                                onClick={ this.getToggleClickHandler(item) } />\n                          }\n                          &nbsp;\n                          { item.value }\n                          {\n                            item.isRemovable\n                              && (<span\n                                title=\"Remove item\"\n                                onClick={ this.getRemoveClickHandler(item) }\n                                className={ REMOVE_BTN_CLS }>\n                              </span>)\n                          }\n                        </li>\n                      );\n\n                    })\n                  }\n                </ul>\n\n              </div>\n            );\n\n          })\n        }\n\n      </div>\n    );\n  }\n}\n\n\n// helpers ////////////\n\nfunction toPairs(object) {\n  const entrys = [];\n\n  for (let key in object) {\n    entrys.push([key, object[key]]);\n  }\n\n  return entrys;\n}","import { Component } from 'inferno';\r\n\r\n// eslint-disable-next-line\r\nimport Input from './Input';\r\n\r\n/**\r\n * Input with optional validation.\r\n */\r\nexport default class ValidatedInput extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.state = {\r\n      validationWarning,\r\n      value\r\n    };\r\n\r\n    this.onInput = this.onInput.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onKeyUp = this.onKeyUp.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onInput(value) {\r\n    const { onInput, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n\r\n    if (typeof onInput !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onInput && onInput({\r\n      isValid: !validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onKeyDown(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyDown, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyDown !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyDown({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  onKeyUp(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyUp, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyUp !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyUp({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { placeholder, type, className } = this.props;\r\n\r\n    const { validationWarning, value } = this.state;\r\n\r\n    const parentClasses = [\r\n      'dms-validated-input',\r\n      className\r\n    ].join(' ');\r\n\r\n    const inputClasses = [ ];\r\n\r\n    if (validationWarning) {\r\n      inputClasses.push('invalid');\r\n    }\r\n\r\n    return (\r\n      <div className={ parentClasses }>\r\n\r\n        <Input\r\n          className={ inputClasses }\r\n          onInput={ this.onInput }\r\n          onKeyDown={ this.onKeyDown }\r\n          onKeyUp={ this.onKeyUp }\r\n          placeholder={ placeholder || '' }\r\n          type={ type }\r\n          value={ value || '' } />\r\n\r\n        {\r\n          validationWarning &&\r\n            <p class=\"dms-hint dms-validation-warning\">\r\n              { validationWarning }\r\n            </p>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","export function parseString(string) {\n\n  // empty string or no string at all\n  if (!string || isEmptyString(string.trim())) {\n    return {\n      values: []\n    };\n  }\n\n  // disjunction\n  let values = string.split(',');\n\n  const result = {\n    values: []\n  };\n\n  let openString = '';\n\n  values.forEach(value => {\n    openString += value;\n\n    if (/^\"[^\"]*\"$/.test(openString.trim())) {\n      result.values.push(openString.trim());\n\n      openString = '';\n    } else {\n      openString += ',';\n    }\n  });\n\n  if (!openString) {\n    return result;\n  }\n}\n\nfunction isEmptyString(string) {\n  return string === '';\n}\n\nexport function getValuesArray(values) {\n  return values.map(value => value.value);\n}","import { Component } from 'inferno';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport List from 'dmn-js-shared/lib/components/List';\n\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\n\nimport {\n  getValuesArray,\n  parseString\n} from '../Utils';\n\n\nexport default class AllowedValuesEditing extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this._translate = context.injector.get('translate');\n\n    this._modeling = context.injector.get('modeling');\n    this._changeSupport = context.changeSupport;\n\n    const target = this.getAllowedValuesTarget();\n\n    const parsedString = parseString(\n      (target.inputValues && target.inputValues.text) ||\n      (target.outputValues && target.outputValues.text) ||\n      ''\n    );\n\n    if (parsedString) {\n      this.state = {\n        values: parsedString.values.map(value => {\n          return {\n            value,\n            isCheckable: false,\n            isRemovable: true,\n            group: 'Predefined Values'\n          };\n        }),\n        inputValue: ''\n      };\n    } else {\n      this.state = {\n        values: null,\n        inputValue: ''\n      };\n    }\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentWillMount() {\n    const target = this.getAllowedValuesTarget();\n\n    this._changeSupport.onElementsChanged(target.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const target = this.getAllowedValuesTarget();\n\n    this._changeSupport.offElementsChanged(target.id, this.onElementsChanged);\n  }\n\n  setPredefinedValues = (values) => {\n\n    // inputClause or outputClause\n    const target = this.getAllowedValuesTarget();\n\n    this.setState({\n      values\n    });\n\n    this._modeling.editAllowedValues(\n      target,\n      values && getValuesArray(values)\n    );\n  }\n\n  onListChange = (values) => {\n    this.setPredefinedValues(values);\n  }\n\n  getAllowedValuesTarget() {\n    const element = this.getElement();\n\n    if (is(element, 'dmn:LiteralExpression')) {\n      return element.$parent;\n    } else {\n      return element;\n    }\n  }\n\n  onInput = ({ isValid, value }) => {\n    this.setState({\n      inputValue: value\n    });\n  }\n\n  /**\n   * Add new value on ENTER.\n   */\n  onKeyDown = ({ isValid, event }) => {\n\n    if (!isEnter(event.keyCode)) {\n      return;\n    }\n\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (isValid) {\n      const {\n        inputValue,\n        values\n      } = this.state;\n\n      const parsedString = parseString(inputValue);\n\n      this.onListChange((values || []).concat(parsedString.values.map(value => {\n        return {\n          value,\n          isCheckable: false,\n          isRemovable: true,\n          group: 'Predefined Values'\n        };\n      })));\n\n      this.setState({\n        inputValue: ''\n      });\n\n    }\n  }\n\n  handleRemovePredifinedValuesClick = (e) => {\n    e.stopPropagation();\n\n    this.removePredefinedValues();\n  }\n\n  removePredefinedValues = () => {\n    this.setPredefinedValues(null);\n  }\n\n  getElement() {\n    return this.props.context.output || this.props.context.input.inputExpression;\n  }\n\n  render() {\n    const element = this.getElement();\n\n    const {\n      inputValue,\n      values\n    } = this.state;\n\n    return (\n      element.typeRef === 'string' ?\n        <div className=\"context-menu-container allowed-values-edit\">\n          <div className=\"dms-form-control\">\n            {\n              !isNull(values)\n              && values.length > 0\n              && <List\n                labelComponent={ Label }\n                items={ values }\n                onChange={ this.onListChange } />\n            }\n\n            {\n              !isNull(values)\n              && !values.length\n              && <div>\n                <label className=\"dms-label\">\n                  { this._translate('Predefined Values') }\n                </label>\n                <span className=\"placeholder\">\n                  { this._translate('No values') }\n                </span>\n              </div>\n            }\n\n            {\n              !isNull(values)\n              && <p class=\"dms-hint\">\n                <button type=\"button\" className=\"del-values\"\n                  onClick={ this.handleRemovePredifinedValuesClick }>\n                  { this._translate('Clear predefined values.') }\n                </button>\n              </p>\n            }\n\n            <label className=\"dms-label\">\n              { this._translate('Add Predefined Values') }\n            </label>\n\n            <ValidatedInput\n              onInput={ this.onInput }\n              onKeyDown={ this.onKeyDown }\n              placeholder={ '\"value\", \"value\", ...' }\n              type=\"text\"\n              validate={ value => {\n                if (!parseString(value)) {\n                  return this._translate('Strings must be in double quotes.');\n                }\n              } }\n              value={ inputValue } />\n          </div>\n        </div>\n        : null\n    );\n  }\n}\n\nfunction Label(label) {\n  return <label className=\"dms-label\">{ label }</label>;\n}\n\n\n// helpers //////////////////////\n\nfunction isEnter(keyCode) {\n  return keyCode === 13;\n}\n\nfunction isNull(value) {\n  return value === null;\n}","import AllowedValuesEditing from './components/AllowedValuesEditing';\n\nconst LOW_PRIORITY = 500;\n\n\nexport default class InputOutputValues {\n  constructor(components) {\n    components.onGetComponent('context-menu', LOW_PRIORITY, (context = {}) => {\n      const { contextMenuType } = context;\n\n      if (contextMenuType === 'input-edit' || contextMenuType === 'output-edit') {\n        return AllowedValuesEditing;\n      }\n    });\n  }\n}\n\nInputOutputValues.$inject = [ 'components' ];","import AllowedValuesUpdateBehavior from './behavior/AllowedValuesUpdateBehavior';\nimport AllowedValuesEditingProvider from './AllowedValuesEditingProvider';\n\nexport default {\n  __init__: [\n    'allowedValuesUpdateBehavior',\n    'allowedValuesEditingProvider',\n  ],\n  allowedValuesUpdateBehavior: [ 'type', AllowedValuesUpdateBehavior ],\n  allowedValuesEditingProvider: [ 'type', AllowedValuesEditingProvider ]\n};","import { Component } from 'inferno';\n\n\nexport default class AddInput extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this._sheet = context.injector.get('sheet');\n    this._eventBus = context.injector.get('eventBus');\n\n    this._changeSupport = context.changeSupport;\n    this._translate = context.injector.get('translate');\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentWillMount() {\n    const root = this.getRoot();\n\n    this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const root = this.getRoot();\n\n    this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  getRoot() {\n    return this._sheet.getRoot();\n  }\n\n  handleClick = (e) => {\n    e.stopPropagation();\n\n    this.add();\n  }\n\n  add = () => {\n    this._eventBus.fire('addInput');\n  }\n\n  render() {\n    return (\n      <div\n        onClick={ this.handleClick }\n        className=\"add-input actionable\"\n        title={ this._translate('Add Input') }\n      >\n        <span\n          className=\"dmn-icon-plus action-icon\"\n        />\n      </div>\n    );\n  }\n\n}","import { Component } from 'inferno';\n\n\nexport default class AddOutput extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this._sheet = context.injector.get('sheet');\n    this._eventBus = context.injector.get('eventBus');\n\n    this._changeSupport = context.changeSupport;\n    this._translate = context.injector.get('translate');\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentWillMount() {\n    const root = this.getRoot();\n\n    this._changeSupport.onElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const root = this.getRoot();\n\n    this._changeSupport.offElementsChanged(root.id, this.onElementsChanged);\n  }\n\n  getRoot() {\n    return this._sheet.getRoot();\n  }\n\n  handleClick = (e) => {\n    e.stopPropagation();\n\n    this.add();\n  }\n\n  add = () => {\n    this._eventBus.fire('addOutput');\n  }\n\n  render() {\n    return (\n      <div\n        onClick={ this.handleClick }\n        className=\"add-output actionable\"\n        title={ this._translate('Add Output') }\n      >\n        <span\n          className=\"dmn-icon-plus action-icon\"\n        />\n      </div>\n    );\n  }\n\n}","import AddInput from './components/AddInput';\nimport AddOutput from './components/AddOutput';\n\n\nexport default function AddInputOutputProvider(\n    components, editorActions, eventBus\n) {\n\n  components.onGetComponent('cell-inner', (context = {}) => {\n    const { cellType, index, inputsLength, outputsLength } = context;\n\n    if (cellType === 'input-cell' && index === inputsLength - 1) {\n      return AddInput;\n    }\n\n    if (cellType === 'output-cell' && index === outputsLength -1) {\n      return AddOutput;\n    }\n  });\n\n  eventBus.on('addInput', () => {\n    editorActions.trigger('addInput');\n  });\n\n  eventBus.on('addOutput', () => {\n    editorActions.trigger('addOutput');\n  });\n}\n\nAddInputOutputProvider.$inject = [\n  'components',\n  'editorActions',\n  'eventBus'\n];","import AddInputOutputProvider from './AddInputOutputProvider';\nimport EditorActions from '../editor-actions';\n\nexport default {\n  __depends__: [ EditorActions ],\n  __init__: [\n    'addInputOutputProvider'\n  ],\n  addInputOutputProvider: [ 'type', AddInputOutputProvider ]\n};","import {\n  event as domEvent\n} from 'min-dom';\n\nimport {\n  findSelectableAncestor\n} from '../cell-selection/CellSelectionUtil';\n\nimport {\n  isCmd,\n  isShift\n} from './KeyboardUtil';\n\n\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming key events\n * and triggering diagram actions.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain the fields (node, listeners).\n *\n * A default binding for the keyboard may be specified via the\n * `keyboard.bindTo` configuration option.\n *\n * @param {Config} config\n * @param {EventBus} eventBus\n * @param {EditorActions} editorActions\n * @param {CellSelection} cellSelection\n */\nexport default class Keyboard {\n\n  constructor(config, eventBus, editorActions, cellSelection) {\n\n    this._config = config || {};\n    this._editorActions = editorActions;\n    this._eventBus = eventBus;\n    this._cellSelection = cellSelection;\n\n    this._listeners = [];\n\n    eventBus.on('table.destroy', this._destroy);\n    eventBus.on('table.init', this._init);\n\n    eventBus.on('attach', () => {\n\n      if (this._config.bindTo) {\n        this.bind(config.bindTo);\n      }\n    });\n\n    eventBus.on('detach', this.unbind);\n  }\n\n  _init = () => {\n    this._registerDefaultBindings();\n\n    this._fire('init');\n  }\n\n  _destroy = () => {\n    this._fire('destroy');\n\n    this.unbind();\n    this._listeners = null;\n  }\n\n  // our key handler is a singleton that passes\n  // (keycode, modifiers) to each listener.\n  //\n  // listeners must indicate that they handled a key event\n  // by returning true. This stops the event propagation.\n  //\n  _keyHandler = (event) => {\n\n    var i, l,\n        listeners = this._listeners,\n        code = event.keyCode || event.charCode || -1;\n\n    for (i = 0; (l = listeners[i]); i++) {\n      if (l(code, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        return;\n      }\n    }\n  }\n\n  bind(node) {\n\n    // make sure that the keyboard is only bound once to the DOM\n    this.unbind();\n\n    this._node = node;\n\n    // bind key events\n    domEvent.bind(node, 'keydown', this._keyHandler, true);\n\n    this._fire('bind');\n  }\n\n  getBinding() {\n    return this._node;\n  }\n\n  unbind = () => {\n    var node = this._node;\n\n    if (node) {\n      this._fire('unbind');\n\n      // unbind key events\n      domEvent.unbind(node, 'keydown', this._keyHandler, true);\n    }\n\n    this._node = null;\n  }\n\n  _fire(event) {\n    this._eventBus.fire('keyboard.' + event, {\n      node: this._node,\n      listeners: this._listeners\n    });\n  }\n\n  _registerDefaultBindings() {\n\n    var listeners = this._listeners;\n\n    var editorActions = this._editorActions;\n\n    var cellSelection = this._cellSelection;\n\n    // init default listeners\n\n    // undo\n    // (CTRL|CMD) + Z\n    function undo(key, modifiers) {\n\n      if (isCmd(modifiers) && !isShift(modifiers) && key === 90) {\n        editorActions.trigger('undo');\n\n        return true;\n      }\n    }\n\n    // redo\n    // CTRL + Y\n    // CMD + SHIFT + Z\n    function redo(key, modifiers) {\n\n      if (\n        isCmd(modifiers) && (\n          key === 89 || (\n            key === 90 && isShift(modifiers)\n          )\n        )\n      ) {\n        editorActions.trigger('redo');\n\n        return true;\n      }\n    }\n\n    listeners.push(undo);\n    listeners.push(redo);\n\n\n    function selectCellAbove(key, event) {\n      if (key !== 13 || isCmd(event) || !isShift(event)) {\n        return;\n      }\n\n      if (!findSelectableAncestor(event.target)) {\n        return;\n      }\n\n      editorActions.trigger('selectCellAbove');\n\n      return true;\n    }\n\n    listeners.push(selectCellAbove);\n\n\n    function selectCellBelow(key, event) {\n\n      if (key !== 13 || isCmd(event) || isShift(event)) {\n        return;\n      }\n\n      if (!findSelectableAncestor(event.target)) {\n        return;\n      }\n\n      const changed = editorActions.trigger('selectCellBelow');\n\n      const selectedCell = cellSelection.getCellSelection();\n\n      // add new rule if no next rule\n      if (!changed && selectedCell && !isDecisionNameCell(selectedCell)) {\n        const rule = editorActions.trigger('addRule');\n\n        editorActions.trigger('selectCellBelow');\n\n        return rule;\n      }\n\n      return true;\n    }\n\n    listeners.push(selectCellBelow);\n  }\n\n\n  /**\n   * Add a listener function that is notified with (key, modifiers) whenever\n   * the keyboard is bound and the user presses a key.\n   *\n   * @param {Function} listenerFn\n   */\n  addListener(listenerFn) {\n    this._listeners.unshift(listenerFn);\n  }\n\n  removeListener(listenerFn) {\n    this._listeners = this._listeners.filter(l => l !== listenerFn);\n  }\n\n}\n\nKeyboard.$inject = [\n  'config.keyboard',\n  'eventBus',\n  'editorActions',\n  'cellSelection'\n];\n\n\n// helper /////\nfunction isDecisionNameCell(cell) {\n  return cell === '__decisionProperties_name';\n}\n","import ContextMenu from 'table-js/lib/features/context-menu';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nimport ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\n\nimport OutputEditingProvider from './OutputEditingProvider';\nimport InputEditingProvider from './InputEditingProvider';\n\nimport TypeRefEditing from '../../type-ref';\nimport AllowedValuesEditing from '../../allowed-values';\nimport AddInputOutput from '../../add-input-output';\nimport KeyboardModule from '../../../features/keyboard';\n\n\nexport default {\n  __depends__: [\n    AddInputOutput,\n    AllowedValuesEditing,\n    ContextMenu,\n    DebounceInput,\n    ExpressionLanguagesModule,\n    KeyboardModule,\n    TypeRefEditing\n  ],\n  __init__: [\n    'inputEditingProvider',\n    'outputEditingProvider'\n  ],\n  inputEditingProvider: [ 'type', InputEditingProvider ],\n  outputEditingProvider: [ 'type', OutputEditingProvider ]\n};","import { Row, Col } from '../../model';\r\n\r\nimport {\r\n  closest as domClosest,\r\n  event as domEvent\r\n} from 'min-dom';\r\n\r\nconst TARGET_SELECTOR =\r\n  `.dmn-decision-table-container td,\r\n   .dmn-decision-table-container th`;\r\n\r\nexport default class DragAndDrop {\r\n  constructor(eventBus, renderer, modeling, sheet) {\r\n    this._eventBus = eventBus;\r\n    this._renderer = renderer;\r\n    this._modeling = modeling;\r\n    this._sheet = sheet;\r\n\r\n    this._dragContext = null;\r\n\r\n    eventBus.on('table.destroy', () => {\r\n      this._unbindListeners();\r\n    });\r\n  }\r\n\r\n  _bindListeners() {\r\n    domEvent.bind(document, 'dragover', this.handleDragOver);\r\n    domEvent.bind(document, 'drop', this.handleDrop);\r\n    domEvent.bind(document, 'dragend', this.handleDragEnd);\r\n  }\r\n\r\n  _unbindListeners() {\r\n    domEvent.unbind(document, 'dragover', this.handleDragOver);\r\n    domEvent.unbind(document, 'drop', this.handleDrop);\r\n    domEvent.unbind(document, 'dragend', this.handleDragEnd);\r\n  }\r\n\r\n  _emit(eventName, originalEvent) {\r\n\r\n    return this._eventBus.fire(eventName, {\r\n      dragContext: this._dragContext,\r\n      originalEvent\r\n    });\r\n  }\r\n\r\n  startDrag(element, event) {\r\n\r\n    stopEvent(event, true);\r\n\r\n    event.dataTransfer.effectAllowed = 'move';\r\n\r\n    // QUIRK: Firefox won't fire events unless data was set\r\n    if (event.dataTransfer.setData) {\r\n      event.dataTransfer.setData('text', '__DUMMY');\r\n    }\r\n\r\n    this._dragContext = {\r\n      draggedElement: element\r\n    };\r\n\r\n    this._bindListeners();\r\n\r\n    this._emit('dragAndDrop.dragStart', event);\r\n  }\r\n\r\n  handleDragOver = (event) => {\r\n\r\n    // we're taking over (!)\r\n    stopEvent(event);\r\n\r\n    const targetEl = event.target;\r\n\r\n    const cellEl = domClosest(targetEl, TARGET_SELECTOR, true);\r\n\r\n    let allowed = !!cellEl;\r\n\r\n    const {\r\n      hoverEl\r\n    } = this._dragContext;\r\n\r\n    // drag leave\r\n    if (hoverEl && hoverEl !== cellEl) {\r\n      this._emit('dragAndDrop.dragLeave', event);\r\n\r\n      // unset target element\r\n      this._dragContext.targetEl = null;\r\n\r\n      // unset hover element\r\n      this._dragContext.hoverEl = null;\r\n    }\r\n\r\n    if (cellEl) {\r\n\r\n      // drag enter\r\n      if (cellEl !== hoverEl) {\r\n\r\n        // new hover element\r\n        this._dragContext.hoverEl = cellEl;\r\n\r\n        allowed = this._emit('dragAndDrop.dragEnter', event);\r\n\r\n        if (allowed !== false) {\r\n          // new targetEl\r\n          this._dragContext.targetEl = cellEl;\r\n        }\r\n      }\r\n\r\n      // drag over\r\n      allowed = this._emit('dragAndDrop.dragOver', event);\r\n    }\r\n\r\n    event.dataTransfer.dropEffect = allowed !== false ? 'move' : 'none';\r\n  }\r\n\r\n  handleDrop = (event) => {\r\n\r\n    // prevent default drop action\r\n    // QUIRK: Firefox will redirect if not prevented\r\n    stopEvent(event);\r\n\r\n    const target = this._emit('dragAndDrop.drop', event);\r\n\r\n    if (target) {\r\n\r\n      const {\r\n        draggedElement\r\n      } = this._dragContext;\r\n\r\n      if (draggedElement instanceof Row) {\r\n        const { rows } = this._sheet.getRoot();\r\n\r\n        let index = rows.indexOf(target);\r\n\r\n        this._modeling.moveRow(draggedElement, index);\r\n      } else if (draggedElement instanceof Col) {\r\n        const { cols } = this._sheet.getRoot();\r\n\r\n        let index = cols.indexOf(target);\r\n\r\n        this._modeling.moveCol(draggedElement, index);\r\n      }\r\n    }\r\n\r\n    // manually call to drag end needed, as we prevent the default\r\n    // browser behavior / drag end handling via\r\n    // event.preventDefault();\r\n    this.handleDragEnd(event);\r\n  }\r\n\r\n  handleDragEnd = (event) => {\r\n\r\n    // prevent default drop action\r\n    stopEvent(event);\r\n\r\n    this._unbindListeners();\r\n    this._emit('dragAndDrop.dragEnd', event);\r\n\r\n    this._dragContext = null;\r\n  }\r\n\r\n}\r\n\r\nDragAndDrop.$inject = [\r\n  'eventBus',\r\n  'renderer',\r\n  'modeling',\r\n  'sheet'\r\n];\r\n\r\n\r\n\r\n// helpers /////////////////\r\n\r\nfunction stopEvent(event, preventDefault) {\r\n  event.stopPropagation();\r\n\r\n  if (preventDefault !== true) {\r\n    event.preventDefault();\r\n  }\r\n}","import DragAndDrop from './DragAndDrop';\r\n\r\nexport default {\r\n  __init__: [ 'dragAndDrop' ],\r\n  dragAndDrop: [ 'type', DragAndDrop ]\r\n};","import { Component } from 'inferno';\r\n\r\nimport { isString } from 'min-dash';\r\n\r\nimport { query as domQuery } from 'min-dom';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\nexport default class DescriptionEditor extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._elementRegistry = context.injector.get('elementRegistry');\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    this._changeSupport = this.context.changeSupport;\r\n\r\n    const { id } = this.props.context;\r\n\r\n    this._element = this._elementRegistry.get(id);\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (this._element) {\r\n      this._changeSupport.onElementsChanged(this._element.id, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { autoFocus } = this.props.context;\r\n\r\n    if (autoFocus && this.node) {\r\n      const editor = getEditor(this.node);\r\n\r\n      editor.focus();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this._element) {\r\n      this._changeSupport.offElementsChanged(this._element.id, this.onElementsChanged);\r\n\r\n      const { businessObject } = this._element;\r\n\r\n      const { description } = businessObject;\r\n\r\n      // if empty description remove description\r\n      if (isString(description) && !description.length) {\r\n        this.changeDescription(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeDescription = (value) => {\r\n    this._modeling.updateProperties(this._element, {\r\n      description: value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this._element) {\r\n      return;\r\n    }\r\n\r\n    const { businessObject } = this._element;\r\n\r\n    const { description } = businessObject;\r\n\r\n    if (!isString(description)) {\r\n      return;\r\n    }\r\n\r\n    return (\r\n      <div\r\n        class=\"context-menu-container description-editor\"\r\n        ref={ node => this.node = node }>\r\n        <Editor\r\n          className=\"dms-input\"\r\n          onChange={ this.changeDescription }\r\n          value={ description } />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Editor extends EditableComponent {\r\n  render() {\r\n    return (\r\n      <div className={ this.getClassName() }>\r\n        {\r\n          this.getEditor()\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// helpers //////////\r\n\r\nfunction getEditor(container) {\r\n  return domQuery('.content-editable', container);\r\n}","import { isString } from 'min-dash';\r\n\r\nimport { isAny } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport {\r\n  getNodeById\r\n} from '../cell-selection/CellSelectionUtil';\r\n\r\nimport DescriptionEditor from './components/DescriptionEditor';\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nconst LOWER_PRIORITY = 750;\r\n\r\nconst OFFSET_X = 26;\r\n\r\n\r\nexport default class Description {\r\n\r\n  constructor(\r\n      components, contextMenu, elementRegistry,\r\n      eventBus, modeling, renderer, translate) {\r\n\r\n    this._contextMenu = contextMenu;\r\n    this._modeling = modeling;\r\n    this._renderer = renderer;\r\n    this._translate = translate;\r\n\r\n\r\n    eventBus.on('cell.click', LOWER_PRIORITY, (event) => {\r\n\r\n      if (event.defaultPrevented) {\r\n        return;\r\n      }\r\n\r\n      const {\r\n        target,\r\n        id\r\n      } = event;\r\n\r\n      const element = elementRegistry.get(id);\r\n\r\n      if (!isAny(element, [ 'dmn:UnaryTests', 'dmn:LiteralExpression' ])) {\r\n        return;\r\n      }\r\n\r\n      const description = getDescription(element);\r\n\r\n      if (!description) {\r\n\r\n        // prevent focus\r\n        event.preventDefault();\r\n      }\r\n\r\n      const container = renderer.getContainer(),\r\n            bounds = target.getBoundingClientRect();\r\n\r\n      const position = getPosition(container, bounds);\r\n\r\n      contextMenu.open(position, {\r\n        contextMenuType: 'cell-description',\r\n        autoFocus: false,\r\n        id,\r\n        offset: {\r\n          x: 4,\r\n          y: 4\r\n        }\r\n      });\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType\r\n        && context.contextMenuType === 'cell-description') {\r\n\r\n        const element = elementRegistry.get(context.id);\r\n\r\n        const description = getDescription(element);\r\n\r\n        if (isString(description)) {\r\n          return DescriptionEditor;\r\n        }\r\n      }\r\n    });\r\n\r\n    components.onGetComponent('context-menu-cell-additional', LOW_PRIORITY,\r\n      (context = {}) => {\r\n        if (context.contextMenuType\r\n          && context.contextMenuType === 'context-menu') {\r\n\r\n          const { id } = context;\r\n\r\n          if (!id) {\r\n            return;\r\n          }\r\n\r\n          const element = elementRegistry.get(id);\r\n\r\n          // element might not be in element registry (e.g. cut)\r\n          if (!element) {\r\n            return;\r\n          }\r\n\r\n          const { businessObject } = element;\r\n\r\n          const { description } = businessObject;\r\n\r\n          const existingDescription = isString(description);\r\n\r\n          const className =\r\n            existingDescription\r\n              ? 'remove-description'\r\n              : 'add-description';\r\n\r\n          const onClick =\r\n            existingDescription\r\n              ? () => this.removeDescription(element)\r\n              : () => this.addDescription(element);\r\n\r\n          return (\r\n            <div\r\n              className={ `context-menu-group-entry ${ className }` }\r\n              onClick={ onClick }>\r\n              {\r\n                isString(description)\r\n                  ?\r\n                  this._translate('Remove Cell Description')\r\n                  :\r\n                  this._translate('Add Cell Description')\r\n              }\r\n            </div>\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  addDescription = (cell) => {\r\n    this._modeling.updateProperties(cell, {\r\n      description: ''\r\n    });\r\n\r\n    const container = this._renderer.getContainer();\r\n\r\n    const node = getNodeById(cell.id, container);\r\n\r\n    const bounds = node.getBoundingClientRect();\r\n\r\n    const position = getPosition(container, bounds);\r\n\r\n    this._contextMenu.open(position, {\r\n      contextMenuType: 'cell-description',\r\n      id: cell.id,\r\n      autoFocus: true,\r\n      offset: {\r\n        x: 4,\r\n        y: 4\r\n      }\r\n    });\r\n  }\r\n\r\n  removeDescription = (cell) => {\r\n    this._modeling.updateProperties(cell, {\r\n      description: null\r\n    });\r\n\r\n    this._contextMenu.close();\r\n  }\r\n}\r\n\r\nDescription.$inject = [\r\n  'components',\r\n  'contextMenu',\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'modeling',\r\n  'renderer',\r\n  'translate'\r\n];\r\n\r\n// helpers //////////\r\n\r\nfunction getPosition(container, bounds) {\r\n  const { top, left, width, height } = bounds;\r\n\r\n  return {\r\n    x: left + container.parentNode.scrollLeft - OFFSET_X,\r\n    y: top + container.parentNode.scrollTop,\r\n    width: width + (2 * OFFSET_X),\r\n    height\r\n  };\r\n}\r\n\r\nfunction getDescription(element) {\r\n  return element\r\n    && element.businessObject\r\n    && element.businessObject.description;\r\n}","import InteractionModule from 'table-js/lib/features/interaction-events';\r\nimport ContextMenuModule from 'table-js/lib/features/context-menu';\r\n\r\nimport Description from './Description';\r\n\r\n\r\nexport default {\r\n  __depends__: [\r\n    ContextMenuModule,\r\n    InteractionModule\r\n  ],\r\n  __init__: [\r\n    'description'\r\n  ],\r\n  description: [ 'type', Description ]\r\n};","/* eslint-disable max-len */\r\n\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport { isInput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\n\r\nexport default class ExpressionLanguage {\r\n  constructor(components, elementRegistry, modeling, expressionLanguages, translate, contextMenu) {\r\n    this._modeling = modeling;\r\n    this._translate = translate;\r\n\r\n    components.onGetComponent('context-menu-cell-additional', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'context-menu') {\r\n\r\n        const {\r\n          event,\r\n          id\r\n        } = context;\r\n\r\n        if (!id) {\r\n          return;\r\n        }\r\n\r\n        const element = elementRegistry.get(id);\r\n\r\n        // element might not be in element registry (e.g. cut)\r\n        if (!element) {\r\n          return;\r\n        }\r\n\r\n        const openMenu = clickEvent => {\r\n          contextMenu.open({\r\n            x: (event || clickEvent).pageX,\r\n            y: (event || clickEvent).pageY\r\n          }, {\r\n            contextMenuType: 'expression-language',\r\n            id\r\n          });\r\n        };\r\n\r\n        return (\r\n          <div\r\n            className=\"context-menu-group-entry\"\r\n            onClick={ openMenu }\r\n          >\r\n            { this._translate('Change Cell Expression Language') }\r\n          </div>\r\n        );\r\n\r\n      }\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'expression-language') {\r\n\r\n        const { id } = context;\r\n\r\n        if (!id) {\r\n          return;\r\n        }\r\n\r\n        const element = elementRegistry.get(id);\r\n\r\n        // element might not be in element registry (e.g. cut)\r\n        if (!element) {\r\n          return;\r\n        }\r\n\r\n        const expressionLanguage = element.businessObject.expressionLanguage\r\n          || expressionLanguages.getDefault(isInput(element.col) ? 'inputCell' : 'outputCell').value;\r\n\r\n        const options = expressionLanguages.getAll();\r\n\r\n        return () => (\r\n          <div\r\n            className=\"context-menu-flex\">\r\n            <div className=\"context-menu-group\">\r\n              <div className=\"context-menu-group-entry context-menu-entry-set-expression-language\">\r\n                <div>\r\n                  { this._translate('Expression Language') }\r\n                </div>\r\n\r\n                <InputSelect\r\n                  className=\"expression-language\"\r\n                  onChange={ value => this.onChange(element, value) }\r\n                  options={ options }\r\n                  value={ expressionLanguage } />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  onChange(cell, expressionLanguage) {\r\n    this._modeling.editExpressionLanguage(cell.businessObject, expressionLanguage);\r\n  }\r\n}\r\n\r\nExpressionLanguage.$inject = [\r\n  'components',\r\n  'elementRegistry',\r\n  'modeling',\r\n  'expressionLanguages',\r\n  'translate',\r\n  'contextMenu'\r\n];\r\n","import ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\r\n\r\nimport ExpressionLanguage from './ExpressionLanguage';\r\n\r\nexport default {\r\n  __depends__: [\r\n    ExpressionLanguagesModule\r\n  ],\r\n  __init__: [ 'expressionLanguage' ],\r\n  expressionLanguage: [ 'type', ExpressionLanguage ]\r\n};","import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\nimport {\r\n  inject,\r\n  mixin,\r\n  classNames,\r\n  SelectionAware\r\n} from 'table-js/lib/components';\r\n\r\n\r\nexport default class DecisionTablePropertiesComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.setupChangeListeners({ bind: this.getBusinessObject().id });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setupChangeListeners({\r\n      unbind: this.getBusinessObject().id\r\n    });\r\n  }\r\n\r\n  setupChangeListeners({ bind, unbind }) {\r\n\r\n    if (typeof unbind === 'string') {\r\n      this.changeSupport.offElementsChanged(unbind, this.onElementsChanged);\r\n    }\r\n\r\n    if (typeof bind === 'string') {\r\n      this.changeSupport.onElementsChanged(bind, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  getBusinessObject() {\r\n    return this.sheet.getRoot().businessObject.$parent;\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  setDecisionTableName = (name) => {\r\n    this.modeling.editDecisionTableName(name);\r\n  }\r\n\r\n  render() {\r\n    const bo = this.getBusinessObject();\r\n\r\n    const { name } = bo;\r\n\r\n    const HitPolicy = this.components.getComponent('hit-policy') || NullComponent;\r\n\r\n    return (\r\n      <div className=\"decision-table-properties\">\r\n        <DecisionTableName\r\n          className=\"decision-table-name\"\r\n          value={ name }\r\n          ctrlForNewline={ true }\r\n          onBlur={ resetScroll }\r\n          onChange={ this.setDecisionTableName }\r\n          elementId={ '__decisionProperties_name' }\r\n          coords={ '0:__decisionProperties' }\r\n        />\r\n        <span className=\"decision-table-header-separator\" />\r\n        <HitPolicy />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDecisionTablePropertiesComponent.$inject = [\r\n  'sheet',\r\n  'modeling',\r\n  'changeSupport',\r\n  'components'\r\n];\r\n\r\n\r\nclass DecisionTableName extends EditableComponent {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    mixin(this, SelectionAware);\r\n  }\r\n\r\n  render() {\r\n\r\n    const name = this.props.value;\r\n\r\n    const className = classNames(\r\n      this.getSelectionClasses(),\r\n      this.getClassName()\r\n    );\r\n\r\n    return (\r\n      <p\r\n        className={ className }\r\n        data-element-id={ this.props.elementId }\r\n        data-coords={ this.props.coords }\r\n        title={ 'Decision Name: ' + name }\r\n      >\r\n        { this.getEditor() }\r\n      </p>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction NullComponent() {\r\n  return null;\r\n}\r\n\r\nfunction resetScroll(event) {\r\n  event.target.scroll(0, 0);\r\n}\r\n","import Component from './components/DecisionTablePropertiesEditorComponent';\n\nconst LOW_PRIORITY = 500;\n\nexport default class DecisionTableProperties {\n  constructor(components) {\n    components.onGetComponent('table.before', LOW_PRIORITY, () => {\n      return Component;\n    });\n  }\n}\n\nDecisionTableProperties.$inject = [ 'components' ];","import DecisionTablePropertiesEditor from './DecisionTablePropertiesEditor';\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\n\nexport default {\n  __depends__: [ DebounceInput ],\n  __init__: [ 'decisionTableProperties' ],\n  decisionTableProperties: [ 'type', DecisionTablePropertiesEditor ]\n};","import { Component } from 'inferno';\n\nimport { find } from 'min-dash';\n\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\nimport { HIT_POLICIES } from './../../HitPolicies';\n\n\nexport default class EditableHitPolicy extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n  }\n\n  onChange = ({ aggregation, hitPolicy }) => {\n    this.modeling.editHitPolicy(hitPolicy, aggregation);\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  componentDidMount() {\n    this.changeSupport.onElementsChanged(this.getRoot().id, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    this.changeSupport.offElementsChanged(this.getRoot().id, this.onElementsChanged);\n  }\n\n  getRoot() {\n    return this.sheet.getRoot();\n  }\n\n  render() {\n    const root = this.getRoot(),\n          businessObject = root.businessObject;\n\n    const { aggregation, hitPolicy } = businessObject;\n\n    const hitPolicyEntry = find(HIT_POLICIES, entry => {\n      return isEqualHitPolicy(entry.value, { aggregation, hitPolicy });\n    });\n\n    return (\n      <span className=\"hit-policy\" title={ hitPolicyEntry.explanation }>\n        <label className=\"dms-label\">\n          Hit Policy:\n        </label>\n        <InputSelect\n          className=\"hit-policy-edit-policy-select\"\n          onChange={ this.onChange }\n          options={ HIT_POLICIES }\n          value={ hitPolicyEntry.value }\n          data-hit-policy=\"true\"\n          noInput\n        />\n      </span>\n    );\n  }\n}\n\nEditableHitPolicy.$inject = [\n  'changeSupport',\n  'sheet',\n  'modeling'\n];\n\n\n// helpers //////////////////////\nfunction isEqualHitPolicy(a, b) {\n  return a.hitPolicy === b.hitPolicy && a.aggregation === b.aggregation;\n}\n","import EditableHitPolicy from './components/EditableHitPolicy';\n\n\nexport default function HitPolicyEditingProvider(\n    components\n) {\n\n  components.onGetComponent('hit-policy', () => {\n    return EditableHitPolicy;\n  });\n}\n\nHitPolicyEditingProvider.$inject = [\n  'components'\n];\n","import ContextMenu from 'table-js/lib/features/context-menu';\nimport HitPolicyEditingProvider from './HitPolicyEditingProvider';\n\nexport default {\n  __depends__: [ ContextMenu ],\n  __init__: [ 'hitPolicyProvider' ],\n  hitPolicyProvider: [ 'type', HitPolicyEditingProvider ]\n};","export {\r\n  default\r\n} from 'diagram-js/lib/command';\r\n\r\n","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\n\n/**\n * A handler responsible for updating the underlying DMN\n * once changes on the table happen.\n */\nexport default class DmnUpdater extends CommandInterceptor {\n\n  constructor(eventBus, sheet) {\n    super(eventBus);\n\n    this.executed([\n      'row.add',\n      'row.remove',\n      'col.add',\n      'col.remove'\n    ], ifDmn((e) => {\n      var context = e.context;\n\n      var element = context.row || context.col;\n\n      this.updateRoot(element, context.oldRoot);\n    }));\n\n    this.reverted([\n      'row.add',\n      'row.remove',\n      'col.add',\n      'col.remove'\n    ], ifDmn((e) => {\n      var context = e.context;\n\n      var element = context.row || context.col;\n\n      this.updateRoot(element, context.newRoot);\n    }));\n\n  }\n\n  updateRoot(element, oldRoot) {\n\n    var newRoot = element.root;\n\n    var businessObject = element.businessObject;\n\n    if (is(element, 'dmn:DecisionRule')) {\n\n      // we're removing\n      if (oldRoot) {\n        let oldTable = oldRoot.businessObject;\n\n        let oldRules = oldTable.get('rule');\n        let oldIdx = oldRules.indexOf(businessObject);\n\n        // unwire Row <-> Table\n        oldRules.splice(oldIdx, 1);\n        businessObject.$parent = null;\n      }\n\n      // we're adding\n      if (newRoot) {\n        let newTable = newRoot.businessObject;\n\n        let newIdx = newRoot.rows.indexOf(element);\n\n        // wire Row <-> Table\n        newTable.get('rule').splice(newIdx, 0, businessObject);\n        businessObject.$parent = newTable;\n\n        element.cells.forEach((cell, idx) => {\n\n          // wire Cell <-> Row\n          this.wireCell(cell, element, idx);\n        });\n      }\n    }\n\n\n    if (is(element, 'dmn:InputClause') || is(element, 'dmn:OutputClause')) {\n\n      let collection,\n          collectionIdx;\n\n      // we're removing\n      if (oldRoot) {\n        let oldTable = oldRoot.businessObject;\n\n        let inputs = oldTable.get('input');\n        let outputs = oldTable.get('output');\n\n        if (is(element, 'dmn:InputClause')) {\n          collection = inputs;\n          collectionIdx = inputs.indexOf(businessObject);\n        }\n\n        if (is(element, 'dmn:OutputClause')) {\n          collection = outputs;\n          collectionIdx = outputs.indexOf(businessObject);\n        }\n\n        if (collectionIdx === -1) {\n          throw new Error('inconsistent model: clause not in table');\n        }\n\n        // unwire Col <-> Table\n        collection.splice(collectionIdx, 1);\n        businessObject.$parent = null;\n\n        element.cells.forEach((cel, rowIdx) => {\n\n          // unwire Cell <-> Row\n          this.unwireCell(cel, oldRoot.rows[rowIdx]);\n        });\n\n      }\n\n\n      if (newRoot) {\n        let newTable = newRoot.businessObject;\n\n        let inputs = newTable.get('input');\n        let outputs = newTable.get('output');\n\n        let colIdx = newRoot.cols.indexOf(element);\n\n        let collectionIdx,\n            collection;\n\n        if (is(element, 'dmn:InputClause')) {\n          collection = inputs;\n          collectionIdx = colIdx;\n        }\n\n        if (is(element, 'dmn:OutputClause')) {\n          collection = outputs;\n          collectionIdx = colIdx - inputs.length;\n        }\n\n        // wire Col <-> Table\n        collection.splice(collectionIdx, 0, businessObject);\n        businessObject.$parent = newTable;\n\n        element.cells.forEach((cell, rowIdx) => {\n\n          // wire Cell <-> Row\n          this.wireCell(cell, newRoot.rows[rowIdx], colIdx);\n        });\n\n      }\n    }\n  }\n\n  unwireCell(cell, oldRow) {\n\n    var cellBo = cell.businessObject;\n\n    let oldRowBo = oldRow.businessObject;\n\n    let inputEntries = oldRowBo.get('inputEntry');\n    let outputEntries = oldRowBo.get('outputEntry');\n\n    let collection,\n        collectionIdx;\n\n    // remove from inputEntries\n    if (is(cell, 'dmn:UnaryTests')) {\n      collection = inputEntries;\n    }\n\n    // remove from outputEntries\n    if (is(cell, 'dmn:LiteralExpression')) {\n      collection = outputEntries;\n    }\n\n    collectionIdx = collection.indexOf(cellBo);\n\n    if (collectionIdx === -1) {\n      throw new Error('cell not in row');\n    }\n\n    // unwire Cell <-> Row relationship\n    collection.splice(collectionIdx, 1);\n    cellBo.$parent = null;\n  }\n\n  wireCell(cell, row, colIdx) {\n\n    var cellBo = cell.businessObject;\n\n    let rowBo = row.businessObject;\n\n    let inputEntries = rowBo.get('inputEntry');\n    let outputEntries = rowBo.get('outputEntry');\n\n    let collection,\n        collectionIdx;\n\n    // ensure we handle already wired cells\n    if (cellBo.$parent === rowBo) {\n      return;\n    }\n\n    // add to inputEntries\n    if (is(cell, 'dmn:UnaryTests')) {\n      collection = inputEntries;\n      collectionIdx = colIdx;\n    }\n\n    // add to outputEntries\n    if (is(cell, 'dmn:LiteralExpression')) {\n      collection = outputEntries;\n      collectionIdx = colIdx - inputEntries.length;\n    }\n\n    // wire Cell <-> Row relationship\n    collection.splice(collectionIdx, 0, cellBo);\n    cellBo.$parent = rowBo;\n  }\n\n}\n\nDmnUpdater.$inject = [\n  'eventBus',\n  'sheet'\n];\n\n\n\n// helpers //////////////////////\n\n/**\n * Make sure the event listener is only called\n * if the touched element is a DMN element.\n *\n * @param  {Function} fn\n * @return {Function} guarded function\n */\nfunction ifDmn(fn) {\n\n  return function(event) {\n\n    var context = event.context,\n        element = context.row || context.col;\n\n    if (is(element, 'dmn:DMNElement')) {\n      fn(event);\n    }\n  };\n}","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default class DmnFactory {\n\n  constructor(moddle) {\n    this._model = moddle;\n  }\n\n  create(type, attrs = {}) {\n\n    var element = this._model.create(type, attrs || {});\n\n    if (is(element, 'dmn:InputClause')) {\n\n      if (attrs.inputExpression) {\n        element.inputExpression = attrs.inputExpression;\n      } else {\n        element.inputExpression = this.create('dmn:LiteralExpression', {\n          typeRef: 'string'\n        });\n\n        element.inputExpression.$parent = element;\n      }\n\n    }\n\n    if (is(element, 'dmn:OutputClause')) {\n      element.typeRef = attrs.typeRef || 'string';\n    }\n\n    if (is(element, 'dmn:UnaryTests') ||\n        is(element, 'dmn:LiteralExpression')) {\n\n      element.text = attrs.text || '';\n    }\n\n    this._ensureId(element);\n\n    return element;\n  }\n\n  _needsId(element) {\n    return is(element, 'dmn:DMNElement');\n  }\n\n  _ensureId(element) {\n\n    // generate semantic ids for elements\n    // dmn:UnaryTests -> UnaryTests_ID\n    var prefix = (element.$type || '').replace(/^[^:]*:/g, '') + '_';\n\n    if (!element.id && this._needsId(element)) {\n      element.id = this._model.ids.nextPrefixed(prefix, element);\n    }\n  }\n\n}\n\nDmnFactory.$inject = [ 'moddle' ];","\n/**\n * A handler that implements row addition.\n */\nexport default class AddRowHandler {\n\n  constructor(sheet, elementFactory) {\n    this._sheet = sheet;\n    this._elementFactory = elementFactory;\n  }\n\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    const sheet = this._sheet,\n          elementFactory = this._elementFactory,\n          root = sheet.getRoot();\n\n    let {\n      row,\n      index\n    } = context;\n\n    if (typeof index === 'undefined') {\n      index = context.index = root.rows.length;\n    }\n\n    context.newRoot = root;\n\n    if (!row.cells.length) {\n      root.cols.forEach((col, idx) => {\n        const cell = elementFactory.create('cell', { row, col });\n\n        row.cells[idx] = cell;\n      });\n    }\n\n    sheet.addRow(row, index);\n\n    return sheet.getRoot();\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      row\n    } = context;\n\n    const sheet = this._sheet;\n\n    sheet.removeRow(row);\n\n    return sheet.getRoot();\n  }\n\n}\n\nAddRowHandler.$inject = [\n  'sheet',\n  'elementFactory'\n];","\n/**\n * A handler that implements row deletion.\n */\nexport default class RemoveRowHandler {\n\n  constructor(sheet) {\n    this._sheet = sheet;\n  }\n\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    const sheet = this._sheet,\n          root = sheet.getRoot();\n\n    let {\n      row\n    } = context;\n\n    // retrieve and remember previous row position\n    const oldIndex = context.oldIndex = root.rows.indexOf(row);\n\n    context.oldRoot = row.root;\n\n    if (oldIndex === -1) {\n      throw new Error(`row#${row.id} not in sheet`);\n    }\n\n    sheet.removeRow(row);\n\n    return sheet.getRoot();\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      row,\n      oldIndex\n    } = context;\n\n    const sheet = this._sheet;\n\n    sheet.addRow(row, oldIndex);\n\n    return sheet.getRoot();\n  }\n\n}\n\nRemoveRowHandler.$inject = [\n  'sheet'\n];","\n/**\n * A handler that implements row movement.\n */\nexport default class MoveRowHandler {\n\n  constructor(modeling) {\n    this._modeling = modeling;\n  }\n\n  /**\n   * <preexecute>\n   */\n  preExecute(context) {\n    let {\n      row\n    } = context;\n\n    this._modeling.removeRow(row);\n  }\n\n  /**\n   * <postexecute>\n   */\n  postExecute(context) {\n    let {\n      row,\n      index\n    } = context;\n\n    this._modeling.addRow(row, index);\n  }\n\n}\n\nMoveRowHandler.$inject = [ 'modeling' ];","\n/**\n * A handler that implements column addition.\n */\nexport default class AddColHandler {\n\n  constructor(sheet, elementFactory) {\n    this._sheet = sheet;\n    this._elementFactory = elementFactory;\n  }\n\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    const sheet = this._sheet,\n          elementFactory = this._elementFactory,\n          root = sheet.getRoot();\n\n    let {\n      col,\n      index\n    } = context;\n\n    if (typeof index === 'undefined') {\n      index = context.index = root.cols.length;\n    }\n\n    context.newRoot = root;\n\n    if (!col.cells.length) {\n      root.rows.forEach((row, idx) => {\n        const cell = elementFactory.create('cell', { row, col });\n\n        col.cells[idx] = cell;\n      });\n    }\n\n    sheet.addCol(col, index);\n\n    return sheet.getRoot();\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      col\n    } = context;\n\n    const sheet = this._sheet;\n\n    sheet.removeCol(col);\n\n    return sheet.getRoot();\n  }\n\n}\n\nAddColHandler.$inject = [\n  'sheet',\n  'elementFactory'\n];","\n/**\n * A handler that implements column deletion.\n */\nexport default class RemoveColHandler {\n\n  constructor(sheet, elementFactory) {\n    this._sheet = sheet;\n    this._elementFactory = elementFactory;\n  }\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    const sheet = this._sheet;\n\n    let {\n      col\n    } = context;\n\n    const root = context.oldRoot = col.root;\n\n    // retrieve and remember previous col position\n    const oldIndex = context.oldIndex = root.cols.indexOf(col);\n\n    if (oldIndex === -1) {\n      throw new Error(`col#${col.id} not in sheet`);\n    }\n\n    sheet.removeCol(col);\n\n    return sheet.getRoot();\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      col,\n      oldIndex\n    } = context;\n\n    const sheet = this._sheet;\n\n    sheet.addCol(col, oldIndex);\n\n    return sheet.getRoot();\n  }\n\n}\n\n\nRemoveColHandler.$inject = [\n  'sheet',\n  'elementFactory'\n];","\n/**\n * A handler that implements col movement.\n */\nexport default class MoveColHandler {\n\n  constructor(modeling) {\n    this._modeling = modeling;\n  }\n\n  /**\n   * <preexecute>\n   */\n  preExecute(context) {\n    let {\n      col\n    } = context;\n\n    this._modeling.removeCol(col);\n  }\n\n  /**\n   * <postexecute>\n   */\n  postExecute(context) {\n    let {\n      col,\n      index\n    } = context;\n\n    this._modeling.addCol(col, index);\n  }\n\n}\n\nMoveColHandler.$inject = [ 'modeling' ];","\n/**\n * A handler that implements cell editing.\n *\n * Per default, this handler does nothing.\n * Interested parties may hook into the edit commands\n * `preExecute` or `postExecute` phases to carry out\n * the actual editing.\n */\nexport default class EditCellHandler {\n\n  /**\n   * <do>\n   */\n  execute(context) {\n\n    let {\n      cell\n    } = context;\n\n    return cell;\n  }\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n\n    const {\n      cell\n    } = context;\n\n    return cell;\n  }\n\n}","import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\n/**\n * A handler that implements adding/removing allowed values.\n */\nexport default class UpdateAllowedValuesHandler {\n\n  constructor(dmnFactory, moddle, modeling) {\n    this._dmnFactory = dmnFactory;\n    this._moddle = moddle;\n    this._modeling = modeling;\n  }\n\n  /**\n   * <do>\n   */\n  execute(context) {\n    const {\n      element,\n      allowedValues\n    } = context;\n\n    const isInput = is(element, 'dmn:InputClause');\n\n    if (isInput) {\n\n      if (element.inputValues) {\n        context.oldAllowedValues = element.inputValues.text;\n      } else {\n\n        if (!isNull(allowedValues)) {\n          element.inputValues = this._dmnFactory.create('dmn:UnaryTests', {\n            text: ''\n          });\n        }\n\n      }\n\n      if (isNull(allowedValues)) {\n        if (element.inputValues) {\n          delete element.inputValues;\n        }\n      } else {\n        element.inputValues.text = allowedValues.join(',');\n      }\n\n    } else {\n\n      if (element.outputValues && element) {\n        context.oldAllowedValues = element.outputValues.text;\n      } else {\n\n        if (!isNull(allowedValues)) {\n          element.outputValues = this._dmnFactory.create('dmn:UnaryTests', {\n            text: ''\n          });\n        }\n\n      }\n\n      if (isNull(allowedValues)) {\n        if (element.outputValues) {\n          delete element.outputValues;\n        }\n      } else {\n        element.outputValues.text = allowedValues.join(',');\n      }\n\n\n    }\n\n    return element;\n  }\n\n\n  /**\n   * <undo>\n   */\n  revert(context) {\n    const {\n      element,\n      oldAllowedValues\n    } = context;\n\n    const isInput = is(element, 'dmn:InputClause');\n\n    if (isInput) {\n\n      if (oldAllowedValues) {\n\n        if (!element.inputValues) {\n          element.inputValues = this._dmnFactory.create('dmn:UnaryTests', {\n            text: ''\n          });\n        }\n\n        element.inputValues.text = oldAllowedValues;\n\n      } else {\n        delete element.inputValues;\n      }\n\n    } else {\n\n      if (oldAllowedValues) {\n\n        if (!element.outputValues) {\n          element.outputValues = this._dmnFactory.create('dmn:UnaryTests', {\n            text: ''\n          });\n        }\n\n        element.outputValues.text = oldAllowedValues;\n\n      } else {\n        delete element.outputValues;\n      }\n\n    }\n\n    return element;\n  }\n\n}\n\nUpdateAllowedValuesHandler.$inject = [\n  'dmnFactory',\n  'moddle',\n  'modeling'\n];\n\n\n// helpers //////////////////////\n\nfunction isNull(value) {\n  return value === null;\n}","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\r\n\r\nimport { isArray } from 'min-dash';\r\n\r\n\r\nexport default class IdClaimBehavior extends CommandInterceptor {\r\n\r\n  constructor(eventBus, moddle, modeling) {\r\n    super(eventBus);\r\n\r\n    this._ids = moddle.ids;\r\n    this._modeling = modeling;\r\n\r\n    this.preExecute([\r\n      'row.add',\r\n      'col.add'\r\n    ], event => {\r\n      const context = event.context,\r\n            element = context.row || context.col;\r\n\r\n      this.claimId(element.businessObject);\r\n\r\n      if (element.cells) {\r\n        element.cells.forEach(cell => this.claimId(cell.businessObject));\r\n      }\r\n    });\r\n  }\r\n\r\n  claimId(businessObject) {\r\n\r\n    if (businessObject.id && !this._ids.assigned(businessObject.id)) {\r\n      this._modeling.claimId(businessObject.id, businessObject);\r\n    }\r\n\r\n    businessObject.$descriptor.properties.forEach(property => {\r\n      const value = businessObject[property.name];\r\n\r\n      // not set\r\n      if (!value) {\r\n        return;\r\n      }\r\n\r\n      // array of moddle elements\r\n      if (isArray(value)) {\r\n        value.forEach(v => this.claimId(v));\r\n      }\r\n\r\n      // moddle element\r\n      if (value.$type) {\r\n        this.claimId(value);\r\n      }\r\n    });\r\n\r\n  }\r\n}\r\n\r\nIdClaimBehavior.$inject = [ 'eventBus', 'moddle', 'modeling' ];","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\r\n\r\nimport { isArray } from 'min-dash';\r\n\r\n\r\nexport default class IdUnclaimBehavior extends CommandInterceptor {\r\n\r\n  constructor(eventBus, modeling) {\r\n    super(eventBus);\r\n\r\n    this._modeling = modeling;\r\n\r\n    this.preExecute([ 'row.remove', 'col.remove' ], event => {\r\n      const context = event.context,\r\n            element = context.row || context.col;\r\n\r\n      this.unclaimId(element.businessObject);\r\n\r\n      if (element.cells) {\r\n        element.cells.forEach(cell => this.unclaimId(cell.businessObject));\r\n      }\r\n    });\r\n  }\r\n\r\n  unclaimId(businessObject) {\r\n\r\n    if (businessObject.id) {\r\n      this._modeling.unclaimId(businessObject.id, businessObject);\r\n    }\r\n\r\n    businessObject.$descriptor.properties.forEach(property => {\r\n      const value = businessObject[property.name];\r\n\r\n      // not set\r\n      if (!value) {\r\n        return;\r\n      }\r\n\r\n      // array of moddle elements\r\n      if (isArray(value)) {\r\n        value.forEach(v => this.unclaimId(v));\r\n      }\r\n\r\n      // moddle element\r\n      if (value.$type) {\r\n        this.unclaimId(value);\r\n      }\r\n    });\r\n\r\n  }\r\n}\r\n\r\nIdUnclaimBehavior.$inject = [ 'eventBus', 'modeling' ];","import { Component } from 'inferno';\n\nimport { isString } from 'min-dash';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\n\nimport { Cell } from 'table-js/lib/components';\n\n\nexport default class DecisionRulesEditorCellComponent extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      isFocussed: false\n    };\n\n    this.changeCellValue = this.changeCellValue.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onElementsChanged = this.onElementsChanged.bind(this);\n  }\n\n\n  onElementsChanged() {\n    this.forceUpdate();\n  }\n\n\n  componentWillMount() {\n    const { injector } = this.context;\n\n    const { cell } = this.props;\n\n    const changeSupport = this._changeSupport = this.context.changeSupport;\n\n    this._modeling = injector.get('modeling');\n\n    changeSupport.onElementsChanged(cell.id, this.onElementsChanged);\n  }\n\n\n  componentWillUnmount() {\n    const { cell } = this.props;\n\n    this._changeSupport.offElementsChanged(cell.id, this.onElementsChanged);\n  }\n\n\n  changeCellValue(value) {\n    const { cell } = this.props;\n\n    this._modeling.editCell(cell.businessObject, value);\n  }\n\n\n  onFocus() {\n    this.setState({\n      isFocussed: true\n    });\n  }\n\n\n  onBlur() {\n    this.setState({\n      isFocussed: false\n    });\n  }\n\n\n  render() {\n    const {\n      cell,\n      rowIndex,\n      row,\n      col,\n      colIndex\n    } = this.props;\n\n    const { isFocussed } = this.state;\n\n    const isUnaryTest = is(cell, 'dmn:UnaryTests');\n    const businessObject = cell.businessObject;\n\n    return (\n      <Cell\n        className={ isUnaryTest ? 'input-cell' : 'output-cell' }\n        elementId={ cell.id }\n        coords={ `${rowIndex}:${colIndex}` }\n        data-row-id={ row.id }\n        data-col-id={ col.id }\n      >\n        <TableCellEditor\n          className=\"cell-editor\"\n          placeholder={ isUnaryTest ? '-' : '' }\n          ctrlForNewline={ true }\n          onFocus={ this.onFocus }\n          onBlur={ this.onBlur }\n          isFocussed={ isFocussed }\n          onChange={ this.changeCellValue }\n          value={ businessObject.text }\n          businessObject={ businessObject } />\n      </Cell>\n    );\n  }\n}\n\n\nclass TableCellEditor extends EditableComponent {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this._expressionLanguages = context.injector.get('expressionLanguages');\n    this._translate = context.injector.get('translate');\n  }\n\n  isDefaultExpressionLanguage(businessObject) {\n    const { expressionLanguage } = businessObject;\n\n    const defaultExpressionLanguage = this.getDefaultExpressionLanguage(\n      businessObject\n    ).value;\n\n    return !expressionLanguage || expressionLanguage === defaultExpressionLanguage;\n  }\n\n  getDescription(businessObject) {\n    return businessObject.description;\n  }\n\n  getExpressionLanguageLabel(businessObject) {\n    const { expressionLanguage } = businessObject;\n\n    const defaultExpressionLanguage = this.getDefaultExpressionLanguage(businessObject);\n\n    return this._expressionLanguages.getLabel(expressionLanguage) ||\n      defaultExpressionLanguage.label;\n  }\n\n  isScript(businessObject) {\n    const defaultExpressionLanguage = this.getDefaultExpressionLanguage(businessObject);\n\n    const isInputCell = is(businessObject, 'dmn:UnaryTests');\n\n    if (!isInputCell) {\n      return false;\n    }\n\n    if (businessObject.text.indexOf('\\n') !== -1) {\n      return true;\n    }\n\n    return businessObject.expressionLanguage &&\n      businessObject.expressionLanguage !== defaultExpressionLanguage;\n  }\n\n  getDefaultExpressionLanguage(businessObject) {\n    const elementType = is(businessObject, 'dmn:UnaryTests') ? 'inputCell' : 'outputCell';\n\n    return this._expressionLanguages.getDefault(elementType);\n  }\n\n  render() {\n    const {\n      businessObject,\n      isFocussed\n    } = this.props;\n\n    const description = this.getDescription(businessObject);\n\n    const isDefaultExpressionLanguage = this.isDefaultExpressionLanguage(businessObject);\n\n    const expressionLanguageLabel = this.getExpressionLanguageLabel(businessObject);\n\n    const isScript = this.isScript(businessObject);\n\n    return (\n      <div className={ this.getClassName() }>\n        {\n          isString(description)\n            && !isFocussed\n            && <div className=\"description-indicator\"></div>\n        }\n        {\n          this.getEditor({\n            className: isScript ? 'script-editor' : null\n          })\n        }\n        {\n          !isDefaultExpressionLanguage &&\n          !isFocussed && (\n            <span\n              className=\"dms-badge dmn-expression-language\"\n              title={ this._translate(\n                'Expression Language = {expressionLanguageLabel}',\n                { expressionLanguageLabel }\n              ) }>\n              <span class=\"dms-badge-icon dmn-icon-file-code\"></span>\n              <span class=\"dms-badge-label\">{ expressionLanguageLabel }</span>\n            </span>\n          )\n        }\n      </div>\n    );\n  }\n}\n","import DecisionRulesCellEditorComponent\n  from './components/DecisionRulesCellEditorComponent';\n\nconst HIGH_PRIORITY = 1500;\n\n\nexport default class RulesEditor {\n  constructor(components) {\n    components.onGetComponent('cell', HIGH_PRIORITY, ({ cellType }) => {\n      if (cellType === 'rule') {\n        return DecisionRulesCellEditorComponent;\n      }\n    });\n  }\n}\n\nRulesEditor.$inject = [ 'components' ];","import DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\nimport DecisionRulesEditor from './DecisionRulesEditor';\nimport Rules from './index';\n\nexport default {\n  __depends__: [ DebounceInput, Rules ],\n  __init__: [ 'decisionRulesEditor' ],\n  decisionRulesEditor: [ 'type', DecisionRulesEditor ]\n};","import { Component } from 'inferno';\r\n\r\nimport { assign } from 'min-dash';\r\n\r\nimport {\r\n  getNodeById\r\n} from '../../cell-selection/CellSelectionUtil';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nconst OFFSET = 4;\r\n\r\n\r\nexport default class SimpleModeButtonComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.state = {\r\n      top: 0,\r\n      left: 0,\r\n      isVisible: false,\r\n      isDisabled: true\r\n    };\r\n\r\n    const { injector } = context;\r\n\r\n    const eventBus = this._eventBus = injector.get('eventBus'),\r\n          simpleMode = injector.get('simpleMode'),\r\n          elementRegistry = context.injector.get('elementRegistry'),\r\n          expressionLanguages = context.injector.get('expressionLanguages');\r\n\r\n    this._renderer = injector.get('renderer');\r\n\r\n    this._selection = context.injector.get('selection');\r\n\r\n    this.updatePosition = this.updatePosition.bind(this);\r\n\r\n    eventBus.on('cellSelection.changed', ({ elementId }) => {\r\n      const selection = elementRegistry.get(elementId);\r\n\r\n      if (!selection || !simpleMode.canSimpleEdit(selection)) {\r\n        this.setState({\r\n          isVisible: false\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      this.setState({\r\n        isVisible: true,\r\n        selection\r\n      }, this.updatePosition);\r\n\r\n      const expressionLanguage = getExpressionLanguage(selection);\r\n\r\n      const isDisabled = !isDefaultExpressionLanguage(\r\n        selection, expressionLanguage, expressionLanguages\r\n      );\r\n\r\n      this.setState({\r\n        isVisible: true,\r\n        selection,\r\n        isDisabled\r\n      }, this.updatePosition);\r\n    });\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n\r\n  // position button always on opposite site of context menu\r\n  updatePosition() {\r\n    const { selection } = this.state;\r\n\r\n    if (!selection || !this.node) {\r\n      return;\r\n    }\r\n\r\n    const container = this._container = this._renderer.getContainer();\r\n\r\n    const cellNode = getNodeById(selection.id, container);\r\n\r\n    const cellBounds = cellNode.getBoundingClientRect();\r\n\r\n    const nodeBounds = this.node.getBoundingClientRect();\r\n\r\n    const containerBounds = container.getBoundingClientRect();\r\n\r\n    const { scrollLeft, scrollTop } = container;\r\n\r\n    const nodePosition = {};\r\n\r\n    if (cellBounds.left + (cellBounds.width / 2) > containerBounds.width / 2) {\r\n      nodePosition.left =\r\n        (window.scrollX\r\n        - containerBounds.left\r\n        + cellBounds.left\r\n        - nodeBounds.width\r\n        + OFFSET\r\n        + scrollLeft)\r\n        + 'px';\r\n    } else {\r\n      nodePosition.left =\r\n        (window.scrollX\r\n        - containerBounds.left\r\n        + cellBounds.left\r\n        + cellBounds.width\r\n        - OFFSET\r\n        + scrollLeft)\r\n        + 'px';\r\n    }\r\n\r\n    if (cellBounds.top + (cellBounds.height / 2) > containerBounds.height / 2) {\r\n      nodePosition.top =\r\n        (window.scrollY\r\n        - containerBounds.top\r\n        + cellBounds.top\r\n        - nodeBounds.height\r\n        + OFFSET\r\n        + scrollTop)\r\n        + 'px';\r\n    } else {\r\n      nodePosition.top =\r\n        (window.scrollY\r\n        - containerBounds.top\r\n        + cellBounds.top\r\n        - OFFSET\r\n        + scrollTop)\r\n        + 'px';\r\n    }\r\n\r\n    assign(this.node.style, nodePosition);\r\n  }\r\n\r\n  onClick() {\r\n    const { isDisabled } = this.state;\r\n\r\n    if (isDisabled) {\r\n      return;\r\n    }\r\n\r\n    const element = this._selection.get();\r\n\r\n    if (!element) {\r\n      return;\r\n    }\r\n\r\n    this._eventBus.fire('simpleMode.open', {\r\n      element,\r\n      node: getNodeById(element.id, this._container)\r\n    });\r\n\r\n    this.setState({\r\n      isVisible: false\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isDisabled, isVisible, top, left } = this.state;\r\n\r\n    const classes = [\r\n      'simple-mode-button',\r\n      'no-deselect'\r\n    ];\r\n\r\n    if (isDisabled) {\r\n      classes.push('disabled');\r\n    }\r\n\r\n    return (\r\n      isVisible\r\n        ? <div\r\n          className={ classes.join(' ') }\r\n          onClick={ this.onClick }\r\n          ref={ node => this.node = node }\r\n          style={ { top, left } }\r\n          title={ isDisabled\r\n            ? 'Editing not supported for set expression language'\r\n            : 'Edit' }><span className=\"dmn-icon-edit\"></span></div>\r\n        : null\r\n    );\r\n  }\r\n}\r\n\r\n\r\n// helpers //////////////////////\r\n\r\n/**\r\n * Return set expression language if found.\r\n *\r\n * @param {Cell} cell - Cell.\r\n */\r\nfunction getExpressionLanguage(cell) {\r\n  return cell.businessObject.expressionLanguage;\r\n}\r\n\r\nfunction isDefaultExpressionLanguage(cell, expressionLanguage, expressionLanguages) {\r\n  return !expressionLanguage ||\r\n    expressionLanguage === getDefaultExpressionLanguage(cell, expressionLanguages);\r\n}\r\n\r\nfunction getDefaultExpressionLanguage(cell, expressionLanguages) {\r\n  if (isInput(cell.col)) {\r\n    return expressionLanguages.getDefault('inputCell').value;\r\n  } else if (isOutput(cell.col)) {\r\n    return expressionLanguages.getDefault('outputCell').value;\r\n  }\r\n}\r\n","import SimpleModeButtonComponent from './components/SimpleModeButtonComponent';\r\n\r\nexport default class SimpleMode {\r\n\r\n  constructor(components, contextMenu, elementRegistry, eventBus, renderer) {\r\n\r\n    this._providers = [];\r\n\r\n    components.onGetComponent('table.before', () => {\r\n      return SimpleModeButtonComponent;\r\n    });\r\n\r\n    eventBus.on('simpleMode.open', ({ element, node }) => {\r\n      const { left, top, width, height } = node.getBoundingClientRect();\r\n\r\n      const container = renderer.getContainer();\r\n\r\n      contextMenu.open({\r\n        x: left + container.parentNode.scrollLeft,\r\n        y: top + container.parentNode.scrollTop,\r\n        width,\r\n        height\r\n      }, {\r\n        contextMenuType: 'simple-mode-edit',\r\n        element,\r\n        offset: {\r\n          x: 4,\r\n          y: 4\r\n        }\r\n      });\r\n    });\r\n\r\n    eventBus.on('cell.click', e => {\r\n\r\n      const {\r\n        event,\r\n        node,\r\n        id\r\n      } = e;\r\n\r\n      if (isCmd(event)) {\r\n        const element = elementRegistry.get(id);\r\n\r\n        if (element) {\r\n          eventBus.fire('simpleMode.open', {\r\n            node,\r\n            element\r\n          });\r\n        }\r\n\r\n        // prevent focus\r\n        e.preventDefault();\r\n      }\r\n    });\r\n  }\r\n\r\n  registerProvider(provider) {\r\n    this._providers.push(provider);\r\n  }\r\n\r\n  canSimpleEdit(element) {\r\n    return this._providers.reduce((canSimpleEdit, provider) => {\r\n      return canSimpleEdit || provider(element);\r\n    }, false);\r\n  }\r\n}\r\n\r\nSimpleMode.$inject = [\r\n  'components',\r\n  'contextMenu',\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'renderer'\r\n];\r\n\r\n\r\n// helpers //////////\r\n\r\nexport function isCmd(event) {\r\n\n  // ensure we don't react to AltGr\r\n  // (mapped to CTRL + ALT)\r\n  if (event.altKey) {\r\n    return false;\r\n  }\r\n\r\n  return event.ctrlKey || event.metaKey;\r\n}","import ContextMenu from 'table-js/lib/features/context-menu';\r\nimport CellSelection from '../cell-selection';\r\nimport ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\r\n\r\nimport SimpleMode from './SimpleMode';\r\n\r\nexport default {\r\n  __depends__: [\r\n    ContextMenu,\r\n    CellSelection,\r\n    ExpressionLanguagesModule\r\n  ],\r\n  __init__: [ 'simpleMode' ],\r\n  simpleMode: [ 'type', SimpleMode ]\r\n};","export function parseString(string) {\r\n  if (!string || isEmptyString(string)) {\r\n    return 'none';\r\n  } else if (string.trim() === 'true') {\r\n    return 'true';\r\n  } else if (string.trim() === 'false') {\r\n    return 'false';\r\n  }\r\n}\r\n\r\nfunction isEmptyString(string) {\r\n  return string === '';\r\n}","import { Component } from 'inferno';\r\n\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport { parseString } from '../Utils';\r\n\r\nconst TRUE = 'true',\r\n      FALSE = 'false',\r\n      NONE = 'none';\r\n\r\n\r\nexport default class BooleanEdit extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const parsedString = parseString(element.businessObject.text);\r\n\r\n    this.state = {\r\n      value: parsedString || NONE\r\n    };\r\n\r\n    this.editCell = this.editCell.bind(this);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  onChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    this.editCell(element.businessObject, value === NONE ? '' : value);\r\n\r\n    this.setState({\r\n      value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    const options = [{\r\n      label: '-',\r\n      value: NONE\r\n    }, {\r\n      label: 'Yes',\r\n      value: TRUE\r\n    }, {\r\n      label: 'No',\r\n      value: FALSE\r\n    }];\r\n\r\n    return (\r\n      <div class=\"simple-boolean-edit context-menu-container\">\r\n\r\n        <h3 class=\"dms-heading\">Edit Boolean</h3>\r\n\r\n        <h4 class=\"dms-heading\">Set Value</h4>\r\n\r\n        <InputSelect\r\n          noInput={ true }\r\n          className=\"dms-block\"\r\n          onChange={ this.onChange }\r\n          options={ options }\r\n          value={ value } />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import BooleanEdit from './components/BooleanEdit';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nexport default class SimpleBooleanEdit {\r\n  constructor(components, simpleMode) {\r\n    simpleMode.registerProvider(element => {\r\n      return (isInput(element.col) || isOutput(element.col))\r\n        && getTypeRef(element) === 'boolean';\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\r\n\r\n        if (!context.element) {\r\n          return;\r\n        }\r\n\r\n        const typeRef = getTypeRef(context.element);\r\n\r\n        if (typeRef === 'boolean') {\r\n          return BooleanEdit;\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nSimpleBooleanEdit.$inject = [ 'components', 'simpleMode' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getTypeRef(element) {\r\n  if (isInput(element.col)) {\r\n    return element.col && element.col.businessObject.inputExpression.typeRef;\r\n  } else {\r\n    return element.col && element.col.businessObject.typeRef;\r\n  }\r\n}","import SimpleMode from '../simple-mode';\r\nimport SimpleBooleanEdit from './SimpleBooleanEdit';\r\nimport Keyboard from '../keyboard';\r\n\r\nexport default {\r\n  __depends__: [ Keyboard, SimpleMode ],\r\n  __init__: [ 'simpleBooleanEdit' ],\r\n  simpleBooleanEdit: [ 'type', SimpleBooleanEdit ]\r\n};","const ISO_DATE_REGEX = /^\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d$/;\r\n\r\n// eslint-disable-next-line\r\nconst BETWEEN_DATE_REGEX = /^\\[date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"\\)..date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"/;\r\n\r\n// eslint-disable-next-line\r\nconst BEFORE_AFTER_DATE_REGEX = /^(<|>)\\s*date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"\\)/;\r\n\r\nconst EXACT_DATE_REGEX = /^date and time\\(\"(\\d{4}(?:-\\d\\d){2}T(?:\\d\\d:){2}\\d\\d)\"\\)$/;\r\n\r\nconst EXACT = 'exact',\r\n      BEFORE = 'before',\r\n      AFTER = 'after',\r\n      BETWEEN = 'between';\r\n\r\nexport function validateISOString(string) {\r\n  if (!ISO_DATE_REGEX.test(string.trim())) {\r\n    return 'Date must match pattern yyyy-MM-ddTHH:mm:ss.';\r\n  }\r\n}\r\n\r\nexport function getDateString(type, dates) {\r\n  if (type === EXACT) {\r\n    return `date and time(\"${ dates[0] }\")`;\r\n  } else if (type === BEFORE) {\r\n    return `< date and time(\"${ dates[0] }\")`;\r\n  } else if (type === AFTER) {\r\n    return `> date and time(\"${ dates[0] }\")`;\r\n  } else if (type === BETWEEN) {\r\n    return `[date and time(\"${ dates[0] }\")..date and time(\"${ dates[1] }\")]`;\r\n  }\r\n}\r\n\r\nexport function getSampleDate() {\r\n  const date = new Date();\r\n\r\n  date.setUTCHours(0, 0, 0, 0);\r\n\r\n  return date.toISOString().slice(0,-5);\r\n}\r\n\r\nexport function parseString(string) {\r\n\r\n  // emtpy\r\n  if (!string || string.trim() === '') {\r\n    return {\r\n      type: 'exact',\r\n      date: ''\r\n    };\r\n  }\r\n\r\n  // between\r\n  let matches = string.match(BETWEEN_DATE_REGEX);\r\n\r\n  if (matches) {\r\n    return {\r\n      type: 'between',\r\n      dates: [ matches[1], matches[2] ]\r\n    };\r\n  }\r\n\r\n  // before or after\r\n  matches = string.match(BEFORE_AFTER_DATE_REGEX);\r\n\r\n  if (matches) {\r\n    return {\r\n      type: matches[1] === '<' ? 'before' : 'after',\r\n      date: matches[2]\r\n    };\r\n  }\r\n\r\n  // exact\r\n  matches = string.match(EXACT_DATE_REGEX);\r\n\r\n  if (matches) {\r\n    return {\r\n      type: 'exact',\r\n      date: matches[1]\r\n    };\r\n  }\r\n}","import { Component } from 'inferno';\r\n\r\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\r\n\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport {\r\n  getDateString,\r\n  getSampleDate,\r\n  validateISOString,\r\n  parseString\r\n} from '../Utils';\r\n\r\nconst EXACT = 'exact',\r\n      BEFORE = 'before',\r\n      AFTER = 'after',\r\n      BETWEEN = 'between';\r\n\r\n\r\nexport default class InputDateEdit extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const parsedString = parseString(element.businessObject.text);\r\n\r\n    if (parsedString) {\r\n      let dates;\r\n\r\n      if (parsedString.date) {\r\n        dates = [ parsedString.date, '' ];\r\n      } else if (parsedString.dates) {\r\n        dates = parsedString.dates;\r\n      } else {\r\n        dates = [ '', '' ];\r\n      }\r\n\r\n      this.state = {\r\n        type: parsedString.type,\r\n        dates\r\n      };\r\n    } else {\r\n      this.state = {\r\n        type: EXACT,\r\n        dates: [ '', '' ]\r\n      };\r\n    }\r\n\r\n    const debounceInput = context.injector.get('debounceInput');\r\n\r\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\r\n    this.editCell = this.editCell.bind(this);\r\n\r\n    this.onTypeChange = this.onTypeChange.bind(this);\r\n    this.onSetStartDateTodayClick = this.onSetStartDateTodayClick.bind(this);\r\n    this.onSetEndDateTodayClick = this.onSetEndDateTodayClick.bind(this);\r\n    this.onStartDateInput = this.onStartDateInput.bind(this);\r\n    this.onEndDateInput = this.onEndDateInput.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  onTypeChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { dates } = this.state;\r\n\r\n    this.setState({\r\n      type: value\r\n    });\r\n\r\n    if (parseString(getDateString(value, dates))) {\r\n      this.editCell(element.businessObject, getDateString(value, dates));\r\n    }\r\n  }\r\n\r\n  onSetStartDateTodayClick() {\r\n    const { element } = this.props.context;\r\n\r\n    const { dates, type } = this.state;\r\n\r\n    const date = getSampleDate();\r\n\r\n    this.setState({\r\n      dates: [ date, dates[1] ]\r\n    });\r\n\r\n    if (parseString(getDateString(type, [ date, dates[1] ]))) {\r\n      this.editCell(element.businessObject, getDateString(type, [ date, dates[1] ]));\r\n    }\r\n  }\r\n\r\n  onSetEndDateTodayClick() {\r\n    const { element } = this.props.context;\r\n\r\n    const { dates, type } = this.state;\r\n\r\n    const date = getSampleDate();\r\n\r\n    this.setState({\r\n      dates: [ dates[0], date ]\r\n    });\r\n\r\n    if (parseString(getDateString(type, [ dates[0], date ]))) {\r\n      this.editCell(element.businessObject, getDateString(type, [ dates[0], date ]));\r\n    }\r\n  }\r\n\r\n  onStartDateInput({ isValid, value }) {\r\n    if (isValid) {\r\n      const { element } = this.props.context;\r\n\r\n      const { dates, type } = this.state;\r\n\r\n      this.setState({\r\n        dates: [ value, dates[1] ]\r\n      });\r\n\r\n      this.debouncedEditCell(\r\n        element.businessObject,\r\n        getDateString(type, [ value, dates[1] ])\r\n      );\r\n\r\n    }\r\n  }\r\n\r\n  onEndDateInput({ isValid, value }) {\r\n    if (isValid) {\r\n      const { element } = this.props.context;\r\n\r\n      const { dates, type } = this.state;\r\n\r\n      this.setState({\r\n        dates: [ dates[0], value ]\r\n      });\r\n\r\n      this.debouncedEditCell(\r\n        element.businessObject,\r\n        getDateString(type, [ dates[0], value ])\r\n      );\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dates, type } = this.state;\r\n\r\n    const options = [{\r\n      label: 'Exactly',\r\n      value: EXACT\r\n    }, {\r\n      label: 'Before',\r\n      value: BEFORE\r\n    }, {\r\n      label: 'After',\r\n      value: AFTER\r\n    }, {\r\n      label: 'Between',\r\n      value: BETWEEN\r\n    }];\r\n\r\n    return (\r\n      <div class=\"context-menu-container simple-date-edit\">\r\n\r\n        <h3 class=\"dms-heading\">Edit Date</h3>\r\n\r\n        <div className=\"dms-fill-row\">\r\n          <InputSelect\r\n            noInput={ true }\r\n            onChange={ this.onTypeChange }\r\n            options={ options }\r\n            value={ type } />\r\n        </div>\r\n\r\n        <h4 class=\"dms-heading\">\r\n          {\r\n            type === BETWEEN\r\n              ? 'Edit Start Date'\r\n              : 'Set Date'\r\n          }\r\n        </h4>\r\n\r\n        <div>\r\n          <ValidatedInput\r\n            className=\"start-date-input dms-block\"\r\n            onInput={ this.onStartDateInput }\r\n            placeholder={ `e.g. ${ getSampleDate() }` }\r\n            validate={ validateISOString }\r\n            value={ dates[0] } />\r\n\r\n          <p className=\"dms-hint\">\r\n            <button type=\"button\"\r\n              className=\"use-today\"\r\n              onClick={ this.onSetStartDateTodayClick }>Use today</button>.\r\n          </p>\r\n        </div>\r\n\r\n        {\r\n          type === BETWEEN\r\n            && <h4 class=\"dms-heading\">\r\n              Edit End Date\r\n            </h4>\r\n        }\r\n\r\n        {\r\n          type === BETWEEN\r\n            && <div>\r\n              <ValidatedInput\r\n                className=\"end-date-input dms-block\"\r\n                onInput={ this.onEndDateInput }\r\n                placeholder={ `e.g. ${ getSampleDate() }` }\r\n                validate={ validateISOString }\r\n                value={ dates[1] }>\r\n              </ValidatedInput>\r\n\r\n              <p className=\"dms-hint\">\r\n                <button type=\"button\"\r\n                  className=\"use-today\"\r\n                  onClick={ this.onSetEndDateTodayClick }>Use today</button>.\r\n              </p>\r\n            </div>\r\n        }\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import { Component } from 'inferno';\r\n\r\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\r\n\r\nimport {\r\n  getSampleDate,\r\n  validateISOString,\r\n  parseString\r\n} from '../Utils';\r\n\r\n\r\nexport default class OutputDateEdit extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const parsedString = parseString(element.businessObject.text);\r\n\r\n    this.state = {\r\n      date: parsedString ? parsedString.date : ''\r\n    };\r\n\r\n    const debounceInput = context.injector.get('debounceInput');\r\n\r\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\r\n    this.editCell = this.editCell.bind(this);\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n    this.onInput = this.onInput.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  onClick() {\r\n    const { element } = this.props.context;\r\n\r\n    const date = getSampleDate();\r\n\r\n    this.setState({\r\n      date\r\n    });\r\n\r\n    this.editCell(element.businessObject, `date and time(\"${ date }\")`);\r\n  }\r\n\r\n  onInput({ isValid, value }) {\r\n    if (isValid) {\r\n      const { element } = this.props.context;\r\n\r\n      this.setState({\r\n        date: value\r\n      });\r\n\r\n      this.debouncedEditCell(element.businessObject, `date and time(\"${ value }\")`);\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { date } = this.state;\r\n\r\n    return (\r\n      <div class=\"context-menu-container simple-date-edit\">\r\n\r\n        <h3 class=\"dms-heading\">Edit Date</h3>\r\n\r\n        <h4 class=\"dms-heading\">Set Date</h4>\r\n\r\n        <div>\r\n          <ValidatedInput\r\n            onInput={ this.onInput }\r\n            placeholder={ `e.g. ${ getSampleDate() }` }\r\n            validate={ validateISOString }\r\n            value={ date }\r\n            className=\"dms-block\">\r\n          </ValidatedInput>\r\n\r\n          <p className=\"dms-hint\">\r\n            Set date <button type=\"button\"\r\n              className=\"use-today\"\r\n              onClick={ this.onClick }>to today</button>.\r\n          </p>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import InputDateEdit from './components/InputDateEdit';\r\nimport OutputDateEdit from './components/OutputDateEdit';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nexport default class SimpleDateEdit {\r\n  constructor(components, simpleMode) {\r\n    simpleMode.registerProvider(element => {\r\n      const typeRef = getTypeRef(element);\r\n\r\n      return (isInput(element.col) || isOutput(element.col))\r\n        && isDate(typeRef);\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\r\n\r\n        if (!context.element) {\r\n          return;\r\n        }\r\n\r\n        const typeRef = getTypeRef(context.element);\r\n\r\n        if (isDate(typeRef)) {\r\n\r\n          if (isInput(context.element.col)) {\r\n            return InputDateEdit;\r\n          } else if (isOutput(context.element.col)) {\r\n            return OutputDateEdit;\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nSimpleDateEdit.$inject = [ 'components', 'simpleMode' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getTypeRef(element) {\r\n  if (isInput(element.col)) {\r\n    return element.col && element.col.businessObject.inputExpression.typeRef;\r\n  } else {\r\n    return element.col && element.col.businessObject.typeRef;\r\n  }\r\n}\r\n\r\nfunction isDate(typeRef) {\r\n  return typeRef === 'date';\r\n}","import SimpleMode from '../simple-mode';\r\nimport SimpleDateEdit from './SimpleDateEdit';\r\nimport Keyboard from '../keyboard';\r\n\r\nexport default {\r\n  __depends__: [ Keyboard, SimpleMode ],\r\n  __init__: [ 'simpleDateEdit' ],\r\n  simpleDateEdit: [ 'type', SimpleDateEdit ]\r\n};","import { keys } from 'min-dash';\r\n\r\n// eslint-disable-next-line\r\nconst COMPARISON_REGULAR_EXPRESSION = /^(-?(?:[0-9]|\\.[0-9])+)$|^((?:<|>|=){0,2})\\s*(-?(?:[0-9]|\\.[0-9])+)$/;\r\n\r\n// eslint-disable-next-line\r\nconst RANGE_REGULAR_EXPRESSION = /^(\\[|\\]){1}(-?(?:[0-9]|\\.[0-9])+){1,}\\.\\.(-?(?:[0-9]|\\.[0-9])+){1,}(\\[|\\]){1}$/;\r\n\r\nexport const operators = {\r\n  equals: '=',\r\n  less: '<',\r\n  lessEquals: '<=',\r\n  greater: '>',\r\n  greaterEquals: '>='\r\n};\r\n\r\nfunction getOperatorName(string) {\r\n  return keys(operators).filter(key => {\r\n    return string === operators[ key ];\r\n  })[0];\r\n}\r\n\r\nexport function parseString(string) {\r\n  if (!string || isEmptyString(string.trim())) {\r\n    return {\r\n      type: 'comparison'\r\n    };\r\n  }\r\n\r\n  const comparisonMatches = string.match(COMPARISON_REGULAR_EXPRESSION),\r\n        rangeMatches = string.match(RANGE_REGULAR_EXPRESSION);\r\n\r\n  if (comparisonMatches) {\r\n    if (isNumber(comparisonMatches)) {\r\n      return {\r\n        type: 'comparison',\r\n        value: parseFloat(comparisonMatches[1]),\r\n        operator: 'equals'\r\n      };\r\n    } else if (isComparison(comparisonMatches)) {\r\n      return {\r\n        type: 'comparison',\r\n        value: parseFloat(comparisonMatches[3]),\r\n        operator: getOperatorName(comparisonMatches[2])\r\n      };\r\n    }\r\n\r\n  } else if (rangeMatches) {\r\n    return {\r\n      type: 'range',\r\n      values: [ rangeMatches[2], rangeMatches[3] ].map(value => parseFloat(value)),\r\n      start: rangeMatches[1] === ']' ? 'exclude' : 'include',\r\n      end: rangeMatches[4] === '[' ? 'exclude' : 'include'\r\n    };\r\n  }\r\n\r\n}\r\n\r\nexport function isEmptyString(string) {\r\n  return string === '';\r\n}\r\n\r\nfunction isNumber(matches) {\r\n  return matches[0] && matches[1] && !matches[2] && !matches[3];\r\n}\r\n\r\nfunction isComparison(matches) {\r\n  return matches[0] && !matches[1] && matches[2] && matches[3];\r\n}\r\n\r\nexport function getComparisonString(comparisonOperator, comparisonValue) {\r\n  if (comparisonOperator === 'equals') {\r\n    return `${ comparisonValue }`;\r\n  } else {\r\n    return `${ operators[comparisonOperator] } ${ comparisonValue }`;\r\n  }\r\n}\r\n\r\nexport function getRangeString(\r\n    rangeStartValue,\r\n    rangeEndValue,\r\n    rangeStartType,\r\n    rangeEndType) {\r\n  const rangeStartChar = rangeStartType === 'exclude' ? ']' : '[',\r\n        rangeEndChar = rangeEndType === 'exclude' ? '[' : ']';\r\n\r\n  return `${ rangeStartChar }${ rangeStartValue }..${ rangeEndValue }${ rangeEndChar }`;\r\n}","import { Component } from 'inferno';\r\n\r\nimport Input from 'dmn-js-shared/lib/components/Input';\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport {\r\n  getComparisonString,\r\n  getRangeString,\r\n  parseString\r\n} from '../Utils';\r\n\r\nconst COMPARISON = 'comparison',\r\n      RANGE = 'range';\r\n\r\n\r\nexport default class InputNumberEdit extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const parsedString = parseString(element.businessObject.text);\r\n\r\n    if (parsedString) {\r\n      this.state = {\r\n        type: parsedString.type,\r\n        comparisonOperator: parsedString.operator || 'equals',\r\n        comparisonValue: parsedString.value || 0,\r\n        rangeStartValue: parsedString.values ? parsedString.values[0] : 0,\r\n        rangeEndValue: parsedString.values ? parsedString.values[1] : 0,\r\n        rangeStartType: parsedString.start || 'include',\r\n        rangeEndType: parsedString.end || 'include'\r\n      };\r\n    } else {\r\n      this.state = {\r\n        type: COMPARISON,\r\n        comparisonOperator: 'equals',\r\n        comparisonValue: 0,\r\n        rangeStartValue: 0,\r\n        rangeEndValue: 0,\r\n        rangeStartType: 'include',\r\n        rangeEndType: 'include'\r\n      };\r\n    }\r\n\r\n    const debounceInput = context.injector.get('debounceInput');\r\n\r\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\r\n    this.editCell = this.editCell.bind(this);\r\n\r\n    this.onComparisonOperatorChange = this.onComparisonOperatorChange.bind(this);\r\n    this.onComparisonValueChange = this.onComparisonValueChange.bind(this);\r\n    this.onTypeChange = this.onTypeChange.bind(this);\r\n    this.onRangeStartTypeChange = this.onRangeStartTypeChange.bind(this);\r\n    this.onRangeStartValueChange = this.onRangeStartValueChange.bind(this);\r\n    this.onRangeEndTypeChange = this.onRangeEndTypeChange.bind(this);\r\n    this.onRangeEndValueChange = this.onRangeEndValueChange.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  onTypeChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const {\r\n      comparisonOperator,\r\n      comparisonValue,\r\n      rangeStartValue,\r\n      rangeEndValue,\r\n      rangeStartType,\r\n      rangeEndType\r\n    } = this.state;\r\n\r\n    if (value === COMPARISON) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getComparisonString(comparisonOperator, comparisonValue)\r\n      );\r\n    } else {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getRangeString(rangeStartValue, rangeEndValue, rangeStartType, rangeEndType)\r\n      );\r\n    }\r\n\r\n    this.setState({\r\n      type: value\r\n    });\r\n  }\r\n\r\n  onComparisonOperatorChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, comparisonValue } = this.state;\r\n\r\n    if (type === COMPARISON) {\r\n      this.editCell(element.businessObject, getComparisonString(value, comparisonValue));\r\n\r\n      this.setState({\r\n        comparisonOperator: value\r\n      });\r\n    }\r\n  }\r\n\r\n  onComparisonValueChange(comparisonValue) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, comparisonOperator } = this.state;\r\n\r\n    if (type === COMPARISON) {\r\n      this.debouncedEditCell(\r\n        element.businessObject,\r\n        getComparisonString(comparisonOperator, comparisonValue)\r\n      );\r\n\r\n      this.setState({\r\n        comparisonValue\r\n      });\r\n    }\r\n  }\r\n\r\n  onRangeStartTypeChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, rangeStartValue, rangeEndValue, rangeEndType } = this.state;\r\n\r\n    if (type === RANGE) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getRangeString(rangeStartValue, rangeEndValue, value, rangeEndType)\r\n      );\r\n\r\n      this.setState({\r\n        rangeStartType: value\r\n      });\r\n    }\r\n  }\r\n\r\n  onRangeStartValueChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, rangeEndValue, rangeStartType, rangeEndType } = this.state;\r\n\r\n    if (type === RANGE) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getRangeString(value, rangeEndValue, rangeStartType, rangeEndType)\r\n      );\r\n\r\n      this.setState({\r\n        rangeStartValue: value\r\n      });\r\n    }\r\n  }\r\n\r\n  onRangeEndTypeChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, rangeStartValue, rangeEndValue, rangeStartType } = this.state;\r\n\r\n    if (type === RANGE) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getRangeString(rangeStartValue, rangeEndValue, rangeStartType, value)\r\n      );\r\n\r\n      this.setState({\r\n        rangeEndType: value\r\n      });\r\n    }\r\n  }\r\n\r\n  onRangeEndValueChange(value) {\r\n    const { element } = this.props.context;\r\n\r\n    const { type, rangeStartValue, rangeStartType, rangeEndType } = this.state;\r\n\r\n    if (type === RANGE) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        getRangeString(rangeStartValue, value, rangeStartType, rangeEndType)\r\n      );\r\n\r\n      this.setState({\r\n        rangeEndValue: value\r\n      });\r\n    }\r\n  }\r\n\r\n  renderComparison(comparisonOperator, comparisonValue) {\r\n    const comparisonOperatorOptions = [{\r\n      label: 'Equals',\r\n      value: 'equals'\r\n    }, {\r\n      label: 'Less',\r\n      value: 'less'\r\n    }, {\r\n      label: 'Less or equals',\r\n      value: 'lessEquals'\r\n    }, {\r\n      label: 'Greater',\r\n      value: 'greater'\r\n    }, {\r\n      label: 'Greater or equals',\r\n      value: 'greaterEquals'\r\n    }];\r\n\r\n    return (\r\n      <div className=\"comparison\">\r\n\r\n        <h4 className=\"dms-heading\">Value</h4>\r\n\r\n        <div className=\"dms-fill-row\">\r\n          <InputSelect\r\n            noInput={ true }\r\n            onChange={ this.onComparisonOperatorChange }\r\n            options={ comparisonOperatorOptions }\r\n            value={ comparisonOperator } />\r\n\r\n          &nbsp;\r\n\r\n          <Input\r\n            className=\"comparison-number-input\"\r\n            onInput={ this.onComparisonValueChange }\r\n            type=\"number\"\r\n            value={ comparisonValue } />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderRange(rangeStartValue, rangeEndValue, rangeStartType, rangeEndType) {\r\n    const rangeTypeOptions = [{\r\n      label: 'Include',\r\n      value: 'include'\r\n    }, {\r\n      label: 'Exclude',\r\n      value: 'exclude'\r\n    }];\r\n\r\n    return (\r\n      <div className=\"range\">\r\n        <h4 className=\"dms-heading\">Start Value</h4>\r\n\r\n        <div className=\"dms-fill-row\">\r\n          <InputSelect\r\n            noInput={ true }\r\n            onChange={ this.onRangeStartTypeChange }\r\n            options={ rangeTypeOptions }\r\n            value={ rangeStartType } />\r\n\r\n          &nbsp;\r\n\r\n          <Input\r\n            className=\"range-start-number-input\"\r\n            onInput={ this.onRangeStartValueChange }\r\n            type=\"number\"\r\n            value={ rangeStartValue } />\r\n        </div>\r\n\r\n        <h4 className=\"dms-heading\">\r\n          End Value\r\n        </h4>\r\n\r\n        <div className=\"dms-fill-row\">\r\n          <InputSelect\r\n            noInput={ true }\r\n            onChange={ this.onRangeEndTypeChange }\r\n            options={ rangeTypeOptions }\r\n            value={ rangeEndType } />\r\n\r\n          &nbsp;\r\n\r\n          <Input\r\n            className=\"range-end-number-input\"\r\n            onInput={ this.onRangeEndValueChange }\r\n            type=\"number\"\r\n            value={ rangeEndValue } />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      type,\r\n      comparisonOperator,\r\n      comparisonValue,\r\n      rangeStartValue,\r\n      rangeEndValue,\r\n      rangeStartType,\r\n      rangeEndType\r\n    } = this.state;\r\n\r\n    const typeOptions = [{\r\n      label: 'Comparison',\r\n      value: COMPARISON\r\n    }, {\r\n      label: 'Range',\r\n      value: RANGE\r\n    }];\r\n\r\n    return (\r\n      <div class=\"context-menu-container simple-number-edit\">\r\n\r\n        <h3 class=\"dms-heading\">Edit Number</h3>\r\n\r\n        <div className=\"dms-fill-row\">\r\n          <InputSelect\r\n            noInput={ true }\r\n            onChange={ this.onTypeChange }\r\n            options={ typeOptions }\r\n            value={ type } />\r\n        </div>\r\n\r\n        {\r\n          type === COMPARISON\r\n            && this.renderComparison(comparisonOperator, comparisonValue)\r\n        }\r\n\r\n        {\r\n          type === RANGE\r\n            && this.renderRange(\r\n              rangeStartValue,\r\n              rangeEndValue,\r\n              rangeStartType,\r\n              rangeEndType\r\n            )\r\n        }\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import { Component } from 'inferno';\r\n\r\nimport Input from 'dmn-js-shared/lib/components/Input';\r\n\r\nimport { parseString } from '../Utils';\r\n\r\n\r\nexport default class OutputNumberEdit extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const parsedString = parseString(element.businessObject.text);\r\n\r\n    if (parsedString) {\r\n      this.state = {\r\n        value: parsedString.value\r\n      };\r\n    } else {\r\n      this.state = {\r\n        value: ''\r\n      };\r\n    }\r\n\r\n    const debounceInput = context.injector.get('debounceInput');\r\n\r\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\r\n    this.editCell = this.editCell.bind(this);\r\n\r\n    this.onInput = this.onInput.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  onInput(value) {\r\n    const { element } = this.props.context;\r\n\r\n    this.debouncedEditCell(element.businessObject, value);\r\n\r\n    this.setState({\r\n      value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <div class=\"context-menu-container simple-number-edit\">\r\n\r\n        <h3 class=\"dms-heading\">Edit Number</h3>\r\n\r\n        <h4 class=\"dms-heading\">Set Value</h4>\r\n\r\n        <Input\r\n          onInput={ this.onInput }\r\n          type=\"number\"\r\n          value={ value } />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}","import InputNumberEdit from './components/InputNumberEdit';\r\nimport OutputNumberEdit from './components/OutputNumberEdit';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nexport default class SimpleNumberEdit {\r\n  constructor(components, simpleMode) {\r\n    simpleMode.registerProvider(element => {\r\n      const typeRef = getTypeRef(element);\r\n\r\n      return (isInput(element.col) || isOutput(element.col))\r\n        && (typeRef === 'integer' || typeRef === 'long' || typeRef === 'double');\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\r\n\r\n        if (!context.element) {\r\n          return;\r\n        }\r\n\r\n        const typeRef = getTypeRef(context.element);\r\n\r\n        if (isNumber(typeRef)) {\r\n\r\n          if (isInput(context.element.col)) {\r\n            return InputNumberEdit;\r\n          } else if (isOutput(context.element.col)) {\r\n            return OutputNumberEdit;\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nSimpleNumberEdit.$inject = [ 'components', 'simpleMode' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getTypeRef(element) {\r\n  if (isInput(element.col)) {\r\n    return element.col && element.col.businessObject.inputExpression.typeRef;\r\n  } else {\r\n    return element.col && element.col.businessObject.typeRef;\r\n  }\r\n}\r\n\r\nfunction isNumber(typeRef) {\r\n  return typeRef === 'integer' || typeRef === 'long' || typeRef === 'double';\r\n}","import SimpleMode from '../simple-mode';\r\nimport SimpleNumberEdit from './SimpleNumberEdit';\r\nimport Keyboard from '../keyboard';\r\n\r\nexport default {\r\n  __depends__: [ Keyboard, SimpleMode ],\r\n  __init__: [ 'simpleNumberEdit' ],\r\n  simpleNumberEdit: [ 'type', SimpleNumberEdit ]\r\n};","import { isInput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\n/**\r\n * Parse input/output entry string to unary tests and type of unary tests.\r\n *\r\n * Example:\r\n *\r\n * not(\"foo\", \"bar\")\r\n *\r\n * returns\r\n *\r\n * {\r\n *   type: 'negation',\r\n *   values: [ \"foo\", \"bar, baz\" ]\r\n * }\r\n *\r\n * @param {string} string - Input/Output entry as string e.g. \"foo\", \"bar\".\r\n */\r\nexport function parseString(string) {\r\n\r\n  // empty string or no string at all\r\n  if (!string || isEmptyString(string.trim())) {\r\n    return {\r\n      type: 'disjunction',\r\n      values: []\r\n    };\r\n  }\r\n\r\n  // disjunction\r\n  let values = string.split(',');\r\n\r\n  const result = {\r\n    type: 'disjunction',\r\n    values: []\r\n  };\r\n\r\n  let openString = '';\r\n\r\n  values.forEach(value => {\r\n    openString += value;\r\n\r\n    if (/^\"[^\"]*\"$/.test(openString.trim())) {\r\n      result.values.push(openString.trim());\r\n\r\n      openString = '';\r\n    } else {\r\n      openString += ',';\r\n    }\r\n  });\r\n\r\n  if (!openString) {\r\n    return result;\r\n  }\r\n\r\n  // negation\r\n  result.type = 'negation';\r\n  result.values = [];\r\n\r\n  openString = '';\r\n\r\n  const matches = string.match(/^\\s*not\\((.*)\\)\\s*$/);\r\n\r\n  if (matches) {\r\n    values = matches[1].split(',');\r\n\r\n    values.forEach(value => {\r\n      openString += value;\r\n\r\n      if (/^\"[^\"]*\"$/.test(openString.trim())) {\r\n        result.values.push(openString.trim());\r\n\r\n        openString = '';\r\n      } else {\r\n        openString += ',';\r\n      }\r\n    });\r\n\r\n    if (!openString) {\r\n      return result;\r\n    }\r\n  }\r\n}\r\n\r\n// TODO(philippfromme): seperate when refactoring component\r\nexport function getInputOrOutputValues(inputOrOutput) {\r\n  const inputOrOutputValues =\r\n    isInput(inputOrOutput) ?\r\n      inputOrOutput.inputValues :\r\n      inputOrOutput.outputValues;\r\n\r\n  if (!inputOrOutputValues || isEmptyString(inputOrOutputValues.text)) {\r\n    return [];\r\n  } else {\r\n    return inputOrOutputValues.text.split(',').map(value => value.trim());\r\n  }\r\n}\r\n\r\nfunction isEmptyString(string) {\r\n  return string === '';\r\n}","import { Component } from 'inferno';\r\n\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport List from 'dmn-js-shared/lib/components/List';\r\n\r\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\r\n\r\nimport { isInput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nimport { getInputOrOutputValues, parseString } from '../Utils';\r\n\r\nconst DISJUNCTION = 'disjunction',\r\n      NEGATION = 'negation';\r\n\r\nconst INPUT_VALUES_LABEL = 'Predefined Values',\r\n      OUTPUT_VALUES_LABEL = 'Predefined Values',\r\n      INPUT_ENTRY_VALUES_LABEL = 'Custom Values';\r\n\r\n\r\nexport default class SimpleStringEditContextMenuComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._translate = context.injector.get('translate');\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    let parsedString = parseString(props.context.element.businessObject.text);\r\n\r\n    // could not parse\r\n    if (!parsedString) {\r\n      parsedString = {\r\n        values: [],\r\n        type: DISJUNCTION\r\n      };\r\n    }\r\n\r\n    const inputOrOutputValues = getInputOrOutputValues(\r\n      props.context.element.col.businessObject\r\n    );\r\n\r\n    const filteredValues = parsedString.values.filter(value => {\r\n      return !includes(inputOrOutputValues, value);\r\n    });\r\n\r\n    const isInputClause = isInput(props.context.element.col);\r\n\r\n    let items = inputOrOutputValues.map(value => {\r\n      return {\r\n        value,\r\n        isChecked: includes(parsedString.values, value),\r\n        isRemovable: false,\r\n        group: isInputClause ? INPUT_VALUES_LABEL : OUTPUT_VALUES_LABEL\r\n      };\r\n    });\r\n\r\n    if (isInputClause) {\r\n      items = items.concat(filteredValues.map(value => {\r\n        return {\r\n          value,\r\n          isChecked: true,\r\n          isRemovable: true,\r\n          group: INPUT_ENTRY_VALUES_LABEL\r\n        };\r\n      }));\r\n    }\r\n\r\n    let inputValue = '';\r\n\r\n    if (\r\n      !isInputClause && parsedString.values.length &&\r\n      !includes(inputOrOutputValues, parsedString.values[0])\r\n    ) {\r\n      inputValue = parsedString.values[0];\r\n    }\r\n\r\n    this.state = {\r\n      items,\r\n      unaryTestsType: parsedString.type,\r\n      inputValue,\r\n      isOutputValueInputChecked: inputValue !== ''\r\n    };\r\n\r\n    const debounceInput = context.injector.get('debounceInput');\r\n\r\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\r\n    this.editCell = this.editCell.bind(this);\r\n    this.addUnaryTestsListItem = this.addUnaryTestsListItem.bind(this);\r\n    this.onInput = this.onInput.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onOutputValueInputClick = this.onOutputValueInputClick.bind(this);\r\n    this.onUnaryTestsListChanged = this.onUnaryTestsListChanged.bind(this);\r\n    this.onUnaryTestsTypeChange = this.onUnaryTestsTypeChange.bind(this);\r\n  }\r\n\r\n  editCell(cell, text) {\r\n    this._modeling.editCell(cell, text);\r\n  }\r\n\r\n  /**\r\n   * Change type of unary tests.\r\n   */\r\n  onUnaryTestsTypeChange(value) {\r\n    const { items } = this.state;\r\n\r\n    const values = getValues(items);\r\n\r\n    const { element } = this.props.context;\r\n\r\n    if (value === DISJUNCTION) {\r\n      this.editCell(\r\n        element.businessObject,\r\n        values.join(',')\r\n      );\r\n\r\n      this.setState({\r\n        unaryTestsType: DISJUNCTION\r\n      });\r\n    } else {\r\n      this.editCell(element.businessObject, `not(${ values.join(',') })`);\r\n\r\n      this.setState({\r\n        unaryTestsType: NEGATION\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Change list of unary tests.\r\n   */\r\n  onUnaryTestsListChanged(items) {\r\n\r\n    // get checked items\r\n    const values = getValues(items);\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const { unaryTestsType } = this.state;\r\n\r\n    if (unaryTestsType === DISJUNCTION) {\r\n      this.editCell(element.businessObject, values.join(','));\r\n    } else {\r\n      this.editCell(element.businessObject, `not(${ values.join(',') })`);\r\n    }\r\n\r\n    this.setState({\r\n      items,\r\n      isOutputValueInputChecked: false\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Set output value to input value.\r\n   */\r\n  onOutputValueInputClick() {\r\n    const { element } = this.props.context;\r\n\r\n    const { inputValue, items } = this.state;\r\n\r\n    const parsedString = parseString(inputValue);\r\n\r\n    if (!parsedString || parsedString.values.length > 1) {\r\n      return;\r\n    }\r\n\r\n    this.editCell(element.businessObject, `${ parsedString.values.join('') }`);\r\n\r\n    // uncheck all other values\r\n    this.setState({\r\n      items: items.map(item => {\r\n        item.isChecked = false;\r\n\r\n        return item;\r\n      }),\r\n      isOutputValueInputChecked: true\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Set output value if valid.\r\n   */\r\n  onInput({ isValid, value }) {\r\n    const { isOutputValueInputChecked } = this.state;\r\n\r\n    this.setState({\r\n      inputValue: value\r\n    });\r\n\r\n    const { element } = this.props.context;\r\n\r\n    if (!isInput(element) && isValid && isOutputValueInputChecked) {\r\n      this.debouncedEditCell(element.businessObject, value);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add new value on ENTER.\r\n   */\r\n  onKeyDown({ isValid, event }) {\r\n\r\n    if (!isEnter(event.keyCode)) {\r\n      return;\r\n    }\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const isInputClause = isInput(element.col);\r\n\r\n    // stop ENTER propagation (and ContextMenu close)\r\n    if (isInputClause || !isValid) {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (isValid) {\r\n      if (isInputClause) {\r\n        this.addUnaryTestsListItem();\r\n      } else {\r\n        this.onOutputValueInputClick();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add unary tests to list.\r\n   */\r\n  addUnaryTestsListItem() {\r\n    const { inputValue, items, unaryTestsType } = this.state;\r\n\r\n    const parsedInput = parseString(inputValue);\r\n\r\n    if (!parsedInput) {\r\n      return;\r\n    }\r\n\r\n    const { element } = this.props.context;\r\n\r\n    const values = getValues(items);\r\n\r\n    const newValues = [].concat(\r\n      values,\r\n      parsedInput.values\r\n    );\r\n\r\n    if (unaryTestsType === DISJUNCTION) {\r\n      this.editCell(element.businessObject, newValues.join(','));\r\n    } else {\r\n      this.editCell(element.businessObject, `not(${ newValues.join(',') })`);\r\n    }\r\n\r\n    const newItems = items.concat(parsedInput.values.map(value => {\r\n      return {\r\n        value,\r\n        isChecked: true,\r\n        isRemovable: true,\r\n        group: 'Custom Values'\r\n      };\r\n    }));\r\n\r\n    this.setState({\r\n      items: newItems,\r\n      inputValue: ''\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { element } = this.props.context;\r\n\r\n    const { inputValue, isOutputValueInputChecked, items, unaryTestsType } = this.state;\r\n\r\n    const options = [{\r\n      label: 'Match one',\r\n      value: DISJUNCTION\r\n    }, {\r\n      label: 'Match none',\r\n      value: NEGATION\r\n    }];\r\n\r\n    const isInputClause = isInput(element.col);\r\n\r\n    const isNegation = unaryTestsType === NEGATION;\r\n\r\n    const showRadio = !isInputClause && items.length > 0;\r\n\r\n    return (\r\n      <div class=\"simple-string-edit context-menu-container\">\r\n\r\n        <h3 class=\"dms-heading\">\r\n          { this._translate('Edit String') }\r\n        </h3>\r\n\r\n        {\r\n          isInputClause &&\r\n            <p>\r\n              <InputSelect\r\n                noInput={ true }\r\n                ref={ node => this.selectNode = node }\r\n                onChange={ this.onUnaryTestsTypeChange }\r\n                options={ options }\r\n                value={ isNegation ? NEGATION : DISJUNCTION } />\r\n            </p>\r\n        }\r\n\r\n        <List\r\n          onChange={ this.onUnaryTestsListChanged }\r\n          items={ items }\r\n          type={ isInputClause ? 'checkbox' : 'radio' } />\r\n\r\n        {\r\n          isInputClause\r\n            ? <h4 className=\"dms-heading\">\r\n              { this._translate('Add Values') }\r\n            </h4>\r\n            : <h4 className=\"dms-heading\">\r\n              { this._translate('Set Value') }\r\n            </h4>\r\n        }\r\n\r\n        <div className=\"dms-fill-row\">\r\n          {\r\n            showRadio && <input\r\n              checked={ isOutputValueInputChecked }\r\n              className=\"cursor-pointer\"\r\n              onClick={ this.onOutputValueInputClick }\r\n              type=\"radio\"\r\n              style={ {\r\n                marginRight: '8px'\r\n              } } />\r\n          }\r\n\r\n          <ValidatedInput\r\n            className=\"dms-block\"\r\n            onKeyDown={ this.onKeyDown }\r\n            onInput={ this.onInput }\r\n            placeholder={ isInputClause ? '\"value\", \"value\", ...' : '\"value\"' }\r\n            type=\"text\"\r\n            validate={ value => {\r\n              if (!parseString(value)) {\r\n                return this._translate('Strings must be in double quotes.');\r\n              }\r\n            } }\r\n            value={ inputValue } />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction isEnter(keyCode) {\r\n  return keyCode === 13;\r\n}\r\n\r\n/**\r\n * Get array of actual values from array of items.\r\n *\r\n * @param {Array} items - Array of items.\r\n */\r\nfunction getValues(items) {\r\n  return items\r\n    .filter(item => item.isChecked)\r\n    .map(item => item.value);\r\n}\r\n\r\nfunction includes(array, value) {\r\n  return array.indexOf(value) !== -1;\r\n}","import ContextMenuComponent from './components/SimpleStringEditContextMenuComponent';\r\n\r\nimport { isInput, isOutput } from 'dmn-js-shared/lib/util/ModelUtil';\r\n\r\nexport default class SimpleStringEdit {\r\n  constructor(components, simpleMode) {\r\n    simpleMode.registerProvider(element => {\r\n      return (isInput(element.col) || isOutput(element.col))\r\n        && getTypeRef(element) === 'string';\r\n    });\r\n\r\n    components.onGetComponent('context-menu', (context = {}) => {\r\n      if (context.contextMenuType && context.contextMenuType === 'simple-mode-edit') {\r\n\r\n        if (!context.element) {\r\n          return;\r\n        }\r\n\r\n        const typeRef = getTypeRef(context.element);\r\n\r\n        if (typeRef === 'string') {\r\n          return ContextMenuComponent;\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nSimpleStringEdit.$inject = [ 'components', 'simpleMode' ];\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getTypeRef(element) {\r\n  if (isInput(element.col)) {\r\n    return element.col && element.col.businessObject.inputExpression.typeRef;\r\n  } else {\r\n    return element.col && element.col.businessObject.typeRef;\r\n  }\r\n}","import SimpleMode from '../simple-mode';\r\nimport SimpleStringEdit from './SimpleStringEdit';\r\nimport Keyboard from '../keyboard';\r\n\r\nexport default {\r\n  __depends__: [ Keyboard, SimpleMode ],\r\n  __init__: [ 'simpleStringEdit' ],\r\n  simpleStringEdit: [ 'type', SimpleStringEdit ]\r\n};","import { Component } from 'inferno';\n\nimport { inject } from 'table-js/lib/components';\n\nimport {\n  closest as domClosest\n} from 'min-dom';\n\nimport { is, getBusinessObject } from 'dmn-js-shared/lib/util/ModelUtil';\n\n\nexport default class ResizeColumn extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n  }\n\n  componentDidMount() {\n    const root = this.getRoot();\n\n    this.changeSupport.onElementsChanged(root, this.onElementsChanged);\n  }\n\n  componentWillUnmount() {\n    const root = this.getRoot();\n\n    this.changeSupport.offElementsChanged(root, this.onElementsChanged);\n  }\n\n  getRoot() {\n    return this.sheet.getRoot();\n  }\n\n  onElementsChanged = () => {\n    this.forceUpdate();\n  }\n\n  handleMouseDown = event => {\n    const cell = domClosest(event.target, 'th', false);\n\n    startResize({\n      node: cell,\n      event,\n      minWidth: this.props.minWidth || 150,\n      onEnd: this.saveWidth\n    });\n  }\n\n  saveWidth = newWidth => {\n    const { col } = this.props;\n\n    const update = {};\n\n    if (is(col, 'dmn:DecisionTable')) {\n      update.annotationsWidth = newWidth;\n    } else {\n      update.width = newWidth;\n    }\n\n    this.modeling.updateProperties(col, update);\n  }\n\n  isLastInputOrOutput() {\n    const { col } = this.props,\n          root = this.getRoot(),\n          bo = getBusinessObject(root);\n\n    if (is(col, 'dmn:InputClause')) {\n      const inputs = bo.get('input');\n\n      return inputs.indexOf(col) === inputs.length - 1;\n    } else if (is(col, 'dmn:OutputClause')) {\n      const outputs = bo.get('output');\n\n      return outputs.indexOf(col) === outputs.length - 1;\n    }\n  }\n\n  render() {\n    const style = this.isLastInputOrOutput() ? {\n      right: '-7px',\n      width: '27px'\n    } : null;\n\n    return (\n      <div\n        onMouseDown={ this.handleMouseDown }\n        className=\"resize-column-handle\"\n        title={ this.translate('Resize') }\n        style={ style }\n      />\n    );\n  }\n}\n\nResizeColumn.$inject = [ 'sheet', 'changeSupport', 'translate', 'modeling' ];\n\n// helper\nfunction startResize({ node, event, minWidth, onEnd = noop }) {\n  event.preventDefault();\n\n  const initialWidth = node.getBoundingClientRect().width;\n  const initialX = event.clientX;\n\n  let currentUpdate;\n\n  document.addEventListener('mousemove', handleMouseMove);\n  document.addEventListener('mouseup', handleMouseUp);\n\n  function handleMouseMove(event) {\n    event.preventDefault();\n\n    const currentWidth = getResizedWidth(event.clientX);\n\n    if (currentUpdate) {\n      cancelAnimationFrame(currentUpdate);\n    }\n\n    currentUpdate = requestAnimationFrame(() => {\n      node.style.width = currentWidth + 'px';\n    });\n  }\n\n  function handleMouseUp(event) {\n    event.preventDefault();\n\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n\n    const currentWidth = getResizedWidth(event.clientX);\n\n    onEnd(currentWidth);\n  }\n\n  function getResizedWidth(currentX) {\n    const delta = currentX - initialX;\n\n    return Math.max(initialWidth + delta, minWidth);\n  }\n}\n\nfunction noop() {}\n","import ResizeColumn from './components/ResizeColumn';\n\n\nexport default function ColumnResizeProvider(\n    components\n) {\n\n  components.onGetComponent('cell-inner', (context = {}) => {\n    const { cellType } = context;\n\n    if (\n      cellType === 'input-cell' ||\n      cellType === 'output-cell' ||\n      cellType === 'annotations'\n    ) {\n      return ResizeColumn;\n    }\n  });\n}\n\nColumnResizeProvider.$inject = [\n  'components'\n];","import ColumnResizeProvider from './ColumnResizeProvider';\n\nexport default {\n  __init__: [\n    'columnResizeProvider'\n  ],\n  columnResizeProvider: [ 'type', ColumnResizeProvider ]\n};","import Viewer from './Viewer';\n\nimport addRuleModule from './features/add-rule';\nimport annotationsEditorModule from './features/annotations/editor';\nimport contextMenuModule from 'table-js/lib/features/context-menu';\nimport copyCutPasteModule from './features/copy-cut-paste';\nimport copyCutPasteKeybindingsModule from './features/copy-cut-paste/key-bindings';\nimport createInputsModule from './features/create-inputs';\nimport decisionTableContextMenu from './features/context-menu';\nimport decisionTableEditorActionsModule from './features/editor-actions';\nimport decisionTableHeadEditorModule from './features/decision-table-head/editor';\nimport dragAndDropModule from './features/drag-and-drop';\nimport descriptionModule from './features/description';\nimport expressionLanguageModule from './features/expression-language';\nimport expressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\nimport tablePropertiesEditorModule from './features/decision-table-properties/editor';\nimport editorActionsModule from 'table-js/lib/features/editor-actions';\nimport hitPolicyEditorModule from './features/hit-policy/editor';\nimport interactionEventsModule from 'table-js/lib/features/interaction-events';\nimport keyboardModule from './features/keyboard';\nimport modelingModule from './features/modeling';\nimport decisionRulesEditorModule from './features/decision-rules/editor';\nimport selectionModule from 'table-js/lib/features/selection';\nimport simpleModeModule from './features/simple-mode';\nimport simpleBooleanEditModule from './features/simple-boolean-edit';\nimport simpleDateEditModule from './features/simple-date-edit';\nimport simpleNumberEditModule from './features/simple-number-edit';\nimport simpleStringEditModule from './features/simple-string-edit';\nimport cellSelectionModule from './features/cell-selection';\nimport columnResizeModule from './features/column-resize';\n\n\nexport default class Editor extends Viewer {\n\n  getModules() {\n    return [\n      ...Viewer._getModules(),\n      ...Editor._getModules()\n    ];\n  }\n\n  static _getModules() {\n    return [\n      addRuleModule,\n      annotationsEditorModule,\n      cellSelectionModule,\n      contextMenuModule,\n      copyCutPasteModule,\n      copyCutPasteKeybindingsModule,\n      createInputsModule,\n      decisionTableContextMenu,\n      decisionTableEditorActionsModule,\n      decisionTableHeadEditorModule,\n      columnResizeModule,\n      dragAndDropModule,\n      descriptionModule,\n      expressionLanguageModule,\n      expressionLanguagesModule,\n      keyboardModule,\n      tablePropertiesEditorModule,\n      editorActionsModule,\n      hitPolicyEditorModule,\n      interactionEventsModule,\n      modelingModule,\n      decisionRulesEditorModule,\n      selectionModule,\n      simpleModeModule,\n      simpleBooleanEditModule,\n      simpleDateEditModule,\n      simpleNumberEditModule,\n      simpleStringEditModule\n    ];\n  }\n\n}","export default class ChangeSupport {\r\n  constructor(eventBus) {\r\n    this._listeners = {};\r\n\r\n    eventBus.on('elements.changed', ({ elements }) => {\r\n      this.elementsChanged(elements);\r\n    });\r\n\r\n    eventBus.on('element.updateId', ({ element, newId }) => {\r\n      this.updateId(element.id, newId);\r\n    });\r\n  }\r\n\r\n  elementsChanged(elements) {\r\n    const invoked = {};\r\n\r\n    const elementsLength = elements.length;\r\n\r\n    for (let i = 0; i < elementsLength; i++) {\r\n      const { id } = elements[i];\r\n\r\n      if (invoked[id]) {\r\n        return;\r\n      }\r\n\r\n      invoked[id] = true;\r\n\r\n      const listenersLength = this._listeners[id] && this._listeners[id].length;\r\n\r\n      if (listenersLength) {\r\n        for (let j = 0; j < listenersLength; j++) {\r\n\r\n          // listeners might remove themselves before they get called\r\n          this._listeners[id][j] && this._listeners[id][j]();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onElementsChanged(id, listener) {\r\n    if (!this._listeners[id]) {\r\n      this._listeners[id] = [];\r\n    }\r\n\r\n    // avoid push for better performance\r\n    this._listeners[id][this._listeners[id].length] = listener;\r\n  }\r\n\r\n  offElementsChanged(id, listener) {\r\n    if (!this._listeners[id]) {\r\n      return;\r\n    }\r\n\r\n    if (listener) {\r\n      const idx = this._listeners[id].indexOf(listener);\r\n\r\n      if (idx !== -1) {\r\n        this._listeners[id].splice(idx, 1);\r\n      }\r\n    } else {\r\n      this._listeners[id].length = 0;\r\n    }\r\n  }\r\n\r\n  updateId(oldId, newId) {\r\n    if (this._listeners[oldId]) {\r\n\r\n      this._listeners[newId] = this._listeners[oldId];\r\n\r\n      delete this._listeners[oldId];\r\n\r\n    }\r\n  }\r\n}\r\n\r\nChangeSupport.$inject = [ 'eventBus' ];","import {\r\n  isFunction,\r\n  isNumber\r\n} from 'min-dash';\r\n\r\nconst DEFAULT_PRIORITY = 1000;\r\n\r\n\r\nexport default class Components {\r\n\r\n  constructor() {\r\n    this._listeners = {};\r\n  }\r\n\r\n  getComponent(type, context) {\r\n    const listeners = this._listeners[type];\r\n\r\n    if (!listeners) {\r\n      return;\r\n    }\r\n\r\n    let component;\r\n\r\n    for (let i = 0; i < listeners.length; i++) {\r\n      component = listeners[i].callback(context);\r\n\r\n      if (component) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return component;\r\n  }\r\n\r\n  getComponents(type, context) {\r\n    const listeners = this._listeners[type];\r\n\r\n    if (!listeners) {\r\n      return;\r\n    }\r\n\r\n    const components = [];\r\n\r\n    for (let i = 0; i < listeners.length; i++) {\r\n      const component = listeners[i].callback(context);\r\n\r\n      if (component) {\r\n        components.push(component);\r\n      }\r\n    }\r\n\r\n    if (!components.length) {\r\n      return;\r\n    }\r\n\r\n    return components;\r\n  }\r\n\r\n  onGetComponent(type, priority, callback) {\r\n    if (isFunction(priority)) {\r\n      callback = priority;\r\n      priority = DEFAULT_PRIORITY;\r\n    }\r\n\r\n    if (!isNumber(priority)) {\r\n      throw new Error('priority must be a number');\r\n    }\r\n\r\n    const listeners = this._getListeners(type);\r\n\r\n    let existingListener,\r\n        idx;\r\n\r\n    const newListener = { priority, callback };\r\n\r\n    for (idx = 0; (existingListener = listeners[idx]); idx++) {\r\n      if (existingListener.priority < priority) {\r\n\r\n        // prepend newListener at before existingListener\r\n        listeners.splice(idx, 0, newListener);\r\n        return;\r\n      }\r\n    }\r\n\r\n    listeners.push(newListener);\r\n  }\r\n\r\n  offGetComponent(type, callback) {\r\n    const listeners = this._getListeners(type);\r\n\r\n    let listener,\r\n        listenerCallback,\r\n        idx;\r\n\r\n    if (callback) {\r\n\r\n      // move through listeners from back to front\r\n      // and remove matching listeners\r\n      for (idx = listeners.length - 1; (listener = listeners[idx]); idx--) {\r\n        listenerCallback = listener.callback;\r\n\r\n        if (listenerCallback === callback) {\r\n          listeners.splice(idx, 1);\r\n        }\r\n      }\r\n    } else {\r\n\n      // clear listeners\r\n      listeners.length = 0;\r\n    }\r\n  }\r\n\r\n  _getListeners(type) {\r\n    let listeners = this._listeners[type];\r\n\r\n    if (!listeners) {\r\n      this._listeners[type] = listeners = [];\r\n    }\r\n\r\n    return listeners;\r\n  }\r\n}","import { Component } from 'inferno';\r\n\r\n\r\nexport default class ViewerComponent extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const injector = this._injector = props.injector;\r\n\r\n    this._changeSupport = injector.get('changeSupport');\r\n    this._components = injector.get('components');\r\n    this._renderer = injector.get('renderer');\r\n  }\r\n\r\n  getChildContext() {\r\n    return {\r\n      changeSupport: this._changeSupport,\r\n      components: this._components,\r\n      renderer: this._renderer,\r\n      injector: this._injector\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const components = this._components.getComponents('viewer');\r\n\r\n    return (\r\n      <div className=\"viewer-container\">\r\n        {\r\n          components &&\r\n            components.map((Component, index) => <Component key={ index } />)\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}","import { render } from 'inferno';\r\n\r\nimport ViewerComponent from './components/ViewerComponent';\r\n\r\nexport default class Renderer {\r\n\r\n  constructor(changeSupport, components, config, eventBus, injector) {\r\n    const { container } = config;\r\n\r\n    this._container = container;\r\n\r\n    eventBus.on('renderer.mount', () => {\r\n      render(<ViewerComponent injector={ injector } />, container);\r\n    });\r\n\r\n    eventBus.on('renderer.unmount', () => {\r\n      render(null, container);\r\n    });\r\n  }\r\n\r\n  getContainer() {\r\n    return this._container;\r\n  }\r\n\r\n}\r\n\r\nRenderer.$inject = [\r\n  'changeSupport',\r\n  'components',\r\n  'config.renderer',\r\n  'eventBus',\r\n  'injector'\r\n];","import ChangeSupport from './ChangeSupport';\r\nimport Components from './Components';\r\nimport EventBus from 'diagram-js/lib/core/EventBus';\r\nimport Renderer from './Renderer';\r\n\r\nexport default {\r\n  __init__: [ 'changeSupport', 'components', 'renderer' ],\r\n  changeSupport: [ 'type', ChangeSupport ],\r\n  components: [ 'type', Components ],\r\n  eventBus: [ 'type', EventBus ],\r\n  renderer: [ 'type', Renderer ]\r\n};","import { Injector } from 'didi';\r\n\r\nimport core from './core';\r\n\r\n\r\n/**\r\n * A base for React-style viewers.\r\n */\r\nexport default class Viewer {\r\n\r\n  constructor(options = {}) {\r\n    let {\r\n      injector\r\n    } = options;\r\n\r\n    if (!injector) {\r\n      let { modules, config } = this._init(options);\r\n\r\n      injector = createInjector(config, modules);\r\n    }\r\n\r\n    this.get = injector.get;\r\n\r\n    this.invoke = injector.invoke;\r\n\r\n    this.get('eventBus').fire('viewer.init');\r\n  }\r\n\r\n  /**\r\n   * Intialize and return modules and config used for creation.\r\n   *\r\n   * @param  {Object} options\r\n   *\r\n   * @return {Object} { modules=[], config }\r\n   */\r\n  _init(options) {\r\n    let {\r\n      modules,\r\n      ...config\r\n    } = options;\r\n\r\n    return { modules, config };\r\n  }\r\n\r\n  /**\r\n   * Destroy. This results in removing the attachment from the container.\r\n   */\r\n  destroy() {\r\n    const eventBus = this.get('eventBus');\r\n\r\n    eventBus.fire('viewer.destroy');\r\n  }\r\n\r\n  /**\r\n   * Clear. Should be used to reset the state of any stateful services.\r\n   */\r\n  clear() {\r\n    const eventBus = this.get('eventBus');\r\n\r\n    eventBus.fire('viewer.clear');\r\n  }\r\n\r\n}\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction bootstrap(bootstrapModules) {\r\n\r\n  var modules = [],\r\n      components = [];\r\n\r\n  function hasModule(m) {\r\n    return modules.indexOf(m) >= 0;\r\n  }\r\n\r\n  function addModule(m) {\r\n    modules.push(m);\r\n  }\r\n\r\n  function visit(m) {\r\n    if (hasModule(m)) {\r\n      return;\r\n    }\r\n\r\n    (m.__depends__ || []).forEach(visit);\r\n\r\n    if (hasModule(m)) {\r\n      return;\r\n    }\r\n\r\n    addModule(m);\r\n\r\n    (m.__init__ || []).forEach(function(c) {\r\n      components.push(c);\r\n    });\r\n  }\r\n\r\n  bootstrapModules.forEach(visit);\r\n\r\n  var injector = new Injector(modules);\r\n\r\n  components.forEach(function(c) {\r\n\r\n    try {\r\n\n      // eagerly resolve component (fn or string)\r\n      injector[typeof c === 'string' ? 'get' : 'invoke'](c);\r\n    } catch (e) {\r\n      console.error('Failed to instantiate component');\r\n      console.error(e.stack);\r\n\r\n      throw e;\r\n    }\r\n  });\r\n\r\n  return injector;\r\n}\r\n\r\nfunction createInjector(config, modules) {\r\n  const bootstrapModules = [\r\n    {\r\n      config: [ 'value', config ]\r\n    },\r\n    core\r\n  ].concat(modules || []);\r\n\r\n  return bootstrap(bootstrapModules);\r\n}\r\n","import { Component } from 'inferno';\r\n\r\n\r\nexport default class DecisionPropertiesComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n  }\r\n\r\n  render() {\r\n\r\n    // there is only one single element\r\n    const { name } = this._viewer.getDecision();\r\n\r\n    return (\r\n      <div className=\"decision-properties\">\r\n        <h3 className=\"decision-name\">{ name }</h3>\r\n      </div>\r\n    );\r\n  }\r\n}","import DecisionPropertiesComponent from './components/DecisionPropertiesComponent';\r\n\r\nconst HIGH_PRIORITY = 1500;\r\n\r\nexport default class DecisionProperties {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', HIGH_PRIORITY, () => DecisionPropertiesComponent);\r\n  }\r\n}\r\n\r\nDecisionProperties.$inject = [ 'components' ];","import DecisionProperties from './DecisionProperties';\r\n\r\nexport default {\r\n  __init__: [ 'decisionProperties' ],\r\n  decisionProperties: [ 'type', DecisionProperties ]\r\n};","import { Component } from 'inferno';\r\n\r\n\r\nexport default class LiteralExpressionPropertiesComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      decisionLogic: literalExpression,\r\n      variable\r\n    } = this._viewer.getDecision();\r\n\r\n    return (\r\n      <div className=\"literal-expression-properties\">\r\n        <table>\r\n          <tr>\r\n            <td>Variable Name:</td>\r\n            <td>\r\n              <span>{ variable.name || '-' }</span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Variable Type:</td>\r\n            <td>\r\n              <span>{ variable.typeRef || '-' }</span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Expression Language:</td>\r\n            <td>\r\n              <span>{ literalExpression.expressionLanguage || '-' }</span>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}","import LiteralExpressionPropertiesComponent\r\n  from './components/LiteralExpressionPropertiesComponent';\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nexport default class DecisionProperties {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', LOW_PRIORITY, () => {\r\n      return LiteralExpressionPropertiesComponent;\r\n    });\r\n  }\r\n}\r\n\r\nDecisionProperties.$inject = [ 'components' ];","import ExpressionLanguagesModule from 'dmn-js-shared/lib/features/expression-languages';\r\n\r\nimport LiteralExpressionProperties from './LiteralExpressionProperties';\r\n\r\nexport default {\r\n  __depends__: [\r\n    ExpressionLanguagesModule\r\n  ],\r\n  __init__: [ 'literalExpressionProperties' ],\r\n  literalExpressionProperties: [ 'type', LiteralExpressionProperties ]\r\n};","import { Component } from 'inferno';\r\n\r\n\r\nexport default class TextareaComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n  }\r\n\r\n  render() {\r\n    const { text } = this._viewer.getDecision().decisionLogic;\r\n\r\n    return (\r\n      <div className=\"textarea\">\r\n        <div className=\"content\">{ text }</div>\r\n      </div>\r\n    );\r\n  }\r\n}","import TextareaComponent from './components/TextareaComponent';\r\n\r\nexport default class Textarea {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', () => TextareaComponent);\r\n  }\r\n}\r\n\r\nTextarea.$inject = [ 'components' ];","import Textarea from './Textarea';\r\n\r\nexport default {\r\n  __init__: [ 'textarea' ],\r\n  textarea: [ 'type', Textarea ]\r\n};","import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\n\r\nexport default class DecisionPropertiesEditorComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    this.setupChangeListeners({\r\n      bind: this.getDecision().id\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setupChangeListeners({\r\n      unbind: this.getDecision().id\r\n    });\r\n  }\r\n\r\n  getDecision() {\r\n    return this._viewer.getDecision();\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  setupChangeListeners({ bind, unbind }) {\r\n\r\n    const {\r\n      changeSupport\r\n    } = this.context;\r\n\r\n    if (typeof unbind === 'string') {\r\n      changeSupport.offElementsChanged(unbind, this.onElementsChanged);\r\n    }\r\n\r\n    if (typeof bind === 'string') {\r\n      changeSupport.onElementsChanged(bind, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  setDecisionName = (name) => {\r\n    this._modeling.editDecisionName(name);\r\n  }\r\n\r\n  render() {\r\n    const { name } = this.getDecision();\r\n\r\n    return (\r\n      <header className=\"decision-properties\">\r\n        <DecisionName\r\n          className=\"decision-name editor\"\r\n          value={ name }\r\n          onBlur={ resetScroll }\r\n          onChange={ this.setDecisionName } />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nclass DecisionName extends EditableComponent {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <h3 className={ this.getClassName() }>\r\n        { this.getEditor() }\r\n      </h3>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction resetScroll(event) {\r\n  event.target.scroll(0, 0);\r\n}\r\n","import DecisionPropertiesEditorComponent\r\n  from './components/DecisionPropertiesEditorComponent';\r\n\r\nconst HIGH_PRIORITY = 1500;\r\n\r\nexport default class DecisionPropertiesEditor {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', HIGH_PRIORITY, () => {\r\n      return DecisionPropertiesEditorComponent;\r\n    });\r\n  }\r\n}\r\n\r\nDecisionPropertiesEditor.$inject = [ 'components' ];","import DecisionPropertiesEditor from './DecisionPropertiesEditor';\r\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\r\n\r\nexport default {\r\n  __depends__: [ DebounceInput ],\r\n  __init__: [ 'decisionProperties' ],\r\n  decisionProperties: [ 'type', DecisionPropertiesEditor ]\r\n};","import { Component } from 'inferno';\r\n\r\nimport Input from 'dmn-js-shared/lib/components/Input';\r\nimport InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nconst TYPE_REF_OPTIONS = [{\r\n  label: 'string',\r\n  value: 'string'\r\n}, {\r\n  label: 'boolean',\r\n  value: 'boolean'\r\n}, {\r\n  label: 'integer',\r\n  value: 'integer'\r\n}, {\r\n  label: 'long',\r\n  value: 'long'\r\n}, {\r\n  label: 'double',\r\n  value: 'double'\r\n}, {\r\n  label: 'date',\r\n  value: 'date'\r\n}];\r\n\r\n\r\nexport default class LiteralExpressionPropertiesComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n    this._modeling = context.injector.get('modeling');\r\n    this._expressionLanguages = context.injector.get('expressionLanguages');\r\n\r\n    const decision = this._viewer.getDecision();\r\n\r\n    this.state = {\r\n      name: decision.variable.name,\r\n      typeRef: decision.variable.typeRef,\r\n      expressionLanguage: getExpressionLanguage(decision.decisionLogic)\r\n    };\r\n\r\n    this.setVariableName = this.setVariableName.bind(this);\r\n    this.setVariableType = this.setVariableType.bind(this);\r\n    this.setExpressionLanguage = this.setExpressionLanguage.bind(this);\r\n  }\r\n\r\n  setVariableName(name) {\r\n    this._modeling.editVariableName(name);\r\n\r\n    this.setState({\r\n      name\r\n    });\r\n  }\r\n\r\n  setVariableType(typeRef) {\r\n    if (typeRef === '') {\r\n      this._modeling.editVariableType(undefined);\r\n\r\n      this.setState({\r\n        typeRef: undefined\r\n      });\r\n    } else {\r\n      this._modeling.editVariableType(typeRef);\r\n\r\n      this.setState({\r\n        typeRef\r\n      });\r\n    }\r\n  }\r\n\r\n  setExpressionLanguage(expressionLanguage) {\r\n    if (expressionLanguage === '') {\r\n      this._modeling.editExpressionLanguage(undefined);\r\n\r\n      this.setState({\r\n        expressionLanguage: undefined\r\n      });\r\n    } else {\r\n      this._modeling.editExpressionLanguage(expressionLanguage);\r\n\r\n      this.setState({\r\n        expressionLanguage\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { expressionLanguage, name, typeRef } = this.state;\r\n\r\n    const languageOptions = this._expressionLanguages.getAll();\r\n\r\n    return (\r\n      <div className=\"literal-expression-properties\">\r\n        <table>\r\n          <tr>\r\n            <td>Variable Name:</td>\r\n            <td>\r\n              <Input\r\n                className=\"variable-name-input\"\r\n                onInput={ this.setVariableName }\r\n                placeholder={ 'name' }\r\n                value={ name || '' } />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Variable Type:</td>\r\n            <td>\r\n              <div className=\"dms-fill-row\">\r\n                <InputSelect\r\n                  onChange={ this.setVariableType }\r\n                  options={ TYPE_REF_OPTIONS }\r\n                  value={ typeRef }\r\n                  className=\"variable-type-select dms-block\" />\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Expression Language:</td>\r\n            <td>\r\n              <div className=\"dms-fill-row\">\r\n                <InputSelect\r\n                  onChange={ this.setExpressionLanguage }\r\n                  options={ languageOptions }\r\n                  value={ expressionLanguage }\r\n                  className=\"expression-language-select dms-block\" />\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n// helpers //////////////////////\r\n\r\nfunction getExpressionLanguage(literalExpression) {\r\n  return (literalExpression && literalExpression.expressionLanguage)\r\n    ? literalExpression.expressionLanguage.toLowerCase()\r\n    : undefined;\r\n}","import LiteralExpressionPropertiesEditorComponent\r\n  from './components/LiteralExpressionPropertiesEditorComponent';\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nexport default class LiteralExpressionPropertiesEditor {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', LOW_PRIORITY, () => {\r\n      return LiteralExpressionPropertiesEditorComponent;\r\n    });\r\n  }\r\n}\r\n\r\nLiteralExpressionPropertiesEditor.$inject = [ 'components' ];","import LiteralExpressionPropertiesEditor from './LiteralExpressionPropertiesEditor';\r\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\r\nimport Keyboard from '../keyboard';\r\n\r\nexport default {\r\n  __depends__: [ DebounceInput, Keyboard ],\r\n  __init__: [ 'literalExpressionProperties' ],\r\n  literalExpressionProperties: [ 'type', LiteralExpressionPropertiesEditor ]\r\n};","import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\n\r\nexport default class TextareaEditorComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._modeling = context.injector.get('modeling');\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n\r\n    this.editLiteralExpressionText = this.editLiteralExpressionText.bind(this);\r\n    this.onElementsChanged = this.onElementsChanged.bind(this);\r\n\r\n    // there is only one single element\r\n    const { id } = this.getLiteralExpression();\r\n\r\n    context.changeSupport.onElementsChanged(id, this.onElementsChanged);\r\n  }\r\n\r\n  getLiteralExpression() {\r\n    return this._viewer.getDecision().decisionLogic;\r\n  }\r\n\r\n  onElementsChanged() {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  editLiteralExpressionText(text) {\r\n    this._modeling.editLiteralExpressionText(text);\r\n  }\r\n\r\n  render() {\r\n\r\n    // there is only one single element\r\n    const { text } = this.getLiteralExpression();\r\n\r\n    return (\r\n      <Editor\r\n        className=\"textarea editor\"\r\n        value={ text }\r\n        onChange={ this.editLiteralExpressionText } />\r\n    );\r\n  }\r\n}\r\n\r\nclass Editor extends EditableComponent {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className={ this.getClassName() }>\r\n        { this.getEditor() }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import TextareaEditorComponent from './components/TextareaEditorComponent';\r\n\r\nexport default class Textarea {\r\n  constructor(components) {\r\n    components.onGetComponent('viewer', () => TextareaEditorComponent);\r\n  }\r\n}\r\n\r\nTextarea.$inject = [ 'components' ];","import TextareaEditor from './TextareaEditor';\r\nimport DebounceInput from 'dmn-js-shared/lib/features/debounce-input';\r\n\r\nexport default {\r\n  __depends__: [ DebounceInput ],\r\n  __init__: [ 'textarea' ],\r\n  textarea: [ 'type', TextareaEditor ]\r\n};","import { store } from \"../redux/store\";\nimport { createZoomInAction, createZoomOutAction, createZoomToFitAction } from \"../redux/editoractions\";\n\nexport function zoomIn() {\n    store.dispatch(createZoomInAction());\n}\n\nexport function zoomOut() {\n    store.dispatch(createZoomOutAction());\n}\n\nexport function zoomToFit() {\n    store.dispatch(createZoomToFitAction());\n}\n","import DMNModeler from 'dmn-js/lib/Modeler';\nimport { zoomToFit, zoomIn, zoomOut } from '../api/service';\nimport { saveDocument } from '../api/googleservice';\n\nlet dmnEditor = new DMNModeler({ container: '#editor', position: 'absolute' });\n\nexport function initEditorAction() {\n    document.getElementById('bt_fit_to_viewport').addEventListener('click',zoomToFit);\n    document.getElementById('bt_zoom_in').addEventListener('click', zoomIn);\n    document.getElementById('bt_zoom_out').addEventListener('click', zoomOut);\n    document.getElementById('bt_save').addEventListener('click', editorSave);\n}\n\nexport function showDocument(xml) {\n\n    dmnEditor.importXML(xml, function (err) {\n\n        if (err) {\n            console.log('error rendering', err);\n        } else {\n            console.log('rendered');\n        }\n    });\n}\n\nexport function editorZoomIn() {\n    console.log(dmnEditor);\n    dmnEditor.zoomScroll.stepZoom(1);\n}\n\nexport function editorZoomOut() {\n    dmnEditor.get('zoomScroll').stepZoom(-1);    \n}\n\nexport function editorZoomToFit() {\n    dmnEditor.get('canvas').zoom('fit-viewport', 'auto');\n}\n\nfunction editorSave() {\n    dmnEditor.saveXML({ format: true }, function (err, xml) {\n        saveDocument(xml);\n    });\n}","\nexport function showErrorMessage(message) {\n  var notification = document.querySelector('.mdl-js-snackbar');\n  notification.MaterialSnackbar.showSnackbar(\n    {\n      message: message,\n      timeout: 10000\n    }\n  );\n}\n\nexport function showInfoMessage(message) {\n  var notification = document.querySelector('.mdl-js-snackbar');\n  notification.MaterialSnackbar.showSnackbar(\n    {\n      message: message,\n      timeout: 1500\n    }\n  );\n}\n","import MarterialDesign from 'material-design-lite';\nimport { initGoogle, login, loadGoogleDocument } from './api/googleservice';\nimport { showUserImage } from './ui/userimage';\nimport { setDocumentInfo } from './ui/fileinfo';\nimport { hideSplash } from './ui/splash';\nimport { store } from './redux/store';\nimport { GOOGLE_INIT_SUCCESS, GOOGLE_LOGIN_SUCCESS, GOOGLE_LOADDOCUMENT_SUCCESS, GOOGLE_FILEINFO_SUCCESS, GOOGLE_SAVEDOCUMENT_SUCCESS } from './redux/googleaction';\nimport { showDocument, editorZoomIn, editorZoomOut, editorZoomToFit, initEditorAction } from './ui/dmn';\nimport { ZOOM_IN, ZOOM_OUT, ZOOM_TO_FIT } from './redux/editoractions';\nimport { showInfoMessage } from './ui/notification';\n\n\nlet options = {\n    \"clientId\": \"157875625953-8r93qu5o4fl2tfjs8viefhcqrcbv76d6.apps.googleusercontent.com\",\n    \"scope\": [\n        \"profile\",\n        \"https://www.googleapis.com/auth/drive.file\",\n        \"https://www.googleapis.com/auth/drive.install\"\n    ]\n};\n\nlet processFlowListener = () => {\n    let state = store.getState();\n    let actionType = state.get('actionType');\n    if (actionType === GOOGLE_INIT_SUCCESS) {\n      login();\n    }\n    else if (actionType === GOOGLE_LOGIN_SUCCESS) {\n      showUserImage();\n      if (window.location.search) {\n        hideSplash();\n        let searchString = window.location.search;\n        if (searchString.startsWith(\"?id=\")) {\n          loadGoogleDocument(searchString.substr(4));\n        }\n        else {\n          let stateURL = JSON.parse(decodeURI(searchString.substr(7)));\n          if (stateURL.action === \"open\") {\n            loadGoogleDocument(stateURL.ids[0]);\n          }\n          else if (stateURL.action === 'create') {\n            //createNewPasswordDB(\"New Password DB\", stateURL.folderId);\n            \n          }\n        }\n      }\n    }\n    else if (actionType === GOOGLE_LOADDOCUMENT_SUCCESS) {\n      history.pushState(\"{}\", \"Load document\", location.origin + \"/?id=\" + state.get(\"googleDocument\").get(\"id\"));\n      showDocument(state.get('googleDocument').get('text'));\n    }\n    else if (actionType === GOOGLE_FILEINFO_SUCCESS) {\n      setDocumentInfo(state.get('googleDocument').get('fileinfo').name);\n    }\n    else if (actionType === ZOOM_IN) {\n      editorZoomIn();\n    }\n    else if (actionType === ZOOM_OUT) {\n      editorZoomOut();\n    }\n    else if (actionType === ZOOM_TO_FIT) {\n      editorZoomToFit();\n    }\n  };\n  store.subscribe(processFlowListener);\n\n  let notificationListener = () => {\n    let state = store.getState();\n    let actionType = state.get('actionType');\n    if (actionType === GOOGLE_INIT_SUCCESS) {\n      showInfoMessage(\"Google API loaded\")\n    }\n    else if (actionType === GOOGLE_LOGIN_SUCCESS) {\n      showInfoMessage(\"Google login succeded\");\n    }\n    else if (actionType === GOOGLE_LOADDOCUMENT_SUCCESS) {\n      showInfoMessage('Document loaded');\n    }\n    else if (actionType === GOOGLE_SAVEDOCUMENT_SUCCESS) {\n      showInfoMessage('Document saved');      \n    }\n\n  };\n  store.subscribe(notificationListener);\n  \n  initEditorAction();\n  initGoogle(options);\n  \n\n"]}